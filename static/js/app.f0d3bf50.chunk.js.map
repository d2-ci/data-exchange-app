{"version":3,"file":"static/js/app.f0d3bf50.chunk.js","mappings":"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","sources":["D2App/app-context/app-context.js","D2App/shared/loader/loader.js","webpack://@dhis2/app-shell/./src/D2App/shared/warning/warning.module.css?ce03","D2App/shared/warning/warning.js","D2App/app-context/app-provider.js","D2App/app-context/use-app-context.js","D2App/exchange-context/exchange-context.js","D2App/use-context-selection/use-context-selections.js","webpack://@dhis2/app-shell/./src/D2App/exchange-context/exchange-provider.module.css?38a0","D2App/exchange-context/exchange-provider.js","D2App/exchange-context/use-exchange-context.js","webpack://@dhis2/app-shell/./src/D2App/shared/button-with-tooltip/button-with-tooltip.module.css?bb0c","D2App/shared/button-with-tooltip/button-with-tooltip.js","D2App/bottom-bar/bottom-bar.js","webpack://@dhis2/app-shell/./src/D2App/data-workspace/entry-screen.module.css?3f47","D2App/data-workspace/entry-screen.js","webpack://@dhis2/app-shell/./src/D2App/data-workspace/table/table.module.css?ac86","D2App/data-workspace/table/table.js","webpack://@dhis2/app-shell/./src/D2App/data-workspace/requests-display/requests-display.module.css?7d28","D2App/data-workspace/requests-display/requests-display.js","D2App/data-workspace/requests-navigation/requests-navigation.js","webpack://@dhis2/app-shell/./src/D2App/data-workspace/title-bar/title-bar.module.css?9e78","D2App/data-workspace/title-bar/title-bar.js","D2App/data-workspace/data-workspace.js","webpack://@dhis2/app-shell/./src/D2App/submit-modal/submit-modal.module.css?0c09","webpack://@dhis2/app-shell/./src/D2App/submit-modal/success-content.module.css?886d","D2App/submit-modal/success-content.js","D2App/submit-modal/use-aggregate-data-exchange-mutation.js","D2App/submit-modal/submit-modal.js","webpack://@dhis2/app-shell/./src/D2App/top-bar/menu-select/menu-select.module.css?cffc","D2App/top-bar/menu-select/menu-select.js","D2App/top-bar/exchange-select/exchange-select.js","D2App/top-bar/top-bar.js","webpack://@dhis2/app-shell/./src/D2App/app/layout.module.css?8396","D2App/app/layout.js","D2App/app/app.js","D2App/locales/index.js","D2App/app/index.js"],"sourcesContent":["import { createContext } from 'react';\nconst AppContext = /*#__PURE__*/createContext({\n  aggregateDataExchanges: []\n});\nexport { AppContext };","import { CenteredContent, CircularLoader } from '@dhis2/ui';\nimport React from 'react';\n\nconst Loader = () => /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(CircularLoader, null));\n\nexport { Loader };","// extracted by mini-css-extract-plugin\nexport default {\"warningBoxWrapper\":\"warning_warningBoxWrapper__y0sSL\"};","import { NoticeBox } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './warning.module.css';\n\nconst Warning = _ref => {\n  let {\n    error,\n    title,\n    children\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.warningBoxWrapper\n  }, /*#__PURE__*/React.createElement(NoticeBox, {\n    error: error,\n    title: title\n  }, children));\n};\n\nWarning.propTypes = {\n  children: PropTypes.node,\n  error: PropTypes.bool,\n  title: PropTypes.string\n};\nexport { Warning };","import { useDataQuery } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Loader, Warning } from '../shared/index.js';\nimport { AppContext } from './app-context.js';\nconst query = {\n  aggregateDataExchanges: {\n    // This is generic enpoint but will only return\n    // exchanges a user is allowed to see\n    resource: 'aggregateDataExchanges',\n    params: {\n      paging: false,\n      fields: ['id', 'displayName']\n    }\n  }\n};\n\nconst AppProvider = _ref => {\n  let {\n    children\n  } = _ref;\n  const {\n    data,\n    loading,\n    error\n  } = useDataQuery(query);\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(Loader, null);\n  }\n\n  if (error) {\n    /**\n     * general error boundary\n     */\n    return /*#__PURE__*/React.createElement(Warning, {\n      error: true,\n      title: i18n.t('Aggregate data exchange information is not accessible')\n    }, /*#__PURE__*/React.createElement(\"span\", null, i18n.t('There was a problem retrieving aggregate data exchanges. Refresh the page to try again.')));\n  }\n\n  const {\n    aggregateDataExchanges\n  } = data.aggregateDataExchanges;\n  const providerValue = {\n    aggregateDataExchanges\n  };\n  return /*#__PURE__*/React.createElement(AppContext.Provider, {\n    value: providerValue\n  }, children);\n};\n\nAppProvider.propTypes = {\n  children: PropTypes.node.isRequired\n};\nexport { AppProvider };","import { useContext } from 'react';\nimport { AppContext } from './app-context.js';\nexport const useAppContext = () => useContext(AppContext);","import { createContext } from 'react';\nconst ExchangeContext = /*#__PURE__*/createContext({\n  exchange: {},\n  exchangeData: {},\n  refetch: () => {\n    console.log('exchange context not initialized');\n  }\n});\nexport { ExchangeContext };","import { useCallback } from 'react';\nimport { StringParam, NumberParam, useQueryParams, useQueryParam } from 'use-query-params';\nexport const PARAMS_SCHEMA = {\n  exchangeId: StringParam,\n  requestIndex: NumberParam\n};\nexport const useExchangeId = () => {\n  return useQueryParam('exchangeId', PARAMS_SCHEMA.exchangeId);\n};\nexport const useRequestIndex = () => {\n  return useQueryParam('requestIndex', PARAMS_SCHEMA.requestIndex);\n};\nexport const useContextSelection = () => {\n  return useQueryParams(PARAMS_SCHEMA);\n};\nexport const useClearEntireSelection = () => {\n  const [, setSelectionContext] = useContextSelection();\n  return useCallback(() => {\n    setSelectionContext({\n      exchangeId: undefined,\n      requestIndex: undefined\n    });\n  }, [setSelectionContext]);\n};","// extracted by mini-css-extract-plugin\nexport default {\"errorWrapperText\":\"exchange-provider_errorWrapperText__8L8X7\",\"errorMessage\":\"exchange-provider_errorMessage__mH3up\"};","import { useDataQuery } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { Button } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useCallback, useEffect } from 'react';\nimport { Loader, Warning } from '../shared/index.js';\nimport { useExchangeId, useRequestIndex } from '../use-context-selection/index.js';\nimport { ExchangeContext } from './exchange-context.js';\nimport styles from './exchange-provider.module.css';\nconst query = {\n  exchange: {\n    resource: 'aggregateDataExchanges',\n    id: _ref => {\n      let {\n        id\n      } = _ref;\n      return id;\n    },\n    params: {\n      paging: false,\n      fields: ['source, target', 'id', 'displayName']\n    }\n  },\n  exchangeData: {\n    resource: 'aggregateDataExchanges',\n    id: _ref2 => {\n      let {\n        id\n      } = _ref2;\n      return `${id}/sourceData`;\n    },\n    params: {\n      paging: false\n    }\n  }\n};\n\nconst ExchangeProvider = _ref3 => {\n  let {\n    children\n  } = _ref3;\n  const {\n    loading,\n    error,\n    data,\n    called,\n    refetch\n  } = useDataQuery(query, {\n    lazy: true\n  });\n  const [exchangeId] = useExchangeId();\n  const [, setRequestIndex] = useRequestIndex();\n  const fetchExchange = useCallback(() => refetch({\n    id: exchangeId\n  }), [refetch, exchangeId]);\n  useEffect(() => {\n    setRequestIndex(0);\n\n    if (exchangeId) {\n      fetchExchange();\n    }\n  }, [exchangeId, fetchExchange, setRequestIndex]);\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(Loader, null);\n  }\n\n  if (error) {\n    /**\n     * error boundary\n     */\n    return /*#__PURE__*/React.createElement(Warning, {\n      error: true,\n      title: i18n.t('Exchange content not accessible')\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: styles.errorWrapperText\n    }, i18n.t('It was not possible to retrieve data for the requested exchange. This may be due to either a connection error or a configuration issue. The message below provides additional detail.')), /*#__PURE__*/React.createElement(\"span\", {\n      className: styles.errorMessage\n    }, (error === null || error === void 0 ? void 0 : error.message) || ''), /*#__PURE__*/React.createElement(Button, {\n      onClick: fetchExchange\n    }, i18n.t('Try again')));\n  }\n\n  const {\n    exchange,\n    exchangeData\n  } = data || {};\n  const providerValue = {\n    exchange: called ? exchange : null,\n    exchangeData: called ? exchangeData : null\n  };\n  return /*#__PURE__*/React.createElement(ExchangeContext.Provider, {\n    value: providerValue\n  }, children);\n};\n\nExchangeProvider.propTypes = {\n  children: PropTypes.node.isRequired\n};\nexport { ExchangeProvider };","import { useContext } from 'react';\nimport { ExchangeContext } from './exchange-context.js';\nexport const useExchangeContext = () => useContext(ExchangeContext);","// extracted by mini-css-extract-plugin\nexport default {\"tooltipReference\":\"button-with-tooltip_tooltipReference__gHGkH\"};","import { Button, Tooltip } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './button-with-tooltip.module.css';\nexport const ButtonWithTooltip = _ref => {\n  let {\n    buttonText,\n    tooltipContent\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": \"bottom-bar\"\n  }, /*#__PURE__*/React.createElement(Tooltip, {\n    content: tooltipContent\n  }, _ref2 => {\n    let {\n      ref,\n      onMouseOver,\n      onMouseOut\n    } = _ref2;\n    return /*#__PURE__*/React.createElement(\"span\", {\n      className: styles.tooltipReference,\n      ref: ref,\n      onMouseOver: onMouseOver,\n      onMouseOut: onMouseOut\n    }, /*#__PURE__*/React.createElement(Button, {\n      primary: true,\n      disabled: true\n    }, buttonText));\n  }));\n};\nButtonWithTooltip.propTypes = {\n  buttonText: PropTypes.string,\n  tooltipContent: PropTypes.string\n};","import i18n from '@dhis2/d2-i18n';\nimport { Button } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { useExchangeContext } from '../exchange-context/index.js';\nimport { ButtonWithTooltip } from '../shared/button-with-tooltip/index.js';\nimport { useExchangeId } from '../use-context-selection/index.js';\n\nconst BottomBar = _ref => {\n  let {\n    openSubmitModal,\n    dataSubmitted\n  } = _ref;\n  const [exchangeId] = useExchangeId();\n  const {\n    exchangeData\n  } = useExchangeContext();\n  const dataCount = exchangeData === null || exchangeData === void 0 ? void 0 : exchangeData.reduce((totalLength, request) => {\n    var _request$rows;\n\n    return ((request === null || request === void 0 ? void 0 : (_request$rows = request.rows) === null || _request$rows === void 0 ? void 0 : _request$rows.length) || 0) + totalLength;\n  }, 0);\n  const submitButtonText = i18n.t('Submit data');\n\n  if (!exchangeId || !exchangeData) {\n    return null;\n  }\n\n  if (dataCount === 0 || dataSubmitted) {\n    const tooltipContent = dataSubmitted ? i18n.t('Data has already been submitted') : i18n.t('There is no data to submit');\n    return /*#__PURE__*/React.createElement(ButtonWithTooltip, {\n      buttonText: submitButtonText,\n      tooltipContent: tooltipContent\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": \"bottom-bar\"\n  }, /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    onClick: openSubmitModal\n  }, submitButtonText));\n};\n\nBottomBar.propTypes = {\n  dataSubmitted: PropTypes.bool,\n  openSubmitModal: PropTypes.func\n};\nexport { BottomBar };","// extracted by mini-css-extract-plugin\nexport default {\"wrapperDiv\":\"entry-screen_wrapperDiv__Tco-+\",\"innerDiv\":\"entry-screen_innerDiv__ODtk4\",\"svgWrapper\":\"entry-screen_svgWrapper__Koaxt\",\"headingText\":\"entry-screen_headingText__kKzBv\",\"instructionsText\":\"entry-screen_instructionsText__DgcTC\",\"linkText\":\"entry-screen_linkText__T5Rps\"};","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport styles from './entry-screen.module.css';\n\nconst EmptyStateIcon = () => /*#__PURE__*/React.createElement(\"svg\", {\n  width: \"64\",\n  height: \"64\",\n  viewBox: \"0 0 64 64\",\n  fill: \"none\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  clipPath: \"url(#clip0_229_2099)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 20L22.3923 26V38L12 44L1.6077 38V26L12 20Z\",\n  fill: \"#FBFCFD\",\n  stroke: \"#404B5A\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M11.0001 31.4338V20H13.0001V31.4338L22.5146 37.1425L21.4856 38.8575L12.0001 33.1662L2.51459 38.8575L1.4856 37.1425L11.0001 31.4338Z\",\n  fill: \"#404B5A\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M52 20L62.3923 26V38L52 44L41.6077 38V26L52 20Z\",\n  fill: \"#FBFCFD\",\n  stroke: \"#404B5A\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M51.0001 31.4338V20H53.0001V31.4338L62.5146 37.1425L61.4856 38.8575L52.0001 33.1662L42.5146 38.8575L41.4856 37.1425L51.0001 31.4338Z\",\n  fill: \"#404B5A\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M24 44H34\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M29 49L34 44L29 39\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M22 44H20\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M40 44H37\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M44 44H42\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M30 20L40 20\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M35 25L40 20L35 15\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M28 20H24\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M45 20H43\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M34 32H38\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M29 32H32\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M25 32H27\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10 56L21 56\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M4 56L8 56\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M16 61L21 56L16 51\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M26 56L32 56\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M35 56L38 56\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M40 56L42 56\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M21 8L31 8\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M13 8L17 8\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8 8L10 8\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M26 13L31 8L26 3\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6 8L3 8\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M37 8L35 8\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M41 8L39 8\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n})), /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"clipPath\", {\n  id: \"clip0_229_2099\"\n}, /*#__PURE__*/React.createElement(\"rect\", {\n  width: \"64\",\n  height: \"64\",\n  fill: \"white\"\n}))));\n\nconst documentationLink = 'https://docs.dhis2.org/en/develop/using-the-api/dhis-core-version-master/data-exchange.html#data-exchange';\nexport const EntryScreen = () => /*#__PURE__*/React.createElement(\"div\", {\n  className: styles.wrapperDiv\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: styles.innerDiv\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: styles.svgWrapper\n}, /*#__PURE__*/React.createElement(EmptyStateIcon, null)), /*#__PURE__*/React.createElement(\"span\", {\n  className: styles.headingText\n}, i18n.t('Choose a data exchange to get started')), /*#__PURE__*/React.createElement(\"span\", {\n  className: styles.instructionsText\n}, i18n.t('Review your data before submitting it to a data exchange.')), /*#__PURE__*/React.createElement(\"span\", {\n  className: styles.instructionsText\n}, i18n.t('Choose a data exchange from the top menu.')), /*#__PURE__*/React.createElement(\"a\", {\n  className: styles.linkText,\n  target: \"_blank\",\n  rel: \"noreferrer noopener\",\n  href: documentationLink\n}, i18n.t('Learn more about data exchange'))));","// extracted by mini-css-extract-plugin\nexport default {\"titleCell\":\"table_titleCell__mE+vV\",\"labelCellContent\":\"table_labelCellContent__nkDcC\",\"dataTable\":\"table_dataTable__bVn-U\"};","import { DataTable, TableHead, DataTableRow, DataTableColumnHeader, TableBody, DataTableCell } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './table.module.css'; // Needs to have the same width as the table, so can't use the one from\n// @dhis2/ui\n\nconst DataTableToolbar = _ref => {\n  let {\n    children,\n    columns\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"tr\", null, /*#__PURE__*/React.createElement(\"th\", {\n    className: styles.titleCell,\n    colSpan: columns.toString()\n  }, children));\n};\n\nDataTableToolbar.propTypes = {\n  children: PropTypes.any.isRequired,\n  columns: PropTypes.number.isRequired\n};\n\nconst Table = _ref2 => {\n  let {\n    title,\n    columns,\n    rows\n  } = _ref2;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(DataTable, {\n    className: styles.dataTable,\n    width: \"auto\"\n  }, /*#__PURE__*/React.createElement(TableHead, null, /*#__PURE__*/React.createElement(DataTableToolbar, {\n    columns: columns.length\n  }, title), /*#__PURE__*/React.createElement(DataTableRow, null, /*#__PURE__*/React.createElement(DataTableColumnHeader, {\n    fixed: true,\n    left: \"0\",\n    top: \"0\",\n    className: styles.cell\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.labelCellContent\n  }, columns[0])), columns.slice(1).map(column => {\n    return /*#__PURE__*/React.createElement(DataTableColumnHeader, {\n      key: column,\n      className: styles.cell\n    }, column);\n  }))), /*#__PURE__*/React.createElement(TableBody, null, rows.map((row, index) => {\n    const [firstCell, ...cells] = row;\n    return /*#__PURE__*/React.createElement(DataTableRow, {\n      key: index\n    }, /*#__PURE__*/React.createElement(DataTableCell, {\n      fixed: true,\n      left: \"0\",\n      className: styles.cell\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: styles.labelCellContent\n    }, firstCell)), cells.map((value, index) => /*#__PURE__*/React.createElement(DataTableCell, {\n      key: index,\n      className: styles.cell\n    }, value)));\n  }))));\n};\n\nTable.propTypes = {\n  columns: PropTypes.array.isRequired,\n  rows: PropTypes.array.isRequired,\n  title: PropTypes.string.isRequired\n};\nexport { Table };","// extracted by mini-css-extract-plugin\nexport default {\"display\":\"requests-display_display__QQH4w\",\"visualizationButton\":\"requests-display_visualizationButton__PCw2B\",\"linkNoDecoration\":\"requests-display_linkNoDecoration__mvZxw\"};","import { useConfig } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { Button, IconLaunch16 } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { useExchangeContext } from '../../exchange-context/index.js';\nimport { Warning } from '../../shared/index.js';\nimport { Table } from '../table/index.js';\nimport styles from './requests-display.module.css';\nexport const ensureNestedObjectExists = (obj, propertyNames) => {\n  for (const propertyName of propertyNames) {\n    obj[propertyName] = obj[propertyName] || {};\n    obj = obj[propertyName];\n  }\n};\nexport const convertToObjectFormat = _ref => {\n  let {\n    data,\n    dx_index,\n    ou_index,\n    pe_index,\n    value_index\n  } = _ref;\n  const objectFormat = {};\n\n  if (Array.isArray(data === null || data === void 0 ? void 0 : data.rows)) {\n    for (const row of data === null || data === void 0 ? void 0 : data.rows) {\n      const ouId = row[ou_index];\n      const deId = row[dx_index];\n      const peId = row[pe_index];\n      const value = row[value_index];\n      ensureNestedObjectExists(objectFormat, [ouId, deId, peId]);\n      objectFormat[ouId][deId][peId] = value;\n    }\n  }\n\n  return objectFormat;\n};\nexport const formatData = data => {\n  var _data$metaData, _data$metaData2, _data$metaData2$dimen, _data$metaData4, _data$metaData4$dimen, _data$metaData6, _data$metaData6$dimen;\n\n  const constantDimensions = ['dx', 'pe', 'ou', 'co'];\n  const dx_index = data === null || data === void 0 ? void 0 : data.headers.findIndex(header => header.name === 'dx');\n  const ou_index = data === null || data === void 0 ? void 0 : data.headers.findIndex(header => header.name === 'ou');\n  const pe_index = data === null || data === void 0 ? void 0 : data.headers.findIndex(header => header.name === 'pe');\n  const value_index = data === null || data === void 0 ? void 0 : data.headers.findIndex(header => header.name === 'value');\n  const filters = Object.keys(data === null || data === void 0 ? void 0 : (_data$metaData = data.metaData) === null || _data$metaData === void 0 ? void 0 : _data$metaData.dimensions).filter(key => !constantDimensions.includes(key));\n  const objectFormatData = convertToObjectFormat({\n    data,\n    dx_index,\n    ou_index,\n    pe_index,\n    value_index\n  });\n  const orgUnits = (_data$metaData2 = data.metaData) === null || _data$metaData2 === void 0 ? void 0 : (_data$metaData2$dimen = _data$metaData2.dimensions) === null || _data$metaData2$dimen === void 0 ? void 0 : _data$metaData2$dimen.ou.map(orgUnit => {\n    var _data$metaData3, _data$metaData3$items;\n\n    return {\n      id: orgUnit,\n      name: (_data$metaData3 = data.metaData) === null || _data$metaData3 === void 0 ? void 0 : (_data$metaData3$items = _data$metaData3.items[orgUnit]) === null || _data$metaData3$items === void 0 ? void 0 : _data$metaData3$items.name\n    };\n  });\n  orgUnits.sort((a, b) => a.name.localeCompare(b.name));\n  const dataElements = (_data$metaData4 = data.metaData) === null || _data$metaData4 === void 0 ? void 0 : (_data$metaData4$dimen = _data$metaData4.dimensions) === null || _data$metaData4$dimen === void 0 ? void 0 : _data$metaData4$dimen.dx.map(dataElement => {\n    var _data$metaData5, _data$metaData5$items;\n\n    return {\n      id: dataElement,\n      name: (_data$metaData5 = data.metaData) === null || _data$metaData5 === void 0 ? void 0 : (_data$metaData5$items = _data$metaData5.items[dataElement]) === null || _data$metaData5$items === void 0 ? void 0 : _data$metaData5$items.name\n    };\n  });\n  dataElements.sort((a, b) => a.name.localeCompare(b.name)); // TBD: natural sort? Is this necessary or is it sorted by backend?\n\n  let periods = (_data$metaData6 = data.metaData) === null || _data$metaData6 === void 0 ? void 0 : (_data$metaData6$dimen = _data$metaData6.dimensions) === null || _data$metaData6$dimen === void 0 ? void 0 : _data$metaData6$dimen.pe.map(period => {\n    var _data$metaData7, _data$metaData7$items;\n\n    return {\n      id: period,\n      name: (_data$metaData7 = data.metaData) === null || _data$metaData7 === void 0 ? void 0 : (_data$metaData7$items = _data$metaData7.items[period]) === null || _data$metaData7$items === void 0 ? void 0 : _data$metaData7$items.name\n    };\n  });\n  periods = periods.sort((a, b) => a.id.localeCompare(b.id, 'en', {\n    numeric: true\n  }));\n  const tableFormat = [];\n\n  for (const orgUnit of orgUnits) {\n    const table = {};\n    table.title = (filters === null || filters === void 0 ? void 0 : filters.length) > 0 ? `${orgUnit.name} - ${filters.map(filter => {\n      var _data$metaData8, _data$metaData8$items, _data$metaData8$items2;\n\n      return data === null || data === void 0 ? void 0 : (_data$metaData8 = data.metaData) === null || _data$metaData8 === void 0 ? void 0 : (_data$metaData8$items = _data$metaData8.items) === null || _data$metaData8$items === void 0 ? void 0 : (_data$metaData8$items2 = _data$metaData8$items[filter]) === null || _data$metaData8$items2 === void 0 ? void 0 : _data$metaData8$items2.name;\n    }).join(',')}` : orgUnit.name;\n    table.headers = [{\n      name: i18n.t('Data')\n    }, ...periods.map(_ref2 => {\n      let {\n        name\n      } = _ref2;\n      return {\n        name\n      };\n    })];\n    const rows = [];\n\n    for (const dataElement of dataElements) {\n      const rowData = periods.map(period => {\n        var _objectFormatData$org, _objectFormatData$org2;\n\n        return (objectFormatData === null || objectFormatData === void 0 ? void 0 : (_objectFormatData$org = objectFormatData[orgUnit.id]) === null || _objectFormatData$org === void 0 ? void 0 : (_objectFormatData$org2 = _objectFormatData$org[dataElement.id]) === null || _objectFormatData$org2 === void 0 ? void 0 : _objectFormatData$org2[period.id]) || '';\n      });\n      rows.push([dataElement.name, ...rowData]);\n    }\n\n    table.rows = rows;\n    tableFormat.push(table);\n  }\n\n  return tableFormat;\n};\n\nconst RequestsDisplay = _ref3 => {\n  var _exchange$source, _exchange$source$requ, _exchangeData$rows;\n\n  let {\n    requestIndex\n  } = _ref3;\n  const {\n    exchange,\n    exchangeData\n  } = useExchangeContext();\n  const request = (_exchange$source = exchange.source) === null || _exchange$source === void 0 ? void 0 : (_exchange$source$requ = _exchange$source.requests) === null || _exchange$source$requ === void 0 ? void 0 : _exchange$source$requ[requestIndex];\n  const formattedData = formatData(exchangeData === null || exchangeData === void 0 ? void 0 : exchangeData[requestIndex]);\n  const {\n    baseUrl\n  } = useConfig();\n\n  if ((exchangeData === null || exchangeData === void 0 ? void 0 : (_exchangeData$rows = exchangeData.rows) === null || _exchangeData$rows === void 0 ? void 0 : _exchangeData$rows.length) === 0) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.display\n    }, /*#__PURE__*/React.createElement(Warning, {\n      title: i18n.t('No data')\n    }, /*#__PURE__*/React.createElement(\"span\", null, i18n.t('There is no data for this report'))));\n  }\n\n  if (exchangeData) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.display\n    }, (request === null || request === void 0 ? void 0 : request.visualization) && /*#__PURE__*/React.createElement(\"a\", {\n      target: \"_blank\",\n      rel: \"noreferrer noopener\",\n      href: `${baseUrl}/dhis-web-data-visualizer/#/${request.visualization}`,\n      className: styles.linkNoDecoration\n    }, /*#__PURE__*/React.createElement(Button, {\n      icon: /*#__PURE__*/React.createElement(IconLaunch16, null),\n      className: styles.visualizationButton,\n      secondary: true,\n      small: true\n    }, i18n.t('Open in data visualizer'))), formattedData.map(table => /*#__PURE__*/React.createElement(Table, {\n      key: table.title,\n      title: table.title,\n      columns: table.headers.map(h => h.name),\n      rows: table.rows\n    })));\n  } // if exchangeData is missing, return null\n\n\n  return null;\n};\n\nRequestsDisplay.propTypes = {\n  requestIndex: PropTypes.number\n};\nexport { RequestsDisplay };","import { TabBar, Tab } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nconst RequestsNavigation = _ref => {\n  let {\n    requests,\n    selected,\n    onChange\n  } = _ref;\n  return requests && (requests === null || requests === void 0 ? void 0 : requests.length) > 0 ? /*#__PURE__*/React.createElement(TabBar, {\n    scrollable: true\n  }, requests.map((request, index) => /*#__PURE__*/React.createElement(Tab, {\n    key: request.name,\n    onClick: () => onChange(index),\n    selected: index === selected\n  }, request.name))) : null;\n};\n\nRequestsNavigation.propTypes = {\n  onChange: PropTypes.func.isRequired,\n  requests: PropTypes.arrayOf(PropTypes.shape({\n    name: PropTypes.string\n  })),\n  selected: PropTypes.number\n};\nexport { RequestsNavigation };","// extracted by mini-css-extract-plugin\nexport default {\"titleBar\":\"title-bar_titleBar__6Sk58\",\"workflowName\":\"title-bar_workflowName__mWwAj\",\"workflowDataSetsCount\":\"title-bar_workflowDataSetsCount__fy+TZ\",\"analyticsRunStamp\":\"title-bar_analyticsRunStamp__tAS+8\"};","import { useConfig } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { IconInfo16, IconDimensionDataSet16, Tooltip } from '@dhis2/ui';\nimport moment from 'moment';\nimport React from 'react';\nimport { useExchangeContext } from '../../exchange-context/index.js';\nimport styles from './title-bar.module.css';\n\nconst getRelativeTimeDifference = _ref => {\n  let {\n    startTimestamp,\n    endTimestamp\n  } = _ref;\n\n  if (!startTimestamp || !endTimestamp) {\n    return undefined;\n  }\n\n  const startTime = new Date(startTimestamp);\n  const endTime = new Date(endTimestamp);\n  return moment(startTime).fromNow(endTime);\n}; // this formats to the styling specified by DHIS2 design principles\n\n\nconst formatTimestamp = _ref2 => {\n  let {\n    timestamp,\n    timezone\n  } = _ref2;\n  return `${timestamp.substring(0, 10)} T ${timestamp.substring(11, 16)} ${timezone}`;\n};\n\nconst TitleBar = () => {\n  var _exchange$source, _exchange$source$requ;\n\n  const {\n    systemInfo\n  } = useConfig();\n  const {\n    lastAnalyticsTableSuccess,\n    serverDate,\n    serverTimeZoneId\n  } = systemInfo;\n  const {\n    exchange\n  } = useExchangeContext();\n  const requestsCount = (_exchange$source = exchange.source) === null || _exchange$source === void 0 ? void 0 : (_exchange$source$requ = _exchange$source.requests) === null || _exchange$source$requ === void 0 ? void 0 : _exchange$source$requ.length;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.titleBar\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.workflowName\n  }, exchange === null || exchange === void 0 ? void 0 : exchange.displayName), /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.workflowDataSetsCount\n  }, /*#__PURE__*/React.createElement(IconDimensionDataSet16, null), requestsCount === 1 && i18n.t('1 data report', {\n    requestsCount\n  }), requestsCount > 1 && i18n.t('{{requestsCount}} data reports', {\n    requestsCount\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.analyticsRunStamp\n  }, /*#__PURE__*/React.createElement(IconInfo16, null), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Tooltip, {\n    content: formatTimestamp({\n      timestamp: lastAnalyticsTableSuccess,\n      timezone: serverTimeZoneId\n    })\n  }, /*#__PURE__*/React.createElement(\"span\", null, i18n.t('Analytics tables last generated {{timeDifference}} ago', {\n    timeDifference: getRelativeTimeDifference({\n      startTimestamp: lastAnalyticsTableSuccess,\n      endTimestamp: serverDate\n    })\n  }))))));\n};\n\nexport { TitleBar };","import i18n from '@dhis2/d2-i18n';\nimport { CenteredContent } from '@dhis2/ui';\nimport React, { useEffect } from 'react';\nimport { useAppContext } from '../app-context/index.js';\nimport { useExchangeContext } from '../exchange-context/index.js';\nimport { Warning } from '../shared/index.js';\nimport { useExchangeId, useRequestIndex } from '../use-context-selection/index.js';\nimport { EntryScreen } from './entry-screen.js';\nimport { RequestsDisplay } from './requests-display/index.js';\nimport { RequestsNavigation } from './requests-navigation/index.js';\nimport { TitleBar } from './title-bar/title-bar.js';\n\nconst DataWorkspace = () => {\n  var _exchange$source;\n\n  const {\n    aggregateDataExchanges\n  } = useAppContext();\n  const {\n    exchange\n  } = useExchangeContext();\n  const [exchangeId] = useExchangeId(); // memoize for stable reference?\n\n  const requests = exchange === null || exchange === void 0 ? void 0 : (_exchange$source = exchange.source) === null || _exchange$source === void 0 ? void 0 : _exchange$source.requests.map(request => ({\n    name: request.name\n  }));\n  const [selectedRequest, setSelectedRequest] = useRequestIndex(undefined); // auto select the first report if none is specified\n\n  useEffect(() => {\n    if (!exchangeId || !requests) {\n      setSelectedRequest(undefined);\n    }\n\n    if (exchangeId && !selectedRequest && requests) {\n      setSelectedRequest(0);\n    }\n  }, [exchangeId, requests, selectedRequest, setSelectedRequest]);\n\n  if (aggregateDataExchanges.length === 0) {\n    return /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(\"span\", null, i18n.t('There are no exchanges available to you')));\n  }\n\n  if (exchange && exchangeId) {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(TitleBar, null), !requests && /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Warning, {\n      error: true,\n      title: i18n.t('No data in this exchange')\n    }, /*#__PURE__*/React.createElement(\"span\", null, i18n.t('There is not any data to show in this exchange, or you might not have access to the data.')))), !isNaN(selectedRequest) && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(RequestsNavigation, {\n      requests: requests,\n      selected: selectedRequest,\n      onChange: setSelectedRequest\n    }), /*#__PURE__*/React.createElement(RequestsDisplay, {\n      requestIndex: selectedRequest\n    })));\n  }\n\n  return /*#__PURE__*/React.createElement(EntryScreen, null);\n};\n\nexport { DataWorkspace };","// extracted by mini-css-extract-plugin\nexport default {\"submitModalSummaryWrapper\":\"submit-modal_submitModalSummaryWrapper__fDmVX\",\"loadingWrapper\":\"submit-modal_loadingWrapper__W+aUn\",\"contentStyling\":\"submit-modal_contentStyling__k5fm0\",\"errorWrapperText\":\"submit-modal_errorWrapperText__haaRb\",\"errorMessage\":\"submit-modal_errorMessage__4Na0k\"};","// extracted by mini-css-extract-plugin\nexport default {\"summaryBoxWrapper\":\"success-content_summaryBoxWrapper__ci5ni\",\"summaryBoxTitle\":\"success-content_summaryBoxTitle__CHBEU\",\"summaryBox\":\"success-content_summaryBox__DfiV9\",\"label\":\"success-content_label__Yi91M\",\"count\":\"success-content_count__xpqzw\",\"success\":\"success-content_success__TTgaz success-content_summaryBox__DfiV9\",\"deleted\":\"success-content_deleted__2pAlM success-content_summaryBox__DfiV9\",\"ignored\":\"success-content_ignored__DVb7P success-content_summaryBox__DfiV9\",\"copyButton\":\"success-content_copyButton__91b-i\"};","import i18n from '@dhis2/d2-i18n';\nimport { Button, DataTable, DataTableBody, DataTableCell, DataTableColumnHeader, DataTableHead, DataTableRow, IconCheckmarkCircle24, IconCopy16, Tag } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { useExchangeContext } from '../exchange-context/index.js';\nimport styles from './success-content.module.css';\nconst importTypeConfig = {\n  imported: {\n    style: 'success',\n    text: i18n.t('Imported')\n  },\n  updated: {\n    style: 'success',\n    text: i18n.t('Updated')\n  },\n  ignored: {\n    style: 'ignored',\n    text: i18n.t('Ignored')\n  }\n};\n\nconst SummaryBox = _ref => {\n  let {\n    importType,\n    importCount\n  } = _ref;\n  const {\n    text,\n    style: styleName\n  } = importTypeConfig[importType];\n  const boxStyle = styles[styleName];\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.summaryBox\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: boxStyle\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.count\n  }, importCount), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.label\n  }, /*#__PURE__*/React.createElement(\"span\", null, text.toLowerCase()))));\n};\n\nSummaryBox.propTypes = {\n  importCount: PropTypes.number,\n  importType: PropTypes.string\n};\n\nconst copyTableToClipboard = _ref2 => {\n  let {\n    importSummaries,\n    requests\n  } = _ref2;\n  const headerRowText = [i18n.t('Report'), i18n.t('Imported'), i18n.t('Updated'), i18n.t('Ignored')].join();\n  const clipboardText = importSummaries.reduce((fullText, importSummary, index) => {\n    var _requests$index$name, _requests$index, _requests$index2, _requests$index2$name, _importSummary$import, _importSummary$import2, _importSummary$import3;\n\n    let requestName = (_requests$index$name = requests === null || requests === void 0 ? void 0 : (_requests$index = requests[index]) === null || _requests$index === void 0 ? void 0 : _requests$index.name) !== null && _requests$index$name !== void 0 ? _requests$index$name : '';\n\n    if (requests !== null && requests !== void 0 && (_requests$index2 = requests[index]) !== null && _requests$index2 !== void 0 && (_requests$index2$name = _requests$index2.name) !== null && _requests$index2$name !== void 0 && _requests$index2$name.includes(',')) {\n      var _requests$index3;\n\n      requestName = `\"${requests === null || requests === void 0 ? void 0 : (_requests$index3 = requests[index]) === null || _requests$index3 === void 0 ? void 0 : _requests$index3.name}\"`;\n    }\n\n    return fullText + '\\n' + [requestName, importSummary === null || importSummary === void 0 ? void 0 : (_importSummary$import = importSummary.importCount) === null || _importSummary$import === void 0 ? void 0 : _importSummary$import.imported, importSummary === null || importSummary === void 0 ? void 0 : (_importSummary$import2 = importSummary.importCount) === null || _importSummary$import2 === void 0 ? void 0 : _importSummary$import2.updated, importSummary === null || importSummary === void 0 ? void 0 : (_importSummary$import3 = importSummary.importCount) === null || _importSummary$import3 === void 0 ? void 0 : _importSummary$import3.ignored].join();\n  }, headerRowText);\n  navigator.clipboard.writeText(clipboardText);\n};\n\nconst SummaryTable = _ref3 => {\n  let {\n    importSummaries\n  } = _ref3;\n  const {\n    exchange\n  } = useExchangeContext();\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": \"success-counts-table\"\n  }, /*#__PURE__*/React.createElement(DataTable, null, /*#__PURE__*/React.createElement(DataTableHead, null, /*#__PURE__*/React.createElement(DataTableRow, null, /*#__PURE__*/React.createElement(DataTableColumnHeader, null, i18n.t('Report')), /*#__PURE__*/React.createElement(DataTableColumnHeader, null, i18n.t('Imported')), /*#__PURE__*/React.createElement(DataTableColumnHeader, null, i18n.t('Updated')), /*#__PURE__*/React.createElement(DataTableColumnHeader, null, i18n.t('Ignored')))), /*#__PURE__*/React.createElement(DataTableBody, null, importSummaries.map((importSummary, index) => {\n    var _exchange$source, _exchange$source$requ, _exchange$source2, _exchange$source2$req, _importSummary$import4, _importSummary$import5, _importSummary$import6;\n\n    return /*#__PURE__*/React.createElement(DataTableRow, {\n      key: exchange === null || exchange === void 0 ? void 0 : (_exchange$source = exchange.source) === null || _exchange$source === void 0 ? void 0 : (_exchange$source$requ = _exchange$source.requests[index]) === null || _exchange$source$requ === void 0 ? void 0 : _exchange$source$requ.name\n    }, /*#__PURE__*/React.createElement(DataTableCell, null, exchange === null || exchange === void 0 ? void 0 : (_exchange$source2 = exchange.source) === null || _exchange$source2 === void 0 ? void 0 : (_exchange$source2$req = _exchange$source2.requests[index]) === null || _exchange$source2$req === void 0 ? void 0 : _exchange$source2$req.name), /*#__PURE__*/React.createElement(DataTableCell, null, importSummary === null || importSummary === void 0 ? void 0 : (_importSummary$import4 = importSummary.importCount) === null || _importSummary$import4 === void 0 ? void 0 : _importSummary$import4.imported), /*#__PURE__*/React.createElement(DataTableCell, null, importSummary === null || importSummary === void 0 ? void 0 : (_importSummary$import5 = importSummary.importCount) === null || _importSummary$import5 === void 0 ? void 0 : _importSummary$import5.updated), /*#__PURE__*/React.createElement(DataTableCell, null, importSummary === null || importSummary === void 0 ? void 0 : (_importSummary$import6 = importSummary.importCount) === null || _importSummary$import6 === void 0 ? void 0 : _importSummary$import6.ignored));\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.copyButton\n  }, /*#__PURE__*/React.createElement(Button, {\n    small: true,\n    icon: /*#__PURE__*/React.createElement(IconCopy16, null),\n    onClick: () => {\n      var _exchange$source3;\n\n      copyTableToClipboard({\n        importSummaries,\n        requests: exchange === null || exchange === void 0 ? void 0 : (_exchange$source3 = exchange.source) === null || _exchange$source3 === void 0 ? void 0 : _exchange$source3.requests\n      });\n    }\n  }, i18n.t('Copy summary to clipboard'))));\n};\n\nSummaryTable.propTypes = {\n  importSummaries: PropTypes.array\n};\n\nconst SuccessContent = _ref4 => {\n  let {\n    data\n  } = _ref4;\n  const summaryCounts = data === null || data === void 0 ? void 0 : data.importSummaries.reduce((totalCounts, importSummary) => {\n    for (const countType in importSummary === null || importSummary === void 0 ? void 0 : importSummary.importCount) {\n      var _importSummary$import7;\n\n      totalCounts[countType] += ((_importSummary$import7 = importSummary.importCount) === null || _importSummary$import7 === void 0 ? void 0 : _importSummary$import7[countType]) || 0;\n    }\n\n    return totalCounts;\n  }, {\n    imported: 0,\n    updated: 0,\n    ignored: 0,\n    deleted: 0\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Tag, {\n    positive: true,\n    icon: /*#__PURE__*/React.createElement(IconCheckmarkCircle24, null)\n  }, i18n.t('Data submitted successfully.')), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.summaryBoxTitle\n  }, i18n.t('Summary')), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.summaryBoxWrapper\n  }, /*#__PURE__*/React.createElement(SummaryBox, {\n    importType: \"imported\",\n    importCount: summaryCounts.imported\n  }), /*#__PURE__*/React.createElement(SummaryBox, {\n    importType: \"updated\",\n    importCount: summaryCounts.updated\n  }), /*#__PURE__*/React.createElement(SummaryBox, {\n    importType: \"ignored\",\n    importCount: summaryCounts.ignored\n  })), /*#__PURE__*/React.createElement(SummaryTable, {\n    importSummaries: data === null || data === void 0 ? void 0 : data.importSummaries\n  }));\n};\n\nSuccessContent.propTypes = {\n  data: PropTypes.object\n};\nexport { SuccessContent };","import { useDataEngine } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { useEffect, useReducer, useState } from 'react';\n\nconst getMutation = _ref => {\n  let {\n    id\n  } = _ref;\n  return {\n    resource: `aggregateDataExchanges/${id}/exchange`,\n    type: 'create'\n  };\n};\n\nconst uncalledState = {\n  data: null,\n  error: null,\n  loading: false,\n  called: false,\n  dataSubmitted: null\n};\n\nconst submitReducer = (state, action) => {\n  switch (action.type) {\n    case 'loading':\n      return { ...uncalledState,\n        loading: true\n      };\n\n    case 'success':\n      return {\n        data: action.payload,\n        error: null,\n        loading: false,\n        called: true,\n        dataSubmitted: true\n      };\n\n    case 'error':\n      return {\n        data: null,\n        error: action.payload,\n        loading: false,\n        called: false,\n        dataSubmitted: false\n      };\n\n    case 'reset':\n      return { ...uncalledState\n      };\n\n    default:\n      return { ...uncalledState,\n        called: true\n      };\n  }\n};\n\nexport const useAggregateDataExchangeMutation = _ref2 => {\n  let {\n    id\n  } = _ref2;\n  const engine = useDataEngine();\n  const [submissionState, dispatch] = useReducer(submitReducer, uncalledState);\n  const [fetch, setFetch] = useState(false);\n  useEffect(() => {\n    const fetchData = async _ref3 => {\n      let {\n        id\n      } = _ref3;\n\n      if (fetch) {\n        dispatch({\n          type: 'loading'\n        });\n\n        try {\n          const response = await engine.mutate(getMutation({\n            id\n          }));\n\n          if ((response === null || response === void 0 ? void 0 : response.status) === 'ERROR') {\n            var _response$importSumma;\n\n            const errorMessage = (response === null || response === void 0 ? void 0 : (_response$importSumma = response.importSummaries.find(_ref4 => {\n              let {\n                status\n              } = _ref4;\n              return status === 'ERROR';\n            })) === null || _response$importSumma === void 0 ? void 0 : _response$importSumma.description) || i18n.t('Unknown error');\n            throw new Error(errorMessage);\n          }\n\n          setFetch(false);\n          dispatch({\n            type: 'success',\n            payload: response\n          });\n        } catch (error) {\n          setFetch(false);\n          dispatch({\n            type: 'error',\n            payload: error\n          });\n        }\n      }\n    };\n\n    fetchData({\n      id\n    });\n  }, [id, fetch, engine]); // clean up if id changes\n\n  useEffect(() => {\n    return () => {\n      dispatch({\n        type: 'reset'\n      });\n    };\n  }, [id]);\n\n  const refetch = () => {\n    setFetch(true);\n  };\n\n  return [refetch, submissionState];\n};","import { useConfig } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { Button, ButtonStrip, CenteredContent, CircularLoader, Modal, ModalActions, ModalContent, ModalTitle } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useEffect, useState } from 'react';\nimport { useExchangeContext } from '../exchange-context/index.js';\nimport { Warning } from '../shared/index.js';\nimport styles from './submit-modal.module.css';\nimport { SuccessContent } from './success-content.js';\nimport { useAggregateDataExchangeMutation } from './use-aggregate-data-exchange-mutation.js';\n\nconst LoadingStateModalContent = () => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ModalContent, null, /*#__PURE__*/React.createElement(ModalContentWrapper, null, /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(\"div\", {\n  className: styles.loadingWrapper\n}, /*#__PURE__*/React.createElement(CircularLoader, {\n  small: true\n}), /*#__PURE__*/React.createElement(\"span\", null, i18n.t('Submitting...')))))), /*#__PURE__*/React.createElement(ModalActions, null, /*#__PURE__*/React.createElement(ButtonStrip, {\n  end: true\n}, /*#__PURE__*/React.createElement(Button, {\n  disabled: true\n}, i18n.t('No, cancel')), /*#__PURE__*/React.createElement(Button, {\n  primary: true,\n  disabled: true\n}, i18n.t('Yes, submit')))));\n\nconst ErrorModalContent = _ref => {\n  let {\n    error,\n    onRetry,\n    onClose\n  } = _ref;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ModalContent, null, /*#__PURE__*/React.createElement(ModalContentWrapper, null, /*#__PURE__*/React.createElement(Warning, {\n    error: true,\n    title: i18n.t('There was a problem submitting data')\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.errorWrapperText\n  }, i18n.t('It was not possible to submit your data. The message below provides additional detail.')), /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.errorMessage\n  }, (error === null || error === void 0 ? void 0 : error.message) || '')))), /*#__PURE__*/React.createElement(ModalActions, null, /*#__PURE__*/React.createElement(ButtonStrip, {\n    end: true\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: onClose\n  }, i18n.t('Close')), /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    onClick: onRetry\n  }, i18n.t('Try again')))));\n};\n\nErrorModalContent.propTypes = {\n  error: PropTypes.object,\n  onClose: PropTypes.func,\n  onRetry: PropTypes.func\n};\n\nconst SuccessModalContent = _ref2 => {\n  let {\n    onClose,\n    data\n  } = _ref2;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ModalContent, null, /*#__PURE__*/React.createElement(ModalContentWrapper, null, /*#__PURE__*/React.createElement(SuccessContent, {\n    data: data\n  }))), /*#__PURE__*/React.createElement(ModalActions, null, /*#__PURE__*/React.createElement(ButtonStrip, {\n    end: true\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: onClose\n  }, i18n.t('Close')))));\n};\n\nSuccessModalContent.propTypes = {\n  data: PropTypes.object,\n  onClose: PropTypes.func\n};\n\nconst getReportText = request => {\n  const {\n    name,\n    orgUnits,\n    periods\n  } = request;\n  const orgUnitText = orgUnits.length === 1 ? i18n.t('{{orgUnitCount}} organisation unit', {\n    orgUnitCount: orgUnits.length\n  }) : i18n.t('{{orgUnitCount}} organisation units', {\n    orgUnitCount: orgUnits.length\n  });\n  let periodsText = '';\n\n  if (periods.length === 1) {\n    periodsText = i18n.t('{{periodsCount}} period: {{periods}}', {\n      periodsCount: periods.length,\n      periods: periods[0],\n      nsSeparator: '-:-'\n    });\n  }\n\n  if (periods.length > 1 && periods.length <= 3) {\n    periodsText = i18n.t('{{periodsCount}} periods: {{periods}}', {\n      periodsCount: periods.length,\n      periods: periods.join(', '),\n      nsSeparator: '-:-'\n    });\n  }\n\n  if (periods.length > 3) {\n    periodsText = i18n.t('3+ periods: {{periods}}, and {{periodsCountLessThree}} more', {\n      periodsCount: periods.length,\n      periods: periods.slice(0, 3).join(', '),\n      periodsCountLessThree: periods.length - 3,\n      nsSeparator: '-:-'\n    });\n  }\n\n  return `${name}, ${orgUnitText}, ${periodsText}`;\n};\n\nconst ConfirmModalContent = _ref3 => {\n  var _exchange$target, _exchange$target2, _exchange$target2$api, _exchange$target3;\n\n  let {\n    exchange,\n    requests,\n    onClose,\n    onSubmit\n  } = _ref3;\n  // this is very wordy, but did not have luck with i18nextscanner picking up from more compact versions...\n  let reportTranslationsString;\n  const {\n    baseUrl\n  } = useConfig();\n  const reportCount = requests.length;\n  const exchangeName = exchange === null || exchange === void 0 ? void 0 : exchange.displayName;\n  const exchangeURL = (exchange === null || exchange === void 0 ? void 0 : (_exchange$target = exchange.target) === null || _exchange$target === void 0 ? void 0 : _exchange$target.type) === 'INTERNAL' ? baseUrl : exchange === null || exchange === void 0 ? void 0 : (_exchange$target2 = exchange.target) === null || _exchange$target2 === void 0 ? void 0 : (_exchange$target2$api = _exchange$target2.api) === null || _exchange$target2$api === void 0 ? void 0 : _exchange$target2$api.url;\n  const exchangeHostName = exchangeURL === null || exchangeURL === void 0 ? void 0 : exchangeURL.split('//')[1]; // remove protocol\n\n  if ((exchange === null || exchange === void 0 ? void 0 : (_exchange$target3 = exchange.target) === null || _exchange$target3 === void 0 ? void 0 : _exchange$target3.type) === 'INTERNAL') {\n    if (requests.length > 1) {\n      reportTranslationsString = i18n.t('{{reportCount}} reports to {{-exchangeName}} internally at {{-exchangeHostName}}', {\n        reportCount,\n        exchangeName,\n        exchangeHostName\n      });\n    } else {\n      reportTranslationsString = i18n.t('{{reportCount}} report to {{-exchangeName}} internally at {{-exchangeHostName}}', {\n        reportCount,\n        exchangeName,\n        exchangeHostName\n      });\n    }\n  } else {\n    if (requests.length > 1) {\n      reportTranslationsString = i18n.t('{{reportCount}} reports to {{-exchangeName}} at {{-exchangeHostName}}', {\n        reportCount,\n        exchangeName,\n        exchangeHostName\n      });\n    } else {\n      reportTranslationsString = i18n.t('{{reportCount}} report to {{-exchangeName}} at {{-exchangeHostName}}', {\n        reportCount,\n        exchangeName,\n        exchangeHostName\n      });\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ModalContent, null, /*#__PURE__*/React.createElement(ModalContentWrapper, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.submitModalSummaryWrapper\n  }, reportTranslationsString, /*#__PURE__*/React.createElement(\"ul\", null, requests.map(request => {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: request.name\n    }, getReportText(request));\n  }))), /*#__PURE__*/React.createElement(\"div\", null, i18n.t('Are you sure you want to submit this data?')))), /*#__PURE__*/React.createElement(ModalActions, null, /*#__PURE__*/React.createElement(ButtonStrip, {\n    end: true\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: onClose\n  }, i18n.t('No, cancel')), /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    onClick: onSubmit\n  }, i18n.t('Yes, submit')))));\n};\n\nConfirmModalContent.propTypes = {\n  exchange: PropTypes.object,\n  requests: PropTypes.array,\n  onClose: PropTypes.func,\n  onSubmit: PropTypes.func\n};\n\nconst ModalContentWrapper = _ref4 => {\n  let {\n    children\n  } = _ref4;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.contentStyling\n  }, children);\n};\n\nModalContentWrapper.propTypes = {\n  children: PropTypes.node\n};\n\nconst SubmitModal = _ref5 => {\n  let {\n    open,\n    onClose,\n    setDataSubmitted\n  } = _ref5;\n  const {\n    exchange,\n    exchangeData\n  } = useExchangeContext();\n  const [submitsAttempted, setSubmitsAttempted] = useState(false);\n  const requests = exchangeData === null || exchangeData === void 0 ? void 0 : exchangeData.map((request, index) => {\n    var _exchange$source, _exchange$source$requ, _exchange$source$requ2, _request$metaData, _request$metaData$dim, _request$metaData2, _request$metaData2$di;\n\n    return {\n      name: (_exchange$source = exchange.source) === null || _exchange$source === void 0 ? void 0 : (_exchange$source$requ = _exchange$source.requests) === null || _exchange$source$requ === void 0 ? void 0 : (_exchange$source$requ2 = _exchange$source$requ[index]) === null || _exchange$source$requ2 === void 0 ? void 0 : _exchange$source$requ2.name,\n      orgUnits: (_request$metaData = request.metaData) === null || _request$metaData === void 0 ? void 0 : (_request$metaData$dim = _request$metaData.dimensions) === null || _request$metaData$dim === void 0 ? void 0 : _request$metaData$dim.ou,\n      periods: (_request$metaData2 = request.metaData) === null || _request$metaData2 === void 0 ? void 0 : (_request$metaData2$di = _request$metaData2.dimensions) === null || _request$metaData2$di === void 0 ? void 0 : _request$metaData2$di.pe.map(period => {\n        var _request$metaData3, _request$metaData3$it;\n\n        return (_request$metaData3 = request.metaData) === null || _request$metaData3 === void 0 ? void 0 : (_request$metaData3$it = _request$metaData3.items[period]) === null || _request$metaData3$it === void 0 ? void 0 : _request$metaData3$it.name;\n      })\n    };\n  });\n  const [submitExchange, {\n    called,\n    data,\n    error,\n    loading,\n    dataSubmitted\n  }] = useAggregateDataExchangeMutation({\n    id: exchange === null || exchange === void 0 ? void 0 : exchange.id\n  }); // clean up whenever modal is closed\n\n  useEffect(() => {\n    if (!open) {\n      setSubmitsAttempted(false);\n    }\n  }, [open]); // update data submission status when there is a change\n\n  useEffect(() => {\n    setDataSubmitted(dataSubmitted);\n  }, [dataSubmitted, setDataSubmitted]);\n  return !exchange ? null : /*#__PURE__*/React.createElement(Modal, {\n    hide: !open,\n    large: true,\n    position: \"middle\",\n    onClose: loading ? null : onClose\n  }, /*#__PURE__*/React.createElement(ModalTitle, null, i18n.t('Submitting data')), !called && !loading && !submitsAttempted && /*#__PURE__*/React.createElement(ConfirmModalContent, {\n    exchange: exchange,\n    requests: requests,\n    onClose: onClose,\n    onSubmit: () => {\n      setSubmitsAttempted(true);\n      submitExchange();\n    }\n  }), error && submitsAttempted && /*#__PURE__*/React.createElement(ErrorModalContent, {\n    error: error,\n    onRetry: submitExchange,\n    onClose: onClose\n  }), data && /*#__PURE__*/React.createElement(SuccessModalContent, {\n    data: data,\n    onClose: onClose\n  }), loading && /*#__PURE__*/React.createElement(LoadingStateModalContent, null));\n};\n\nSubmitModal.propTypes = {\n  open: PropTypes.bool,\n  setDataSubmitted: PropTypes.func,\n  onClose: PropTypes.func\n};\nexport { SubmitModal };","// extracted by mini-css-extract-plugin\nexport default {\"menuSelect\":\"menu-select_menuSelect__iOrzZ\"};","import { Menu, MenuItem } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport css from './menu-select.module.css';\n\nconst MenuSelect = _ref => {\n  let {\n    values,\n    selected,\n    dataTest,\n    onChange\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: css.menuSelect,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(Menu, null, values.map(_ref2 => {\n    let {\n      value,\n      label\n    } = _ref2;\n    return /*#__PURE__*/React.createElement(MenuItem, {\n      key: value || label,\n      dataValue: value,\n      label: /*#__PURE__*/React.createElement(\"span\", {\n        \"data-value\": value\n      }, label),\n      active: selected === value,\n      onClick: () => onChange({\n        selected: value\n      })\n    });\n  })));\n};\n\nMenuSelect.defaultProps = {\n  dataTest: 'menu-select'\n};\nMenuSelect.propTypes = {\n  values: PropTypes.arrayOf(PropTypes.shape({\n    label: PropTypes.string.isRequired,\n    value: PropTypes.string\n  })).isRequired,\n  onChange: PropTypes.func.isRequired,\n  dataTest: PropTypes.string,\n  selected: PropTypes.string\n};\nexport { MenuSelect };","import i18n from '@dhis2/d2-i18n';\nimport { SelectorBarItem } from '@dhis2/ui';\nimport React, { useState } from 'react';\nimport { useAppContext } from '../../app-context/index.js';\nimport { useExchangeId } from '../../use-context-selection/use-context-selections.js';\nimport { MenuSelect } from '../menu-select/index.js';\n\nconst ExchangeSelect = () => {\n  var _dataExchangeOptions$;\n\n  const {\n    aggregateDataExchanges\n  } = useAppContext();\n  const [exchangeId, setExchangeId] = useExchangeId();\n  const [exchangeSelectorOpen, setExchangeSelectorOpen] = useState(false);\n  const dataExchangeOptions = aggregateDataExchanges.map(exchange => ({\n    value: exchange.id,\n    label: exchange.displayName\n  }));\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": \"data-exchange-selector\"\n  }, /*#__PURE__*/React.createElement(SelectorBarItem, {\n    label: i18n.t('Data exchange'),\n    value: (_dataExchangeOptions$ = dataExchangeOptions.find(dExchange => dExchange.value === exchangeId)) === null || _dataExchangeOptions$ === void 0 ? void 0 : _dataExchangeOptions$.label,\n    open: exchangeSelectorOpen,\n    setOpen: setExchangeSelectorOpen,\n    noValueMessage: i18n.t('Choose a data exchange')\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": \"data-exchange-selector-contents\"\n  }, /*#__PURE__*/React.createElement(MenuSelect, {\n    values: dataExchangeOptions,\n    selected: exchangeId,\n    dataTest: \"exchange-selector-menu\",\n    onChange: _ref => {\n      let {\n        selected\n      } = _ref;\n      setExchangeId(selected);\n      setExchangeSelectorOpen(false);\n    }\n  }))));\n};\n\nexport { ExchangeSelect };","import { SelectorBar } from '@dhis2/ui';\nimport React from 'react';\nimport { useClearEntireSelection } from '../use-context-selection/index.js';\nimport { ExchangeSelect } from './exchange-select/index.js';\n\nconst TopBar = () => {\n  const clearSelections = useClearEntireSelection();\n  return /*#__PURE__*/React.createElement(SelectorBar, {\n    onClearSelectionClick: clearSelections\n  }, /*#__PURE__*/React.createElement(ExchangeSelect, null));\n};\n\nexport { TopBar };","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"layout_container__WuNXT\",\"content\":\"layout_content__P4zzF\",\"bottom\":\"layout_bottom__Eajo3\"};","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport classes from './layout.module.css';\n\nconst LayoutSection = _ref => {\n  let {\n    children,\n    className\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: className\n  }, children);\n};\n\nLayoutSection.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string\n};\n\nconst Container = props => /*#__PURE__*/React.createElement(LayoutSection, _extends({}, props, {\n  className: classes.container\n}));\n\nconst Top = props => /*#__PURE__*/React.createElement(LayoutSection, props);\n\nconst Content = props => /*#__PURE__*/React.createElement(LayoutSection, _extends({}, props, {\n  className: classes.content\n}));\n\nconst Bottom = props => /*#__PURE__*/React.createElement(LayoutSection, _extends({}, props, {\n  className: classes.bottom\n}));\n\nexport const Layout = {\n  Container,\n  Top,\n  Content,\n  Bottom\n};","import { CssVariables } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport { HashRouter, Route } from 'react-router-dom';\nimport { QueryParamProvider } from 'use-query-params';\nimport { ReactRouter6Adapter } from 'use-query-params/adapters/react-router-6';\nimport { AppProvider } from '../app-context/index.js';\nimport { BottomBar } from '../bottom-bar/index.js';\nimport { DataWorkspace } from '../data-workspace/index.js';\nimport { ExchangeProvider } from '../exchange-context/index.js';\nimport { SubmitModal } from '../submit-modal/index.js';\nimport { TopBar } from '../top-bar/index.js';\nimport { Layout } from './layout.js';\n\nconst App = _ref => {\n  let {\n    router: Router\n  } = _ref;\n  const [submitModalOpen, setSubmitModalOpen] = useState(false);\n  const [dataSubmitted, setDataSubmitted] = useState(null);\n\n  const closeSubmitModal = () => {\n    setSubmitModalOpen(false);\n  };\n\n  const openSubmitModal = () => {\n    setSubmitModalOpen(true);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(CssVariables, {\n    spacers: true,\n    colors: true,\n    theme: true\n  }), /*#__PURE__*/React.createElement(Router, null, /*#__PURE__*/React.createElement(QueryParamProvider, {\n    adapter: ReactRouter6Adapter,\n    ReactRouterRoute: Route\n  }, /*#__PURE__*/React.createElement(AppProvider, null, /*#__PURE__*/React.createElement(Layout.Container, null, /*#__PURE__*/React.createElement(Layout.Top, null, /*#__PURE__*/React.createElement(TopBar, null)), /*#__PURE__*/React.createElement(ExchangeProvider, null, /*#__PURE__*/React.createElement(Layout.Content, null, /*#__PURE__*/React.createElement(DataWorkspace, null), /*#__PURE__*/React.createElement(SubmitModal, {\n    open: submitModalOpen,\n    onClose: closeSubmitModal,\n    setDataSubmitted: setDataSubmitted\n  })), /*#__PURE__*/React.createElement(Layout.Bottom, null, /*#__PURE__*/React.createElement(BottomBar, {\n    openSubmitModal: openSubmitModal,\n    dataSubmitted: dataSubmitted\n  }))))))));\n};\n\nApp.defaultProps = {\n  router: HashRouter\n};\nApp.propTypes = {\n  router: PropTypes.elementType\n}; // wrapper so we can use a different router in tests\n\nconst AppWrapper = () => {\n  return /*#__PURE__*/React.createElement(App, null);\n};\n\nexport { AppWrapper };","//------------------------------------------------------------------------------\n// <auto-generated>\n// This code was generated by d2-i18n-generate.\n//\n// Changes to this file may cause incorrect behavior and will be lost if\n// the code is regenerated.\n// </auto-generated>\n//------------------------------------------------------------------------------\nimport i18n from '@dhis2/d2-i18n';\nimport enTranslations from './en/translations.json';\nimport frTranslations from './fr/translations.json';\nconst namespace = 'default';\ni18n.addResources('en', namespace, enTranslations);\ni18n.addResources('fr', namespace, frTranslations);\nexport default i18n;","import { AppWrapper } from './app.js';\nimport '../locales/index.js';\nexport default AppWrapper;"],"names":["AppContext","createContext","aggregateDataExchanges","Loader","React","CenteredContent","CircularLoader","Warning","_ref","error","title","children","className","styles","NoticeBox","query","resource","params","paging","fields","AppProvider","data","loading","useDataQuery","i18n","providerValue","Provider","value","useAppContext","useContext","ExchangeContext","exchange","exchangeData","refetch","console","log","PARAMS_SCHEMA","exchangeId","StringParam","requestIndex","NumberParam","useExchangeId","useQueryParam","useRequestIndex","useClearEntireSelection","setSelectionContext","useQueryParams","useCallback","undefined","id","_ref2","ExchangeProvider","_ref3","called","lazy","setRequestIndex","fetchExchange","useEffect","message","Button","onClick","useExchangeContext","ButtonWithTooltip","buttonText","tooltipContent","Tooltip","content","ref","onMouseOver","onMouseOut","primary","disabled","BottomBar","openSubmitModal","dataSubmitted","dataCount","reduce","totalLength","request","_request$rows","rows","length","submitButtonText","EmptyStateIcon","width","height","viewBox","fill","xmlns","clipPath","d","stroke","strokeWidth","fillRule","clipRule","EntryScreen","target","rel","href","DataTableToolbar","columns","colSpan","toString","Table","DataTable","TableHead","DataTableRow","DataTableColumnHeader","fixed","left","top","slice","map","column","key","TableBody","row","index","firstCell","cells","DataTableCell","ensureNestedObjectExists","obj","propertyNames","propertyName","formatData","_data$metaData","_data$metaData2","_data$metaData2$dimen","_data$metaData4","_data$metaData4$dimen","_data$metaData6","_data$metaData6$dimen","constantDimensions","dx_index","headers","findIndex","header","name","ou_index","pe_index","value_index","filters","Object","keys","metaData","dimensions","filter","includes","objectFormatData","objectFormat","Array","isArray","ouId","deId","peId","convertToObjectFormat","orgUnits","ou","orgUnit","_data$metaData3","_data$metaData3$items","items","sort","a","b","localeCompare","dataElements","dx","dataElement","_data$metaData5","_data$metaData5$items","periods","pe","period","_data$metaData7","_data$metaData7$items","numeric","tableFormat","table","_data$metaData8","_data$metaData8$items","_data$metaData8$items2","join","rowData","_objectFormatData$org","_objectFormatData$org2","push","RequestsDisplay","_exchange$source","_exchange$source$requ","_exchangeData$rows","source","requests","formattedData","baseUrl","useConfig","visualization","icon","IconLaunch16","secondary","small","h","RequestsNavigation","selected","onChange","TabBar","scrollable","Tab","getRelativeTimeDifference","startTimestamp","endTimestamp","startTime","Date","endTime","moment","fromNow","formatTimestamp","timestamp","timezone","substring","TitleBar","systemInfo","lastAnalyticsTableSuccess","serverDate","serverTimeZoneId","requestsCount","displayName","IconDimensionDataSet16","IconInfo16","timeDifference","DataWorkspace","selectedRequest","setSelectedRequest","isNaN","importTypeConfig","imported","style","text","updated","ignored","SummaryBox","importType","importCount","styleName","boxStyle","toLowerCase","SummaryTable","importSummaries","DataTableHead","DataTableBody","importSummary","_exchange$source2","_exchange$source2$req","_importSummary$import4","_importSummary$import5","_importSummary$import6","IconCopy16","_exchange$source3","headerRowText","clipboardText","fullText","_requests$index$name","_requests$index","_requests$index2","_requests$index2$name","_importSummary$import","_importSummary$import2","_importSummary$import3","requestName","_requests$index3","navigator","clipboard","writeText","copyTableToClipboard","SuccessContent","_ref4","summaryCounts","totalCounts","countType","_importSummary$import7","deleted","Tag","positive","IconCheckmarkCircle24","uncalledState","submitReducer","state","action","type","payload","LoadingStateModalContent","ModalContent","ModalContentWrapper","ModalActions","ButtonStrip","end","ErrorModalContent","onRetry","onClose","SuccessModalContent","ConfirmModalContent","_exchange$target","_exchange$target2","_exchange$target2$api","_exchange$target3","reportTranslationsString","onSubmit","reportCount","exchangeName","exchangeURL","api","url","exchangeHostName","split","orgUnitText","orgUnitCount","periodsText","periodsCount","nsSeparator","periodsCountLessThree","getReportText","SubmitModal","_ref5","open","setDataSubmitted","submitsAttempted","setSubmitsAttempted","useState","_exchange$source$requ2","_request$metaData","_request$metaData$dim","_request$metaData2","_request$metaData2$di","_request$metaData3","_request$metaData3$it","submitExchange","engine","useDataEngine","submissionState","dispatch","useReducer","fetch","setFetch","async","response","mutate","getMutation","status","_response$importSumma","errorMessage","find","description","Error","fetchData","useAggregateDataExchangeMutation","Modal","hide","large","position","ModalTitle","MenuSelect","values","dataTest","css","Menu","label","MenuItem","dataValue","active","defaultProps","ExchangeSelect","_dataExchangeOptions$","setExchangeId","exchangeSelectorOpen","setExchangeSelectorOpen","dataExchangeOptions","SelectorBarItem","dExchange","setOpen","noValueMessage","TopBar","clearSelections","SelectorBar","onClearSelectionClick","_extends","assign","bind","i","arguments","prototype","hasOwnProperty","call","apply","this","LayoutSection","Layout","props","classes","App","router","Router","submitModalOpen","setSubmitModalOpen","CssVariables","spacers","colors","theme","QueryParamProvider","adapter","ReactRouter6Adapter","ReactRouterRoute","Route","HashRouter","namespace","enTranslations","frTranslations"],"sourceRoot":""}