{"version":3,"file":"static/js/app.21528366.chunk.js","mappings":"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","sources":["D2App/context/app-context/app-context.js","D2App/components/common/loader/loader.js","webpack://@dhis2/app-shell/./src/D2App/components/common/warning/warning.module.css?1858","D2App/components/common/warning/warning.js","D2App/context/app-context/app-provider.js","D2App/context/app-context/use-app-context.js","D2App/context/exchange-context/exchange-context.js","D2App/use-context-selection/use-context-selections.js","webpack://@dhis2/app-shell/./src/D2App/context/exchange-context/exchange-provider.module.css?332c","D2App/context/exchange-context/exchange-provider.js","D2App/context/exchange-context/use-exchange-context.js","D2App/context/user-context/user-context.js","D2App/context/user-context/user-provider.js","D2App/context/user-context/use-user-context.js","D2App/context/attribute-context/attribute-context.js","D2App/context/attribute-context/attribute-provider.js","webpack://@dhis2/app-shell/./src/D2App/components/common/button-with-tooltip/button-with-tooltip.module.css?e3c0","D2App/components/common/button-with-tooltip/button-with-tooltip.js","D2App/components/view/bottom-bar/bottom-bar.js","webpack://@dhis2/app-shell/./src/D2App/components/view/data-layout/layout.module.css?b9be","D2App/components/view/data-layout/layout.js","webpack://@dhis2/app-shell/./src/D2App/components/view/data-workspace/entry-screen.module.css?2051","D2App/components/view/data-workspace/entry-screen.js","webpack://@dhis2/app-shell/./src/D2App/components/view/data-workspace/table/table.module.css?7e14","D2App/components/view/data-workspace/table/table.js","webpack://@dhis2/app-shell/./src/D2App/components/view/data-workspace/requests-display/requests-display.module.css?c126","D2App/components/view/data-workspace/requests-display/requests-display.js","D2App/components/view/data-workspace/requests-navigation/requests-navigation.js","webpack://@dhis2/app-shell/./src/D2App/components/view/data-workspace/title-bar/title-bar.module.css?a170","D2App/components/view/data-workspace/title-bar/title-bar.js","D2App/components/view/data-workspace/data-workspace.js","webpack://@dhis2/app-shell/./src/D2App/components/view/submit-modal/submit-modal.module.css?835a","webpack://@dhis2/app-shell/./src/D2App/components/view/submit-modal/conflicts-details-table.module.css?7ac0","D2App/components/view/submit-modal/conflicts-details-table.js","webpack://@dhis2/app-shell/./src/D2App/components/view/submit-modal/success-content.module.css?f212","D2App/components/view/submit-modal/success-content.js","D2App/components/view/submit-modal/use-aggregate-data-exchange-mutation.js","D2App/components/view/submit-modal/submit-modal.js","webpack://@dhis2/app-shell/./src/D2App/components/view/top-bar/menu-select/menu-select.module.css?c52d","D2App/components/view/top-bar/menu-select/menu-select.js","D2App/components/view/top-bar/exchange-select/exchange-select.js","webpack://@dhis2/app-shell/./src/D2App/components/view/top-bar/top-bar.module.css?69fb","D2App/components/view/top-bar/top-bar.js","D2App/pages/data.js","D2App/components/edit/shared/constants.js","webpack://@dhis2/app-shell/./src/D2App/components/edit/shared/access-warning.module.css?0321","D2App/components/edit/shared/access-warning.js","webpack://@dhis2/app-shell/./src/D2App/components/edit/shared/selector-validation-error.module.css?7010","D2App/components/edit/shared/selector-validation-error.js","D2App/components/edit/shared/update-footer.js","webpack://@dhis2/app-shell/./src/D2App/components/edit/shared/form-subsection.module.css?14bd","D2App/components/edit/shared/form-subsection.js","webpack://@dhis2/app-shell/./src/D2App/components/edit/shared/scheme-selector.module.css?788e","D2App/components/edit/shared/scheme-selector.js","D2App/context/attribute-context/use-attribute-context.js","D2App/components/edit/shared/openVisualization/CreatedByFilter.js","D2App/components/edit/shared/openVisualization/DateField.js","D2App/components/edit/shared/openVisualization/VTI.js","D2App/components/edit/shared/openVisualization/FileList.js","D2App/components/edit/shared/openVisualization/NameFilter.js","D2App/components/edit/shared/openVisualization/OpenFileDialog.styles.js","D2App/components/edit/shared/openVisualization/PaginationControls.js","D2App/components/edit/shared/openVisualization/utils.js","D2App/components/edit/shared/openVisualization/styles/CustomSelectOption.style.js","D2App/components/edit/shared/openVisualization/CustomSelectOption.js","D2App/components/edit/shared/openVisualization/VisTypeFilter.js","D2App/components/edit/shared/openVisualization/OpenFileDialog.js","webpack://@dhis2/app-shell/./src/D2App/components/edit/shared/edit-title.module.css?ec25","D2App/components/edit/shared/edit-title.js","webpack://@dhis2/app-shell/./src/D2App/components/edit/overview/edit-home-top-bar.module.css?6808","D2App/components/edit/overview/edit-home-top-bar.js","D2App/utils/helpers.js","D2App/components/edit/overview/delete-confirmation.js","webpack://@dhis2/app-shell/./src/D2App/components/edit/overview/items-list.module.css?c77f","D2App/components/edit/overview/items-list.js","D2App/pages/editOverview.js","webpack://@dhis2/app-shell/./src/D2App/components/edit/request-update/edit-request.module.css?d1b7","D2App/components/edit/request-update/getRequestValues.js","D2App/components/edit/request-update/data-item-select.js","webpack://@dhis2/app-shell/./src/D2App/components/edit/request-update/filterSelect/dimension-filter-row.module.css?af22","webpack://@dhis2/app-shell/./src/D2App/components/edit/request-update/filterSelect/dimension-items-select.module.css?3b7c","webpack://@dhis2/app-shell/./src/D2App/components/edit/request-update/filterSelect/select-field.module.css?fa96","D2App/components/edit/request-update/filterSelect/select-field.js","D2App/components/edit/request-update/filterSelect/dimension-items-select.js","webpack://@dhis2/app-shell/./src/D2App/components/edit/request-update/filterSelect/dimension-select.module.css?a7cc","D2App/components/edit/request-update/filterSelect/dimension-select.js","webpack://@dhis2/app-shell/./src/D2App/components/edit/request-update/filterSelect/remove-filter.module.css?9987","D2App/components/edit/request-update/filterSelect/remove-filter.js","D2App/components/edit/request-update/filterSelect/dimension-filter-row.js","webpack://@dhis2/app-shell/./src/D2App/components/edit/request-update/filterSelect/filter-select.module.css?866e","D2App/components/edit/request-update/filterSelect/filter-select.js","D2App/components/edit/request-update/org-unit-select.js","D2App/components/edit/request-update/period-select.js","webpack://@dhis2/app-shell/./src/D2App/components/edit/request-update/request-form.module.css?8d65","webpack://@dhis2/app-shell/./src/D2App/components/edit/request-update/visualization-select.module.css?b90a","D2App/components/edit/request-update/visualization-select.js","D2App/components/edit/request-update/request-form.js","D2App/components/edit/request-update/useValidators.js","D2App/components/edit/request-update/edit-request.js","D2App/components/edit/request-update/requests-reducer.js","webpack://@dhis2/app-shell/./src/D2App/components/edit/exchange-update/edit-exchange-form.module.css?2bc6","webpack://@dhis2/app-shell/./src/D2App/components/edit/exchange-update/requests-overview.module.css?2962","D2App/components/edit/exchange-update/requests-overview.js","D2App/components/edit/exchange-update/edit-exchange-form.js","webpack://@dhis2/app-shell/./src/D2App/components/edit/exchange-update/edit-exchange.module.css?e6f6","D2App/components/edit/exchange-update/getExchangeValues.js","D2App/components/edit/exchange-update/useUpdateExchange.js","D2App/components/edit/exchange-update/edit-exchange.js","D2App/components/edit/exchange-update/useRequests.js","D2App/components/edit/exchange-update/codeDetailsHelpers.js","D2App/components/edit/exchange-update/useFetchExchange.js","D2App/pages/editItem.js","D2App/pages/addItem.js","D2App/app.js","D2App/locales/index.js","D2App/index.js"],"sourcesContent":["import { createContext } from 'react';\nconst AppContext = /*#__PURE__*/createContext({\n  aggregateDataExchanges: [],\n  refetchExchanges: () => {\n    console.log('Not implemented');\n  }\n});\nexport { AppContext };","import { CenteredContent, CircularLoader } from '@dhis2/ui';\nimport React from 'react';\nconst Loader = () => /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(CircularLoader, null));\nexport { Loader };","// extracted by mini-css-extract-plugin\nexport default {\"warningBoxWrapper\":\"warning_warningBoxWrapper__Q81jN\"};","import { NoticeBox } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './warning.module.css';\nconst Warning = _ref => {\n  let {\n    error,\n    warning,\n    title,\n    children\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.warningBoxWrapper\n  }, /*#__PURE__*/React.createElement(NoticeBox, {\n    error: error,\n    warning: warning,\n    title: title\n  }, children));\n};\nWarning.propTypes = {\n  children: PropTypes.node,\n  error: PropTypes.bool,\n  title: PropTypes.string,\n  warning: PropTypes.bool\n};\nexport { Warning };","import { useDataQuery } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Loader, Warning } from '../../components/common/index.js';\nimport { AppContext } from './app-context.js';\nconst query = {\n  aggregateDataExchanges: {\n    // This is generic enpoint but will only return\n    // exchanges a user is allowed to see\n    resource: 'aggregateDataExchanges',\n    params: {\n      paging: false,\n      fields: ['id', 'displayName', 'created', 'target[type]', 'source[requests~size]'],\n      order: 'displayName:iasc'\n    }\n  }\n};\nconst AppProvider = _ref => {\n  let {\n    children\n  } = _ref;\n  const {\n    data,\n    loading,\n    error,\n    refetch: refetchExchanges\n  } = useDataQuery(query);\n  if (loading) {\n    return /*#__PURE__*/React.createElement(Loader, null);\n  }\n  if (error) {\n    /**\n     * general error boundary\n     */\n    return /*#__PURE__*/React.createElement(Warning, {\n      error: true,\n      title: i18n.t('Aggregate data exchange information is not accessible')\n    }, /*#__PURE__*/React.createElement(\"span\", null, i18n.t('There was a problem retrieving aggregate data exchanges. Refresh the page to try again.')));\n  }\n  const {\n    aggregateDataExchanges\n  } = data.aggregateDataExchanges;\n  const providerValue = {\n    aggregateDataExchanges,\n    refetchExchanges\n  };\n  return /*#__PURE__*/React.createElement(AppContext.Provider, {\n    value: providerValue\n  }, children);\n};\nAppProvider.propTypes = {\n  children: PropTypes.node.isRequired\n};\nexport { AppProvider };","import { useContext } from 'react';\nimport { AppContext } from './app-context.js';\nexport const useAppContext = () => useContext(AppContext);","import { createContext } from 'react';\nconst ExchangeContext = /*#__PURE__*/createContext({\n  exchange: {},\n  exchangeData: {},\n  refetch: () => {\n    console.log('exchange context not initialized');\n  }\n});\nexport { ExchangeContext };","import { useCallback } from 'react';\nimport { StringParam, NumberParam, useQueryParams, useQueryParam } from 'use-query-params';\nexport const PARAMS_SCHEMA = {\n  exchangeId: StringParam,\n  requestIndex: NumberParam\n};\nexport const useExchangeId = () => {\n  return useQueryParam('exchangeId', PARAMS_SCHEMA.exchangeId);\n};\nexport const useRequestIndex = () => {\n  return useQueryParam('requestIndex', PARAMS_SCHEMA.requestIndex);\n};\nexport const useContextSelection = () => {\n  return useQueryParams(PARAMS_SCHEMA);\n};\nexport const useClearEntireSelection = () => {\n  const [, setSelectionContext] = useContextSelection();\n  return useCallback(() => {\n    setSelectionContext({\n      exchangeId: undefined,\n      requestIndex: undefined\n    });\n  }, [setSelectionContext]);\n};","// extracted by mini-css-extract-plugin\nexport default {\"errorWrapperText\":\"exchange-provider_errorWrapperText__0gKPV\",\"errorMessage\":\"exchange-provider_errorMessage__WgpDM\"};","import { useDataQuery } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { Button } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useCallback, useEffect } from 'react';\nimport { Loader, Warning } from '../../components/common/index.js';\nimport { useExchangeId, useRequestIndex } from '../../use-context-selection/index.js';\nimport { ExchangeContext } from './exchange-context.js';\nimport styles from './exchange-provider.module.css';\nconst query = {\n  exchange: {\n    resource: 'aggregateDataExchanges',\n    id: _ref => {\n      let {\n        id\n      } = _ref;\n      return id;\n    },\n    params: {\n      paging: false,\n      fields: ['source, target', 'id', 'displayName']\n    }\n  },\n  exchangeData: {\n    resource: 'aggregateDataExchanges',\n    id: _ref2 => {\n      let {\n        id\n      } = _ref2;\n      return `${id}/sourceData`;\n    },\n    params: {\n      paging: false,\n      outputIdScheme: 'UID'\n    }\n  }\n};\nconst ExchangeProvider = _ref3 => {\n  let {\n    children\n  } = _ref3;\n  const {\n    loading,\n    error,\n    data,\n    called,\n    refetch\n  } = useDataQuery(query, {\n    lazy: true\n  });\n  const [exchangeId] = useExchangeId();\n  const [, setRequestIndex] = useRequestIndex();\n  const fetchExchange = useCallback(() => refetch({\n    id: exchangeId\n  }), [refetch, exchangeId]);\n  useEffect(() => {\n    setRequestIndex(0);\n    if (exchangeId) {\n      fetchExchange();\n    }\n  }, [exchangeId, fetchExchange, setRequestIndex]);\n  if (loading) {\n    return /*#__PURE__*/React.createElement(Loader, null);\n  }\n  if (error) {\n    /**\n     * error boundary\n     */\n    return /*#__PURE__*/React.createElement(Warning, {\n      error: true,\n      title: i18n.t('Exchange content not accessible')\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: styles.errorWrapperText\n    }, i18n.t('It was not possible to retrieve data for the requested exchange. This may be due to either a connection error or a configuration issue. The message below provides additional detail.')), /*#__PURE__*/React.createElement(\"span\", {\n      className: styles.errorMessage\n    }, (error === null || error === void 0 ? void 0 : error.message) || ''), /*#__PURE__*/React.createElement(Button, {\n      onClick: fetchExchange\n    }, i18n.t('Try again')));\n  }\n  const {\n    exchange,\n    exchangeData\n  } = data || {};\n  const providerValue = {\n    exchange: called ? exchange : null,\n    exchangeData: called ? exchangeData : null\n  };\n  return /*#__PURE__*/React.createElement(ExchangeContext.Provider, {\n    value: providerValue\n  }, children);\n};\nExchangeProvider.propTypes = {\n  children: PropTypes.node.isRequired\n};\nexport { ExchangeProvider };","import { useContext } from 'react';\nimport { ExchangeContext } from './exchange-context.js';\nexport const useExchangeContext = () => useContext(ExchangeContext);","import { createContext } from 'react';\nconst UserContext = /*#__PURE__*/createContext({\n  id: '',\n  canAddExchange: false,\n  canDeleteExchange: false,\n  organisationUnits: [],\n  keyUiLocale: 'en'\n});\nexport { UserContext };","import { useDataQuery } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Loader, Warning } from '../../components/common/index.js';\nimport { UserContext } from './user-context.js';\nconst EXCHANGE_AUTHORITIES_ADD = ['F_AGGREGATE_DATA_EXCHANGE_PRIVATE_ADD', 'F_AGGREGATE_DATA_EXCHANGE_PUBLIC_ADD'];\nconst EXCHANGE_AUTHORITIES_DELETE = ['F_AGGREGATE_DATA_EXCHANGE_DELETE'];\nconst ALL_AUTHORITY = ['ALL'];\nconst query = {\n  user: {\n    // This is generic enpoint but will only return\n    // exchanges a user is allowed to see\n    resource: 'me',\n    params: {\n      paging: false,\n      fields: ['id', 'authorities', 'organisationUnits', 'settings']\n    }\n  }\n};\nconst UserProvider = _ref => {\n  let {\n    children\n  } = _ref;\n  const {\n    data,\n    loading,\n    error\n  } = useDataQuery(query);\n  if (loading) {\n    return /*#__PURE__*/React.createElement(Loader, null);\n  }\n  if (error) {\n    /**\n     * general error boundary\n     */\n    return /*#__PURE__*/React.createElement(Warning, {\n      error: true,\n      title: i18n.t('User information is not available')\n    }, /*#__PURE__*/React.createElement(\"span\", null, i18n.t('There was a problem retrieving user information. Refresh the page to try again.')));\n  }\n  const {\n    id,\n    authorities,\n    organisationUnits,\n    settings\n  } = data.user;\n  const canAddExchange = [...ALL_AUTHORITY, ...EXCHANGE_AUTHORITIES_ADD].some(auth => authorities.includes(auth));\n  const canDeleteExchange = [...ALL_AUTHORITY, ...EXCHANGE_AUTHORITIES_DELETE].some(auth => authorities.includes(auth));\n  const providerValue = {\n    id,\n    canAddExchange,\n    canDeleteExchange,\n    organisationUnits,\n    keyUiLocale: settings.keyUiLocale\n  };\n  return /*#__PURE__*/React.createElement(UserContext.Provider, {\n    value: providerValue\n  }, children);\n};\nUserProvider.propTypes = {\n  children: PropTypes.node.isRequired\n};\nexport { UserProvider };","import { useContext } from 'react';\nimport { UserContext } from './user-context.js';\nexport const useUserContext = () => useContext(UserContext);","import { createContext } from 'react';\nconst AttributeContext = /*#__PURE__*/createContext({\n  attributes: []\n});\nexport { AttributeContext };","import { useDataQuery } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Loader, Warning } from '../../components/common/index.js';\nimport { AttributeContext } from './attribute-context.js';\nconst query = {\n  attributes: {\n    // This is generic enpoint but will only return\n    // exchanges a user is allowed to see\n    resource: 'attributes',\n    params: {\n      paging: false,\n      fields: ['id', 'displayName'],\n      order: 'displayName:iasc'\n    }\n  }\n};\nconst AttributeProvider = _ref => {\n  let {\n    children\n  } = _ref;\n  const {\n    data,\n    loading,\n    error\n  } = useDataQuery(query);\n  if (loading) {\n    return /*#__PURE__*/React.createElement(Loader, null);\n  }\n  if (error) {\n    /**\n     * general error boundary\n     */\n    return /*#__PURE__*/React.createElement(Warning, {\n      error: true,\n      title: i18n.t('Attribute information is not accessible')\n    }, /*#__PURE__*/React.createElement(\"span\", null, i18n.t('There was a problem retrieving attributes. Refresh the page to try again.')));\n  }\n  const {\n    attributes\n  } = data.attributes;\n  const providerValue = {\n    attributes\n  };\n  return /*#__PURE__*/React.createElement(AttributeContext.Provider, {\n    value: providerValue\n  }, children);\n};\nAttributeProvider.propTypes = {\n  children: PropTypes.node.isRequired\n};\nexport { AttributeProvider };","// extracted by mini-css-extract-plugin\nexport default {\"tooltipReference\":\"button-with-tooltip_tooltipReference__KFFGG\"};","import { Button, Tooltip } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './button-with-tooltip.module.css';\nexport const ButtonWithTooltip = _ref => {\n  let {\n    buttonText,\n    tooltipContent\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": \"bottom-bar\"\n  }, /*#__PURE__*/React.createElement(Tooltip, {\n    content: tooltipContent\n  }, _ref2 => {\n    let {\n      ref,\n      onMouseOver,\n      onMouseOut\n    } = _ref2;\n    return /*#__PURE__*/React.createElement(\"span\", {\n      className: styles.tooltipReference,\n      ref: ref,\n      onMouseOver: onMouseOver,\n      onMouseOut: onMouseOut\n    }, /*#__PURE__*/React.createElement(Button, {\n      primary: true,\n      disabled: true\n    }, buttonText));\n  }));\n};\nButtonWithTooltip.propTypes = {\n  buttonText: PropTypes.string,\n  tooltipContent: PropTypes.string\n};","import i18n from '@dhis2/d2-i18n';\nimport { Button } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { useExchangeContext } from '../../../context/exchange-context/index.js';\nimport { useExchangeId } from '../../../use-context-selection/index.js';\nimport { ButtonWithTooltip } from '../../common/button-with-tooltip/index.js';\nconst BottomBar = _ref => {\n  let {\n    openSubmitModal,\n    dataSubmitted\n  } = _ref;\n  const [exchangeId] = useExchangeId();\n  const {\n    exchangeData\n  } = useExchangeContext();\n  const dataCount = exchangeData === null || exchangeData === void 0 ? void 0 : exchangeData.reduce((totalLength, request) => {\n    var _request$rows;\n    return ((request === null || request === void 0 ? void 0 : (_request$rows = request.rows) === null || _request$rows === void 0 ? void 0 : _request$rows.length) || 0) + totalLength;\n  }, 0);\n  const submitButtonText = i18n.t('Submit data');\n  if (!exchangeId || !exchangeData) {\n    return null;\n  }\n  if (dataCount === 0 || dataSubmitted) {\n    const tooltipContent = dataSubmitted ? i18n.t('Data has already been submitted') : i18n.t('There is no data to submit');\n    return /*#__PURE__*/React.createElement(ButtonWithTooltip, {\n      buttonText: submitButtonText,\n      tooltipContent: tooltipContent\n    });\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": \"bottom-bar\"\n  }, /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    onClick: openSubmitModal\n  }, submitButtonText));\n};\nBottomBar.propTypes = {\n  dataSubmitted: PropTypes.string,\n  openSubmitModal: PropTypes.func\n};\nexport { BottomBar };","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"layout_container__5cqdu\",\"content\":\"layout_content__4sM4H\",\"bottom\":\"layout_bottom__oBy-5\"};","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport classes from './layout.module.css';\nconst LayoutSection = _ref => {\n  let {\n    children,\n    className\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: className\n  }, children);\n};\nLayoutSection.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string\n};\nconst Container = props => /*#__PURE__*/React.createElement(LayoutSection, _extends({}, props, {\n  className: classes.container\n}));\nconst Top = props => /*#__PURE__*/React.createElement(LayoutSection, props);\nconst Content = props => /*#__PURE__*/React.createElement(LayoutSection, _extends({}, props, {\n  className: classes.content\n}));\nconst Bottom = props => /*#__PURE__*/React.createElement(LayoutSection, _extends({}, props, {\n  className: classes.bottom\n}));\nexport const Layout = {\n  Container,\n  Top,\n  Content,\n  Bottom\n};","// extracted by mini-css-extract-plugin\nexport default {\"wrapperDiv\":\"entry-screen_wrapperDiv__LfXr7\",\"innerDiv\":\"entry-screen_innerDiv__h7if-\",\"svgWrapper\":\"entry-screen_svgWrapper__Xbtlg\",\"headingText\":\"entry-screen_headingText__yL0EL\",\"instructionsText\":\"entry-screen_instructionsText__cd3X+\",\"linkText\":\"entry-screen_linkText__5CxsP\"};","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport styles from './entry-screen.module.css';\nconst EmptyStateIcon = () => /*#__PURE__*/React.createElement(\"svg\", {\n  width: \"64\",\n  height: \"64\",\n  viewBox: \"0 0 64 64\",\n  fill: \"none\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  clipPath: \"url(#clip0_229_2099)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 20L22.3923 26V38L12 44L1.6077 38V26L12 20Z\",\n  fill: \"#FBFCFD\",\n  stroke: \"#404B5A\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M11.0001 31.4338V20H13.0001V31.4338L22.5146 37.1425L21.4856 38.8575L12.0001 33.1662L2.51459 38.8575L1.4856 37.1425L11.0001 31.4338Z\",\n  fill: \"#404B5A\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M52 20L62.3923 26V38L52 44L41.6077 38V26L52 20Z\",\n  fill: \"#FBFCFD\",\n  stroke: \"#404B5A\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M51.0001 31.4338V20H53.0001V31.4338L62.5146 37.1425L61.4856 38.8575L52.0001 33.1662L42.5146 38.8575L41.4856 37.1425L51.0001 31.4338Z\",\n  fill: \"#404B5A\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M24 44H34\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M29 49L34 44L29 39\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M22 44H20\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M40 44H37\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M44 44H42\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M30 20L40 20\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M35 25L40 20L35 15\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M28 20H24\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M45 20H43\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M34 32H38\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M29 32H32\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M25 32H27\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10 56L21 56\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M4 56L8 56\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M16 61L21 56L16 51\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M26 56L32 56\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M35 56L38 56\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M40 56L42 56\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M21 8L31 8\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M13 8L17 8\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8 8L10 8\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M26 13L31 8L26 3\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6 8L3 8\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M37 8L35 8\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M41 8L39 8\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n})), /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"clipPath\", {\n  id: \"clip0_229_2099\"\n}, /*#__PURE__*/React.createElement(\"rect\", {\n  width: \"64\",\n  height: \"64\",\n  fill: \"white\"\n}))));\nconst documentationLink = 'https://docs.dhis2.org/en/develop/using-the-api/dhis-core-version-master/data-exchange.html#data-exchange';\nexport const EntryScreen = () => /*#__PURE__*/React.createElement(\"div\", {\n  className: styles.wrapperDiv\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: styles.innerDiv\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: styles.svgWrapper\n}, /*#__PURE__*/React.createElement(EmptyStateIcon, null)), /*#__PURE__*/React.createElement(\"span\", {\n  className: styles.headingText\n}, i18n.t('Choose a data exchange to get started')), /*#__PURE__*/React.createElement(\"span\", {\n  className: styles.instructionsText\n}, i18n.t('Review your data before submitting it to a data exchange.')), /*#__PURE__*/React.createElement(\"span\", {\n  className: styles.instructionsText\n}, i18n.t('Choose a data exchange from the top menu.')), /*#__PURE__*/React.createElement(\"a\", {\n  className: styles.linkText,\n  target: \"_blank\",\n  rel: \"noreferrer noopener\",\n  href: documentationLink\n}, i18n.t('Learn more about data exchange'))));","// extracted by mini-css-extract-plugin\nexport default {\"titleCell\":\"table_titleCell__QT7oB\",\"labelCellContent\":\"table_labelCellContent__Pzgco\",\"dataTable\":\"table_dataTable__b+FfB\"};","import { DataTable, TableHead, DataTableRow, DataTableColumnHeader, TableBody, DataTableCell } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './table.module.css';\n\n// Needs to have the same width as the table, so can't use the one from\n// @dhis2/ui\nconst DataTableToolbar = _ref => {\n  let {\n    children,\n    columns\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"tr\", null, /*#__PURE__*/React.createElement(\"th\", {\n    className: styles.titleCell,\n    colSpan: columns.toString()\n  }, children));\n};\nDataTableToolbar.propTypes = {\n  children: PropTypes.any.isRequired,\n  columns: PropTypes.number.isRequired\n};\nconst Table = _ref2 => {\n  let {\n    title,\n    columns,\n    rows\n  } = _ref2;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(DataTable, {\n    className: styles.dataTable,\n    width: \"auto\"\n  }, /*#__PURE__*/React.createElement(TableHead, null, /*#__PURE__*/React.createElement(DataTableToolbar, {\n    columns: columns.length\n  }, title), /*#__PURE__*/React.createElement(DataTableRow, null, /*#__PURE__*/React.createElement(DataTableColumnHeader, {\n    fixed: true,\n    left: \"0\",\n    top: \"0\",\n    className: styles.cell\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.labelCellContent\n  }, columns[0])), columns.slice(1).map(column => {\n    return /*#__PURE__*/React.createElement(DataTableColumnHeader, {\n      key: column,\n      className: styles.cell\n    }, column);\n  }))), /*#__PURE__*/React.createElement(TableBody, null, rows.map((row, index) => {\n    const [firstCell, ...cells] = row;\n    return /*#__PURE__*/React.createElement(DataTableRow, {\n      key: index\n    }, /*#__PURE__*/React.createElement(DataTableCell, {\n      fixed: true,\n      left: \"0\",\n      className: styles.cell\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: styles.labelCellContent\n    }, firstCell)), cells.map((value, index) => /*#__PURE__*/React.createElement(DataTableCell, {\n      key: index,\n      className: styles.cell\n    }, value)));\n  }))));\n};\nTable.propTypes = {\n  columns: PropTypes.array.isRequired,\n  rows: PropTypes.array.isRequired,\n  title: PropTypes.string.isRequired\n};\nexport { Table };","// extracted by mini-css-extract-plugin\nexport default {\"display\":\"requests-display_display__n0sSB\",\"visualizationButton\":\"requests-display_visualizationButton__dE3aw\",\"linkNoDecoration\":\"requests-display_linkNoDecoration__RB9ix\"};","import { useConfig } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { Button, IconLaunch16 } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { useExchangeContext } from '../../../../context/index.js';\nimport { Warning } from '../../../common/index.js';\nimport { Table } from '../table/index.js';\nimport styles from './requests-display.module.css';\nexport const ensureNestedObjectExists = (obj, propertyNames) => {\n  for (const propertyName of propertyNames) {\n    obj[propertyName] = obj[propertyName] || {};\n    obj = obj[propertyName];\n  }\n};\nexport const convertToObjectFormat = _ref => {\n  let {\n    data,\n    dx_index,\n    ou_index,\n    pe_index,\n    value_index\n  } = _ref;\n  const objectFormat = {};\n  if (Array.isArray(data === null || data === void 0 ? void 0 : data.rows)) {\n    for (const row of data === null || data === void 0 ? void 0 : data.rows) {\n      const ouId = row[ou_index];\n      const deId = row[dx_index];\n      const peId = row[pe_index];\n      const value = row[value_index];\n      ensureNestedObjectExists(objectFormat, [ouId, deId, peId]);\n      objectFormat[ouId][deId][peId] = value;\n    }\n  }\n  return objectFormat;\n};\nexport const formatData = data => {\n  var _data$metaData, _data$metaData2, _data$metaData2$dimen, _data$metaData4, _data$metaData4$dimen, _data$metaData6, _data$metaData6$dimen;\n  const constantDimensions = ['dx', 'pe', 'ou', 'co'];\n  const dx_index = data === null || data === void 0 ? void 0 : data.headers.findIndex(header => header.name === 'dx');\n  const ou_index = data === null || data === void 0 ? void 0 : data.headers.findIndex(header => header.name === 'ou');\n  const pe_index = data === null || data === void 0 ? void 0 : data.headers.findIndex(header => header.name === 'pe');\n  const value_index = data === null || data === void 0 ? void 0 : data.headers.findIndex(header => header.name === 'value');\n  const filters = Object.keys(data === null || data === void 0 ? void 0 : (_data$metaData = data.metaData) === null || _data$metaData === void 0 ? void 0 : _data$metaData.dimensions).filter(key => !constantDimensions.includes(key));\n  const objectFormatData = convertToObjectFormat({\n    data,\n    dx_index,\n    ou_index,\n    pe_index,\n    value_index\n  });\n  const orgUnits = (_data$metaData2 = data.metaData) === null || _data$metaData2 === void 0 ? void 0 : (_data$metaData2$dimen = _data$metaData2.dimensions) === null || _data$metaData2$dimen === void 0 ? void 0 : _data$metaData2$dimen.ou.map(orgUnit => {\n    var _data$metaData3, _data$metaData3$items;\n    return {\n      id: orgUnit,\n      name: (_data$metaData3 = data.metaData) === null || _data$metaData3 === void 0 ? void 0 : (_data$metaData3$items = _data$metaData3.items[orgUnit]) === null || _data$metaData3$items === void 0 ? void 0 : _data$metaData3$items.name\n    };\n  });\n  orgUnits.sort((a, b) => a.name.localeCompare(b.name));\n  const dataElements = (_data$metaData4 = data.metaData) === null || _data$metaData4 === void 0 ? void 0 : (_data$metaData4$dimen = _data$metaData4.dimensions) === null || _data$metaData4$dimen === void 0 ? void 0 : _data$metaData4$dimen.dx.map(dataElement => {\n    var _data$metaData5, _data$metaData5$items;\n    return {\n      id: dataElement,\n      name: (_data$metaData5 = data.metaData) === null || _data$metaData5 === void 0 ? void 0 : (_data$metaData5$items = _data$metaData5.items[dataElement]) === null || _data$metaData5$items === void 0 ? void 0 : _data$metaData5$items.name\n    };\n  });\n  dataElements.sort((a, b) => a.name.localeCompare(b.name));\n\n  // TBD: natural sort? Is this necessary or is it sorted by backend?\n  let periods = (_data$metaData6 = data.metaData) === null || _data$metaData6 === void 0 ? void 0 : (_data$metaData6$dimen = _data$metaData6.dimensions) === null || _data$metaData6$dimen === void 0 ? void 0 : _data$metaData6$dimen.pe.map(period => {\n    var _data$metaData7, _data$metaData7$items;\n    return {\n      id: period,\n      name: (_data$metaData7 = data.metaData) === null || _data$metaData7 === void 0 ? void 0 : (_data$metaData7$items = _data$metaData7.items[period]) === null || _data$metaData7$items === void 0 ? void 0 : _data$metaData7$items.name\n    };\n  });\n  periods = periods.sort((a, b) => a.id.localeCompare(b.id, 'en', {\n    numeric: true\n  }));\n  const tableFormat = [];\n  for (const orgUnit of orgUnits) {\n    const table = {};\n    table.title = (filters === null || filters === void 0 ? void 0 : filters.length) > 0 ? `${orgUnit.name} - ${filters.map(filter => {\n      var _data$metaData8, _data$metaData8$items, _data$metaData8$items2;\n      return data === null || data === void 0 ? void 0 : (_data$metaData8 = data.metaData) === null || _data$metaData8 === void 0 ? void 0 : (_data$metaData8$items = _data$metaData8.items) === null || _data$metaData8$items === void 0 ? void 0 : (_data$metaData8$items2 = _data$metaData8$items[filter]) === null || _data$metaData8$items2 === void 0 ? void 0 : _data$metaData8$items2.name;\n    }).join(',')}` : orgUnit.name;\n    table.headers = [{\n      name: i18n.t('Data')\n    }, ...periods.map(_ref2 => {\n      let {\n        name\n      } = _ref2;\n      return {\n        name\n      };\n    })];\n    const rows = [];\n    for (const dataElement of dataElements) {\n      const rowData = periods.map(period => {\n        var _objectFormatData$org, _objectFormatData$org2;\n        return (objectFormatData === null || objectFormatData === void 0 ? void 0 : (_objectFormatData$org = objectFormatData[orgUnit.id]) === null || _objectFormatData$org === void 0 ? void 0 : (_objectFormatData$org2 = _objectFormatData$org[dataElement.id]) === null || _objectFormatData$org2 === void 0 ? void 0 : _objectFormatData$org2[period.id]) || '';\n      });\n      rows.push([dataElement.name, ...rowData]);\n    }\n    table.rows = rows;\n    tableFormat.push(table);\n  }\n  return tableFormat;\n};\nconst RequestsDisplay = _ref3 => {\n  var _exchange$source, _exchange$source$requ, _exchangeData$rows;\n  let {\n    requestIndex\n  } = _ref3;\n  const {\n    exchange,\n    exchangeData\n  } = useExchangeContext();\n  const request = (_exchange$source = exchange.source) === null || _exchange$source === void 0 ? void 0 : (_exchange$source$requ = _exchange$source.requests) === null || _exchange$source$requ === void 0 ? void 0 : _exchange$source$requ[requestIndex];\n  const formattedData = formatData(exchangeData === null || exchangeData === void 0 ? void 0 : exchangeData[requestIndex]);\n  const {\n    baseUrl\n  } = useConfig();\n  if ((exchangeData === null || exchangeData === void 0 ? void 0 : (_exchangeData$rows = exchangeData.rows) === null || _exchangeData$rows === void 0 ? void 0 : _exchangeData$rows.length) === 0) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.display\n    }, /*#__PURE__*/React.createElement(Warning, {\n      title: i18n.t('No data')\n    }, /*#__PURE__*/React.createElement(\"span\", null, i18n.t('There is no data for this report'))));\n  }\n  if (exchangeData) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.display\n    }, (request === null || request === void 0 ? void 0 : request.visualization) && /*#__PURE__*/React.createElement(\"a\", {\n      target: \"_blank\",\n      rel: \"noreferrer noopener\",\n      href: `${baseUrl}/dhis-web-data-visualizer/#/${request.visualization}`,\n      className: styles.linkNoDecoration\n    }, /*#__PURE__*/React.createElement(Button, {\n      icon: /*#__PURE__*/React.createElement(IconLaunch16, null),\n      className: styles.visualizationButton,\n      secondary: true,\n      small: true\n    }, i18n.t('Open in data visualizer'))), formattedData.map(table => /*#__PURE__*/React.createElement(Table, {\n      key: table.title,\n      title: table.title,\n      columns: table.headers.map(h => h.name),\n      rows: table.rows\n    })));\n  }\n\n  // if exchangeData is missing, return null\n  return null;\n};\nRequestsDisplay.propTypes = {\n  requestIndex: PropTypes.number\n};\nexport { RequestsDisplay };","import { TabBar, Tab } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nconst RequestsNavigation = _ref => {\n  let {\n    requests,\n    selected,\n    onChange\n  } = _ref;\n  return requests && (requests === null || requests === void 0 ? void 0 : requests.length) > 0 ? /*#__PURE__*/React.createElement(TabBar, {\n    scrollable: true\n  }, requests.map((request, index) => /*#__PURE__*/React.createElement(Tab, {\n    key: request.name,\n    onClick: () => onChange(index),\n    selected: index === selected\n  }, request.name))) : null;\n};\nRequestsNavigation.propTypes = {\n  onChange: PropTypes.func.isRequired,\n  requests: PropTypes.arrayOf(PropTypes.shape({\n    name: PropTypes.string\n  })),\n  selected: PropTypes.number\n};\nexport { RequestsNavigation };","// extracted by mini-css-extract-plugin\nexport default {\"titleBar\":\"title-bar_titleBar__vDu9V\",\"workflowName\":\"title-bar_workflowName__Tr9Oe\",\"workflowDataSetsCount\":\"title-bar_workflowDataSetsCount__AfJXx\",\"analyticsRunStamp\":\"title-bar_analyticsRunStamp__BMnmh\"};","import { useConfig } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { IconInfo16, IconDimensionDataSet16, Tooltip } from '@dhis2/ui';\nimport moment from 'moment';\nimport React from 'react';\nimport { useExchangeContext } from '../../../../context/index.js';\nimport styles from './title-bar.module.css';\nconst getRelativeTimeDifference = _ref => {\n  let {\n    startTimestamp,\n    endTimestamp\n  } = _ref;\n  if (!startTimestamp || !endTimestamp) {\n    return undefined;\n  }\n  const startTime = new Date(startTimestamp);\n  const endTime = new Date(endTimestamp);\n  return moment(startTime).fromNow(endTime);\n};\n\n// this formats to the styling specified by DHIS2 design principles\nconst formatTimestamp = _ref2 => {\n  let {\n    timestamp,\n    timezone\n  } = _ref2;\n  return `${timestamp.substring(0, 10)} T ${timestamp.substring(11, 16)} ${timezone}`;\n};\nconst TitleBar = () => {\n  var _exchange$source, _exchange$source$requ;\n  const {\n    systemInfo\n  } = useConfig();\n  const {\n    lastAnalyticsTableSuccess,\n    serverDate,\n    serverTimeZoneId\n  } = systemInfo;\n  const {\n    exchange\n  } = useExchangeContext();\n  const requestsCount = (_exchange$source = exchange.source) === null || _exchange$source === void 0 ? void 0 : (_exchange$source$requ = _exchange$source.requests) === null || _exchange$source$requ === void 0 ? void 0 : _exchange$source$requ.length;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.titleBar\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.workflowName\n  }, exchange === null || exchange === void 0 ? void 0 : exchange.displayName), /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.workflowDataSetsCount\n  }, /*#__PURE__*/React.createElement(IconDimensionDataSet16, null), requestsCount === 1 && i18n.t('1 data report', {\n    requestsCount\n  }), requestsCount > 1 && i18n.t('{{requestsCount}} data reports', {\n    requestsCount\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.analyticsRunStamp\n  }, /*#__PURE__*/React.createElement(IconInfo16, null), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Tooltip, {\n    content: formatTimestamp({\n      timestamp: lastAnalyticsTableSuccess,\n      timezone: serverTimeZoneId\n    })\n  }, /*#__PURE__*/React.createElement(\"span\", null, i18n.t('Source data was generated {{timeDifference}} ago', {\n    timeDifference: getRelativeTimeDifference({\n      startTimestamp: lastAnalyticsTableSuccess,\n      endTimestamp: serverDate\n    })\n  }))))));\n};\nexport { TitleBar };","import i18n from '@dhis2/d2-i18n';\nimport { CenteredContent } from '@dhis2/ui';\nimport React, { useEffect } from 'react';\nimport { useAppContext, useExchangeContext } from '../../../context/index.js';\nimport { useExchangeId, useRequestIndex } from '../../../use-context-selection/index.js';\nimport { Warning } from '../../common/index.js';\nimport { EntryScreen } from './entry-screen.js';\nimport { RequestsDisplay } from './requests-display/index.js';\nimport { RequestsNavigation } from './requests-navigation/index.js';\nimport { TitleBar } from './title-bar/title-bar.js';\nconst DataWorkspace = () => {\n  var _exchange$source;\n  const {\n    aggregateDataExchanges\n  } = useAppContext();\n  const {\n    exchange\n  } = useExchangeContext();\n  const [exchangeId] = useExchangeId();\n  // memoize for stable reference?\n  const requests = exchange === null || exchange === void 0 ? void 0 : (_exchange$source = exchange.source) === null || _exchange$source === void 0 ? void 0 : _exchange$source.requests.map(request => ({\n    name: request.name\n  }));\n  const [selectedRequest, setSelectedRequest] = useRequestIndex(undefined);\n\n  // auto select the first report if none is specified\n  useEffect(() => {\n    if (!exchangeId || !requests) {\n      setSelectedRequest(undefined);\n    }\n    if (exchangeId && !selectedRequest && requests) {\n      setSelectedRequest(0);\n    }\n  }, [exchangeId, requests, selectedRequest, setSelectedRequest]);\n  if (aggregateDataExchanges.length === 0) {\n    return /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(\"span\", null, i18n.t('There are no exchanges available to you')));\n  }\n  if (exchange && exchangeId) {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(TitleBar, null), !requests && /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Warning, {\n      error: true,\n      title: i18n.t('No data in this exchange')\n    }, /*#__PURE__*/React.createElement(\"span\", null, i18n.t('There is not any data to show in this exchange, or you might not have access to the data.')))), !isNaN(selectedRequest) && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(RequestsNavigation, {\n      requests: requests,\n      selected: selectedRequest,\n      onChange: setSelectedRequest\n    }), /*#__PURE__*/React.createElement(RequestsDisplay, {\n      requestIndex: selectedRequest\n    })));\n  }\n  return /*#__PURE__*/React.createElement(EntryScreen, null);\n};\nexport { DataWorkspace };","// extracted by mini-css-extract-plugin\nexport default {\"submitModalSummaryWrapper\":\"submit-modal_submitModalSummaryWrapper__2ULOU\",\"loadingWrapper\":\"submit-modal_loadingWrapper__Hoq1T\",\"contentStyling\":\"submit-modal_contentStyling__Cr+sU\",\"errorWrapperText\":\"submit-modal_errorWrapperText__pS4YR\",\"errorMessage\":\"submit-modal_errorMessage__+3uPR\"};","// extracted by mini-css-extract-plugin\nexport default {\"label\":\"conflicts-details-table_label__iw8Qf\"};","import i18n from '@dhis2/d2-i18n';\nimport { Table, TableBody, TableCell, TableCellHead, TableHead, TableRow, TableRowHead } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './conflicts-details-table.module.css';\nconst ConflictsDetailsTable = _ref => {\n  let {\n    conflicts\n  } = _ref;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.label\n  }, i18n.t('Conflicts')), /*#__PURE__*/React.createElement(Table, null, /*#__PURE__*/React.createElement(TableHead, null, /*#__PURE__*/React.createElement(TableRowHead, null, /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('Object')), /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('Value')))), /*#__PURE__*/React.createElement(TableBody, null, conflicts.map((c, i) => /*#__PURE__*/React.createElement(TableRow, {\n    key: `job-summary-conflicts-${c.object}-${i}`\n  }, /*#__PURE__*/React.createElement(TableCell, null, c.object), /*#__PURE__*/React.createElement(TableCell, null, c.value))))));\n};\nConflictsDetailsTable.propTypes = {\n  conflicts: PropTypes.array\n};\nexport { ConflictsDetailsTable };","// extracted by mini-css-extract-plugin\nexport default {\"summaryBoxWrapper\":\"success-content_summaryBoxWrapper__f8Xtn\",\"summaryBoxTitle\":\"success-content_summaryBoxTitle__cWcHp\",\"summaryBox\":\"success-content_summaryBox__LlfLV\",\"label\":\"success-content_label__O6pyu\",\"count\":\"success-content_count__LYmEt\",\"success\":\"success-content_success__gxbw1 success-content_summaryBox__LlfLV\",\"deleted\":\"success-content_deleted__GNdtk success-content_summaryBox__LlfLV\",\"ignored\":\"success-content_ignored__+qnrs success-content_summaryBox__LlfLV\",\"copyButton\":\"success-content_copyButton__aqaNo\",\"tagWrapper\":\"success-content_tagWrapper__MbqQj\"};","import i18n from '@dhis2/d2-i18n';\nimport { Button, DataTable, DataTableBody, DataTableCell, DataTableColumnHeader, DataTableHead, DataTableRow, IconCheckmarkCircle16, IconError16, IconCopy16, Tag } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport { useExchangeContext } from '../../../context/index.js';\nimport { ConflictsDetailsTable } from './conflicts-details-table.js';\nimport styles from './success-content.module.css';\nconst importTypeConfig = {\n  imported: {\n    style: 'success',\n    text: i18n.t('imported')\n  },\n  updated: {\n    style: 'success',\n    text: i18n.t('updated')\n  },\n  ignored: {\n    style: 'ignored',\n    text: i18n.t('ignored')\n  }\n};\nconst SummaryBox = _ref => {\n  let {\n    importType,\n    importCount\n  } = _ref;\n  const {\n    text,\n    style: styleName\n  } = importTypeConfig[importType];\n  const boxStyle = styles[styleName];\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.summaryBox\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: boxStyle\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.count\n  }, importCount), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.label\n  }, /*#__PURE__*/React.createElement(\"span\", null, i18n.t(text)))));\n};\nSummaryBox.propTypes = {\n  importCount: PropTypes.number,\n  importType: PropTypes.string\n};\nconst getConflictLines = conflicts => {\n  if (!conflicts) {\n    return '';\n  }\n  return conflicts.map(conflict => `${conflict.object}: ${conflict.value}`).join('\\n');\n};\nconst copyTableToClipboard = _ref2 => {\n  let {\n    exchangeName,\n    exchangeURL,\n    importSummaries,\n    summaryCounts,\n    requests,\n    dataSubmitted\n  } = _ref2;\n  let text = '';\n  const exchangeNameLine = i18n.t('Exchange: {{- exchangeName}}', {\n    exchangeName,\n    nsSeparator: '-:-'\n  });\n  const targetURLLine = i18n.t('Target URL: {{- exchangeURL}}', {\n    exchangeURL: decodeURI(exchangeURL),\n    nsSeparator: '-:-'\n  });\n  const runDateLine = i18n.t('Run date: {{- runDate}}', {\n    runDate: dataSubmitted,\n    nsSeparator: '-:-'\n  });\n  if (exchangeURL) {\n    text += `${exchangeNameLine}\\n${targetURLLine}`;\n  } else {\n    text += exchangeNameLine;\n  }\n  text += '\\n' + runDateLine + '\\n\\n\\n' + i18n.t('SUMMARY') + '\\n';\n  const summaryLine = i18n.t('Imported: {{importedCount}}, Updated: {{updatedCount}}, Ignored: {{ignoredCount}}', {\n    importedCount: summaryCounts.imported,\n    updatedCount: summaryCounts.updated,\n    ignoredCount: summaryCounts.ignored,\n    nsSeparator: '-:-'\n  });\n  text += summaryLine + '\\n\\n\\n' + i18n.t('DETAILS');\n  const detailsText = importSummaries.reduce((fullText, importSummary, index) => {\n    var _requests$index$name, _requests$index, _requests$index2, _requests$index2$name, _importSummary$import, _importSummary$import2, _importSummary$import3;\n    let requestName = (_requests$index$name = requests === null || requests === void 0 ? void 0 : (_requests$index = requests[index]) === null || _requests$index === void 0 ? void 0 : _requests$index.name) !== null && _requests$index$name !== void 0 ? _requests$index$name : '';\n    if (requests !== null && requests !== void 0 && (_requests$index2 = requests[index]) !== null && _requests$index2 !== void 0 && (_requests$index2$name = _requests$index2.name) !== null && _requests$index2$name !== void 0 && _requests$index2$name.includes(',')) {\n      var _requests$index3;\n      requestName = `\"${requests === null || requests === void 0 ? void 0 : (_requests$index3 = requests[index]) === null || _requests$index3 === void 0 ? void 0 : _requests$index3.name}\"`;\n    }\n    const requestNameLine = i18n.t('Report: {{- requestName}}', {\n      requestName,\n      nsSeparator: '-:-'\n    });\n    const importedCount = (_importSummary$import = importSummary.importCount) === null || _importSummary$import === void 0 ? void 0 : _importSummary$import.imported;\n    const ignoredCount = (_importSummary$import2 = importSummary.importCount) === null || _importSummary$import2 === void 0 ? void 0 : _importSummary$import2.ignored;\n    const updatedCount = (_importSummary$import3 = importSummary.importCount) === null || _importSummary$import3 === void 0 ? void 0 : _importSummary$import3.updated;\n    const summaryCountLine = i18n.t('Imported: {{importedCount}}, Updated: {{updatedCount}}, Ignored: {{ignoredCount}}', {\n      importedCount,\n      updatedCount,\n      ignoredCount,\n      nsSeparator: '-:-'\n    });\n    const conflictLines = getConflictLines(importSummary.conflicts);\n    return fullText + '\\n\\n' + requestNameLine + '\\n' + summaryCountLine + '\\n' + conflictLines;\n  }, '');\n  text += detailsText;\n  navigator.clipboard.writeText(text);\n};\nconst SummaryRow = _ref3 => {\n  var _importSummary$confli, _importSummary$import4, _importSummary$import5, _importSummary$import6;\n  let {\n    importSummary,\n    exchangeName,\n    expandedRows,\n    expandToggle,\n    hasConflicts\n  } = _ref3;\n  const rowHasConflicts = ((_importSummary$confli = importSummary.conflicts) === null || _importSummary$confli === void 0 ? void 0 : _importSummary$confli.length) > 0;\n  const showPaddingCell = hasConflicts && !rowHasConflicts;\n  return /*#__PURE__*/React.createElement(DataTableRow, {\n    expanded: expandedRows.includes(exchangeName),\n    onExpandToggle: rowHasConflicts ? () => expandToggle(exchangeName) : undefined,\n    expandableContent: rowHasConflicts ? /*#__PURE__*/React.createElement(ConflictsDetailsTable, {\n      conflicts: importSummary.conflicts\n    }) : undefined\n  }, showPaddingCell && /*#__PURE__*/React.createElement(DataTableCell, null), /*#__PURE__*/React.createElement(DataTableCell, null, exchangeName), /*#__PURE__*/React.createElement(DataTableCell, null, (_importSummary$import4 = importSummary.importCount) === null || _importSummary$import4 === void 0 ? void 0 : _importSummary$import4.imported), /*#__PURE__*/React.createElement(DataTableCell, null, (_importSummary$import5 = importSummary.importCount) === null || _importSummary$import5 === void 0 ? void 0 : _importSummary$import5.updated), /*#__PURE__*/React.createElement(DataTableCell, null, (_importSummary$import6 = importSummary.importCount) === null || _importSummary$import6 === void 0 ? void 0 : _importSummary$import6.ignored));\n};\nSummaryRow.propTypes = {\n  exchangeName: PropTypes.string,\n  expandToggle: PropTypes.func,\n  expandedRows: PropTypes.array,\n  hasConflicts: PropTypes.bool,\n  importSummary: PropTypes.object\n};\nconst SummaryTable = _ref4 => {\n  let {\n    importSummaries,\n    summaryCounts,\n    hasConflicts,\n    dataSubmitted\n  } = _ref4;\n  const {\n    exchange\n  } = useExchangeContext();\n  const [expandedRows, setExpandedRows] = useState([]);\n  const expandToggle = rowName => {\n    if (expandedRows.includes(rowName)) {\n      setExpandedRows(expandedRows.filter(row => row !== rowName));\n    } else {\n      setExpandedRows([...expandedRows, rowName]);\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": \"success-counts-table\"\n  }, /*#__PURE__*/React.createElement(DataTable, null, /*#__PURE__*/React.createElement(DataTableHead, null, /*#__PURE__*/React.createElement(DataTableRow, null, hasConflicts && /*#__PURE__*/React.createElement(DataTableColumnHeader, null), /*#__PURE__*/React.createElement(DataTableColumnHeader, null, i18n.t('Report')), /*#__PURE__*/React.createElement(DataTableColumnHeader, null, i18n.t('Imported')), /*#__PURE__*/React.createElement(DataTableColumnHeader, null, i18n.t('Updated')), /*#__PURE__*/React.createElement(DataTableColumnHeader, null, i18n.t('Ignored')))), /*#__PURE__*/React.createElement(DataTableBody, null, importSummaries.map((importSummary, index) => {\n    var _exchange$source, _exchange$source$requ, _exchange$source2, _exchange$source2$req;\n    return /*#__PURE__*/React.createElement(SummaryRow, {\n      key: `${exchange === null || exchange === void 0 ? void 0 : (_exchange$source = exchange.source) === null || _exchange$source === void 0 ? void 0 : (_exchange$source$requ = _exchange$source.requests[index]) === null || _exchange$source$requ === void 0 ? void 0 : _exchange$source$requ.name}-summary`,\n      importSummary: importSummary,\n      exchangeName: exchange === null || exchange === void 0 ? void 0 : (_exchange$source2 = exchange.source) === null || _exchange$source2 === void 0 ? void 0 : (_exchange$source2$req = _exchange$source2.requests[index]) === null || _exchange$source2$req === void 0 ? void 0 : _exchange$source2$req.name,\n      expandedRows: expandedRows,\n      expandToggle: expandToggle,\n      hasConflicts: hasConflicts\n    });\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.copyButton\n  }, /*#__PURE__*/React.createElement(Button, {\n    small: true,\n    icon: /*#__PURE__*/React.createElement(IconCopy16, null),\n    onClick: () => {\n      var _exchange$target, _exchange$target$api, _exchange$source3;\n      copyTableToClipboard({\n        exchangeName: exchange.displayName,\n        exchangeURL: (_exchange$target = exchange.target) === null || _exchange$target === void 0 ? void 0 : (_exchange$target$api = _exchange$target.api) === null || _exchange$target$api === void 0 ? void 0 : _exchange$target$api.url,\n        importSummaries,\n        summaryCounts,\n        requests: exchange === null || exchange === void 0 ? void 0 : (_exchange$source3 = exchange.source) === null || _exchange$source3 === void 0 ? void 0 : _exchange$source3.requests,\n        dataSubmitted\n      });\n    }\n  }, i18n.t('Copy summary to clipboard'))));\n};\nSummaryTable.propTypes = {\n  dataSubmitted: PropTypes.string,\n  hasConflicts: PropTypes.bool,\n  importSummaries: PropTypes.array,\n  summaryCounts: PropTypes.object\n};\nconst SuccessContent = _ref5 => {\n  let {\n    data,\n    dataSubmitted\n  } = _ref5;\n  const {\n    importSummaries\n  } = data;\n  const summaryCounts = importSummaries.reduce((totalCounts, importSummary) => {\n    var _importSummary$confli2;\n    for (const countType in importSummary === null || importSummary === void 0 ? void 0 : importSummary.importCount) {\n      var _importSummary$import7;\n      totalCounts[countType] += ((_importSummary$import7 = importSummary.importCount) === null || _importSummary$import7 === void 0 ? void 0 : _importSummary$import7[countType]) || 0;\n    }\n    totalCounts.conflicts += ((_importSummary$confli2 = importSummary.conflicts) === null || _importSummary$confli2 === void 0 ? void 0 : _importSummary$confli2.length) || 0;\n    return totalCounts;\n  }, {\n    imported: 0,\n    updated: 0,\n    ignored: 0,\n    deleted: 0,\n    conflicts: 0\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Tag, {\n    positive: true,\n    icon: /*#__PURE__*/React.createElement(IconCheckmarkCircle16, null)\n  }, i18n.t('Data submitted successfully.')), summaryCounts.conflicts > 0 && /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.tagWrapper\n  }, /*#__PURE__*/React.createElement(Tag, {\n    negative: true,\n    icon: /*#__PURE__*/React.createElement(IconError16, null)\n  }, i18n.t('Conflicts'))), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.summaryBoxTitle\n  }, i18n.t('Summary')), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.summaryBoxWrapper\n  }, /*#__PURE__*/React.createElement(SummaryBox, {\n    importType: \"imported\",\n    importCount: summaryCounts.imported\n  }), /*#__PURE__*/React.createElement(SummaryBox, {\n    importType: \"updated\",\n    importCount: summaryCounts.updated\n  }), /*#__PURE__*/React.createElement(SummaryBox, {\n    importType: \"ignored\",\n    importCount: summaryCounts.ignored\n  })), /*#__PURE__*/React.createElement(SummaryTable, {\n    importSummaries: importSummaries,\n    summaryCounts: summaryCounts,\n    hasConflicts: summaryCounts.conflicts > 0,\n    dataSubmitted: dataSubmitted\n  }));\n};\nSuccessContent.propTypes = {\n  data: PropTypes.object,\n  dataSubmitted: PropTypes.submitted\n};\nexport { SuccessContent };","import { useDataEngine } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport moment from 'moment';\nimport { useEffect, useReducer, useState } from 'react';\nconst getMutation = _ref => {\n  let {\n    id\n  } = _ref;\n  return {\n    resource: `aggregateDataExchanges/${id}/exchange`,\n    type: 'create'\n  };\n};\nconst uncalledState = {\n  data: null,\n  error: null,\n  loading: false,\n  called: false,\n  dataSubmitted: null\n};\nconst submitReducer = (state, action) => {\n  switch (action.type) {\n    case 'loading':\n      return {\n        ...uncalledState,\n        loading: true\n      };\n    case 'success':\n      return {\n        data: action.payload,\n        error: null,\n        loading: false,\n        called: true,\n        dataSubmitted: moment().format()\n      };\n    case 'error':\n      return {\n        data: null,\n        error: action.payload,\n        loading: false,\n        called: false,\n        dataSubmitted: null\n      };\n    case 'reset':\n      return {\n        ...uncalledState\n      };\n    default:\n      return {\n        ...uncalledState,\n        called: true\n      };\n  }\n};\nexport const useAggregateDataExchangeMutation = _ref2 => {\n  let {\n    id\n  } = _ref2;\n  const engine = useDataEngine();\n  const [submissionState, dispatch] = useReducer(submitReducer, uncalledState);\n  const [fetch, setFetch] = useState(false);\n  useEffect(() => {\n    const fetchData = async _ref3 => {\n      let {\n        id\n      } = _ref3;\n      if (fetch) {\n        dispatch({\n          type: 'loading'\n        });\n        try {\n          const response = await engine.mutate(getMutation({\n            id\n          }));\n          if ((response === null || response === void 0 ? void 0 : response.status) === 'ERROR') {\n            var _response$importSumma;\n            const errorMessage = (response === null || response === void 0 ? void 0 : (_response$importSumma = response.importSummaries.find(_ref4 => {\n              let {\n                status\n              } = _ref4;\n              return status === 'ERROR';\n            })) === null || _response$importSumma === void 0 ? void 0 : _response$importSumma.description) || i18n.t('Unknown error');\n            throw new Error(errorMessage);\n          }\n          setFetch(false);\n          dispatch({\n            type: 'success',\n            payload: response\n          });\n        } catch (error) {\n          setFetch(false);\n          dispatch({\n            type: 'error',\n            payload: error\n          });\n        }\n      }\n    };\n    fetchData({\n      id\n    });\n  }, [id, fetch, engine]);\n\n  // clean up if id changes\n  useEffect(() => {\n    return () => {\n      dispatch({\n        type: 'reset'\n      });\n    };\n  }, [id]);\n  const refetch = () => {\n    setFetch(true);\n  };\n  return [refetch, submissionState];\n};","import { useConfig } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { Button, ButtonStrip, CenteredContent, CircularLoader, Modal, ModalActions, ModalContent, ModalTitle } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useEffect, useState } from 'react';\nimport { useExchangeContext } from '../../../context/index.js';\nimport { Warning } from '../../common/index.js';\nimport styles from './submit-modal.module.css';\nimport { SuccessContent } from './success-content.js';\nimport { useAggregateDataExchangeMutation } from './use-aggregate-data-exchange-mutation.js';\nconst LoadingStateModalContent = () => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ModalContent, null, /*#__PURE__*/React.createElement(ModalContentWrapper, null, /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(\"div\", {\n  className: styles.loadingWrapper\n}, /*#__PURE__*/React.createElement(CircularLoader, {\n  small: true\n}), /*#__PURE__*/React.createElement(\"span\", null, i18n.t('Submitting...')))))), /*#__PURE__*/React.createElement(ModalActions, null, /*#__PURE__*/React.createElement(ButtonStrip, {\n  end: true\n}, /*#__PURE__*/React.createElement(Button, {\n  disabled: true\n}, i18n.t('No, cancel')), /*#__PURE__*/React.createElement(Button, {\n  primary: true,\n  disabled: true\n}, i18n.t('Yes, submit')))));\nconst ErrorModalContent = _ref => {\n  let {\n    error,\n    onRetry,\n    onClose\n  } = _ref;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ModalContent, null, /*#__PURE__*/React.createElement(ModalContentWrapper, null, /*#__PURE__*/React.createElement(Warning, {\n    error: true,\n    title: i18n.t('There was a problem submitting data')\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.errorWrapperText\n  }, i18n.t('It was not possible to submit your data. The message below provides additional detail.')), /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.errorMessage\n  }, (error === null || error === void 0 ? void 0 : error.message) || '')))), /*#__PURE__*/React.createElement(ModalActions, null, /*#__PURE__*/React.createElement(ButtonStrip, {\n    end: true\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: onClose\n  }, i18n.t('Close')), /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    onClick: onRetry\n  }, i18n.t('Try again')))));\n};\nErrorModalContent.propTypes = {\n  error: PropTypes.object,\n  onClose: PropTypes.func,\n  onRetry: PropTypes.func\n};\nconst SuccessModalContent = _ref2 => {\n  let {\n    onClose,\n    data,\n    dataSubmitted\n  } = _ref2;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ModalContent, null, /*#__PURE__*/React.createElement(ModalContentWrapper, null, /*#__PURE__*/React.createElement(SuccessContent, {\n    data: data,\n    dataSubmitted: dataSubmitted\n  }))), /*#__PURE__*/React.createElement(ModalActions, null, /*#__PURE__*/React.createElement(ButtonStrip, {\n    end: true\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: onClose\n  }, i18n.t('Close')))));\n};\nSuccessModalContent.propTypes = {\n  data: PropTypes.object,\n  dataSubmitted: PropTypes.string,\n  onClose: PropTypes.func\n};\nconst getReportText = request => {\n  const {\n    name,\n    orgUnits,\n    periods\n  } = request;\n  const orgUnitText = orgUnits.length === 1 ? i18n.t('{{orgUnitCount}} organisation unit', {\n    orgUnitCount: orgUnits.length\n  }) : i18n.t('{{orgUnitCount}} organisation units', {\n    orgUnitCount: orgUnits.length\n  });\n  let periodsText = '';\n  if (periods.length === 1) {\n    periodsText = i18n.t('{{periodsCount}} period: {{periods}}', {\n      periodsCount: periods.length,\n      periods: periods[0],\n      nsSeparator: '-:-'\n    });\n  }\n  if (periods.length > 1 && periods.length <= 3) {\n    periodsText = i18n.t('{{periodsCount}} periods: {{periods}}', {\n      periodsCount: periods.length,\n      periods: periods.join(', '),\n      nsSeparator: '-:-'\n    });\n  }\n  if (periods.length > 3) {\n    periodsText = i18n.t('3+ periods: {{periods}}, and {{periodsCountLessThree}} more', {\n      periodsCount: periods.length,\n      periods: periods.slice(0, 3).join(', '),\n      periodsCountLessThree: periods.length - 3,\n      nsSeparator: '-:-'\n    });\n  }\n  return `${name}, ${orgUnitText}, ${periodsText}`;\n};\nconst ConfirmModalContent = _ref3 => {\n  var _exchange$target, _exchange$target2, _exchange$target2$api, _exchange$target3;\n  let {\n    exchange,\n    requests,\n    onClose,\n    onSubmit\n  } = _ref3;\n  // this is very wordy, but did not have luck with i18nextscanner picking up from more compact versions...\n  let reportTranslationsString;\n  const {\n    baseUrl\n  } = useConfig();\n  const reportCount = requests.length;\n  const exchangeName = exchange === null || exchange === void 0 ? void 0 : exchange.displayName;\n  const exchangeURL = (exchange === null || exchange === void 0 ? void 0 : (_exchange$target = exchange.target) === null || _exchange$target === void 0 ? void 0 : _exchange$target.type) === 'INTERNAL' ? baseUrl : exchange === null || exchange === void 0 ? void 0 : (_exchange$target2 = exchange.target) === null || _exchange$target2 === void 0 ? void 0 : (_exchange$target2$api = _exchange$target2.api) === null || _exchange$target2$api === void 0 ? void 0 : _exchange$target2$api.url;\n  const exchangeHostName = exchangeURL === null || exchangeURL === void 0 ? void 0 : exchangeURL.split('//')[1]; // remove protocol\n\n  if ((exchange === null || exchange === void 0 ? void 0 : (_exchange$target3 = exchange.target) === null || _exchange$target3 === void 0 ? void 0 : _exchange$target3.type) === 'INTERNAL') {\n    if (requests.length > 1) {\n      reportTranslationsString = i18n.t('{{reportCount}} reports to {{-exchangeName}} internally at {{-exchangeHostName}}', {\n        reportCount,\n        exchangeName,\n        exchangeHostName\n      });\n    } else {\n      reportTranslationsString = i18n.t('{{reportCount}} report to {{-exchangeName}} internally at {{-exchangeHostName}}', {\n        reportCount,\n        exchangeName,\n        exchangeHostName\n      });\n    }\n  } else {\n    if (requests.length > 1) {\n      reportTranslationsString = i18n.t('{{reportCount}} reports to {{-exchangeName}} at {{-exchangeHostName}}', {\n        reportCount,\n        exchangeName,\n        exchangeHostName\n      });\n    } else {\n      reportTranslationsString = i18n.t('{{reportCount}} report to {{-exchangeName}} at {{-exchangeHostName}}', {\n        reportCount,\n        exchangeName,\n        exchangeHostName\n      });\n    }\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ModalContent, null, /*#__PURE__*/React.createElement(ModalContentWrapper, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.submitModalSummaryWrapper\n  }, reportTranslationsString, /*#__PURE__*/React.createElement(\"ul\", null, requests.map(request => {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: request.name\n    }, getReportText(request));\n  }))), /*#__PURE__*/React.createElement(\"div\", null, i18n.t('Are you sure you want to submit this data?')))), /*#__PURE__*/React.createElement(ModalActions, null, /*#__PURE__*/React.createElement(ButtonStrip, {\n    end: true\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: onClose\n  }, i18n.t('No, cancel')), /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    onClick: onSubmit\n  }, i18n.t('Yes, submit')))));\n};\nConfirmModalContent.propTypes = {\n  exchange: PropTypes.object,\n  requests: PropTypes.array,\n  onClose: PropTypes.func,\n  onSubmit: PropTypes.func\n};\nconst ModalContentWrapper = _ref4 => {\n  let {\n    children\n  } = _ref4;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.contentStyling\n  }, children);\n};\nModalContentWrapper.propTypes = {\n  children: PropTypes.node\n};\nconst SubmitModal = _ref5 => {\n  let {\n    open,\n    onClose,\n    setDataSubmitted\n  } = _ref5;\n  const {\n    exchange,\n    exchangeData\n  } = useExchangeContext();\n  const [submitsAttempted, setSubmitsAttempted] = useState(false);\n  const requests = exchangeData === null || exchangeData === void 0 ? void 0 : exchangeData.map((request, index) => {\n    var _exchange$source, _exchange$source$requ, _exchange$source$requ2, _request$metaData, _request$metaData$dim, _request$metaData2, _request$metaData2$di;\n    return {\n      name: (_exchange$source = exchange.source) === null || _exchange$source === void 0 ? void 0 : (_exchange$source$requ = _exchange$source.requests) === null || _exchange$source$requ === void 0 ? void 0 : (_exchange$source$requ2 = _exchange$source$requ[index]) === null || _exchange$source$requ2 === void 0 ? void 0 : _exchange$source$requ2.name,\n      orgUnits: (_request$metaData = request.metaData) === null || _request$metaData === void 0 ? void 0 : (_request$metaData$dim = _request$metaData.dimensions) === null || _request$metaData$dim === void 0 ? void 0 : _request$metaData$dim.ou,\n      periods: (_request$metaData2 = request.metaData) === null || _request$metaData2 === void 0 ? void 0 : (_request$metaData2$di = _request$metaData2.dimensions) === null || _request$metaData2$di === void 0 ? void 0 : _request$metaData2$di.pe.map(period => {\n        var _request$metaData3, _request$metaData3$it;\n        return (_request$metaData3 = request.metaData) === null || _request$metaData3 === void 0 ? void 0 : (_request$metaData3$it = _request$metaData3.items[period]) === null || _request$metaData3$it === void 0 ? void 0 : _request$metaData3$it.name;\n      })\n    };\n  });\n  const [submitExchange, {\n    called,\n    data,\n    error,\n    loading,\n    dataSubmitted\n  }] = useAggregateDataExchangeMutation({\n    id: exchange === null || exchange === void 0 ? void 0 : exchange.id\n  });\n\n  // clean up whenever modal is closed\n  useEffect(() => {\n    if (!open) {\n      setSubmitsAttempted(false);\n    }\n  }, [open]);\n\n  // update data submission status when there is a change\n  useEffect(() => {\n    setDataSubmitted(dataSubmitted);\n  }, [dataSubmitted, setDataSubmitted]);\n  return !exchange ? null : /*#__PURE__*/React.createElement(Modal, {\n    hide: !open,\n    large: true,\n    position: \"middle\",\n    onClose: loading ? null : onClose\n  }, /*#__PURE__*/React.createElement(ModalTitle, null, i18n.t('Submitting data')), !called && !loading && !submitsAttempted && /*#__PURE__*/React.createElement(ConfirmModalContent, {\n    exchange: exchange,\n    requests: requests,\n    onClose: onClose,\n    onSubmit: () => {\n      setSubmitsAttempted(true);\n      submitExchange();\n    }\n  }), error && submitsAttempted && /*#__PURE__*/React.createElement(ErrorModalContent, {\n    error: error,\n    onRetry: submitExchange,\n    onClose: onClose\n  }), data && /*#__PURE__*/React.createElement(SuccessModalContent, {\n    data: data,\n    dataSubmitted: dataSubmitted,\n    onClose: onClose\n  }), loading && /*#__PURE__*/React.createElement(LoadingStateModalContent, null));\n};\nSubmitModal.propTypes = {\n  open: PropTypes.bool,\n  setDataSubmitted: PropTypes.func,\n  onClose: PropTypes.func\n};\nexport { SubmitModal };","// extracted by mini-css-extract-plugin\nexport default {\"menuSelect\":\"menu-select_menuSelect__l9ZFW\"};","import { Menu, MenuItem } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport css from './menu-select.module.css';\nconst MenuSelect = _ref => {\n  let {\n    values,\n    selected,\n    dataTest,\n    onChange\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: css.menuSelect,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(Menu, null, values.map(_ref2 => {\n    let {\n      value,\n      label\n    } = _ref2;\n    return /*#__PURE__*/React.createElement(MenuItem, {\n      key: value || label,\n      dataValue: value,\n      label: /*#__PURE__*/React.createElement(\"span\", {\n        \"data-value\": value\n      }, label),\n      active: selected === value,\n      onClick: () => onChange({\n        selected: value\n      })\n    });\n  })));\n};\nMenuSelect.defaultProps = {\n  dataTest: 'menu-select'\n};\nMenuSelect.propTypes = {\n  values: PropTypes.arrayOf(PropTypes.shape({\n    label: PropTypes.string.isRequired,\n    value: PropTypes.string\n  })).isRequired,\n  onChange: PropTypes.func.isRequired,\n  dataTest: PropTypes.string,\n  selected: PropTypes.string\n};\nexport { MenuSelect };","import i18n from '@dhis2/d2-i18n';\nimport { SelectorBarItem } from '@dhis2/ui';\nimport React, { useState } from 'react';\nimport { useAppContext } from '../../../../context/app-context/index.js';\nimport { useExchangeId } from '../../../../use-context-selection/use-context-selections.js';\nimport { MenuSelect } from '../menu-select/index.js';\nconst ExchangeSelect = () => {\n  var _dataExchangeOptions$;\n  const {\n    aggregateDataExchanges\n  } = useAppContext();\n  const [exchangeId, setExchangeId] = useExchangeId();\n  const [exchangeSelectorOpen, setExchangeSelectorOpen] = useState(false);\n  const dataExchangeOptions = aggregateDataExchanges.map(exchange => ({\n    value: exchange.id,\n    label: exchange.displayName\n  }));\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": \"data-exchange-selector\"\n  }, /*#__PURE__*/React.createElement(SelectorBarItem, {\n    label: i18n.t('Data exchange'),\n    value: (_dataExchangeOptions$ = dataExchangeOptions.find(dExchange => dExchange.value === exchangeId)) === null || _dataExchangeOptions$ === void 0 ? void 0 : _dataExchangeOptions$.label,\n    open: exchangeSelectorOpen,\n    setOpen: setExchangeSelectorOpen,\n    noValueMessage: i18n.t('Choose a data exchange')\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": \"data-exchange-selector-contents\"\n  }, /*#__PURE__*/React.createElement(MenuSelect, {\n    values: dataExchangeOptions,\n    selected: exchangeId,\n    dataTest: \"exchange-selector-menu\",\n    onChange: _ref => {\n      let {\n        selected\n      } = _ref;\n      setExchangeId(selected);\n      setExchangeSelectorOpen(false);\n    }\n  }))));\n};\nexport { ExchangeSelect };","// extracted by mini-css-extract-plugin\nexport default {\"additionalContentContainer\":\"top-bar_additionalContentContainer__mYsi8\"};","import i18n from '@dhis2/d2-i18n';\nimport { Button, SelectorBar } from '@dhis2/ui';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useUserContext } from '../../../context/index.js';\nimport { useClearEntireSelection } from '../../../use-context-selection/index.js';\nimport { ExchangeSelect } from './exchange-select/index.js';\nimport styles from './top-bar.module.css';\nconst LinKToEditMode = () => {\n  const {\n    canAddExchange,\n    canDeleteExchange\n  } = useUserContext();\n  if (!canAddExchange && !canDeleteExchange) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.additionalContentContainer\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/edit\"\n  }, /*#__PURE__*/React.createElement(Button, {\n    small: true\n  }, i18n.t('Configurations'))));\n};\nconst TopBar = () => {\n  const clearSelections = useClearEntireSelection();\n  return /*#__PURE__*/React.createElement(SelectorBar, {\n    onClearSelectionClick: clearSelections,\n    additionalContent: /*#__PURE__*/React.createElement(LinKToEditMode, null)\n  }, /*#__PURE__*/React.createElement(ExchangeSelect, null));\n};\nexport { TopBar };","import React, { useState } from 'react';\nimport { BottomBar } from '../components/view/bottom-bar/index.js';\nimport { Layout } from '../components/view/data-layout/layout.js';\nimport { DataWorkspace } from '../components/view/data-workspace/index.js';\nimport { SubmitModal } from '../components/view/submit-modal/index.js';\nimport { TopBar } from '../components/view/top-bar/index.js';\nimport { ExchangeProvider } from '../context/exchange-context/index.js';\nexport const DataPage = () => {\n  const [submitModalOpen, setSubmitModalOpen] = useState(false);\n  const [dataSubmitted, setDataSubmitted] = useState(null);\n  const closeSubmitModal = () => {\n    setSubmitModalOpen(false);\n  };\n  const openSubmitModal = () => {\n    setSubmitModalOpen(true);\n  };\n  return /*#__PURE__*/React.createElement(Layout.Container, null, /*#__PURE__*/React.createElement(Layout.Top, null, /*#__PURE__*/React.createElement(TopBar, null)), /*#__PURE__*/React.createElement(ExchangeProvider, null, /*#__PURE__*/React.createElement(Layout.Content, null, /*#__PURE__*/React.createElement(DataWorkspace, null), /*#__PURE__*/React.createElement(SubmitModal, {\n    open: submitModalOpen,\n    onClose: closeSubmitModal,\n    setDataSubmitted: setDataSubmitted\n  })), /*#__PURE__*/React.createElement(Layout.Bottom, null, /*#__PURE__*/React.createElement(BottomBar, {\n    openSubmitModal: openSubmitModal,\n    dataSubmitted: dataSubmitted\n  }))));\n};","export const SCHEME_TYPES = {\n  uid: 'UID',\n  code: 'CODE',\n  attribute: 'ATTRIBUTE'\n};\nexport const AUTHENTICATION_TYPES = {\n  basic: 'BASIC',\n  pat: 'PAT'\n};\nexport const EXCHANGE_TYPES = {\n  external: 'EXTERNAL',\n  internal: 'INTERNAL'\n};\nexport const OU_GROUP_PREFIX = 'OU_GROUP-';\nexport const OU_LEVEL_PREFIX = 'LEVEL-';","// extracted by mini-css-extract-plugin\nexport default {\"accessWarningButton\":\"access-warning_accessWarningButton__Y58xP\"};","import i18n from '@dhis2/d2-i18n';\nimport { Button } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Warning } from '../../common/index.js';\nimport styles from './access-warning.module.css';\nexport const AccessWarning = _ref => {\n  let {\n    editMode\n  } = _ref;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Warning, {\n    error: true,\n    title: i18n.t('Not available')\n  }, /*#__PURE__*/React.createElement(\"span\", null, editMode ? i18n.t('The requested exchange does not exist, or you do not have the relevant authorities to edit it.') : i18n.t('You do not have the relevant authorities to add a new exchange.'))), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.accessWarningButton\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/edit/\"\n  }, /*#__PURE__*/React.createElement(Button, null, i18n.t('Back to configurations page')))));\n};\nAccessWarning.propTypes = {\n  editMode: PropTypes.bool\n};","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"selector-validation-error_container__iwnbM\",\"message\":\"selector-validation-error_message__MvRHB\"};","import { IconErrorFilled24, colors } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './selector-validation-error.module.css';\nexport const SelectorValidationError = _ref => {\n  let {\n    meta\n  } = _ref;\n  const {\n    error,\n    touched\n  } = meta;\n  if (!touched || !error) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.container\n  }, /*#__PURE__*/React.createElement(IconErrorFilled24, {\n    color: colors.red500\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.message\n  }, error));\n};\nSelectorValidationError.propTypes = {\n  meta: PropTypes.object\n};","import i18n from '@dhis2/d2-i18n';\nimport { Button, ButtonStrip, Modal, ModalActions, ModalContent, ModalTitle, ReactFinalForm } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useCallback, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nconst DiscardModal = _ref => {\n  let {\n    open,\n    onClose,\n    onCancelConfirm,\n    objectName\n  } = _ref;\n  return /*#__PURE__*/React.createElement(Modal, {\n    hide: !open,\n    large: true,\n    position: \"middle\",\n    onClose: onClose\n  }, /*#__PURE__*/React.createElement(ModalTitle, null, i18n.t('Discard unsaved changes')), /*#__PURE__*/React.createElement(ModalContent, null, /*#__PURE__*/React.createElement(\"span\", null, i18n.t('The {{objectName}} has unsaved changes. Leaving this page will discard these changes. Are you sure?', {\n    objectName\n  }))), /*#__PURE__*/React.createElement(ModalActions, null, /*#__PURE__*/React.createElement(ButtonStrip, {\n    end: true\n  }, /*#__PURE__*/React.createElement(Button, {\n    secondary: true,\n    onClick: onClose\n  }, i18n.t('No, go back')), /*#__PURE__*/React.createElement(Button, {\n    destructive: true,\n    onClick: onCancelConfirm\n  }, i18n.t('Yes, discard changes')))));\n};\nDiscardModal.propTypes = {\n  objectName: PropTypes.string,\n  open: PropTypes.bool,\n  onCancelConfirm: PropTypes.func,\n  onClose: PropTypes.func\n};\nexport const EditItemFooter = _ref2 => {\n  let {\n    handleSubmit,\n    requestsTouched\n  } = _ref2;\n  const [discardModalOpen, setDiscardModalOpen] = useState(false);\n  const navigate = useNavigate();\n  const {\n    useFormState\n  } = ReactFinalForm;\n  const {\n    dirty\n  } = useFormState();\n  const formDirty = dirty || requestsTouched;\n  const onClose = useCallback(() => {\n    setDiscardModalOpen(false);\n  }, [setDiscardModalOpen]);\n  const onCancelConfirm = useCallback(() => {\n    navigate('/edit');\n  }, [navigate]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ButtonStrip, null, /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    primary: true,\n    onClick: () => {\n      handleSubmit();\n    }\n  }, i18n.t('Save exchange')), /*#__PURE__*/React.createElement(Button, {\n    onClick: () => {\n      !formDirty ? onCancelConfirm() : setDiscardModalOpen(true);\n    }\n  }, i18n.t('Cancel'))), /*#__PURE__*/React.createElement(DiscardModal, {\n    open: discardModalOpen,\n    onClose: onClose,\n    objectName: \"exchange\",\n    onCancelConfirm: onCancelConfirm\n  }));\n};\nEditItemFooter.propTypes = {\n  handleSubmit: PropTypes.func,\n  requestsTouched: PropTypes.bool\n};\nexport const EditRequestFooter = _ref3 => {\n  let {\n    exitRequestEditMode,\n    handleRequestSubmit\n  } = _ref3;\n  const [discardModalOpen, setDiscardModalOpen] = useState(false);\n  const onClose = useCallback(() => {\n    setDiscardModalOpen(false);\n  }, [setDiscardModalOpen]);\n  const {\n    useFormState\n  } = ReactFinalForm;\n  const {\n    dirty,\n    valid\n  } = useFormState();\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ButtonStrip, null, /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    primary: true,\n    onClick: () => {\n      handleRequestSubmit();\n      if (valid) {\n        exitRequestEditMode();\n      }\n    }\n  }, i18n.t('Save request')), /*#__PURE__*/React.createElement(Button, {\n    onClick: () => {\n      !dirty ? exitRequestEditMode() : setDiscardModalOpen(true);\n    }\n  }, i18n.t('Cancel'))), /*#__PURE__*/React.createElement(DiscardModal, {\n    open: discardModalOpen,\n    onClose: onClose,\n    objectName: \"request\",\n    onCancelConfirm: exitRequestEditMode\n  }));\n};\nEditRequestFooter.propTypes = {\n  exitRequestEditMode: PropTypes.func,\n  handleRequestSubmit: PropTypes.func\n};","// extracted by mini-css-extract-plugin\nexport default {\"subtitleContainer\":\"form-subsection_subtitleContainer__8wDqL\",\"subtitle\":\"form-subsection_subtitle__9OKIR\",\"subsectionContent\":\"form-subsection_subsectionContent__-frqp\"};","import { IconChevronUp24, IconChevronDown24 } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './form-subsection.module.css';\nexport const AdvancedSubsection = _ref => {\n  let {\n    text,\n    children,\n    open,\n    onTextClick,\n    className = ''\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: className\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.subtitleContainer,\n    onClick: onTextClick\n  }, open ? /*#__PURE__*/React.createElement(IconChevronUp24, null) : /*#__PURE__*/React.createElement(IconChevronDown24, null), /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.subtitle\n  }, text)), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.subsectionContent\n  }, children));\n};\nAdvancedSubsection.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n  open: PropTypes.bool,\n  text: PropTypes.string,\n  onTextClick: PropTypes.func\n};\nexport const Subsection = _ref2 => {\n  let {\n    text,\n    children,\n    className = ''\n  } = _ref2;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: className\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.subtitleContainer\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.subtitle\n  }, text)), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.subsectionContent\n  }, children));\n};\nSubsection.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n  text: PropTypes.string\n};","// extracted by mini-css-extract-plugin\nexport default {\"radiosContainer\":\"scheme-selector_radiosContainer__Tzsc+\",\"radioItem\":\"scheme-selector_radioItem__cb8la\",\"radioContainerLabel\":\"scheme-selector_radioContainerLabel__4E+0q\",\"attributeSelectionContainer\":\"scheme-selector_attributeSelectionContainer__ZsQCO\",\"schemeSelectorContainer\":\"scheme-selector_schemeSelectorContainer__f7cfM\"};","import i18n from '@dhis2/d2-i18n';\nimport { Field as FieldContainer, ReactFinalForm, RadioFieldFF, SingleSelectFieldFF, hasValue } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { useAttributeContext } from '../../../context/index.js';\nimport { SCHEME_TYPES } from './constants.js';\nimport styles from './scheme-selector.module.css';\nexport const SchemeSelector = _ref => {\n  let {\n    name,\n    label,\n    disabled\n  } = _ref;\n  const {\n    Field,\n    useField\n  } = ReactFinalForm;\n  const {\n    input: schemeInput\n  } = useField(name, {\n    subscription: {\n      value: true\n    }\n  });\n  const {\n    value: schemeValue\n  } = schemeInput;\n  const {\n    attributes\n  } = useAttributeContext();\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.schemeSelectorContainer\n  }, /*#__PURE__*/React.createElement(FieldContainer, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.radioContainerLabel\n  }, label), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.radiosContainer\n  }, /*#__PURE__*/React.createElement(Field, {\n    name: name,\n    type: \"radio\",\n    component: RadioFieldFF,\n    label: i18n.t('ID'),\n    value: SCHEME_TYPES.uid,\n    disabled: disabled\n  }), /*#__PURE__*/React.createElement(Field, {\n    name: name,\n    className: styles.radioItem,\n    type: \"radio\",\n    component: RadioFieldFF,\n    label: i18n.t('Code'),\n    value: SCHEME_TYPES.code,\n    disabled: disabled\n  }), /*#__PURE__*/React.createElement(Field, {\n    name: name,\n    className: styles.radioItem,\n    type: \"radio\",\n    component: RadioFieldFF,\n    label: i18n.t('Attribute'),\n    value: SCHEME_TYPES.attribute,\n    disabled: disabled || attributes.length === 0\n  }))), schemeValue === SCHEME_TYPES.attribute && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.attributeSelectionContainer\n  }, /*#__PURE__*/React.createElement(Field, {\n    name: `${name}_attribute`,\n    component: SingleSelectFieldFF,\n    options: attributes.map(_ref2 => {\n      let {\n        id,\n        displayName\n      } = _ref2;\n      return {\n        value: id,\n        label: displayName\n      };\n    }),\n    validate: hasValue\n  })));\n};\nSchemeSelector.propTypes = {\n  disabled: PropTypes.bool,\n  label: PropTypes.string,\n  name: PropTypes.string\n};","import { useContext } from 'react';\nimport { AttributeContext } from './attribute-context.js';\nexport const useAttributeContext = () => useContext(AttributeContext);","import i18n from '@dhis2/d2-i18n';\nimport { SingleSelect, SingleSelectOption } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\n// TODO change the \"Created by\" prefix to \"Creator\" or something that does not require a context for the translators\n\nexport const CREATED_BY_ALL = 'all';\nexport const CREATED_BY_ALL_BUT_CURRENT_USER = 'allButCurrentUser';\nexport const CREATED_BY_CURRENT_USER = 'currentUser';\nexport const CreatedByFilter = _ref => {\n  let {\n    selected,\n    onChange\n  } = _ref;\n  return /*#__PURE__*/React.createElement(SingleSelect, {\n    selected: selected,\n    onChange: _ref2 => {\n      let {\n        selected\n      } = _ref2;\n      return onChange(selected);\n    },\n    prefix: i18n.t('Created by'),\n    dense: true\n  }, /*#__PURE__*/React.createElement(SingleSelectOption, {\n    label: i18n.t('Anyone'),\n    value: CREATED_BY_ALL\n  }), /*#__PURE__*/React.createElement(SingleSelectOption, {\n    label: i18n.t('Only you'),\n    value: CREATED_BY_CURRENT_USER\n  }), /*#__PURE__*/React.createElement(SingleSelectOption, {\n    label: i18n.t('Others'),\n    value: CREATED_BY_ALL_BUT_CURRENT_USER\n  }));\n};\nCreatedByFilter.propTypes = {\n  onChange: PropTypes.func.isRequired,\n  selected: PropTypes.string\n};\nexport default CreatedByFilter;","import moment from 'moment';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport const DateField = _ref => {\n  let {\n    date\n  } = _ref;\n  const d = new Date(date);\n  return /*#__PURE__*/React.createElement(\"time\", {\n    dateTime: d.toISOString()\n  }, moment(date).format('L'));\n};\nDateField.propTypes = {\n  date: PropTypes.string.isRequired\n};\nexport default DateField;","import { IconTable16, IconVisualizationArea16, IconVisualizationAreaStacked16, IconVisualizationBar16, IconVisualizationBarStacked16, IconVisualizationColumn16, IconVisualizationColumnMulti16, IconVisualizationColumnStacked16, IconVisualizationGauge16, IconVisualizationLine16, IconVisualizationLinelist16, IconVisualizationLineMulti16, IconVisualizationPie16, IconVisualizationRadar16, IconVisualizationScatter16, IconVisualizationSingleValue16, IconTable24, IconVisualizationArea24, IconVisualizationAreaStacked24, IconVisualizationBar24, IconVisualizationBarStacked24, IconVisualizationColumn24, IconVisualizationLinelist24, IconVisualizationColumnMulti24, IconVisualizationColumnStacked24, IconVisualizationGauge24, IconVisualizationLine24, IconVisualizationLineMulti24, IconVisualizationPie24, IconVisualizationRadar24, IconVisualizationScatter24, IconVisualizationSingleValue24 } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { VIS_TYPE_LINE_LIST, VIS_TYPE_PIVOT_TABLE, VIS_TYPE_COLUMN, VIS_TYPE_STACKED_COLUMN, VIS_TYPE_BAR, VIS_TYPE_STACKED_BAR, VIS_TYPE_LINE, VIS_TYPE_AREA, VIS_TYPE_STACKED_AREA, VIS_TYPE_PIE, VIS_TYPE_RADAR, VIS_TYPE_GAUGE, VIS_TYPE_YEAR_OVER_YEAR_LINE, VIS_TYPE_YEAR_OVER_YEAR_COLUMN, VIS_TYPE_SINGLE_VALUE, VIS_TYPE_SCATTER } from './visTypes.js';\nexport const VisTypeIcon = _ref => {\n  let {\n    type,\n    useSmall = false,\n    ...props\n  } = _ref;\n  let VisIcon;\n  switch (type) {\n    case VIS_TYPE_LINE_LIST:\n      {\n        VisIcon = useSmall ? IconVisualizationLinelist16 : IconVisualizationLinelist24;\n        break;\n      }\n    case VIS_TYPE_PIVOT_TABLE:\n      {\n        VisIcon = useSmall ? IconTable16 : IconTable24;\n        break;\n      }\n    case VIS_TYPE_BAR:\n      {\n        VisIcon = useSmall ? IconVisualizationBar16 : IconVisualizationBar24;\n        break;\n      }\n    case VIS_TYPE_STACKED_BAR:\n      {\n        VisIcon = useSmall ? IconVisualizationBarStacked16 : IconVisualizationBarStacked24;\n        break;\n      }\n    case VIS_TYPE_STACKED_COLUMN:\n      {\n        VisIcon = useSmall ? IconVisualizationColumnStacked16 : IconVisualizationColumnStacked24;\n        break;\n      }\n    case VIS_TYPE_LINE:\n      {\n        VisIcon = useSmall ? IconVisualizationLine16 : IconVisualizationLine24;\n        break;\n      }\n    case VIS_TYPE_AREA:\n      {\n        VisIcon = useSmall ? IconVisualizationArea16 : IconVisualizationArea24;\n        break;\n      }\n    case VIS_TYPE_STACKED_AREA:\n      {\n        VisIcon = useSmall ? IconVisualizationAreaStacked16 : IconVisualizationAreaStacked24;\n        break;\n      }\n    case VIS_TYPE_PIE:\n      {\n        VisIcon = useSmall ? IconVisualizationPie16 : IconVisualizationPie24;\n        break;\n      }\n    case VIS_TYPE_RADAR:\n      {\n        VisIcon = useSmall ? IconVisualizationRadar16 : IconVisualizationRadar24;\n        break;\n      }\n    case VIS_TYPE_GAUGE:\n      {\n        VisIcon = useSmall ? IconVisualizationGauge16 : IconVisualizationGauge24;\n        break;\n      }\n    case VIS_TYPE_YEAR_OVER_YEAR_LINE:\n      {\n        VisIcon = useSmall ? IconVisualizationLineMulti16 : IconVisualizationLineMulti24;\n        break;\n      }\n    case VIS_TYPE_YEAR_OVER_YEAR_COLUMN:\n      {\n        VisIcon = useSmall ? IconVisualizationColumnMulti16 : IconVisualizationColumnMulti24;\n        break;\n      }\n    case VIS_TYPE_SINGLE_VALUE:\n      {\n        VisIcon = useSmall ? IconVisualizationSingleValue16 : IconVisualizationSingleValue24;\n        break;\n      }\n    case VIS_TYPE_SCATTER:\n      {\n        VisIcon = useSmall ? IconVisualizationScatter16 : IconVisualizationScatter24;\n        break;\n      }\n    case VIS_TYPE_COLUMN:\n    default:\n      {\n        VisIcon = useSmall ? IconVisualizationColumn16 : IconVisualizationColumn24;\n        break;\n      }\n  }\n  return /*#__PURE__*/React.createElement(VisIcon, props);\n};\nVisTypeIcon.propTypes = {\n  type: PropTypes.string,\n  useSmall: PropTypes.bool\n};\nexport default VisTypeIcon;","import { DataTableRow, DataTableCell, colors } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { DateField } from './DateField.js';\nimport { VisTypeIcon } from './VTI.js';\nexport const FileList = _ref => {\n  let {\n    data,\n    onSelect,\n    showVisTypeColumn\n  } = _ref;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, data.map(visualization => /*#__PURE__*/React.createElement(DataTableRow, {\n    key: visualization.id\n  }, /*#__PURE__*/React.createElement(DataTableCell, {\n    onClick: () => onSelect({\n      id: visualization.id,\n      name: visualization.displayName,\n      href: visualization.href\n    })\n  }, visualization.displayName), showVisTypeColumn && /*#__PURE__*/React.createElement(DataTableCell, {\n    align: \"center\"\n  }, /*#__PURE__*/React.createElement(VisTypeIcon, {\n    type: visualization.type,\n    useSmall: true,\n    color: colors.grey600\n  })), /*#__PURE__*/React.createElement(DataTableCell, null, /*#__PURE__*/React.createElement(DateField, {\n    date: visualization.created\n  })), /*#__PURE__*/React.createElement(DataTableCell, null, /*#__PURE__*/React.createElement(DateField, {\n    date: visualization.lastUpdated\n  })))));\n};\nFileList.propTypes = {\n  data: PropTypes.arrayOf(PropTypes.shape({\n    created: PropTypes.string.isRequired,\n    displayName: PropTypes.string.isRequired,\n    id: PropTypes.string.isRequired,\n    lastUpdated: PropTypes.string.isRequired,\n    type: PropTypes.string\n  })).isRequired,\n  onSelect: PropTypes.func.isRequired,\n  showVisTypeColumn: PropTypes.bool\n};\nexport default FileList;","import i18n from '@dhis2/d2-i18n';\nimport { Input } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport const NameFilter = _ref => {\n  let {\n    dataTest,\n    value,\n    onChange\n  } = _ref;\n  return /*#__PURE__*/React.createElement(Input, {\n    type: \"search\",\n    placeholder: i18n.t('Filter by name'),\n    onChange: _ref2 => {\n      let {\n        value\n      } = _ref2;\n      return onChange(value);\n    },\n    value: value,\n    initialFocus: true,\n    dense: true,\n    dataTest: dataTest\n  });\n};\nNameFilter.propTypes = {\n  onChange: PropTypes.func.isRequired,\n  dataTest: PropTypes.string,\n  value: PropTypes.string\n};\nexport default NameFilter;","import { colors, spacers } from '@dhis2/ui';\nexport const styles = [\".data-table-wrapper.jsx-3416632651{min-height:405px;}\", \".data-table-body.jsx-3416632651{min-height:465px;}\", `.pagination-controls.jsx-3416632651{width:100%;margin-top:${spacers.dp12};display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;}`, `.search-and-filter-bar.jsx-3416632651{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;gap:${spacers.dp4};-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:${spacers.dp8};}`, \".search-field-container.jsx-3416632651{min-width:220px;}\", \".type-field-container.jsx-3416632651,.created-by-field-container.jsx-3416632651{min-width:180px;}\", `.info-cell.jsx-3416632651{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;gap:${spacers.dp8};margin:${spacers.dp32} 0;}`, \".info-container.jsx-3416632651{max-width:400px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}\", `.info-text.jsx-3416632651{text-align:center;font-size:14px;line-height:19px;color:${colors.grey700};}`, `.info-button.jsx-3416632651{margin-top:${spacers.dp12};}`];\nstyles.__hash = \"3416632651\";","import i18n from '@dhis2/d2-i18n';\nimport { Pagination } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport const PaginationControls = _ref => {\n  let {\n    page,\n    pager,\n    onPageChange\n  } = _ref;\n  return /*#__PURE__*/React.createElement(Pagination, {\n    page: page,\n    pageCount: pager.pageCount,\n    pageSize: pager.pageSize,\n    total: pager.total,\n    onPageChange: onPageChange,\n    onPageSizeChange: Function.prototype,\n    hidePageSizeSelect: true,\n    pageSummaryText: _ref2 => {\n      let {\n        firstItem: firstItemIndex,\n        lastItem: lastItemIndex,\n        total: totalNumberOfItems\n      } = _ref2;\n      return i18n.t('{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}', {\n        firstItemIndex,\n        lastItemIndex,\n        totalNumberOfItems\n      });\n    }\n  });\n};\nPaginationControls.propTypes = {\n  page: PropTypes.number,\n  pager: PropTypes.object,\n  onPageChange: PropTypes.func\n};\nexport default PaginationControls;","import i18n from '@dhis2/d2-i18n';\nexport const AO_TYPE_VISUALIZATION = 'visualization';\nexport const AO_TYPE_MAP = 'map';\nexport const AO_TYPE_EVENT_VISUALIZATION = 'eventVisualization';\nexport const AOTypeMap = {\n  [AO_TYPE_VISUALIZATION]: {\n    apiEndpoint: 'visualizations'\n  },\n  [AO_TYPE_MAP]: {\n    apiEndpoint: 'maps'\n  },\n  [AO_TYPE_EVENT_VISUALIZATION]: {\n    apiEndpoint: 'eventVisualizations'\n  }\n};\nconst NO_TYPE = 'NO_TYPE';\nconst texts = {\n  [NO_TYPE]: {\n    modalTitle: i18n.t('Open'),\n    loadingText: i18n.t('Loading'),\n    errorTitle: i18n.t(\"Couldn't load items\"),\n    errorText: i18n.t('There was a problem loading items. Try again or contact your system administrator.'),\n    noDataText: i18n.t('No items found. Create a new to get started.'),\n    noFilteredDataText: i18n.t(\"No items found. Try adjusting your search or filter options to find what you're looking for.\"),\n    newButtonLabel: i18n.t('Create new')\n  },\n  [AO_TYPE_VISUALIZATION]: {\n    // modalTitle: i18n.t('Open a visualization'),\n    modalTitle: i18n.t('Open a visualization'),\n    // edit\n    loadingText: i18n.t('Loading visualizations'),\n    errorTitle: i18n.t(\"Couldn't load visualizations\"),\n    errorText: i18n.t('There was a problem loading visualizations. Try again or contact your system administrator.'),\n    noDataText: i18n.t('No visualizations found. Click New visualization to get started.'),\n    noFilteredDataText: i18n.t(\"No visualizations found. Try adjusting your search or filter options to find what you're looking for.\"),\n    newButtonLabel: i18n.t('New visualization')\n  },\n  [AO_TYPE_MAP]: {\n    modalTitle: i18n.t('Open a map'),\n    loadingText: i18n.t('Loading maps'),\n    errorTitle: i18n.t(\"Couldn't load maps\"),\n    errorText: i18n.t('There was a problem loading maps. Try again or contact your system administrator.'),\n    noDataText: i18n.t('No maps found. Click New map to get started.'),\n    noFilteredDataText: i18n.t(\"No maps found. Try adjusting your search or filter options to find what you're looking for.\"),\n    newButtonLabel: i18n.t('New map')\n  },\n  [AO_TYPE_EVENT_VISUALIZATION]: {\n    modalTitle: i18n.t('Open a line list'),\n    loadingText: i18n.t('Loading line lists'),\n    errorTitle: i18n.t(\"Couldn't load line lists\"),\n    errorText: i18n.t('There was a problem loading line lists. Try again or contact your system administrator.'),\n    noDataText: i18n.t('No line lists found. Click New line list to get started.'),\n    noFilteredDataText: i18n.t(\"No line lists found. Try adjusting your search or filter options to find what you're looking for.\"),\n    newButtonLabel: i18n.t('New line list')\n  }\n};\nexport const getTranslatedString = (type, key) => (texts[type] || texts[NO_TYPE])[key];","import { colors, spacers } from '@dhis2/ui';\nconst _defaultExport = [`div.jsx-1267200705{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;font-size:14px;-webkit-text-decoration:none;text-decoration:none;color:${colors.grey900};padding:${spacers.dp8} ${spacers.dp12};}`, `div.jsx-1267200705:hover{background-color:${colors.grey200};}`, `div.jsx-1267200705:active,div.active.jsx-1267200705{background-color:${colors.teal700};color:${colors.white};cursor:auto;}`, `div.disabled.jsx-1267200705{color:${colors.grey500};cursor:not-allowed;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}`, \"div.disabled.jsx-1267200705:hover{background-color:initial;}\", `span.label.jsx-1267200705{margin-left:${spacers.dp8};}`];\n_defaultExport.__hash = \"1267200705\";\nexport default _defaultExport;","import _JSXStyle from \"styled-jsx/style\";\nimport i18n from '@dhis2/d2-i18n';\nimport { MenuDivider, Tooltip } from '@dhis2/ui';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './styles/CustomSelectOption.style.js';\nconst CustomSelectOptionItem = _ref => {\n  let {\n    value,\n    label,\n    icon,\n    insertDivider,\n    onClick,\n    active,\n    disabled\n  } = _ref;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    onClick: e => onClick({}, e),\n    \"data-value\": value,\n    \"data-label\": label,\n    className: `jsx-${styles.__hash}` + \" \" + (cx({\n      active,\n      disabled\n    }) || \"\")\n  }, icon, /*#__PURE__*/React.createElement(\"span\", {\n    className: `jsx-${styles.__hash}` + \" \" + (cx({\n      label: icon\n    }) || \"\")\n  }, label), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: styles.__hash\n  }, styles)), insertDivider && /*#__PURE__*/React.createElement(MenuDivider, {\n    dense: true\n  }));\n};\nexport const CustomSelectOption = props => props.disabled ? /*#__PURE__*/React.createElement(Tooltip, {\n  content: i18n.t('Not supported by this app yet')\n}, /*#__PURE__*/React.createElement(CustomSelectOptionItem, props)) : /*#__PURE__*/React.createElement(CustomSelectOptionItem, props);\nCustomSelectOption.propTypes = {\n  label: PropTypes.string.isRequired,\n  value: PropTypes.string.isRequired,\n  active: PropTypes.bool,\n  disabled: PropTypes.bool,\n  icon: PropTypes.element,\n  onClick: PropTypes.func\n};\nCustomSelectOptionItem.propTypes = CustomSelectOption.propTypes;\nexport default CustomSelectOption;","import i18n from '@dhis2/d2-i18n';\nimport { SingleSelect, colors } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { getDisplayNameByVisType, visTypeIcons } from './visTypes.js';\n/* eslint-disable-next-line import/order */\nimport { CustomSelectOption } from './CustomSelectOption.js';\nimport { VisTypeIcon } from './VTI.js';\nexport const VisTypeFilter = _ref => {\n  let {\n    visTypes,\n    selected,\n    onChange\n  } = _ref;\n  return /*#__PURE__*/React.createElement(SingleSelect, {\n    selected: selected,\n    onChange: _ref2 => {\n      let {\n        selected\n      } = _ref2;\n      return onChange(selected);\n    },\n    prefix: i18n.t('Type'),\n    dense: true,\n    maxHeight: \"400px\"\n  }, visTypes === null || visTypes === void 0 ? void 0 : visTypes.map(_ref3 => {\n    let {\n      type,\n      disabled,\n      insertDivider\n    } = _ref3;\n    return /*#__PURE__*/React.createElement(CustomSelectOption, {\n      key: type,\n      disabled: disabled,\n      label: getDisplayNameByVisType(type),\n      insertDivider: insertDivider,\n      value: type,\n      icon: visTypeIcons[type] ? /*#__PURE__*/React.createElement(VisTypeIcon, {\n        type: type,\n        useSmall: true,\n        color: colors.grey600\n      }) : undefined\n    });\n  }));\n};\nVisTypeFilter.propTypes = {\n  selected: PropTypes.string,\n  visTypes: PropTypes.arrayOf(PropTypes.shape({\n    disabled: PropTypes.bool,\n    insertDivider: PropTypes.bool,\n    type: PropTypes.string\n  })),\n  onChange: PropTypes.func\n};\nexport default VisTypeFilter;","import _JSXStyle from \"styled-jsx/style\";\nimport { useDataQuery } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { Box, Modal, ModalTitle, ModalContent, DataTable, DataTableHead, DataTableBody, DataTableRow, DataTableCell, DataTableColumnHeader, NoticeBox, CircularLoader, Button } from '@dhis2/ui';\nimport isEqual from 'lodash/isEqual';\nimport PropTypes from 'prop-types';\nimport React, { useCallback, useEffect, useMemo, useReducer, useState } from 'react';\n/* eslint-disable-next-line import/order */\nimport { VIS_TYPE_GROUP_ALL, VIS_TYPE_GROUP_CHARTS } from './visTypes.js';\nimport { CreatedByFilter, CREATED_BY_ALL, CREATED_BY_ALL_BUT_CURRENT_USER, CREATED_BY_CURRENT_USER } from './CreatedByFilter.js';\nimport { FileList } from './FileList.js';\nimport { NameFilter } from './NameFilter.js';\nimport { styles } from './OpenFileDialog.styles.js';\nimport { PaginationControls } from './PaginationControls.js';\nimport { getTranslatedString, AOTypeMap } from './utils.js';\nimport { VisTypeFilter } from './VisTypeFilter.js';\nconst getQuery = type => ({\n  files: {\n    resource: AOTypeMap[type].apiEndpoint,\n    params: _ref => {\n      let {\n        sortField = 'displayName',\n        sortDirection = 'iasc',\n        page = 1,\n        filters\n      } = _ref;\n      const queryParams = {\n        filter: filters,\n        fields: `id,type,displayName,title,displayDescription,created,lastUpdated,user,access,href`,\n        paging: true,\n        pageSize: 8,\n        page\n      };\n      if (sortDirection !== 'default') {\n        queryParams.order = `${sortField}:${sortDirection}`;\n      }\n      return queryParams;\n    }\n  }\n});\nexport const OpenFileDialog = _ref2 => {\n  let {\n    type,\n    open,\n    filterVisTypes,\n    defaultFilterVisType,\n    onClose,\n    onFileSelect,\n    onNew,\n    currentUser\n  } = _ref2;\n  const filesQuery = useMemo(() => getQuery(type), [type]);\n  const defaultFilters = {\n    searchTerm: '',\n    createdBy: CREATED_BY_ALL,\n    visType: defaultFilterVisType\n  };\n  const [{\n    page,\n    sortField,\n    sortDirection,\n    filters\n  }, setState] = useReducer((state, newState) => ({\n    ...state,\n    ...newState\n  }), {\n    page: 1,\n    sortField: 'displayName',\n    sortDirection: 'asc',\n    filters: defaultFilters\n  });\n  const [nameFilterValue, setNameFilterValue] = useState(defaultFilters.searchTerm);\n  const [searchTimeout, setSearchTimeout] = useState(null);\n  const formatFilters = useCallback(() => {\n    const queryFilters = [];\n    switch (filters.createdBy) {\n      case CREATED_BY_ALL_BUT_CURRENT_USER:\n        queryFilters.push(`user.id:!eq:${currentUser.id}`);\n        break;\n      case CREATED_BY_CURRENT_USER:\n        queryFilters.push(`user.id:eq:${currentUser.id}`);\n        break;\n      case CREATED_BY_ALL:\n      default:\n        break;\n    }\n    if (filters.visType) {\n      switch (filters.visType) {\n        case VIS_TYPE_GROUP_ALL:\n          break;\n        case VIS_TYPE_GROUP_CHARTS:\n          queryFilters.push('type:!eq:PIVOT_TABLE');\n          break;\n        default:\n          queryFilters.push(`type:eq:${filters.visType}`);\n          break;\n      }\n    }\n    if (filters.searchTerm) {\n      queryFilters.push(`identifiable:token:${filters.searchTerm}`);\n    }\n    return queryFilters;\n  }, [currentUser, filters]);\n  const formatSortDirection = useCallback(() => {\n    if (sortField === 'displayName' && sortDirection !== 'default') {\n      return `i${sortDirection}`;\n    }\n    return sortDirection;\n  }, [sortField, sortDirection]);\n  const {\n    loading,\n    error,\n    data,\n    refetch\n  } = useDataQuery(filesQuery, {\n    lazy: true,\n    onComplete: response => {\n      if (page !== response.files.pager.page) {\n        setPage(response.files.pager.page);\n      }\n    }\n  });\n  const resetFilters = () => {\n    setState({\n      filters: defaultFilters,\n      page: 1\n    });\n    setNameFilterValue(defaultFilters.searchTerm);\n  };\n  const setPage = pageNum => setState({\n    page: pageNum\n  });\n  const sortData = _ref3 => {\n    let {\n      name,\n      direction\n    } = _ref3;\n    return setState({\n      sortField: name,\n      sortDirection: direction,\n      page: 1\n    });\n  };\n  useEffect(() => {\n    // only fetch data when the dialog is open\n    if (open) {\n      refetch({\n        page,\n        sortField,\n        sortDirection: formatSortDirection(),\n        filters: formatFilters()\n      });\n    }\n  }, [open, page, sortField, filters, refetch, formatFilters, formatSortDirection]);\n  const headers = [{\n    field: 'displayName',\n    label: i18n.t('Name'),\n    width: '470px'\n  }, {\n    field: 'created',\n    label: i18n.t('Created'),\n    width: '110px'\n  }, {\n    field: 'lastUpdated',\n    label: i18n.t('Last updated'),\n    width: '110px'\n  }];\n  if (filterVisTypes !== null && filterVisTypes !== void 0 && filterVisTypes.length) {\n    headers.splice(1, 0, {\n      field: 'type',\n      label: i18n.t('Type'),\n      width: '60px'\n    });\n  }\n  const getSortDirection = fieldName => fieldName === sortField ? sortDirection : 'default';\n  const cypressSelector = 'open-file-dialog-modal';\n  return /*#__PURE__*/React.createElement(Modal, {\n    large: true,\n    position: \"top\",\n    hide: !open,\n    onClose: onClose,\n    dataTest: cypressSelector\n  }, /*#__PURE__*/React.createElement(ModalTitle, null, getTranslatedString(type, 'modalTitle')), /*#__PURE__*/React.createElement(ModalContent, null, /*#__PURE__*/React.createElement(Box, {\n    minHeight: \"496px\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"search-and-filter-bar\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"search-field-container\"\n  }, /*#__PURE__*/React.createElement(NameFilter, {\n    dataTest: `${cypressSelector}-name-filter`,\n    value: nameFilterValue,\n    onChange: value => {\n      setNameFilterValue(value);\n      clearTimeout(searchTimeout);\n      setSearchTimeout(setTimeout(() => setState({\n        page: 1,\n        filters: {\n          ...filters,\n          searchTerm: value\n        }\n      }), 200));\n    }\n  })), (filterVisTypes === null || filterVisTypes === void 0 ? void 0 : filterVisTypes.length) && /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"type-field-container\"\n  }, /*#__PURE__*/React.createElement(VisTypeFilter, {\n    visTypes: filterVisTypes,\n    selected: filters.visType,\n    onChange: value => setState({\n      page: 1,\n      filters: {\n        ...filters,\n        visType: value\n      }\n    })\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"created-by-field-container\"\n  }, /*#__PURE__*/React.createElement(CreatedByFilter, {\n    selected: filters.createdBy,\n    onChange: value => setState({\n      page: 1,\n      filters: {\n        ...filters,\n        createdBy: value\n      }\n    })\n  })), !isEqual(filters, defaultFilters) && /*#__PURE__*/React.createElement(Button, {\n    onClick: resetFilters,\n    secondary: true,\n    small: true\n  }, i18n.t('Clear filters'))), error ? /*#__PURE__*/React.createElement(NoticeBox, {\n    title: getTranslatedString(type, 'errorTitle'),\n    warning: true\n  }, getTranslatedString(type, 'errorText')) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"data-table-wrapper\"\n  }, /*#__PURE__*/React.createElement(DataTable, {\n    layout: \"fixed\"\n  }, /*#__PURE__*/React.createElement(DataTableHead, null, /*#__PURE__*/React.createElement(DataTableRow, null, data !== null && data !== void 0 && data.files[AOTypeMap[type].apiEndpoint].length ? headers.map(_ref4 => {\n    let {\n      field,\n      label,\n      width\n    } = _ref4;\n    return /*#__PURE__*/React.createElement(DataTableColumnHeader, {\n      width: width,\n      key: field,\n      name: field,\n      onSortIconClick: sortData,\n      sortDirection: getSortDirection(field)\n    }, label);\n  }) : /*#__PURE__*/React.createElement(DataTableColumnHeader, null))), /*#__PURE__*/React.createElement(DataTableBody, {\n    className: \"data-table-body\"\n  }, loading && /*#__PURE__*/React.createElement(DataTableRow, null, /*#__PURE__*/React.createElement(DataTableCell, {\n    large: true\n  }, /*#__PURE__*/React.createElement(Box, {\n    height: \"342px\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"info-cell\"\n  }, /*#__PURE__*/React.createElement(CircularLoader, {\n    small: true\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"info-text\"\n  }, getTranslatedString(type, 'loadingText')))))), !loading && !(data !== null && data !== void 0 && data.files[AOTypeMap[type].apiEndpoint].length) > 0 && /*#__PURE__*/React.createElement(DataTableRow, null, /*#__PURE__*/React.createElement(DataTableCell, {\n    large: true\n  }, /*#__PURE__*/React.createElement(Box, {\n    minHeight: \"342px\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"info-cell\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"info-container\"\n  }, !isEqual(filters, defaultFilters) ? /*#__PURE__*/React.createElement(\"span\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"info-text\"\n  }, getTranslatedString(type, 'noFilteredDataText')) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"info-text\"\n  }, getTranslatedString(type, 'noDataText')), /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"info-button\"\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: () => {\n      onNew();\n      onClose();\n    }\n  }, getTranslatedString(type, 'newButtonLabel'))))))))), (data === null || data === void 0 ? void 0 : data.files[AOTypeMap[type].apiEndpoint].length) > 0 && /*#__PURE__*/React.createElement(FileList, {\n    data: data.files[AOTypeMap[type].apiEndpoint],\n    onSelect: onFileSelect,\n    showVisTypeColumn: Boolean(filterVisTypes === null || filterVisTypes === void 0 ? void 0 : filterVisTypes.length)\n  })))), (data === null || data === void 0 ? void 0 : data.files[AOTypeMap[type].apiEndpoint].length) > 0 && /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"pagination-controls\"\n  }, /*#__PURE__*/React.createElement(PaginationControls, {\n    page: data.files.pager.page,\n    pager: data.files.pager,\n    onPageChange: setPage\n  }))), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: styles.__hash\n  }, styles))));\n};\nOpenFileDialog.propTypes = {\n  currentUser: PropTypes.object.isRequired,\n  open: PropTypes.bool.isRequired,\n  type: PropTypes.oneOf(Object.keys(AOTypeMap)).isRequired,\n  onClose: PropTypes.func.isRequired,\n  onFileSelect: PropTypes.func.isRequired,\n  onNew: PropTypes.func.isRequired,\n  defaultFilterVisType: PropTypes.string,\n  filterVisTypes: PropTypes.array\n};\nexport default OpenFileDialog;","// extracted by mini-css-extract-plugin\nexport default {\"editTitle\":\"edit-title_editTitle__HH9Bq\"};","import PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './edit-title.module.css';\nexport const EditTitle = _ref => {\n  let {\n    title\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"h2\", {\n    className: styles.editTitle\n  }, title);\n};\nEditTitle.propTypes = {\n  title: PropTypes.string\n};","// extracted by mini-css-extract-plugin\nexport default {\"editTopBarContainer\":\"edit-home-top-bar_editTopBarContainer__l-6uN\",\"exitConfigurationsButton\":\"edit-home-top-bar_exitConfigurationsButton__4uX11\"};","import i18n from '@dhis2/d2-i18n';\nimport { Button, SelectorBar } from '@dhis2/ui';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { EditTitle } from '../shared/index.js';\nimport styles from './edit-home-top-bar.module.css';\nexport const EditHomeTopBar = () => /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(SelectorBar, null, /*#__PURE__*/React.createElement(Link, {\n  to: \"/\"\n}, /*#__PURE__*/React.createElement(Button, {\n  small: true,\n  className: styles.exitConfigurationsButton\n}, i18n.t('Exit configuration mode')))), /*#__PURE__*/React.createElement(\"div\", {\n  className: styles.editTopBarContainer\n}, /*#__PURE__*/React.createElement(EditTitle, {\n  title: i18n.t('Data Exchange Configurations')\n}), /*#__PURE__*/React.createElement(Link, {\n  to: \"/add\"\n}, /*#__PURE__*/React.createElement(Button, {\n  primary: true\n}, i18n.t('New exchange configuration')))));","export const getNaturalCapitalization = input => {\n  var _input$slice;\n  if (typeof input !== 'string') {\n    return null;\n  }\n  return ((_input$slice = input.slice(0, 1)) === null || _input$slice === void 0 ? void 0 : _input$slice.toUpperCase()) + input.slice(1).toLowerCase();\n};","import i18n from '@dhis2/d2-i18n';\nimport { Button, ButtonStrip, Modal, ModalActions, ModalContent, ModalTitle } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport const DeleteConfirmation = _ref => {\n  let {\n    open,\n    onClose,\n    onDelete\n  } = _ref;\n  return /*#__PURE__*/React.createElement(Modal, {\n    hide: !open,\n    large: true,\n    position: \"middle\",\n    onClose: onClose\n  }, /*#__PURE__*/React.createElement(ModalTitle, null, i18n.t('Delete exchange')), /*#__PURE__*/React.createElement(ModalContent, null, /*#__PURE__*/React.createElement(\"span\", null, i18n.t('Deleting this exchange will remove it for all users on this instance. This action cannot be undone. Are you sure?'))), /*#__PURE__*/React.createElement(ModalActions, null, /*#__PURE__*/React.createElement(ButtonStrip, {\n    end: true\n  }, /*#__PURE__*/React.createElement(Button, {\n    secondary: true,\n    onClick: onClose\n  }, i18n.t('No, cancel')), /*#__PURE__*/React.createElement(Button, {\n    destructive: true,\n    onClick: onDelete\n  }, i18n.t('Yes, delete')))));\n};\nDeleteConfirmation.propTypes = {\n  open: PropTypes.bool,\n  onClose: PropTypes.func,\n  onDelete: PropTypes.func\n};","// extracted by mini-css-extract-plugin\nexport default {\"cardContainer\":\"items-list_cardContainer__y+ynB\",\"cardContainerInner\":\"items-list_cardContainerInner__hYUc-\",\"exchangeTitle\":\"items-list_exchangeTitle__3W1QM\",\"detailsContainer\":\"items-list_detailsContainer__CCals\",\"iconText\":\"items-list_iconText__S54qX\",\"icon\":\"items-list_icon__giLz6\",\"listContainer\":\"items-list_listContainer__yGXXC\",\"searchContainer\":\"items-list_searchContainer__bxsGu\"};","import { useDataMutation, useTimeZoneConversion } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { Button, ButtonStrip, Card, IconArrowRight16, IconApps16, IconClock16, InputField } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useCallback, useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useAppContext, useUserContext } from '../../../context/index.js';\nimport { getNaturalCapitalization } from '../../../utils/helpers.js';\nimport { DeleteConfirmation } from './delete-confirmation.js';\nimport styles from './items-list.module.css';\nconst IconTextItem = _ref => {\n  let {\n    icon,\n    text\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.iconText\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.icon\n  }, icon), /*#__PURE__*/React.createElement(\"div\", null, text));\n};\nIconTextItem.propTypes = {\n  icon: PropTypes.node,\n  text: PropTypes.string\n};\nconst deleteExchangeQuery = {\n  resource: 'aggregateDataExchanges',\n  type: 'delete',\n  id: _ref2 => {\n    let {\n      id\n    } = _ref2;\n    return id;\n  }\n};\nconst AggregateDataExchangeCard = /*#__PURE__*/React.memo(_ref3 => {\n  var _ade$target;\n  let {\n    ade\n  } = _ref3;\n  const navigate = useNavigate();\n  const {\n    refetchExchanges\n  } = useAppContext();\n  const [deleteExchange, {\n    loading: deleting\n  }] = useDataMutation(deleteExchangeQuery, {\n    variables: {\n      id: ade.id\n    },\n    onComplete: async () => {\n      await refetchExchanges();\n      navigate('/edit');\n    }\n  });\n  const {\n    canAddExchange,\n    canDeleteExchange,\n    keyUiLocale\n  } = useUserContext();\n  const {\n    fromServerDate\n  } = useTimeZoneConversion();\n  const createdClient = fromServerDate(ade === null || ade === void 0 ? void 0 : ade.created);\n  const createdClientDate = new Date(createdClient.getClientZonedISOString());\n\n  // keyUiLocale can be invalid, hence wrap in try/catch\n  let createdClientDateString;\n  try {\n    createdClientDateString = createdClientDate.toLocaleDateString(keyUiLocale);\n  } catch (e) {\n    createdClientDateString = createdClientDate.toLocaleDateString('en-GB');\n  }\n  const [deleteConfirmationOpen, setDeleteConfirmationOpen] = useState(false);\n  const closeDeleteConfirmation = useCallback(() => setDeleteConfirmationOpen(false), [setDeleteConfirmationOpen]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.cardContainer\n  }, /*#__PURE__*/React.createElement(Card, {\n    key: ade.id,\n    className: styles.cardContainerInner\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.exchangeTitle\n  }, ade.displayName), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.detailsContainer\n  }, /*#__PURE__*/React.createElement(IconTextItem, {\n    icon: /*#__PURE__*/React.createElement(IconArrowRight16, null),\n    text: getNaturalCapitalization((_ade$target = ade.target) === null || _ade$target === void 0 ? void 0 : _ade$target.type)\n  }), /*#__PURE__*/React.createElement(IconTextItem, {\n    icon: /*#__PURE__*/React.createElement(IconApps16, null),\n    text: i18n.t('{{numberOfRequests}} requests', {\n      numberOfRequests: ade.source.requests,\n      interpolation: {\n        escapeValue: false\n      }\n    })\n  }), /*#__PURE__*/React.createElement(IconTextItem, {\n    icon: /*#__PURE__*/React.createElement(IconClock16, null),\n    text: i18n.t('Created {{- createdDate}}', {\n      createdDate: createdClientDateString\n    })\n  })), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(ButtonStrip, null, canAddExchange && /*#__PURE__*/React.createElement(Link, {\n    to: `/edit/${ade.id}`\n  }, /*#__PURE__*/React.createElement(Button, {\n    small: true\n  }, i18n.t('Edit'))), canDeleteExchange && /*#__PURE__*/React.createElement(Button, {\n    destructive: true,\n    secondary: true,\n    small: true,\n    onClick: () => {\n      setDeleteConfirmationOpen(true);\n    },\n    loading: deleting\n  }, deleting ? i18n.t('Deleting...') : i18n.t('Delete'))))), /*#__PURE__*/React.createElement(DeleteConfirmation, {\n    open: deleteConfirmationOpen,\n    onClose: closeDeleteConfirmation,\n    onDelete: deleteExchange\n  }));\n});\nAggregateDataExchangeCard.propTypes = {\n  ade: PropTypes.object\n};\nexport const EditItemsList = () => {\n  const {\n    aggregateDataExchanges\n  } = useAppContext();\n  const [searchTerm, setSearchTerm] = useState('');\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.searchContainer\n  }, /*#__PURE__*/React.createElement(InputField, {\n    placeholder: i18n.t('Search for an exchange'),\n    value: searchTerm,\n    onChange: _ref4 => {\n      let {\n        value\n      } = _ref4;\n      setSearchTerm(value);\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.listContainer\n  }, aggregateDataExchanges.filter(_ref5 => {\n    let {\n      displayName\n    } = _ref5;\n    return searchTerm.length < 1 ? true : displayName.toLowerCase().includes(searchTerm.toLowerCase());\n  }).map(ade => /*#__PURE__*/React.createElement(AggregateDataExchangeCard, {\n    key: ade.id,\n    ade: ade\n  }))));\n};","import React from 'react';\nimport { EditHomeTopBar } from '../components/edit/overview/edit-home-top-bar.js';\nimport { EditItemsList } from '../components/edit/overview/items-list.js';\nexport const EditPage = () => /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(EditHomeTopBar, null), /*#__PURE__*/React.createElement(EditItemsList, null));","// extracted by mini-css-extract-plugin\nexport default {\"editArea\":\"edit-request_editArea__uMFuG\",\"editFormArea\":\"edit-request_editFormArea__rHuCM\",\"editUpdateTitle\":\"edit-request_editUpdateTitle__aJZCi\",\"editContainer\":\"edit-request_editContainer__rOpOX\",\"bottomBar\":\"edit-request_bottomBar__EZmNi\",\"hidden\":\"edit-request_hidden__WJEHE\",\"fullHeight\":\"edit-request_fullHeight__lD7FR\",\"errorBoxContainer\":\"edit-request_errorBoxContainer__vXxLj\"};","import { SCHEME_TYPES } from '../shared/index.js';\nconst getFormIdSchemeValues = _ref => {\n  let {\n    requestValues\n  } = _ref;\n  const idSchemeProps = ['outputIdScheme', 'outputDataElementIdScheme', 'outputOrgUnitIdScheme'];\n  return idSchemeProps.reduce((idSchemeValues, prop) => {\n    const attributeProp = `source_${prop}_attribute`;\n    idSchemeValues[prop] = requestValues[`source_${prop}`] !== SCHEME_TYPES.attribute ? requestValues[`source_${prop}`] : `ATTRIBUTE:${requestValues[attributeProp]}`;\n    return idSchemeValues;\n  }, {});\n};\nexport const getRequestValuesFromForm = _ref2 => {\n  var _requestValues$visual;\n  let {\n    requestValues\n  } = _ref2;\n  const validFilters = !requestValues.filtersUsed ? [] : requestValues === null || requestValues === void 0 ? void 0 : requestValues.filtersInfo.filter(f => {\n    var _f$items;\n    return ((_f$items = f.items) === null || _f$items === void 0 ? void 0 : _f$items.length) > 0;\n  }).map(filter => ({\n    ...filter,\n    items: filter.items.map(_ref3 => {\n      let {\n        id\n      } = _ref3;\n      return id;\n    })\n  }));\n  const filtersActuallyUsed = requestValues.filtersUsed && validFilters.length > 0;\n  return {\n    ...requestValues,\n    name: requestValues.requestName,\n    dx: requestValues === null || requestValues === void 0 ? void 0 : requestValues.dxInfo.map(_ref4 => {\n      let {\n        id\n      } = _ref4;\n      return id;\n    }),\n    pe: requestValues === null || requestValues === void 0 ? void 0 : requestValues.peInfo.map(_ref5 => {\n      let {\n        id\n      } = _ref5;\n      return id;\n    }),\n    ou: requestValues === null || requestValues === void 0 ? void 0 : requestValues.ouInfo.map(_ref6 => {\n      let {\n        id\n      } = _ref6;\n      return id;\n    }),\n    visualization: requestValues.visualizationLinked ? requestValues === null || requestValues === void 0 ? void 0 : (_requestValues$visual = requestValues.visualizationInfo) === null || _requestValues$visual === void 0 ? void 0 : _requestValues$visual.id : null,\n    filters: !filtersActuallyUsed ? [] : validFilters,\n    filtersInfo: !filtersActuallyUsed ? null : requestValues.filtersInfo,\n    visualizationInfo: !requestValues.visualizationLinked ? null : requestValues.visualizationInfo,\n    inputIdScheme: SCHEME_TYPES.uid,\n    ...getFormIdSchemeValues({\n      requestValues\n    })\n  };\n};\nconst getIdSchemeValues = _ref7 => {\n  let {\n    request\n  } = _ref7;\n  const idSchemeProps = ['outputIdScheme', 'outputDataElementIdScheme', 'outputOrgUnitIdScheme'];\n  return idSchemeProps.reduce((idSchemeValues, prop) => {\n    var _request$prop, _request$prop$split$, _request$prop2;\n    idSchemeValues[`source_${prop}`] = request !== null && request !== void 0 && request[prop] ? request === null || request === void 0 ? void 0 : (_request$prop = request[prop]) === null || _request$prop === void 0 ? void 0 : (_request$prop$split$ = _request$prop.split(':')[0]) === null || _request$prop$split$ === void 0 ? void 0 : _request$prop$split$.toUpperCase() : SCHEME_TYPES.uid;\n    idSchemeValues[`source_${prop}_attribute`] = request === null || request === void 0 ? void 0 : (_request$prop2 = request[prop]) === null || _request$prop2 === void 0 ? void 0 : _request$prop2.split(':')[1];\n    return idSchemeValues;\n  }, {});\n};\nexport const getInitialValuesFromRequest = _ref8 => {\n  var _request$peInfo, _request$ouInfo, _request$dxInfo, _request$filtersInfo, _request$filtersInfo2, _request$visualizatio;\n  let {\n    request\n  } = _ref8;\n  return {\n    requestName: request === null || request === void 0 ? void 0 : request.name,\n    peInfo: (_request$peInfo = request === null || request === void 0 ? void 0 : request.peInfo) !== null && _request$peInfo !== void 0 ? _request$peInfo : [],\n    ouInfo: (_request$ouInfo = request === null || request === void 0 ? void 0 : request.ouInfo) !== null && _request$ouInfo !== void 0 ? _request$ouInfo : [],\n    dxInfo: (_request$dxInfo = request === null || request === void 0 ? void 0 : request.dxInfo) !== null && _request$dxInfo !== void 0 ? _request$dxInfo : [],\n    filtersUsed: (request === null || request === void 0 ? void 0 : (_request$filtersInfo = request.filtersInfo) === null || _request$filtersInfo === void 0 ? void 0 : _request$filtersInfo.length) > 0,\n    filtersInfo: (_request$filtersInfo2 = request === null || request === void 0 ? void 0 : request.filtersInfo) !== null && _request$filtersInfo2 !== void 0 ? _request$filtersInfo2 : [{\n      dimension: null\n    }],\n    visualizationLinked: Boolean(request.visualization),\n    visualizationInfo: (_request$visualizatio = request === null || request === void 0 ? void 0 : request.visualizationInfo) !== null && _request$visualizatio !== void 0 ? _request$visualizatio : null,\n    ...getIdSchemeValues({\n      request\n    })\n  };\n};","import { DataDimension } from '@dhis2/analytics';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { SelectorValidationError } from '../shared/index.js';\nexport const DataItemSelect = _ref => {\n  let {\n    input,\n    meta\n  } = _ref;\n  const {\n    value: selectedDimensions,\n    onChange\n  } = input;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(DataDimension, {\n    onSelect: _ref2 => {\n      let {\n        items\n      } = _ref2;\n      console.log(items);\n      onChange(items);\n    },\n    selectedDimensions: selectedDimensions !== null && selectedDimensions !== void 0 ? selectedDimensions : [],\n    displayNameProp: \"displayName\"\n  }), /*#__PURE__*/React.createElement(SelectorValidationError, {\n    meta: meta\n  }));\n};\nDataItemSelect.propTypes = {\n  input: PropTypes.object,\n  meta: PropTypes.object\n};","// extracted by mini-css-extract-plugin\nexport default {\"filterRow\":\"dimension-filter-row_filterRow__4wYI7\"};","// extracted by mini-css-extract-plugin\nexport default {\"select\":\"dimension-items-select_select__hL8uq\"};","// extracted by mini-css-extract-plugin\nexport default {\"inputField\":\"select-field_inputField__b2QEE\"};","import { SingleSelectField, SingleSelectOption, MultiSelectField, MultiSelectOption } from '@dhis2/ui';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { useCallback } from 'react';\nimport styles from './select-field.module.css';\n\n/**\n * Wrapper component around @dhis2/ui SingleSelectField and MultiSelectField\n * Allows options to be created from an array of models (containing id and name properties)\n * id can be numbers, although @dhis2/ui requires option values to be strings.\n */\nconst SelectField = props => {\n  const {\n    dense = true,\n    errorText,\n    helpText,\n    warning,\n    items,\n    label,\n    prefix,\n    loading,\n    multiple,\n    disabled,\n    onChange,\n    className,\n    value,\n    dataTest\n  } = props;\n  const isLoading = loading === true;\n  const Select = multiple ? MultiSelectField : SingleSelectField;\n  const Option = multiple ? MultiSelectOption : SingleSelectOption;\n  let selected;\n  if (multiple) {\n    selected = Array.isArray(value) ? value.map(v => String(v)) : [];\n  } else {\n    selected = value !== undefined && value !== null ? String(value) : '';\n  }\n\n  // Returns selected items in the original format\n  const onSelectChange = useCallback(_ref => {\n    let {\n      selected\n    } = _ref;\n    return onChange(multiple ? items.filter(item => selected.includes(String(item.id))).map(item => item.id) : items.find(item => String(item.id) === selected));\n  }, [items, multiple, onChange]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: cx(styles.inputField, className)\n  }, /*#__PURE__*/React.createElement(Select, {\n    dense: dense,\n    label: label,\n    prefix: prefix,\n    selected: !isLoading ? selected : undefined,\n    disabled: disabled,\n    loading: isLoading,\n    error: !!errorText,\n    warning: !!warning,\n    validationText: warning ? warning : errorText,\n    helpText: helpText,\n    onChange: onSelectChange,\n    dataTest: dataTest\n  }, items && items.map(_ref2 => {\n    let {\n      id,\n      name\n    } = _ref2;\n    return /*#__PURE__*/React.createElement(Option, {\n      key: id,\n      value: String(id),\n      label: name\n    });\n  })));\n};\nSelectField.propTypes = {\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n  dense: PropTypes.bool,\n  disabled: PropTypes.bool,\n  errorText: PropTypes.string,\n  // If set, shows the error message below the SelectField\n  helpText: PropTypes.string,\n  // If set, shows the help text below the SelectField\n  items: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n    name: PropTypes.string\n  })),\n  label: PropTypes.string,\n  // If true, spinner will be shown in the select menu. If string, the text will be shown\n  loading: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n  // If true, then use multiple selection. Adds a checkbox to each menu item.\n  multiple: PropTypes.bool,\n  prefix: PropTypes.string,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number]))]),\n  warning: PropTypes.string,\n  // If set, shows the warning message below the SelectField\n  onChange: PropTypes.func\n};\nexport default SelectField;","import { useDataQuery } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React, { useEffect } from 'react';\nimport styles from './dimension-items-select.module.css';\nimport SelectField from './select-field.js';\n\n// Load dimension items\nconst DIMENSION_ITEMS_QUERY = {\n  items: {\n    resource: 'dimensions',\n    id: _ref => {\n      let {\n        id\n      } = _ref;\n      return `${id}/items`;\n    },\n    params: _ref2 => {\n      let {\n        nameProperty\n      } = _ref2;\n      return {\n        fields: ['id', `${nameProperty}~rename(name)`],\n        order: `${nameProperty}:asc`,\n        paging: false\n      };\n    }\n  }\n};\nconst DimensionItemsSelect = _ref3 => {\n  let {\n    dimension,\n    value,\n    onChange\n  } = _ref3;\n  const nameProperty = 'displayName';\n  const {\n    loading,\n    error,\n    data,\n    refetch\n  } = useDataQuery(DIMENSION_ITEMS_QUERY, {\n    lazy: true\n  });\n  useEffect(() => {\n    if (dimension) {\n      refetch({\n        id: dimension,\n        nameProperty\n      });\n    }\n  }, [dimension, nameProperty, refetch]);\n  const onDimensionItemClick = ids => onChange(ids.map(id => data.items.items.find(item => item.id === id)));\n  const items = data === null || data === void 0 ? void 0 : data.items.items;\n  const foundValues = value && items ? value.filter(id => items.find(f => f.id === id)) : undefined;\n  return /*#__PURE__*/React.createElement(SelectField, {\n    label: i18n.t('Items'),\n    loading: loading,\n    items: items,\n    value: foundValues,\n    multiple: true,\n    onChange: onDimensionItemClick,\n    errorText: error === null || error === void 0 ? void 0 : error.message,\n    className: styles.select\n  });\n};\nDimensionItemsSelect.propTypes = {\n  onChange: PropTypes.func.isRequired,\n  dimension: PropTypes.string,\n  value: PropTypes.array\n};\nexport default DimensionItemsSelect;","// extracted by mini-css-extract-plugin\nexport default {\"dropdown\":\"dimension-select_dropdown__H15ok\",\"dimensions\":\"dimension-select_dimensions__v05Dw\"};","import { DimensionsPanel } from '@dhis2/analytics';\nimport { useDataQuery } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { Popover, IconChevronDown24, Help } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useRef, useState } from 'react';\nimport styles from './dimension-select.module.css';\n\n// Include the following dimension types\nconst dimensionTypes = ['CATEGORY', 'CATEGORY_OPTION_GROUP_SET', 'ORGANISATION_UNIT_GROUP_SET'];\n\n// Load above dimension types\nconst DIMENSIONS_QUERY = {\n  dimensions: {\n    resource: 'dimensions',\n    params: _ref => {\n      let {\n        nameProperty\n      } = _ref;\n      return {\n        fields: ['id', `${nameProperty}~rename(name)`, 'dimensionType'],\n        filter: `dimensionType:in:[${dimensionTypes.join(',')}]`,\n        order: `${nameProperty}:asc`,\n        paging: false\n      };\n    }\n  }\n};\nconst DimensionSelect = _ref2 => {\n  let {\n    dimension,\n    onChange\n  } = _ref2;\n  const [isOpen, setIsOpen] = useState(false);\n  const nameProperty = 'displayName';\n  const {\n    error,\n    data\n  } = useDataQuery(DIMENSIONS_QUERY, {\n    variables: {\n      nameProperty\n    }\n  });\n  const dropdownRef = useRef();\n  const findDimension = id => data && data.dimensions.dimensions.find(d => d.id === id);\n  const selected = findDimension(dimension);\n  const onDimensionClick = dim => {\n    if (dim !== dimension) {\n      onChange(findDimension(dim));\n    }\n    setIsOpen(false);\n  };\n  if (error) {\n    return /*#__PURE__*/React.createElement(Help, {\n      error: true\n    }, error.message);\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    onClick: () => setIsOpen(true),\n    className: styles.dropdown\n  }, /*#__PURE__*/React.createElement(\"label\", null, i18n.t('Dimension')), /*#__PURE__*/React.createElement(\"div\", {\n    ref: dropdownRef\n  }, /*#__PURE__*/React.createElement(\"span\", null, selected ? selected.name : ''), /*#__PURE__*/React.createElement(IconChevronDown24, null))), isOpen && /*#__PURE__*/React.createElement(Popover, {\n    reference: dropdownRef,\n    placement: \"bottom-start\",\n    onClickOutside: () => setIsOpen(false)\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.dimensions\n  }, /*#__PURE__*/React.createElement(DimensionsPanel, {\n    dimensions: data.dimensions.dimensions,\n    onDimensionClick: onDimensionClick,\n    selectedIds: [dimension]\n  }))));\n};\nDimensionSelect.propTypes = {\n  onChange: PropTypes.func.isRequired,\n  dimension: PropTypes.string\n};\nexport default DimensionSelect;","// extracted by mini-css-extract-plugin\nexport default {\"removeButtonContainer\":\"remove-filter_removeButtonContainer__eETEF\",\"removeBtnContainer\":\"remove-filter_removeBtnContainer__5vgNm\"};","import i18n from '@dhis2/d2-i18n';\nimport { Button } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './remove-filter.module.css';\n\n// Remove filter button used for both thematic and event filters\nconst RemoveFilter = _ref => {\n  let {\n    onClick\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.removeButtonContainer\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: onClick,\n    small: true,\n    destructive: true,\n    secondary: true\n  }, i18n.t('Remove')));\n};\nRemoveFilter.propTypes = {\n  onClick: PropTypes.func.isRequired\n};\nexport default RemoveFilter;","import PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './dimension-filter-row.module.css';\nimport DimensionItemsSelect from './dimension-items-select.js';\nimport DimensionSelect from './dimension-select.js';\nimport RemoveFilter from './remove-filter.js';\nconst DimensionFilterRow = _ref => {\n  let {\n    dimension,\n    items,\n    index,\n    onChange,\n    onRemove\n  } = _ref;\n  const onSelect = (dimension, items) => onChange(index, {\n    dimension,\n    items\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.filterRow\n  }, /*#__PURE__*/React.createElement(DimensionSelect, {\n    dimension: dimension,\n    onChange: selectedDimension => onSelect(selectedDimension.id)\n  }), /*#__PURE__*/React.createElement(DimensionItemsSelect, {\n    dimension: dimension,\n    value: items ? items.map(item => item.id) : null,\n    onChange: items => onSelect(dimension, items)\n  }), /*#__PURE__*/React.createElement(RemoveFilter, {\n    onClick: () => onRemove(index)\n  }));\n};\nDimensionFilterRow.propTypes = {\n  onChange: PropTypes.func.isRequired,\n  onRemove: PropTypes.func.isRequired,\n  dimension: PropTypes.string,\n  index: PropTypes.number,\n  items: PropTypes.array\n};\nexport default DimensionFilterRow;","// extracted by mini-css-extract-plugin\nexport default {\"dimensionFilter\":\"filter-select_dimensionFilter__O0E+X\",\"addFilter\":\"filter-select_addFilter__gheWV\"};","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport i18n from '@dhis2/d2-i18n';\nimport { Button } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport DimensionFilterRow from './dimension-filter-row.js';\nimport styles from './filter-select.module.css';\nexport const FilterSelect = _ref => {\n  let {\n    input\n  } = _ref;\n  const {\n    value,\n    onChange\n  } = input;\n  const [dimensions, setDimensions] = useState(() => value);\n  const addDimensionFilter = useCallback(() => {\n    setDimensions(prevDimensions => [...prevDimensions, {\n      dimension: null\n    }]);\n  }, [setDimensions]);\n  const changeDimensionFilter = useCallback((index, filter) => {\n    setDimensions(prevDimensions => [...prevDimensions.slice(0, index), filter, ...prevDimensions.slice(index + 1)]);\n  }, [setDimensions]);\n  const removeDimensionFilter = useCallback(index => {\n    setDimensions(prevDimensions => [...prevDimensions.slice(0, index), ...prevDimensions.slice(index + 1)]);\n  }, [setDimensions]);\n  useEffect(() => {\n    onChange(dimensions);\n  }, [onChange, dimensions]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.dimensionFilter\n  }, dimensions.map((item, index) => /*#__PURE__*/React.createElement(DimensionFilterRow, _extends({\n    key: index,\n    index: index,\n    onChange: changeDimensionFilter,\n    onRemove: removeDimensionFilter\n  }, item))), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.addFilter\n  }, /*#__PURE__*/React.createElement(Button, {\n    small: true,\n    basic: true,\n    onClick: () => addDimensionFilter()\n  }, i18n.t('Add filter'))));\n};\nFilterSelect.propTypes = {\n  dimensions: PropTypes.array,\n  input: PropTypes.object\n};","import { OrgUnitDimension } from '@dhis2/analytics';\nimport PropTypes from 'prop-types';\nimport React, { useMemo } from 'react';\nimport { useUserContext } from '../../../context/index.js';\nimport { SelectorValidationError } from '../shared/index.js';\nexport const OrgUnitSelector = _ref => {\n  let {\n    input,\n    meta\n  } = _ref;\n  const {\n    value: selectedOrgUnits,\n    onChange\n  } = input;\n  const {\n    organisationUnits: userOrganisationUnits\n  } = useUserContext();\n  const rootOrgUnits = useMemo(() => userOrganisationUnits ? userOrganisationUnits.map(_ref2 => {\n    let {\n      id\n    } = _ref2;\n    return id;\n  }) : null, [userOrganisationUnits]);\n  if (!rootOrgUnits) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(OrgUnitDimension, {\n    roots: rootOrgUnits,\n    selected: selectedOrgUnits,\n    onSelect: _ref3 => {\n      let {\n        items\n      } = _ref3;\n      onChange(items);\n    },\n    hideUserOrgUnits: true\n  }), /*#__PURE__*/React.createElement(SelectorValidationError, {\n    meta: meta\n  }));\n};\nOrgUnitSelector.propTypes = {\n  input: PropTypes.object,\n  meta: PropTypes.object\n};","import { PeriodDimension } from '@dhis2/analytics';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { SelectorValidationError } from '../shared/index.js';\nexport const PeriodSelector = _ref => {\n  let {\n    input,\n    meta\n  } = _ref;\n  const {\n    value: selectedPeriods\n  } = input;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(PeriodDimension, {\n    selectedPeriods: selectedPeriods,\n    onSelect: _ref2 => {\n      let {\n        items\n      } = _ref2;\n      input.onChange(items);\n    }\n  }), /*#__PURE__*/React.createElement(SelectorValidationError, {\n    meta: meta\n  }));\n};\nPeriodSelector.propTypes = {\n  input: PropTypes.object,\n  meta: PropTypes.object\n};","// extracted by mini-css-extract-plugin\nexport default {\"subsectionField\":\"request-form_subsectionField__IFugN\",\"subsectionField1000\":\"request-form_subsectionField1000__ADu3q\",\"subsectionField600\":\"request-form_subsectionField600__g-fLI\",\"subsectionBlockEnd\":\"request-form_subsectionBlockEnd__bVytc\",\"visualizationSubtext\":\"request-form_visualizationSubtext__YweFO\",\"checkContainer\":\"request-form_checkContainer__uGQZl\"};","// extracted by mini-css-extract-plugin\nexport default {\"visualizationInfoContainer\":\"visualization-select_visualizationInfoContainer__Fn-Jc\",\"visualizationLinkTextContainer\":\"visualization-select_visualizationLinkTextContainer__w479R\",\"visualizationLinkText\":\"visualization-select_visualizationLinkText__DS-H4\"};","import { useConfig } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { Button } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport { useUserContext } from '../../../context/index.js';\nimport { OpenFileDialog } from '../shared/index.js';\nimport styles from './visualization-select.module.css';\nexport const VisualizationSelect = _ref => {\n  let {\n    input\n  } = _ref;\n  const [open, setOpen] = useState(false);\n  const currentUser = useUserContext();\n  const {\n    value: visualizationInfo,\n    onChange\n  } = input;\n  const {\n    baseUrl\n  } = useConfig();\n  const onFileSelect = selected => {\n    onChange(selected);\n    setOpen(false);\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.visualizationInfoContainer\n  }, visualizationInfo.name && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.visualizationLinkTextContainer\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.visualizationLinkText\n  }, i18n.t('Linked to: ', {\n    nsSeparator: '-:-'\n  })), /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.visualizationLinkText\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    target: \"_blank\",\n    rel: \"noopener noreferrer\",\n    href: `${baseUrl}/dhis-web-data-visualizer/index.html#/${visualizationInfo.id}`\n  }, visualizationInfo.name))), /*#__PURE__*/React.createElement(Button, {\n    small: true,\n    secondary: true,\n    onClick: () => {\n      setOpen(true);\n    }\n  }, visualizationInfo.id ? i18n.t('Choose a different visualization') : i18n.t('Choose a visualization')), /*#__PURE__*/React.createElement(OpenFileDialog, {\n    type: \"visualization\",\n    open: open,\n    onClose: () => {\n      setOpen(false);\n    },\n    onNew: () => {\n      console.log('Not supported');\n    } // this prop is not relevant, but required\n    ,\n    onFileSelect: onFileSelect,\n    currentUser: currentUser\n  }));\n};\nVisualizationSelect.propTypes = {\n  input: PropTypes.object\n};","import i18n from '@dhis2/d2-i18n';\nimport { ReactFinalForm, InputFieldFF, CheckboxFieldFF, hasValue } from '@dhis2/ui';\nimport React, { useState } from 'react';\nimport { Subsection, AdvancedSubsection, SchemeSelector } from '../shared/index.js';\nimport { DataItemSelect } from './data-item-select.js';\nimport { FilterSelect } from './filterSelect/filter-select.js';\nimport { OrgUnitSelector } from './org-unit-select.js';\nimport { PeriodSelector } from './period-select.js';\nimport styles from './request-form.module.css';\nimport { useValidators } from './useValidators.js';\nimport { VisualizationSelect } from './visualization-select.js';\nconst {\n  Field,\n  useField\n} = ReactFinalForm;\nexport const RequestEditForm = () => {\n  const {\n    input: filtersUsed\n  } = useField('filtersUsed', {\n    subscription: {\n      value: true\n    }\n  });\n  const {\n    value: filtersUsedValue\n  } = filtersUsed;\n  const {\n    input: visualizationLinked\n  } = useField('visualizationLinked', {\n    subscription: {\n      value: true\n    }\n  });\n  const {\n    value: visualizationLinkedValue\n  } = visualizationLinked;\n  const [showAdvanced, setShowAdvanced] = useState(false);\n  const {\n    dataItemSelectValidator,\n    periodSelectValidator,\n    orgUnitSelectValidator\n  } = useValidators();\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Subsection, {\n    text: i18n.t('Request setup'),\n    className: styles.subsectionBlockEnd\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.subsectionField1000\n  }, /*#__PURE__*/React.createElement(Field, {\n    name: \"requestName\",\n    label: i18n.t('Request name'),\n    helpText: i18n.t('Displayed in the Data Exchange app.'),\n    component: InputFieldFF,\n    validate: hasValue\n  })), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Field, {\n    type: \"checkbox\",\n    label: i18n.t('Filter request'),\n    name: \"filtersUsed\",\n    component: CheckboxFieldFF\n  }), filtersUsedValue && /*#__PURE__*/React.createElement(Field, {\n    label: i18n.t('Filter selections'),\n    name: \"filtersInfo\",\n    component: FilterSelect\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.checkContainer\n  }, /*#__PURE__*/React.createElement(Field, {\n    type: \"checkbox\",\n    label: i18n.t('Link request to a visualization'),\n    name: \"visualizationLinked\",\n    component: CheckboxFieldFF\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.visualizationSubtext\n  }, i18n.t('Request visualizations are shown when submitting exchanges.')), visualizationLinkedValue && /*#__PURE__*/React.createElement(Field, {\n    label: i18n.t('Filter selections'),\n    name: \"visualizationInfo\",\n    component: VisualizationSelect\n  }))), /*#__PURE__*/React.createElement(Subsection, {\n    text: i18n.t('Data items'),\n    className: styles.subsectionBlockEnd\n  }, /*#__PURE__*/React.createElement(Field, {\n    label: i18n.t('Data item select'),\n    name: \"dxInfo\",\n    component: DataItemSelect,\n    validate: dataItemSelectValidator\n  })), /*#__PURE__*/React.createElement(Subsection, {\n    text: i18n.t('Periods'),\n    className: styles.subsectionBlockEnd\n  }, /*#__PURE__*/React.createElement(Field, {\n    name: \"peInfo\",\n    component: PeriodSelector,\n    validate: periodSelectValidator\n  })), /*#__PURE__*/React.createElement(Subsection, {\n    text: i18n.t('Organisation units'),\n    className: styles.subsectionBlockEnd\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.subsectionField600\n  }, /*#__PURE__*/React.createElement(Field, {\n    name: \"ouInfo\",\n    component: OrgUnitSelector,\n    validate: orgUnitSelectValidator\n  }))), /*#__PURE__*/React.createElement(AdvancedSubsection, {\n    text: i18n.t('Advanced options'),\n    className: styles.advancedSection,\n    onTextClick: () => {\n      setShowAdvanced(prevShown => !prevShown);\n    },\n    open: showAdvanced\n  }, showAdvanced && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(SchemeSelector, {\n    label: i18n.t('Output general ID scheme'),\n    name: \"source_outputIdScheme\"\n  }), /*#__PURE__*/React.createElement(SchemeSelector, {\n    label: i18n.t('Output data element ID scheme'),\n    name: \"source_outputDataElementIdScheme\"\n  }), /*#__PURE__*/React.createElement(SchemeSelector, {\n    label: i18n.t('Output organisation unit ID scheme'),\n    name: \"source_outputOrgUnitIdScheme\"\n  }))));\n};","import i18n from '@dhis2/d2-i18n';\nimport { useCallback } from 'react';\nexport const useValidators = () => {\n  const dataItemSelectValidator = useCallback(val => val.length === 0 ? i18n.t('Choose at least one data item') : undefined, []);\n  const periodSelectValidator = useCallback(val => val.length === 0 ? i18n.t('Choose at least one period') : undefined, []);\n  const orgUnitSelectValidator = useCallback(val => val.length === 0 ? i18n.t('Choose at least one organisation unit') : undefined, []);\n  return {\n    dataItemSelectValidator,\n    periodSelectValidator,\n    orgUnitSelectValidator\n  };\n};","import i18n from '@dhis2/d2-i18n';\nimport { Box, ReactFinalForm } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Warning } from '../../common/index.js';\nimport { EditRequestFooter, EditTitle } from '../shared/index.js';\nimport styles from './edit-request.module.css';\nimport { getInitialValuesFromRequest, getRequestValuesFromForm } from './getRequestValues.js';\nimport { RequestEditForm } from './request-form.js';\nconst {\n  Form\n} = ReactFinalForm;\nconst RequestEditInner = /*#__PURE__*/React.memo(() => {\n  return /*#__PURE__*/React.createElement(RequestEditForm, null);\n});\nexport const RequestEdit = _ref => {\n  let {\n    exitRequestEditMode,\n    request,\n    requestsDispatch,\n    addModeRequest,\n    setRequestsTouched\n  } = _ref;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Form, {\n    onSubmit: requestValues => {\n      const action = {\n        type: addModeRequest ? 'ADD' : 'UPDATE',\n        value: getRequestValuesFromForm({\n          requestValues\n        }),\n        index: request.index\n      };\n      requestsDispatch(action);\n      setRequestsTouched(true);\n    },\n    initialValues: getInitialValuesFromRequest({\n      request\n    })\n  }, _ref2 => {\n    let {\n      handleSubmit: handleRequestSubmit\n    } = _ref2;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.editArea\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.editContainer\n    }, /*#__PURE__*/React.createElement(EditTitle, {\n      title: addModeRequest ? i18n.t('Edit exchange: Add request', {\n        nsSeparator: '-:-'\n      }) : i18n.t('Edit exchange: Edit request', {\n        nsSeparator: '-:-'\n      })\n    }), /*#__PURE__*/React.createElement(Box, {\n      className: styles.editFormArea\n    }, request.inputIdScheme === 'CODE' && /*#__PURE__*/React.createElement(Warning, {\n      warning: true,\n      title: 'inputIdScheme:code'\n    }, /*#__PURE__*/React.createElement(\"p\", null, i18n.t('This request currently uses inputIdScheme:code. The Data Exchange app does not support saving requests with inputIdScheme:code. If you save this request, it will be converted to inputIdScheme:uid.', {\n      nsSeparator: '-:-'\n    })), /*#__PURE__*/React.createElement(\"p\", null, i18n.t('Changing the inputIdScheme will change the internal representation of the request, but will not change the items in the request.'))), /*#__PURE__*/React.createElement(RequestEditInner, null)))), /*#__PURE__*/React.createElement(\"footer\", {\n      className: styles.bottomBar\n    }, /*#__PURE__*/React.createElement(EditRequestFooter, {\n      handleRequestSubmit: handleRequestSubmit,\n      exitRequestEditMode: exitRequestEditMode\n    })));\n  }));\n};\nRequestEdit.propTypes = {\n  addModeRequest: PropTypes.bool,\n  exitRequestEditMode: PropTypes.func,\n  request: PropTypes.object,\n  requestsDispatch: PropTypes.func,\n  setRequestsTouched: PropTypes.func\n};","export const requestsReducer = (state, action) => {\n  switch (action.type) {\n    case 'ADD':\n      {\n        return [...state, action.value];\n      }\n    case 'UPDATE':\n      {\n        const targetIndex = action.index; // maybe look up by old name?\n        const modifiedRequest = {\n          ...state[targetIndex],\n          ...action.value\n        };\n        return [...state.slice(0, targetIndex), modifiedRequest, ...state.slice(targetIndex + 1)];\n      }\n    case 'DELETE':\n      {\n        const targetIndex = action.index; // maybe look up by old name?\n        return [...state.slice(0, targetIndex), ...state.slice(targetIndex + 1)];\n      }\n  }\n  throw Error('Unknown action: ' + action.type);\n};","// extracted by mini-css-extract-plugin\nexport default {\"subsectionField\":\"edit-exchange-form_subsectionField__zJOs4\",\"subsectionField1000\":\"edit-exchange-form_subsectionField1000__ClMmi\",\"subsectionField600\":\"edit-exchange-form_subsectionField600__VaMZi\",\"fieldItem\":\"edit-exchange-form_fieldItem__liptr\",\"radiosContainer\":\"edit-exchange-form_radiosContainer__dJ+Uh\",\"radioItem\":\"edit-exchange-form_radioItem__uQWRy\",\"radioBox\":\"edit-exchange-form_radioBox__AtPIn\",\"radioBoxSelected\":\"edit-exchange-form_radioBoxSelected__1iCNV\",\"radioDecoratorLabel\":\"edit-exchange-form_radioDecoratorLabel__9qzMQ\",\"radioDecoratorHelper\":\"edit-exchange-form_radioDecoratorHelper__gok+h\",\"radioBoxText\":\"edit-exchange-form_radioBoxText__kmYNF\",\"advancedSection\":\"edit-exchange-form_advancedSection__AUE0x\",\"editWarningButton\":\"edit-exchange-form_editWarningButton__1NBLF\"};","// extracted by mini-css-extract-plugin\nexport default {\"requestActionButton\":\"requests-overview_requestActionButton__+IHHN\",\"buttonContainer\":\"requests-overview_buttonContainer__JjO5i\",\"emptyTableWrapper\":\"requests-overview_emptyTableWrapper__Ox4vc\",\"emptyTableHeader\":\"requests-overview_emptyTableHeader__eezYa\",\"emptyTableText\":\"requests-overview_emptyTableText__WKMUP\"};","import { useConfig } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { Button, ButtonStrip, Table, TableHead, TableCellHead, TableRowHead, TableBody, TableRow, DataTableCell } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { OU_LEVEL_PREFIX, OU_GROUP_PREFIX } from '../shared/index.js';\nimport styles from './requests-overview.module.css';\nconst getOuText = _ref => {\n  let {\n    ouInfo\n  } = _ref;\n  const orgUnits = ouInfo.filter(_ref2 => {\n    let {\n      id\n    } = _ref2;\n    return !id.startsWith(OU_LEVEL_PREFIX) && !id.startsWith(OU_GROUP_PREFIX);\n  });\n  const orgUnitLevels = ouInfo.filter(_ref3 => {\n    let {\n      id\n    } = _ref3;\n    return id.startsWith(OU_LEVEL_PREFIX);\n  });\n  const orgUnitGroups = ouInfo.filter(_ref4 => {\n    let {\n      id\n    } = _ref4;\n    return id.startsWith(OU_GROUP_PREFIX);\n  });\n  let orgUnitString = '';\n  if (orgUnits.length === 1) {\n    orgUnitString += orgUnits[0].name;\n  }\n  if (orgUnits.length > 1) {\n    orgUnitString += i18n.t('{{firstOuName}} and {{ouLength}} others', {\n      firstOuName: ouInfo[0].name,\n      ouLength: ouInfo.length - 1\n    });\n  }\n  if (orgUnitLevels.length > 0) {\n    orgUnitString += i18n.t('; levels: {{levelCount}}', {\n      levelCount: orgUnitLevels.length,\n      nsSeparator: '-:-'\n    });\n  }\n  if (orgUnitGroups.length > 0) {\n    orgUnitString += i18n.t('; groups: {{groupsCount}}', {\n      groupsCount: orgUnitGroups.length,\n      nsSeparator: '-:-'\n    });\n  }\n  return orgUnitString;\n};\nconst EmptyTableInfo = () => /*#__PURE__*/React.createElement(DataTableCell, {\n  colspan: \"6\"\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: styles.emptyTableWrapper\n}, /*#__PURE__*/React.createElement(\"p\", {\n  className: styles.emptyTableHeader\n}, i18n.t('No requests')), /*#__PURE__*/React.createElement(\"p\", {\n  className: styles.emptyTableText\n}, i18n.t('Click on buttons below to add a new request. Exchanges must contain at least one request.'))));\nconst RequestRow = _ref5 => {\n  var _request$visualizatio, _request$visualizatio2, _request$visualizatio3, _request$visualizatio4, _request$visualizatio5;\n  let {\n    request,\n    deleteRequest,\n    baseUrl,\n    setRequestEditMode\n  } = _ref5;\n  return /*#__PURE__*/React.createElement(TableRow, {\n    key: request.name\n  }, /*#__PURE__*/React.createElement(DataTableCell, {\n    onClick: () => setRequestEditMode(request)\n  }, request.name), /*#__PURE__*/React.createElement(DataTableCell, {\n    onClick: () => setRequestEditMode(request)\n  }, getOuText({\n    ouInfo: request.ouInfo\n  })), /*#__PURE__*/React.createElement(DataTableCell, {\n    onClick: () => setRequestEditMode(request)\n  }, request.peInfo.map(_ref6 => {\n    let {\n      name\n    } = _ref6;\n    return name;\n  }).join(', ')), /*#__PURE__*/React.createElement(DataTableCell, {\n    onClick: () => setRequestEditMode(request)\n  }, request.dx.length), /*#__PURE__*/React.createElement(DataTableCell, null, (_request$visualizatio = request.visualizationInfo) !== null && _request$visualizatio !== void 0 && _request$visualizatio.id ? /*#__PURE__*/React.createElement(\"a\", {\n    target: \"_blank\",\n    rel: \"noopener noreferrer\",\n    href: `${baseUrl}/dhis-web-data-visualizer/index.html#/${request.visualizationInfo.id}`\n  }, (_request$visualizatio2 = (_request$visualizatio3 = request.visualizationInfo) === null || _request$visualizatio3 === void 0 ? void 0 : _request$visualizatio3.name) !== null && _request$visualizatio2 !== void 0 ? _request$visualizatio2 : '') : /*#__PURE__*/React.createElement(\"span\", null, (_request$visualizatio4 = (_request$visualizatio5 = request.visualizationInfo) === null || _request$visualizatio5 === void 0 ? void 0 : _request$visualizatio5.name) !== null && _request$visualizatio4 !== void 0 ? _request$visualizatio4 : '')), /*#__PURE__*/React.createElement(DataTableCell, null, /*#__PURE__*/React.createElement(Button, {\n    small: true,\n    secondary: true,\n    destructive: true,\n    onClick: () => {\n      deleteRequest(request.index);\n    }\n  }, i18n.t('Delete'))));\n};\nRequestRow.propTypes = {\n  baseUrl: PropTypes.string,\n  deleteRequest: PropTypes.func,\n  request: PropTypes.object,\n  setRequestEditMode: PropTypes.func\n};\nexport const RequestsOverview = _ref7 => {\n  let {\n    requestsInfo,\n    setRequestEditMode,\n    deleteRequest\n  } = _ref7;\n  const {\n    baseUrl\n  } = useConfig();\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Table, {\n    suppressZebraStriping: true\n  }, /*#__PURE__*/React.createElement(TableHead, null, /*#__PURE__*/React.createElement(TableRowHead, null, /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('Name')), /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('Org. units')), /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('Periods')), /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('Data items')), /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('Visualization')), /*#__PURE__*/React.createElement(TableCellHead, null))), /*#__PURE__*/React.createElement(TableBody, null, requestsInfo.length === 0 ? /*#__PURE__*/React.createElement(EmptyTableInfo, null) : requestsInfo.map((request, index) => /*#__PURE__*/React.createElement(RequestRow, {\n    key: `${request.name}_${index}`,\n    request: request,\n    deleteRequest: deleteRequest,\n    baseUrl: baseUrl,\n    setRequestEditMode: setRequestEditMode\n  })))), /*#__PURE__*/React.createElement(ButtonStrip, {\n    className: styles.buttonContainer\n  }, /*#__PURE__*/React.createElement(Button, {\n    small: true,\n    onClick: () => setRequestEditMode({}, true)\n  }, i18n.t('Add request'))));\n};\nRequestsOverview.propTypes = {\n  deleteRequest: PropTypes.func,\n  requestsInfo: PropTypes.array,\n  setRequestEditMode: PropTypes.func\n};","import i18n from '@dhis2/d2-i18n';\nimport { Box, Button, Field as FieldContainer, InputFieldFF, RadioFieldFF, ReactFinalForm, hasValue } from '@dhis2/ui';\nimport classnames from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { useMemo, useState } from 'react';\nimport { Warning } from '../../common/index.js';\nimport { SchemeSelector, Subsection, AdvancedSubsection, AUTHENTICATION_TYPES, EXCHANGE_TYPES } from '../shared/index.js';\nimport styles from './edit-exchange-form.module.css';\nimport { RequestsOverview } from './requests-overview.js';\nconst {\n  Field,\n  useField\n} = ReactFinalForm;\nconst EnableExternalEditWarning = _ref => {\n  let {\n    editTargetSetupDisabled,\n    setEditTargetSetupDisabled,\n    targetSetup\n  } = _ref;\n  return !editTargetSetupDisabled ? null : /*#__PURE__*/React.createElement(Warning, null, /*#__PURE__*/React.createElement(\"div\", null, targetSetup ? i18n.t('Editing the target setup will require you to reenter authentication details.') : i18n.t('Editing the advanced options will require you to reenter authentication details.')), /*#__PURE__*/React.createElement(Button, {\n    className: styles.editWarningButton,\n    small: true,\n    onClick: () => setEditTargetSetupDisabled(false)\n  }, targetSetup ? i18n.t('Edit target setup') : i18n.t('Edit advanced options')));\n};\nEnableExternalEditWarning.propTypes = {\n  editTargetSetupDisabled: PropTypes.bool,\n  setEditTargetSetupDisabled: PropTypes.func,\n  targetSetup: PropTypes.bool\n};\nconst RadioDecorator = _ref2 => {\n  let {\n    label,\n    helperText,\n    currentSelected,\n    children\n  } = _ref2;\n  return /*#__PURE__*/React.createElement(Box, {\n    className: classnames(styles.radioBox, {\n      [styles.radioBoxSelected]: currentSelected\n    })\n  }, /*#__PURE__*/React.createElement(\"div\", null, children), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.radioBoxText\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.radioDecoratorLabel\n  }, label), /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.radioDecoratorHelper\n  }, helperText)));\n};\nRadioDecorator.propTypes = {\n  children: PropTypes.node,\n  currentSelected: PropTypes.bool,\n  helperText: PropTypes.string,\n  label: PropTypes.string\n};\nexport const EditExchangeFormContents = /*#__PURE__*/React.memo(_ref3 => {\n  let {\n    requestsState,\n    setRequestEditMode,\n    deleteRequest\n  } = _ref3;\n  const {\n    input: typeInput\n  } = useField('type', {\n    subscription: {\n      value: true\n    }\n  });\n  const {\n    value: typeValue\n  } = typeInput;\n  const {\n    input: authenticationType\n  } = useField('authentication', {\n    subscription: {\n      value: true\n    }\n  });\n  const {\n    value: authenticationValue\n  } = authenticationType;\n  const [showAdvanced, setShowAdvanced] = useState(false);\n  const [editTargetSetupDisabled, setEditTargetSetupDisabled] = useState(() => typeValue === EXCHANGE_TYPES.external);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Subsection, {\n    text: i18n.t('Basic setup')\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.subsectionField1000\n  }, /*#__PURE__*/React.createElement(Field, {\n    name: \"name\",\n    label: i18n.t('Exchange name'),\n    helpText: i18n.t('A unique name helps people find the right data exchange.'),\n    component: InputFieldFF,\n    validate: hasValue\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.subsectionField\n  }, /*#__PURE__*/React.createElement(FieldContainer, {\n    label: i18n.t('Exchange target type')\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.radiosContainer\n  }, /*#__PURE__*/React.createElement(RadioDecorator, {\n    label: i18n.t('External'),\n    helperText: i18n.t('Send date to another DHIS2 instance or data warehouse'),\n    currentSelected: typeValue === EXCHANGE_TYPES.external\n  }, /*#__PURE__*/React.createElement(Field, {\n    name: \"type\",\n    type: \"radio\",\n    component: RadioFieldFF,\n    value: EXCHANGE_TYPES.external\n  })), /*#__PURE__*/React.createElement(RadioDecorator, {\n    label: i18n.t('Internal'),\n    helperText: i18n.t('Manipulate data and transfer it inside this DHIS2 instance'),\n    currentSelected: typeValue === EXCHANGE_TYPES.internal\n  }, /*#__PURE__*/React.createElement(Field, {\n    name: \"type\",\n    type: \"radio\",\n    component: RadioFieldFF,\n    value: EXCHANGE_TYPES.internal\n  })))))), typeValue === EXCHANGE_TYPES.external && /*#__PURE__*/React.createElement(Subsection, {\n    text: i18n.t('Target setup')\n  }, /*#__PURE__*/React.createElement(EnableExternalEditWarning, {\n    editTargetSetupDisabled: editTargetSetupDisabled,\n    setEditTargetSetupDisabled: setEditTargetSetupDisabled,\n    targetSetup: true\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.subsectionField600\n  }, /*#__PURE__*/React.createElement(Field, {\n    name: \"url\",\n    label: i18n.t('Target URL'),\n    helpText: i18n.t('The URL of the target instance or data warehouse.'),\n    disabled: editTargetSetupDisabled,\n    component: InputFieldFF,\n    validate: hasValue\n  })), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(FieldContainer, {\n    label: i18n.t('Authentication method')\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.radiosContainer\n  }, /*#__PURE__*/React.createElement(Field, {\n    name: \"authentication\",\n    type: \"radio\",\n    component: RadioFieldFF,\n    label: i18n.t('Basic'),\n    value: AUTHENTICATION_TYPES.basic,\n    disabled: editTargetSetupDisabled\n  }), /*#__PURE__*/React.createElement(Field, {\n    name: \"authentication\",\n    className: styles.radioItem,\n    type: \"radio\",\n    component: RadioFieldFF,\n    label: i18n.t('Personal Access token'),\n    value: AUTHENTICATION_TYPES.pat,\n    disabled: editTargetSetupDisabled\n  })))), authenticationValue === AUTHENTICATION_TYPES.pat && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.subsectionField600\n  }, /*#__PURE__*/React.createElement(Field, {\n    name: \"accessToken\",\n    type: \"password\",\n    className: styles.fieldItem,\n    label: i18n.t('Access token'),\n    helpText: i18n.t('The personal access token generated by target instance'),\n    disabled: editTargetSetupDisabled,\n    component: InputFieldFF,\n    validate: !editTargetSetupDisabled ? hasValue : null\n  })), authenticationValue === AUTHENTICATION_TYPES.basic && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.subsectionField600\n  }, /*#__PURE__*/React.createElement(Field, {\n    name: \"username\",\n    className: styles.fieldItem,\n    label: i18n.t('Username'),\n    helpText: i18n.t('The username to log in to the target instance'),\n    disabled: editTargetSetupDisabled,\n    component: InputFieldFF,\n    validate: !editTargetSetupDisabled ? hasValue : null\n  }), /*#__PURE__*/React.createElement(Field, {\n    name: \"password\",\n    className: styles.fieldItem,\n    label: i18n.t('Password'),\n    type: \"password\",\n    helpText: i18n.t('The password associated with the username specified above'),\n    disabled: editTargetSetupDisabled,\n    component: InputFieldFF,\n    validate: !editTargetSetupDisabled ? hasValue : null\n  }))), /*#__PURE__*/React.createElement(Subsection, {\n    text: i18n.t('Requests')\n  }, /*#__PURE__*/React.createElement(RequestsOverview, {\n    requestsInfo: useMemo(() => requestsState.map((r, index) => ({\n      ...r,\n      index\n    })), [requestsState])\n    // redo this logic ^ (move to RequestsOverview to not need memoization)\n    ,\n    setRequestEditMode: setRequestEditMode,\n    deleteRequest: deleteRequest\n  })), /*#__PURE__*/React.createElement(AdvancedSubsection, {\n    text: i18n.t('Advanced options'),\n    className: styles.advancedSection,\n    onTextClick: () => {\n      setShowAdvanced(prevShown => !prevShown);\n    },\n    open: showAdvanced\n  }, showAdvanced && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(EnableExternalEditWarning, {\n    editTargetSetupDisabled: editTargetSetupDisabled,\n    setEditTargetSetupDisabled: setEditTargetSetupDisabled,\n    targetSetup: false\n  }), /*#__PURE__*/React.createElement(SchemeSelector, {\n    label: i18n.t('Input general ID scheme'),\n    name: \"target_idScheme\",\n    disabled: editTargetSetupDisabled\n  }), /*#__PURE__*/React.createElement(SchemeSelector, {\n    label: i18n.t('Input data element ID scheme'),\n    name: \"target_dataElementIdScheme\",\n    disabled: editTargetSetupDisabled\n  }), /*#__PURE__*/React.createElement(SchemeSelector, {\n    label: i18n.t('Input organisation unit ID scheme'),\n    name: \"target_orgUnitIdScheme\",\n    disabled: editTargetSetupDisabled\n  }), /*#__PURE__*/React.createElement(SchemeSelector, {\n    label: i18n.t('Input category option combo ID scheme'),\n    name: \"target_categoryOptionComboIdScheme\",\n    disabled: editTargetSetupDisabled\n  }))));\n});\nEditExchangeFormContents.propTypes = {\n  deleteRequest: PropTypes.func,\n  requestsState: PropTypes.array,\n  setRequestEditMode: PropTypes.func\n};","// extracted by mini-css-extract-plugin\nexport default {\"editArea\":\"edit-exchange_editArea__k9e0X\",\"editFormArea\":\"edit-exchange_editFormArea__E62ob\",\"editUpdateTitle\":\"edit-exchange_editUpdateTitle__D+QuH\",\"editContainer\":\"edit-exchange_editContainer__r5OY2\",\"bottomBar\":\"edit-exchange_bottomBar__dSczs\",\"hidden\":\"edit-exchange_hidden__in8zh\",\"fullHeight\":\"edit-exchange_fullHeight__Wrgn0\",\"errorBoxContainer\":\"edit-exchange_errorBoxContainer__O1alD\"};","import { SCHEME_TYPES, EXCHANGE_TYPES, AUTHENTICATION_TYPES } from '../shared/index.js';\nexport const getExchangeValuesFromForm = _ref => {\n  let {\n    values,\n    requests\n  } = _ref;\n  return {\n    name: values.name,\n    target: getTargetDetails({\n      values\n    }),\n    source: {\n      requests\n    }\n  };\n};\nconst getFormIdSchemeValues = _ref2 => {\n  let {\n    values\n  } = _ref2;\n  const idSchemeProps = ['idScheme', 'dataElementIdScheme', 'orgUnitIdScheme', 'categoryOptionComboIdScheme'];\n  return idSchemeProps.reduce((idSchemeValues, prop) => {\n    const attributeProp = `target_${prop}_attribute`;\n    idSchemeValues[prop] = values[`target_${prop}`] !== SCHEME_TYPES.attribute ? values[`target_${prop}`] : `ATTRIBUTE:${values[attributeProp]}`;\n    return idSchemeValues;\n  }, {});\n};\nconst getTargetDetails = _ref3 => {\n  let {\n    values\n  } = _ref3;\n  const target = {\n    type: values.type,\n    request: {\n      ...getFormIdSchemeValues({\n        values\n      })\n    }\n  };\n  if (values.type === EXCHANGE_TYPES.internal) {\n    return target;\n  }\n  // upate to include api\n  target.api = {\n    url: values.url\n  };\n  if (values.authentication === AUTHENTICATION_TYPES.pat) {\n    return {\n      ...target,\n      api: {\n        ...target.api,\n        accessToken: values.accessToken\n      }\n    };\n  }\n  return {\n    ...target,\n    api: {\n      ...target.api,\n      username: values.username,\n      password: values.password\n    }\n  };\n};\nconst getIdSchemeValues = _ref4 => {\n  let {\n    exchangeInfo\n  } = _ref4;\n  const idSchemeProps = ['idScheme', 'orgUnitIdScheme', 'dataElementIdScheme', 'categoryOptionComboIdScheme'];\n  return idSchemeProps.reduce((idSchemeValues, prop) => {\n    var _exchangeInfo$target, _exchangeInfo$target$, _exchangeInfo$target$2, _exchangeInfo$target$3, _exchangeInfo$target$4, _exchangeInfo$target2, _exchangeInfo$target3, _exchangeInfo$target4;\n    idSchemeValues[`target_${prop}`] = (_exchangeInfo$target = exchangeInfo.target) !== null && _exchangeInfo$target !== void 0 && (_exchangeInfo$target$ = _exchangeInfo$target.request) !== null && _exchangeInfo$target$ !== void 0 && _exchangeInfo$target$[prop] ? (_exchangeInfo$target$2 = exchangeInfo.target.request) === null || _exchangeInfo$target$2 === void 0 ? void 0 : (_exchangeInfo$target$3 = _exchangeInfo$target$2[prop]) === null || _exchangeInfo$target$3 === void 0 ? void 0 : (_exchangeInfo$target$4 = _exchangeInfo$target$3.split(':')[0]) === null || _exchangeInfo$target$4 === void 0 ? void 0 : _exchangeInfo$target$4.toUpperCase() : SCHEME_TYPES.uid;\n    idSchemeValues[`target_${prop}_attribute`] = (_exchangeInfo$target2 = exchangeInfo.target) === null || _exchangeInfo$target2 === void 0 ? void 0 : (_exchangeInfo$target3 = _exchangeInfo$target2.request) === null || _exchangeInfo$target3 === void 0 ? void 0 : (_exchangeInfo$target4 = _exchangeInfo$target3[prop]) === null || _exchangeInfo$target4 === void 0 ? void 0 : _exchangeInfo$target4.split(':')[1];\n    return idSchemeValues;\n  }, {});\n};\nexport const getInitialValuesFromExchange = _ref5 => {\n  var _exchangeInfo$target5, _exchangeInfo$target6, _exchangeInfo$target7, _exchangeInfo$target8, _exchangeInfo$target9, _exchangeInfo$target10, _exchangeInfo$target11;\n  let {\n    exchangeInfo\n  } = _ref5;\n  return {\n    name: exchangeInfo.name,\n    type: (_exchangeInfo$target5 = exchangeInfo.target) === null || _exchangeInfo$target5 === void 0 ? void 0 : _exchangeInfo$target5.type,\n    authentication: (_exchangeInfo$target6 = exchangeInfo.target) !== null && _exchangeInfo$target6 !== void 0 && (_exchangeInfo$target7 = _exchangeInfo$target6.api) !== null && _exchangeInfo$target7 !== void 0 && _exchangeInfo$target7.username ? AUTHENTICATION_TYPES.basic : AUTHENTICATION_TYPES.pat,\n    url: (_exchangeInfo$target8 = exchangeInfo.target) === null || _exchangeInfo$target8 === void 0 ? void 0 : (_exchangeInfo$target9 = _exchangeInfo$target8.api) === null || _exchangeInfo$target9 === void 0 ? void 0 : _exchangeInfo$target9.url,\n    username: (_exchangeInfo$target10 = exchangeInfo.target) === null || _exchangeInfo$target10 === void 0 ? void 0 : (_exchangeInfo$target11 = _exchangeInfo$target10.api) === null || _exchangeInfo$target11 === void 0 ? void 0 : _exchangeInfo$target11.username,\n    ...getIdSchemeValues({\n      exchangeInfo\n    })\n  };\n};","import { useDataEngine } from '@dhis2/app-runtime';\nimport { useCallback, useState } from 'react';\nimport { getExchangeValuesFromForm } from './getExchangeValues.js';\nconst getChange = _ref => {\n  let {\n    field,\n    value\n  } = _ref;\n  return {\n    op: 'add',\n    path: '/' + field,\n    value: value !== null && value !== void 0 ? value : null\n  };\n};\nconst getJsonPatch = _ref2 => {\n  let {\n    formattedValues,\n    form,\n    requestsTouched\n  } = _ref2;\n  const changes = [];\n  const modifiedFields = new Set(Object.keys(form.getState().dirtyFields));\n  if (modifiedFields.has('name')) {\n    changes.push(getChange({\n      field: 'name',\n      value: formattedValues.name\n    }));\n  }\n\n  // check if one field has been modified for target\n  const targetIdSchemes = ['idScheme', 'dataElementIdScheme', 'orgUnitIdScheme', 'categoryOptionComboIdScheme'];\n  const targetIdSchemesFields = targetIdSchemes.reduce((allNames, scheme) => {\n    return [...allNames, `target_${scheme}`, `target_${scheme}_attribute`];\n  }, []);\n  const targetFields = ['type', 'authentication', 'url', 'username', ...targetIdSchemesFields];\n  if (targetFields.some(tf => modifiedFields.has(tf))) {\n    changes.push(getChange({\n      field: 'target',\n      value: formattedValues.target\n    }));\n  }\n  if (requestsTouched) {\n    changes.push(getChange({\n      field: 'source',\n      value: formattedValues.source\n    }));\n  }\n  return changes;\n};\nexport const useUpdateExchange = _ref3 => {\n  let {\n    onComplete\n  } = _ref3;\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const engine = useDataEngine();\n  const refetch = useCallback(async _ref4 => {\n    let {\n      id,\n      form,\n      values,\n      requests,\n      requestsTouched,\n      newExchange\n    } = _ref4;\n    // set to loading\n    setLoading(true);\n    try {\n      const formattedValues = getExchangeValuesFromForm({\n        values,\n        requests\n      });\n      if (newExchange) {\n        await engine.mutate({\n          resource: 'aggregateDataExchanges',\n          type: 'create',\n          data: formattedValues\n        });\n      } else {\n        const changes = getJsonPatch({\n          formattedValues,\n          form,\n          requestsTouched\n        });\n        if ((changes === null || changes === void 0 ? void 0 : changes.length) > 0) {\n          await engine.mutate({\n            resource: `aggregateDataExchanges/${id}`,\n            type: 'json-patch',\n            data: changes\n          });\n        }\n      }\n      if (onComplete && typeof onComplete === 'function') {\n        onComplete();\n      }\n    } catch (e) {\n      console.error(e);\n      setError(e);\n    } finally {\n      setLoading(false);\n    }\n  }, [engine, onComplete]);\n  return [refetch, {\n    loading,\n    error\n  }];\n};","import i18n from '@dhis2/d2-i18n';\nimport { Box, NoticeBox, ReactFinalForm } from '@dhis2/ui';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { useCallback } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { AttributeProvider, useAppContext } from '../../../context/index.js';\nimport { Loader } from '../../common/index.js';\nimport { RequestEdit } from '../request-update/index.js';\nimport { EditItemFooter, EditTitle } from '../shared/index.js';\nimport { EditExchangeFormContents } from './edit-exchange-form.js';\nimport styles from './edit-exchange.module.css';\nimport { getInitialValuesFromExchange } from './getExchangeValues.js';\nimport { useRequests } from './useRequests.js';\nimport { useUpdateExchange } from './useUpdateExchange.js';\nconst {\n  Form\n} = ReactFinalForm;\nconst formatError = error => {\n  var _error$details, _error$details$respon, _error$details$respon2;\n  if (((_error$details = error.details) === null || _error$details === void 0 ? void 0 : (_error$details$respon = _error$details.response) === null || _error$details$respon === void 0 ? void 0 : (_error$details$respon2 = _error$details$respon.errorReports) === null || _error$details$respon2 === void 0 ? void 0 : _error$details$respon2.length) > 0) {\n    return error.details.response.errorReports.reduce((stringified, rep) => {\n      if (rep.message) {\n        return stringified + `\\n${rep.message}`;\n      }\n      return stringified;\n    }, '');\n  }\n  return error === null || error === void 0 ? void 0 : error.message;\n};\nexport const EditExchange = _ref => {\n  let {\n    exchangeInfo,\n    addMode\n  } = _ref;\n  const {\n    requestEditInfo,\n    setRequestEditMode,\n    exitRequestEditMode,\n    requestsState,\n    requestsDispatch,\n    deleteRequest,\n    requestsTouched,\n    setRequestsTouched\n  } = useRequests({\n    exchangeInfo\n  });\n  const {\n    refetchExchanges\n  } = useAppContext();\n  const navigate = useNavigate();\n  const onComplete = useCallback(async () => {\n    await refetchExchanges();\n    navigate('/edit');\n  }, [refetchExchanges, navigate]);\n  const [saveExchange, {\n    loading: saving,\n    error: error\n  }] = useUpdateExchange({\n    onComplete\n  });\n  return /*#__PURE__*/React.createElement(AttributeProvider, null, /*#__PURE__*/React.createElement(Form, {\n    onSubmit: (values, form) => {\n      saveExchange({\n        values,\n        form,\n        id: exchangeInfo === null || exchangeInfo === void 0 ? void 0 : exchangeInfo.id,\n        requests: requestsState,\n        requestsTouched,\n        newExchange: addMode\n      });\n    },\n    initialValues: getInitialValuesFromExchange({\n      exchangeInfo\n    })\n  }, _ref2 => {\n    let {\n      handleSubmit\n    } = _ref2;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames(styles.fullHeight, {\n        [styles.hidden]: requestEditInfo === null || requestEditInfo === void 0 ? void 0 : requestEditInfo.editMode\n      })\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.editArea\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.editContainer\n    }, /*#__PURE__*/React.createElement(EditTitle, {\n      title: addMode ? i18n.t('Add exchange') : i18n.t('Edit exchange')\n    }), /*#__PURE__*/React.createElement(Box, {\n      className: styles.editFormArea\n    }, saving && /*#__PURE__*/React.createElement(Loader, null), error && /*#__PURE__*/React.createElement(NoticeBox, {\n      error: true,\n      title: i18n.t('Could not save'),\n      className: styles.errorBoxContainer\n    }, formatError(error)), !saving && /*#__PURE__*/React.createElement(EditExchangeFormContents, {\n      requestsState: requestsState,\n      setRequestEditMode: setRequestEditMode,\n      deleteRequest: deleteRequest\n    })))), /*#__PURE__*/React.createElement(\"footer\", {\n      className: styles.bottomBar\n    }, /*#__PURE__*/React.createElement(EditItemFooter, {\n      handleSubmit: handleSubmit,\n      requestsTouched: requestsTouched\n    }))), !requestEditInfo.editMode ? null : /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames(styles.fullHeight, {\n        [styles.hidden]: !requestEditInfo.editMode\n      })\n    }, /*#__PURE__*/React.createElement(RequestEdit, {\n      exitRequestEditMode: exitRequestEditMode,\n      request: requestEditInfo.request,\n      requestsDispatch: requestsDispatch,\n      addModeRequest: requestEditInfo.addModeRequest,\n      setRequestsTouched: setRequestsTouched\n    })));\n  }));\n};\nEditExchange.propTypes = {\n  addMode: PropTypes.bool,\n  exchangeInfo: PropTypes.object\n};","import { useCallback, useReducer, useState } from 'react';\nimport { requestsReducer } from '../request-update/index.js';\nexport const useRequests = _ref => {\n  var _exchangeInfo$source$, _exchangeInfo$source;\n  let {\n    exchangeInfo\n  } = _ref;\n  const [requestEditInfo, setRequestEditInfo] = useState({\n    editMode: false,\n    request: null\n  });\n  const setRequestEditMode = useCallback(function (request) {\n    let addModeRequest = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    setRequestEditInfo({\n      editMode: true,\n      request,\n      addModeRequest\n    });\n  }, [setRequestEditInfo]);\n  const exitRequestEditMode = useCallback(() => {\n    setRequestEditInfo({\n      editMode: false,\n      request: null\n    });\n  }, [setRequestEditInfo]);\n  const [requestsState, requestsDispatch] = useReducer(requestsReducer, (_exchangeInfo$source$ = exchangeInfo === null || exchangeInfo === void 0 ? void 0 : (_exchangeInfo$source = exchangeInfo.source) === null || _exchangeInfo$source === void 0 ? void 0 : _exchangeInfo$source.requests) !== null && _exchangeInfo$source$ !== void 0 ? _exchangeInfo$source$ : []);\n  const deleteRequest = useCallback(index => {\n    requestsDispatch({\n      type: 'DELETE',\n      index\n    });\n  }, []);\n  const [requestsTouched, setRequestsTouched] = useState(false);\n  return {\n    requestEditInfo,\n    setRequestEditMode,\n    exitRequestEditMode,\n    requestsState,\n    requestsDispatch,\n    deleteRequest,\n    requestsTouched,\n    setRequestsTouched\n  };\n};","import { OU_LEVEL_PREFIX } from '../shared/index.js';\nconst dimensionTypes = ['CATEGORY', 'CATEGORY_OPTION_GROUP_SET', 'ORGANISATION_UNIT_GROUP_SET'];\nconst DIMENSIONS_QUERY = {\n  dimensions: {\n    resource: 'dimensions',\n    params: {\n      fields: ['id', 'code', 'items[id,code]'],\n      filter: `dimensionType:in:[${dimensionTypes.join(',')}]`,\n      paging: false\n    }\n  }\n};\nconst ORGANISATION_UNIT_LEVELS_QUERY = {\n  organisationUnitLevels: {\n    resource: 'organisationUnitLevels',\n    params: {\n      fields: ['id', 'level'],\n      paging: false\n    }\n  }\n};\nconst getCodeFromPosition = _ref => {\n  let {\n    id,\n    request,\n    dx\n  } = _ref;\n  const indexPosition = dx.indexOf(id);\n  if (indexPosition === -1) {\n    return null;\n  }\n  return request.dx[indexPosition];\n};\nexport const getMetadataWithCode = _ref2 => {\n  let {\n    originalCurrentItems,\n    request,\n    md\n  } = _ref2;\n  const codeItems = {};\n  Object.keys(originalCurrentItems).forEach(key => {\n    var _item$code;\n    const item = originalCurrentItems[key];\n    const currentCode = (_item$code = item.code) !== null && _item$code !== void 0 ? _item$code : getCodeFromPosition({\n      id: key,\n      request,\n      dx: md.metadata.metaData.dimensions.dx\n    });\n    if (currentCode !== null) {\n      codeItems[currentCode] = {\n        id: key,\n        ...item\n      };\n    }\n  });\n  return codeItems;\n};\nexport const getFilterCodeMap = async _ref3 => {\n  var _dimensionsResponse$d;\n  let {\n    engine\n  } = _ref3;\n  const filterCodeMap = new Map();\n  const dimensionsResponse = await engine.query(DIMENSIONS_QUERY);\n  const dimensionsInfo = (_dimensionsResponse$d = dimensionsResponse.dimensions) === null || _dimensionsResponse$d === void 0 ? void 0 : _dimensionsResponse$d.dimensions;\n  for (const dimension of dimensionsInfo) {\n    filterCodeMap.set(dimension.code, dimension.id);\n    for (const dItem of dimension.items) {\n      filterCodeMap.set(dItem.code, dItem.id);\n    }\n  }\n  return filterCodeMap;\n};\nexport const getOuLevelMap = async _ref4 => {\n  let {\n    engine,\n    exchange\n  } = _ref4;\n  const ouLevelMap = new Map();\n  const hasOuLevels = exchange.source.requests.reduce((oneOuLevel, request) => {\n    return oneOuLevel ? true : request.ou.some(ou => ou.startsWith(OU_LEVEL_PREFIX));\n  }, false);\n  if (hasOuLevels) {\n    const ouLevelResponse = await engine.query(ORGANISATION_UNIT_LEVELS_QUERY);\n    ouLevelResponse.organisationUnitLevels.organisationUnitLevels.map(oul => {\n      ouLevelMap.set(String(oul.level), oul.id);\n    });\n  }\n  return ouLevelMap;\n};","import { useDataEngine } from '@dhis2/app-runtime';\nimport { useCallback, useState } from 'react';\nimport { SCHEME_TYPES, OU_GROUP_PREFIX, OU_LEVEL_PREFIX } from '../shared/index.js';\nimport { getMetadataWithCode, getFilterCodeMap, getOuLevelMap } from './codeDetailsHelpers.js';\nconst EXCHANGE_QUERY = {\n  exchange: {\n    resource: 'aggregateDataExchanges',\n    id: _ref => {\n      let {\n        id\n      } = _ref;\n      return id;\n    },\n    params: {\n      paging: false\n    }\n  }\n};\nconst ORG_UNITS_QUERY = {\n  organisationUnits: {\n    resource: 'organisationUnits',\n    params: _ref2 => {\n      let {\n        ids\n      } = _ref2;\n      return {\n        paging: false,\n        fields: ['id', 'displayName~rename(name)', 'path'],\n        filter: `id:in:[${ids.join()}]`\n      };\n    }\n  }\n};\nconst VISUALIZATIONS_QUERY = {\n  visualizations: {\n    resource: 'visualizations',\n    params: _ref3 => {\n      let {\n        ids\n      } = _ref3;\n      return {\n        paging: false,\n        fields: ['id', 'displayName~rename(name)', 'href'],\n        filter: `id:in:[${ids.join()}]`\n      };\n    }\n  }\n};\nconst ANALYTICS_QUERY = {\n  metadata: {\n    resource: 'analytics',\n    params: _ref4 => {\n      let {\n        ou,\n        dx,\n        pe,\n        inputIdScheme\n      } = _ref4;\n      return {\n        dimension: `dx:${dx.join(';')},ou:${ou.join(';')},pe:${pe.join(';')}`,\n        skipMeta: false,\n        skipData: true,\n        includeMetadataDetails: true,\n        inputIdScheme\n      };\n    }\n  }\n};\nconst getMetadataByRequest = async _ref5 => {\n  let {\n    engine,\n    variables\n  } = _ref5;\n  return await engine.query(ANALYTICS_QUERY, {\n    variables\n  });\n};\nexport const useFetchExchange = () => {\n  const [loading, setLoading] = useState(false);\n  const [data, setData] = useState(null);\n  const [error, setError] = useState(null);\n  const engine = useDataEngine();\n  const refetch = useCallback(async _ref6 => {\n    let {\n      id\n    } = _ref6;\n    // set to loading\n    setLoading(true);\n    try {\n      const {\n        exchange\n      } = await engine.query(EXCHANGE_QUERY, {\n        variables: {\n          id\n        }\n      });\n\n      // get metadata information for dx, pe\n      const metadataRequests = exchange.source.requests.map(_ref7 => {\n        let {\n          ou,\n          dx,\n          pe,\n          inputIdScheme = 'UID'\n        } = _ref7;\n        return getMetadataByRequest({\n          engine,\n          variables: {\n            ou,\n            dx,\n            pe,\n            inputIdScheme\n          }\n        });\n      });\n      const metadataResponses = await Promise.all(metadataRequests);\n      const metadata = metadataResponses.reduce((allItems, md, index) => {\n        var _exchange$source$requ, _exchange$source$requ2;\n        // if the inputIdScheme is 'code', we need to remap the items from id to code\n        const inputIdScheme = (_exchange$source$requ = (_exchange$source$requ2 = exchange.source.requests[index]) === null || _exchange$source$requ2 === void 0 ? void 0 : _exchange$source$requ2.inputIdScheme) !== null && _exchange$source$requ !== void 0 ? _exchange$source$requ : SCHEME_TYPES.uid;\n        let currentItems = {};\n        if (inputIdScheme === SCHEME_TYPES.code) {\n          currentItems = getMetadataWithCode({\n            originalCurrentItems: md.metadata.metaData.items,\n            request: exchange.source.requests[index],\n            md\n          });\n        } else {\n          currentItems = md.metadata.metaData.items;\n          // uid for data sets and event data items does not correspond to the format required for dx item, so add these back from key\n          // this is handled (slightly differently) in getMetadataWithCode\n          for (const cKey in currentItems) {\n            currentItems[cKey].id = cKey;\n          }\n        }\n        return {\n          ...allItems,\n          ...currentItems\n        };\n      }, {});\n\n      // OrgUnit tree requires path, which is missing in analytics response\n      const ousToLookUp = exchange.source.requests.reduce((ouSet, _ref8) => {\n        let {\n          ou: ouDimension\n        } = _ref8;\n        for (const orgUnit of ouDimension) {\n          if (!orgUnit.startsWith(OU_LEVEL_PREFIX) && !orgUnit.startsWith(OU_GROUP_PREFIX)) {\n            // we get uid from metadata in case inputIdScheme:code\n            ouSet.add(metadata[orgUnit].uid);\n          }\n        }\n        return ouSet;\n      }, new Set());\n      const {\n        organisationUnits: orgUnitDetails\n      } = await engine.query(ORG_UNITS_QUERY, {\n        variables: {\n          ids: [...ousToLookUp]\n        }\n      });\n      const ouMap = orgUnitDetails.organisationUnits.reduce((orgUnitsMap, orgUnit) => {\n        orgUnitsMap.set(orgUnit.id, orgUnit);\n        return orgUnitsMap;\n      }, new Map());\n\n      // get visualizations information\n      const visualizationsToLookUp = new Set(exchange.source.requests.map(_ref9 => {\n        let {\n          visualization\n        } = _ref9;\n        return visualization;\n      }));\n      const {\n        visualizations: visualizationsDetails\n      } = await engine.query(VISUALIZATIONS_QUERY, {\n        variables: {\n          ids: [...visualizationsToLookUp]\n        }\n      });\n      const visualizationsMap = visualizationsDetails.visualizations.reduce((visMap, visualization) => {\n        visMap.set(visualization.id, visualization);\n        return visMap;\n      }, new Map());\n\n      // if there are any requests with inputIdScheme:code,\n      // lock up filter codes and ou levels\n      const hasCodeIdScheme = exchange.source.requests.map(_ref10 => {\n        let {\n          inputIdScheme\n        } = _ref10;\n        return inputIdScheme;\n      }).includes('CODE');\n      const filterCodeMap = hasCodeIdScheme ? await getFilterCodeMap({\n        engine\n      }) : new Map();\n      const ouLevelMap = hasCodeIdScheme ? await getOuLevelMap({\n        engine,\n        exchange\n      }) : new Map();\n      exchange.source.requests = exchange.source.requests.map(request => {\n        const {\n          inputIdScheme = SCHEME_TYPES.uid\n        } = request;\n        return {\n          ...request,\n          dxInfo: request.dx.map(identifier => {\n            var _metadata$identifier$, _metadata$identifier;\n            return {\n              id: (_metadata$identifier$ = (_metadata$identifier = metadata[identifier]) === null || _metadata$identifier === void 0 ? void 0 : _metadata$identifier.id) !== null && _metadata$identifier$ !== void 0 ? _metadata$identifier$ : identifier,\n              ...metadata[identifier]\n            };\n          }),\n          peInfo: request.pe.map(id => {\n            var _metadata$id$uid;\n            return {\n              id: (_metadata$id$uid = metadata[id].uid) !== null && _metadata$id$uid !== void 0 ? _metadata$id$uid : id,\n              ...metadata[id]\n            };\n          }),\n          ouInfo: request.ou.map(identifier => {\n            var _metadata$identifier$3, _metadata$identifier2, _metadata$identifier3;\n            if (inputIdScheme === SCHEME_TYPES.code) {\n              if (identifier.startsWith(OU_LEVEL_PREFIX)) {\n                return {\n                  id: `${OU_LEVEL_PREFIX}${ouLevelMap.get(identifier.split(OU_LEVEL_PREFIX)[1])}`\n                };\n              }\n              if (identifier.startsWith(OU_GROUP_PREFIX)) {\n                var _metadata$identifier$2;\n                return {\n                  id: `${OU_GROUP_PREFIX}${(_metadata$identifier$2 = metadata[identifier.split(OU_GROUP_PREFIX)[1]]) === null || _metadata$identifier$2 === void 0 ? void 0 : _metadata$identifier$2.uid}`\n                };\n              }\n            }\n            return {\n              id: (_metadata$identifier$3 = (_metadata$identifier2 = metadata[identifier]) === null || _metadata$identifier2 === void 0 ? void 0 : _metadata$identifier2.uid) !== null && _metadata$identifier$3 !== void 0 ? _metadata$identifier$3 : identifier,\n              ...metadata[identifier],\n              ...ouMap.get((_metadata$identifier3 = metadata[identifier]) === null || _metadata$identifier3 === void 0 ? void 0 : _metadata$identifier3.uid)\n            };\n          }),\n          filtersInfo: request.filters.map(filter => ({\n            dimension: inputIdScheme === SCHEME_TYPES.code ? filterCodeMap.get(filter.dimension) : filter.dimension,\n            items: filter.items.map(identifier => ({\n              id: inputIdScheme === SCHEME_TYPES.code ? filterCodeMap.get(identifier) : identifier\n            }))\n          })),\n          visualizationInfo: request.visualization ? visualizationsMap.get(request.visualization) : null\n        };\n      });\n      setData(exchange);\n    } catch (e) {\n      console.error(e);\n      setError(e);\n    } finally {\n      setLoading(false);\n    }\n  }, [engine]);\n  return {\n    loading,\n    data,\n    error,\n    refetch\n  };\n};","import React, { useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { Loader } from '../components/common/index.js';\nimport { EditExchange, useFetchExchange } from '../components/edit/exchange-update/index.js';\nimport { AccessWarning } from '../components/edit/shared/index.js';\nimport { useUserContext } from '../context/index.js';\nexport const EditItem = () => {\n  const {\n    exchangeID\n  } = useParams();\n  const {\n    data,\n    error,\n    loading,\n    refetch\n  } = useFetchExchange();\n  const {\n    canAddExchange\n  } = useUserContext();\n  useEffect(() => {\n    refetch({\n      id: exchangeID\n    });\n  }, [exchangeID, refetch]);\n  if (loading) {\n    return /*#__PURE__*/React.createElement(Loader, null);\n  }\n  if (!canAddExchange || error) {\n    return /*#__PURE__*/React.createElement(AccessWarning, {\n      editMode: true\n    });\n  }\n  if (data) {\n    return /*#__PURE__*/React.createElement(EditExchange, {\n      exchangeInfo: data\n    });\n  }\n  return null;\n};","import React from 'react';\nimport { EditExchange } from '../components/edit/exchange-update/index.js';\nimport { EXCHANGE_TYPES, AccessWarning } from '../components/edit/shared/index.js';\nimport { useUserContext } from '../context/index.js';\nconst defaultExchange = {\n  source: {\n    requests: []\n  },\n  target: {\n    type: EXCHANGE_TYPES.internal\n  }\n};\nexport const AddItem = () => {\n  const {\n    canAddExchange\n  } = useUserContext();\n  if (!canAddExchange) {\n    ;\n    /*#__PURE__*/React.createElement(AccessWarning, null);\n  }\n  return /*#__PURE__*/React.createElement(EditExchange, {\n    exchangeInfo: defaultExchange,\n    addMode: true\n  });\n};","import { CssVariables } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { HashRouter, Route, Routes } from 'react-router-dom';\nimport { QueryParamProvider } from 'use-query-params';\nimport { ReactRouter6Adapter } from 'use-query-params/adapters/react-router-6';\nimport { AppProvider, UserProvider } from './context/index.js';\nimport { DataPage, EditPage, EditItem, AddItem } from './pages/index.js';\nconst App = _ref => {\n  let {\n    router: Router\n  } = _ref;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(CssVariables, {\n    spacers: true,\n    colors: true,\n    theme: true\n  }), /*#__PURE__*/React.createElement(Router, null, /*#__PURE__*/React.createElement(QueryParamProvider, {\n    adapter: ReactRouter6Adapter,\n    ReactRouterRoute: Route\n  }, /*#__PURE__*/React.createElement(AppProvider, null, /*#__PURE__*/React.createElement(UserProvider, null, /*#__PURE__*/React.createElement(Routes, null, /*#__PURE__*/React.createElement(Route, {\n    path: \"/\",\n    element: /*#__PURE__*/React.createElement(DataPage, null)\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/edit\",\n    element: /*#__PURE__*/React.createElement(EditPage, null)\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/edit/:exchangeID\",\n    element: /*#__PURE__*/React.createElement(EditItem, null)\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/add\",\n    element: /*#__PURE__*/React.createElement(AddItem, null)\n  })))))));\n};\nApp.defaultProps = {\n  router: HashRouter\n};\nApp.propTypes = {\n  router: PropTypes.elementType\n};\n\n// wrapper so we can use a different router in tests\nconst AppWrapper = () => {\n  return /*#__PURE__*/React.createElement(App, null);\n};\nexport { AppWrapper };","//------------------------------------------------------------------------------\n// <auto-generated>\n// This code was generated by d2-i18n-generate.\n//\n// Changes to this file may cause incorrect behavior and will be lost if\n// the code is regenerated.\n// </auto-generated>\n//------------------------------------------------------------------------------\nimport i18n from '@dhis2/d2-i18n';\nimport csTranslations from './cs/translations.json';\nimport enTranslations from './en/translations.json';\nimport esTranslations from './es/translations.json';\nimport frTranslations from './fr/translations.json';\nimport ptTranslations from './pt/translations.json';\nimport uz_UZ_CyrlTranslations from './uz_UZ_Cyrl/translations.json';\nimport zhTranslations from './zh/translations.json';\nconst namespace = 'default';\ni18n.addResources('cs', namespace, csTranslations);\ni18n.addResources('en', namespace, enTranslations);\ni18n.addResources('es', namespace, esTranslations);\ni18n.addResources('fr', namespace, frTranslations);\ni18n.addResources('pt', namespace, ptTranslations);\ni18n.addResources('uz_UZ_Cyrl', namespace, uz_UZ_CyrlTranslations);\ni18n.addResources('zh', namespace, zhTranslations);\nexport default i18n;","import { AppWrapper } from './app.js';\nimport './locales/index.js';\nexport default AppWrapper;"],"names":["AppContext","createContext","aggregateDataExchanges","refetchExchanges","console","log","Loader","React","CenteredContent","CircularLoader","Warning","_ref","error","warning","title","children","className","styles","NoticeBox","query","resource","params","paging","fields","order","AppProvider","data","loading","refetch","useDataQuery","i18n","t","providerValue","Provider","value","useAppContext","useContext","ExchangeContext","exchange","exchangeData","PARAMS_SCHEMA","exchangeId","StringParam","requestIndex","NumberParam","useExchangeId","useQueryParam","useRequestIndex","useClearEntireSelection","setSelectionContext","useQueryParams","useCallback","undefined","id","_ref2","outputIdScheme","ExchangeProvider","_ref3","called","lazy","setRequestIndex","fetchExchange","useEffect","message","Button","onClick","useExchangeContext","UserContext","canAddExchange","canDeleteExchange","organisationUnits","keyUiLocale","EXCHANGE_AUTHORITIES_ADD","EXCHANGE_AUTHORITIES_DELETE","ALL_AUTHORITY","user","UserProvider","authorities","settings","some","auth","includes","useUserContext","AttributeContext","attributes","AttributeProvider","ButtonWithTooltip","buttonText","tooltipContent","Tooltip","content","ref","onMouseOver","onMouseOut","primary","disabled","BottomBar","openSubmitModal","dataSubmitted","dataCount","reduce","totalLength","request","_request$rows","rows","length","submitButtonText","_extends","Object","assign","bind","target","i","arguments","source","key","prototype","hasOwnProperty","call","apply","this","LayoutSection","Layout","props","classes","EmptyStateIcon","width","height","viewBox","fill","xmlns","clipPath","d","stroke","strokeWidth","fillRule","clipRule","EntryScreen","rel","href","DataTableToolbar","columns","titleCell","colSpan","toString","Table","DataTable","dataTable","TableHead","DataTableRow","DataTableColumnHeader","fixed","left","top","cell","labelCellContent","slice","map","column","TableBody","row","index","firstCell","cells","DataTableCell","ensureNestedObjectExists","obj","propertyNames","propertyName","formatData","_data$metaData","_data$metaData2","_data$metaData2$dimen","_data$metaData4","_data$metaData4$dimen","_data$metaData6","_data$metaData6$dimen","constantDimensions","dx_index","headers","findIndex","header","name","ou_index","pe_index","value_index","filters","keys","metaData","dimensions","filter","objectFormatData","objectFormat","Array","isArray","ouId","deId","peId","convertToObjectFormat","orgUnits","ou","orgUnit","_data$metaData3","_data$metaData3$items","items","sort","a","b","localeCompare","dataElements","dx","dataElement","_data$metaData5","_data$metaData5$items","periods","pe","period","_data$metaData7","_data$metaData7$items","numeric","tableFormat","table","_data$metaData8","_data$metaData8$items","_data$metaData8$items2","join","rowData","_objectFormatData$org","_objectFormatData$org2","push","RequestsDisplay","_exchange$source","_exchange$source$requ","_exchangeData$rows","requests","formattedData","baseUrl","useConfig","visualization","icon","IconLaunch16","secondary","small","h","RequestsNavigation","selected","onChange","TabBar","scrollable","Tab","getRelativeTimeDifference","startTimestamp","endTimestamp","startTime","Date","endTime","moment","fromNow","formatTimestamp","timestamp","timezone","substring","TitleBar","systemInfo","lastAnalyticsTableSuccess","serverDate","serverTimeZoneId","requestsCount","displayName","IconDimensionDataSet16","IconInfo16","timeDifference","DataWorkspace","selectedRequest","setSelectedRequest","isNaN","ConflictsDetailsTable","conflicts","TableRowHead","TableCellHead","c","TableRow","object","TableCell","importTypeConfig","imported","style","text","updated","ignored","SummaryBox","importType","importCount","styleName","boxStyle","summaryBox","count","label","SummaryRow","_importSummary$confli","_importSummary$import4","_importSummary$import5","_importSummary$import6","importSummary","exchangeName","expandedRows","expandToggle","hasConflicts","rowHasConflicts","showPaddingCell","expanded","onExpandToggle","expandableContent","SummaryTable","_ref4","importSummaries","summaryCounts","setExpandedRows","useState","rowName","DataTableHead","DataTableBody","_exchange$source2","_exchange$source2$req","copyButton","IconCopy16","_exchange$target","_exchange$target$api","_exchange$source3","exchangeURL","exchangeNameLine","nsSeparator","targetURLLine","decodeURI","runDate","importedCount","updatedCount","ignoredCount","fullText","_requests$index$name","_requests$index","_requests$index2","_requests$index2$name","_importSummary$import","_importSummary$import2","_importSummary$import3","requestName","_requests$index3","requestNameLine","conflict","navigator","clipboard","writeText","copyTableToClipboard","api","url","SuccessContent","_ref5","totalCounts","_importSummary$confli2","countType","_importSummary$import7","deleted","Tag","positive","IconCheckmarkCircle16","tagWrapper","negative","IconError16","summaryBoxTitle","summaryBoxWrapper","uncalledState","submitReducer","state","action","type","payload","format","LoadingStateModalContent","ModalContent","ModalContentWrapper","ModalActions","ButtonStrip","end","ErrorModalContent","onRetry","onClose","SuccessModalContent","ConfirmModalContent","_exchange$target2","_exchange$target2$api","_exchange$target3","reportTranslationsString","onSubmit","reportCount","exchangeHostName","split","orgUnitText","orgUnitCount","periodsText","periodsCount","periodsCountLessThree","getReportText","SubmitModal","open","setDataSubmitted","submitsAttempted","setSubmitsAttempted","_exchange$source$requ2","_request$metaData","_request$metaData$dim","_request$metaData2","_request$metaData2$di","_request$metaData3","_request$metaData3$it","submitExchange","engine","useDataEngine","submissionState","dispatch","useReducer","fetch","setFetch","async","response","mutate","getMutation","status","_response$importSumma","errorMessage","find","description","Error","fetchData","useAggregateDataExchangeMutation","Modal","hide","large","position","ModalTitle","MenuSelect","values","dataTest","css","Menu","MenuItem","dataValue","active","defaultProps","ExchangeSelect","_dataExchangeOptions$","setExchangeId","exchangeSelectorOpen","setExchangeSelectorOpen","dataExchangeOptions","SelectorBarItem","dExchange","setOpen","noValueMessage","LinKToEditMode","Link","to","TopBar","clearSelections","SelectorBar","onClearSelectionClick","additionalContent","DataPage","submitModalOpen","setSubmitModalOpen","closeSubmitModal","SCHEME_TYPES","uid","code","attribute","AUTHENTICATION_TYPES","EXCHANGE_TYPES","OU_GROUP_PREFIX","OU_LEVEL_PREFIX","AccessWarning","editMode","SelectorValidationError","meta","touched","IconErrorFilled24","color","colors","red500","DiscardModal","onCancelConfirm","objectName","destructive","EditItemFooter","handleSubmit","requestsTouched","discardModalOpen","setDiscardModalOpen","navigate","useNavigate","useFormState","ReactFinalForm","dirty","formDirty","EditRequestFooter","exitRequestEditMode","handleRequestSubmit","valid","AdvancedSubsection","onTextClick","IconChevronUp24","IconChevronDown24","Subsection","SchemeSelector","Field","useField","input","schemeInput","subscription","schemeValue","FieldContainer","component","RadioFieldFF","SingleSelectFieldFF","options","validate","hasValue","CREATED_BY_ALL","CREATED_BY_ALL_BUT_CURRENT_USER","CREATED_BY_CURRENT_USER","CreatedByFilter","SingleSelect","prefix","dense","SingleSelectOption","DateField","date","dateTime","toISOString","VisTypeIcon","VisIcon","useSmall","VIS_TYPE_LINE_LIST","IconVisualizationLinelist16","IconVisualizationLinelist24","VIS_TYPE_PIVOT_TABLE","IconTable16","IconTable24","VIS_TYPE_BAR","IconVisualizationBar16","IconVisualizationBar24","VIS_TYPE_STACKED_BAR","IconVisualizationBarStacked16","IconVisualizationBarStacked24","VIS_TYPE_STACKED_COLUMN","IconVisualizationColumnStacked16","IconVisualizationColumnStacked24","VIS_TYPE_LINE","IconVisualizationLine16","IconVisualizationLine24","VIS_TYPE_AREA","IconVisualizationArea16","IconVisualizationArea24","VIS_TYPE_STACKED_AREA","IconVisualizationAreaStacked16","IconVisualizationAreaStacked24","VIS_TYPE_PIE","IconVisualizationPie16","IconVisualizationPie24","VIS_TYPE_RADAR","IconVisualizationRadar16","IconVisualizationRadar24","VIS_TYPE_GAUGE","IconVisualizationGauge16","IconVisualizationGauge24","VIS_TYPE_YEAR_OVER_YEAR_LINE","IconVisualizationLineMulti16","IconVisualizationLineMulti24","VIS_TYPE_YEAR_OVER_YEAR_COLUMN","IconVisualizationColumnMulti16","IconVisualizationColumnMulti24","VIS_TYPE_SINGLE_VALUE","IconVisualizationSingleValue16","IconVisualizationSingleValue24","VIS_TYPE_SCATTER","IconVisualizationScatter16","IconVisualizationScatter24","VIS_TYPE_COLUMN","IconVisualizationColumn16","IconVisualizationColumn24","FileList","onSelect","showVisTypeColumn","align","grey600","created","lastUpdated","NameFilter","Input","placeholder","initialFocus","spacers","dp12","dp4","dp8","dp32","grey700","__hash","PaginationControls","page","pager","onPageChange","Pagination","pageCount","pageSize","total","onPageSizeChange","Function","hidePageSizeSelect","pageSummaryText","firstItem","firstItemIndex","lastItem","lastItemIndex","totalNumberOfItems","AO_TYPE_VISUALIZATION","AO_TYPE_EVENT_VISUALIZATION","AOTypeMap","apiEndpoint","NO_TYPE","texts","modalTitle","loadingText","errorTitle","errorText","noDataText","noFilteredDataText","newButtonLabel","getTranslatedString","_defaultExport","grey900","grey200","teal700","white","grey500","CustomSelectOptionItem","insertDivider","e","cx","_JSXStyle","MenuDivider","CustomSelectOption","VisTypeFilter","visTypes","maxHeight","getDisplayNameByVisType","visTypeIcons","OpenFileDialog","filterVisTypes","defaultFilterVisType","onFileSelect","onNew","currentUser","filesQuery","useMemo","files","sortField","sortDirection","queryParams","getQuery","defaultFilters","searchTerm","createdBy","visType","setState","newState","nameFilterValue","setNameFilterValue","searchTimeout","setSearchTimeout","formatFilters","queryFilters","VIS_TYPE_GROUP_ALL","VIS_TYPE_GROUP_CHARTS","formatSortDirection","onComplete","setPage","pageNum","sortData","direction","field","splice","cypressSelector","Box","minHeight","clearTimeout","setTimeout","isEqual","resetFilters","layout","onSortIconClick","fieldName","Boolean","EditTitle","EditHomeTopBar","getNaturalCapitalization","_input$slice","toUpperCase","toLowerCase","DeleteConfirmation","onDelete","IconTextItem","deleteExchangeQuery","AggregateDataExchangeCard","_ade$target","ade","deleteExchange","deleting","useDataMutation","variables","fromServerDate","useTimeZoneConversion","createdClient","createdClientDate","getClientZonedISOString","createdClientDateString","toLocaleDateString","deleteConfirmationOpen","setDeleteConfirmationOpen","closeDeleteConfirmation","Card","IconArrowRight16","IconApps16","numberOfRequests","interpolation","escapeValue","IconClock16","createdDate","EditItemsList","setSearchTerm","InputField","EditPage","getFormIdSchemeValues","requestValues","idSchemeValues","prop","attributeProp","getRequestValuesFromForm","_requestValues$visual","validFilters","filtersUsed","filtersInfo","f","_f$items","filtersActuallyUsed","dxInfo","peInfo","ouInfo","_ref6","visualizationLinked","visualizationInfo","inputIdScheme","getIdSchemeValues","_ref7","_request$prop","_request$prop$split$","_request$prop2","getInitialValuesFromRequest","_ref8","_request$peInfo","_request$ouInfo","_request$dxInfo","_request$filtersInfo","_request$filtersInfo2","_request$visualizatio","dimension","DataItemSelect","selectedDimensions","DataDimension","displayNameProp","helpText","multiple","isLoading","Select","MultiSelectField","SingleSelectField","Option","MultiSelectOption","v","String","onSelectChange","item","validationText","DIMENSION_ITEMS_QUERY","nameProperty","foundValues","SelectField","ids","dimensionTypes","DIMENSIONS_QUERY","isOpen","setIsOpen","dropdownRef","useRef","findDimension","Help","Popover","reference","placement","onClickOutside","DimensionsPanel","onDimensionClick","dim","selectedIds","onRemove","DimensionSelect","selectedDimension","DimensionItemsSelect","RemoveFilter","FilterSelect","setDimensions","addDimensionFilter","prevDimensions","changeDimensionFilter","removeDimensionFilter","DimensionFilterRow","basic","OrgUnitSelector","selectedOrgUnits","userOrganisationUnits","rootOrgUnits","OrgUnitDimension","roots","hideUserOrgUnits","PeriodSelector","selectedPeriods","PeriodDimension","VisualizationSelect","RequestEditForm","filtersUsedValue","visualizationLinkedValue","showAdvanced","setShowAdvanced","dataItemSelectValidator","periodSelectValidator","orgUnitSelectValidator","val","subsectionBlockEnd","subsectionField1000","InputFieldFF","CheckboxFieldFF","checkContainer","visualizationSubtext","subsectionField600","advancedSection","prevShown","Form","RequestEditInner","RequestEdit","requestsDispatch","addModeRequest","setRequestsTouched","initialValues","requestsReducer","targetIndex","modifiedRequest","EmptyTableInfo","colspan","RequestRow","_request$visualizatio2","_request$visualizatio3","_request$visualizatio4","_request$visualizatio5","deleteRequest","setRequestEditMode","startsWith","orgUnitLevels","orgUnitGroups","orgUnitString","firstOuName","ouLength","levelCount","groupsCount","getOuText","RequestsOverview","requestsInfo","suppressZebraStriping","EnableExternalEditWarning","editTargetSetupDisabled","setEditTargetSetupDisabled","targetSetup","RadioDecorator","helperText","currentSelected","classnames","EditExchangeFormContents","requestsState","typeInput","typeValue","authenticationType","authenticationValue","r","getTargetDetails","authentication","accessToken","username","password","exchangeInfo","_exchangeInfo$target","_exchangeInfo$target$","_exchangeInfo$target$2","_exchangeInfo$target$3","_exchangeInfo$target$4","_exchangeInfo$target2","_exchangeInfo$target3","_exchangeInfo$target4","getInitialValuesFromExchange","_exchangeInfo$target5","_exchangeInfo$target6","_exchangeInfo$target7","_exchangeInfo$target8","_exchangeInfo$target9","_exchangeInfo$target10","_exchangeInfo$target11","getChange","op","path","useUpdateExchange","setLoading","setError","form","newExchange","formattedValues","getExchangeValuesFromForm","changes","modifiedFields","Set","getState","dirtyFields","has","allNames","scheme","tf","getJsonPatch","EditExchange","addMode","requestEditInfo","_exchangeInfo$source$","_exchangeInfo$source","setRequestEditInfo","useRequests","saveExchange","saving","classNames","_error$details","_error$details$respon","_error$details$respon2","details","errorReports","stringified","rep","formatError","ORGANISATION_UNIT_LEVELS_QUERY","organisationUnitLevels","EXCHANGE_QUERY","ORG_UNITS_QUERY","VISUALIZATIONS_QUERY","visualizations","ANALYTICS_QUERY","metadata","skipMeta","skipData","includeMetadataDetails","useFetchExchange","setData","metadataRequests","getMetadataByRequest","Promise","all","allItems","md","currentItems","originalCurrentItems","codeItems","forEach","_item$code","currentCode","indexPosition","indexOf","getCodeFromPosition","getMetadataWithCode","cKey","ousToLookUp","ouSet","ouDimension","add","orgUnitDetails","ouMap","orgUnitsMap","set","Map","visualizationsToLookUp","_ref9","visualizationsDetails","visualizationsMap","visMap","hasCodeIdScheme","_ref10","filterCodeMap","_dimensionsResponse$d","dimensionsInfo","dItem","getFilterCodeMap","ouLevelMap","oneOuLevel","oul","level","getOuLevelMap","identifier","_metadata$identifier$","_metadata$identifier","_metadata$id$uid","_metadata$identifier$3","_metadata$identifier2","_metadata$identifier3","get","_metadata$identifier$2","EditItem","exchangeID","useParams","defaultExchange","AddItem","App","router","Router","CssVariables","theme","QueryParamProvider","adapter","ReactRouter6Adapter","ReactRouterRoute","Route","Routes","element","HashRouter","namespace","addResources","csTranslations","enTranslations","esTranslations","frTranslations","ptTranslations","uz_UZ_CyrlTranslations","zhTranslations","AppWrapper"],"sourceRoot":""}