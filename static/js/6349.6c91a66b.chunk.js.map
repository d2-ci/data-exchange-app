{"version":3,"file":"static/js/6349.6c91a66b.chunk.js","mappings":"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C,GAAuB,CAElC,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAEvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,IAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAEvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvD,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KCxIzD,MAAMC,WAAuBC,GAASxN,SACpCphF,WAAAA,GACEC,MAAM,UACR,CACA0K,QAAAA,GACE,MAAO,QACT,CAOA+gE,IAAAA,CAAKmjB,GACH,IAAIC,EACJ,MACEzL,QAAS3X,EACT4X,SAAU3X,EACV4X,OAAQ3X,GACNijB,EAAKvE,eAMT,OADQ,QAJYwE,EAAgBC,GAAa,CAC/CrjB,OACAC,QACAC,eACgC,IAAlBkjB,OAA2B,EAASA,EAAcpjB,IAEpE,CACAkW,OAAAA,CAAQiN,GACN,OAAO1uF,KAAKurE,KAAKmjB,EACnB,CACA3M,WAAAA,CAAY2M,GACV,MAAM,KACJnjB,EAAI,MACJC,GACEkjB,EACJ,OAAOH,GAAqBhjB,GAAMC,EACpC,CACAA,KAAAA,CAAMkjB,GACJ,IAAIG,EACJ,MACE3L,QAAS3X,EACT4X,SAAU3X,EACV4X,OAAQ3X,GACNijB,EAAKvE,eACT,OAIQ,QAJA0E,EAAgBD,GAAa,CACnCrjB,OACAC,QACAC,eACgC,IAAlBojB,OAA2B,EAASA,EAAcrjB,KACpE,CACAuG,SAAAA,CAAU2c,GACR,MAAM,MACJljB,GACEkjB,EACJ,OAAOtM,GAAe5W,EACxB,CACAC,GAAAA,CAAIijB,GACF,MACExL,QAAS3X,EACT4X,SAAU3X,EACV4X,OAAQ3X,GACNijB,EAAKvE,gBAEP1e,IAAKqjB,GACHF,GAAa,CACfrjB,OACAC,QACAC,QAEF,OAAOqjB,CACT,CAMA5N,cAAAA,CAAextD,EAAQ1kB,GACrB,MAAM,KACJu8D,EAAI,IACJE,EAAG,MACHD,GACEujB,GAAa,CACfxjB,KAAM73C,EAAO63C,KACbC,MAAO93C,EAAO83C,MACdC,IAAK/3C,EAAO+3C,MAEd,OAAO,IAAIgjB,GAAS9E,UAAUpe,EAAMC,EAAOC,EAAKzrE,KAClD,CACAmhF,mBAAAA,CAAoBztD,EAAQ1kB,GAC1B,MAAM,KACJu8D,EAAI,IACJE,EAAG,MACHD,GACEujB,GAAa,CACfxjB,KAAM73C,EAAO63C,KACbC,MAAO93C,EAAO83C,MACdC,IAAK/3C,EAAO+3C,MAEd,OAAO,IAAIgjB,GAAS9B,eAAephB,EAAMC,EAAOxrE,KAAMyrE,EACxD,CACA2V,kBAAAA,CAAmB1tD,EAAQ1kB,GACzB,MAAM,KACJu8D,EAAI,IACJE,EAAG,MACHD,GACEujB,GAAa,CACfxjB,KAAM73C,EAAO63C,KACbC,MAAO93C,EAAO83C,MACdC,IAAK/3C,EAAO+3C,MAEd,OAAO,IAAIgjB,GAASpD,cAAc5f,EAAKD,EAAOxrE,KAAMurE,EACtD,EAEF,MAAMyjB,GAAuB5vF,OAAOuE,KAAK4qF,IACnCU,GAA2B3uD,OAAO0uD,GAAqB,IACvDE,GAA0B5uD,OAAO0uD,GAAqBA,GAAqBrkF,OAAS,IACpFokF,GAAer7D,IACnB,IACE63C,KAAM4jB,GACJz7D,EACJ,GAAIy7D,EAAaF,IAA4BE,EAAaD,GACxD,MAAM,IAAI/vD,MAAO,yCAAwC8vD,UAAgCC,yBAE3F,MACE1jB,MAAO4jB,EACP3jB,IAAKqjB,EAAY,GACfp7D,EACJ,IAAI27D,EAAqB,EACrBC,EAAeF,EACnB,MAAMG,EAAgBJ,GAAcC,EAAc,GAAsB,IAAjBE,GAAsBR,GAAaP,GAAqBY,GAAY,GAAK,GAAK,IAWrI,IAPoB,IAAhBC,IACFC,EAAqBP,EACrBQ,KAKsB,IAAjBA,GACDA,GAAgB,IAClBA,EAAe,GACfH,KAEFE,GAAsBd,GAAqBY,GAAYG,GACvDA,IAIkB,IAAhBF,GAGFC,GAAsBP,EAAYP,GAAqBY,GAAY,GAI/DE,EAAqB,IACvBA,GAAsBZ,GAAS9E,UAAU9+E,KAAK,CAC5C0gE,KAAMgkB,EACN9jB,IAAK,EACLD,MAAO,IACNwW,aAGLqN,GAAsBd,GAAqBY,GAAY,GAAKZ,GAAqBY,GAAY,GAE/F,MAAMzqC,EAAS+pC,GAAS9E,UAAU9+E,KAAK,CACrC0gE,KAAMgkB,EACN/jB,MAAO,EACPC,IAAK,IACJxuD,IAAI,CACLuxD,KAAM6gB,IAER,MAAO,CACL9jB,KAAM7mB,EAAO6mB,KACbC,MAAO9mB,EAAO8mB,MACduG,UAAWqQ,GAAe19B,EAAO8mB,OACjCC,IAAK/mB,EAAO+mB,IACb,EAEGmjB,GAAeY,IAEnB,MAAMC,EAAgBhB,GAAS9E,UAAU9+E,KAAK,CAC5C0gE,KAAMikB,EAAQjkB,KACdC,MAAOgkB,EAAQhkB,MACfC,IAAK+jB,EAAQ/jB,MAET8jB,EAAgBE,EAAclkB,KAC9B8jB,EAAqBI,EAAc9N,UACzC,IAAIwN,EAAaI,EAAgB,GAEjC,IAAKhB,GAAqBY,GACxB,MAAM,IAAIhwD,MAAO,yCAAwC8vD,UAAgCC,yBAE3F,IAAIE,EAAc,EAGlB,MAAMM,EAAuBnB,GAAqBY,GAAY,GAI9D,IAAIQ,EAAsCpB,GAAqBY,GAAYC,GAAeM,EAAuB,EAYjH,KAAOL,EAAqBM,GAAqC,CAC/D,IAAIC,EACJR,IACIA,EAAc,KAChBA,EAAc,EACdD,KAEFQ,GAAsG,QAA9DC,EAAwBrB,GAAqBY,UAAmD,IAA1BS,OAAmC,EAASA,EAAsBR,EAClL,CACA,IAAKb,GAAqBY,GACxB,MAAM,IAAIhwD,MAAO,yCAAwC8vD,UAAgCC,yBAS3F,MAAO,CACL3jB,KAAM4jB,EACN3jB,MAAO4jB,EACP3jB,IAJuB8iB,GAAqBY,GAAYC,IAAgBO,EAAsCN,GAK/G,EAEH,SAASjN,GAAe5W,GACtB,MAAQ,IAAGA,EAAMhhE,WAAWgrE,SAAS,EAAG,MAC1C,CCvPO,MAAMqa,GAAkB,CAC7B/B,OAAQ,CACNlhB,SAAU,IAAI4hB,GACdsB,QAASC,GAAsBjC,OAC/BkC,cAAe,UCLNC,GAAmBrjB,KAAcijB,GAAgBjjB,GACjDsjB,GAAgB,SAAU5pC,GACrC,IAAIpzC,EAAQnT,UAAU4K,OAAS,QAAsB2K,IAAjBvV,UAAU,GAAmBA,UAAU,GAAK,EAChF,OAAOujB,OAAOgjC,GAAQkvB,SAAStiE,EAAO,IACxC,EACai9E,GAAiBA,CAACzB,EAAM0B,KACnC,IAAIC,EACJ,MAAM9kB,EAA0C,QAAlC8kB,EAAgB3B,EAAKjN,eAAuC,IAAlB4O,EAA2BA,EAAgB3B,EAAKnjB,KAClGC,EAAQ0kB,GAAcxB,EAAKljB,OACjC,IAAIC,EAAMijB,EAAKjjB,IACC,eAAZ2kB,EACF3kB,EAAMijB,EAAK3M,YACU,iBAAZqO,IACT3kB,EAAM,GAGR,MAAQ,GAAEF,KAAQC,KADA0kB,GAAczkB,IACM,EAK3B6kB,GAAa,SAAU/yF,GAClC,IAAKgzF,EAAc,MAAO1xC,GAAQthD,EAC9B6/E,EAASr9E,UAAU4K,OAAS,QAAsB2K,IAAjBvV,UAAU,GAAmBA,UAAU,GAAK,KACjF,MAAO,CAACwwF,EAAYC,kBAAkBpT,MAAYv+B,GAAMz7C,KAAK,GAC/D,EACaqtF,GAA4B7jB,IACvC,IAAI8jB,EAEJ,IADiBT,GAAiBrjB,GAEhC,OAAOA,EAET,MAAM+jB,EAAoE,QAAlDD,EAAmBb,GAAgBjjB,UAA4C,IAArB8jB,OAA8B,EAASA,EAAiB9jB,SAC1I,IAAK+jB,EACH,MAAM,IAAIxxD,MAAO,8CAA6CytC,KAEhE,OAAO+jB,CAAc,ECrCVC,GAAmB,CAAC,OAEjC,OAEA,OAEA,UAEA,OAEA,UAEA,OAEA,OAEA,OAEA,OAEA,OAEA,OAEA,OAEA,OAEA,OAEA,UAEA,WAEA,OAEA,OAEA,OAEA,OAEA,UAEA,OAEA,OAEA,WAEA,UAEA,OAEA,UAEA,OAEA,UAEA,OAEA,OAEA,OAEA,OAEA,OAEA,UAEA,WAEA,OAEA,OAEA,OAEA,OAEA,WAEA,OAEA,OAEA,OAEA,OAEA,WAEA,UAEA,WAEA,WAEA,WAEA,OAEA,OAEA,OAEA,OAEA,OAEA,OAEA,WAEA,WAEA,SAEA,OAEA,OAEA,OAEA,OAEA,OAEA,OAEA,QAEA,WAEA,OAEA,OAEA,OAEA,OAEA,OAEA,OAEA,OAEA,OAEA,OAEA,UAEA,OAEA,OAEA,OAEA,OAEA,WAEA,OAEA,OAEA,QCvKMC,GAA0BA,CAACjkB,EAAUwQ,KACzC,IAAI7/E,EACJ,MAAMozF,EAAiBd,GAAgBjjB,GACvC,IAAK+jB,EACH,OAEF,MAAMG,EAAsBH,EAAeb,SAAW,CAAC,EACjDprC,EAAwI,QAA9HnnD,EAAO6/E,IAAmC,OAAxB0T,QAAwD,IAAxBA,OAAiC,EAASA,EAAoB1T,WAA+B,IAAT7/E,EAAkBA,EAA+B,OAAxBuzF,QAAwD,IAAxBA,OAAiC,EAASA,EAAoBH,EAAeX,eAC5R,IAAKtrC,EACH,MAAM,IAAIvlB,MAAO,6CAA4CytC,wBAA+BwQ,qBAA0BuT,EAAeX,iBAEvI,OAAOtrC,CAAM,EA+Df,OAP4B,CAC1BqsC,aAR0BA,CAACC,EAAKC,EAAe7wB,KAC/C,IAAK6wB,EAAcrkB,SACjB,MAAM,IAAIztC,MAAM,6CAGlB,OADiB8wD,GAAiBgB,EAAcrkB,UAC9BokB,EAAIzlB,KAAOylB,EAAI/G,mBAAmBtK,eAAesR,EAAc7T,OAAQhd,EAAO,EAIhG8wB,kBAxDwBA,CAACC,EAAiBF,KAC1C,IAAKA,EAAcrkB,SACjB,MAAM,IAAIztC,MAAM,6CAElB,IAAKgyD,EACH,MAAM,IAAIhyD,MAAM,gDAGlB,OADiB8wD,GAAiBgB,EAAcrkB,UAC7B,GAAsB,OAApBukB,QAAgD,IAApBA,OAA6B,EAASA,EAAgB1lB,OAA2B,OAApB0lB,QAAgD,IAApBA,OAA6B,EAASA,EAAgB3lB,SAA6B,OAApB2lB,QAAgD,IAApBA,OAA6B,EAASA,EAAgB5lB,OAA6B,OAApB4lB,QAAgD,IAApBA,OAA6B,EAASA,EAAgB3G,cAAc7K,eAAesR,EAAc7T,OAAQ,CACvaxQ,SAAUqkB,EAAcrkB,SACxBiS,UAAW,SACVr0E,UAAU,EA8Cb4mF,kBA5CwBA,CAACJ,EAAKC,KAC9B,IAAII,EACJ,IAAKJ,EAAcrkB,SACjB,MAAM,IAAIztC,MAAM,6CAElB,MAAMmyD,EAAWrB,GAAiBgB,EAAcrkB,UAC1C2kB,EAAeV,GAAwBI,EAAcrkB,SAAUqkB,EAAc7T,QACnF,OAAOkU,GAA6B,OAAjBC,QAA0C,IAAjBA,GAAsF,QAAlDF,EAAwBE,EAAapD,eAA+C,IAA1BkD,OAApE,EAAgHA,EAAsBL,EAAIvlB,OAASulB,EAAIvlB,IAAMulB,EAAIxG,cAAc7K,eAAesR,EAAc7T,OAAQ,CACxRxQ,SAAUqkB,EAAcrkB,SACxB4kB,gBAAiBZ,GAAiBn6E,SAASw6E,EAAcO,iBAAmBP,EAAcO,qBAAkBl8E,EAC5Gm2D,IAAK,WACL,EAkCFgmB,cAhCoBA,CAACT,EAAKC,EAAe7wB,KACzC,IAAK6wB,EAAcrkB,SACjB,MAAM,IAAIztC,MAAM,6CAElB,MAAMmyD,EAAWrB,GAAiBgB,EAAcrkB,UAC1C2kB,EAAeV,GAAwBI,EAAcrkB,SAAUqkB,EAAc7T,QACnF,OAAOkU,EAA4B,OAAjBC,QAA0C,IAAjBA,OAA0B,EAASA,EAAatD,WAAW+C,EAAIxlB,MAAQ,GAAKwlB,EAAIrR,eAAesR,EAAc7T,OAAQhd,EAAO,EA2BvKsxB,qBAzBkCA,CAACV,EAAKC,KACxC,IAAKA,EAAcrkB,SACjB,MAAM,IAAIztC,MAAM,6CAElB,MAAMmyD,EAAWrB,GAAiBgB,EAAcrkB,UAC1C+jB,EAAiBE,GAAwBI,EAAcrkB,SAAUqkB,EAAc7T,QAC/EuU,EAAqC,OAAnBhB,QAA8C,IAAnBA,OAA4B,EAASA,EAAezC,cAAc8C,EAAItP,UAAY,GAErI,OAAO4P,GAAYK,EAAkBA,EAAkBX,EAAIxG,cAAc7K,eAAesR,EAAc7T,OAAQ,CAC5GuB,QAASsS,EAAcW,cACvBhlB,SAAUqkB,EAAcrkB,UACxB,GClCJ,OAhBuB,WAIrB,MAAMwQ,GAHgBr9E,UAAU4K,OAAS,QAAsB2K,IAAjBvV,UAAU,GAAmBA,UAAU,GAAK,IAG3Du8D,QAAQ,IAAK,KAC5C,IACE,MAAM5X,EAASub,KAAKgH,eAAe0W,mBAAmBP,GACtD,OAAI14B,GAA4B,IAAlBA,EAAO/5C,OACZyyE,OAEP,CAEJ,CAAE,MAAOyU,GACP,MACF,CACF,ECxBO,MCCMC,GAAoBv0F,IAC/B,IAAI,KACFguE,EAAI,SACJqB,EAAQ,WACRmlB,EAAU,OACV3U,EAAS,MACP7/E,EACAy0F,EAAevD,GAAS9E,UAAU9+E,KAAK,CACzC0gE,OACAC,MAAOymB,GAAiBF,GACxBtmB,IAA6B,WAAxBmB,EAASpiE,WAA0B,GAAK,EAC7CoiE,aAEF,MAAM0B,EAAS,GACT4jB,EAAaC,GAAeJ,GAClC,IAAIzmE,EAAQ,EACZ,KAAO0mE,EAAazmB,OAASA,GAAQ6mB,GAAgBL,EAAYzjB,EAAO3jE,SAAS,CAC/E,MAAM0nF,EAAYL,EAAa/0E,IAAI,CACjCqxD,OAAQ4jB,IAEV,IAAKI,GAAY1lB,EAAUolB,GAAe,CACxC,MAAMtzF,EAAK6zF,GAAW,CACpBR,aACAC,eACAzmB,OACAjgD,UAEFgjD,EAAO/6C,KAAK,CACV70B,KACA8zF,IAAK9zF,EACLwC,KAAMuxF,GAAW,CACfV,aACAvmB,MAAOwmB,EACP5U,SACAxQ,WACAylB,UAAWA,EAAU52D,SAAS,CAC5B6yC,OAAQ,IAGVhjD,aAEConE,GAAqBV,EAAcK,IAE1C,CACAL,EAAevD,GAAS9E,UAAU9+E,KAAKwnF,GACvC/mE,GACF,CACA,OAAOgjD,CAAM,EAKTgkB,GAAcA,CAAC1lB,EAAU8hB,IAEZ,aAAb9hB,GAA0C,KAAf8hB,EAAKljB,MAKhC+mB,GAAa3zF,IACjB,IAAI,WACFmzF,EAAU,aACVC,EAAY,KACZzmB,EAAI,MACJjgD,GACE1sB,EACJ,GAAmB,cAAfmzF,EACF,MAAQ,GAAExmB,IAAO2kB,GAAc5kE,MAEjC,GAAmB,cAAfymE,EACF,MAAQ,GAAExmB,KAAQjgD,IAEpB,GAAmB,eAAfymE,EACF,MAAQ,GAAExmB,KAAQjgD,IAEpB,GAAIymE,EAAW3kE,MAAM,aAAc,CACjC,IAAIulE,EAEJ,MAAQ,GAAEpnB,IADmD,QAA9ConB,EAAgBpL,GAAawK,UAA2C,IAAlBY,OAA2B,EAASA,EAAczxF,QAC7FoqB,GAC5B,CACA,GAAIymE,EAAW3kE,MAAM,cAAe,CAClC,IAAIwlE,EAEJ,MAAQ,GAAErnB,IADoD,QAA/CqnB,EAAiBrL,GAAawK,UAA4C,IAAnBa,OAA4B,EAASA,EAAe1xF,QAChGoqB,GAC5B,CACA,MAAQ,GAAEigD,IAAO2kB,GAAc8B,EAAaxmB,QAAQ,EAEhDinB,GAAazjF,IACjB,MAAM,WACJ+iF,EAAU,MACVvmB,EAAK,UACL6mB,EAAS,SACTzlB,EAAQ,OACRwQ,GACEpuE,EACJ,GAAIihF,GAAiBrjB,GACnB,OAAOimB,GAA4B7jF,GAErC,MAAM8jF,EAAiB,CACrBtnB,MAAO,OACPD,KAAM,UACNqB,YAEImmB,EAAkB,CACtBvnB,MAAO,OACPoB,YAEF,IAAIloB,EAAS,GACb,GAAI,CAAC,YAAa,YAAa,cAAcjuC,SAASs7E,IAAeA,EAAW3kE,MAAM,wBAAyB,CAC7G,MAAMgzC,EAASoL,EAAMD,OAAS8mB,EAAU9mB,KAAOwnB,EAAkBD,EACjEpuC,EAAU,GAAE4rC,GAAW9kB,EAAMmU,eAAevC,EAAQhd,GAASgd,QAAakT,GAAW+B,EAAU1S,eAAevC,EAAQ0V,GAAiB1V,IACzI,MACE14B,EAAU,GAAE4rC,GAAW9kB,EAAMmU,eAAevC,EAAQ0V,GAAiB1V,KAKvE,OADA14B,EAASA,EAAO4X,QAAQ,aAAc,IAAI02B,OACnCtuC,CAAM,EAETmuC,GAA8BvvF,IAClC,IAAI,WACFyuF,EAAU,MACVvmB,EAAK,UACL6mB,EAAS,SACTzlB,EAAQ,OACRwQ,GACE95E,EACAohD,EAAS,GACb,GAAI,CAAC,YAAa,YAAa,cAAcjuC,SAASs7E,IAAeA,EAAW3kE,MAAM,wBAAyB,CAC7G,MAAM6lE,EAAWznB,EAAMD,OAAS8mB,EAAU9mB,KAC1C7mB,EAAU,GAAEwuC,GAAoBzB,cAAcjmB,EAAO,CACnD4R,SACAxQ,YACC,CAAC,KAAKqmB,EAAY,IAAGznB,EAAMD,OAAS,QAAQ2nB,GAAoBzB,cAAcY,EAAW,CAC1FjV,SACAxQ,YACC,CAAC,MAAMylB,EAAU9mB,MACtB,MACE7mB,EAAU,GAAEwuC,GAAoBzB,cAAcjmB,EAAO,CACnD4R,SACAxQ,YACC,CAAC,MAAMylB,EAAU9mB,OAEtB,OAAO7mB,CAAM,EAETytC,GAAiBJ,IACrB,GAAmB,OAAfA,QAAsC,IAAfA,GAAyBA,EAAW3kE,MAAM,cACnE,OAAO,EAET,GAAmB,OAAf2kE,QAAsC,IAAfA,GAAyBA,EAAW3kE,MAAM,aACnE,OAAO,EAET,GAAmB,YAAf2kE,EACF,OAAO,EAET,GAAmB,cAAfA,EACF,OAAO,EAET,MAAM,IAAI5yD,MAAO,oCAAmC4yD,IAAa,EAEtDoB,GAAe,CAC1BC,IAAK,CACHj0F,MAAO,EACP+B,KAAM,WAERmyF,IAAK,CACHl0F,MAAO,EACP+B,KAAM,YAERoyF,IAAK,CACHn0F,MAAO,EACP+B,KAAM,SAERqyF,IAAK,CACHp0F,MAAO,EACP+B,KAAM,SAERsyF,IAAK,CACHr0F,MAAO,EACP+B,KAAM,OAERuyF,IAAK,CACHt0F,MAAO,EACP+B,KAAM,QAERwyF,IAAK,CACHv0F,MAAO,EACP+B,KAAM,QAERyyF,IAAK,CACHx0F,MAAO,EACP+B,KAAM,UAER0yF,IAAK,CACHz0F,MAAO,EACP+B,KAAM,aAER2yF,IAAK,CACH10F,MAAO,GACP+B,KAAM,WAER4yF,IAAK,CACH30F,MAAO,GACP+B,KAAM,YAER6yF,IAAK,CACH50F,MAAO,GACP+B,KAAM,aAGJqmF,GAAewK,IACnB,MAAMiC,EAAcjC,EAAWz1B,QAAQ,aAAc,IAAIA,QAAQ,YAAa,IAC9E,OAAO62B,GAAaa,EAAY,EAE5B/B,GAAmBF,IAKnB,IAAIkC,EAAqBC,EAJ7B,OAAInC,EAAW3kE,MAAM,wBACA,eAAf2kE,GAA8C,cAAfA,EAC1B,EAG8I,QAA7IkC,EAAsE,QAA/CC,EAAiB3M,GAAawK,UAA4C,IAAnBmC,OAA4B,EAASA,EAAe/0F,aAA2C,IAAxB80F,EAAiCA,EAAsB,EAG/M,CACT,EAEF,SAAS7B,GAAgBL,EAAYpnF,GACnC,OAAIonF,EAAW3kE,MAAM,cACZziB,EAAS,IAEdonF,EAAW3kE,MAAM,cACZziB,EAAS,CAGpB,CACA,MAAM+nF,GAAuBA,CAACV,EAAcK,KACZ,aAA1BL,EAAaplB,UACfv3D,QAAQsqD,KAAK,wHAEf,MAAMw0B,EAAU1F,GAAS9E,UAAU9+E,KAAK,CACtC0gE,KAAM8mB,EAAU9mB,KAChBC,MAAO6mB,EAAU7mB,MACjBC,IAAK,EACLmB,SAAUylB,EAAUzlB,WACnBnxC,SAAS,CACV+yC,KAAM,IAER,MAAO,CACL4lB,UAAWjE,GAAe6B,EAAc,gBACxCmC,QAAShE,GAAegE,EAAS,cAClC,EC3PGE,GACI,EADJA,GAGO,EAHPA,GAIM,EAJNA,GAMM,EANNA,GAOI,EAmBGC,GAAmB/2F,IAC9B,IAAI,KACFguE,EAAI,SACJqB,EAAQ,WACRmlB,EAAU,YACVwC,EAAW,OACXnX,EAAS,SACP7/E,EACJ,MAAMi3F,EAzBeC,EAAC1C,EAAYwC,KAClC,OAAQxC,GACN,IAAK,SACL,IAAK,WACH,OAAOwC,GAAeF,GACxB,IAAK,YACH,OAAOA,GACT,IAAK,YACH,OAAOA,GACT,IAAK,YACH,OAAOA,GACT,IAAK,YACH,OAAOA,GACT,QACE,MAAM,IAAIl1D,MAAO,oCAAmC4yD,KACxD,EAUyB0C,CAAe1C,EAAYwC,GACpD,IAAI7F,EAAOgG,GAAgB,CACzBnpB,OACAqB,WACAmlB,aACAwC,YAAaC,IAEf,MAAMhmB,EAAO,GACb,IAAIzjE,EAAI,EACR,MAAM4pF,EAA2B,aAAf5C,EAA4B,GAAK,EACnD,EAAG,CACD,MAAM6C,EAAYlG,EAAKzxE,IAAI,CACzBuxD,KAAMmmB,IAEFx1F,EAAQozF,GAAW,CACvBR,aACAwC,YAAaC,EACbjpB,OACAspB,UAAW9pF,IAEP6pF,EAAUrpB,OAASA,EAAO,GAAKqpB,EAAUnpB,KAAO,GACpD+C,EAAKj7C,KAAK,CACR70B,GAAIS,EACJqzF,IAAKrzF,EACL+B,KAAMuxF,GAAW,CACfV,aACArD,OACAoG,SAAUF,EACVC,UAAW9pF,IAEbqpF,UAAWjE,GAAezB,GAC1ByF,QAAShE,GAAeyE,KAG5BlG,EAAOD,GAAS9E,UAAU9+E,KAAK+pF,GAAW33E,IAAI,CAC5CuxD,KAAM,IAERzjE,GACF,OAAS2jF,EAAKnjB,OAASA,GACvB,OAAOiD,CAAI,EAEPkmB,GAAkB1lF,IACtB,MAAM,KACJu8D,EAAI,SACJqB,EAAQ,YACR2nB,GACEvlF,EAGE+lF,EAAqBtG,GAAS9E,UAAU9+E,KAAK,CACjD0gE,OACAC,MAAO,EACPC,IAAK,EACLmB,aAEIooB,EAAUD,EAAmBrT,UAAY6S,EAC/C,OAAIS,EAAU,EACLD,EAAmBt5D,SAAS,CACjC+yC,KAAMwmB,IAECA,EAAU,EACZD,EAAmBt5D,SAAS,CACjC+yC,KAAMwmB,EAAU,IAGbD,CAAkB,EAErBE,GAAW,CACf,EAAG,GAEH,EAAG,MACH,EAAG,MACH,EAAG,MACH,EAAG,MACH,EAAG,MACH,EAAG,OAEC1C,GAAa3zF,IACjB,IAAI,YACF21F,EAAW,WACXxC,EAAU,KACVxmB,EAAI,UACJspB,GACEj2F,EAEJ,MAAQ,GAAE2sE,IAAO0pB,GAASV,KADO,aAAfxC,EAA4B,MAAQ,MACD8C,GAAW,EAE5DpC,GAAanvF,IACjB,IAAI,WACFyuF,EAAU,KACVrD,EAAI,SACJoG,EAAQ,UACRD,GACEvxF,EACJ,MAAM,KACJioE,EAAI,MACJC,EAAK,IACLC,GACEijB,GAEFnjB,KAAM4b,EACN3b,MAAO6mB,EACP5mB,IAAKypB,GACHJ,EAGJ,MADe,GADc,YAAd/C,EAA2B,UAAY,UAC3B8C,OAAetpB,KAAQ2kB,GAAc1kB,MAAU0kB,GAAczkB,QAAU0b,KAAY+I,GAAcmC,MAAcnC,GAAcgF,IAC5I,ECjGRC,GAAwBzG,IAC5B,MAAMyF,EAAU1F,GAAS9E,UAAU9+E,KAAK,CACtC0gE,KAAMmjB,EAAKnjB,KAAO,EAClBC,MAAOkjB,EAAKljB,MACZC,IAAK,EACLmB,SAAU8hB,EAAK9hB,WACdnxC,SAAS,CACV+yC,KAAM,IAER,MAAO,CACL4lB,UAAWjE,GAAezB,EAAM,gBAChCyF,QAAShE,GAAegE,EAAS,cAClC,EAEGiB,GAAWrD,IACf,MAAMsD,EAAWtD,EAAWz1B,QAAQ,KAAM,IAAIob,cACxC4d,EAAYnC,GAAakC,GAC/B,OAAsB,OAAdC,QAAoC,IAAdA,OAAuB,EAASA,EAAUn2F,QAAU,CAAC,EAE/EszF,GAAaA,CAACV,EAAYwD,EAAiBvmF,KAC/C,GAAmB,WAAf+iF,EACF,OAAOwD,EAAgBhqB,KAAK/gE,WAE9B,GAAIylF,GAAiBjhF,EAAQ49D,UAC3B,OAAOimB,GAA4B0C,EAAiBvmF,GAEtD,MAAMoxD,EAAS,CACboL,MAAO,OACPD,KAAM,UACNqB,SAAU59D,EAAQ49D,UAMpB,IAAIloB,EAAU,GAJGwuC,GAAoBzB,cAAc8D,EAAiBvmF,EAASoxD,QAC9D8yB,GAAoBzB,cAAc8D,EAAgBt4E,IAAI,CACnEqxD,OAAQinB,EAAgBtT,aAAe,IACrCjzE,EAASoxD,KAKb,OADA1b,EAASA,EAAO4X,QAAQ,aAAc,IAAI02B,OACnCtuC,CAAM,EAETmuC,GAA8BA,CAACnE,EAAM1/E,KACzC,MAAMyiF,EAAgB+D,GAAkB,GAAEtC,GAAoBzB,cAAc+D,EAAexmF,EAAS,CAAC,MAAMwmF,EAAcjqB,OACnHkqB,EAAehH,GAAS9E,UAAU9+E,KAAK,CAC3C0gE,KAAMmjB,EAAKnjB,KAAO,EAClBC,MAAOkjB,EAAKljB,MAAQ,EACpBC,IAAK,EACLmB,SAAU59D,EAAQ49D,WAGpB,MADgB,GAAE6kB,EAAc/C,QAAW+C,EAAcgE,IAC5C,EAETC,GAAiB,CACrB,EAAG,GACH,EAAG,MACH,EAAG,QAEH,EAAG,QACH,EAAG,MACH,EAAG,MACH,EAAG,OACH,EAAG,MACH,EAAG,MACH,GAAI,MACJ,GAAI,MACJ,GAAI,OAEAnD,GAAa3zF,IACjB,IAAI,WACFmzF,EAAU,KACVxmB,EAAI,MACJC,GACE5sE,EACJ,GAAmB,WAAfmzF,EACF,OAAOxmB,EAAK/gE,WAGd,GAAImrF,GAAgB5D,GAAa,CAE/B,MAAQ,GAAExmB,IADOmqB,GAAelqB,IAElC,CACA,MAAM,IAAIrsC,MAAO,qDAAoD4yD,KAAc,EAE/E4D,GAAkB5D,GACfA,EAAWz5D,WAAW,MC/C/B,OAtE6B/6B,IAC3B,IAAIq4F,EACJ,IAOIrqB,GANFA,KAAMsqB,EAAU,WAChB9D,EACAnlB,SAAUkpB,EACV1Y,OAAQ2Y,EAAkB,KAAI,YAC9BxB,EAAc,GACZh3F,EAEJ,GAA0B,kBAAfs4F,EACTtqB,EAAOsqB,MACF,CACL,GAAKzsF,MAAMysF,IAAgBzsF,MAAMqB,SAASorF,IAGxC,MAAM,IAAI12D,MAAM,yBAFhBosC,EAAO9gE,SAASorF,EAIpB,CACA,MAAMjpB,EAAW6jB,GAA6F,QAAlEmF,EAAwBnI,GAAkBqI,UAA0D,IAA1BF,EAAmCA,EAAwBE,GAC3K1Y,EAAS4Y,GAAeD,GAC9B,GAAmB,OAAfhE,QAAsC,IAAfA,GAAyBA,EAAW3kE,MAAM,UACnE,OAAOknE,GAAiB,CACtB/oB,OACAwmB,aACA3U,SACAxQ,WACA2nB,gBAGJ,GAAmB,OAAfxC,QAAsC,IAAfA,GAAyBA,EAAWz5D,WAAW,OAAwB,WAAfy5D,EAEjF,MDxC4Bx0F,KAC9B,IAAI,KACFguE,EAAI,SACJqB,EAAQ,WACRmlB,EAAU,WACVkE,EAAa,GAAE,OACf7Y,GACE7/E,EACJ,MAAMiuE,EAAQ4pB,GAASrD,GACjBmE,EAAczH,GAAS9E,UAAU9+E,KAAK,CAC1C0gE,OACAC,QACAC,IAA6B,WAAxBmB,EAASpiE,WAA0B,GAAK,EAC7CoiE,aAEIyB,EAAQ,GACd,IAAK,IAAItjE,EAAI,EAAGA,EAAIkrF,EAAYlrF,IAAK,CACnC,MAAMorF,EAAYD,EAAYz6D,SAAS,CACrC4yC,MAAOtjE,IAEH5L,EAAQozF,GAAW,CACvBR,aACAxmB,KAAM4qB,EAAU5qB,KAChBC,UAEID,EAAO,CACX7sE,GAAIS,EACJqzF,IAAKrzF,EACL+B,KAAMuxF,GAAWV,EAAYoE,EAAW,CACtC/Y,OAAQA,GAAU,KAClBxQ,gBAECuoB,GAAsBgB,IAEvBR,GAAgB5D,WACXxmB,EAAKinB,IAEdnkB,EAAM96C,KAAKg4C,EACb,CACA,OAAO8C,CAAK,ECCH+nB,CAAiB,CACtB7qB,OACAwmB,aACA3U,SACAxQ,aAGJ,GAAImlB,EAAW3kE,MAAM,eAAiB2kE,EAAW3kE,MAAM,aACrD,OAAO0kE,GAAkB,CACvBvmB,OACAwmB,aACA3U,SACAxQ,aAGJ,OAAQmlB,GACN,IAAK,UACL,IAAK,YACL,IAAK,YACL,IAAK,aACL,IAAK,gBACH,OAAOD,GAAkB,CACvBvmB,OACAwmB,aACA3U,SACAxQ,aAEJ,IAAK,QACH,MJtEyBrvE,KAC7B,IAAI,KACFguE,EAAI,SACJqB,GACErvE,EACJ,MAAMkuE,EAAMgjB,GAAS9E,UAAU9+E,KAAK,CAClC0gE,OACAC,MAAO,EACPC,IAAK,EACLmB,aAEI4B,EAAO,GACb,IAAK,IAAIzjE,EAAI,EAAGA,EAAI0gE,EAAIuW,WAAYj3E,IAAK,CACvC,MAAMmqF,EAAUzpB,EAAIxuD,IAAI,CACtBuxD,KAAMzjE,IAEF5L,EAAS,GAAEssE,EAAIF,OAAOjoD,OAAO4xE,EAAQ1pB,OAAOgK,SAAS,EAAG,OAAOlyD,OAAO4xE,EAAQzpB,KAAK+J,SAAS,EAAG,OACrGhH,EAAKj7C,KAAK,CACR70B,GAAIS,EACJqzF,IAAKrzF,EACL+B,KAAMivF,GAAe+E,GACrBd,UAAWjE,GAAe+E,GAC1Bf,QAAShE,GAAe+E,IAE5B,CACA,OAAO1mB,CAAI,EI6CA6nB,CAAgB,CACrB9qB,OACAwmB,aACA3U,SACAxQ,aAEJ,QACE,MAAM,IAAIztC,MAAO,yDAAwD4yD,MAC7E,ECzDF,OAZyB,WACvB,IAAIuE,EAAOC,EAAsBC,EAAuBC,EAAwBC,EAAwBC,EACxG,IAAIC,EAAgB72F,UAAU4K,OAAS,QAAsB2K,IAAjBvV,UAAU,GAAmBA,UAAU,GAAK,UACpFqrE,EAAWrrE,UAAU4K,OAAS,QAAsB2K,IAAjBvV,UAAU,GAAmBA,UAAU,IAAyB,QAAlBu2F,EAAQr2B,YAA4B,IAAVq2B,GAA8E,QAAjDC,EAAuBD,EAAMrvB,sBAAqD,IAAzBsvB,GAAqJ,QAAzGC,GAAyBC,EAAyBF,EAAqB1mF,KAAKymF,IAAQ3f,uBAAuD,IAA1B6f,GAA8H,QAAjFE,EAAyBF,EAAsB3mF,KAAK4mF,UAAgE,IAA3BC,OAAtW,EAAmZA,EAAuBtrB,WAAa,MACzjB,MAAMqkB,EAAgBhB,GAASlB,IAAI/B,cAAc,UAAWpgB,GAC5D,IAAIwB,EAAuE,QAA3D+pB,EAAqBlJ,GAAkBmJ,UAAmD,IAAvBD,EAAgCA,EAAqBC,EACpI3G,GAAiBrjB,KACnBA,EAAW6jB,GAA0B7jB,IAGvC,OADe6hB,GAAS3B,cAAcjiF,KAAK4kF,GAAe3F,aAAald,EAEzE,iCCrBA,GAA4BnvE,EAAAA,cAAoB,MAAO,CACrDE,MAAO,6BACPW,MAAO,KACPC,OAAQ,KACRb,QAAS,aACKD,EAAAA,cAAoB,OAAQ,CAC1C8H,KAAM,UACN9G,EAAG,mZCPL,MAAMulB,GAAiB,CAAC,uGAAwG,oGAAsG,gEAAuD/hB,EAAQmD,SACrS4e,GAAepmB,OAAS,aACxB,UCHO,MAAMi5F,GAAQ,QACRC,GAAS,SACTC,GAAY,YACZC,GAAY,YACZC,GAAY,YACZC,GAAY,YAEZC,GAAW,WACXC,GAAU,UACVC,GAAY,YACZC,GAAY,YACZC,GAAa,aACbC,GAAgB,gBAChBC,GAAS,SAETC,GAAQ,QACRC,GAAQ,QACRC,GAAQ,QACRC,GAAQ,QACRC,GAAwB,WACnC,IACIC,EAAsBh4F,UAAU4K,OAAS,QAAsB2K,IAAjBvV,UAAU,GAAmBA,UAAU,GAAK,GAC9F,OAFqBA,UAAU4K,OAAS,QAAsB2K,IAAjBvV,UAAU,GAAmBA,UAAU,GAAK,IAEnE6D,QAAOo0F,IAAWD,EAAoBthF,SAASuhF,EAAOt5F,KAC9E,ECiBMu5F,GAAa16F,IACjB,IAAI,WACFw0F,EAAU,OACV37C,EAAM,SACN8hD,EAAQ,eACRC,EAAiB,CAAC,GAChB56F,EACJ,MAAM0R,EAASxE,SAAS2rC,EAAOnnC,OAAQ,IACjCmpF,EAAWhiD,EAAOiiD,oBAClBC,IAAYvG,EAAW3kE,MAAM,eAAuBgpB,EAAOmiD,gBAC3D,SACJ3rB,EAAW,UAAS,OACpBwQ,EAAS,MACP+a,EACEtc,EAAM2c,GAAiB5rB,GAEvBz5C,EAAS,CACb4+D,aACAxmB,MAHYsQ,EAAI4F,SAAW5F,EAAItQ,MAAQt8D,EAIvC29D,WACAwQ,SACAmX,YAAan+C,EAAOqiD,UAEtB,IAAIC,EAAUC,GAAqBxlE,GAGnC,OAFAulE,EAAUN,EAAWF,EAASQ,GAAWA,EACzCA,EAAWJ,EAAsBI,EAAQjqD,UAAlBiqD,EAChBA,CAAO,EAEVE,GAAqBA,CAACV,EAAUC,IAC7B/hD,GACE6hD,GAAW,CAChBlG,WAAY,QACZ37C,SACA8hD,WACAC,mBAIAU,GAAsBA,CAACC,EAASZ,EAAUC,IACvC/hD,GACE6hD,GAAW,CAChBlG,WAAY,SACZ37C,OAAQ,IACHA,EACHqiD,SAAUK,EAAQL,UAEpBP,WACAC,mBAIAY,GAAwBA,CAACb,EAAUC,IAChC/hD,GACE6hD,GAAW,CAChBlG,WAAY,WACZ37C,SACA8hD,WACAC,mBAIAa,GAAuBA,CAACd,EAAUC,IAC/B/hD,GACE6hD,GAAW,CAChBlG,WAAY,UACZ37C,SACA8hD,WACAC,mBAIAc,GAAyBA,CAACf,EAAUC,IACjC/hD,GACE6hD,GAAW,CAChBlG,WAAY,YACZ37C,SACA8hD,WACAC,mBAIAe,GAAyBA,CAAChB,EAAUC,IACjC/hD,GACE6hD,GAAW,CAChBlG,WAAY,YACZ37C,SACA8hD,WACAC,mBAIAgB,GAA0BA,CAACjB,EAAUC,IAClC/hD,GACE6hD,GAAW,CAChBlG,WAAY,aACZ37C,SACA8hD,WACAC,mBAIAiB,GAA+BA,CAAClB,EAAUC,IACvC/hD,GACE6hD,GAAW,CAChBlG,WAAY,gBACZ37C,SACA8hD,WACAC,mBAIAkB,GAAsBA,CAACnB,EAAUC,IAC9B/hD,GACE6hD,GAAW,CAChBlG,WAAY,SACZ37C,SACA8hD,WACAC,mBAIAmB,GAAgCA,CAACpB,EAAUC,IACxC/hD,GACE6hD,GAAW,CAChBlG,WAAY,QACZ37C,SACA8hD,WACAC,mBAIAoB,GAAiCA,CAACrB,EAAUC,IACzC/hD,GACE6hD,GAAW,CAChBlG,WAAY,QACZ37C,SACA8hD,WACAC,mBAIAqB,GAA6BA,CAACtB,EAAUC,IACrC/hD,GACE6hD,GAAW,CAChBlG,WAAY,QACZ37C,SACA8hD,WACAC,mBAIAsB,GAA8BA,CAACvB,EAAUC,IACtC/hD,GACE6hD,GAAW,CAChBlG,WAAY,QACZ37C,SACA8hD,WACAC,mBAIAE,GAAsBK,IAC1B,MAAM54C,EAAQ,GACR+7B,EAAM,IAAI/E,KAAKA,KAAK+E,OAC1B,IAAK,IAAI9wE,EAAI,EAAGA,EAAI2tF,EAAQ/tF,OAAQI,IAC9B,IAAI+rE,KAAK4hB,EAAQ3tF,GAAGqpF,YAAcvY,GACpC/7B,EAAMvsB,KAAKmlE,EAAQ3tF,IAGvB,OAAO+0C,CAAK,EAER45C,GAAavB,GACV,CAAC,CACNz5F,GAAIm4F,GACJoB,WAAYW,GAAmBP,GAAqBF,GACpDj3F,KAAM6F,GAAAA,EAAK0F,EAAE,UACZ,CACD/N,GAAIo4F,GACJmB,WAAYY,GAAoB,CAC9BJ,SAAU,GACTJ,GAAqBF,GACxBj3F,KAAM6F,GAAAA,EAAK0F,EAAE,WACZ,CACD/N,GAAIq4F,GACJkB,WAAYY,GAAoB,CAC9BJ,SAAU,GACTJ,GAAqBF,GACxBj3F,KAAM6F,GAAAA,EAAK0F,EAAE,6BACZ,CACD/N,GAAIs4F,GACJiB,WAAYY,GAAoB,CAC9BJ,SAAU,GACTJ,GAAqBF,GACxBj3F,KAAM6F,GAAAA,EAAK0F,EAAE,4BACZ,CACD/N,GAAIu4F,GACJgB,WAAYY,GAAoB,CAC9BJ,SAAU,GACTJ,GAAqBF,GACxBj3F,KAAM6F,GAAAA,EAAK0F,EAAE,4BACZ,CACD/N,GAAIw4F,GACJe,WAAYY,GAAoB,CAC9BJ,SAAU,GACTJ,GAAqBF,GACxBj3F,KAAM6F,GAAAA,EAAK0F,EAAE,0BACZ,CACD/N,GAAIy4F,GACJc,WAAYc,GAAsBV,GAAqBF,GACvDj3F,KAAM6F,GAAAA,EAAK0F,EAAE,cACZ,CACD/N,GAAI04F,GACJa,WAAYe,GAAqBX,GAAqBF,GACtDj3F,KAAM6F,GAAAA,EAAK0F,EAAE,YACZ,CACD/N,GAAI24F,GACJY,WAAYgB,GAAuBZ,GAAqBF,GACxDj3F,KAAM6F,GAAAA,EAAK0F,EAAE,eACZ,CACD/N,GAAI44F,GACJW,WAAYiB,GAAuBb,GAAqBF,GACxDj3F,KAAM6F,GAAAA,EAAK0F,EAAE,cACZ,CACD/N,GAAI64F,GACJU,WAAYkB,GAAwBd,GAAqBF,GACzDj3F,KAAM6F,GAAAA,EAAK0F,EAAE,gBACZ,CACD/N,GAAI84F,GACJS,WAAYmB,GAA6Bf,GAAqBF,GAC9Dj3F,KAAM6F,GAAAA,EAAK0F,EAAE,sBACZ,CACD/N,GAAI+4F,GACJQ,WAAYoB,GAAoBhB,GAAqBF,GACrDj3F,KAAM6F,GAAAA,EAAK0F,EAAE,WACZ,CACD/N,GAAIg5F,GACJO,WAAYsB,GAA+BlB,GAAqBF,GAChEj3F,KAAM6F,GAAAA,EAAK0F,EAAE,oCACZ,CACD/N,GAAIi5F,GACJM,WAAYqB,GAA8BjB,GAAqBF,GAC/Dj3F,KAAM6F,GAAAA,EAAK0F,EAAE,mCACZ,CACD/N,GAAIk5F,GACJK,WAAYuB,GAA2BnB,GAAqBF,GAC5Dj3F,KAAM6F,GAAAA,EAAK0F,EAAE,gCACZ,CACD/N,GAAIm5F,GACJI,WAAYwB,GAA4BpB,GAAqBF,GAC7Dj3F,KAAM6F,GAAAA,EAAK0F,EAAE,kCAGJktF,GAA6BA,CAACj7F,EAAIy5F,IACtCuB,GAAWvB,GAAgBnhF,MAAKH,GAAUA,EAAOnY,KAAOA,IAEpDk7F,GAAyBA,IAAMF,KC/RtCG,GAAoBt8F,IACxB,IAAI,mBACFu8F,EAAkB,oBAClB/B,EAAmB,kBACnBgC,EAAiB,YACjB7D,EAAW,mBACX8D,EAAkB,aAClBC,EAAY,SACZr4F,GACErE,EACJ,MAAM28F,EAA4BtvF,MAAM+kB,QAAQmqE,IAAqD,IAA9BA,EAAmBnvF,QAAgBmvF,EAAmB,KAAOC,EACpI,OAAoBt8F,EAAAA,cAAoBA,EAAAA,SAAgB,KAAmBA,EAAAA,cAAoB,MAAO,CACpGD,UAAY,OAAMyP,GAAOrP,sBACXH,EAAAA,cAAoBmc,GAAAA,EAAmB,CACrDrY,MAAOwF,GAAAA,EAAK0F,EAAE,eACdrM,SAAUxB,IACR,IAAI,SACF2L,GACE3L,EACJ,OAAOo7F,EAAmBzvF,EAAS,EAErC5I,OAAO,EACP4I,SAAUwvF,EACV14F,SAAU64F,EACV18F,UAAW,gBACXoE,SAAW,GAAEA,kBACXk4F,EAAqBF,KAAyBh2F,QAAOiT,GAAUijF,EAAmBh3D,MAAK3gC,GAAQA,IAAS0U,EAAOnY,OAAOo5F,GAAsB8B,KAA0B7B,IAAsB50F,KAAI0T,GAAuBpZ,EAAAA,cAAoBwN,GAAAA,EAAoB,CACjQ/L,IAAK2X,EAAOnY,GACZS,MAAO0X,EAAOnY,GACd6C,MAAOsV,EAAO3V,KACdU,SAAW,GAAEA,wBAA+BiV,EAAOnY,WACjCjB,EAAAA,cAAoB,MAAO,CAC7CD,UAAY,OAAMyP,GAAOrP,uBACXH,EAAAA,cAAoBqoD,GAAAA,EAAY,CAC9CvkD,MAAOwF,GAAAA,EAAK0F,EAAE,QACdjP,UAAW,gBACX2E,KAAM,SACN4P,YAAahL,GAAAA,EAAK0F,EAAE,eACpBtN,MAAO+2F,EACP91F,SAAUkD,IACR,IAAI,MACFnE,GACEmE,EACJ,OAAO22F,EAAa96F,EAAM,EAE5BwC,OAAO,EACPC,SAAW,GAAEA,YACGnE,EAAAA,cAAoBI,EAAAA,QAAW,CAC/Ca,GAAIuO,GAAOrP,QACVqP,IAAQ,EAEb4sF,GAAkBr3F,aAAe,CAC/Bu1F,oBAAqB,IAEvB8B,GAAkBp6F,UAAY,CAC5Bs6F,kBAAmBr6F,IAAAA,OAAiBqF,WACpCmxF,YAAax2F,IAAAA,OAAiBqF,WAC9Bi1F,mBAAoBt6F,IAAAA,KAAeqF,WACnCk1F,aAAcv6F,IAAAA,KAAeqF,WAC7B+0F,mBAAoBp6F,IAAAA,QAAkBA,IAAAA,QACtCkC,SAAUlC,IAAAA,OACVq4F,oBAAqBr4F,IAAAA,QAAkBA,IAAAA,SAEzC,UCrEA,MAuIMg6F,GAAaA,IAAM,CAAC,CACxBh7F,GAAIm4F,GACJoB,WAAYA,IAzIkB,CAAC,CAC/Bv5F,GAAI,QACJwC,KAAM6F,GAAAA,EAAK0F,EAAE,UACZ,CACD/N,GAAI,YACJwC,KAAM6F,GAAAA,EAAK0F,EAAE,cACZ,CACD/N,GAAI,cACJwC,KAAM6F,GAAAA,EAAK0F,EAAE,gBACZ,CACD/N,GAAI,cACJwC,KAAM6F,GAAAA,EAAK0F,EAAE,gBACZ,CACD/N,GAAI,eACJwC,KAAM6F,GAAAA,EAAK0F,EAAE,iBACZ,CACD/N,GAAI,eACJwC,KAAM6F,GAAAA,EAAK0F,EAAE,iBACZ,CACD/N,GAAI,eACJwC,KAAM6F,GAAAA,EAAK0F,EAAE,iBACZ,CACD/N,GAAI,eACJwC,KAAM6F,GAAAA,EAAK0F,EAAE,iBACZ,CACD/N,GAAI,gBACJwC,KAAM6F,GAAAA,EAAK0F,EAAE,mBAgHbvL,KAAM6F,GAAAA,EAAK0F,EAAE,SACZ,CACD/N,GAAIo4F,GACJmB,WAAYA,IAjHmB,CAAC,CAChCv5F,GAAI,YACJwC,KAAM6F,GAAAA,EAAK0F,EAAE,cACZ,CACD/N,GAAI,YACJwC,KAAM6F,GAAAA,EAAK0F,EAAE,cACZ,CACD/N,GAAI,eACJwC,KAAM6F,GAAAA,EAAK0F,EAAE,iBACZ,CACD/N,GAAI,gBACJwC,KAAM6F,GAAAA,EAAK0F,EAAE,kBACZ,CACD/N,GAAI,gBACJwC,KAAM6F,GAAAA,EAAK0F,EAAE,kBACZ,CACD/N,GHxC6B,kBGyC7BwC,KAAM6F,GAAAA,EAAK0F,EAAE,qBAiGbvL,KAAM6F,GAAAA,EAAK0F,EAAE,UACZ,CACD/N,GAAIy4F,GACJc,WAAYA,IAlGqB,CAAC,CAClCv5F,GAAI,cACJwC,KAAM6F,GAAAA,EAAK0F,EAAE,iBACZ,CACD/N,GAAI,cACJwC,KAAM6F,GAAAA,EAAK0F,EAAE,iBACZ,CACD/N,GAAI,iBACJwC,KAAM6F,GAAAA,EAAK0F,EAAE,qBA2FbvL,KAAM6F,GAAAA,EAAK0F,EAAE,aACZ,CACD/N,GAAI04F,GACJa,WAAYA,IA5FoB,CAAC,CACjCv5F,GAAI,aACJwC,KAAM6F,GAAAA,EAAK0F,EAAE,eACZ,CACD/N,GAAI,aACJwC,KAAM6F,GAAAA,EAAK0F,EAAE,eACZ,CACD/N,GAAI,gBACJwC,KAAM6F,GAAAA,EAAK0F,EAAE,kBACZ,CACD/N,GAAI,gBACJwC,KAAM6F,GAAAA,EAAK0F,EAAE,kBACZ,CACD/N,GAAI,iBACJwC,KAAM6F,GAAAA,EAAK0F,EAAE,mBACZ,CACD/N,GAAI,mBACJwC,KAAM6F,GAAAA,EAAK0F,EAAE,sBA4EbvL,KAAM6F,GAAAA,EAAK0F,EAAE,WACZ,CACD/N,GAAI24F,GACJY,WAAYA,IA7EsB,CAAC,CACnCv5F,GAAI,eACJwC,KAAM6F,GAAAA,EAAK0F,EAAE,kBACZ,CACD/N,GAAI,eACJwC,KAAM6F,GAAAA,EAAK0F,EAAE,kBACZ,CACD/N,GAAI,kBACJwC,KAAM6F,GAAAA,EAAK0F,EAAE,qBACZ,CACD/N,GAAI,qBACJwC,KAAM6F,GAAAA,EAAK0F,EAAE,yBAmEbvL,KAAM6F,GAAAA,EAAK0F,EAAE,cACZ,CACD/N,GAAI44F,GACJW,WAAYA,IApEsB,CAAC,CACnCv5F,GAAI,eACJwC,KAAM6F,GAAAA,EAAK0F,EAAE,iBACZ,CACD/N,GAAI,eACJwC,KAAM6F,GAAAA,EAAK0F,EAAE,iBACZ,CACD/N,GAAI,kBACJwC,KAAM6F,GAAAA,EAAK0F,EAAE,oBACZ,CACD/N,GAAI,qBACJwC,KAAM6F,GAAAA,EAAK0F,EAAE,wBA0DbvL,KAAM6F,GAAAA,EAAK0F,EAAE,aACZ,CACD/N,GAAI64F,GACJU,WAAYA,IA3DuB,CAAC,CACpCv5F,GAAI,iBACJwC,KAAM6F,GAAAA,EAAK0F,EAAE,mBACZ,CACD/N,GAAI,iBACJwC,KAAM6F,GAAAA,EAAK0F,EAAE,mBACZ,CACD/N,GAAI,mBACJwC,KAAM6F,GAAAA,EAAK0F,EAAE,sBAoDbvL,KAAM6F,GAAAA,EAAK0F,EAAE,eACZ,CACD/N,GHxJuB,YGyJvBu5F,WAAYA,IArD4B,CAAC,CACzCv5F,GAAI,sBACJwC,KAAM6F,GAAAA,EAAK0F,EAAE,wBACZ,CACD/N,GAAI,sBACJwC,KAAM6F,GAAAA,EAAK0F,EAAE,wBACZ,CACD/N,GAAI,yBACJwC,KAAM6F,GAAAA,EAAK0F,EAAE,4BA8CbvL,KAAM6F,GAAAA,EAAK0F,EAAE,oBACZ,CACD/N,GAAI+4F,GACJQ,WAAYA,IA/CmB,CAAC,CAChCv5F,GAAI,YACJwC,KAAM6F,GAAAA,EAAK0F,EAAE,cACZ,CACD/N,GAAI,YACJwC,KAAM6F,GAAAA,EAAK0F,EAAE,cACZ,CACD/N,GAAI,eACJwC,KAAM6F,GAAAA,EAAK0F,EAAE,iBACZ,CACD/N,GAAI,gBACJwC,KAAM6F,GAAAA,EAAK0F,EAAE,mBAqCbvL,KAAM6F,GAAAA,EAAK0F,EAAE,WAEF0tF,GAAgCz7F,GAAMg7F,KAAa1iF,MAAKH,GAAUA,EAAOnY,KAAOA,ICtKvF07F,GAAuB78F,IAC3B,IAAI,cACF88F,EAAa,eACbC,EAAc,SACd14F,EAAQ,oBACRm2F,GACEx6F,EACJ,OAAoBE,EAAAA,cAAoB,MAAO,CAC7CD,UAAY,OAAMyP,GAAOrP,sBACXH,EAAAA,cAAoBmc,GAAAA,EAAmB,CACrDrY,MAAOwF,GAAAA,EAAK0F,EAAE,eACdrM,SAAUxB,IACR,IAAI,SACF2L,GACE3L,EACJ,OAAO07F,EAAe/vF,EAAS,EAEjC5I,OAAO,EACP4I,SAAU8vF,EACV78F,UAAW,gBACXoE,SAAUA,GACTk2F,GDkJ0C4B,KClJS3B,GAAqB50F,KAAI0T,GAAuBpZ,EAAAA,cAAoBwN,GAAAA,EAAoB,CAC5I/L,IAAK2X,EAAOnY,GACZS,MAAO0X,EAAOnY,GACd6C,MAAOsV,EAAO3V,KACdU,SAAW,GAAEA,YAAmBiV,EAAOnY,UACtBjB,EAAAA,cAAoBI,EAAAA,QAAW,CAChDa,GAAIuO,GAAOrP,QACVqP,IAAQ,EAEbmtF,GAAqB36F,UAAY,CAC/B46F,cAAe36F,IAAAA,OAAiBqF,WAChCu1F,eAAgB56F,IAAAA,KAAeqF,WAC/BnD,SAAUlC,IAAAA,OACVq4F,oBAAqBr4F,IAAAA,QAAkBA,IAAAA,SAEzC,UC3CA,SAAS6P,KAAiS,OAApRA,GAAWnQ,OAAOoQ,OAASpQ,OAAOoQ,OAAOy4B,OAAS,SAAUx4B,GAAU,IAAK,IAAI1E,EAAI,EAAGA,EAAIhL,UAAU4K,OAAQI,IAAK,CAAE,IAAI2E,EAAS3P,UAAUgL,GAAI,IAAK,IAAI7L,KAAOwQ,EAActQ,OAAOuQ,UAAUC,eAAeC,KAAKH,EAAQxQ,KAAQuQ,EAAOvQ,GAAOwQ,EAAOxQ,GAAU,CAAE,OAAOuQ,CAAQ,EAAUF,GAASO,MAAM9P,KAAMD,UAAY,CAelV,MAAMw6F,GAAiBh9F,IACrB,IAAI,SACFizD,EAAQ,SACR5uD,EAAQ,uBACR44F,EAAsB,YACtBhsE,EAAW,oBACXupE,EAAmB,gBACnB0C,GACEl9F,EACJ,MAAMm9F,EAA4B3C,EAAoBthF,SAAS2gF,IAAW+C,GAA8B7C,IAAa6C,GAA8B/C,IAC7IuD,EAAyB5C,EAAoBthF,SAAS2gF,IAAWuC,GAA2BrC,GAAWmD,GAAmBd,GAA2BvC,GAASqD,GAC9J5e,EAAM2c,GAAiBiC,EAAgB7tB,UAGvCguB,EAAyB/e,EAAI4F,SAAW5F,EAAItQ,KAC5CsvB,EAAoBtvB,IAAQ,CAChCt8D,OAAQs8D,EAAOqvB,EACfvC,qBAAqB,EACrBE,gBAAgB,KAEXuC,EAAYC,IAAiBrqF,EAAAA,EAAAA,UAASgqF,EAA0BzC,eAChE+C,EAAiBC,IAAsBvqF,EAAAA,EAAAA,UAAS8pF,IAChDU,EAAYC,IAAiBzqF,EAAAA,EAAAA,WAAS,IACtC0qF,EAAgBC,IAAqB3qF,EAAAA,EAAAA,UAAS,CACnDqhF,WAAY2I,EAA0Bh8F,MAEjC48F,EAAaC,IAAkB7qF,EAAAA,EAAAA,UAAS,CAC7CqhF,WAAY4I,EAAuBj8F,GACnC6sE,KAAMqvB,EAAuBpwF,aAEzBgxF,EAAoBxtF,IACpBA,IAAUktF,IACZC,EAAcntF,GACd+sF,EAAc/sF,EAAQmsF,GAA8BiB,EAAerJ,YAAYkG,aAAe0B,GAA2B2B,EAAYvJ,WAAY0I,GAAiBxC,WAAW4C,EAAkBv6D,OAAOg7D,EAAY/vB,SACpN,EA+CIkwB,EAAuB73F,IAC3B23F,EAAe33F,GACfm3F,EAAcpB,GAA2B/1F,EAAOmuF,WAAY0I,GAAiBxC,WAAW4C,EAAkBv6D,OAAO18B,EAAO2nE,OAAQkvB,GAAiB,EAOnJ,OAAoBh9F,EAAAA,cAAoB6vB,GAAAA,EAAU,CAChDltB,SAAUxB,IACR,IAAI,SACF2L,GACE3L,EACJ,MAAM88F,EAAiBnxF,EAASpH,KAAIzE,IAAM,CACxCA,KACAwC,KAAM,IAAI45F,KAAeE,GAAiBhkF,MAAKyhB,GAAQA,EAAK/5B,KAAOA,IAAIwC,SAEzE+5F,EAAmBS,GACnBlrC,EAASkrC,EAAe,EAE1BnxF,SAAUywF,EAAgB73F,KAAI60F,GAAUA,EAAOt5F,KAC/CyvB,WAnE0C1wB,EAAAA,cAAoBA,EAAAA,SAAgB,KAAmBA,EAAAA,cAAoByhB,GAAAA,EAAQ,KAAmBzhB,EAAAA,cAAoB2hB,GAAAA,EAAK,CACzK7U,SAAU2wF,EACVrxF,QAASA,IAAM2xF,GAAkB,GACjC55F,SAAW,GAAEA,6BACZmF,GAAAA,EAAK0F,EAAE,qBAAmChP,EAAAA,cAAoB2hB,GAAAA,EAAK,CACpE7U,UAAW2wF,EACXrxF,QAASA,IAAM2xF,GAAkB,GACjC55F,SAAW,GAAEA,0BACZmF,GAAAA,EAAK0F,EAAE,mBAAiChP,EAAAA,cAAoB,MAAO,CACpED,UAAY,OAAMyP,GAAAA,EAAOrP,0BACxBs9F,EAA0Bz9F,EAAAA,cAAoB28F,GAAsB,CACrEC,cAAee,EAAerJ,WAC9BuI,eAAgB12F,IACdy3F,EAAkB,CAChBtJ,WAAYnuF,IAEdm3F,EAAcZ,GAA8Bv2F,GAAQq0F,aAAa,EAEnEr2F,SAAW,GAAEA,2BACbm2F,oBAAqBA,IACLt6F,EAAAA,cAAoBo8F,GAAmB,CACvDE,kBAAmBuB,EAAYvJ,WAC/BmE,YAAaoF,EAAY/vB,KACzByuB,mBAAoBjI,IAClB0J,EAAqB,CACnB1J,aACAxmB,KAAM+vB,EAAY/vB,MAClB,EAEJ0uB,aAAc1uB,IACZkwB,EAAqB,CACnB1J,WAAYuJ,EAAYvJ,WACxBxmB,QACA,EAEJ3pE,SAAW,GAAEA,wBACbm2F,oBAAqBA,KACLt6F,EAAAA,cAAoBI,EAAAA,QAAW,CAC/Ca,GAAIuO,GAAAA,EAAOrP,QACVqP,GAAAA,IA6BDwgB,mBAAmB,EACnBlvB,OAAQwzD,GAAAA,GACR1jC,aAAc2jC,GAAAA,GACdnjC,cAAeojC,GAAAA,GACfrjC,uBAvB8CnxB,EAAAA,cAAoBA,EAAAA,SAAgB,KAAmBA,EAAAA,cAAoB,IAAK,CAC9HD,UAAY,OAAMyP,GAAAA,EAAOrP,oBACxBmJ,GAAAA,EAAK0F,EAAE,wBAAsChP,EAAAA,cAAoBI,EAAAA,QAAW,CAC7Ea,GAAIuO,GAAAA,EAAOrP,QACVqP,GAAAA,IAoBDwhB,YAjC2ChxB,EAAAA,cAAoBA,EAAAA,SAAgB,KAAmBA,EAAAA,cAAoB,IAAK,CAC3HD,UAAY,OAAMyP,GAAAA,EAAOrP,sBACxBmJ,GAAAA,EAAK0F,EAAE,qBAAmChP,EAAAA,cAAoBI,EAAAA,QAAW,CAC1Ea,GAAIuO,GAAAA,EAAOrP,QACVqP,GAAAA,IA8BDuhB,YAAaA,EACbxf,QAAS,IAAI8rF,KAAeE,GAAiB73F,KAAIG,IAC/C,IAAI,GACF5E,EAAE,KACFwC,GACEoC,EACJ,MAAO,CACL/B,MAAOL,EACP/B,MAAOT,EACR,IAEH8pB,aAAcroB,GAAsB1C,EAAAA,cAAoBusB,GAAAA,EAAgBza,GAAS,CAAC,EAAGpP,EAAO,CAC1FiU,KAAMunF,GACN/5F,SAAW,GAAEA,uBAEfA,SAAW,GAAEA,cACb,EAEJ24F,GAAe/3F,aAAe,CAC5Bg4F,uBAAwB,GACxBzC,oBAAqB,GACrB0C,gBAAiB,CACf7tB,SAAU,UACVwQ,OAAQ,OAGZmd,GAAe96F,UAAY,CACzB+wD,SAAU9wD,IAAAA,KAAeqF,WACzBnD,SAAUlC,IAAAA,OACVq4F,oBAAqBr4F,IAAAA,QAAkBA,IAAAA,QACvC86F,uBAAwB96F,IAAAA,QAAkBA,IAAAA,MAAgB,CACxDhB,GAAIgB,IAAAA,OACJwB,KAAMxB,IAAAA,UAER+6F,gBAAiB/6F,IAAAA,MAAgB,CAC/BktE,SAAUltE,IAAAA,OACV09E,OAAQ19E,IAAAA,SAEV8uB,YAAa9uB,IAAAA,MAEf,UCjKA,MAAMk8F,GAAoB,CACxBC,aAAc,CACZ3oE,SAAU,eACVC,OAAQ,CACNj0B,IAAK,CAAC,kBAIN48F,GAAkBv+F,IACtB,IAAI,SACFizD,EAAQ,gBACRwqC,EAAe,YACfxsE,EAAW,oBACXupE,GACEx6F,EACJ,MAAM,WACJw+F,IACEppC,EAAAA,EAAAA,MACEjO,GAASiH,EAAAA,EAAAA,IAAaiwC,KACtB,SACJhvB,EAAW,WACTmvB,GAEFnoF,MACEioF,cACEG,YAAa5e,GACX,CAAC,GACH,CAAC,GACH14B,EACE+1C,EAAkB,CACtB7tB,WACAwQ,UAQF,OAAoB3/E,EAAAA,cAAoB88F,GAAgB,CACtD/pC,SAPoBkoC,IACpBloC,EAAS,CACPuC,YAAakpC,EAAAA,GACb/7C,MAAOw4C,GACP,EAIF8B,uBAAwBQ,EACxBxsE,YAAaA,EACb5sB,SAAU,mBACVm2F,oBAAqBA,EACrB0C,gBAAiBA,GACjB,EAEJqB,GAAgBr8F,UAAY,CAC1B+wD,SAAU9wD,IAAAA,KAAeqF,WACzBgzF,oBAAqBr4F,IAAAA,QAAkBA,IAAAA,QACvC8uB,YAAa9uB,IAAAA,KACbs7F,gBAAiBt7F,IAAAA,OAEnBo8F,GAAgBt5F,aAAe,CAC7Bw4F,gBAAiB,IAEnB,uHC3DA,SAASkB,EAAU3+F,GACjB,IAAI,MACF+H,EAAK,SACL1D,GACErE,EACJ,OAAoBE,EAAAA,cAAoB,MAAO,CAC7Cc,OAAQ,GACRb,QAAS,YACTY,MAAO,GACPX,MAAO,6BACP2H,MAAOA,EACP,YAAa1D,GACCnE,EAAAA,cAAoB,OAAQ,CAC1CgB,EAAG,sJACH8G,KAAM,iBAEV,CAEA22F,EAAUz8F,UAAY,CACpB6F,MAAO5F,IAAAA,OACPkC,SAAUlC,IAAAA,QAEZ,iECxBA,MAAMskB,EAAiB,CAAE,oDAAmD/hB,EAAAA,EAAQC,QAAU,yIAAwIpF,EAAAA,EAAO4V,uDAAuDzQ,EAAAA,EAAQmD,WAAWnD,EAAAA,EAAQC,cAAcD,EAAAA,EAAQC,OAAOD,EAAAA,EAAQmD,SAASnD,EAAAA,EAAQmD,+GAAiH,yCAAwCtI,EAAAA,EAAOiB,YAAc,uCAAsCiE,EAAAA,EAAM0yD,sBAAsB1yD,EAAAA,EAAMm6F,iBAAmB,4CAA2Cn6F,EAAAA,EAAMo6F,iBAAkB,sDAAwD,4EAA2Ep6F,EAAAA,EAAMikD,sBAAsBnpD,EAAAA,EAAOE,UAAY,+CAA8CF,EAAAA,EAAOE,UAAW,4DAA6D,yCAA0C,gEAAkE,qCAAoCiF,EAAAA,EAAQC,yJAA0J,yCAA2C,+DAA8DD,EAAAA,EAAQmD,uBAAwB,sHAAuH,6IACliD4e,EAAepmB,OAAS,aACxB,QCGO,MAAMosB,EAAiBzsB,IAC5B,IAAI,SACF8D,EAAQ,MACRE,EAAK,YACL4nB,EAAW,SACX5e,EAAQ,QACRV,EAAO,cACPogB,EAAa,MACb9qB,EAAK,KACLiV,EAAI,OACJ3B,EAAM,YACN0/C,EAAW,SACXvwD,EAAQ,YACRwwD,GACE70D,EACJ,MAAM8+F,EAAgBA,IAAmB5+F,EAAAA,cAAoB,MAAO,CAClE,YAAc,GAAEmE,YAChBiI,QAASwV,IACHhe,GAGJwI,EAAQ,CACNtI,QACApC,SACCkgB,EAAM,EAEX4K,cAAe5K,IACThe,GAGJ4oB,EAAc,CACZ1oB,QACApC,SACCkgB,EAAM,EAEX7hB,UAAY,OAAMyP,EAAOrP,WAAkBkE,IAAG,OAAQ,CACpDqnB,cACA9nB,WACAkJ,WACAiB,cAAqB8J,IAAX7C,IAAyBA,KAC/B,KACQhV,EAAAA,cAAoB,OAAQ,CAC1CD,UAAY,OAAMyP,EAAOrP,eACxBwW,GAAoB3W,EAAAA,cAAoB,OAAQ,CACjDD,UAAY,OAAMyP,EAAOrP,gBACxB2D,GAAQ6wD,GAA4B30D,EAAAA,cAAoB,OAAQ,CACjEoM,QAAS3J,IACPA,EAAE2S,kBACFu/C,GAAa,EAEf,YAAc,GAAExwD,gBAChBpE,UAAY,OAAMyP,EAAOrP,eACXH,EAAAA,cAAoB6+F,EAAY,OAAqB7+F,EAAAA,cAAoBI,EAAAA,QAAW,CAClGa,GAAIuO,EAAOrP,QACVqP,IACH,OAAoBxP,EAAAA,cAAoB,MAAO,CAC7C,aAAc0B,EACd,YAAayC,EACbpE,UAAW,WACV20D,EAA2B10D,EAAAA,cAAoB6oB,EAAAA,EAAS,CACzDpnB,IAAM,GAAEC,IACRqnB,QAAS2rC,EACT/hD,UAAW,MACXqW,UAAW,IACXF,WAAY,KACX81E,KAAmBA,IAAgB,EAExCryE,EAAevqB,UAAY,CACzB8B,MAAO7B,IAAAA,OAAiBqF,WACxB5F,MAAOO,IAAAA,OAAiBqF,WACxB0N,OAAQ/S,IAAAA,KACRkC,SAAUlC,IAAAA,OACV2B,SAAU3B,IAAAA,KACVypB,YAAazpB,IAAAA,KACb0U,KAAM1U,IAAAA,KACN6K,SAAU7K,IAAAA,KACVyyD,YAAazyD,IAAAA,OACbmK,QAASnK,IAAAA,KACTuqB,cAAevqB,IAAAA,KACf0yD,YAAa1yD,IAAAA,iECpFf,MAAMskB,EAAiB,CAAE,0HAAyH/hB,EAAAA,EAAQiE,mBAAmBjE,EAAAA,EAAQmD,QAAU,qFAAoFnD,EAAAA,EAAQkE,kBAAkBrJ,EAAAA,EAAO+O,YAAa,8DAAgE,qCAAoC5J,EAAAA,EAAQiE,QAAQjE,EAAAA,EAAQC,QAAU,yHAAwHD,EAAAA,EAAQmD,eAAenD,EAAAA,EAAQmD,wBAAwBtI,EAAAA,EAAO4V,8BAAgC,yCAAwCzQ,EAAAA,EAAQmD,aAAatI,EAAAA,EAAOiF,4CAA8C,4CAA2CE,EAAAA,EAAQmD,WACl0B4e,EAAepmB,OAAS,YACxB,oygjBC0CA,MAAMkJ,EAAY,UAClBC,EAAAA,EAAKC,aAAa,KAAMF,EAAWG,GACnCF,EAAAA,EAAKC,aAAa,QAASF,EAAWy1F,GACtCx1F,EAAAA,EAAKC,aAAa,QAASF,EAAWI,GACtCH,EAAAA,EAAKC,aAAa,MAAOF,EAAWM,GACpCL,EAAAA,EAAKC,aAAa,KAAMF,EAAWO,GACnCN,EAAAA,EAAKC,aAAa,KAAMF,EAAWQ,GACnCP,EAAAA,EAAKC,aAAa,KAAMF,EAAWS,GACnCR,EAAAA,EAAKC,aAAa,KAAMF,EAAWU,GACnCT,EAAAA,EAAKC,aAAa,SAAUF,EAAWW,GACvCV,EAAAA,EAAKC,aAAa,KAAMF,EAAWY,GACnCX,EAAAA,EAAKC,aAAa,KAAMF,EAAWa,GACnCZ,EAAAA,EAAKC,aAAa,KAAMF,EAAWc,GACnCb,EAAAA,EAAKC,aAAa,KAAMF,EAAWe,GACnCd,EAAAA,EAAKC,aAAa,KAAMF,EAAWgB,GACnCf,EAAAA,EAAKC,aAAa,KAAMF,EAAWiB,GACnChB,EAAAA,EAAKC,aAAa,KAAMF,EAAWkB,GACnCjB,EAAAA,EAAKC,aAAa,KAAMF,EAAW01F,GACnCz1F,EAAAA,EAAKC,aAAa,MAAOF,EAAWmB,GACpClB,EAAAA,EAAKC,aAAa,KAAMF,EAAWoB,GACnCnB,EAAAA,EAAKC,aAAa,KAAMF,EAAWqB,GACnCpB,EAAAA,EAAKC,aAAa,QAASF,EAAWsB,GACtCrB,EAAAA,EAAKC,aAAa,KAAMF,EAAWuB,GACnCtB,EAAAA,EAAKC,aAAa,KAAMF,EAAWwB,GACnCvB,EAAAA,EAAKC,aAAa,KAAMF,EAAW21F,GACnC11F,EAAAA,EAAKC,aAAa,KAAMF,EAAWyB,GACnCxB,EAAAA,EAAKC,aAAa,MAAOF,EAAW0B,GACpCzB,EAAAA,EAAKC,aAAa,KAAMF,EAAW2B,GACnC1B,EAAAA,EAAKC,aAAa,KAAMF,EAAW4B,GACnC3B,EAAAA,EAAKC,aAAa,KAAMF,EAAW6B,GACnC5B,EAAAA,EAAKC,aAAa,UAAWF,EAAW41F,GACxC31F,EAAAA,EAAKC,aAAa,UAAWF,EAAW8B,GACxC7B,EAAAA,EAAKC,aAAa,aAAcF,EAAW+B,GAC3C9B,EAAAA,EAAKC,aAAa,aAAcF,EAAWgC,GAC3C/B,EAAAA,EAAKC,aAAa,KAAMF,EAAWiC,GACnChC,EAAAA,EAAKC,aAAa,KAAMF,EAAWkC,GACnCjC,EAAAA,EAAKC,aAAa,QAASF,EAAWmC,GACtC,MAAelC,EAAI,sHClFZ,MAAMirD,EAAyB,QACzBC,EAA0B,QAC1BF,EAAkB,4PCC/B,SAAS4qC,EAAmBp/F,GAC1B,IAAI,MACF+H,EAAK,SACL1D,GACErE,EACJ,OAAoBE,EAAAA,cAAoB,MAAO,CAC7Cc,OAAQ,GACRb,QAAS,YACTY,MAAO,GACPX,MAAO,6BACP2H,MAAOA,EACP,YAAa1D,GACCnE,EAAAA,cAAoB,OAAQ,CAC1CgB,EAAG,uIACH8G,KAAM,iBAEV,CAEAo3F,EAAmBl9F,UAAY,CAC7B6F,MAAO5F,IAAAA,OACPkC,SAAUlC,IAAAA,QAEZ,kBCtBA,SAASk9F,EAAsBr/F,GAC7B,IAAI,MACF+H,EAAK,SACL1D,GACErE,EACJ,OAAoBE,EAAAA,cAAoB,MAAO,CAC7Cc,OAAQ,GACRb,QAAS,YACTY,MAAO,GACPX,MAAO,6BACP2H,MAAOA,EACP,YAAa1D,GACCnE,EAAAA,cAAoB,OAAQ,CAC1CgB,EAAG,sHACH8G,KAAM,iBAEV,CAEAq3F,EAAsBn9F,UAAY,CAChC6F,MAAO5F,IAAAA,OACPkC,SAAUlC,IAAAA,QAEZ,QCFA,MAtB+Bm9F,IACTp/F,EAAAA,cAAoB,MAAO,CAC7Cc,OAAQ,KACRb,QAAS,YACTY,MAAO,MACOb,EAAAA,cAAoB,IAAK,CACvC8H,KAAM,UACNC,SAAU,WACI/H,EAAAA,cAAoB,OAAQ,CAC1CgB,EAAG,mBACYhB,EAAAA,cAAoB,OAAQ,CAC3CgB,EAAG,oBACYhB,EAAAA,cAAoB,OAAQ,CAC3CgB,EAAG,mBACYhB,EAAAA,cAAoB,OAAQ,CAC3CgB,EAAG,iBACYhB,EAAAA,cAAoB,OAAQ,CAC3CgB,EAAG,mBACYhB,EAAAA,cAAoB,OAAQ,CAC3CgB,EAAG,8BCjBA,MAAMu0D,EAAoB,KACpBipC,EAAsB,KACtBn6B,EAAuB,KAEvBvL,EAA0B,UAC1BgB,EAAqBA,KAAA,CAChC,CAACvE,GAAoB,CACnBt0D,GAAIs0D,EACJ9xD,KAAM6F,EAAAA,EAAK0F,EAAE,QACbqwF,SAAU,WACV1oF,KAAM2oF,GAER,CAACd,GAAsB,CACrBv9F,GAAIu9F,EACJ/6F,KAAM6F,EAAAA,EAAK0F,EAAE,UACbqwF,SAAU,aACV1oF,KAAM4oF,EAAAA,GAER,CAACl7B,GAAuB,CACtBpjE,GAAIojE,EACJ5gE,KAAM6F,EAAAA,EAAK0F,EAAE,qBACbqwF,SAAU,cACV1oF,KAAM6oF,KAYGvlC,EAA0BA,KAAA,IAClCH,IATH,GAAoC,CAClC74D,GAxB4C,KAyB5CwC,KAAM6F,EAAAA,EAAK0F,EAAE,uBACbqwF,SAAU,yBACV1oF,KAAMyoF,EACN,CAACtmC,IAA0B,KAQlBZ,EAA6BA,CAAC5C,EAAamqC,KAAcxlC,IAA0B3E,IAAgB,CAAC,GAAGmqC,6FCxCpH,MAEMC,EAAoBA,CAACC,EAAWC,EAAUt4F,IAAe,CAAC5E,EAAO+8F,EAAUI,KAC/E,MAAMzkC,EAAY14D,EAAM+8F,GAExB,OAAIn4F,EACK,IAAIo6B,MAAO,cAAa+9D,sBAA6BI,iHAGrC,oBAAdF,EACF,IAAIj+D,MAAO,0FAGI,oBAAbk+D,EACF,IAAIl+D,MAAO,0FAIhBi+D,EAAUj9F,IAlB0B,qBAA1BhB,EAkBkB05D,IAlBiC,OAAV15D,GAA4B,KAAVA,GAwBzEM,IAAAA,eAAyB,CACvB,CAACy9F,GAAWG,GACXl9F,EAAO,OAAQm9F,GACX,MARE,IAAIn+D,MAAO,kBAAiB+9D,qBAA4BI,4DAAwEzkC,yDAAiEukC,EAAU5yF,iBAnBtMrL,KA2BH,EAwBN,SAASuN,EAAW0wF,EAAWC,GACpC,MAAMhuF,EAAK8tF,EAAkBC,EAAWC,GAAU,GAElD,OADAhuF,EAAGtK,WAAao4F,EAAkBC,EAAWC,GAAU,GAChDhuF,CACT,6IClDA,MAAMkuF,EAAchgG,IAClB,IAAI,MACFgE,EAAK,SACL6P,EAAQ,SACRxP,GACErE,EACJ,OAAoBE,EAAAA,cAAoBA,EAAAA,SAAgB,KAAM8D,EAAO6P,GAAyB3T,EAAAA,cAAoB+/F,EAAAA,EAAU,CAC1H57F,SAAU,GAAG/E,OAAO+E,EAAU,eAC7B,EAGL27F,EAAY99F,UAAY,CACtBmC,SAAUlC,IAAAA,OACV6B,MAAO7B,IAAAA,KACP0R,SAAU1R,IAAAA,MAGZ,MAAM+9F,EAAgB7+F,IACpB,IAAI,MACFO,EAAK,MACLoC,EAAK,KACLL,EAAI,UACJ1D,EAAS,SACTgE,EAAQ,SACRpB,EAAQ,QACRG,EAAO,UACPC,EAAS,OACTF,EAAM,QACNa,EAAO,SACPE,EAAQ,MACRI,EAAK,QACLC,EAAO,MACPJ,EAAK,MACLK,EAAK,aACLjB,EAAY,SACZ0Q,EAAQ,SACRE,EAAQ,eACRC,EAAc,SACd3P,GACEhD,EACJ,OAAoBnB,EAAAA,cAAoB0U,EAAAA,EAAO,CAC7C3U,UAAWA,EACXoE,SAAUA,EACV0P,SAAUA,EACVC,eAAgBA,EAChBjQ,MAAOA,EACPI,QAASA,EACTD,MAAOA,EACPJ,SAAUA,GACI5D,EAAAA,cAAoBkC,EAAAA,EAAU,CAC5CR,MAAOA,EACPoC,MAAoB9D,EAAAA,cAAoB8/F,EAAa,CACnDh8F,MAAOA,EACP6P,SAAUA,EACVxP,SAAUA,IAEZV,KAAMA,EACNM,SAAUA,EACVpB,SAAUA,EACVG,QAASA,EACTC,UAAWA,EACXF,OAAQA,EACRa,QAASA,EACTE,SAAUA,EACVI,MAAOA,EACPC,QAASA,EACTJ,MAAOA,EACPK,MAAOA,EACPjB,aAAcA,IACb,EAGL+8F,EAAcj7F,aAAe,CAC3BZ,SAAU,iCAEZ67F,EAAch+F,UAAY,CACxB0B,QAASzB,IAAAA,KACTlC,UAAWkC,IAAAA,OACXkC,SAAUlC,IAAAA,OAGViC,MAAOjC,IAAAA,KAGP2B,SAAU3B,IAAAA,KAGV4B,MAAOqB,EAAAA,eAGP2O,SAAU5R,IAAAA,OACVgB,aAAchB,IAAAA,KAGd6B,MAAO7B,IAAAA,KAGPwB,KAAMxB,IAAAA,OAGN0R,SAAU1R,IAAAA,KACV8B,SAAU9B,IAAAA,OAGV+B,MAAOkB,EAAAA,eAGP4O,eAAgB7R,IAAAA,OAGhBP,MAAOO,IAAAA,OAGPgC,QAASiB,EAAAA,eAGTrC,OAAQZ,IAAAA,KAGRU,SAAUV,IAAAA,KAGVa,QAASb,IAAAA,KAGTc,UAAWd,IAAAA,8ECpIb,SAAS6P,IAA2Q,OAA9PA,EAAWnQ,OAAOoQ,QAAU,SAAUC,GAAU,IAAK,IAAI1E,EAAI,EAAGA,EAAIhL,UAAU4K,OAAQI,IAAK,CAAE,IAAI2E,EAAS3P,UAAUgL,GAAI,IAAK,IAAI7L,KAAOwQ,EAActQ,OAAOuQ,UAAUC,eAAeC,KAAKH,EAAQxQ,KAAQuQ,EAAOvQ,GAAOwQ,EAAOxQ,GAAU,CAAE,OAAOuQ,CAAQ,EAAUF,EAASO,MAAM9P,KAAMD,UAAY,CAOrT,MAAM29F,EAAkBngG,IAC7B,IAAI,MACF+D,EAAK,MACL6H,EAAK,KACLw0F,EAAI,gBACJC,EAAe,MACfn8F,EAAK,eACL8P,EAAc,OACdjR,EAAM,QACNC,KACGs+C,GACDthD,EACJ,OAAoBE,EAAAA,cAAoBggG,EAAeluF,EAAS,CAAC,EAAGsvC,EAAM,CACxE39C,KAAMiI,EAAMjI,KACZC,QAASgI,EAAMhI,QACfhC,MAAOgK,EAAMhK,MACbmC,OAAOu8F,EAAAA,EAAAA,GAASF,EAAMr8F,GACtBG,OAAOq8F,EAAAA,EAAAA,GAAQH,EAAMl8F,EAAOm8F,GAC5BrsF,gBAAgBwsF,EAAAA,EAAAA,GAAkBJ,EAAMpsF,EAAgBjQ,GACxDf,SAASy9F,EAAAA,EAAAA,GAAmB70F,EAAO5I,GACnCH,UAAU69F,EAAAA,EAAAA,GAA0B90F,GACpC7I,QAAQ49F,EAAAA,EAAAA,GAAkB/0F,EAAO7I,KAChC,EAELo9F,EAAgBj+F,UAAY,CAE1B0J,MAAOg1F,EAAAA,GAAcp5F,WAGrB44F,KAAMS,EAAAA,GAAar5F,WACnBzD,MAAO5B,IAAAA,KACPk+F,gBAAiBl+F,IAAAA,KACjB+B,MAAO/B,IAAAA,KACP6R,eAAgB7R,IAAAA,OAChBY,OAAQZ,IAAAA,KACRa,QAASb,IAAAA,mKC1CX,MAAM2+F,EAAkB,IAAIrpD,IAAI,CAAC,SAAU,SAAU,YAE/CspD,EAAsB/gG,IAC1B,IAAI,SACF6C,GACE7C,EACJ,OAAO88D,IACL,GAAIA,GAAW,UAAWA,EAExBj6D,EAASi6D,EAAQl7D,YACZ,GAAIk7D,GAAWA,EAAQ5qD,QAAU,UAAW4qD,EAAQ5qD,OAEzDrP,EAASi6D,EAAQ5qD,OAAOtQ,WACnB,KAAIk/F,EAAgBruB,WAAW3V,GAKpC,MAAM,IAAIl7B,MAAM,mCAHhB/+B,EAASi6D,EAIX,EACD,0BCpBH,SAAS9qD,IAA2Q,OAA9PA,EAAWnQ,OAAOoQ,QAAU,SAAUC,GAAU,IAAK,IAAI1E,EAAI,EAAGA,EAAIhL,UAAU4K,OAAQI,IAAK,CAAE,IAAI2E,EAAS3P,UAAUgL,GAAI,IAAK,IAAI7L,KAAOwQ,EAActQ,OAAOuQ,UAAUC,eAAeC,KAAKH,EAAQxQ,KAAQuQ,EAAOvQ,GAAOwQ,EAAOxQ,GAAU,CAAE,OAAOuQ,CAAQ,EAAUF,EAASO,MAAM9P,KAAMD,UAAY,CAOrT,MAAMw+F,EAAehhG,IAC1B,IAAI,MACF4L,EAAK,KACLw0F,EAAI,MACJr8F,EAAK,gBACLs8F,EAAe,MACfn8F,EAAK,eACL8P,EAAc,OACdjR,EAAM,QACNC,EAAO,QACP8Q,EAAO,kBACPmtF,KACG3/C,GACDthD,EACJ,OAAoBE,EAAAA,cAAoBqoD,EAAAA,EAAYv2C,EAAS,CAAC,EAAGsvC,EAAM,CACrE39C,KAAMiI,EAAMjI,KACZiB,KAAMgH,EAAMhH,KACZb,OAAOu8F,EAAAA,EAAAA,GAASF,EAAMr8F,GACtBG,OAAOq8F,EAAAA,EAAAA,GAAQH,EAAMl8F,EAAOm8F,GAC5BvsF,SAASy7C,EAAAA,EAAAA,GAAU6wC,EAAMtsF,EAASmtF,GAClCjtF,gBAAgBwsF,EAAAA,EAAAA,GAAkBJ,EAAMpsF,EAAgBjQ,GACxDf,SAASy9F,EAAAA,EAAAA,GAAmB70F,EAAO5I,GACnCH,SAAUk+F,EAAoBn1F,GAC9B7I,QAAQ49F,EAAAA,EAAAA,GAAkB/0F,EAAO7I,GACjCnB,MAAOgK,EAAMhK,QACZ,EAELo/F,EAAa9+F,UAAY,CAEvB0J,MAAOg1F,EAAAA,GAAcp5F,WAGrB44F,KAAMS,EAAAA,GAAar5F,WACnBzD,MAAO5B,IAAAA,KACP2R,QAAS3R,IAAAA,KACT8+F,kBAAmB9+F,IAAAA,KACnBk+F,gBAAiBl+F,IAAAA,KACjB+B,MAAO/B,IAAAA,KACP6R,eAAgB7R,IAAAA,OAChBY,OAAQZ,IAAAA,KACRa,QAASb,IAAAA,6KC3CX,MAAMuN,EAAS,CAAC,yDAA0D,2BAA2BpQ,OAAOC,EAAAA,EAAOC,QAAS,MAAO,yCAAyCF,OAAOC,EAAAA,EAAOE,MAAO,MAAO,mCAAmCH,OAAOC,EAAAA,EAAO+c,QAAS,MAAO,oCAAoChd,OAAOC,EAAAA,EAAOkB,QAAS,MAAO,iCAAiCnB,OAAOmF,EAAAA,EAAMV,MAAO,MAAO,iCAAiCzE,OAAOmF,EAAAA,EAAMP,MAAO,MAAO,mCAAmC5E,OAAOmF,EAAAA,EAAMN,QAAS,MAAO,qIAE5f,SAAS+8F,EAAalhG,GAC3B,IAAI,UACFC,GACED,EACJ,OAAoBE,EAAAA,cAAoB,MAAO,CAC7CE,MAAO,6BACPD,QAAS,YACTF,UAAW,kBAAoB,OAAOX,OAAOoQ,EAAOrP,QAAU,KAAOJ,GAAa,KACpEC,EAAAA,cAAoB,SAAU,CAC5CqE,GAAI,IACJ48F,GAAI,IACJh7B,EAAG,IACHlmE,UAAW,kBAAoB,OAAOX,OAAOoQ,EAAOrP,QAAzC,gBACIH,EAAAA,cAAoB,OAAQ,CAC3CgB,EAAG,wQACHjB,UAAW,kBAAoB,OAAOX,OAAOoQ,EAAOrP,QAAzC,qBACIH,EAAAA,cAAoB,OAAQ,CAC3CgB,EAAG,sRACHjB,UAAW,kBAAoB,OAAOX,OAAOoQ,EAAOrP,QAAzC,mBACIH,EAAAA,cAAoB,SAAU,CAC7CqE,GAAI,IACJ48F,GAAI,IACJh7B,EAAG,IACHlmE,UAAW,kBAAoB,OAAOX,OAAOoQ,EAAOrP,QAAzC,WACIH,EAAAA,cAAoBI,EAAAA,QAAW,CAC9Ca,GAAI,cACH,CAAC,gDAA8DjB,EAAAA,cAAoBI,EAAAA,QAAW,CAC/Fa,GAAIuO,EAAOrP,QACVqP,GACL,CAIO,SAAS0xF,EAAW//F,GACzB,IAAI,UACFpB,GACEoB,EACJ,OAAoBnB,EAAAA,cAAoB,MAAO,CAC7CE,MAAO,6BACPD,QAAS,YACTF,UAAW,kBAAoB,OAAOX,OAAOoQ,EAAOrP,QAAU,KAAOJ,GAAa,KACpEC,EAAAA,cAAoB,SAAU,CAC5CqE,GAAI,IACJ48F,GAAI,IACJh7B,EAAG,IACHlmE,UAAW,kBAAoB,OAAOX,OAAOoQ,EAAOrP,QAAzC,gBACIH,EAAAA,cAAoB,OAAQ,CAC3CgB,EAAG,kRACHjB,UAAW,kBAAoB,OAAOX,OAAOoQ,EAAOrP,QAAzC,qBACIH,EAAAA,cAAoB,OAAQ,CAC3CgB,EAAG,sRACHjB,UAAW,kBAAoB,OAAOX,OAAOoQ,EAAOrP,QAAzC,mBACIH,EAAAA,cAAoB,SAAU,CAC7CqE,GAAI,IACJ48F,GAAI,IACJh7B,EAAG,IACHlmE,UAAW,kBAAoB,OAAOX,OAAOoQ,EAAOrP,QAAzC,WACIH,EAAAA,cAAoBI,EAAAA,QAAW,CAC9Ca,GAAI,cACH,CAAC,gDAA8DjB,EAAAA,cAAoBI,EAAAA,QAAW,CAC/Fa,GAAIuO,EAAOrP,QACVqP,GACL,CClEA,SAASjO,EAAgBC,EAAKC,EAAKC,GAAiK,OAApJD,KAAOD,EAAOG,OAAOC,eAAeJ,EAAKC,EAAK,CAAEC,MAAOA,EAAOG,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBP,EAAIC,GAAOC,EAAgBF,CAAK,CDGhNgO,EAAOrP,OAAS,aA+BhB6gG,EAAah/F,UAAY,CACvBjC,UAAWkC,IAAAA,QAgCbi/F,EAAWl/F,UAAY,CACrBjC,UAAWkC,IAAAA,QC5Db,MAAMk/F,UAAch/F,EAAAA,UAClBC,WAAAA,GACEC,SAASC,WAETf,EAAgBgB,KAAM,OAAoBC,EAAAA,EAAAA,cAE1CjB,EAAgBgB,KAAM,gBAAgBE,IAChCF,KAAKG,MAAMC,UACbJ,KAAKG,MAAMC,SAASJ,KAAKK,uBAAwBH,EACnD,IAGFlB,EAAgBgB,KAAM,cAAcE,IAC9BF,KAAKG,MAAMG,QACbN,KAAKG,MAAMG,OAAON,KAAKK,uBAAwBH,EACjD,IAGFlB,EAAgBgB,KAAM,eAAeE,IAC/BF,KAAKG,MAAMI,SACbP,KAAKG,MAAMI,QAAQP,KAAKK,uBAAwBH,EAClD,IAGFlB,EAAgBgB,KAAM,iBAAiBE,IACjCF,KAAKG,MAAMK,WACbR,KAAKG,MAAMK,UAAUR,KAAKK,uBAAwBH,EACpD,GAEJ,CAEAO,iBAAAA,GACMT,KAAKG,MAAMO,cACbV,KAAKW,IAAIC,QAAQC,OAErB,CAEAR,oBAAAA,GACE,MAAO,CACLlB,MAAOa,KAAKG,MAAMhB,MAClB+B,KAAMlB,KAAKG,MAAMe,KACjBC,SAAUnB,KAAKG,MAAMgB,QAEzB,CAEAC,MAAAA,GACE,MAAM,QACJD,GAAU,EAAK,UACf3D,EAAS,SACT6D,EAAQ,MACRC,EAAK,MACLC,EAAK,KACLL,EAAI,SACJM,EAAQ,MACRC,EAAK,MACLtC,EAAK,QACLuC,EAAO,MACPC,EAAK,SACLC,GACE5B,KAAKG,MACH0B,EAAUC,IAAG,CACjBX,UACAE,WACAI,QACAH,QACAI,YAEF,OAAoBjE,EAAAA,cAAoB,QAAS,CAC/C,YAAamE,EACbpE,UAAWK,EAAAA,QAAUC,QAAQ,CAAC,CAAC,aAAc,CAAChB,EAAAA,EAAOiF,QAASC,EAAAA,EAAMX,SAAUE,EAAQU,EAAAA,EAAQC,IAAM,EAAGF,EAAAA,EAAMnB,UAAY,KAAOiB,IAAGtE,EAAW,CAC5I6D,WACAM,WACI,KACQlE,EAAAA,cAAoB,QAAS,CAC3C0E,KAAM,QACNxB,IAAKX,KAAKW,IACVO,KAAMA,EACN/B,MAAOA,EACPgC,QAASA,EACTE,SAAUA,EACVG,SAAUA,EACVpB,SAAUJ,KAAKoC,aACf7B,QAASP,KAAKqC,YACd7B,UAAWR,KAAKsC,cAChBhC,OAAQN,KAAKuC,WACb/E,UAAWK,EAAAA,QAAUC,QAAQ,CAAC,CAAC,aAAc,CAAChB,EAAAA,EAAOiF,QAASC,EAAAA,EAAMX,SAAUE,EAAQU,EAAAA,EAAQC,IAAM,EAAGF,EAAAA,EAAMnB,YAC9FpD,EAAAA,cAAoB,MAAO,CAC1CD,UAAWK,EAAAA,QAAUC,QAAQ,CAAC,CAAC,aAAc,CAAChB,EAAAA,EAAOiF,QAASC,EAAAA,EAAMX,SAAUE,EAAQU,EAAAA,EAAQC,IAAM,EAAGF,EAAAA,EAAMnB,UAAY,KAAOiB,IAAG,OAAQ,CACzIH,WACI,KACLA,EAAqBlE,EAAAA,cAAoBkhG,EAAY,CACtDnhG,UAAWqE,IACKpE,EAAAA,cAAoBghG,EAAc,CAClDjhG,UAAWqE,KACRN,EAAoB9D,EAAAA,cAAoBI,EAAAA,QAAW,CACtDa,GAAI,aACJZ,QAAS,CAAChB,EAAAA,EAAOiF,QAASC,EAAAA,EAAMX,SAAUE,EAAQU,EAAAA,EAAQC,IAAM,EAAGF,EAAAA,EAAMnB,QACxE,CAAC,mZAAmZhE,OAAOC,EAAAA,EAAOiF,QAAS,sCAAuC,6EAA8E,wEAAwElF,OAAOmF,EAAAA,EAAMX,SAAU,MAAO,mGAAoG,uGAAwG,wIAAwIxE,OAAO0E,EAAQU,EAAAA,EAAQC,IAAM,EAAG,iEAAkE,iGAAkG,iGAAiGrF,OAAOmF,EAAAA,EAAMnB,MAAO,4BACxxC,EAIF+9F,EAAMp8F,aAAe,CACnBZ,SAAU,sBAEZg9F,EAAMn/F,UAAY,CAChB0B,QAASzB,IAAAA,KACTlC,UAAWkC,IAAAA,OACXkC,SAAUlC,IAAAA,OACViC,MAAOjC,IAAAA,KACP2B,SAAU3B,IAAAA,KAGV4B,MAAOqB,EAAAA,eACPjC,aAAchB,IAAAA,KACd6B,MAAO7B,IAAAA,KAGPwB,KAAMxB,IAAAA,OACN8B,SAAU9B,IAAAA,OAGV+B,MAAOkB,EAAAA,eAGPxD,MAAOO,IAAAA,OAGPgC,QAASiB,EAAAA,eAGTrC,OAAQZ,IAAAA,KAGRU,SAAUV,IAAAA,KAGVa,QAASb,IAAAA,KAGTc,UAAWd,IAAAA,8ECtJb,SAAS6P,IAA2Q,OAA9PA,EAAWnQ,OAAOoQ,QAAU,SAAUC,GAAU,IAAK,IAAI1E,EAAI,EAAGA,EAAIhL,UAAU4K,OAAQI,IAAK,CAAE,IAAI2E,EAAS3P,UAAUgL,GAAI,IAAK,IAAI7L,KAAOwQ,EAActQ,OAAOuQ,UAAUC,eAAeC,KAAKH,EAAQxQ,KAAQuQ,EAAOvQ,GAAOwQ,EAAOxQ,GAAU,CAAE,OAAOuQ,CAAQ,EAAUF,EAASO,MAAM9P,KAAMD,UAAY,CAOrT,MAAM8+F,EAAethG,IAC1B,IAAI,MACF+D,EAAK,MACL6H,EAAK,KACLw0F,EAAI,gBACJC,EAAe,MACfn8F,EAAK,eACL8P,EAAc,OACdjR,EAAM,QACNC,KACGs+C,GACDthD,EACJ,OAAoBE,EAAAA,cAAoBmhG,EAAOrvF,EAAS,CAAC,EAAGsvC,EAAM,CAChE39C,KAAMiI,EAAMjI,KACZC,QAASgI,EAAMhI,QACfhC,MAAOgK,EAAMhK,MACbmC,OAAOu8F,EAAAA,EAAAA,GAASF,EAAMr8F,GACtBG,OAAOq8F,EAAAA,EAAAA,GAAQH,EAAMl8F,EAAOm8F,GAC5BrsF,gBAAgBwsF,EAAAA,EAAAA,GAAkBJ,EAAMpsF,EAAgBjQ,GACxDf,SAASy9F,EAAAA,EAAAA,GAAmB70F,EAAO5I,GACnCH,UAAU69F,EAAAA,EAAAA,GAA0B90F,GACpC7I,QAAQ49F,EAAAA,EAAAA,GAAkB/0F,EAAO7I,KAChC,EAELu+F,EAAap/F,UAAY,CAEvB0J,MAAOg1F,EAAAA,GAAcp5F,WAGrB44F,KAAMS,EAAAA,GAAar5F,WACnBzD,MAAO5B,IAAAA,KACPk+F,gBAAiBl+F,IAAAA,KACjB+B,MAAO/B,IAAAA,KACP6R,eAAgB7R,IAAAA,OAChBY,OAAQZ,IAAAA,KACRa,QAASb,IAAAA,6KC1CX,MAAMo/F,EAA4BvhG,IAChC,IAAI,SACF6C,GACE7C,EACJ,OAAOqB,IACL,IAAI,SACF2L,GACE3L,EACJwB,EAASmK,EAAS,CACnB,0BCTH,SAASgF,IAA2Q,OAA9PA,EAAWnQ,OAAOoQ,QAAU,SAAUC,GAAU,IAAK,IAAI1E,EAAI,EAAGA,EAAIhL,UAAU4K,OAAQI,IAAK,CAAE,IAAI2E,EAAS3P,UAAUgL,GAAI,IAAK,IAAI7L,KAAOwQ,EAActQ,OAAOuQ,UAAUC,eAAeC,KAAKH,EAAQxQ,KAAQuQ,EAAOvQ,GAAOwQ,EAAOxQ,GAAU,CAAE,OAAOuQ,CAAQ,EAAUF,EAASO,MAAM9P,KAAMD,UAAY,CAOrT,MAAMg/F,EAAsBxhG,IACjC,IAAI,MACF+D,EAAK,MACL6H,EAAK,QACLkI,EAAO,KACPssF,EAAI,OACJr9F,EAAM,QACNC,EAAO,QACPyO,EAAO,kBACPwvF,EAAiB,gBACjBZ,EAAe,MACfn8F,EAAK,eACL8P,KACGstC,GACDthD,EACJ,OAAoBE,EAAAA,cAAoBmc,EAAAA,EAAmBrK,EAAS,CAAC,EAAGsvC,EAAM,CAC5E39C,KAAMiI,EAAMjI,KACZI,OAAOu8F,EAAAA,EAAAA,GAASF,EAAMr8F,GACtBG,OAAOq8F,EAAAA,EAAAA,GAAQH,EAAMl8F,EAAOm8F,GAC5BvsF,SAASy7C,EAAAA,EAAAA,GAAU6wC,EAAMtsF,EAASmtF,GAClCjtF,gBAAgBwsF,EAAAA,EAAAA,GAAkBJ,EAAMpsF,EAAgBjQ,GACxDf,SAASy9F,EAAAA,EAAAA,GAAmB70F,EAAO5I,GACnCH,SAAU0+F,EAA0B31F,GACpC7I,QAAQ49F,EAAAA,EAAAA,GAAkB/0F,EAAO7I,GACjCiK,SAAUpB,EAAMhK,OAAS,KACvB6P,EAAQ7L,KAAI0T,GAAuBpZ,EAAAA,cAAoBwN,EAAAA,EAAoBsE,EAAS,CACtFrQ,IAAK2X,EAAO1X,OACX0X,MAAU,EAEfkoF,EAAoBt/F,UAAY,CAE9B0J,MAAOg1F,EAAAA,GAAcp5F,WAGrB44F,KAAMS,EAAAA,GAAar5F,WACnBiK,QAAStP,IAAAA,QAAkBA,IAAAA,MAAgB,CACzC6B,MAAO7B,IAAAA,OACPP,MAAOO,IAAAA,UACLqF,WACJzD,MAAO5B,IAAAA,KACP2R,QAAS3R,IAAAA,KACT8+F,kBAAmB9+F,IAAAA,KACnBk+F,gBAAiBl+F,IAAAA,KACjB+B,MAAO/B,IAAAA,KACP6R,eAAgB7R,IAAAA,OAChBY,OAAQZ,IAAAA,KACRa,QAASb,IAAAA,yECrDX,MAAMw+F,EAAoBA,CAAC/0F,EAAO7I,IAAW,CAAC+5D,EAASh7C,KACrDlW,EAAM7I,OAAO+e,GAET/e,GAA4B,oBAAXA,GACnBA,EAAO+5D,EAASh7C,EAClB,qECLF,MAAM2+E,EAAqBA,CAAC70F,EAAO5I,IAAY,CAAC85D,EAASh7C,KACvDlW,EAAM5I,QAAQ8e,GAEV9e,GAA8B,oBAAZA,GACpBA,EAAQ85D,EAASh7C,EACnB,qECLF,MAAM4+E,EAA4BA,CAAC90F,EAAO/I,IAAa,CAACi6D,EAASh7C,KAC/DlW,EAAM/I,SAASif,GAEXjf,GAAgC,oBAAbA,GACrBA,EAASi6D,EAASh7C,EACpB,iFCHF,MAAM0+E,EAAoBA,CAACJ,EAAMpsF,EAAgBjQ,KAC/C,GAAIiQ,EACF,OAAOA,EAGT,IAAIssF,EAAAA,EAAAA,GAASF,EAAMr8F,GAAQ,CACzB,GAAIq8F,EAAKr8F,MACP,OAAOq8F,EAAKr8F,MAGd,GAAIq8F,EAAKqB,YACP,OAAOrB,EAAKqB,WAEhB,CAEA,MAAO,EAAE,qECjBX,MAAMnB,EAAWA,CAACF,EAAMr8F,IAAUA,GAASq8F,EAAKsB,SAAWtB,EAAKuB,2ECAhE,MAAMpyC,EAAYA,CAAC6wC,EAAMtsF,EAASmtF,IAAsBntF,GAAWmtF,GAAqBb,EAAKwB,8ECA7F,MAAMrB,EAAUA,CAACH,EAAMl8F,EAAOm8F,IAAoBn8F,GAASm8F,GAAmBD,EAAKsB,SAAWtB,EAAKl8F,yHCCpE/B,IAAAA,QAAkBA,IAAAA,MAAgB,CAC/D6B,MAAO7B,IAAAA,OAAiBqF,WACxB5F,MAAOO,IAAAA,OAAiBqF,cAF1B,MAIMo5F,EAAgBz+F,IAAAA,MAAgB,CACpCwB,KAAMxB,IAAAA,OAAiBqF,WACvB3E,SAAUV,IAAAA,KAAeqF,WACzB5F,MAAOO,IAAAA,IACPY,OAAQZ,IAAAA,KACRa,QAASb,IAAAA,OASL0+F,EAAe1+F,IAAAA,MAAgB,CACnC4B,MAAO5B,IAAAA,OACPw/F,QAASx/F,IAAAA,KACTu/F,QAASv/F,IAAAA,KACT+B,MAAO/B,IAAAA,KACPy/F,WAAYz/F,IAAAA,64vECmBd,MAAMoH,EAAY,UAClBC,EAAAA,EAAKC,aAAa,KAAMF,EAAWG,GACnCF,EAAAA,EAAKC,aAAa,QAASF,EAAWI,GACtCH,EAAAA,EAAKC,aAAa,MAAOF,EAAWM,GACpCL,EAAAA,EAAKC,aAAa,KAAMF,EAAWO,GACnCN,EAAAA,EAAKC,aAAa,KAAMF,EAAWQ,GACnCP,EAAAA,EAAKC,aAAa,KAAMF,EAAWS,GACnCR,EAAAA,EAAKC,aAAa,KAAMF,EAAWU,GACnCT,EAAAA,EAAKC,aAAa,SAAUF,EAAWW,GACvCV,EAAAA,EAAKC,aAAa,KAAMF,EAAWY,GACnCX,EAAAA,EAAKC,aAAa,KAAMF,EAAWa,GACnCZ,EAAAA,EAAKC,aAAa,KAAMF,EAAWc,GACnCb,EAAAA,EAAKC,aAAa,QAASF,EAAWs4F,GACtCr4F,EAAAA,EAAKC,aAAa,KAAMF,EAAWe,GACnCd,EAAAA,EAAKC,aAAa,KAAMF,EAAWgB,GACnCf,EAAAA,EAAKC,aAAa,KAAMF,EAAWiB,GACnChB,EAAAA,EAAKC,aAAa,KAAMF,EAAWkB,GACnCjB,EAAAA,EAAKC,aAAa,MAAOF,EAAWmB,GACpClB,EAAAA,EAAKC,aAAa,KAAMF,EAAWoB,GACnCnB,EAAAA,EAAKC,aAAa,KAAMF,EAAWqB,GACnCpB,EAAAA,EAAKC,aAAa,QAASF,EAAWsB,GACtCrB,EAAAA,EAAKC,aAAa,KAAMF,EAAWuB,GACnCtB,EAAAA,EAAKC,aAAa,KAAMF,EAAWwB,GACnCvB,EAAAA,EAAKC,aAAa,KAAMF,EAAW21F,GACnC11F,EAAAA,EAAKC,aAAa,KAAMF,EAAWyB,GACnCxB,EAAAA,EAAKC,aAAa,MAAOF,EAAW0B,GACpCzB,EAAAA,EAAKC,aAAa,KAAMF,EAAW2B,GACnC1B,EAAAA,EAAKC,aAAa,KAAMF,EAAW4B,GACnC3B,EAAAA,EAAKC,aAAa,KAAMF,EAAW6B,GACnC5B,EAAAA,EAAKC,aAAa,UAAWF,EAAW8B,GACxC7B,EAAAA,EAAKC,aAAa,aAAcF,EAAW+B,GAC3C9B,EAAAA,EAAKC,aAAa,aAAcF,EAAWgC,GAC3C/B,EAAAA,EAAKC,aAAa,KAAMF,EAAWiC,GACnChC,EAAAA,EAAKC,aAAa,KAAMF,EAAWkC,GACnCjC,EAAAA,EAAKC,aAAa,QAASF,EAAWmC,GACtC,MAAelC,EAAI,EC9EZ,MAAMs4F,EAAUlgG,GAA0B,qBAAVA,GAAmC,OAAVA,GAA4B,KAAVA,ECE5EmgG,EAAkBv4F,EAAK0F,EAAE,0BAEzB8yF,EAAWpgG,GAASkgG,EAAQlgG,GAASmgG,OAAkBhqF,qECD7D,SAASkqF,EAAUjiG,GACjB,IAAI,MACF+H,EAAK,SACL1D,GACErE,EACJ,OAAoBE,EAAAA,cAAoB,MAAO,CAC7Cc,OAAQ,GACRb,QAAS,YACTY,MAAO,GACPX,MAAO,6BACP2H,MAAOA,EACP,YAAa1D,GACCnE,EAAAA,cAAoB,OAAQ,CAC1CgB,EAAG,6GACH8G,KAAM,eACNC,SAAU,YAEd,CAEAg6F,EAAU//F,UAAY,CACpB6F,MAAO5F,IAAAA,OACPkC,SAAUlC,IAAAA,QAEZ,wECvBA,SAAS+/F,EAAgBliG,GACvB,IAAI,MACF+H,EAAK,SACL1D,GACErE,EACJ,OAAoBE,EAAAA,cAAoB,MAAO,CAC7Cc,OAAQ,GACRb,QAAS,YACTY,MAAO,GACPX,MAAO,6BACP2H,MAAOA,EACP,YAAa1D,GACCnE,EAAAA,cAAoB,OAAQ,CAC1CgB,EAAG,uUACH8G,KAAM,iBAEV,CAEAk6F,EAAgBhgG,UAAY,CAC1B6F,MAAO5F,IAAAA,OACPkC,SAAUlC,IAAAA,QAEZ,yECtBA,SAASggG,EAAqBniG,GAC5B,IAAI,MACF+H,EAAK,SACL1D,GACErE,EACJ,OAAoBE,EAAAA,cAAoB,MAAO,CAC7Ca,MAAO,GACPC,OAAQ,GACRb,QAAS,YACT6H,KAAM,OACN5H,MAAO,6BACP2H,MAAOA,EACP,YAAa1D,GACCnE,EAAAA,cAAoB,OAAQ,CAC1C+H,SAAU,UACVC,SAAU,UACVhH,EAAG,iKACH8G,KAAM,iBAEV,CAEAm6F,EAAqBjgG,UAAY,CAC/B6F,MAAO5F,IAAAA,OACPkC,SAAUlC,IAAAA,QAEZ,wECzBA,SAASigG,EAAiBpiG,GACxB,IAAI,MACF+H,EAAK,SACL1D,GACErE,EACJ,OAAoBE,EAAAA,cAAoB,MAAO,CAC7Cc,OAAQ,GACRb,QAAS,YACTY,MAAO,GACPX,MAAO,6BACP2H,MAAOA,EACP,YAAa1D,GACCnE,EAAAA,cAAoB,OAAQ,CAC1CgB,EAAG,sGACH8G,KAAM,iBAEV,CAEAo6F,EAAiBlgG,UAAY,CAC3B6F,MAAO5F,IAAAA,OACPkC,SAAUlC,IAAAA,QAEZ,yECtBA,SAASkgG,EAAiBriG,GACxB,IAAI,MACF+H,EAAK,SACL1D,GACErE,EACJ,OAAoBE,EAAAA,cAAoB,MAAO,CAC7Cc,OAAQ,GACRb,QAAS,YACTY,MAAO,GACPX,MAAO,6BACP2H,MAAOA,EACP,YAAa1D,GACCnE,EAAAA,cAAoB,OAAQ,CAC1CgB,EAAG,4JACH8G,KAAM,iBAEV,CAEAq6F,EAAiBngG,UAAY,CAC3B6F,MAAO5F,IAAAA,OACPkC,SAAUlC,IAAAA,QAEZ,yECtBA,SAASmgG,EAAkBtiG,GACzB,IAAI,MACF+H,EAAK,SACL1D,GACErE,EACJ,OAAoBE,EAAAA,cAAoB,MAAO,CAC7Cc,OAAQ,GACRb,QAAS,YACTY,MAAO,GACPX,MAAO,6BACP2H,MAAOA,EACP,YAAa1D,GACCnE,EAAAA,cAAoB,OAAQ,CAC1CgB,EAAG,2JACH8G,KAAM,iBAEV,CAEAs6F,EAAkBpgG,UAAY,CAC5B6F,MAAO5F,IAAAA,OACPkC,SAAUlC,IAAAA,QAEZ,yECtBA,SAASogG,EAAeviG,GACtB,IAAI,MACF+H,EAAK,SACL1D,GACErE,EACJ,OAAoBE,EAAAA,cAAoB,MAAO,CAC7Cc,OAAQ,GACRb,QAAS,YACTY,MAAO,GACPX,MAAO,6BACP2H,MAAOA,EACP,YAAa1D,GACCnE,EAAAA,cAAoB,OAAQ,CAC1CgB,EAAG,gKACH8G,KAAM,iBAEV,CAEAu6F,EAAergG,UAAY,CACzB6F,MAAO5F,IAAAA,OACPkC,SAAUlC,IAAAA,QAEZ,yECtBA,SAASqgG,EAAWxiG,GAClB,IAAI,MACF+H,EAAK,SACL1D,GACErE,EACJ,OAAoBE,EAAAA,cAAoB,MAAO,CAC7Cc,OAAQ,GACRb,QAAS,YACTY,MAAO,GACPX,MAAO,6BACP2H,MAAOA,EACP,YAAa1D,GACCnE,EAAAA,cAAoB,OAAQ,CAC1CgB,EAAG,gHACH8G,KAAM,iBAEV,CAEAw6F,EAAWtgG,UAAY,CACrB6F,MAAO5F,IAAAA,OACPkC,SAAUlC,IAAAA,QAEZ,yECtBA,SAASsgG,EAAUziG,GACjB,IAAI,MACF+H,EAAK,SACL1D,GACErE,EACJ,OAAoBE,EAAAA,cAAoB,MAAO,CAC7Cc,OAAQ,GACRb,QAAS,YACTY,MAAO,GACPX,MAAO,6BACP2H,MAAOA,EACP,YAAa1D,GACCnE,EAAAA,cAAoB,IAAK,CACvC8H,KAAM,gBACQ9H,EAAAA,cAAoB,OAAQ,CAC1CgB,EAAG,iFACYhB,EAAAA,cAAoB,OAAQ,CAC3CgB,EAAG,kCAEP,CAEAuhG,EAAUvgG,UAAY,CACpB6F,MAAO5F,IAAAA,OACPkC,SAAUlC,IAAAA,QAEZ,yECzBA,SAASugG,EAAsB1iG,GAC7B,IAAI,MACF+H,EAAK,SACL1D,GACErE,EACJ,OAAoBE,EAAAA,cAAoB,MAAO,CAC7Cc,OAAQ,GACRb,QAAS,YACTY,MAAO,GACPX,MAAO,6BACP2H,MAAOA,EACP,YAAa1D,GACCnE,EAAAA,cAAoB,OAAQ,CAC1CgB,EAAG,kOACH8G,KAAM,iBAEV,CAEA06F,EAAsBxgG,UAAY,CAChC6F,MAAO5F,IAAAA,OACPkC,SAAUlC,IAAAA,QAEZ,yECtBA,SAASwgG,EAAW3iG,GAClB,IAAI,MACF+H,EAAK,SACL1D,GACErE,EACJ,OAAoBE,EAAAA,cAAoB,MAAO,CAC7Cc,OAAQ,GACRb,QAAS,YACTY,MAAO,GACPX,MAAO,6BACP2H,MAAOA,EACP,YAAa1D,GACCnE,EAAAA,cAAoB,OAAQ,CAC1CgB,EAAG,yGACH8G,KAAM,iBAEV,CAEA26F,EAAWzgG,UAAY,CACrB6F,MAAO5F,IAAAA,OACPkC,SAAUlC,IAAAA,QAEZ,wECtBA,SAASygG,EAAU5iG,GACjB,IAAI,MACF+H,EAAK,SACL1D,GACErE,EACJ,OAAoBE,EAAAA,cAAoB,MAAO,CAC7Cc,OAAQ,GACRb,QAAS,YACTY,MAAO,GACPX,MAAO,6BACP2H,MAAOA,EACP,YAAa1D,GACCnE,EAAAA,cAAoB,OAAQ,CAC1CgB,EAAG,4HACH8G,KAAM,iBAEV,CAEA46F,EAAU1gG,UAAY,CACpB6F,MAAO5F,IAAAA,OACPkC,SAAUlC,IAAAA,QAEZ,yECtBA,SAAS0gG,EAAY7iG,GACnB,IAAI,MACF+H,EAAK,SACL1D,GACErE,EACJ,OAAoBE,EAAAA,cAAoB,MAAO,CAC7Cc,OAAQ,GACRb,QAAS,YACTY,MAAO,GACPX,MAAO,6BACP2H,MAAOA,EACP,YAAa1D,GACCnE,EAAAA,cAAoB,OAAQ,CAC1CgB,EAAG,yOACH8G,KAAM,iBAEV,CAEA66F,EAAY3gG,UAAY,CACtB6F,MAAO5F,IAAAA,OACPkC,SAAUlC,IAAAA,QAEZ,yECtBA,SAAS2gG,EAAW9iG,GAClB,IAAI,MACF+H,EAAK,SACL1D,GACErE,EACJ,OAAoBE,EAAAA,cAAoB,MAAO,CAC7Cc,OAAQ,GACRb,QAAS,YACTY,MAAO,GACPX,MAAO,6BACP2H,MAAOA,EACP,YAAa1D,GACCnE,EAAAA,cAAoB,OAAQ,CAC1CgB,EAAG,4IACH8G,KAAM,iBAEV,CAEA86F,EAAW5gG,UAAY,CACrB6F,MAAO5F,IAAAA,OACPkC,SAAUlC,IAAAA,QAEZ,yECtBA,SAAS4gG,EAAW/iG,GAClB,IAAI,MACF+H,EAAK,SACL1D,GACErE,EACJ,OAAoBE,EAAAA,cAAoB,MAAO,CAC7Cc,OAAQ,GACRb,QAAS,YACTY,MAAO,GACPX,MAAO,6BACP2H,MAAOA,EACP,YAAa1D,GACCnE,EAAAA,cAAoB,OAAQ,CAC1CgB,EAAG,gIACH8G,KAAM,iBAEV,CAEA+6F,EAAW7gG,UAAY,CACrB6F,MAAO5F,IAAAA,OACPkC,SAAUlC,IAAAA,QAEZ,yECtBA,SAAS6gG,EAAuBhjG,GAC9B,IAAI,MACF+H,EAAK,SACL1D,GACErE,EACJ,OAAoBE,EAAAA,cAAoB,MAAO,CAC7Cc,OAAQ,GACRb,QAAS,YACTY,MAAO,GACPX,MAAO,6BACP2H,MAAOA,EACP,YAAa1D,GACCnE,EAAAA,cAAoB,OAAQ,CAC1CgB,EAAG,yCACH8G,KAAM,eACNC,SAAU,YAEd,CAEA+6F,EAAuB9gG,UAAY,CACjC6F,MAAO5F,IAAAA,OACPkC,SAAUlC,IAAAA,QAEZ,yECvBA,SAAS8gG,EAAuBjjG,GAC9B,IAAI,MACF+H,EAAK,SACL1D,GACErE,EACJ,OAAoBE,EAAAA,cAAoB,MAAO,CAC7CE,MAAO,6BACPW,MAAO,GACPC,OAAQ,GACRb,QAAS,YACT4H,MAAOA,EACP,YAAa1D,GACCnE,EAAAA,cAAoB,OAAQ,CAC1C8H,KAAM,eACN9G,EAAG,+CAEP,CAEA+hG,EAAuB/gG,UAAY,CACjC6F,MAAO5F,IAAAA,OACPkC,SAAUlC,IAAAA,QAEZ,yECtBA,SAAS+gG,EAA8BljG,GACrC,IAAI,MACF+H,EAAK,SACL1D,GACErE,EACJ,OAAoBE,EAAAA,cAAoB,MAAO,CAC7Cc,OAAQ,GACRb,QAAS,YACTY,MAAO,GACPX,MAAO,6BACP2H,MAAOA,EACP,YAAa1D,GACCnE,EAAAA,cAAoB,IAAK,CACvC8H,KAAM,eACNC,SAAU,WACI/H,EAAAA,cAAoB,OAAQ,CAC1CgB,EAAG,sBACYhB,EAAAA,cAAoB,OAAQ,CAC3CgB,EAAG,0DAEP,CAEAgiG,EAA8BhhG,UAAY,CACxC6F,MAAO5F,IAAAA,OACPkC,SAAUlC,IAAAA,QAEZ,wEC1BA,SAASghG,EAA8BnjG,GACrC,IAAI,MACF+H,EAAK,SACL1D,GACErE,EACJ,OAAoBE,EAAAA,cAAoB,MAAO,CAC7CE,MAAO,6BACPW,MAAO,GACPC,OAAQ,GACRb,QAAS,YACT4H,MAAOA,EACP,YAAa1D,GACCnE,EAAAA,cAAoB,OAAQ,CAC1C8H,KAAM,eACN9G,EAAG,oFAEP,CAEAiiG,EAA8BjhG,UAAY,CACxC6F,MAAO5F,IAAAA,OACPkC,SAAUlC,IAAAA,QAEZ,yECtBA,SAASihG,EAAsBpjG,GAC7B,IAAI,MACF+H,EAAK,SACL1D,GACErE,EACJ,OAAoBE,EAAAA,cAAoB,MAAO,CAC7Cc,OAAQ,GACRb,QAAS,YACTY,MAAO,GACPX,MAAO,6BACP2H,MAAOA,EACP,YAAa1D,GACCnE,EAAAA,cAAoB,OAAQ,CAC1CgB,EAAG,yCACH8G,KAAM,eACNC,SAAU,YAEd,CAEAm7F,EAAsBlhG,UAAY,CAChC6F,MAAO5F,IAAAA,OACPkC,SAAUlC,IAAAA,QAEZ,yECvBA,SAASkhG,EAAsBrjG,GAC7B,IAAI,MACF+H,EAAK,SACL1D,GACErE,EACJ,OAAoBE,EAAAA,cAAoB,MAAO,CAC7CE,MAAO,6BACPW,MAAO,GACPC,OAAQ,GACRb,QAAS,YACT4H,MAAOA,EACP,YAAa1D,GACCnE,EAAAA,cAAoB,OAAQ,CAC1C8H,KAAM,eACN9G,EAAG,uEAEP,CAEAmiG,EAAsBnhG,UAAY,CAChC6F,MAAO5F,IAAAA,OACPkC,SAAUlC,IAAAA,QAEZ,yECtBA,SAASmhG,EAA6BtjG,GACpC,IAAI,MACF+H,EAAK,SACL1D,GACErE,EACJ,OAAoBE,EAAAA,cAAoB,MAAO,CAC7Cc,OAAQ,GACRb,QAAS,YACTY,MAAO,GACPX,MAAO,6BACP2H,MAAOA,EACP,YAAa1D,GACCnE,EAAAA,cAAoB,IAAK,CACvC8H,KAAM,eACNC,SAAU,WACI/H,EAAAA,cAAoB,OAAQ,CAC1CgB,EAAG,sBACYhB,EAAAA,cAAoB,OAAQ,CAC3CgB,EAAG,2EAEP,CAEAoiG,EAA6BphG,UAAY,CACvC6F,MAAO5F,IAAAA,OACPkC,SAAUlC,IAAAA,QAEZ,yEC1BA,SAASohG,EAA6BvjG,GACpC,IAAI,MACF+H,EAAK,SACL1D,GACErE,EACJ,OAAoBE,EAAAA,cAAoB,MAAO,CAC7CE,MAAO,6BACPW,MAAO,GACPC,OAAQ,GACRb,QAAS,YACT4H,MAAOA,EACP,YAAa1D,GACCnE,EAAAA,cAAoB,OAAQ,CAC1C8H,KAAM,eACN9G,EAAG,mHAEP,CAEAqiG,EAA6BrhG,UAAY,CACvC6F,MAAO5F,IAAAA,OACPkC,SAAUlC,IAAAA,QAEZ,yECtBA,SAASqhG,EAAyBxjG,GAChC,IAAI,MACF+H,EAAK,SACL1D,GACErE,EACJ,OAAoBE,EAAAA,cAAoB,MAAO,CAC7Cc,OAAQ,GACRb,QAAS,YACTY,MAAO,GACPX,MAAO,6BACP2H,MAAOA,EACP,YAAa1D,GACCnE,EAAAA,cAAoB,IAAK,CACvC8H,KAAM,eACNC,SAAU,WACI/H,EAAAA,cAAoB,OAAQ,CAC1CgB,EAAG,sBACYhB,EAAAA,cAAoB,OAAQ,CAC3CgB,EAAG,4CAEP,CAEAsiG,EAAyBthG,UAAY,CACnC6F,MAAO5F,IAAAA,OACPkC,SAAUlC,IAAAA,QAEZ,yEC1BA,SAASshG,EAAyBzjG,GAChC,IAAI,MACF+H,EAAK,SACL1D,GACErE,EACJ,OAAoBE,EAAAA,cAAoB,MAAO,CAC7CE,MAAO,6BACPW,MAAO,GACPC,OAAQ,GACRb,QAAS,YACT4H,MAAOA,EACP,YAAa1D,GACCnE,EAAAA,cAAoB,OAAQ,CAC1C8H,KAAM,eACN9G,EAAG,oEAEP,CAEAuiG,EAAyBvhG,UAAY,CACnC6F,MAAO5F,IAAAA,OACPkC,SAAUlC,IAAAA,QAEZ,yECtBA,SAASuhG,EAA8B1jG,GACrC,IAAI,MACF+H,EAAK,SACL1D,GACErE,EACJ,OAAoBE,EAAAA,cAAoB,MAAO,CAC7Cc,OAAQ,GACRb,QAAS,YACTY,MAAO,GACPX,MAAO,6BACP2H,MAAOA,EACP,YAAa1D,GACCnE,EAAAA,cAAoB,IAAK,CACvC8H,KAAM,eACNC,SAAU,WACI/H,EAAAA,cAAoB,OAAQ,CAC1CgB,EAAG,sBACYhB,EAAAA,cAAoB,OAAQ,CAC3CgB,EAAG,uDAEP,CAEAwiG,EAA8BxhG,UAAY,CACxC6F,MAAO5F,IAAAA,OACPkC,SAAUlC,IAAAA,QAEZ,yEC1BA,SAASwhG,EAA8B3jG,GACrC,IAAI,MACF+H,EAAK,SACL1D,GACErE,EACJ,OAAoBE,EAAAA,cAAoB,MAAO,CAC7CE,MAAO,6BACPW,MAAO,GACPC,OAAQ,GACRb,QAAS,YACT4H,MAAOA,EACP,YAAa1D,GACCnE,EAAAA,cAAoB,OAAQ,CAC1C8H,KAAM,eACN9G,EAAG,qFAEP,CAEAyiG,EAA8BzhG,UAAY,CACxC6F,MAAO5F,IAAAA,OACPkC,SAAUlC,IAAAA,QAEZ,sECtBA,SAASyhG,EAAgC5jG,GACvC,IAAI,MACF+H,EAAK,SACL1D,GACErE,EACJ,OAAoBE,EAAAA,cAAoB,MAAO,CAC7Cc,OAAQ,GACRb,QAAS,YACTY,MAAO,GACPX,MAAO,6BACP2H,MAAOA,EACP,YAAa1D,GACCnE,EAAAA,cAAoB,IAAK,CACvC8H,KAAM,eACNC,SAAU,WACI/H,EAAAA,cAAoB,OAAQ,CAC1CgB,EAAG,sBACYhB,EAAAA,cAAoB,OAAQ,CAC3CgB,EAAG,4EAEP,CAEA0iG,EAAgC1hG,UAAY,CAC1C6F,MAAO5F,IAAAA,OACPkC,SAAUlC,IAAAA,QAEZ,yEC1BA,SAAS0hG,EAAgC7jG,GACvC,IAAI,MACF+H,EAAK,SACL1D,GACErE,EACJ,OAAoBE,EAAAA,cAAoB,MAAO,CAC7CE,MAAO,6BACPW,MAAO,GACPC,OAAQ,GACRb,QAAS,YACT4H,MAAOA,EACP,YAAa1D,GACCnE,EAAAA,cAAoB,OAAQ,CAC1C8H,KAAM,eACN9G,EAAG,gHAEP,CAEA2iG,EAAgC3hG,UAAY,CAC1C6F,MAAO5F,IAAAA,OACPkC,SAAUlC,IAAAA,QAEZ,yECtBA,SAAS2hG,EAAwB9jG,GAC/B,IAAI,MACF+H,EAAK,SACL1D,GACErE,EACJ,OAAoBE,EAAAA,cAAoB,MAAO,CAC7Cc,OAAQ,GACRb,QAAS,YACTY,MAAO,GACPX,MAAO,6BACP2H,MAAOA,EACP,YAAa1D,GACCnE,EAAAA,cAAoB,IAAK,CACvC8H,KAAM,gBACQ9H,EAAAA,cAAoB,OAAQ,CAC1CgB,EAAG,8DACYhB,EAAAA,cAAoB,OAAQ,CAC3CgB,EAAG,wCAEP,CAEA4iG,EAAwB5hG,UAAY,CAClC6F,MAAO5F,IAAAA,OACPkC,SAAUlC,IAAAA,QAEZ,yECzBA,SAAS4hG,EAAwB/jG,GAC/B,IAAI,MACF+H,EAAK,SACL1D,GACErE,EACJ,OAAoBE,EAAAA,cAAoB,MAAO,CAC7CE,MAAO,6BACPW,MAAO,GACPC,OAAQ,GACRb,QAAS,YACT4H,MAAOA,EACP,YAAa1D,GACCnE,EAAAA,cAAoB,OAAQ,CAC1C8H,KAAM,eACN9G,EAAG,kOAEP,CAEA6iG,EAAwB7hG,UAAY,CAClC6F,MAAO5F,IAAAA,OACPkC,SAAUlC,IAAAA,QAEZ,yECtBA,SAAS6hG,EAAuBhkG,GAC9B,IAAI,MACF+H,EAAK,SACL1D,GACErE,EACJ,OAAoBE,EAAAA,cAAoB,MAAO,CAC7Cc,OAAQ,GACRb,QAAS,YACTY,MAAO,GACPX,MAAO,6BACP2H,MAAOA,EACP,YAAa1D,GACCnE,EAAAA,cAAoB,IAAK,CACvC8H,KAAM,eACNC,SAAU,WACI/H,EAAAA,cAAoB,OAAQ,CAC1CgB,EAAG,sBACYhB,EAAAA,cAAoB,OAAQ,CAC3CgB,EAAG,4GACH+G,SAAU,aAEd,CAEA+7F,EAAuB9hG,UAAY,CACjC6F,MAAO5F,IAAAA,OACPkC,SAAUlC,IAAAA,QAEZ,yEC3BA,SAAS8hG,EAAuBjkG,GAC9B,IAAI,MACF+H,EAAK,SACL1D,GACErE,EACJ,OAAoBE,EAAAA,cAAoB,MAAO,CAC7CE,MAAO,6BACPW,MAAO,GACPC,OAAQ,GACRb,QAAS,YACT4H,MAAOA,EACP,YAAa1D,GACCnE,EAAAA,cAAoB,OAAQ,CAC1C8H,KAAM,eACN9G,EAAG,4IAEP,CAEA+iG,EAAuB/hG,UAAY,CACjC6F,MAAO5F,IAAAA,OACPkC,SAAUlC,IAAAA,QAEZ,yECtBA,SAAS+hG,EAA4BlkG,GACnC,IAAI,MACF+H,EAAK,SACL1D,GACErE,EACJ,OAAoBE,EAAAA,cAAoB,MAAO,CAC7Cc,OAAQ,GACRb,QAAS,YACTY,MAAO,GACPX,MAAO,6BACP2H,MAAOA,EACP,YAAa1D,GACCnE,EAAAA,cAAoB,IAAK,CACvC8H,KAAM,eACNC,SAAU,WACI/H,EAAAA,cAAoB,OAAQ,CAC1CgB,EAAG,sBACYhB,EAAAA,cAAoB,IAAK,CACxC+H,SAAU,WACI/H,EAAAA,cAAoB,OAAQ,CAC1CgB,EAAG,iGACYhB,EAAAA,cAAoB,OAAQ,CAC3CgB,EAAG,kGAEP,CAEAgjG,EAA4BhiG,UAAY,CACtC6F,MAAO5F,IAAAA,OACPkC,SAAUlC,IAAAA,QAEZ,yEC9BA,SAASgiG,EAA4BnkG,GACnC,IAAI,MACF+H,EAAK,SACL1D,GACErE,EACJ,OAAoBE,EAAAA,cAAoB,MAAO,CAC7CE,MAAO,6BACPW,MAAO,GACPC,OAAQ,GACRb,QAAS,YACT4H,MAAOA,EACP,YAAa1D,GACCnE,EAAAA,cAAoB,OAAQ,CAC1C8H,KAAM,eACN9G,EAAG,4XAEP,CAEAijG,EAA4BjiG,UAAY,CACtC6F,MAAO5F,IAAAA,OACPkC,SAAUlC,IAAAA,QAEZ,yECtBA,SAASiiG,EAA2BpkG,GAClC,IAAI,MACF+H,EAAK,SACL1D,GACErE,EACJ,OAAoBE,EAAAA,cAAoB,MAAO,CAC7Ca,MAAO,GACPC,OAAQ,GACRb,QAAS,YACT6H,KAAM,OACN5H,MAAO,6BACP2H,MAAOA,EACP,YAAa1D,GACCnE,EAAAA,cAAoB,OAAQ,CAC1C+H,SAAU,UACVC,SAAU,UACVhH,EAAG,+IACH8G,KAAM,iBAEV,CAEAo8F,EAA2BliG,UAAY,CACrC6F,MAAO5F,IAAAA,OACPkC,SAAUlC,IAAAA,QAEZ,yECzBA,SAASkiG,EAA2BrkG,GAClC,IAAI,MACF+H,EAAK,SACL1D,GACErE,EACJ,OAAoBE,EAAAA,cAAoB,MAAO,CAC7Ca,MAAO,GACPC,OAAQ,GACRb,QAAS,YACT6H,KAAM,OACN5H,MAAO,6BACP2H,MAAOA,EACP,YAAa1D,GACCnE,EAAAA,cAAoB,OAAQ,CAC1C+H,SAAU,UACVC,SAAU,UACVhH,EAAG,yGACH8G,KAAM,iBAEV,CAEAq8F,EAA2BniG,UAAY,CACrC6F,MAAO5F,IAAAA,OACPkC,SAAUlC,IAAAA,QAEZ,yECzBA,SAASmiG,EAAsBtkG,GAC7B,IAAI,MACF+H,EAAK,SACL1D,GACErE,EACJ,OAAoBE,EAAAA,cAAoB,MAAO,CAC7Cc,OAAQ,GACRb,QAAS,YACTY,MAAO,GACPX,MAAO,6BACP2H,MAAOA,EACP,YAAa1D,GACCnE,EAAAA,cAAoB,OAAQ,CAC1CgB,EAAG,6HACH8G,KAAM,eACNC,SAAU,YAEd,CAEAq8F,EAAsBpiG,UAAY,CAChC6F,MAAO5F,IAAAA,OACPkC,SAAUlC,IAAAA,QAEZ,yECvBA,SAASoiG,EAAsBvkG,GAC7B,IAAI,MACF+H,EAAK,SACL1D,GACErE,EACJ,OAAoBE,EAAAA,cAAoB,MAAO,CAC7CE,MAAO,6BACPW,MAAO,GACPC,OAAQ,GACRb,QAAS,YACT4H,MAAOA,EACP,YAAa1D,GACCnE,EAAAA,cAAoB,OAAQ,CAC1C8H,KAAM,eACNC,SAAU,UACV/G,EAAG,yKAEP,CAEAqjG,EAAsBriG,UAAY,CAChC6F,MAAO5F,IAAAA,OACPkC,SAAUlC,IAAAA,QAEZ,yECvBA,SAASqiG,EAAwBxkG,GAC/B,IAAI,MACF+H,EAAK,SACL1D,GACErE,EACJ,OAAoBE,EAAAA,cAAoB,MAAO,CAC7Cc,OAAQ,GACRb,QAAS,YACTY,MAAO,GACPX,MAAO,6BACP2H,MAAOA,EACP,YAAa1D,GACCnE,EAAAA,cAAoB,IAAK,CACvC8H,KAAM,eACNC,SAAU,WACI/H,EAAAA,cAAoB,OAAQ,CAC1CgB,EAAG,yHACH+G,SAAU,YACK/H,EAAAA,cAAoB,OAAQ,CAC3CgB,EAAG,iEAEP,CAEAsjG,EAAwBtiG,UAAY,CAClC6F,MAAO5F,IAAAA,OACPkC,SAAUlC,IAAAA,QAEZ,yEC3BA,SAASsiG,EAAwBzkG,GAC/B,IAAI,MACF+H,EAAK,SACL1D,GACErE,EACJ,OAAoBE,EAAAA,cAAoB,MAAO,CAC7CE,MAAO,6BACPW,MAAO,GACPC,OAAQ,GACRb,QAAS,YACT4H,MAAOA,EACP,YAAa1D,GACCnE,EAAAA,cAAoB,OAAQ,CAC1C8H,KAAM,eACN9G,EAAG,4TAEP,CAEAujG,EAAwBviG,UAAY,CAClC6F,MAAO5F,IAAAA,OACPkC,SAAUlC,IAAAA,QAEZ,yECtBA,SAASuiG,EAA0B1kG,GACjC,IAAI,MACF+H,EAAK,SACL1D,GACErE,EACJ,OAAoBE,EAAAA,cAAoB,MAAO,CAC7Cc,OAAQ,GACRb,QAAS,YACTY,MAAO,GACPX,MAAO,6BACP2H,MAAOA,EACP,YAAa1D,GACCnE,EAAAA,cAAoB,OAAQ,CAC1CgB,EAAG,gOACH8G,KAAM,eACNC,SAAU,YAEd,CAEAy8F,EAA0BxiG,UAAY,CACpC6F,MAAO5F,IAAAA,OACPkC,SAAUlC,IAAAA,QAEZ,wECvBA,SAASwiG,EAA0B3kG,GACjC,IAAI,MACF+H,EAAK,SACL1D,GACErE,EACJ,OAAoBE,EAAAA,cAAoB,MAAO,CAC7CE,MAAO,6BACPW,MAAO,GACPC,OAAQ,GACRb,QAAS,YACT4H,MAAOA,EACP,YAAa1D,GACCnE,EAAAA,cAAoB,OAAQ,CAC1C8H,KAAM,eACN9G,EAAG,4PAEP,CAEAyjG,EAA0BziG,UAAY,CACpC6F,MAAO5F,IAAAA,OACPkC,SAAUlC,IAAAA,QAEZ,yECtBA,SAASyiG,EAA8B5kG,GACrC,IAAI,MACF+H,EAAK,SACL1D,GACErE,EACJ,OAAoBE,EAAAA,cAAoB,MAAO,CAC7Cc,OAAQ,GACRb,QAAS,YACTY,MAAO,GACPX,MAAO,6BACP2H,MAAOA,EACP,YAAa1D,GACCnE,EAAAA,cAAoB,OAAQ,CAC1CgB,EAAG,2jDACH8G,KAAM,iBAEV,CAEA48F,EAA8B1iG,UAAY,CACxC6F,MAAO5F,IAAAA,OACPkC,SAAUlC,IAAAA,QAEZ,yECtBA,SAAS0iG,EAA8B7kG,GACrC,IAAI,MACF+H,EAAK,SACL1D,GACErE,EACJ,OAAoBE,EAAAA,cAAoB,MAAO,CAC7CE,MAAO,6BACPW,MAAO,GACPC,OAAQ,GACRb,QAAS,YACT4H,MAAOA,EACP,YAAa1D,GACCnE,EAAAA,cAAoB,OAAQ,CAC1C8H,KAAM,eACN9G,EAAG,wmCAEP,CAEA2jG,EAA8B3iG,UAAY,CACxC6F,MAAO5F,IAAAA,OACPkC,SAAUlC,IAAAA,QAEZ,iRClBY8/B,mRAAZ,SAAYA,GAQVA,EAAA,UAOAA,EAAA,YAMAA,EAAA,iBArBF,EAAYA,IAAAA,EAsBX,KA4ID,MAAM6iE,EAAoB,WA+MV,SAAAC,EACdtzF,GA0CA,YA1CgC,IAAhCA,IAAAA,EAA8B,CAAC,GA0CxBuzF,GAxCP,SACEnpF,EACAopF,GAEA,IAAI,SACFC,EAAW,IADT,OAEFC,EAAS,GAFP,KAGFC,EAAO,IACLC,EAAUxpF,EAAO2/C,SAAS4pC,KAAKv0C,OAAO,IAC1C,OAAOy0C,EACL,GACA,CAAEJ,WAAUC,SAAQC,QAEnBH,EAAcx0F,OAASw0F,EAAcx0F,MAAM80F,KAAQ,KACnDN,EAAcx0F,OAASw0F,EAAcx0F,MAAM9O,KAAQ,UAEvD,IAED,SAAwBka,EAAgBqS,GACtC,IAAIs3E,EAAO3pF,EAAOwD,SAAS+B,cAAc,QACrCqkF,EAAO,GAEX,GAAID,GAAQA,EAAKE,aAAa,QAAS,CACrC,IAAIC,EAAM9pF,EAAO2/C,SAASiqC,KACtBG,EAAYD,EAAI3hF,QAAQ,KAC5ByhF,GAAsB,IAAfG,EAAmBD,EAAMA,EAAI33E,MAAM,EAAG43E,EAC9C,CAED,OAAOH,EAAO,KAAqB,kBAAPv3E,EAAkBA,EAAK23E,EAAW33E,GAC/D,IAED,SAA8BstC,EAAoBttC,GAChD43E,EACkC,MAAhCtqC,EAAS0pC,SAASa,OAAO,GADpB,6DAEwD50D,KAAKC,UAChEljB,GAHJ,IAMD,GAMCzc,EAEH,CAOD,SAASq0F,EAAQE,EAAWnwF,GAC1B,IAAKmwF,EAAM,CAEc,qBAAZluF,SAAyBA,QAAQsqD,KAAKvsD,GAEjD,IAME,MAAM,IAAI+rB,MAAM/rB,EAEjB,CAAC,MAAOlT,GAAI,CACd,CACF,CASD,SAASsjG,EAAgBzqC,GACvB,MAAO,CACL+pC,IAAK/pC,EAAS/qD,MACd9O,IAAK65D,EAAS75D,IAEjB,CAKK,SAAU2jG,EACdjiG,EACA6qB,EACAzd,EACA9O,GAcA,YAdY,IADZ8O,IAAAA,EAAa,MAGDuB,EAAA,CACVkzF,SAA6B,kBAAZ7hG,EAAuBA,EAAUA,EAAQ6hG,SAC1DC,OAAQ,GACRC,KAAM,IACY,kBAAPl3E,EAAkBm3E,EAAUn3E,GAAMA,EAJnC,CAKVzd,QAKA9O,IAAMusB,GAAOA,EAAgBvsB,KAAQA,GAhChCyO,KAAK81F,SAASj5F,SAAS,IAAI4jD,OAAO,EAAG,IAmC7C,CAKe,SAAAg1C,EAIA7lG,GAAA,IAJW,SACzBklG,EAAW,IADc,OAEzBC,EAAS,GAFgB,KAGzBC,EAAO,IACOplG,EAKd,OAJImlG,GAAqB,MAAXA,IACZD,GAAiC,MAArBC,EAAOY,OAAO,GAAaZ,EAAS,IAAMA,GACpDC,GAAiB,MAATA,IACVF,GAA+B,MAAnBE,EAAKW,OAAO,GAAaX,EAAO,IAAMA,GAC7CF,CACR,CAKK,SAAUG,EAAUhrE,GACxB,IAAI8rE,EAA4B,CAAC,EAEjC,GAAI9rE,EAAM,CACR,IAAIurE,EAAYvrE,EAAKrW,QAAQ,KACzB4hF,GAAa,IACfO,EAAWf,KAAO/qE,EAAKw2B,OAAO+0C,GAC9BvrE,EAAOA,EAAKw2B,OAAO,EAAG+0C,IAGxB,IAAIQ,EAAc/rE,EAAKrW,QAAQ,KAC3BoiF,GAAe,IACjBD,EAAWhB,OAAS9qE,EAAKw2B,OAAOu1C,GAChC/rE,EAAOA,EAAKw2B,OAAO,EAAGu1C,IAGpB/rE,IACF8rE,EAAWjB,SAAW7qE,EAEzB,CAED,OAAO8rE,CACR,CASD,SAASnB,EACPqB,EACAC,EACAC,EACA90F,QAA+B,IAA/BA,IAAAA,EAA6B,CAAC,GAE9B,IAAI,OAAEoK,EAASwD,SAAS8c,YAApB,SAAkCqqE,GAAW,GAAU/0F,EACvDwzF,EAAgBppF,EAAO4qF,QACvB3wD,EAAS7T,EAAOykE,IAChBhlE,EAA4B,KAEhC,SAASilE,IACP7wD,EAAS7T,EAAOykE,IACZhlE,GACFA,EAAS,CAAEoU,SAAQ0lB,SAAUirC,EAAQjrC,UAExC,CAsCD,IAAIirC,EAAmB,CACrB,UAAI3wD,GACF,OAAOA,GAET,YAAI0lB,GACF,OAAO6qC,EAAYxqF,EAAQopF,IAE7B2B,MAAAA,CAAO90F,GACL,GAAI4vB,EACF,MAAM,IAAIE,MAAM,8CAKlB,OAHA/lB,EAAOC,iBAAiBgpF,EAAmB6B,GAC3CjlE,EAAW5vB,EAEJ,KACL+J,EAAOI,oBAAoB6oF,EAAmB6B,GAC9CjlE,EAAW,IAAX,GAGJ4kE,UAAAA,CAAWp4E,GACT,OAAOo4E,EAAWzqF,EAAQqS,IAE5B8H,KA1DF,SAAc9H,EAAQzd,GACpBqlC,EAAS7T,EAAO4kE,KAChB,IAAIrrC,EAAW8pC,EAAemB,EAAQjrC,SAAUttC,EAAIzd,GAChD81F,GAAkBA,EAAiB/qC,EAAUttC,GAEjD,IAAI44E,EAAeb,EAAgBzqC,GAC/BmqC,EAAMc,EAAQH,WAAW9qC,GAG7B,IACEypC,EAAc8B,UAAUD,EAAc,GAAInB,GAC1C,MAAO5hG,GAGP8X,EAAO2/C,SAASvpD,OAAO0zF,EACxB,CAEGa,GAAY9kE,GACdA,EAAS,CAAEoU,SAAQ0lB,YAEtB,EAuCCuD,QArCF,SAAiB7wC,EAAQzd,GACvBqlC,EAAS7T,EAAO+kE,QAChB,IAAIxrC,EAAW8pC,EAAemB,EAAQjrC,SAAUttC,EAAIzd,GAChD81F,GAAkBA,EAAiB/qC,EAAUttC,GAEjD,IAAI44E,EAAeb,EAAgBzqC,GAC/BmqC,EAAMc,EAAQH,WAAW9qC,GAC7BypC,EAAcgC,aAAaH,EAAc,GAAInB,GAEzCa,GAAY9kE,GACdA,EAAS,CAAEoU,SAAQ0lB,SAAUA,GAEhC,EA0BC0rC,EAAAA,CAAG1gC,GACD,OAAOy+B,EAAciC,GAAG1gC,EACzB,GAGH,OAAOigC,CACR,CClmBD,IAAYU,EA+PN,SAAUC,EAGdC,EACAC,EACAC,QAAc,IAAdA,IAAAA,EAAW,KAEX,IAGIrC,EAAWsC,GAFU,kBAAhBF,EAA2BjC,EAAUiC,GAAeA,GAEvBpC,UAAY,IAAKqC,GAEvD,GAAgB,MAAZrC,EACF,OAAO,KAGT,IAAIuC,EAAWC,EAAcL,IAmF/B,SAA2BI,GACzBA,EAAShkE,MAAK,CAACjB,EAAGC,IAChBD,EAAEmlE,QAAUllE,EAAEklE,MACVllE,EAAEklE,MAAQnlE,EAAEmlE,MAyCpB,SAAwBnlE,EAAaC,GACnC,IAAImlE,EACFplE,EAAEp1B,SAAWq1B,EAAEr1B,QAAUo1B,EAAExU,MAAM,GAAI,GAAG8lC,OAAM,CAAC0S,EAAGh5D,IAAMg5D,IAAM/jC,EAAEj1B,KAElE,OAAOo6F,EAKHplE,EAAEA,EAAEp1B,OAAS,GAAKq1B,EAAEA,EAAEr1B,OAAS,GAG/B,CACL,CArDOy6F,CACErlE,EAAEslE,WAAWliG,KAAKw6F,GAASA,EAAK2H,gBAChCtlE,EAAEqlE,WAAWliG,KAAKw6F,GAASA,EAAK2H,kBAGzC,CA3FCC,CAAkBP,GAElB,IAAI9nE,EAAU,KACd,IAAK,IAAInyB,EAAI,EAAc,MAAXmyB,GAAmBnyB,EAAIi6F,EAASr6F,SAAUI,EACxDmyB,EAAUsoE,EAA0CR,EAASj6F,GAAI03F,GAGnE,OAAOvlE,CACR,CAmBD,SAAS+nE,EAGPL,EACAI,EACAS,EACArqC,GA8CA,YA9Ce,IAFf4pC,IAAAA,EAA2C,SAE5B,IADfS,IAAAA,EAA4C,SAC7B,IAAfrqC,IAAAA,EAAa,IAEbwpC,EAAOx+D,SAAQ,CAACs/D,EAAOp6E,KACrB,IAAIqyE,EAAmC,CACrCgI,aAAcD,EAAM9tE,MAAQ,GAC5BguE,eAAuC,IAAxBF,EAAME,cACrBN,cAAeh6E,EACfo6E,SAGE/H,EAAKgI,aAAartE,WAAW,OAC/ButE,EACElI,EAAKgI,aAAartE,WAAW8iC,GAC7B,wBAAwBuiC,EAAKgI,aAA7B,wBACMvqC,EADN,4GAKFuiC,EAAKgI,aAAehI,EAAKgI,aAAap6E,MAAM6vC,EAAWzwD,SAGzD,IAAIitB,EAAOkuE,EAAU,CAAC1qC,EAAYuiC,EAAKgI,eACnCN,EAAaI,EAAY5oG,OAAO8gG,GAKhC+H,EAAM1hG,UAAY0hG,EAAM1hG,SAAS2G,OAAS,IAC5Ck7F,GACkB,IAAhBH,EAAMp6E,MACN,4FACuCsM,EADvC,MAIFqtE,EAAcS,EAAM1hG,SAAUghG,EAAUK,EAAYztE,KAKpC,MAAd8tE,EAAM9tE,MAAiB8tE,EAAMp6E,QAIjC05E,EAASzxE,KAAK,CAAEqE,OAAMstE,MAAOa,EAAanuE,EAAM8tE,EAAMp6E,OAAQ+5E,cAA9D,IAGKL,CACR,EAhWD,SAAYN,GACVA,EAAA,YACAA,EAAA,oBACAA,EAAA,oBACAA,EAAA,aAJF,EAAYA,IAAAA,EAKX,KAwWD,MAAMsB,EAAU,SACVC,EAAsB,EACtBC,EAAkB,EAClBC,EAAoB,EACpBC,EAAqB,GACrBC,GAAgB,EAChBC,EAAWtiC,GAAoB,MAANA,EAE/B,SAAS+hC,EAAanuE,EAActM,GAClC,IAAImyC,EAAW7lC,EAAK/qB,MAAM,KACtB05F,EAAe9oC,EAAS9yD,OAS5B,OARI8yD,EAAS36B,KAAKwjE,KAChBC,GAAgBF,GAGd/6E,IACFi7E,GAAgBL,GAGXzoC,EACJ75D,QAAQogE,IAAOsiC,EAAQtiC,KACvBjhE,QACC,CAACmiG,EAAOvnC,IACNunC,GACCc,EAAQjjE,KAAK46B,GACVsoC,EACY,KAAZtoC,EACAwoC,EACAC,IACNG,EAEL,CAiBD,SAASf,EAIPgB,EACA/D,GAEA,IAAI,WAAE4C,GAAemB,EAEjBC,EAAgB,CAAC,EACjBC,EAAkB,IAClBxpE,EAA2D,GAC/D,IAAK,IAAInyB,EAAI,EAAGA,EAAIs6F,EAAW16F,SAAUI,EAAG,CAC1C,IAAI4yF,EAAO0H,EAAWt6F,GAClBs8B,EAAMt8B,IAAMs6F,EAAW16F,OAAS,EAChCg8F,EACkB,MAApBD,EACIjE,EACAA,EAASl3E,MAAMm7E,EAAgB/7F,SAAW,IAC5CyiB,EAAQw5E,EACV,CAAEhvE,KAAM+lE,EAAKgI,aAAcC,cAAejI,EAAKiI,cAAev+D,OAC9Ds/D,GAGF,IAAKv5E,EAAO,OAAO,KAEnBhuB,OAAOoQ,OAAOi3F,EAAer5E,EAAM+F,QAEnC,IAAIuyE,EAAQ/H,EAAK+H,MAEjBxoE,EAAQ3J,KAAK,CAEXJ,OAAQszE,EACRhE,SAAUqD,EAAU,CAACY,EAAiBt5E,EAAMq1E,WAC5CoE,aAAcC,EACZhB,EAAU,CAACY,EAAiBt5E,EAAMy5E,gBAEpCnB,UAGyB,MAAvBt4E,EAAMy5E,eACRH,EAAkBZ,EAAU,CAACY,EAAiBt5E,EAAMy5E,eAEvD,CAED,OAAO3pE,CACR,CAqFe,SAAA0pE,EAIdG,EACAtE,GAEuB,kBAAZsE,IACTA,EAAU,CAAEnvE,KAAMmvE,EAASnB,eAAe,EAAOv+D,KAAK,IAGxD,IAAK2/D,EAASC,GAwChB,SACErvE,EACAguE,EACAv+D,QAAU,IADVu+D,IAAAA,GAAgB,QACN,IAAVv+D,IAAAA,GAAM,GAEN3lC,EACW,MAATk2B,IAAiBA,EAAKW,SAAS,MAAQX,EAAKW,SAAS,MACrD,eAAeX,EAAf,oCACMA,EAAK0kC,QAAQ,MAAO,MAD1B,qIAGsC1kC,EAAK0kC,QAAQ,MAAO,MAH1D,MAMF,IAAI2qC,EAAuB,GACvBC,EACF,IACAtvE,EACG0kC,QAAQ,UAAW,IACnBA,QAAQ,OAAQ,KAChBA,QAAQ,sBAAuB,QAC/BA,QAAQ,WAAW,CAAC1pD,EAAWu0F,KAC9BF,EAAW1zE,KAAK4zE,GACT,eAGTvvE,EAAKW,SAAS,MAChB0uE,EAAW1zE,KAAK,KAChB2zE,GACW,MAATtvE,GAAyB,OAATA,EACZ,QACA,qBAENsvE,GAAgB7/D,EACZ,QAOA,wCAGN,IAAI2/D,EAAU,IAAI35E,OAAO65E,EAActB,OAAgBtwF,EAAY,KAEnE,MAAO,CAAC0xF,EAASC,EAClB,CAtF6BG,CAC1BL,EAAQnvE,KACRmvE,EAAQnB,cACRmB,EAAQ1/D,KAGNja,EAAQq1E,EAASr1E,MAAM45E,GAC3B,IAAK55E,EAAO,OAAO,KAEnB,IAAIs5E,EAAkBt5E,EAAM,GACxBy5E,EAAeH,EAAgBpqC,QAAQ,UAAW,MAClD+qC,EAAgBj6E,EAAM7B,MAAM,GAqBhC,MAAO,CACL4H,OArBmB8zE,EAAWlkG,QAC9B,CAACyxC,EAAM2yD,EAAW77E,KAGhB,GAAkB,MAAd67E,EAAmB,CACrB,IAAIG,EAAaD,EAAc/7E,IAAU,GACzCu7E,EAAeH,EACZn7E,MAAM,EAAGm7E,EAAgB/7F,OAAS28F,EAAW38F,QAC7C2xD,QAAQ,UAAW,KACvB,CAMD,OAJA9nB,EAAK2yD,GAiEX,SAAkChoG,EAAegoG,GAC/C,IACE,OAAOI,mBAAmBpoG,GAC1B,MAAOmC,GAQP,OAPAI,GACE,EACA,gCAAgCylG,EAAhC,6CACkBhoG,EADlB,iFAEqCmC,EAFrC,MAKKnC,CACR,CACF,CA9EuBqoG,CAChBH,EAAc/7E,IAAU,GACxB67E,GAEK3yD,CAAP,GAEF,CAAC,GAKDiuD,SAAUiE,EACVG,eACAE,UAEH,CAoEe,SAAAhC,EACdtC,EACAqC,GAEA,GAAiB,MAAbA,EAAkB,OAAOrC,EAE7B,IAAKA,EAASjsF,cAAc8hB,WAAWwsE,EAAStuF,eAC9C,OAAO,KAKT,IAAIixF,EAAa3C,EAASvsE,SAAS,KAC/BusE,EAASn6F,OAAS,EAClBm6F,EAASn6F,OACT+8F,EAAWjF,EAASa,OAAOmE,GAC/B,OAAIC,GAAyB,MAAbA,EAEP,KAGFjF,EAASl3E,MAAMk8E,IAAe,GACtC,CAUe,SAAA5B,EAAU1mG,EAAYiU,GACpC,IAAc,IAAVjU,GAA6B,OAAVA,GAAmC,qBAAVA,EAC9C,MAAM,IAAIggC,MAAM/rB,EAEnB,CAKe,SAAA1R,EAAQ6hG,EAAWnwF,GACjC,IAAKmwF,EAAM,CAEc,qBAAZluF,SAAyBA,QAAQsqD,KAAKvsD,GAEjD,IAME,MAAM,IAAI+rB,MAAM/rB,EAEjB,CAAC,MAAOlT,GAAI,CACd,CACF,CA8CK,SAAUynG,EACdC,EACAC,EACAC,EACAC,QAAsB,IAAtBA,IAAAA,GAAiB,GAEjB,IAIIl9F,EAJA4gB,EAAsB,kBAAVm8E,EAAqBhF,EAAUgF,GAAtCr4F,EAAA,GAAoDq4F,GACzDI,EAAwB,KAAVJ,GAAgC,KAAhBn8E,EAAGg3E,SACjCwF,EAAaD,EAAc,IAAMv8E,EAAGg3E,SAaxC,GAAIsF,GAAgC,MAAdE,EACpBp9F,EAAOi9F,MACF,CACL,IAAII,EAAqBL,EAAel9F,OAAS,EAEjD,GAAIs9F,EAAW3vE,WAAW,MAAO,CAC/B,IAAI6vE,EAAaF,EAAWp7F,MAAM,KAKlC,KAAyB,OAAlBs7F,EAAW,IAChBA,EAAWC,QACXF,GAAsB,EAGxBz8E,EAAGg3E,SAAW0F,EAAW/kG,KAAK,IAC/B,CAIDyH,EAAOq9F,GAAsB,EAAIL,EAAeK,GAAsB,GACvE,CAED,IAAItwE,WApFsBnM,EAAQ48E,QAAkB,IAAlBA,IAAAA,EAAe,KACjD,IACE5F,SAAUwF,EADR,OAEFvF,EAAS,GAFP,KAGFC,EAAO,IACS,kBAAPl3E,EAAkBm3E,EAAUn3E,GAAMA,EAEzCg3E,EAAWwF,EACXA,EAAW3vE,WAAW,KACpB2vE,EAWR,SAAyBtC,EAAsB0C,GAC7C,IAAI5qC,EAAW4qC,EAAa/rC,QAAQ,OAAQ,IAAIzvD,MAAM,KAYtD,OAXuB84F,EAAa94F,MAAM,KAEzBu5B,SAASu3B,IACR,OAAZA,EAEEF,EAAS9yD,OAAS,GAAG8yD,EAAS6qC,MACb,MAAZ3qC,GACTF,EAASlqC,KAAKoqC,EACf,IAGIF,EAAS9yD,OAAS,EAAI8yD,EAASr6D,KAAK,KAAO,GACnD,CAxBOmlG,CAAgBN,EAAYI,GAC9BA,EAEJ,MAAO,CACL5F,WACAC,OAAQ8F,EAAgB9F,GACxBC,KAAM8F,EAAc9F,GAEvB,CAkEY+F,CAAYj9E,EAAI5gB,GAGvB89F,EACFV,GAA6B,MAAfA,GAAsBA,EAAW1vE,SAAS,KAEtDqwE,GACDZ,GAA8B,MAAfC,IAAuBH,EAAiBvvE,SAAS,KAQnE,OANGX,EAAK6qE,SAASlqE,SAAS,OACvBowE,IAA4BC,IAE7BhxE,EAAK6qE,UAAY,KAGZ7qE,CACR,OAiBYkuE,EAAa+C,GACxBA,EAAMzlG,KAAK,KAAKk5D,QAAQ,SAAU,KAKvBwqC,EAAqBrE,GAChCA,EAASnmC,QAAQ,OAAQ,IAAIA,QAAQ,OAAQ,KAKlCksC,EAAmB9F,GAC7BA,GAAqB,MAAXA,EAEPA,EAAOpqE,WAAW,KAClBoqE,EACA,IAAMA,EAHN,GAQO+F,EAAiB9F,GAC3BA,GAAiB,MAATA,EAAoBA,EAAKrqE,WAAW,KAAOqqE,EAAO,IAAMA,EAAzC,GA+BpB,MAAOmG,UAA6B3pE,aAkM7B4pE,EAKXlpG,WAAAA,CAAYs1C,EAAgB6zD,EAAgCp1F,GAC1D5T,KAAKm1C,OAASA,EACdn1C,KAAKgpG,WAAaA,GAAc,GAChChpG,KAAK4T,KAAOA,CACb,EAOG,SAAUq1F,EAAqB/oG,GACnC,OAAOA,aAAa6oG,CACrB,8FCllCcn+F,MAAM+kB,sGCON,SAAiBu5E,EAAOC,GACnC,OAAiB,MAATD,IACFC,GAA6B,KAAVD,IACpB,EAAAE,EAAAC,SAAQH,IAA2B,IAAjBA,EAAMv+F,UACvB,EAAA2+F,EAAAD,SAAMH,KAAU,EAAAK,EAAAF,SAAMH,KAA0B,IAAfA,EAAMM,IAChD,EAvBD,QAAAC,EAAA,WACAA,EAAA,WACAA,EAAA,kGCYe,SAAqBruE,GAA6B,IAArBsuE,EAAqB3pG,UAAA4K,OAAA,QAAA2K,IAAAvV,UAAA,GAAAA,UAAA,GAAA4pG,EAAAN,QAC7D,OAAOjqG,OACFuE,KAAKy3B,GACLr4B,QAAO,SAACs+B,EAAKniC,GAId,OAHSwqG,EAAUtuE,EAAOl8B,MAClBmiC,EAAIniC,GAAOk8B,EAAOl8B,IAEnBmiC,CACV,GAAE,CAAC,EACP,EAvBD,MAAAuoE,EAAAH,EAAA,oGCo7DkB97F,KAAKk8F,KAAAp9F,EANJkB,KAAKm8F,MAAA,SAAA/+F,EAAA7K,GAAA,OAAA6K,EAAA,mBAAAi8C,QAAA,iBAAAA,OAAA+iD,SAAA,SAAA7pG,GAAA,cAAAA,CAAA,WAAAA,GAAA,OAAAA,GAAA,mBAAA8mD,QAAA9mD,EAAAL,cAAAmnD,QAAA9mD,IAAA8mD,OAAAr3C,UAAA,gBAAAzP,CAAA,EAAA6K,EAAA7K,EAAA,UAAA0S,EAAA1S,EAAAuM,GAAA,KAAAvM,aAAAuM,GAAA,UAAA06C,UAAA,8CAAA4c,EAAA7jE,EAAAuM,GAAA,QAAAmG,EAAAmxD,EAAA,EAAAA,EAAAt3D,EAAA9B,OAAAo5D,KAAAnxD,EAAAnG,EAAAs3D,IAAAzkE,WAAAsT,EAAAtT,aAAA,EAAAsT,EAAArT,cAAA,YAAAqT,IAAAA,EAAApT,UAAA,GAAAJ,OAAAC,eAAAa,EAAA0S,EAAA1T,IAAA0T,EAAA,UAAAqxD,EAAA/jE,EAAAuM,EAAA1B,GAAA,OAAA0B,GAAAs3D,EAAA7jE,EAAAyP,UAAAlD,GAAA1B,GAAAg5D,EAAA7jE,EAAA6K,GAAA3L,OAAAC,eAAAa,EAAA,aAAAV,UAAA,IAAAU,CAAA,UAAAwkE,EAAAxkE,EAAAuM,GAAA,sBAAAA,GAAA,OAAAA,EAAA,UAAA06C,UAAA,sDAAAjnD,EAAAyP,UAAAvQ,OAAAsmE,OAAAj5D,GAAAA,EAAAkD,UAAA,CAAA9P,YAAA,CAAAV,MAAAe,EAAAV,UAAA,EAAAD,cAAA,KAAAH,OAAAC,eAAAa,EAAA,aAAAV,UAAA,IAAAiN,GAAA23D,EAAAlkE,EAAAuM,EAAA,UAAAszB,EAAA7/B,GAAA,OAAA6/B,EAAA3gC,OAAA4qG,eAAA5qG,OAAA6qG,eAAA,SAAA/pG,GAAA,OAAAA,EAAAg/E,WAAA9/E,OAAA6qG,eAAA/pG,EAAA,EAAA6/B,EAAA7/B,EAAA,UAAAkkE,EAAAlkE,EAAAuM,GAAA,OAAA23D,EAAAhlE,OAAA4qG,gBAAA,SAAA9pG,EAAAuM,GAAA,OAAAvM,EAAAg/E,UAAAzyE,EAAAvM,CAAA,EAAAkkE,EAAAlkE,EAAAuM,EAAA,UAAAu3D,IAAA,uBAAAmE,UAAAA,QAAA+hC,UAAA,YAAA/hC,QAAA+hC,UAAAC,KAAA,+BAAAC,MAAA,oBAAAlgE,QAAAv6B,UAAAiwE,QAAA/vE,KAAAs4D,QAAA+hC,UAAAhgE,QAAA,6BAAAz9B,GAAA,mBAAAi3D,IAAA,OAAAA,EAAAM,IAAAmE,QAAA+hC,UAAA,SAAAhqG,EAAAuM,EAAA1B,GAAA,IAAA6H,EAAA,OAAAA,EAAA2gB,KAAAzjB,MAAA8C,EAAAnG,GAAA,IAAAw3D,EAAA,IAAAhR,SAAAhrB,KAAAn4B,MAAA5P,EAAA0S,IAAA,OAAA7H,GAAAq5D,EAAAH,EAAAl5D,EAAA4E,WAAAs0D,CAAA,EAAAP,EAAA5zD,MAAA,KAAA/P,UAAA,UAAAtB,EAAAyB,GAAA,WAAA+yD,SAAAzoD,SAAAqF,KAAA3P,GAAAqhB,QAAA,0BAAA6gB,EAAAliC,GAAA,IAAAuM,EAAA,mBAAAuiC,IAAA,IAAAA,SAAA,SAAA5M,EAAA,SAAAliC,GAAA,SAAA6K,IAAA,OAAA24D,EAAAxjE,EAAAH,UAAAggC,EAAA,MAAAlgC,YAAA,WAAAK,IAAAzB,EAAAyB,GAAA,OAAAA,EAAA,sBAAAA,EAAA,UAAAinD,UAAA,6EAAA16C,EAAA,IAAAA,EAAAujE,IAAA9vE,GAAA,OAAAuM,EAAAq0B,IAAA5gC,GAAAuM,EAAAinC,IAAAxzC,EAAA6K,EAAA,QAAAA,EAAA4E,UAAAvQ,OAAAsmE,OAAAxlE,EAAAyP,UAAA,CAAA9P,YAAA,CAAAV,MAAA4L,EAAAzL,YAAA,EAAAE,UAAA,EAAAD,cAAA,KAAA6kE,EAAAr5D,EAAA7K,EAAA,EAAAkiC,EAAAliC,EAAA,UAAA8/B,EAAA9/B,GAAA,YAAAA,EAAA,UAAAmqG,eAAA,oEAAAnqG,CAAA,UAAAgkE,EAAAhkE,EAAAuM,GAAA,GAAAA,IAAA,iBAAAA,GAAA,mBAAAA,GAAA,OAAAA,EAAA,YAAAA,EAAA,UAAA06C,UAAA,mEAAAnnB,EAAA9/B,EAAA,UAAAikE,EAAAjkE,GAAA,IAAAuM,EAAAu3D,IAAA,sBAAAj5D,EAAA6H,EAAAmtB,EAAA7/B,GAAA,GAAAuM,EAAA,KAAAs3D,EAAAhkC,EAAA,MAAAlgC,YAAAkL,EAAAo9D,QAAA+hC,UAAAt3F,EAAA7S,UAAAgkE,EAAA,MAAAh5D,EAAA6H,EAAA9C,MAAA,KAAA/P,WAAA,OAAAmkE,EAAA,KAAAn5D,EAAA,WAAA+hB,EAAA5sB,EAAAuM,GAAA,OAAApO,EAAA6B,IAAAqkE,EAAArkE,EAAAuM,IAAAk4D,EAAAzkE,EAAAuM,IAAAw5D,GAAA,UAAA5nE,EAAA6B,GAAA,GAAA0K,MAAA+kB,QAAAzvB,GAAA,OAAAA,CAAA,UAAAqkE,EAAArkE,EAAAuM,GAAA,IAAA1B,EAAA,MAAA7K,EAAA,yBAAA8mD,QAAA9mD,EAAA8mD,OAAA+iD,WAAA7pG,EAAA,uBAAA6K,EAAA,KAAA6H,EAAAmxD,EAAAE,EAAA,GAAAS,GAAA,EAAAb,GAAA,UAAA94D,EAAAA,EAAA8E,KAAA3P,KAAAwkE,GAAA9xD,EAAA7H,EAAAu/F,QAAAC,QAAAtmC,EAAA1wC,KAAA3gB,EAAAzT,QAAAsN,GAAAw3D,EAAAt5D,SAAA8B,GAAAi4D,GAAA,UAAAxkE,GAAA2jE,GAAA,EAAAE,EAAA7jE,CAAA,aAAAwkE,GAAA,MAAA35D,EAAA,QAAAA,EAAA,oBAAA84D,EAAA,MAAAE,CAAA,SAAAE,CAAA,WAAAU,EAAAzkE,EAAAuM,GAAA,GAAAvM,EAAA,qBAAAA,EAAA,OAAAokE,EAAApkE,EAAAuM,GAAA,IAAA1B,EAAA3L,OAAAuQ,UAAAnF,SAAAqF,KAAA3P,GAAAqrB,MAAA,uBAAAxgB,GAAA7K,EAAAL,cAAAkL,EAAA7K,EAAAL,YAAAqB,MAAA,QAAA6J,GAAA,QAAAA,EAAAH,MAAAC,KAAA3K,GAAA,cAAA6K,GAAA,2CAAAg4B,KAAAh4B,GAAAu5D,EAAApkE,EAAAuM,QAAA,YAAA63D,EAAApkE,EAAAuM,IAAA,MAAAA,GAAAA,EAAAvM,EAAAyK,UAAA8B,EAAAvM,EAAAyK,QAAA,QAAAiI,EAAA,EAAAmxD,EAAAn5D,MAAA6B,GAAAmG,EAAAnG,EAAAmG,IAAAmxD,EAAAnxD,GAAA1S,EAAA0S,GAAA,OAAAmxD,CAAA,UAAAkC,IAAA,UAAA9e,UAAA,sJAAAse,EAAAvlE,EAAAuM,GAAA,IAAAmG,EAAA,oBAAAo0C,QAAA9mD,EAAA8mD,OAAA+iD,WAAA7pG,EAAA,kBAAA0S,EAAA,IAAAhI,MAAA+kB,QAAAzvB,KAAA0S,EAAA+xD,EAAAzkE,KAAAuM,GAAAvM,GAAA,iBAAAA,EAAAyK,OAAA,CAAAiI,IAAA1S,EAAA0S,GAAA,IAAAmxD,EAAA,EAAAE,EAAA,oBAAAD,EAAAC,EAAAF,EAAA,kBAAAA,GAAA7jE,EAAAyK,OAAA,CAAA4/F,MAAA,IAAAA,MAAA,EAAAprG,MAAAe,EAAA6jE,KAAA,EAAA7jE,EAAA,SAAAuM,GAAA,MAAAA,CAAA,EAAA83D,EAAAN,EAAA,WAAA9c,UAAA,6IAAAud,EAAA3kC,GAAA,EAAAqkC,GAAA,SAAAJ,EAAA,WAAApxD,EAAAA,EAAA/C,KAAA3P,EAAA,EAAA6jE,EAAA,eAAA7jE,EAAA0S,EAAA03F,OAAA,OAAAvqE,EAAA7/B,EAAAqqG,KAAArqG,CAAA,EAAAA,EAAA,SAAAuM,GAAA23D,GAAA,EAAAM,EAAAj4D,CAAA,EAAA83D,EAAA,eAAAxkC,GAAA,MAAAntB,EAAA43F,QAAA53F,EAAA43F,QAAA,YAAApmC,EAAA,MAAAM,CAAA,QAj6DlBD,EAAA,SAAAvkE,GAAA,IAAAuM,EA+/BakB,KAAKa,IAAAu1D,EAjrBGp2D,KAAK0e,IAAAw3C,EA1TGl2D,KAAKkO,MAAA,SAAAkkB,EAnBlB7/B,EAAwBuM,GAAa,IAAA1B,EAAA,GAAA6H,EAAA,KAAAmtB,IAAAh1B,EAAAq5D,EAAAv0D,KAAA,KACjD3P,IAAAytC,KAAAlhC,EAAArN,OAGC4qG,eAAAhqE,EAAAj1B,GAAqBg1B,EAAKpwB,WAC7BzP,EAAS6/B,EAAK0qE,aAAA,MACV,IAAItgC,WAAW,gCAAf,OAAAp/D,CAAA,CAAA25D,EAAA3kC,EAAA7/B,GAAA,IAAAkkE,EAAAD,EAAApkC,GAAA,OAAAkkC,EAAAlkC,EAAA,EAAA7gC,IAAA,gBAAAC,MAqCV,WAAa,IAAAe,EACLuM,EAAS,CAAC,WADL1B,EAAA06D,EAES,MAFT,QAAA16D,EAAAi5D,MAAA9jE,EAAA6K,EAAAg5D,KAAAwmC,MAEe,KAAf33F,EAAe1S,EAAAf,MAAAsN,EACjB8mB,MAAM3gB,GAASA,IAAU,GAAGpI,SAAS,IAAMoI,GAAS,aAAA1S,GAAA6K,EAAA7K,EAAAA,EAAA,SAAA6K,EAAAw5D,GAAA,QAAA93D,EAEtD8mB,KAAK,KACL9mB,EAAOrJ,KAAK,GAAZ,IAAAlE,IAAA,WAAAC,MAGA,WAA2B,IAAlBe,EAAkB,EAAAH,UAAA4K,aAAA,IAAA5K,UAAA,GAAAA,UAAA,GAAF,MACpB,EAARG,GAAqB,GAARA,EAAA,MACT,IAAIiqE,WACN,sDAH4B,OAKd,IAAhB,KAAKx/D,OAAqB,IACA,IAAzBzK,EAASA,EAAQ,GACb6/B,EAAK2qE,yBAAyB,KAAMxqG,GAEtC6/B,EAAK4qE,kBAAkB,KAAMzqG,GAA7B,MAAAhB,IAAA,UAAAC,MAGA,WAAO,MACR,IAAIggC,MACN,6DADE,IAAAjgC,IAAA,SAAAC,MA0gBR,WAAM,QACEe,EAAS,IAAI6/B,EAAK,KAAKp1B,OAAQ,KAAKgjC,MACjClhC,EAAI,EAAGA,EAAI,KAAK9B,OAAQ8B,IAACvM,EACzBuM,GAAK,KAAKA,GAAL,OAEPvM,CAAA,IAAAhB,IAAA,SAAAC,MAGT,WAAM,QACAe,EAAY,KAAKyK,OACjB8B,EAAO,KAAKvM,EAAY,GACZ,IAATuM,GAHHA,EAKK,OALLvM,EAKsB,GALtB,KAMGooG,MANH,OAQc,IAAdpoG,IAAiB,KAAKytC,MAAL,GACd,QAAAzuC,IAAA,qBAAAC,MAGT,WAAkB,IACX,IAAIe,EAAI,EAAGA,EAAI,KAAKyK,OAAQzK,IAAC,KAC3BA,GAAK,KAAAhB,IAAA,WAAAC,MAkkBd,WAAQ,OACC4gC,EAAK6qE,QAAQ,KAAKC,QAAQ,KAAKlgG,OAAS,GAAxC,IAAAzL,IAAA,uBAAAC,MA6QT,SAAqBe,EAAoBuM,EAAiBmG,GAEpDA,EAAS,KAAKjI,SAAQiI,EAAS,KAAKjI,QAF8B,QAGhEo5D,EAAoB,MAAb7jE,EACP+jE,EAAQ/jE,IAAe,GACzBwkE,EAAQ,EACRb,EAAOp3D,EACF23D,EAAI,EAAGA,EAAIxxD,EAAQwxD,IAAK,KACzBJ,EAAI,KAAK6mC,QAAQzmC,GACjBV,EAAW,MAAJM,EACPvlE,EAAQulE,IAAM,GACd5hC,EAAOrC,EAAK+qE,OAAOpnC,EAAMK,GACzB/jC,EAAQD,EAAK+qE,OAAOpnC,EAAMO,GAC1BC,EAAQnkC,EAAK+qE,OAAOrsG,EAAOslE,GAE7Bj3C,EAAS+2C,EAAOzhC,EAAOsiC,EARIA,EASvB53C,IAAW,GATYA,GAUrB,WAVqB43C,IAAA53C,KAWX,MAARkT,IAAmB,MAAgB,MAARkkC,IAAmB,OACtC,GAZWL,EAOjB9jC,EAAK+qE,OAAOrsG,EAAOwlE,IAMjBjkC,IAAU,KAAOkkC,IAAU,IAbZ,KAc1B6mC,WAAW3mC,EAAY,WAATt3C,EAAA,IAEP,IAAV43C,GAAwB,IAATb,EAAA,MACX,IAAI1kC,MAAM,qBAAV,IAAAjgC,IAAA,eAAAC,MAAA,SA2GGe,EAAeuM,EAAoBmG,GAAkB,QAGxDmxD,EAFJE,EAAQ,EACHS,EAAI,EAAGA,EAAI9xD,EAAY8xD,IAGpBT,GAFJF,EAAM,KAAKinC,YAAYv+F,EAAai4D,GAChCxkE,EAAQ8qG,YAAYtmC,GACpBT,KACM,QACXgnC,eAAex+F,EAAai4D,EAAS,MAANX,GAAA,OAE/BE,CAAA,IAAA/kE,IAAA,eAAAC,MAGT,SAAae,EAAkBuM,EAAoBmG,GAAkB,IAG/DmxD,EAAS,EAHsD,GAIlD,EAAbt3D,EAAgB,CAAAA,IAGH,EAHG,QAIdw3D,EAAU,KAAK4mC,QAAQp+F,GACvBi4D,EAAe,MAAVT,EACLJ,EAAI,EACDA,EATUjxD,EAAa,IAAO,EASfixD,IAAK,KACnB9jC,EAAM7/B,EAAW2qG,QAAQhnC,GACzBO,GAAOH,IAAY,KAAa,MAANlkC,GAAgBgkC,EAFvBA,EAGD,EAAdK,IAAQ,GAHO,KAIpB2mC,WAAWt+F,EAAao3D,GAAW,MAANO,IAAiB,GAAY,MAALM,GAJjCX,EAOF,GAPEW,GAMT,OANST,EAKf,KAAK4mC,QAAQp+F,EAAao3D,EAAI,MACb9jC,IAAQ,IAAMgkC,KACxB,EAdD,KAiBZC,EAAM9jE,EAAW2qG,QAAQhnC,GACzBH,GAAOO,IAAY,KAAa,MAAND,GAAgBD,EAlB9B,GAAAA,EAmBM,EAAdL,IAAQ,GAnBA,KAoBbqnC,WAAWt+F,EAAao3D,GAAW,MAANH,IAAiB,GAAY,MAALgB,GAEtDj4D,EAAao3D,EAAI,GAAK,KAAKl5D,OAAA,MACvB,IAAIw/D,WAAW,iBAEE,IAAP,EAAbv3D,KAzBamxD,EA4BO,GA5BPW,GA2BA,OA3BAT,EA0BN,KAAK4mC,QAAQp+F,EAAao3D,EAAI,MAL3BG,IAAQ,IAMcD,KAClB,GA5BD,KA6BXgnC,WAAWt+F,EAAavM,EAAWyK,OACzB,WAAVs5D,EAA8B,MAALS,GA9BlC,KAgCO,CAAAj4D,IACU,EADV,QAEDhO,EAAI,EACDA,EAAIyB,EAAWyK,OAAS,EAAGlM,IAAK,KAC/B2jC,EAAU,KAAKyoE,QAAQp+F,EAAahO,GACpCuhC,EAAM9/B,EAAW2qG,QAAQpsG,GACzBylE,GAAgB,MAAV9hC,IAA2B,MAANpC,GAAgB+jC,EAE3CI,GAAO/hC,IAAY,KAAOpC,IAAQ,KALH+jC,EAId,EAAbG,IAAO,IAC6BH,EACtB,EAAdI,IAAQ,GANmB,KAOhC4mC,WAAWt+F,EAAahO,GAAW,MAAN0lE,IAAiB,GAAY,MAALD,EAAA,CAVvD,IAYCp3C,EAAU,KAAK+9E,QAAQp+F,EAAahO,GACpCJ,EAAM6B,EAAW2qG,QAAQpsG,GACzB8lE,GAAgB,MAAVz3C,IAA2B,MAANzuB,GAAgB0lE,EAd5CA,EAekB,EAAbQ,IAAO,GAfZ,IAgBDI,EAAM,EACe,IAAP,EAAb/xD,KAjBAmxD,EAmBqB,GAnBrBY,GAkBI73C,IAAY,KAAOzuB,IAAQ,IAAM0lE,KACtB,IAnBf,KAqBAgnC,WAAWt+F,EAAahO,GAAW,MAANkmE,IAAiB,GAAY,MAALJ,EAAA,QAErDR,CAAA,IAAA7kE,IAAA,sBAAAC,MAGT,SAAoBe,GAAa,GACjB,IAAVA,EAAA,SAIIuM,EAHJmG,EAAQ,KAAKi4F,QAAQ,KAAO3qG,EAC1B6jE,EAAO,KAAKp5D,OAAS,EAClBs5D,EAAI,EAAGA,EAAIF,EAAME,IAClBx3D,EAAI,KAAKo+F,QAAQ5mC,EAAI,GAAjB,KACL8mC,WAAW9mC,EAA0B,WAArBx3D,GAAM,GAAKvM,EAAwB0S,GAAAA,EAChDnG,IAAMvM,EAAA,KAEX6qG,WAAWhnC,EAAMnxD,EAAA,KAAA1T,IAAA,UAAAC,MAAA,SAwNhBe,GAAS,OACR,KAAKA,EAAL,IAAAhB,IAAA,kBAAAC,MAET,SAAgBe,GAAS,OAChB,KAAKA,KAAO,KAAAhB,IAAA,aAAAC,MAErB,SAAWe,EAAWuM,GAAa,KAC5BvM,GAAa,EAARuM,CAAA,IAAAvN,IAAA,iBAAAC,MAEZ,SAAee,EAAWuM,GAAa,KAChCvM,GAAa,EAARuM,CAAA,IAAAvN,IAAA,oBAAAC,MAEZ,WAAiB,IACTe,EAAM,KAAKyK,OADF,OAEsB,OAAjC,KAAKugG,gBAAgBhrG,EAAM,GAA2B,EAANA,EAAU,EACnD,EAAJA,CAAA,IAAAhB,IAAA,cAAAC,MAET,SAAYe,GAAS,OACyB,MAApC,KAAKA,IAAM,KAAkB,IAAL,EAAJA,EAAD,IAAAhB,IAAA,iBAAAC,MAE7B,SAAee,EAAWuM,GAAa,IAC/B1B,EAAa7K,IAAM,EACnB0S,EAAW,KAAKi4F,QAAQ9/F,GACxBg5D,EAAe,EAAJ7jE,EAAqB,MAAX0S,EAAsBnG,GAAS,GACpB,WAAXmG,EAAkC,MAARnG,EAJhB,KAKhCs+F,WAAWhgG,EAAYg5D,EAAA,MAAA7kE,IAAA,SAAAC,MA92D9B,SAAce,GAAiC,IAAAuM,EAStC6zB,OAAOqnC,SAT+B,GAC1B,iBAARznE,EAAkB,IACf,IAARA,EAAW,OAAO6/B,EAAKorE,SAAZ,GACXprE,EAAKqrE,gBAAgBlrG,GAArB,OACQ,EAANA,EACK6/B,EAAKsrE,YAAYnrG,GAAjB,GAEF6/B,EAAKsrE,WAAWnrG,GAAhB,OAEJuM,EAAgBvM,IAAQ2jE,EAAW3jE,KAASA,EAAE,MAC3C,IAAIiqE,WAAW,cAAgBjqE,EAAhB,+DAAf,OAGD6/B,EAAKurE,aAAaprG,EAZ3B,CAaO,GAAmB,iBAARA,EAAkB,KAC5B0S,EAASmtB,EAAKwrE,aAAarrG,GAAlB,GACA,OAAX0S,EAAA,MACI,IAAI44F,YAAY,kBAAoBtrG,EAAM,gBAA1C,OAED0S,CALF,CAMA,GAAmB,kBAAR1S,EAAX,OACD,IAAAA,EACK6/B,EAAKsrE,WAAW,GAAhB,GAEFtrE,EAAKorE,SACP,GAAmB,WAAfpgG,EAAO7K,GAAkB,IAC9BA,EAAIL,cAAgBkgC,EAAM,OAAO7/B,EAAP,IACxB6jE,EAAYhkC,EAAK0rE,cAAcvrG,GAAnB,OACX6/B,EAAK67C,OAAO7X,EAAZ,OAEH,IAAI5c,UAAU,kBAAoBjnD,EAAM,eAAxC,IAAAhB,IAAA,WAAAC,MA+BR,SAAgBe,GAAO,IACfuM,EAAUvM,EAAEyK,OAAA,GACF,IAAZ8B,EAAe,OAAO,EAAP,GACH,IAAZA,EAAe,KACX1B,EAAQ7K,EAAEgrG,gBAAgB,GAAlB,OACPhrG,EAAEytC,MAAQ5iC,EAAQA,CAAA,CALN,IAOf6H,EAAO1S,EAAE2qG,QAAQp+F,EAAU,GAC3Bs3D,EAAkBhkC,EAAK6qE,QAAQh4F,GAC/BqxD,EAAuB,GAAVx3D,EAAes3D,EATb,GAUJ,KAAbE,EAAmB,OAAO/jE,EAAEytC,MAAO,IAAT,IAVT,IAWjB+2B,EAAWT,EAAa,EACxBJ,EAAejxD,EACfwxD,EAAa33D,EAAU,EACrBu3D,EAAQD,EAAkB,EAC5BL,EAA0B,KAAVM,EAAgB,EAAIH,GAAgBG,EAfnCN,KAgBH,GAhBG,IAiBfjlE,EAAwBulE,EAAQ,GAClC5hC,EAAwB,IAAT4hC,EAAe,EAAKH,GAAiB,GAAKG,EACzDhkC,EAAuB,GAAKgkC,EAnBX,IAoBO,EAAxBvlE,GAA0C,EAAb2lE,IApBZA,IAAAV,IAAAG,EAsBJ3jE,EAAE2qG,QAAQzmC,MACU,GAAK3lE,EAvBrB2jC,EAwBLyhC,GAAgBplE,EAAwB,EAxBnCuhC,EAyBIvhC,EAAwB,GAEnB,EAAvBuhC,GAAyC,EAAbokC,GA3BdA,IAAAP,EA6BJ3jE,EAAE2qG,QAAQzmC,GA7BNhiC,GA8BS,IAAxBpC,EACc6jC,GAAiB7jC,EAAuB,GAExC6jC,IAAkB,GAAK7jC,EAjCtBA,GAmCK,GAnCL,IAqCfkkC,EAAWnkC,EAAK2rE,iBAAiBxrG,EAAG8/B,EACtCokC,EAAYP,GADC,IAEA,IAAbK,GAAgC,IAAbA,GAAwC,IAAP,EAAd9hC,KAEpB,KAFmBA,EACxBA,EAAc,IAAO,IAIJ,KAH5BshC,IAGoB,KAAAA,EAEL,EAEA,OAFAgB,GAEX,OAEKxkE,EAAEytC,MAAO,IAAT,QAKTw2B,EAAUjkE,EAAEytC,MAAF,WAAqB,SAAA+2B,EACzBA,EAAW,MAAU,GAAA3kC,EAC5B4rE,qBAAqB,GAAKxnC,EAAUO,EAAWhB,EAAA3jC,EAC/C4rE,qBAAqB,GAAKvpE,EACxBrC,EAAK6rE,uBAAuB,EAA5B,IAAA1sG,IAAA,aAAAC,MAKT,SAAkBe,GAAO,GACN,IAAbA,EAAEyK,OAAc,OAAOzK,EAAP,IACduM,EAASvM,EAAE2rG,SAAF,OAAAp/F,EACRkhC,MAAQztC,EAAEytC,KACVlhC,CAAA,IAAAvN,IAAA,aAAAC,MAGT,SAAkBe,GAAO,OACnBA,EAAEytC,KAEG5N,EAAK+rE,iBAAiB5rG,GAAG6rG,SAG3BhsE,EAAKisE,iBAAiB9rG,GAAtB,MAAAhB,IAAA,eAAAC,MAGT,SAAoBe,EAASuM,GAAO,GAC9BA,EAAEkhC,KAAA,MACE,IAAIw8B,WAAW,6BAAf,GAES,IAAb19D,EAAE9B,OAAA,OACGo1B,EAAKsrE,WAAW,GAAhB,MAEQ,IAAbnrG,EAAEyK,OAAc,OAAOzK,EAAP,GACH,IAAbA,EAAEyK,QAAiC,IAAjBzK,EAAE2qG,QAAQ,GAAV,OAEhB3qG,EAAEytC,MAA+B,IAAP,EAAflhC,EAAEo+F,QAAQ,IAChB9qE,EAAKksE,WAAW/rG,GAGlBA,EAAA,GAIM,EAAXuM,EAAE9B,OAAY,MAAM,IAAIw/D,WAAW,kBAArB,IACdp/D,EAAW0B,EAAEy+F,gBAAgB,GAAlB,GACE,IAAbngG,EAAgB,OAAO7K,EAAP,GAChB6K,GAAYg1B,EAAKmsE,iBAAA,MACb,IAAI/hC,WAAW,kBAAf,GAES,IAAbjqE,EAAEyK,QAAiC,IAAjBzK,EAAE2qG,QAAQ,GAAU,KAElCj4F,EAAe,GAAuB,EAAjB7H,EAAW,IAEhCk5D,EAAS,IAAIlkC,EAAKntB,EADX1S,EAAEytC,MAA4B,IAAP,EAAX5iC,IAHek5D,EAKjCkoC,qBALiC,IAOlCznC,EAAM,GAAM35D,EAAW,UAAAk5D,EACtB8mC,WAAWn4F,EAAe,EAAG8xD,GAC7BT,CAAA,CAjCyB,IAmC9BJ,EAAS,KACTO,EAAgBlkE,EApCc,IAsCX,IAAP,EAAX6K,KAAqB84D,EAAS3jE,GAAA6K,IACtB,EACO,IAAbA,EAAgBA,IAAa,EAAAq5D,EAClBrkC,EAAKqsE,SAAShoC,EAAeA,GACtB,IAAP,EAAXr5D,KACC84D,EAAW,OAAXA,EACOO,EAEArkC,EAAKqsE,SAASvoC,EAAQO,IAAtB,OAKRP,CAAA,IAAA3kE,IAAA,WAAAC,MAGT,SAAgBe,EAASuM,GAAO,GACb,IAAbvM,EAAEyK,OAAc,OAAOzK,EAAP,GACH,IAAbuM,EAAE9B,OAAc,OAAO8B,EAAP,IAChBmG,EAAe1S,EAAEyK,OAAS8B,EAAE9B,OACG,IAA/BzK,EAAEmsG,WAAa5/F,EAAE4/F,YAJSz5F,IAAA,IAOxBmxD,EAAS,IAAIhkC,EAAKntB,EAAc1S,EAAEytC,OAASlhC,EAAEkhC,MAApCo2B,EACRooC,qBARuB,IASzB,IAAIloC,EAAI,EAAGA,EAAI/jE,EAAEyK,OAAQs5D,IAAClkC,EACxBusE,qBAAqB7/F,EAAGvM,EAAE2qG,QAAQ5mC,GAAIF,EAAQE,GAAA,OAE9CF,EAAOgoC,QAAP,IAAA7sG,IAAA,SAAAC,MAGT,SAAce,EAASuM,GAAO,GACX,IAAbA,EAAE9B,OAAc,MAAM,IAAIw/D,WAAW,oBAArB,GACe,EAA/BpqC,EAAKwsE,kBAAkBrsG,EAAGuM,GAAQ,OAAOszB,EAAKorE,SAFtB,IAKxBpgG,EAFE6H,EAAa1S,EAAEytC,OAASlhC,EAAEkhC,KAC1Bo2B,EAAUt3D,EAAEy+F,gBAAgB,GAJN,GAMX,IAAbz+F,EAAE9B,QAA2B,OAAXo5D,EAAmB,IACvB,IAAZA,EAAA,OACKnxD,IAAe1S,EAAEytC,KAAOztC,EAAI6/B,EAAKksE,WAAW/rG,GAAhB6K,EAE1Bg1B,EAAKysE,mBAAmBtsG,EAAG6jE,EAAS,KAJjD,MAAAh5D,EAMag1B,EAAK0sE,mBAAmBvsG,EAAGuM,GAA3B,aAAA1B,EAEJ4iC,KAAO/6B,EACT7H,EAASghG,QAAT,IAAA7sG,IAAA,YAAAC,MAGT,SAAiBe,EAASuM,GAAO,GACd,IAAbA,EAAE9B,OAAc,MAAM,IAAIw/D,WAAW,oBAArB,GACe,EAA/BpqC,EAAKwsE,kBAAkBrsG,EAAGuM,GAAQ,OAAOvM,EAAP,IAChC0S,EAAUnG,EAAEy+F,gBAAgB,GAAlB,GACC,IAAbz+F,EAAE9B,QAA2B,OAAXiI,EAAmB,IACvB,IAAZA,EAAe,OAAOmtB,EAAKorE,SAAZ,IACbpnC,EAAiBhkC,EAAK2sE,mBAAmBxsG,EAAG0S,GAFX,OAGhB,IAAnBmxD,EAA6BhkC,EAAKorE,SAC/BprE,EAAKsrE,WAAWtnC,EAAgB7jE,EAAEytC,KAAlC,KAEH5iC,EAAYg1B,EAAK0sE,mBAAmBvsG,EAAGuM,GAA3B,aAAA1B,EACR4iC,KAAOztC,EAAEytC,KACZ5iC,EAAUghG,QAAV,IAAA7sG,IAAA,MAAAC,MAGT,SAAWe,EAASuM,GAAO,IACnB1B,EAAO7K,EAAEytC,KADU,OAErB5iC,IAAS0B,EAAEkhC,KAGN5N,EAAK4sE,cAAczsG,EAAGuM,EAAG1B,GAIE,GAAhCg1B,EAAKwsE,kBAAkBrsG,EAAGuM,GACrBszB,EAAK6sE,cAAc1sG,EAAGuM,EAAG1B,GAE3Bg1B,EAAK6sE,cAAcngG,EAAGvM,GAAI6K,EAA1B,IAAA7L,IAAA,WAAAC,MAGT,SAAgBe,EAASuM,GAAO,IACxB1B,EAAO7K,EAAEytC,KADe,OAE1B5iC,IAAS0B,EAAEkhC,KAOqB,GAAhC5N,EAAKwsE,kBAAkBrsG,EAAGuM,GACrBszB,EAAK6sE,cAAc1sG,EAAGuM,EAAG1B,GAE3Bg1B,EAAK6sE,cAAcngG,EAAGvM,GAAI6K,GAPxBg1B,EAAK4sE,cAAczsG,EAAGuM,EAAG1B,EAAzB,IAAA7L,IAAA,YAAAC,MAUX,SAAiBe,EAASuM,GAAO,OACd,IAAbA,EAAE9B,QAA6B,IAAbzK,EAAEyK,OAAqBzK,EACzCuM,EAAEkhC,KAAa5N,EAAK8sE,uBAAuB3sG,EAAGuM,GAC3CszB,EAAK+sE,sBAAsB5sG,EAAGuM,EAA9B,IAAAvN,IAAA,mBAAAC,MAGT,SAAwBe,EAASuM,GAAO,OACrB,IAAbA,EAAE9B,QAA6B,IAAbzK,EAAEyK,OAAqBzK,EACzCuM,EAAEkhC,KAAa5N,EAAK+sE,sBAAsB5sG,EAAGuM,GAC1CszB,EAAK8sE,uBAAuB3sG,EAAGuM,EAA/B,IAAAvN,IAAA,qBAAAC,MAGT,WAAyB,MACjB,IAAIgoD,UACN,uDADE,IAAAjoD,IAAA,WAAAC,MAIR,SAAgBe,EAASuM,GAAO,OACQ,EAA/BszB,EAAKgtE,kBAAkB7sG,EAAGuM,EAA1B,IAAAvN,IAAA,kBAAAC,MAGT,SAAuBe,EAASuM,GAAO,OACE,GAAhCszB,EAAKgtE,kBAAkB7sG,EAAGuM,EAA1B,IAAAvN,IAAA,cAAAC,MAGT,SAAmBe,EAASuM,GAAO,OACK,EAA/BszB,EAAKgtE,kBAAkB7sG,EAAGuM,EAA1B,IAAAvN,IAAA,qBAAAC,MAGT,SAA0Be,EAASuM,GAAO,OACD,GAAhCszB,EAAKgtE,kBAAkB7sG,EAAGuM,EAA1B,IAAAvN,IAAA,QAAAC,MAGT,SAAae,EAASuM,GAAO,GACvBvM,EAAEytC,OAASlhC,EAAEkhC,KAAM,YACnBztC,EAAEyK,SAAW8B,EAAE9B,OAAQ,aACtB,IAAIiI,EAAI,EAAGA,EAAI1S,EAAEyK,OAAQiI,IAAC,GACzB1S,EAAE2qG,QAAQj4F,KAAOnG,EAAEo+F,QAAQj4F,GAAI,qBAAA1T,IAAA,WAAAC,MAKvC,SAAgBe,EAASuM,GAAO,OACtBszB,EAAKitE,MAAM9sG,EAAGuM,EAAd,IAAAvN,IAAA,aAAAC,MAGV,SAAkBe,EAASuM,GAAO,IAC3BvM,EAAEytC,OAASlhC,EAAEkhC,KAAA,OACT5N,EAAKktE,cAAc/sG,EAAGuM,GAAGs/F,SAC3B,GAAI7rG,EAAEytC,MAAQlhC,EAAEkhC,KAAM,KACrB5iC,EAAeg5D,EAAS7jE,EAAEyK,OAAQ8B,EAAE9B,QAAU,EAGhDiI,EAASmtB,EAAK+rE,iBAAiB5rG,EAAG6K,GAChCk5D,EAAKlkC,EAAK+rE,iBAAiBr/F,GALN,OAAAmG,EAMlBmtB,EAAKmtE,aAAat6F,EAAQqxD,EAAIrxD,GAChCmtB,EAAKisE,iBAAiBp5F,GAAtB,EAAoCA,GAAQm5F,QAVrB,IAa5B7rG,EAAEytC,KAAM,KAAA+2B,EACD,CAACj4D,EAAGvM,GAAJA,EADCwkE,EAAA,GAAAj4D,EAAAi4D,EAAA,EAboB,QAiBzB3kC,EAAKotE,iBAAiBjtG,EAAG6/B,EAAK+rE,iBAAiBr/F,IAAIs/F,QAAnD,IAAA7sG,IAAA,aAAAC,MAGT,SAAkBe,EAASuM,GAAO,IAC3BvM,EAAEytC,OAASlhC,EAAEkhC,KAAA,OACT5N,EAAKqtE,cAAcltG,EAAGuM,GAAGs/F,SAC3B,GAAI7rG,EAAEytC,MAAQlhC,EAAEkhC,KAAM,KAErB5iC,EAAeg5D,EAAS7jE,EAAEyK,OAAQ8B,EAAE9B,QACpCiI,EAASmtB,EAAK+rE,iBAAiB5rG,EAAG6K,GAClCk5D,EAAKlkC,EAAK+rE,iBAAiBr/F,GAJN,OAKpBszB,EAAKqtE,cAAcx6F,EAAQqxD,EAAIrxD,GAAQm5F,QAAvC,KAEHrnC,EAAeX,EAAS7jE,EAAEyK,OAAQ8B,EAAE9B,QAAU,KAEhDzK,EAAEytC,KAAM,KAAAk2B,EACD,CAACp3D,EAAGvM,GAAJA,EADC2jE,EAAA,GAAAp3D,EAAAo3D,EAAA,EAZoB,KAgB5BO,EAASrkC,EAAK+rE,iBAAiBr/F,EAAGi4D,GAAzB,OAAAN,EACJrkC,EAAKqtE,cAAchpC,EAAQlkE,EAAGkkE,GAChCrkC,EAAKisE,iBAAiB5nC,GAAtB,EAAoCA,GAAQ2nC,QAA5C,IAAA7sG,IAAA,YAAAC,MAGT,SAAiBe,EAASuM,GAAO,IACzB1B,EAAeg5D,EAAS7jE,EAAEyK,OAAQ8B,EAAE9B,QAArB,IAChBzK,EAAEytC,OAASlhC,EAAEkhC,KAAA,OACT5N,EAAKmtE,aAAahtG,EAAGuM,GAAGs/F,SAC1B,GAAI7rG,EAAEytC,MAAQlhC,EAAEkhC,KAAM,KAGvB/6B,EAASmtB,EAAK+rE,iBAAiB5rG,EAAG6K,GAChCk5D,EAAKlkC,EAAK+rE,iBAAiBr/F,GAJN,OAAAmG,EAKlBmtB,EAAKktE,cAAcr6F,EAAQqxD,EAAIrxD,GACjCmtB,EAAKisE,iBAAiBp5F,GAAtB,EAAoCA,GAAQm5F,QAVtB,IAa3B7rG,EAAEytC,KAAM,KAAA+2B,EACD,CAACj4D,EAAGvM,GAAJA,EADCwkE,EAAA,GAAAj4D,EAAAi4D,EAAA,EAbmB,KAiB3Bb,EAAS9jC,EAAK+rE,iBAAiBr/F,EAAG1B,GAAzB,OAAA84D,EACJ9jC,EAAKotE,iBAAiBtpC,EAAQ3jE,EAAG2jE,GACnC9jC,EAAKisE,iBAAiBnoC,GAAtB,EAAoCA,GAAQkoC,QAA5C,IAAA7sG,IAAA,SAAAC,MAGT,SAAce,EAAWuM,GAAO,GACb,IAAbA,EAAE9B,OAAc,OAAO8B,EAAP,GAEZ,GAFYvM,EAChB2jE,EAAW3jE,IACX,MACI,IAAIiqE,WACN,sDADE,GAGE,IAANjqE,EAAS,OAAO6/B,EAAKorE,SAAZ,GAETjrG,GAAK6/B,EAAKmsE,iBAAkB,OAAOz/F,EAAP,IAC1BmG,EAAiC,GAAhB1S,EAAI,IAAM,MAC7BuM,EAAE9B,OAASiI,EAAc,OAAOnG,EAXN,IAYxBw3D,EAAWx3D,EAAEy+F,gBAAgBt4F,EAAe,GAC5C8xD,EAAe,IAAOxkE,EAAI,GAAK,GAbP,GAc1BuM,EAAE9B,SAAWiI,GAAgBqxD,EAAWS,EAAc,OAAOj4D,EAAP,IAE1Cw3D,EAAWS,KAAkBA,EAChC,OAAO3kC,EAAKstE,kBAAkBntG,EAAGuM,GAAjC,IACRA,EAAEkhC,KAAM,OAAO5N,EAAKutE,+BAA+BptG,EAAGuM,GAAvC,GAAP,GAC2B,IAAnCw3D,EAAYS,EAAe,GAAW,KACpC,IAAIN,EAAIxxD,EAAe,EAAQ,GAALwxD,EAAQA,IAAC,GACjB,IAAjB33D,EAAEo+F,QAAQzmC,GAAV,OACKrkC,EAAKutE,+BAA+BptG,EAAGuM,GAAvC,GAH8B,OAMrCA,EAAE9B,SAAWiI,GAAgBqxD,IAAaS,EAAqBj4D,EAC5DszB,EAAKstE,kBAAkBntG,EAAGuM,EAA1B,QAEFszB,EAAKutE,+BAA+BptG,EAAGuM,GAAvC,MAAAvN,IAAA,UAAAC,MAGT,SAAee,EAAWuM,GAAO,GACd,IAAbA,EAAE9B,OAAc,OAAO8B,EAAP,GAEZ,GAFYvM,EAChB2jE,EAAW3jE,IACX,MACI,IAAIiqE,WACN,sDADE,GAGE,IAANjqE,EAAS,OAAO6/B,EAAKorE,SAAZ,GAET1+F,EAAEkhC,KAAM,IACNztC,EAAI6/B,EAAKmsE,iBAAA,MACL,IAAI/hC,WAAW,kBAAf,OAEDpqC,EAAKutE,+BAA+BptG,EAAGuM,GAAvC,EAbsB,IAgB3BvM,GAAK6/B,EAAKmsE,iBAAkB,OAAOz/F,EAAP,IAC1B1B,EAAiC,GAAhB7K,EAAI,IAAM,MAC7BuM,EAAE9B,OAASI,EAAc,OAAO0B,EAAP,IACvBmG,EAAiB1S,EAAI,MACvBuM,EAAE9B,QAAUI,EAAc,IACL,IAAnB6H,EAAsB,OAAOnG,EAChB,GACqB,GADrBA,EAAEo+F,QAAQ9/F,EAAe,KACxB6H,EAAuB,OAAOnG,CAvBnB,QA0BxBszB,EAAKstE,kBAAkBntG,EAAGuM,EAA1B,IAAAvN,IAAA,MAAAC,MAKT,SAAWe,EAAQuM,GAAM,GAAAvM,EACnB6/B,EAAK0rE,cAAcvrG,GAAnBuM,EACAszB,EAAK0rE,cAAch/F,GACN,iBAANvM,EAAA,MACQ,iBAANuM,IAAgBA,EAAIA,EAAEjC,YAC1BtK,EAAIuM,EAAA,GAEI,iBAANA,EAAA,OACFvM,EAAEsK,WAAaiC,EAAA,GAAAvM,EAEpB6/B,EAAKwtE,YAAYrtG,GAAjBuM,EACAszB,EAAKwtE,YAAY9gG,GACjBszB,EAAKytE,WAAWttG,IAAM6/B,EAAKytE,WAAW/gG,GAAhB,OACjBszB,EAAK9iB,IAAI/c,EAAGuM,GAAZ,GAEQ,iBAANvM,GAA+B,iBAANuM,EAAA,OAC3BvM,EAAIuM,EAAA,MAEP,IAAI06C,UACN,8DADE,IAAAjoD,IAAA,KAAAC,MAIR,SAAUe,EAAQuM,GAAM,OACfszB,EAAK0tE,UAAUvtG,EAAGuM,EAAG,EAArB,IAAAvN,IAAA,KAAAC,MAET,SAAUe,EAAQuM,GAAM,OACfszB,EAAK0tE,UAAUvtG,EAAGuM,EAAG,EAArB,IAAAvN,IAAA,KAAAC,MAET,SAAUe,EAAQuM,GAAM,OACfszB,EAAK0tE,UAAUvtG,EAAGuM,EAAG,EAArB,IAAAvN,IAAA,KAAAC,MAET,SAAUe,EAAQuM,GAAM,OACfszB,EAAK0tE,UAAUvtG,EAAGuM,EAAG,EAArB,IAAAvN,IAAA,KAAAC,MAGT,SAAUe,EAAQuM,GAAM,WAEhBszB,EAAKytE,WAAWttG,GAAhB,OACE6/B,EAAKytE,WAAW/gG,GAAWszB,EAAKitE,MAAM9sG,EAAGuM,GACtCszB,EAAK2tE,GAAGjhG,EAAGvM,GACb,GAAiB,iBAANA,EAAgB,IAC5B6/B,EAAKytE,WAAW/gG,GAAI,OAAOszB,EAAK4tE,gBAAgBlhG,EAAGvM,GAA/B,GACP,WAAb6K,EAAO0B,GAAgB,OAAOvM,GAAKuM,EAAZA,EACvBszB,EAAK0rE,cAAch/F,EAHlB,MAIA,GAAiB,iBAANvM,EAAgB,IAC5B6/B,EAAKytE,WAAW/gG,GAAhB,OAEQ,QAFRvM,EACE6/B,EAAKwrE,aAAarrG,KAEf6/B,EAAKitE,MAAM9sG,EAAGuM,GAAd,GAEQ,WAAb1B,EAAO0B,GAAgB,OAAOvM,GAAKuM,EAAZA,EACvBszB,EAAK0rE,cAAch/F,EAPlB,MAQA,GAAiB,kBAANvM,EAAiB,IAC7B6/B,EAAKytE,WAAW/gG,GAAI,OAAOszB,EAAK4tE,gBAAgBlhG,GAAIvM,GAAhC,GACP,WAAb6K,EAAO0B,GAAgB,OAAOvM,GAAKuM,EAAZA,EACvBszB,EAAK0rE,cAAch/F,EAHlB,MAIA,GAAiB,WAAb1B,EAAO7K,GAAgB,IAC5B6/B,EAAKytE,WAAW/gG,GAAI,YACP,WAAb1B,EAAO0B,GAAgB,OAAOvM,GAAKuM,EAAZA,EACvBszB,EAAK0rE,cAAch/F,EAHlB,KAIA,IAAiB,WAAb1B,EAAO7K,GAAX,OAIEA,GAAKuM,EAJoB,GACf,WAAb1B,EAAO0B,IAAkBA,EAAE5M,cAAgBkgC,EAAM,OAAO7/B,GAAKuM,EAAZvM,EACjD6/B,EAAK0rE,cAAcvrG,EA3BL,MAAAhB,IAAA,KAAAC,MAkCxB,SAAUe,EAAQuM,GAAM,OACdszB,EAAK2tE,GAAGxtG,EAAGuM,EAAX,IAAAvN,IAAA,sBAAAC,MAKV,SACIe,EAAoBuM,GAAiD,IAA7B1B,KAA6B,EAAAhL,UAAA4K,aAAA,IAAA5K,UAAA,KAAAA,UAAA,UAChEggC,EAAK6tE,OACR,GAAI7tE,EAAK8tE,qBAAqB3tG,EAAUuM,EAAY1B,GADjD,IAAA7L,IAAA,uBAAAC,MAIT,SACIe,EAAoBuM,GAAiD,IAA7B1B,KAA6B,EAAAhL,UAAA4K,aAAA,IAAA5K,UAAA,KAAAA,UAAA,GAAAgkE,EAAAj3C,EACxD/hB,EAAe,CAAC,EAAG,GAAK,CAAC,EAAG,GAD4B,GAChE25D,EAAPX,EAAA,GAAUF,EAAVE,EAAA,GACME,EAAO/jE,EAAS4tG,UAAUrhG,EAAai4D,EAAG35D,GAC1Cq5D,EAAMlkE,EAAS4tG,UAAUrhG,EAAao3D,EAAG94D,GACzCi5D,EAAS,IAAIjkC,EAAK,GAAT,GAJwD,OAAAikC,EAKhE+mC,WAAW,EAAS,WAAN3mC,GAAAJ,EACd+mC,WAAW,GAAY,UAAP9mC,IAAqB,EAAMG,IAAQ,IAAAJ,EACnD+mC,WAAW,EAAG9mC,IAAS,IACvBD,EAAO+nC,QAAP,IAAA7sG,IAAA,sBAAAC,MAGT,SACIe,EAAoBuM,EAAoB1B,GACX,IAA7B6H,KAA6B,EAAA7S,UAAA4K,aAAA,IAAA5K,UAAA,KAAAA,UAAA,GAAAggC,EAC1BguE,qBAAqB7tG,EAAUuM,EAAY1B,EAAO6H,EAAA,IAAA1T,IAAA,uBAAAC,MAGzD,SACIe,EAAoBuM,EAAoB1B,GACX,IAA7B6H,KAA6B,EAAA7S,UAAA4K,aAAA,IAAA5K,UAAA,KAAAA,UAAA,GAE3BgkE,EAAO,EACPW,EAAM,EAHqB,GAIZ,GAJY35D,EACvBg1B,EAAKiuE,QAAQ,GAAIjjG,IAGfJ,SAAA+5D,EACF35D,EAAM8/F,QAAQ,GACD,EAAf9/F,EAAMJ,QAAY,KACdk5D,EAAK94D,EAAM8/F,QAAQ,GAAdnmC,GACCb,GAAM,GAFEE,EAGbF,IAAO,EACK,EAAf94D,EAAMJ,SAJUo5D,GAKHh5D,EAAM8/F,QAAQ,IAAM,GALjB,KASe7mC,EAAAl3C,EAAxBla,EAAe,CAAC,EAAG,GAAK,CAAC,EAAG,GAAJ,GAAhC8wD,EAAPM,EAAA,GAAUvlE,EAAVulE,EAAA,GAAA9jE,EACS+tG,UAAUxhG,EAAai3D,EAAGK,EAAMnxD,GAhBV1S,EAiBtB+tG,UAAUxhG,EAAahO,EAAGimE,EAAK9xD,EAAA,IAAA1T,IAAA,SAAAC,MAK1C,WAAa,OACJ,IAAI4gC,EAAK,GAAT,MAAA7gC,IAAA,aAAAC,MAGT,SAAkBe,EAAeuM,GAAa,IACtC1B,EAAS,IAAIg1B,EAAK,EAAGtzB,GAAZ,OAAA1B,EACRggG,WAAW,EAAG7qG,GACd6K,CAAA,IAAA7L,IAAA,mBAAAC,MA6BT,SAAwBe,EAASuM,EAC7B1B,EAAoB6H,GAAoB,GAClB,EAApBnG,EAAuB,OAAQ,EAAR,IACvBs3D,EAAA,GACoB,EAApBt3D,EAAAs3D,GACkBt3D,EAAoB,MACnC,IAEc,IAAf1B,EAAkB,OAAQ,EAARA,IAFjB6H,EAIU1S,EAAE2qG,QAAQ9/F,GAJpBg5D,EAKc,EAVqB,KAatCE,EAAO,GAAKF,EAAA,GACc,IAAzBnxD,EAAeqxD,GAAa,OAAQ,EAAR,GAGH,IAAzBrxD,GAH4BqxD,GAEzB,IACyB,OAAO,EAjBE,KAkBtB,EAAbl5D,GAlBmC,GAAAA,IAoBV,IAA1B7K,EAAE2qG,QAAQ9/F,GAAmB,OAAO,EAAP,OAE5B,KAAA7L,IAAA,eAAAC,MAGT,SAAoBe,GAAa6/B,EAE1B6rE,uBAAuB,GAAK1rG,EAFF,IAiB3BuM,EAbEmG,GADsD,KAAvCmtB,EAAK4rE,qBAAqB,KAAO,IACvB,KACzB5nC,EAAiC,GAAL,EAAjBnxD,EAAW,IACtBqxD,EAAS,IAAIlkC,EAAKgkC,EALH,EAAR7jE,GAOTwkE,EAA+C,QAA/B3kC,EAAK4rE,qBAAqB,GAD3B,QAEf9nC,EAAc9jC,EAAK4rE,qBAAqB,GACtCvnC,EAAsB,GAEtBJ,EAAYpxD,EAAW,GAGzB8wD,EAAwB,EAfG,GAmB3BM,EAAYI,EAAqB,KAC7B3lE,EAAQ2lE,EAAsBJ,EAAAN,EACZjlE,EAAQ,GAFGgO,EAG3Bi4D,IAAiBjmE,EAHUimE,EAInBA,GAAiB,GAAKjmE,EAAWolE,IAAgBplE,EAJ9BolE,IAKL,GAAKplE,CALrC,MAMO,GAAIulE,IAAcI,EAAlBV,EACmB,GADnBj3D,EAEGi4D,EAFHA,EAGUb,EAHVA,EAIS,MACT,KACCzhC,EAAQ4hC,EAAYI,EAAAV,EACF,GAAKthC,EAFxB31B,EAGIi4D,GAAgBtiC,EAAUyhC,IAAiB,GAAKzhC,EAHpDsiC,EAIUb,GAAezhC,EAJzByhC,EAKS,EAAAI,EAET8mC,WAAWhnC,EAAS,EAAGt3D,GArCC,IAuC1B,IAAIuzB,EAAa+jC,EAAS,EAAiB,GAAd/jC,EAAiBA,IACrB,EAAxB0jC,GAAAA,GACuB,GAAAj3D,EACjBi4D,IAAiB,EAAAA,EACTA,GAAgB,GAAOb,IAAgB,EAAAA,IACzB,IAAAp3D,EAEtB,EAAAw3D,EAEH8mC,WAAW/qE,EAAYvzB,GAAA,OAEzBw3D,EAAO8nC,QAAP,IAAA7sG,IAAA,iBAAAC,MAGT,SAAsBe,GAAS,SACpB,IAALA,GAAkB,GAALA,KACR,KAALA,EAAwB,IAANA,EACb,QAALA,EACW,KAANA,GAAoB,MAANA,EAEd,QAALA,EAEU,KAReA,GAOtB,SACqB,IAANA,GAAoB,IAANA,GAAoB,IAANA,GACnC,IAANA,GAAoB,MAANA,EAEV,OAANA,EAXsB,IAAAhB,IAAA,eAAAC,MAc/B,SAAoBe,GAAgC,IAAhBuM,EAAgB,EAAA1M,UAAA4K,aAAA,IAAA5K,UAAA,GAAAA,UAAA,GAAD,EAC7CgL,EAAO,EAEL6H,EAAS1S,EAAOyK,OAClBo5D,EAAS,EAJqC,GAK9CA,IAAWnxD,EAAQ,OAAOmtB,EAAKorE,SALe,QAM9ClnC,EAAU/jE,EAAO87E,WAAWjY,GAEzBhkC,EAAKmuE,eAAejqC,IAAU,MAC7BF,IAAWnxD,EAAQ,OAAOmtB,EAAKorE,SAAZlnC,EACf/jE,EAAO87E,WAAWjY,EAVoB,IAclC,KAAZE,EAAkB,MACdF,IAAWnxD,EAAQ,OAAO,KAAPqxD,EACf/jE,EAAO87E,WAAWjY,GAFRh5D,EAGb,CAHT,MAIO,GAAgB,KAAZk5D,EAAkB,MACrBF,IAAWnxD,EAAQ,OAAO,KAAPqxD,EACf/jE,EAAO87E,WAAWjY,GAFDh5D,GAGnB,KAGI,IAAV0B,GAAA,GAAAA,EACM,GACQ,KAAZw3D,EAAkB,MACdF,IAAWnxD,EAAQ,OAAOmtB,EAAKorE,SAAZ,GAET,MAFSlnC,EACf/jE,EAAO87E,WAAWjY,KACQ,MAAZE,EAAkB,IAAAx3D,EAChC,KACFs3D,IAAWnxD,EAAQ,OAAO,KAAPqxD,EACf/jE,EAAO87E,WAAWjY,EAH9B,MAIO,GAAgB,KAAZE,GAAgC,MAAZA,EAAkB,IAAAx3D,EACvC,IACFs3D,IAAWnxD,EAAQ,OAAO,KAAPqxD,EACf/jE,EAAO87E,WAAWjY,EAHvB,MAIA,GAAgB,KAAZE,GAAgC,KAAZA,EAAkB,IAAAx3D,EACvC,IACFs3D,IAAWnxD,EAAQ,OAAO,KAAPqxD,EACf/jE,EAAO87E,WAAWjY,EAAlB,QAKT,GAAc,KAAVt3D,GACO,KAAZw3D,EAAkB,MAEdF,IAAWnxD,EAAQ,OAAOmtB,EAAKorE,SAAZ,GAET,MAFSlnC,EACf/jE,EAAO87E,WAAWjY,KACQ,MAAZE,EAAkB,MAClCF,IAAWnxD,EAAQ,OAAO,KAAPqxD,EACf/jE,EAAO87E,WAAWjY,EAAlB,KAMH,IAATh5D,GAAwB,KAAV0B,EAAc,OAAO,KA1DW,KA4D/B,KAAZw3D,GAAkB,MAEjBF,IAAWnxD,EAAQ,OAAOmtB,EAAKorE,SAAZlnC,EACf/jE,EAAO87E,WAAWjY,EA/DoB,KAmE5CW,EAAQ9xD,EAASmxD,EACnBF,EAAc9jC,EAAKouE,kBAAkB1hG,GACrC23D,EAAUrkC,EAAKquE,8BAAgC,EArED,GAsE9C1pC,EAAQ,WAAYb,EAAa,OAAO,KAtEM,IA0E5CH,EAAS,IAAI3jC,EAD0B,GAAZ,IAD5B8jC,EAAca,EAAQN,IAAarkC,EAAKsuE,2BACN,IACxB,GAGTjsE,EAAmB,GAAR31B,EAAaA,EAAQ,GAChCuzB,EAAmB,GAARvzB,EAAaA,EAAQ,GAAK,EA9EO,GAgFpB,IAAzBA,EAASA,EAAQ,GAAW,CAAAo3D,IAEf9jC,EAAKsuE,yBAFU,IAGzBlqC,EAAQ,GACRr3C,EAAY,GACdzuB,GAAI,EALuB,EAM5B,SAIKkmE,EAHFI,EAAO,EACPL,EAAO,IACE,IACPC,OAAA,EACEN,EAAU,KAAQ,EAAK7hC,EAAAmiC,EACvBN,EAAU,OACT,OAAiB,GAAVA,GAAgB,KAAQ,EAAKjkC,GAEpC,CAAA3hC,GACD,EADC,MAFAkmE,GACU,GAAVN,GAAgB,EAChB,IAAAK,GAICT,EAAAc,EACAA,GAAQd,EAAeU,IACzBR,IAAWnxD,EAAQ,CAAAvU,GACnB,EADmB,SAAA4lE,EAIf/jE,EAAO87E,WAAWjY,GACH,GAArBO,EAAOT,EAAkB,MAAAM,EAEzB5wC,KAAKoxC,GAtBV73C,EAuBSyG,KAAK+wC,EAvBjB,QAwBUjmE,GAAA0hC,EACLuuE,gBAAgB5qC,EAAQS,EAAOr3C,EA/BtC,KAgCO,CAAA42C,EACEyoC,qBADF,IAEDlmC,GAAI,EACJR,EAAa,EAHZ,EAIF,SAIKhB,EAHFI,EAAO,EACPL,EAAa,IACJ,IACPC,OAAA,EACER,EAAU,KAAQ,EAAK7hC,EAAAqiC,EACvBR,EAAU,OACT,OAAiB,GAAVA,GAAgB,KAAQ,EAAKjkC,GAEpC,CAAAimC,GACD,EADC,MAFAxB,GACU,GAAVR,GAAgB,EAChB,KAKDkC,EAAI3B,EAAa/3D,EAAA,GACf,WAAJ05D,EAAgB,SAAA3B,EACP2B,EAAAtB,EACNA,EAAOp4D,EAAQg4D,EAAAgB,MAEhB1B,IAAWnxD,EAAQ,CAAAqzD,GACnB,EADmB,MAAAhC,EAIf/jE,EAAO87E,WAAWjY,EAAlB,CAvBX,IA0BKG,EACsD,GADrCL,EAAc4B,GAHzBrB,EAEmC,GAArCrkC,EAAKquE,8BAAqC,KAE/BruE,EAAKsuE,0BAA4B,GAAA3qC,EAC/C6qC,qBAAqB/pC,EAAYK,EAAMX,EA5BhD,QA6BU+B,EAAA,IAGRlC,IAAWnxD,EAAQ,KAChBmtB,EAAKmuE,eAAejqC,GAAU,OAAO,KAAP,IAC9BF,IAAUA,EAASnxD,EAAQmxD,IAAM,GAAAE,EAC1B/jE,EAAO87E,WAAWjY,IACvBhkC,EAAKmuE,eAAejqC,GAAU,OAAO,IAxJI,QAAAP,EA6J3C/1B,MAAkB,IAAV5iC,EACR24D,EAAOqoC,QAAP,IAAA7sG,IAAA,kBAAAC,MAGT,SAAuBe,EAAcuM,EAAiBmG,GAAmB,QAEnEmxD,EAAa,EACbE,EAAQ,EACRS,EAAc,EACTb,EAAIp3D,EAAM9B,OAAS,EAAQ,GAALk5D,EAAQA,IAAK,KACpC9jC,EAAOtzB,EAAMo3D,GACbO,EAAWxxD,EAAUixD,GAFeI,GAGhClkC,GAAQ2kC,EAEE,MALsBA,GAI3BN,IAJ2BlkE,EAMjC6qG,WAAWhnC,IAAcE,GANQS,EAO1B,EAP0BT,EAQhC,GACe,GAAdS,IAT+BxkE,EAUjC6qG,WAAWhnC,IAAsB,WAARE,GAVQA,EAYhClkC,IAAUqkC,GAZsBM,GAWzB,IAXyB,IAe9B,IAAVT,EAAa,IACXF,GAAc7jE,EAAOyK,OAAQ,MAAM,IAAIw0B,MAAM,sBAAhBj/B,EAC1B6qG,WAAWhnC,IAAcE,EAAA,MAE3BF,EAAa7jE,EAAOyK,OAAQo5D,IAAU7jE,EACpC6qG,WAAWhnC,EAAY,MAAA7kE,IAAA,2BAAAC,MAIlC,SAAgCe,EAASuM,GAAa,IAC9CmG,EAAS1S,EAAEyK,OACbo5D,EAAOt3D,EAAQ,EAIbw3D,EAN8CF,GAK7B,IAL6BA,GAI7B,IAJ6BA,GAG7B,GAAdA,IAAS,IAAqB,GAAPA,MACd,IAAqB,GAAPA,MACd,IAAqB,GAAPA,GAE1BW,EAAWj4D,EAAQ,EACnBo3D,EAAM3jE,EAAE2qG,QAAQj4F,EAAS,GAG3BoxD,EACgD,GAFzB,GAATpxD,EADMmtB,EAAK6qE,QAAQ/mC,GAGnBI,EAAc,GAAKA,EAZe,GAahD/jE,EAAEytC,MAAMq2B,IACR,UAAAA,EAA2B,MAAM,IAAI7kC,MAAM,mBAAhB,QACzBukC,EAAa94D,MAAMo5D,GACrBvlE,EAAMulE,EAAgB,EACtB5hC,EAAQ,EACRpC,EAAgB,EACXkkC,EAAI,EAAGA,EAAItxD,EAAS,EAAGsxD,IAAK,KAC7BC,EAAWjkE,EAAE2qG,QAAQ3mC,GACrBp3C,GAAWsV,EAAS+hC,GAAYnkC,GAAkB0kC,EAFrBhB,EAG5BjlE,KAASshC,EAAKyuE,mBAAmB1hF,GAHL,IAI7BzuB,EAAe4lE,EAAcjkC,EAJA,IAAAoC,EAK3B+hC,IAAa9lE,EALc2hC,EAMnB,GAAK3hC,EACd2hC,GAAiBikC,GAPWP,EAQ1BjlE,KAASshC,EAAKyuE,mBAAmBpsE,EAAQsiC,GARftiC,KAStB6hC,EATsBjkC,GAUhBikC,CAAA,KAGfM,GAAWniC,EAASyhC,GAAO7jC,GAAkB0kC,EAhCC,IAAAhB,EAiC7CjlE,KAASshC,EAAKyuE,mBAAmBjqC,GAjCYniC,EAkC5CyhC,IAASI,EAAcjkC,EACd,IAAVoC,GAnC6CshC,EAoC3CjlE,KAASshC,EAAKyuE,mBAAmBpsE,EAAQsiC,GApCEtiC,KAqCvC6hC,EArCuC,GAuChD/jE,EAAEytC,OAAM+1B,EAAOjlE,KAAS,MACf,IAATA,EAAY,MAAM,IAAI0gC,MAAM,sBAAhB,OACTukC,EAAOtgE,KAAK,GAAZ,IAAAlE,IAAA,oBAAAC,MAGT,SAAyBe,EAASuM,EAAemG,GAAwB,IAEjEmxD,EAAS7jE,EAAEyK,OAAA,GACF,IAAXo5D,EAAc,MAAO,GAAP,GACH,IAAXA,EAAc,KACZE,EAAS/jE,EAAEgrG,gBAAgB,GAAG1gG,SAASiC,GAA9B,OACT,IAAAmG,GAA6B1S,EAAEytC,OAAAs2B,EACxB,IAAMA,GAEVA,CAAA,CAT8D,IAsBnEP,EACAjlE,EAZEimE,EAAqB,GAATX,EAAchkC,EAAK6qE,QAAQ1qG,EAAE2qG,QAAQ9mC,EAAS,IAE1DK,EADiBrkC,EAAKouE,kBAAkB1hG,GACN,EACpCu3D,EAAgBU,EAAY3kC,EAAKquE,8BAG/BhsE,EAAmC,GAjB8B4hC,EAgBpB,GAhBoBA,GAetDI,EAAiB,GACDA,IACc,EAGzCpkC,EAAYD,EAAK0uE,aAAa1uE,EAAKsrE,WAAW5+F,GAAhB,GAChCszB,EAAKsrE,WAAWjpE,GAAhB,IAGE8hC,EAAUlkC,EAAUkrE,gBAAgB,GAxB6B,GAyB9C,IAArBlrE,EAAUr1B,QAA2B,OAAXu5D,EAAmB,EAAAR,EACpC,IAAI3jC,EAAK7/B,EAAEyK,QAAX,IACFwhG,qBAFsC,QAKvChoC,EAFJr3C,EAAY,EACPzuB,EAAe,EAAX6B,EAAEyK,OAAa,EAAQ,GAALtM,EAAQA,IAC/B8lE,EAASr3C,GAAa,GAAM5sB,EAAE8qG,YAAY3sG,GAAdqlE,EACzBunC,eAAe5sG,EAAuB,EAAnB8lE,EAAQD,GAAAp3C,EACJ,EAAnBq3C,EAAQD,EAAAzlE,EAEVquB,EAAUtiB,SAASiC,EATlC,KAUO,KACC83D,EAAiBxkC,EAAK0sE,mBAAmBvsG,EAAG8/B,GAA3B,MAAA0jC,EACZa,EAAegG,SAFrB,IAGC5F,EAAYJ,EAAeiG,UAAUuhC,SAAzBttG,EACLshC,EAAK4qE,kBAAkBhmC,EAAWl4D,GAAlC,GAAAi3D,EAENqoC,SAzC8D,QA0CnEznC,EAAYvkC,EAAK4qE,kBAAkBjnC,EAAUj3D,GAAjC,GACThO,EAAWkM,OAASy3B,GA3C4C3jC,EA4CxD,IAAMA,EAAA,OAEjB,IAAAmU,GAA6B1S,EAAEytC,OAAA22B,EACrB,IAAMA,GAEbA,EAAY7lE,CAAA,IAAAS,IAAA,gBAAAC,MAGrB,SAAqBe,GAAqB,OACjCA,GAAgB,EAAI,KAAAhB,IAAA,oBAAAC,MAE7B,SAAyBe,GAAqB,OACrCA,GAAgB,EAAI,KAAAhB,IAAA,iBAAAC,MAE7B,SAAsBe,GAAqB,OAClCA,EAAe,GAAK,KAAAhB,IAAA,oBAAAC,MAG7B,SAAyBe,EAASuM,GAAO,IACjC1B,EAAQ7K,EAAEytC,KAAA,GACZ5iC,IAAU0B,EAAEkhC,KAAM,OAAO5N,EAAK2uE,cAAc3jG,GAA1B,IAChB6H,EAASmtB,EAAKwsE,kBAAkBrsG,EAAGuM,GAHF,OAI1B,EAATmG,EAAmBmtB,EAAK4uE,kBAAkB5jG,GACjC,EAAT6H,EAAmBmtB,EAAK6uE,eAAe7jG,GACpC,KAAA7L,IAAA,oBAAAC,MAGT,SAAyBe,EAAS6K,GAAS,GACrCg1B,EAAKqrE,gBAAgBrgG,GAAI,KACrB6H,EAAQ1S,EAAEytC,KACVo2B,EAAa,EAAJh5D,EAFY,GAGvB6H,IAAUmxD,EAAO,OAAOhkC,EAAK2uE,cAAc97F,GAA1B,GACJ,IAAb1S,EAAEyK,OAAc,IACdo5D,EAAO,MAAM,IAAI5kC,MAAM,sBAAhB,OACE,IAANp0B,EAAU,GAAK,CANG,IASZ,EAAX7K,EAAEyK,OAAY,OAAOo1B,EAAK4uE,kBAAkB/7F,GATrB,IAUrBqxD,EAAOx3D,EAAS1B,GAChB25D,EAASxkE,EAAEgrG,gBAAgB,GAXN,OAYvBxmC,EAAST,EAAalkC,EAAK4uE,kBAAkB/7F,GAC7C8xD,EAAST,EAAalkC,EAAK6uE,eAAeh8F,GACvC,SAEFmtB,EAAK8uE,kBAAkB3uG,EAAG6K,EAA1B,IAAA7L,IAAA,oBAAAC,MAGT,SAAyBe,EAASuM,GAAS,GACrCA,IAAMA,EAAG,OAAOA,EAAP,GACTA,IAAC,IAAe,OAAQ,EAAR,GAChBA,KAAM,IAAW,OAAO,EAHa,IAInC1B,EAAQ7K,EAAEytC,KAJyB,GAMrC5iC,IADe,EAAJ0B,EACM,OAAOszB,EAAK2uE,cAAc3jG,GAA1B,GACX,IAAN0B,EAAA,MACI,IAAI0yB,MAAM,mDAAV,GAES,IAAbj/B,EAAEyK,OAAc,OAAQ,EAARo1B,EACf6rE,uBAAuB,GAAKn/F,EAXQ,IAYnCmG,EAAsD,KAAvCmtB,EAAK4rE,qBAAqB,KAAO,MAClC,MAAhB/4F,EAAA,MACI,IAAIusB,MAAM,yCAAV,IAEF4kC,EAAWnxD,EAAc,QAChB,EAAXmxD,EAAA,OAGKhkC,EAAK4uE,kBAAkB5jG,GApBS,IAsBnCk5D,EAAU/jE,EAAEyK,OACd+5D,EAAOxkE,EAAE2qG,QAAQ5mC,EAAU,GACzBJ,EAAkB9jC,EAAK6qE,QAAQlmC,GAC/BN,EAAuB,GAAVH,EAAeJ,EAC5BG,EAAaD,EAAW,EA1BW,GA2BrCK,EAAaJ,EAAY,OAAOjkC,EAAK6uE,eAAe7jG,GAA3B,GACzBq5D,EAAaJ,EAAY,OAAOjkC,EAAK4uE,kBAAkB5jG,GA5BlB,IAgCrC24D,EAAgB,QAA+B,QAA/B3jC,EAAK4rE,qBAAqB,GAC1CltG,EAAcshC,EAAK4rE,qBAAqB,GACtCvpE,EAAsB,GACtBpC,EAAY,GAAK6jC,EAnCkB,GAoCrC7jC,KAAyC,GAAxBokC,EAAa,GAAK,IAA1B,MACL,IAAIjlC,MAAM,sBArCuB,IAuCrC+kC,EACAC,EAAwB,EAxCa,GA0CrCnkC,EAAYoC,EAAqB,KAC7BtV,EAAQsV,EAAsBpC,EAAAmkC,EACZr3C,EAAQ,GAFGo3C,EAGjBR,IAAiB52C,EAHA42C,EAInBA,GAAiB,GAAK52C,EAAWruB,IAAgBquB,EAJ9BruB,IAKL,GAAKquB,CALrC,MAMO,GAAIkT,IAAcoC,EAAlB+hC,EACmB,GADnBD,EAEaR,EAFbA,EAGUjlE,EAHVA,EAIS,MACT,KACCJ,EAAQ2hC,EAAYoC,EAAA+hC,EACF,GAAK9lE,EAFxB6lE,EAIAR,GAAgBrlE,EAAUI,IAAiB,GAAKJ,EAJhDqlE,EAKUjlE,GAAeJ,EALzBI,EAMS,MAAAimE,KAEA,IAAAR,KACsB,GACV,OAAOnkC,EAAK4uE,kBAAkB5jG,GAA9B,GACxB25D,EAAOR,EAAiB,OAAOnkC,EAAK6uE,eAAe7jG,GAA3B,IAEvB,IAAIw5D,EAAaN,EAAU,EAAiB,GAAdM,EAAiBA,IAAc,CACpC,EAAxBJ,GAD4DA,GAErC,GAFqCD,EAG5CR,IAAiB,EAH2BA,EAI9CA,GAAgB,GAAOjlE,IAAgB,EAJOA,IAKhC,IALgCylE,EAO5C,EAP4C,IAS1DS,EAAQzkE,EAAEgrG,gBAAgB3mC,GAAlB,GACVI,EAAQT,EAAiB,OAAOnkC,EAAK4uE,kBAAkB5jG,GAA9B,GACzB45D,EAAQT,EAAiB,OAAOnkC,EAAK6uE,eAAe7jG,EA7EjB,IAgFpB,IAAjB24D,GAAsC,IAAhBjlE,EAAmB,IACb,IAA1B0lE,EAA6B,MAAM,IAAIhlC,MAAM,sBAAhB,OAC1BY,EAAK6uE,eAAe7jG,EAApB,QAEF,KAAA7L,IAAA,kBAAAC,MAGT,SAAuBe,EAAS6K,GAAS,OACnCg1B,EAAKqrE,gBAAgBrgG,GACb,IAANA,EAA6B,IAAb7K,EAAEyK,OAED,IAAbzK,EAAEyK,QAAkBzK,EAAEytC,OAAc,EAAJ5iC,GAChC7K,EAAEgrG,gBAAgB,KAAOz+F,EAAS1B,GAEJ,IAAjCg1B,EAAK8uE,kBAAkB3uG,EAAG6K,EAA1B,IAAA7L,IAAA,2BAAAC,MAQT,SAAgCe,EAAgBuM,GAAW,OAElD,IADCA,EACkB,EAATvM,EACV,IAFCuM,EAEmB,GAAVvM,EACV,IAHCuM,EAGkB,EAATvM,EACV,IAJCuM,EAImB,GAAVvM,OALwC,KAAAhB,IAAA,YAAAC,MAS3D,SAAiBe,EAAQuM,EAAQ1B,GAAW,GAAA7K,EACtC6/B,EAAK0rE,cAAcvrG,GAAnBuM,EACAszB,EAAK0rE,cAAch/F,GACN,iBAANvM,GAA+B,iBAANuM,EAAA,OAC1B1B,GAAA,KACD,SAAU7K,EAAIuM,EAAA,KACd,SAAUvM,GAAKuM,EAAA,KACf,SAAUvM,EAAIuM,EAAA,KACd,SAAUvM,GAAKuM,EAAA,GAGpBszB,EAAKytE,WAAWttG,IAAmB,iBAANuM,EAAA,OAErB,QAFqBA,EAC3BszB,EAAKwrE,aAAa9+F,KAEfszB,EAAK+uE,yBAAyB/uE,EAAKgtE,kBAAkB7sG,EAAGuM,GAAI1B,GAA5D,GAEQ,iBAAN7K,GAAkB6/B,EAAKytE,WAAW/gG,GAAhB,OAEjB,QAFiBvM,EACvB6/B,EAAKwrE,aAAarrG,KAEf6/B,EAAK+uE,yBAAyB/uE,EAAKgtE,kBAAkB7sG,EAAGuM,GAAI1B,GAA5D,GAAA7K,EAEL6/B,EAAKwtE,YAAYrtG,GAAjBuM,EACAszB,EAAKwtE,YAAY9gG,GACjBszB,EAAKytE,WAAWttG,GAAI,IAClB6/B,EAAKytE,WAAW/gG,GAAhB,OACKszB,EAAK+uE,yBAAyB/uE,EAAKgtE,kBAAkB7sG,EAAGuM,GAAI1B,GAA5D,GAEQ,iBAAN0B,EAAgB,MAAM,IAAI0yB,MAAM,sBAAhB,OACpBY,EAAK+uE,yBAAyB/uE,EAAKgvE,kBAAkB7uG,EAAGuM,GAAI1B,EAA5D,IAEQ,iBAAN7K,EAAgB,MAAM,IAAIi/B,MAAM,sBAAhB,GACvBY,EAAKytE,WAAW/gG,GAAhB,OAEKszB,EAAK+uE,yBAAyB/uE,EAAKgvE,kBAAkBtiG,EAAGvM,GACrD,EAAL6K,GADE,GAGQ,iBAAN0B,EAAgB,MAAM,IAAI0yB,MAAM,sBApCD,OAsCnC,IADCp0B,EACS7K,EAAIuM,EACd,IAFC1B,EAES7K,GAAKuM,EACf,IAHC1B,EAGS7K,EAAIuM,EACd,IAJC1B,EAIS7K,GAAKuM,OAzCoB,KAAAvN,IAAA,gBAAAC,MAiD5C,SAAqBe,EAASuM,EAASmG,GAAmB,GACpD1S,EAAEyK,OAAS8B,EAAE9B,OAAQ,OAAOo1B,EAAK4sE,cAAclgG,EAAGvM,EAAG0S,GAAhC,GACR,IAAb1S,EAAEyK,OAAc,OAAOzK,EAAP,GACH,IAAbuM,EAAE9B,OAAc,OAAOzK,EAAEytC,OAAS/6B,EAAa1S,EAAI6/B,EAAKksE,WAAW/rG,GAAnD,IAChB6jE,EAAe7jE,EAAEyK,QACA,IAAjBzK,EAAEmsG,YAAqB5/F,EAAE9B,SAAWzK,EAAEyK,QAA2B,IAAjB8B,EAAE4/F,aALEtoC,IAAA,QAYhDE,EAJFS,EAAS,IAAI3kC,EAAKgkC,EAAcnxD,GAClCixD,EAAQ,EACRO,EAAI,EACDA,EAAI33D,EAAE9B,OAAQy5D,IACqBP,GAAlCI,EAAI/jE,EAAE2qG,QAAQzmC,GAAK33D,EAAEo+F,QAAQzmC,GAAKP,KAC1B,GAAAa,EACPqmC,WAAW3mC,EAAO,WAAJH,GAAA,KAEhBG,EAAIlkE,EAAEyK,OAAQy5D,IAAK,KAClBJ,EAAI9jE,EAAE2qG,QAAQzmC,GAAKP,EAAAA,EACjBG,IAAM,GAFUU,EAGjBqmC,WAAW3mC,EAAO,WAAJJ,EAAA,QAEnBI,EAAIM,EAAO/5D,QAAA+5D,EACNqmC,WAAW3mC,EAAGP,GAEhBa,EAAOqnC,QAAP,IAAA7sG,IAAA,gBAAAC,MAGT,SAAqBe,EAASuM,EAASmG,GAAmB,GACvC,IAAb1S,EAAEyK,OAAc,OAAOzK,EAAP,GACH,IAAbuM,EAAE9B,OAAc,OAAOzK,EAAEytC,OAAS/6B,EAAa1S,EAAI6/B,EAAKksE,WAAW/rG,GAAnD,QAKZ6jE,EAJFE,EAAS,IAAIlkC,EAAK7/B,EAAEyK,OAAQiI,GAC9B8xD,EAAS,EACTb,EAAI,EACDA,EAAIp3D,EAAE9B,OAAQk5D,IACqBa,EAClB,GADhBX,EAAI7jE,EAAE2qG,QAAQhnC,GAAKp3D,EAAEo+F,QAAQhnC,GAAKa,KACxB,GAAAT,EACT8mC,WAAWlnC,EAAO,WAAJE,GAAA,KAEhBF,EAAI3jE,EAAEyK,OAAQk5D,IAAK,KAClBO,EAAIlkE,EAAE2qG,QAAQhnC,GAAKa,EAAAA,EACH,EAAZN,IAAM,GAFQH,EAGjB8mC,WAAWlnC,EAAO,WAAJO,EAAA,QAEhBH,EAAO8nC,QAAP,IAAA7sG,IAAA,mBAAAC,MAGT,SAAwBe,EAASuM,GAAuC,IAAxBmG,EAAwB,EAAA7S,UAAA4K,aAAA,IAAA5K,UAAA,GAAAA,UAAA,GAAJ,KAC5DgkE,EAAc7jE,EAAEyK,OACP,OAAXiI,EAFkEA,EAG3D,IAAImtB,EAAKgkC,EAAat3D,GAHqCmG,EAK7D+6B,KAAOlhC,EALsD,QAS9Dw3D,EAFJS,EAAQ,EACHb,EAAI,EAAGA,EAAIE,EAAaF,IACNa,GAAnBT,EAAI/jE,EAAE2qG,QAAQhnC,GAAKa,KACX,GAAA9xD,EACPm4F,WAAWlnC,EAAO,WAAJI,GAAA,OAET,IAAVS,GAAA9xD,EACKo8F,eAAejrC,EAAa,GAE9BnxD,CAAA,IAAA1T,IAAA,mBAAAC,MAGT,SAAwBe,EAASuM,GAAqB,QAM5Cs3D,EALFnxD,EAAS1S,EAAEyK,OAEXs5D,EAAS,IAAIlkC,EAFFtzB,EACFA,GAAgBmG,GAChB,GACX8xD,EAAS,EACJb,EAAI,EAAGA,EAAIjxD,EAAQixD,IACDa,EACH,GADhBX,EAAI7jE,EAAE2qG,QAAQhnC,GAAKa,KACT,GAAAT,EACT8mC,WAAWlnC,EAAO,WAAJE,GAAA,GAER,IAAXW,EAAc,MAAM,IAAIvlC,MAAM,sBAAhB,IACb,IAAIilC,EAAIxxD,EAAQwxD,EAAI33D,EAAc23D,IAACH,EAC/B8mC,WAAW3mC,EAAG,UAEhBH,CAAA,IAAA/kE,IAAA,gBAAAC,MAGT,SAAqBe,EAASuM,GAAiC,IAAxBmG,EAAwB,EAAA7S,UAAA4K,aAAA,IAAA5K,UAAA,GAAAA,UAAA,GAAJ,KACrDgkE,EAAU7jE,EAAEyK,OACZs5D,EAAUx3D,EAAE9B,OACZ+5D,EAAWT,EAH8C,GAIzDF,EAAUE,EAAS,CAAAS,EACVX,EADU,IAEfF,EAAM3jE,EACNkkE,EAAYL,EAHG7jE,EAIjBuM,EAJiBs3D,EAKXE,EALWx3D,EAMjBo3D,EANiBI,EAOXG,CAAA,KAERJ,EAAeU,EACJ,OAAX9xD,EAdyDA,EAelD,IAAImtB,EAAKikC,GAAT,GAfkDA,EAiB5CpxD,EAAOjI,OAjBqC,QAmBzD+4D,EAAI,EACDA,EAAIgB,EAAUhB,IAAC9wD,EACbm4F,WAAWrnC,EAAGxjE,EAAE2qG,QAAQnnC,GAAKj3D,EAAEo+F,QAAQnnC,IAAV,KAE/BA,EAAIM,EAAcN,IAAC9wD,EACjBm4F,WAAWrnC,EAAG,UAEhB9wD,CAAA,IAAA1T,IAAA,mBAAAC,MAGT,SAAwBe,EAASuM,GAAiC,IAAxBmG,EAAwB,EAAA7S,UAAA4K,aAAA,IAAA5K,UAAA,GAAAA,UAAA,GAAJ,KACtDgkE,EAAU7jE,EAAEyK,OACZs5D,EAAUx3D,EAAE9B,OACd+5D,EAAWT,EACXF,EAAUE,IAJkDS,EAKnDX,GALmD,IAO5DF,EAAeE,EACJ,OAAXnxD,EAR4DA,EASrD,IAAImtB,EAAK8jC,GAAT,GATqDA,EAW/CjxD,EAAOjI,OAXwC,QAa5Dy5D,EAAI,EACDA,EAAIM,EAAUN,IAACxxD,EACbm4F,WAAW3mC,EAAGlkE,EAAE2qG,QAAQzmC,IAAM33D,EAAEo+F,QAAQzmC,IAAV,KAEhCA,EAAIL,EAASK,IAACxxD,EACZm4F,WAAW3mC,EAAGlkE,EAAE2qG,QAAQzmC,IAAV,KAEhBA,EAAIP,EAAcO,IAACxxD,EACjBm4F,WAAW3mC,EAAG,UAEhBxxD,CAAA,IAAA1T,IAAA,eAAAC,MAGT,SAAoBe,EAASuM,GAAiC,IAAxBmG,EAAwB,EAAA7S,UAAA4K,aAAA,IAAA5K,UAAA,GAAAA,UAAA,GAAJ,KACpDgkE,EAAU7jE,EAAEyK,OACZs5D,EAAUx3D,EAAE9B,OACZ+5D,EAAWT,EAH6C,GAIxDF,EAAUE,EAAS,CAAAS,EACVX,EADU,IAEfF,EAAM3jE,EACNkkE,EAAYL,EAHG7jE,EAIjBuM,EAJiBs3D,EAKXE,EALWx3D,EAMjBo3D,EANiBI,EAOXG,CAAA,KAERJ,EAAeD,EACJ,OAAXnxD,EAdwDA,EAejD,IAAImtB,EAAKikC,GAAT,GAfiDA,EAiB3CpxD,EAAOjI,OAjBoC,QAmBxD+4D,EAAI,EACDA,EAAIgB,EAAUhB,IAAC9wD,EACbm4F,WAAWrnC,EAAGxjE,EAAE2qG,QAAQnnC,GAAKj3D,EAAEo+F,QAAQnnC,IAAV,KAE/BA,EAAIK,EAASL,IAAC9wD,EACZm4F,WAAWrnC,EAAGxjE,EAAE2qG,QAAQnnC,IAAV,KAEhBA,EAAIM,EAAcN,IAAC9wD,EACjBm4F,WAAWrnC,EAAG,UAEhB9wD,CAAA,IAAA1T,IAAA,gBAAAC,MAGT,SAAqBe,EAASuM,GAAiC,IAAxBmG,EAAwB,EAAA7S,UAAA4K,aAAA,IAAA5K,UAAA,GAAAA,UAAA,GAAJ,KACrDgkE,EAAU7jE,EAAEyK,OACZs5D,EAAUx3D,EAAE9B,OACZ+5D,EAAWT,EAH8C,GAIzDF,EAAUE,EAAS,CAAAS,EACVX,EADU,IAEfF,EAAM3jE,EACNkkE,EAAYL,EAHG7jE,EAIjBuM,EAJiBs3D,EAKXE,EALWx3D,EAMjBo3D,EANiBI,EAOXG,CAAA,KAERJ,EAAeD,EACJ,OAAXnxD,EAdyDA,EAelD,IAAImtB,EAAKikC,GAAT,GAfkDA,EAiB5CpxD,EAAOjI,OAjBqC,QAmBzD+4D,EAAI,EACDA,EAAIgB,EAAUhB,IAAC9wD,EACbm4F,WAAWrnC,EAAGxjE,EAAE2qG,QAAQnnC,GAAKj3D,EAAEo+F,QAAQnnC,IAAV,KAE/BA,EAAIK,EAASL,IAAC9wD,EACZm4F,WAAWrnC,EAAGxjE,EAAE2qG,QAAQnnC,IAAV,KAEhBA,EAAIM,EAAcN,IAAC9wD,EACjBm4F,WAAWrnC,EAAG,UAEhB9wD,CAAA,IAAA1T,IAAA,oBAAAC,MAGT,SAAyBe,EAASuM,GAAO,IACjCmG,EAAO1S,EAAEyK,OAAS8B,EAAE9B,OAAA,GACb,GAATiI,EAAY,OAAOA,EAFgB,QAGnCmxD,EAAI7jE,EAAEyK,OAAS,EACP,GAALo5D,GAAU7jE,EAAE2qG,QAAQ9mC,KAAOt3D,EAAEo+F,QAAQ9mC,IAJLA,IAAA,OAK/B,EAAJA,EAAc,EACX7jE,EAAEgrG,gBAAgBnnC,GAAKt3D,EAAEy+F,gBAAgBnnC,GAAK,GAAK,KAAA7kE,IAAA,uBAAAC,MAG5D,SAA4Be,EAAoBuM,EAC5CmG,EAAmBmxD,GAAwB,GAC1B,IAAft3D,EAAA,SACEw3D,EAAqB,MAAbx3D,EACRi4D,EAASj4D,IAAe,GAC1Bo3D,EAAQ,EACRO,EAAO,EACFJ,EAAI,EAAGA,EAAI9jE,EAAayK,OAAQq5D,IAAKD,IAAoB,KAC5DL,EAAM9wD,EAAYi4F,QAAQ9mC,GACxBtlE,EAAKyB,EAAa2qG,QAAQ7mC,GAC1B5hC,EAAa,MAAL3jC,EACRuhC,EAASvhC,IAAO,GAChBylE,EAAOnkC,EAAK+qE,OAAO1oE,EAAO6hC,GAC1BE,EAAQpkC,EAAK+qE,OAAO1oE,EAAOsiC,GAC3B53C,EAAQiT,EAAK+qE,OAAO9qE,EAAQikC,GAP8BJ,GAAAH,GASzDU,EAAOF,EAAOL,KACL,GAVgDH,GAWzD,WAXyDG,IAAAH,KAY/C,MAARS,IAAmB,MAAgB,MAARr3C,IAAmB,OACtC,GAb+Cs3C,EAQlDrkC,EAAK+qE,OAAO9qE,EAAQ0kC,IAMlBP,IAAU,KAAOr3C,IAAU,IAdqBla,EAepDm4F,WAAWhnC,EAAwB,WAANL,EAAA,MAE1B,IAAVG,GAAwB,IAATO,EAAYL,IAAoB,KAChDQ,EAAM3xD,EAAYi4F,QAAQ9mC,GAApBQ,GACHV,EAAQO,EAFqCA,EAG7C,EAH6CP,EAI5CU,IAAQ,GAJoC3xD,EAKxCm4F,WAAWhnC,EAAwB,WAANQ,EAAA,MAAArlE,IAAA,wBAAAC,MAI7C,SAA6Be,EAAcuM,EAAgBmG,EACvDqxD,EAAWS,GAAY,QACrBb,EAAQjxD,EACRwxD,EAAO,EACFJ,EAAI,EAAGA,EAAIC,EAAGD,IAAK,KACpBvlE,EAAQyB,EAAO2qG,QAAQ7mC,GACvB5hC,EAAKrC,EAAK+qE,OAAe,MAARrsG,EAAgBgO,GACjCuzB,EAAKD,EAAK+qE,OAAOrsG,IAAU,GAAIgO,GAC/By3D,EAAI9hC,IAAY,MAALpC,IAAgB,IAAMokC,EAAOP,EAJpBA,EAKlBK,IAAM,GALYE,EAMnBpkC,IAAO,GANY0kC,EAOnBqmC,WAAW/mC,EAAO,WAAJE,EAAA,IAEnBQ,EAAO/5D,OAASs5D,EAAA,IAAAS,EACXqmC,WAAW9mC,IAAKJ,EAAQO,GACxBH,EAAIS,EAAO/5D,QAAA+5D,EACTqmC,WAAW9mC,IAAK,WAGJ,IAAjBJ,EAAQO,EAAY,MAAM,IAAIjlC,MAAM,qBAAV,IAAAjgC,IAAA,qBAAAC,MAgClC,SAA0Be,EAASuM,GACL,IAA1BmG,EAA0B,EAAA7S,UAAA4K,aAAA,IAAA5K,UAAA,GAAAA,UAAA,GAAJ,KACP,OAAb6S,IAAmBA,EAAW,IAAImtB,EAAK7/B,EAAEyK,QAAX,IADN,QAExBo5D,EAAY,EACPE,EAAe,EAAX/jE,EAAEyK,OAAa,EAAQ,GAALs5D,EAAQA,GAAK,EAAG,KACzCS,GAAUX,GAAa,GAAM7jE,EAAE8qG,YAAY/mC,MAAQ,EACjDJ,EAAgC,EAAnBa,EAAQj4D,EAGrB23D,EAAgC,GALOM,IAAAX,EAGb,EAAnBW,EAAQj4D,IACE,GAAMvM,EAAE8qG,YAAY/mC,EAAI,MAAQ,GAC5Bx3D,EAAAs3D,EACK,EAAnBW,EAAQj4D,EANwBmG,EAOpCm4F,WAAW9mC,IAAM,EAAIJ,GAAa,GAAMO,EAAA,QAE5CxxD,CAAA,IAAA1T,IAAA,qBAAAC,MAGT,SAA0Be,EAASuM,GAAe,QAC5Cs3D,EAAY,EACPE,EAAe,EAAX/jE,EAAEyK,OAAa,EAAQ,GAALs5D,EAAQA,IACoBF,EACzB,IADhBA,GAAa,GAAM7jE,EAAE8qG,YAAY/mC,MAAQ,GACpCx3D,EAAA,OAEhBs3D,CAAA,IAAA7kE,IAAA,qBAAAC,MAST,SAA0Be,EAAgBuM,EACtC1B,EAAuB6H,GAAsB,IAEzCqxD,EAAIx3D,EAAQwiG,oBACZlrC,EAAKt3D,EAAQ9B,OACb+5D,EAAIxkE,EAAS+uG,oBAAsBhrC,EACrCJ,EAAI,KACJ94D,IAN2C84D,EAOzC,IAAI9jC,EAAM2kC,EAAI,IAAO,GAArB,IACFynC,qBAR2C,IAUzCnoC,EAAQ,IAAIjkC,EAAMkkC,EAAI,IAAO,GAArB,GAAAD,EACRmoC,qBAXyC,IAazCzoC,EAAQ3jC,EAAKmvE,QAAQziG,EAAQu+F,YAAY/mC,EAAI,IACvC,EAARP,IAd2Cj3D,EAenCszB,EAAKovE,mBAAmB1iG,EAASi3D,EAAO,IAfL,QAiBzCjlE,EAAIshC,EAAKovE,mBAAmBjvG,EAAUwjE,EAAO,GAE7CU,EAAM33D,EAAQu+F,YAAY/mC,EAAI,GAChC7hC,EAAkB,EACbpC,EAAI0kC,EAAQ,GAAL1kC,EAAQA,IAAK,KAEvBkkC,EAAO,MACLp3C,EAAMruB,EAAEusG,YAAYhrE,EAAIikC,GAHH,GAIvBn3C,IAAQs3C,EAAK,KACT/lE,GAAUyuB,GAAO,GAAMruB,EAAEusG,YAAYhrE,EAAIikC,EAAI,MAAQ,EAAAC,EACpC,EAAf7lE,EAAQ+lE,EAFD,QAGXG,EAAuB,EAAflmE,EAAQ+lE,EACdO,EAAMl4D,EAAQu+F,YAAY/mC,EAAI,GAC9BK,EAAO7lE,EAAEusG,YAAYhrE,EAAIikC,EAAI,GAC3BlkC,EAAK+qE,OAAO5mC,EAAMS,KAAS,GAAQJ,GAAQ,GAAMD,KAAU,IANpDJ,MASF,OATEK,GAQLH,OAZe,CAAArkC,EAiBtBqvE,sBAAsB3iG,EAASy3D,EAAM,EAAGH,EAAIC,GAjBtB,IAkBvBiC,EAAIxnE,EAAE4wG,aAAarrC,EAAOhkC,EAAGikC,EAAI,GAC3B,IAANgC,IAnBuBA,EAoBrBxnE,EAAE6wG,aAAa7iG,EAASuzB,EAAGikC,GApBNxlE,EAqBvBwsG,eAAejrE,EAAIikC,EAAgC,MAA5BxlE,EAAEusG,YAAYhrE,EAAIikC,GAAKgC,GArBvB/B,KAwBvBn5D,IACM,EAAJi1B,EAzBqBoC,EA0BL8hC,GAAQ,GA1BHL,EA6BXknC,WAAW/qE,IAAM,EAAGoC,EAAkB8hC,GA7B3B,IAiCzBtxD,EAAA,OAAAnU,EACA8wG,oBAAoB7rC,GAClB34D,EACK,CAAAw/D,SAAY1G,EAAZ2G,UAAmC/rE,GAErCA,EAAA,GAELsM,EAAc,OAAQ84D,EAAR,MAEZ,IAAI1kC,MAAM,cAAV,IAAAjgC,IAAA,UAAAC,MAGR,SAAee,GAAa,OACnB6/B,EAAK6qE,QAAQ1qG,GAAS,MAAAhB,IAAA,qBAAAC,MA0F/B,SAA0Be,EAASuM,EAAemG,GAAa,IACvDqxD,EAAI/jE,EAAEyK,OAENo5D,EAAS,IAAIhkC,EADEkkC,EAAIrxD,GACV,GAH8C,GAI/C,IAAVnG,EAAa,KACV,IAAIi4D,EAAI,EAAGA,EAAIT,EAAGS,IAACX,EAAWgnC,WAAWrmC,EAAGxkE,EAAE2qG,QAAQnmC,IAAV,OAClC,EAAX9xD,GAAcmxD,EAAOgnC,WAAW9mC,EAAG,GAChCF,CAAA,SAIDF,EAFJO,EAAQ,EACHJ,EAAI,EAAGA,EAAIC,EAAGD,IACfH,EAAI3jE,EAAE2qG,QAAQ7mC,GAAVD,EACHgnC,WAAW/mC,EAAmB,WAAdH,GAAKp3D,EAAuB23D,GAAAA,EAC3CP,IAAO,GAAKp3D,EAAA,OAEP,EAAXmG,GAAAmxD,EACKgnC,WAAW9mC,EAAGG,GAEhBL,CAAA,IAAA7kE,IAAA,wBAAAC,MAGT,SAA6Be,EAASuM,GAAO,IACrCmG,EAAQmtB,EAAKyvE,gBAAgB/iG,GAArB,GACF,EAARmG,EAAW,MAAM,IAAIu3D,WAAW,kBAFO,IAGrCpG,EAA4B,EAAdnxD,EAAQ,GACtBqxD,EAAYrxD,EAAQ,GACpB8xD,EAASxkE,EAAEyK,OACXk5D,EAAqB,IAAdI,GACiD,GAAhD/jE,EAAE2qG,QAAQnmC,EAAS,KAAQ,GAAKT,EACxCG,EAAeM,EAASX,GAAcF,EAAO,EAAI,GACjDG,EAAS,IAAIjkC,EAAKqkC,EAAclkE,EAAEytC,MATG,GAUzB,IAAds2B,EAAiB,SACfP,EAAI,EACDA,EAAIK,EAAYL,IAACM,EAAW+mC,WAAWrnC,EAAG,QAC1CA,EAAIU,EAAcV,IAACM,EACjB+mC,WAAWrnC,EAAGxjE,EAAE2qG,QAAQnnC,EAAIK,GAJvC,KAMO,SACD3hC,EAAQ,EACHpC,EAAI,EAAGA,EAAI+jC,EAAY/jC,IAACgkC,EAAW+mC,WAAW/qE,EAAG,OACrD,IACGkkC,EADCC,EAAI,EAAGA,EAAIO,EAAQP,IACpBD,EAAIhkE,EAAE2qG,QAAQ1mC,GAAVH,EACH+mC,WACH5mC,EAAIJ,EAAgC,WAAlBG,GAAKD,EAA2B7hC,GAAAA,EAC9C8hC,IAAO,GAAKD,EAAA,GAElBJ,EAAAG,EACK+mC,WAAWrmC,EAASX,EAAY3hC,QAAA,GAEzB,IAAVA,EAAa,MAAM,IAAIjD,MAAM,qBAAV,QAGpB6kC,EAAO+nC,QAAP,IAAA7sG,IAAA,yBAAAC,MAGT,SAA8Be,EAASuM,GAAO,IACtCmG,EAAS1S,EAAEyK,OACXo5D,EAAO7jE,EAAEytC,KACTs2B,EAAQlkC,EAAKyvE,gBAAgB/iG,GAHS,GAIhC,EAARw3D,EAAW,OAAOlkC,EAAK0vE,sBAAsB1rC,GAJL,IAKtCW,EAA4B,EAAdT,EAAQ,GACtBJ,EAAYI,EAAQ,GACtBG,EAAexxD,EAAS8xD,EAPgB,GAQxB,GAAhBN,EAAmB,OAAOrkC,EAAK0vE,sBAAsB1rC,GAAlC,IAKnBC,GAAa,KACbD,EAAM,GAE+B,IAAlC7jE,EAAE2qG,QAAQnmC,IADD,GAAKb,GAAa,GAC5BG,GACW,WAER,IAAIN,EAAI,EAAGA,EAAIgB,EAAYhB,IAAC,GACV,IAAjBxjE,EAAE2qG,QAAQnnC,GAAU,CAAAM,GACT,EADS,MAQ1BA,GAA+B,IAAdH,GAGkB,IADzB3jE,EAAE2qG,QAAQj4F,EAAS,IAENwxD,IAAY,IAEnCpkC,EAAS,IAAID,EAAKqkC,EAAcL,GAAvB,GACK,IAAdF,EAAiB,CAAA7jC,EAEZ+qE,WAAW3mC,EAAe,EAAG,GAFjB,IAGd,IAAIF,EAAIQ,EAAYR,EAAItxD,EAAQsxD,IAAClkC,EAC7B+qE,WAAW7mC,EAAIQ,EAAYxkE,EAAE2qG,QAAQ3mC,GAJhD,KAMO,SAIGC,EAHJr3C,EAAQ5sB,EAAE2qG,QAAQnmC,KAAgBb,EAChCxlE,EAAOuU,EAAS8xD,EAAa,EAC1BH,EAAI,EAAGA,EAAIlmE,EAAMkmE,IAClBJ,EAAIjkE,EAAE2qG,QAAQtmC,EAAIG,EAAa,GAA3B1kC,EACH+qE,WAAWxmC,EAA8B,WAAzBJ,GAAM,GAAKN,EAA4B/2C,GAAAA,EACtDq3C,IAAMN,EAAA7jC,EAET+qE,WAAW1sG,EAAMyuB,EAAA,QAEtBk3C,IAAAhkC,EAGOD,EAAKisE,iBAAiBhsE,GAAtB,EAAoCA,IAExCA,EAAO+rE,QAAP,IAAA7sG,IAAA,wBAAAC,MAGT,SAA6Be,GAAa,OACpCA,EACK6/B,EAAKsrE,WAAW,GAAhB,GAEFtrE,EAAKorE,QAAL,IAAAjsG,IAAA,kBAAAC,MAGT,SAAuBe,GAAO,GACb,EAAXA,EAAEyK,OAAY,OAAQ,EAAR,IACZ8B,EAAQvM,EAAEgrG,gBAAgB,GAFJ,OAGxBz+F,EAAQszB,EAAKmsE,kBAA0B,EACpCz/F,CAAA,IAAAvN,IAAA,gBAAAC,MAGT,SAAqBe,GAAwB,IAAduM,EAAc,EAAA1M,UAAA4K,aAAA,IAAA5K,UAAA,GAAAA,UAAA,GAAT,aACf,WAAfgL,EAAO7K,GAAkB,OAAOA,EAAP,GACzBA,EAAIL,cAAgBkgC,EAAM,OAAO7/B,EAAP,GACR,oBAAX8mD,QACyB,WAA9Bj8C,EAAOi8C,OAAOC,aAA0B,KACtCr0C,EAAe1S,EAAI8mD,OAAOC,aAAR,GACpBr0C,EAAc,KACVmxD,EAAYnxD,EAAanG,GAAD,GACL,WAArB1B,EAAOg5D,GAAwB,OAAOA,EAAP,MAC7B,IAAI5c,UAAU,2CAAd,MAGJ8c,EAAU/jE,EAAI0/E,QAAA,GAChB3b,EAAS,KACLS,EAAYT,EAAQp0D,KAAK3P,GAAb,GACO,WAArB6K,EAAO25D,GAAwB,OAAOA,CAAA,KAEtCb,EAAW3jE,EAAIsK,SAAA,GACjBq5D,EAAU,KACNO,EAAYP,EAASh0D,KAAK3P,GAAd,GACO,WAArB6K,EAAOq5D,GAAwB,OAAOA,CAAA,OAEtC,IAAIjd,UAAU,2CAAd,IAAAjoD,IAAA,cAAAC,MAGR,SAAmBe,GAAc,OAC3B6/B,EAAKytE,WAAWttG,GAAeA,GAC1BA,CAAA,IAAAhB,IAAA,aAAAC,MAGX,SAAkBe,GAAc,MACN,WAAjB6K,EAAO7K,IAAgC,OAAVA,GAC7BA,EAAML,cAAgBkgC,CAAA,IAAA7gC,IAAA,oBAAAC,MAG/B,SAAyBe,EAAWuM,GAAO,QACnCmG,EAAiC,GAAhB1S,EAAI,IAAM,GAC3B6jE,EAAS,IAAIhkC,EAAKntB,EAAcnG,EAAEkhC,MAClCs2B,EAAOrxD,EAAe,EACnB8xD,EAAI,EAAGA,EAAIT,EAAMS,IAACX,EAClBgnC,WAAWrmC,EAAGj4D,EAAEo+F,QAAQnmC,IAAV,IAEnBb,EAAMp3D,EAAEo+F,QAAQ5mC,GAAV,GACO,GAAZ/jE,EAAI,GAAW,KACZkkE,EAAO,GAAMlkE,EAAI,GAAA2jE,EAChBA,GAAOO,IAAUA,CAAA,QAAAL,EAEnBgnC,WAAW9mC,EAAMJ,GACjBE,EAAOgoC,QAAP,IAAA7sG,IAAA,iCAAAC,MAGT,SAAsCe,EAAWuM,EAC7CmG,GAAmB,QAQbqxD,EARaF,EAMPp2D,KAAKwe,IALbu4C,EAAiC,GAAhBxkE,EAAI,IAAM,GAC3B2jE,EAAS,IAAI9jC,EAAK2kC,EAAc9xD,GAClCwxD,EAAI,EACFJ,EAAOU,EAAe,EACxBjmE,EAAS,EACP2jC,EAAQ2hC,EAASC,EAAMv3D,EAAE9B,QACxBy5D,EAAIhiC,EAAOgiC,IACa3lE,EACP,GADhBwlE,EAAI,EAAIx3D,EAAEo+F,QAAQzmC,GAAK3lE,KACb,GAAAolE,EACTknC,WAAW3mC,EAAO,WAAJH,GAAA,KAEhBG,EAAIJ,EAAMI,IAACP,EACTknC,WAAW3mC,EAA4B,EAAd,YAAT3lE,GAbJ,IAiBjBuhC,EAFAkkC,EAAMF,EAAOv3D,EAAE9B,OAAS8B,EAAEo+F,QAAQ7mC,GAAQ,EACxCG,EAAkBjkE,EAAI,GAhBP,GAkBG,IAApBikE,EAAAnkC,EACU,EAAIkkC,EAAMzlE,EAAAuhC,GACT,eACR,KACClT,EAAO,GAAKq3C,EAEZ9lE,EAAa,GAAM,GAAKyuB,EAAAkT,EAClB3hC,GAHM6lE,EACXA,GAAOp3C,IAAUA,GAEOruB,EAJ1BuhC,GAKS3hC,EAAa,SAAAwlE,EAEtBknC,WAAW/mC,EAAMhkC,GACjB6jC,EAAOkoC,QAAP,IAAA7sG,IAAA,aAAAC,MAgCT,SAAkBe,EAAcuM,GAAgB,QAC1C1B,EAAS,EACK,EAAX0B,GACU,EAAXA,IAAc1B,GAAU7K,GAHgBuM,KAI9B,EAJ8BvM,GAKpCA,EALoC,OAOvC6K,CAAA,IAAA7L,IAAA,kBAAAC,MAuCT,SAAuBe,GAAS,OAClB,WAAJA,KAAoBA,CAAA,KAAA6/B,CAAA,CA36D1B,CA26D0BqC,EA36Dbx3B,QAAA,OAs4DV65D,EAAAgmC,aAAA,SACAhmC,EAAAynC,iBAAmBznC,EAAKgmC,cAAgB,EAQxChmC,EAAA0pC,kBAAoB,CACzB,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAC9B,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,KAGV1pC,EAAA4pC,yBAA2B,EAC3B5pC,EAAA2pC,8BAAgC,GAAK3pC,EAAK4pC,yBAC1C5pC,EAAA+pC,mBAAA,kJACA/pC,EAAAirC,uBAAyB,IAAIC,YAAY,GACzClrC,EAAAmnC,uBAAyB,IAAIgE,aAAanrC,EAAKirC,wBAC/CjrC,EAAAknC,qBAAuB,IAAIkE,WAAWprC,EAAKirC,wBAK3CjrC,EAAAmmC,QAAUn+F,EAAa,SAASvM,GAAS,OACvCuM,EAAWvM,GAAK,CADR,EAEb,SAASA,GAAS,IAAAuM,EAEakB,KAAKmiG,IAFlB/kG,EAEP4C,KAAK2jB,IAFE,OACV,IAANpxB,EAAgB,GAC6B,EAA1C,IAAqC,EAA/B6K,EAAS7K,IAAM,GAAfuM,EAJR,EAMAg4D,EAAAqmC,OAAS5qG,GAAa,SAASA,EAAWuM,GAAS,OACvC,EAATvM,EAAIuM,CADP,EAAAg4D,CAAA,qCC16DT,IAAIsrC,EAAU,oBACVC,EAAS,6BACTC,EAAS,eAETC,EAAa,mBACbC,EAAS,eACTC,EAAa,mBAEbC,EAAc,oBASdC,EAAe,8BAGfC,EAA8B,iBAAVC,EAAAA,GAAsBA,EAAAA,GAAUA,EAAAA,EAAOpxG,SAAWA,QAAUoxG,EAAAA,EAGhFC,EAA0B,iBAARC,MAAoBA,MAAQA,KAAKtxG,SAAWA,QAAUsxG,KAGxE/rG,EAAO4rG,GAAcE,GAAYx9C,SAAS,cAATA,GAGjC09C,EAA4CC,IAAYA,EAAQC,UAAYD,EAG5EE,EAAaH,GAA4CI,IAAWA,EAAOF,UAAYE,EAMvFC,EAHgBF,GAAcA,EAAWF,UAAYD,GAGtBJ,EAAWU,QAG1CC,EAAY,WACd,IACE,OAAOF,GAAeA,EAAYG,QAAQ,OAC5C,CAAE,MAAOjxG,GAAI,CACf,CAJgB,GAOZkxG,EAAYF,GAAYA,EAASG,MA+CrC,IAAIC,EAAYr+C,SAAStjD,UACrB4hG,EAAcnyG,OAAOuQ,UAGrB6hG,EAAa7sG,EAAK,sBAGlB8sG,EAAc,WAChB,IAAIhjD,EAAM,SAASwe,KAAKukC,GAAcA,EAAW7tG,MAAQ6tG,EAAW7tG,KAAK+tG,UAAY,IACrF,OAAOjjD,EAAO,iBAAmBA,EAAO,EAC1C,CAHkB,GAMdkjD,EAAeL,EAAU9mG,SAGzBoF,EAAiB2hG,EAAY3hG,eAO7BgiG,EAAiBL,EAAY/mG,SAG7BqnG,EAAaxkF,OAAO,IACtBskF,EAAa9hG,KAAKD,GAAgB0sD,QA5GjB,sBA4GuC,QACvDA,QAAQ,yDAA0D,SAAW,KAI5Ew1C,EAAWC,EAAUptG,EAAM,YAC3BqqC,EAAM+iE,EAAUptG,EAAM,OACtB41C,EAAUw3D,EAAUptG,EAAM,WAC1BqwC,EAAM+8D,EAAUptG,EAAM,OACtBygE,EAAU2sC,EAAUptG,EAAM,WAG1BqtG,EAAqBC,EAASH,GAC9BI,EAAgBD,EAASjjE,GACzBmjE,EAAoBF,EAAS13D,GAC7B63D,EAAgBH,EAASj9D,GACzBq9D,EAAoBJ,EAAS7sC,GAgCjC,SAASktC,EAAanzG,GACpB,IAAKozG,EAASpzG,KA6DEgZ,EA7DiBhZ,EA8DxBsyG,GAAeA,KAAct5F,GA7DpC,OAAO,EA4DX,IAAkBA,EA1DZ4uF,EAkGN,SAAoB5nG,GAGlB,IAAIghB,EAAMoyF,EAASpzG,GAASyyG,EAAe/hG,KAAK1Q,GAAS,GACzD,OAAOghB,GAAO4vF,GAAW5vF,GAAO6vF,CAClC,CAvGiBwC,CAAWrzG,IA5F5B,SAAsBA,GAGpB,IAAIulD,GAAS,EACb,GAAa,MAATvlD,GAA0C,mBAAlBA,EAAMqL,SAChC,IACEk6C,KAAYvlD,EAAQ,GACtB,CAAE,MAAOe,GAAI,CAEf,OAAOwkD,CACT,CAkFsC+tD,CAAatzG,GAAU0yG,EAAavB,EACxE,OAAOvJ,EAAQhkE,KAAKkvE,EAAS9yG,GAC/B,CAUA,SAAS4yG,EAAU32E,EAAQl8B,GACzB,IAAIC,EApHN,SAAkBi8B,EAAQl8B,GACxB,OAAiB,MAAVk8B,OAAiB9lB,EAAY8lB,EAAOl8B,EAC7C,CAkHcwzG,CAASt3E,EAAQl8B,GAC7B,OAAOozG,EAAanzG,GAASA,OAAQmW,CACvC,CASA,IAAIq9F,EAnDJ,SAAoBxzG,GAClB,OAAOyyG,EAAe/hG,KAAK1Q,EAC7B,EA8FA,SAAS8yG,EAAS95F,GAChB,GAAY,MAARA,EAAc,CAChB,IACE,OAAOw5F,EAAa9hG,KAAKsI,EAC3B,CAAE,MAAOjY,GAAI,CACb,IACE,OAAQiY,EAAO,EACjB,CAAE,MAAOjY,GAAI,CACf,CACA,MAAO,EACT,CAmDA,SAASqyG,EAASpzG,GAChB,IAAIgD,SAAchD,EAClB,QAASA,IAAkB,UAARgD,GAA4B,YAARA,EACzC,EAzGK2vG,GAAYa,EAAO,IAAIb,EAAS,IAAInC,YAAY,MAAQU,GACxDrhE,GAAO2jE,EAAO,IAAI3jE,IAAQihE,GAC1B11D,GAAWo4D,EAAOp4D,EAAQC,YAAc01D,GACxCl7D,GAAO29D,EAAO,IAAI39D,IAAQm7D,GAC1B/qC,GAAWutC,EAAO,IAAIvtC,IAAYgrC,KACrCuC,EAAS,SAASxzG,GAChB,IAAIulD,EAASktD,EAAe/hG,KAAK1Q,GAC7ByzG,EA9MQ,mBA8MDluD,EAAsBvlD,EAAMU,iBAAcyV,EACjDu9F,EAAaD,EAAOX,EAASW,QAAQt9F,EAEzC,GAAIu9F,EACF,OAAQA,GACN,KAAKb,EAAoB,OAAO3B,EAChC,KAAK6B,EAAe,OAAOjC,EAC3B,KAAKkC,EAAmB,OAAOjC,EAC/B,KAAKkC,EAAe,OAAOjC,EAC3B,KAAKkC,EAAmB,OAAOjC,EAGnC,OAAO1rD,CACT,GAoIF,IAzSmBvsC,EAySfk5F,EAAQD,GAzSOj5F,EAySei5F,EAxSzB,SAASjyG,GACd,OAAOgZ,EAAKhZ,EACd,GAkGF,SAAmBA,GACjB,OA8KF,SAAsBA,GACpB,QAASA,GAAyB,iBAATA,CAC3B,CAhLS2zG,CAAa3zG,IAAUwzG,EAAOxzG,IAAU8wG,CACjD,EAoMAc,EAAOH,QAAUS,mCCpWjB,IAAItB,EAAU,oBACVC,EAAS,6BACTC,EAAS,eAETC,EAAa,mBACbC,EAAS,eACTC,EAAa,mBAEbC,EAAc,oBASdC,EAAe,8BAGfC,EAA8B,iBAAVC,EAAAA,GAAsBA,EAAAA,GAAUA,EAAAA,EAAOpxG,SAAWA,QAAUoxG,EAAAA,EAGhFC,EAA0B,iBAARC,MAAoBA,MAAQA,KAAKtxG,SAAWA,QAAUsxG,KAGxE/rG,EAAO4rG,GAAcE,GAAYx9C,SAAS,cAATA,GAGjC09C,EAA4CC,IAAYA,EAAQC,UAAYD,EAG5EE,EAAaH,GAA4CI,IAAWA,EAAOF,UAAYE,EAMvFC,EAHgBF,GAAcA,EAAWF,UAAYD,GAGtBJ,EAAWU,QAG1CC,EAAY,WACd,IACE,OAAOF,GAAeA,EAAYG,QAAQ,OAC5C,CAAE,MAAOjxG,GAAI,CACf,CAJgB,GAOZ6yG,EAAY7B,GAAYA,EAAS8B,MA+CrC,IAAI1B,EAAYr+C,SAAStjD,UACrB4hG,EAAcnyG,OAAOuQ,UAGrB6hG,EAAa7sG,EAAK,sBAGlB8sG,EAAc,WAChB,IAAIhjD,EAAM,SAASwe,KAAKukC,GAAcA,EAAW7tG,MAAQ6tG,EAAW7tG,KAAK+tG,UAAY,IACrF,OAAOjjD,EAAO,iBAAmBA,EAAO,EAC1C,CAHkB,GAMdkjD,EAAeL,EAAU9mG,SAGzBoF,EAAiB2hG,EAAY3hG,eAO7BgiG,EAAiBL,EAAY/mG,SAG7BqnG,EAAaxkF,OAAO,IACtBskF,EAAa9hG,KAAKD,GAAgB0sD,QA5GjB,sBA4GuC,QACvDA,QAAQ,yDAA0D,SAAW,KAI5Ew1C,EAAWC,EAAUptG,EAAM,YAC3BqqC,EAAM+iE,EAAUptG,EAAM,OACtB41C,EAAUw3D,EAAUptG,EAAM,WAC1BqwC,EAAM+8D,EAAUptG,EAAM,OACtBygE,EAAU2sC,EAAUptG,EAAM,WAG1BqtG,EAAqBC,EAASH,GAC9BI,EAAgBD,EAASjjE,GACzBmjE,EAAoBF,EAAS13D,GAC7B63D,EAAgBH,EAASj9D,GACzBq9D,EAAoBJ,EAAS7sC,GAqBjC,SAASktC,EAAanzG,GACpB,IAAKozG,EAASpzG,KAwEEgZ,EAxEiBhZ,EAyExBsyG,GAAeA,KAAct5F,GAxEpC,OAAO,EAuEX,IAAkBA,EArEZ4uF,EA6GN,SAAoB5nG,GAGlB,IAAIghB,EAAMoyF,EAASpzG,GAASyyG,EAAe/hG,KAAK1Q,GAAS,GACzD,OAAOghB,GAAO4vF,GAAW5vF,GAAO6vF,CAClC,CAlHiBwC,CAAWrzG,IAjF5B,SAAsBA,GAGpB,IAAIulD,GAAS,EACb,GAAa,MAATvlD,GAA0C,mBAAlBA,EAAMqL,SAChC,IACEk6C,KAAYvlD,EAAQ,GACtB,CAAE,MAAOe,GAAI,CAEf,OAAOwkD,CACT,CAuEsC+tD,CAAatzG,GAAU0yG,EAAavB,EACxE,OAAOvJ,EAAQhkE,KAAKkvE,EAAS9yG,GAC/B,CAqBA,SAAS4yG,EAAU32E,EAAQl8B,GACzB,IAAIC,EApHN,SAAkBi8B,EAAQl8B,GACxB,OAAiB,MAAVk8B,OAAiB9lB,EAAY8lB,EAAOl8B,EAC7C,CAkHcwzG,CAASt3E,EAAQl8B,GAC7B,OAAOozG,EAAanzG,GAASA,OAAQmW,CACvC,CASA,IAAIq9F,EAnDJ,SAAoBxzG,GAClB,OAAOyyG,EAAe/hG,KAAK1Q,EAC7B,EA8FA,SAAS8yG,EAAS95F,GAChB,GAAY,MAARA,EAAc,CAChB,IACE,OAAOw5F,EAAa9hG,KAAKsI,EAC3B,CAAE,MAAOjY,GAAI,CACb,IACE,OAAQiY,EAAO,EACjB,CAAE,MAAOjY,GAAI,CACf,CACA,MAAO,EACT,CAmDA,SAASqyG,EAASpzG,GAChB,IAAIgD,SAAchD,EAClB,QAASA,IAAkB,UAARgD,GAA4B,YAARA,EACzC,EAzGK2vG,GAAYa,EAAO,IAAIb,EAAS,IAAInC,YAAY,MAAQU,GACxDrhE,GAAO2jE,EAAO,IAAI3jE,IAAQihE,GAC1B11D,GAAWo4D,EAAOp4D,EAAQC,YAAc01D,GACxCl7D,GAAO29D,EAAO,IAAI39D,IAAQm7D,GAC1B/qC,GAAWutC,EAAO,IAAIvtC,IAAYgrC,KACrCuC,EAAS,SAASxzG,GAChB,IAAIulD,EAASktD,EAAe/hG,KAAK1Q,GAC7ByzG,EA9MQ,mBA8MDluD,EAAsBvlD,EAAMU,iBAAcyV,EACjDu9F,EAAaD,EAAOX,EAASW,QAAQt9F,EAEzC,GAAIu9F,EACF,OAAQA,GACN,KAAKb,EAAoB,OAAO3B,EAChC,KAAK6B,EAAe,OAAOjC,EAC3B,KAAKkC,EAAmB,OAAOjC,EAC/B,KAAKkC,EAAe,OAAOjC,EAC3B,KAAKkC,EAAmB,OAAOjC,EAGnC,OAAO1rD,CACT,GAoIF,IAzSmBvsC,EAySf66F,EAAQD,GAzSO56F,EAySe46F,EAxSzB,SAAS5zG,GACd,OAAOgZ,EAAKhZ,EACd,GAkHF,SAAmBA,GACjB,OA8JF,SAAsBA,GACpB,QAASA,GAAyB,iBAATA,CAC3B,CAhKS2zG,CAAa3zG,IAAUwzG,EAAOxzG,IAAUgxG,CACjD,EAoLAY,EAAOH,QAAUoC,mLC9WF,SAAS,EAA8BtjG,EAAQujG,GAC5D,GAAc,MAAVvjG,EAAgB,MAAO,CAAC,EAC5B,IAEIxQ,EAAK6L,EAFL0E,EAAS,CAAC,EACVyjG,EAAa9zG,OAAOuE,KAAK+L,GAE7B,IAAK3E,EAAI,EAAGA,EAAImoG,EAAWvoG,OAAQI,IACjC7L,EAAMg0G,EAAWnoG,GACbkoG,EAAS1xF,QAAQriB,IAAQ,IAC7BuQ,EAAOvQ,GAAOwQ,EAAOxQ,IAEvB,OAAOuQ,CACT,cCNI0jG,EAAgB,IAAIn3B,WAAW,GAC/Bo3B,EAAe,WACfC,EAAahmF,OAEjB,8GAQsC,KAyBlCimF,EAAY,CAAC,EACbC,EAAY,UACZC,EAAS,SAAgBt0G,GAC3B,GAAY,OAARA,QAAwBoW,IAARpW,IAAsBA,EAAIyL,OAC5C,MAAO,GAET,GAAmB,kBAARzL,EACT,MAAM,IAAIigC,MAAM,6BAwBlB,OAtBsB,MAAlBm0E,EAAUp0G,KAcRA,EAAIq5B,SAAS,MAEf+6E,EAAUp0G,GAAOA,EAAI2N,MAAM0mG,GAAW3vG,OAAOsmC,SAG7CopE,EAAUp0G,GA5CG,SAAsBu0G,GACvC,IAAI/uD,EAAS,GAab,OAZI+uD,EAAOz3B,WAAW,KAAOm3B,GAC3BzuD,EAAOnxB,KAAK,IAEdkgF,EAAOn3C,QAAQ+2C,GAAY,SAAUjmF,EAAOyJ,EAAY68E,EAAOC,GAC7D,IAAIz0G,EAAMkuB,EACNsmF,EACFx0G,EAAMy0G,EAAUr3C,QAAQ82C,EAAc,MAC7Bv8E,IACT33B,EAAM23B,EAAWm8D,QAEnBtuC,EAAOnxB,KAAKr0B,EACd,IACOwlD,CACT,CA6BuBkvD,CAAa10G,IAG3Bo0G,EAAUp0G,EACnB,EAGI20G,EAAQ,SAAe7lG,EAAO8lG,GAIhC,IAFA,IAAIl8E,EAAO47E,EAAOM,GACdlzG,EAAUoN,EACLjD,EAAI,EAAGA,EAAI6sB,EAAKjtB,OAAQI,IAAK,CACpC,IAAI7L,EAAM04B,EAAK7sB,GACf,QAAgBuK,IAAZ1U,GAAqC,OAAZA,GAAuC,kBAAZA,GAAwBgK,MAAM+kB,QAAQ/uB,IAAYwI,MAAMlK,GAC9G,OAEF0B,EAAUA,EAAQ1B,EACpB,CACA,OAAO0B,CACT,EAEA,SAASymD,EAAeR,GAAO,IAAI3nD,EACnC,SAAsBiK,EAAO29C,GAAQ,GAAqB,kBAAV39C,GAAgC,OAAVA,EAAgB,OAAOA,EAAO,IAAI49C,EAAO59C,EAAM69C,OAAOC,aAAc,QAAa3xC,IAATyxC,EAAoB,CAAE,IAAIG,EAAMH,EAAKl3C,KAAK1G,EAAO29C,GAAQ,WAAY,GAAmB,kBAARI,EAAkB,OAAOA,EAAK,MAAM,IAAIC,UAAU,+CAAiD,CAAE,OAAiB,WAATL,EAAoBxjC,OAASgd,QAAQn3B,EAAQ,CAD/Ui+C,CAAaP,EAAK,UAAW,MAAsB,kBAAR3nD,EAAmBA,EAAMokB,OAAOpkB,EAAM,CAE1H,IAAI60G,EAAgB,SAASA,EAAcnzG,EAAS0qB,EAAOsM,EAAMz4B,EAAO60G,GACtE,GAAI1oF,GAASsM,EAAKjtB,OAEhB,OAAOxL,EAET,IAAID,EAAM04B,EAAKtM,GAGf,GAAIliB,MAAMlK,GAAM,CACd,IAAI+0G,EAEJ,QAAgB3+F,IAAZ1U,GAAqC,OAAZA,EAAkB,CAC7C,IAAIrD,EAEAgwD,EAAUwmD,OAAcz+F,EAAWgW,EAAQ,EAAGsM,EAAMz4B,EAAO60G,GAG/D,YAAmB1+F,IAAZi4C,OAAwBj4C,IAAa/X,EAAO,CAAC,GAAQ2B,GAAOquD,EAAShwD,EAC9E,CACA,GAAIqN,MAAM+kB,QAAQ/uB,GAChB,MAAM,IAAIu+B,MAAM,iDAGlB,IAAI+0E,EAAWH,EAAcnzG,EAAQ1B,GAAMosB,EAAQ,EAAGsM,EAAMz4B,EAAO60G,GACnE,QAAiB1+F,IAAb4+F,EAAwB,CAC1B,IAAIC,EAAU/0G,OAAOuE,KAAK/C,GAAS+J,OACnC,QAAqB2K,IAAjB1U,EAAQ1B,IAAkC,IAAZi1G,EAEhC,OAEF,YAAqB7+F,IAAjB1U,EAAQ1B,IAAsBi1G,GAAW,EAEtC/qG,MAAMwuB,EAAKtM,EAAQ,KAAQ0oF,OAI9B,EAFO,CAAC,GAKZpzG,EAAQ1B,GACOk1G,EAA8BxzG,EAAS,CAAC1B,GAAKiE,IAAIkkD,IAElE,CAEA,OAAO93C,EAAAA,EAAAA,GAAS,CAAC,EAAG3O,IAAUqzG,EAAY,CAAC,GAAa/0G,GAAOg1G,EAAUD,GAC3E,CAEA,IAAII,EAAa/zE,OAAOphC,GACxB,QAAgBoW,IAAZ1U,GAAqC,OAAZA,EAAkB,CAE7C,IAAI0zG,EAAWP,OAAcz+F,EAAWgW,EAAQ,EAAGsM,EAAMz4B,EAAO60G,GAGhE,QAAiB1+F,IAAbg/F,EACF,OAIF,IAAIC,EAAS,GAEb,OADAA,EAAOF,GAAcC,EACdC,CACT,CACA,IAAK3pG,MAAM+kB,QAAQ/uB,GACjB,MAAM,IAAIu+B,MAAM,8CAGlB,IACIulB,EAASqvD,EADOnzG,EAAQyzG,GACc/oF,EAAQ,EAAGsM,EAAMz4B,EAAO60G,GAG9Dl0D,EAAQ,GAAGjjD,OAAO+D,GACtB,GAAIozG,QAA4B1+F,IAAXovC,GAEnB,GADA5E,EAAME,OAAOq0D,EAAY,GACJ,IAAjBv0D,EAAMn1C,OACR,YAGFm1C,EAAMu0D,GAAc3vD,EAEtB,OAAO5E,CACT,EACI00D,EAAQ,SAAexmG,EAAO9O,EAAKC,EAAO60G,GAI5C,QAHsB,IAAlBA,IACFA,GAAgB,QAEJ1+F,IAAVtH,GAAiC,OAAVA,EACzB,MAAM,IAAImxB,MAAM,4BAA8B7b,OAAOtV,GAAS,UAEhE,QAAYsH,IAARpW,GAA6B,OAARA,EACvB,MAAM,IAAIigC,MAAM,4BAA8B7b,OAAOpkB,GAAO,QAI9D,OAAO60G,EAAc/lG,EAAO,EAAGwlG,EAAOt0G,GAAMC,EAAO60G,EACrD,EAEIS,EAAa,wBACbC,EAAc,yBAQlB,SAASC,EAAkBC,EAAWC,GACpC,IAAIC,EAASF,EAAUE,OACrBC,EAAgBH,EAAUG,cAC1BC,EAAsBJ,EAAUI,oBAChCC,EAAeL,EAAUK,aACzBC,EAAeN,EAAUM,aACzBC,EAAkBP,EAAUO,gBAC5BC,EAAaR,EAAUQ,WACvB/pF,EAASupF,EAAUvpF,OACjB5Y,EAASoiG,EAAMpiG,OACjB4iG,EAAOR,EAAMQ,KACbl5F,EAAS04F,EAAM14F,OACfvI,EAAOihG,EAAMjhG,KACb/S,EAAQg0G,EAAMh0G,MACdy0G,EAAWT,EAAMS,SACjBC,EAA0BV,EAAMU,wBAChCr0G,EAAO2zG,EAAM3zG,KACb+9F,EAAU4V,EAAM5V,QAChBE,EAAa0V,EAAM1V,WACnBqW,EAAUX,EAAMW,QACdr2G,EAAQ00G,EAAMxoF,EAAQnqB,GACtBI,EAAQuyG,EAAMiB,EAAQ5zG,GACtBI,GAASA,EAAMozG,KACjBpzG,EAAQA,EAAMozG,IAEhB,IAAI1V,EAAciW,GAAgBpB,EAAMoB,EAAc/zG,GAClDw0C,EAAUq/D,GAAiBlB,EAAMkB,EAAe7zG,GAChDu0G,EAAWZ,EAAMa,QAAQhgE,EAASv2C,GAElCsC,GAASH,IAAU09F,EACvB,MAAO,CACLvsF,OAAQA,EACR4iG,KAAMA,EACNl5F,OAAQA,EACRvI,KAAMA,EACN+hG,OAAQF,EACRG,wBAR4BZ,GAAwBH,EAAMa,QAAQ7B,EAAMmB,EAAqB9zG,GAAO/B,IASpGmC,MAAOA,EACPT,MAAOA,EACP60C,QAASA,EACTwpD,SAAUz9F,EACVkJ,OAAQC,MAAM+kB,QAAQxwB,GAASA,EAAMwL,YAAS2K,EAC9CggG,SAAUA,EACVC,wBAAyBA,EACzBr0G,KAAMA,EACNu0G,SAAUA,EACVzW,YAAaA,EACbkW,aAAcA,EACdC,gBAAiBA,EACjBC,WAAYA,EACZnW,QAASA,EACTx9F,MAAOA,EACPtC,MAAOA,EACPq2G,QAASA,EACTrW,WAAYA,EAEhB,CAGA,IAAI0W,EAAyB,CAAC,SAAU,OAAQ,QAAS,uBAAwB,QAAS,UAAW,UAAW,SAAU,WAAY,0BAA2B,WAAY,cAAe,eAAgB,kBAAmB,aAAc,UAAW,QAAS,QAAS,UAAW,cAIjRC,EAAe,SAAsB/1E,EAAGC,GAC1C,GAAID,IAAMC,EACR,OAAO,EAET,GAAiB,kBAAND,IAAmBA,GAAkB,kBAANC,IAAmBA,EAC3D,OAAO,EAET,IAAI+1E,EAAQ32G,OAAOuE,KAAKo8B,GACpBi2E,EAAQ52G,OAAOuE,KAAKq8B,GACxB,GAAI+1E,EAAMprG,SAAWqrG,EAAMrrG,OACzB,OAAO,EAGT,IADA,IAAIsrG,EAAkB72G,OAAOuQ,UAAUC,eAAeq4B,KAAKjI,GAClDk2E,EAAM,EAAGA,EAAMH,EAAMprG,OAAQurG,IAAO,CAC3C,IAAIh3G,EAAM62G,EAAMG,GAChB,IAAKD,EAAgB/2G,IAAQ6gC,EAAE7gC,KAAS8gC,EAAE9gC,GACxC,OAAO,CAEX,CACA,OAAO,CACT,EAGA,SAASi3G,EAAoBC,EAAMC,EAAKh6D,EAAUi6D,EAAc3yG,EAAM4yG,GACpE,IAAIC,GAAY,EAShB,OARA7yG,EAAKyiC,SAAQ,SAAUlnC,GACjBo3G,EAAap3G,KACfk3G,EAAKl3G,GAAOm3G,EAAIn3G,GACXm9C,KAAck6D,EAAiBh1F,QAAQriB,GAAQ42G,EAAaO,EAAIn3G,GAAMm9C,EAASn9C,IAAQm3G,EAAIn3G,KAASm9C,EAASn9C,MAChHs3G,GAAY,GAGlB,IACOA,CACT,CAGA,IAAIC,EAAqB,CAAC,QAKtBC,EAAmB,SAA0B1oG,EAAO2oG,EAAeL,EAAcM,GACnF,IAAIlyD,EAAS,CACX2wD,KAAMrnG,EAAMqnG,KACZl5F,OAAQnO,EAAMmO,OACdtb,MAAOmN,EAAMnN,MACbK,KAAM8M,EAAM9M,MAGd,OADgBi1G,EAAmBzxD,EAAQ12C,EAAO2oG,EAAeL,EAAcT,EAAwBY,KAAwBE,GAC3GC,EAAQlyD,OAASpvC,CACvC,EAGIuhG,EAAwB,CAAC,SAAU,QAAS,cAAe,6BAA8B,uBAAwB,QAAS,SAAU,kBAAmB,sBAAuB,gBAAiB,UAAW,WAAY,0BAA2B,WAAY,aAAc,cAAe,eAAgB,eAAgB,kBAAmB,UAAW,QAAS,aAAc,SAAU,WAGzXN,EAAmB,CAAC,UAAW,WAKnC,SAASO,EAAgB9oG,EAAO2oG,EAAeL,EAAcM,GAC3D,IAAIlyD,EAAS,CAAC,EAEd,OADgByxD,EAAmBzxD,EAAQ12C,EAAO2oG,EAAeL,EAAcO,EAAuBN,KAAsBI,GACxGC,EAAQlyD,OAASpvC,CACvC,CAGA,IAAIyhG,EAAU,SAAiB1nG,GAC7B,IAAI2nG,EACAC,EACJ,OAAO,WACL,IAAK,IAAI1+F,EAAOxY,UAAU4K,OAAQ6N,EAAO,IAAI5N,MAAM2N,GAAOE,EAAO,EAAGA,EAAOF,EAAME,IAC/ED,EAAKC,GAAQ1Y,UAAU0Y,GAQzB,OANKu+F,GAAYx+F,EAAK7N,SAAWqsG,EAASrsG,SAAU6N,EAAKsqB,MAAK,SAAU+jB,EAAKv7B,GAC3E,OAAQwqF,EAAakB,EAAS1rF,GAAQu7B,EACxC,MACEmwD,EAAWx+F,EACXy+F,EAAa5nG,EAAGS,WAAM,EAAQ0I,IAEzBy+F,CACT,CACF,EAEIC,EAAa,SAAUj4G,GACzB,QAASA,IAAuB,kBAARA,GAAmC,oBAARA,IAA2C,oBAAbA,EAAIo+C,IACvF,EAKI85D,EAAe,SAAsBp3E,EAAGC,GAC1C,OAAOD,IAAMC,CACf,EACIo3E,EAAc,SAASA,EAAYtC,GACrC,OAAO11G,OAAOuE,KAAKmxG,GAAQhyE,MAAK,SAAU5jC,GACxC,IAAIC,EAAQ21G,EAAO51G,GACnB,OAAIC,GAA0B,kBAAVA,GAAwBA,aAAiBggC,MAGrC,qBAAVhgC,EAFLi4G,EAAYj4G,EAGvB,GACF,EAuCA,SAASk4G,EAAiBC,EAAYhB,EAActoG,EAAOupG,EAAW3zG,EAAQgzG,GAC5E,IAAIY,EAAe5zG,EAAOoK,EAAOupG,EAAWjB,EAAcM,GAC1D,QAAIY,IACFF,EAAWE,IACJ,EAGX,CACA,SAASC,EAAO74G,EAAOoP,EAAOupG,EAAW3zG,EAAQgzG,GAC/C,IAAI9zG,EAAUlE,EAAMkE,QACpB1D,OAAOuE,KAAKb,GAASsjC,SAAQ,SAAUlnC,GACrC,IAAIwF,EAAQ5B,EAAQw9B,OAAOphC,IAE3B,GAAIwF,EAAO,CACT,IAAI4xG,EAAe5xG,EAAM4xG,aACvBgB,EAAa5yG,EAAM4yG,WACnBI,EAAWhzG,EAAMgzG,SACfL,EAAiBC,EAAYhB,EAActoG,EAAOupG,EAAW3zG,EAAQgzG,IAAUc,KACjFhzG,EAAMgzG,UAAW,EAErB,CACF,GACF,CACA,SAASC,EAAWvhE,GAClB,IAAKA,EACH,MAAM,IAAIjX,MAAM,uBAElB,IAAIy4E,EAAQxhE,EAAOwhE,MACjBC,EAAsBzhE,EAAOyhE,oBAC7BC,EAA0B1hE,EAAO0hE,wBACjC/C,EAAgB3+D,EAAO2+D,cACvBgD,EAAW3hE,EAAO2hE,SAClBC,EAAW5hE,EAAO4hE,SAClB1qD,EAAWlX,EAAOkX,SAClB2qD,EAAiB7hE,EAAO6hE,eAC1B,IAAKD,EACH,MAAM,IAAI74E,MAAM,kCAElB,IAAInxB,EAAQ,CACVkqG,YAAa,CACX5sF,MAAO,EACPxoB,QAAS,CAAC,GAEZq1G,iBAAkB,CAAC,EACnBzkF,OAAQ,CAAC,EACTkhF,UAAW,CACTwD,YAAa,CAAC,EACdxC,sBAAsB,EACtBL,yBAAyB,EACzBT,OAAQ,CAAC,EACTC,cAAeA,IAAiBxlG,EAAAA,EAAAA,GAAS,CAAC,EAAGwlG,GAC7C7V,SAAS,EACTuW,UAAU,EACVL,YAAY,EACZF,cAAc,EACdC,iBAAiB,EACjBkD,sBAAsB,EACtB52G,OAAO,EACP09F,WAAY,EACZ9zE,OAAQ0pF,GAAgBxlG,EAAAA,EAAAA,GAAS,CAAC,EAAGwlG,GAAiB,CAAC,GAEzDuD,mBAAehjG,GAEbijG,EAAU,EACVC,GAAmB,EACnBC,GAAoB,EACpBC,GAA2C,EAC3CC,EAAyB,EACzBC,EAA0B,CAAC,EAO3BC,EAAc,SAAqB7qG,EAAO9M,EAAM43G,GAClD,IACIC,EAAQD,EADCjF,EAAM7lG,EAAM4mG,UAAUvpF,OAAQnqB,IAE3C8M,EAAM4mG,UAAUvpF,OAASmpF,EAAMxmG,EAAM4mG,UAAUvpF,OAAQnqB,EAAM63G,IAAU,CAAC,CAC1E,EACIC,EAAc,SAAqBhrG,EAAOnD,EAAM4gB,GAClD,GAAIzd,EAAM0lB,OAAO7oB,GAAO,CACtB,IAAIopG,EAAWgF,EACfjrG,EAAM0lB,QAASnkB,EAAAA,EAAAA,GAAS,CAAC,EAAGvB,EAAM0lB,SAASugF,EAAY,CAAC,GAAaxoF,IAAMlc,EAAAA,EAAAA,GAAS,CAAC,EAAGvB,EAAM0lB,OAAO7oB,GAAO,CAC1G3J,KAAMuqB,EAEN4pF,KAAM,WACJ,OAAO6D,EAAI7D,KAAK5pF,EAClB,EACAtP,OAAQ,SAAgBhd,GACtB,OAAO+5G,EAAI/8F,OAAOsP,EAAItsB,EACxB,EACA0B,MAAO,WACL,OAAOq4G,EAAIr4G,MAAM4qB,EACnB,EACA0tF,oBAAgB7jG,IACd2+F,WACGjmG,EAAM0lB,OAAO7oB,GACpBmD,EAAMmqG,kBAAmB5oG,EAAAA,EAAAA,GAAS,CAAC,EAAGvB,EAAMmqG,mBAAmBc,EAAY,CAAC,GAAaxtF,GAAMzd,EAAMmqG,iBAAiBttG,GAAOouG,WACtHjrG,EAAMmqG,iBAAiBttG,GAC9B,IAAI1L,EAAQ00G,EAAM7lG,EAAM4mG,UAAUvpF,OAAQxgB,GAC1CmD,EAAM4mG,UAAUvpF,OAASmpF,EAAMxmG,EAAM4mG,UAAUvpF,OAAQxgB,OAAMyK,IAAc,CAAC,EAC5EtH,EAAM4mG,UAAUvpF,OAASmpF,EAAMxmG,EAAM4mG,UAAUvpF,OAAQI,EAAItsB,UACpD6O,EAAMsqG,aACf,CACF,EAGIc,EAAgB,SAAuBl6G,GACzC,OAAO,WAEL,GAAI64G,EAAU,CAQZ,IANA,IAAIsB,EAAiB,CACnBzE,UAAW5mG,EAAM4mG,UACjBlhF,OAAQ1lB,EAAM0lB,OACdykF,iBAAkBnqG,EAAMmqG,iBACxBG,cAAetqG,EAAMsqG,eAEd//F,EAAOxY,UAAU4K,OAAQ6N,EAAO,IAAI5N,MAAM2N,GAAOE,EAAO,EAAGA,EAAOF,EAAME,IAC/ED,EAAKC,GAAQ1Y,UAAU0Y,GAEzB,IAAI6gG,EAAcvB,EAAS74G,GAAKsZ,EAAM6gG,EAAgB,CACpDR,YAAaA,EACbhF,MAAOA,EACPmF,YAAaA,EACbO,gBAAiBL,EAAIK,gBACrB/E,MAAOA,EACPsB,aAAcA,IAUhB,OARA9nG,EAAM4mG,UAAYyE,EAAezE,UACjC5mG,EAAM0lB,OAAS2lF,EAAe3lF,OAC9B1lB,EAAMmqG,iBAAmBkB,EAAelB,iBACxCnqG,EAAMsqG,cAAgBe,EAAef,cACrCkB,OAAclkG,GAAW,WACvBmkG,IACAC,GACF,IACOJ,CACT,CACF,CACF,EACIK,EAAc5B,EAAW34G,OAAOuE,KAAKo0G,GAAUh1G,QAAO,SAAU2hD,EAAQxlD,GAE1E,OADAwlD,EAAOxlD,GAAOk6G,EAAcl6G,GACrBwlD,CACT,GAAG,CAAC,GAAK,CAAC,EAeNk1D,EAAgB,SAAuB/E,GACzC,OAAOz1G,OAAOuE,KAAKkxG,EAAMgF,YAAY92G,QAAO,SAAU2hD,EAAQp5B,GAC5D,IAAIwuF,EAAYjF,EAAMgF,WAAWv5E,OAAOhV,MAIxC,OAHIwuF,GACFp1D,EAAOnxB,KAAKumF,GAEPp1D,CACT,GAAG,GACL,EA0BI80D,EAAgB,SAAuBO,EAAc1+F,GACvD,GAAIm9F,EAGF,OAFAC,GAAoB,OACpBp9F,IAGF,IAAIqY,EAAS1lB,EAAM0lB,OACjBkhF,EAAY5mG,EAAM4mG,UAChBoF,GAAazqG,EAAAA,EAAAA,GAAS,CAAC,EAAGmkB,GAC1BumF,EAAY76G,OAAOuE,KAAKq2G,GAC5B,GAAK1sD,GAAa2sD,EAAUn3E,MAAK,SAAU5jC,GACzC,OAAO06G,EAAcI,EAAW96G,IAAMyL,MACxC,IAFA,CAQA,IAAIuvG,GAA8B,EAClC,GAAIH,EAAc,CAChB,IAAII,EAAeH,EAAWD,GAC9B,GAAII,EAAc,CAChB,IAAIC,EAAiBD,EAAaC,eAC9BA,IACFF,GAA8B,EAC9BD,EAAYG,EAAezvG,OAASyvG,EAAev9G,OAAOk9G,GAAgB,CAACA,GAE/E,CACF,CACA,IA1JqE76G,EA0JjEm7G,EAAoB,CAAC,EACrBC,EAAyB,CAAC,EAC1BC,EAAmB,CAAC,EACpBC,EAAW,GAAG39G,OAhFW,SAAkC49G,GAC/D,IAAID,EAAW,GACf,GAAIltD,EAAU,CACZ,IAAIotD,EAAkBptD,GAAS/9C,EAAAA,EAAAA,GAAS,CAAC,EAAGvB,EAAM4mG,UAAUvpF,SACxD6rF,EAAUwD,GACZF,EAASjnF,KAAKmnF,EAAgBr9D,MAAK,SAAUy3D,GAC3C,OAAO2F,EAAU3F,GAAQ,EAC3B,KAEA2F,EAAUC,GAAiB,EAE/B,CACA,OAAOF,CACT,CAmE2BG,EAAyB,SAAU7F,EAAQ8F,GAC9DA,EACFN,EAAyBxF,GAAU,CAAC,EAEpCuF,EAAoBvF,GAAU,CAAC,CAEnC,IAAImF,EAAUl3G,QAAO,SAAU2hD,EAAQxjD,GACrC,OAAOwjD,EAAO7nD,OAhEY,SAAiCg4G,EAAOgG,GACpE,IAGMv5G,EAHFk5G,EAAW,GACXX,EAAaD,EAAc/E,GAqB/B,OApBIgF,EAAWlvG,SAEbkvG,EAAWzzE,SAAQ,SAAU0zE,GAC3B,IAAIgB,EAAiBhB,EAAUjG,EAAM7lG,EAAM4mG,UAAUvpF,OAAQwpF,EAAM3zG,MAAO8M,EAAM4mG,UAAUvpF,OAA6B,IAArByuF,EAAUnvG,QAAqC,IAArBmvG,EAAUnvG,OAAegqG,EAAkB3mG,EAAM4mG,UAAW5mG,EAAM0lB,OAAOmhF,EAAM3zG,YAASoU,GACpN,GAAIwlG,GAAkB5D,EAAU4D,GAAiB,CAC/CjG,EAAM1V,YAAa,EACnB,IAAI4b,EAAUD,EAAez9D,MAAK,SAAU/7C,GACtC0M,EAAM0lB,OAAOmhF,EAAM3zG,QACrB8M,EAAM0lB,OAAOmhF,EAAM3zG,MAAMi+F,YAAa,EACtC0b,EAASv5G,GAEb,IACAk5G,EAASjnF,KAAKwnF,EAChB,MAAYz5G,IAEVA,EAAQw5G,EAEZ,IACAD,EAASv5G,IAEJk5G,CACT,CAwCyBQ,CAAwBtnF,EAAOxyB,IAAO,SAAUI,GACnEi5G,EAAiBr5G,GAAQI,CAC3B,IACF,GAAG,KACC25G,EAAsBT,EAAS7vG,OAAS,EACxCuwG,IAA8BvC,EAC9BoC,EAAUxgE,QAAQ6jB,IAAIo8C,GAAUn9D,MA1KiCn+C,EA0KAg8G,EAzK9D,SAAUx2D,GAEf,cADOk0D,EAAwB15G,GACxBwlD,CACT,IAyKIu2D,IACFrC,EAAwBsC,GAA6BH,GAEvD,IAAII,EAAgB,SAAuBC,GACzC,IAAIC,GAAS9rG,EAAAA,EAAAA,GAAS,CAAC,EAAG2qG,EAA8BtF,EAAUE,OAAS,CAAC,EAAGuF,EAAmBe,EAAad,EAC7G1F,EAAUwD,aACRkD,EAAe,SAAsBjsG,GACvC4qG,EAAU7zE,SAAQ,SAAUllC,GAC1B,GAAIwyB,EAAOxyB,GAAO,CAGhB,IAAIq6G,EAAmB1H,EAAMwG,EAAmBn5G,GAC5Cs6G,EAAkB3H,EAAMwH,EAAQn6G,GAChCu6G,EAA0B7B,EAAcI,EAAW94G,IAAOyJ,OAC1D+wG,EAAkBnB,EAAiBr5G,GACvCmO,EAAGnO,EAAMu6G,GAA2BC,GAAmBpuD,GAAYiuD,IAAsBA,GAAqBrB,OAAgD5kG,EAAlBkmG,GAC9I,CACF,GACF,EACAF,GAAa,SAAUp6G,EAAMI,GAC3B+5G,EAAS7G,EAAM6G,EAAQn6G,EAAMI,IAAU,CAAC,CAC1C,IACAg6G,GAAa,SAAUp6G,EAAMI,GAC3B,GAAIA,GAASA,EAAMozG,GAAc,CAC/B,IAAIiH,EAAW9H,EAAMwH,EAAQn6G,GACzB06G,EAAO,GAAG/+G,OAAO8+G,GACrBC,EAAKlH,GAAepzG,EAAMozG,GAC1B2G,EAAS7G,EAAM6G,EAAQn6G,EAAM06G,EAC/B,CACF,IACK9F,EAAalB,EAAUE,OAAQuG,KAClCzG,EAAUE,OAASuG,GAEjBD,IACFxG,EAAUwD,YAAckC,GAE1B1F,EAAUtzG,MAAQ+4G,EAAkB5F,EACtC,EAWA,GAVIwG,IAEFjtG,EAAM4mG,UAAUzV,aAChB9jF,KAIF8/F,GAAc,GAEd9/F,IACI4/F,EAAqB,CACvB,IAAIY,EAAe,WACjB7tG,EAAM4mG,UAAUzV,aAChB9jF,IAImC,IAA/BrN,EAAM4mG,UAAUzV,YAAoBnxF,EAAMsqG,cAAcnZ,YAC1Dua,GAEJ,EACAqB,EAAQ19D,MAAK,WACPs7D,EAAyBuC,GAI7BC,GAAc,EAChB,IAAG99D,KAAKw+D,EAAcA,EACxB,CAnGA,MAFExgG,GAsGJ,EACIo+F,EAAuB,SAA8Bv4G,GACvD,IAAIq3G,EAAJ,CAGA,IAAI7kF,EAAS1lB,EAAM0lB,OACjBykF,EAAmBnqG,EAAMmqG,iBACzBvD,EAAY5mG,EAAM4mG,UAChBoF,GAAazqG,EAAAA,EAAAA,GAAS,CAAC,EAAGmkB,GAC1BooF,EAAc,SAAqB56G,GACrC,IAAI2zG,EAAQmF,EAAW94G,GACnB66G,EAAapH,EAAkBC,EAAWC,GAC1CsE,EAAiBtE,EAAMsE,eAC3BtE,EAAMsE,eAAiB4C,EACvB,IAAIC,EAAkB7D,EAAiBj3G,GACnC86G,GACFvE,EAAOuE,EAAiBD,EAAY5C,EAAgBzC,OAAqCphG,IAAnB6jG,EAE1E,EACIj4G,EACF46G,EAAY56G,GAEZ9B,OAAOuE,KAAKq2G,GAAY5zE,QAAQ01E,EAlBlC,CAoBF,EACIG,EAAuB,WACzB78G,OAAOuE,KAAKqK,EAAM0lB,QAAQ0S,SAAQ,SAAUlnC,GAC1C8O,EAAM0lB,OAAOx0B,GAAK+/F,SAAU,CAC9B,GACF,EAIIid,EAAyB,WAC3B,IAAIxoF,EAAS1lB,EAAM0lB,OACjBkhF,EAAY5mG,EAAM4mG,UAClB0D,EAAgBtqG,EAAMsqG,cACpB0B,GAAazqG,EAAAA,EAAAA,GAAS,CAAC,EAAGmkB,GAC1ByoF,EAAgB/8G,OAAOuE,KAAKq2G,GAG5BoC,GAAa,EACbC,EAAcF,EAAcp5G,QAAO,SAAU2hD,EAAQxlD,GAMvD,OALa86G,EAAW96G,GAAKw2G,QAAQ7B,EAAMe,EAAUvpF,OAAQnsB,GAAM20G,EAAMe,EAAUG,eAAiB,CAAC,EAAG71G,MAEtGk9G,GAAa,EACb13D,EAAOxlD,IAAO,GAETwlD,CACT,GAAG,CAAC,GACA43D,EAA6BH,EAAcp5G,QAAO,SAAU2hD,EAAQxlD,GAEtE,IAAIq9G,EAA6B3H,EAAUI,qBAAuB,CAAC,EAInE,OAHKgF,EAAW96G,GAAKw2G,QAAQ7B,EAAMe,EAAUvpF,OAAQnsB,GAAM20G,EAAM0I,EAA4Br9G,MAC3FwlD,EAAOxlD,IAAO,GAETwlD,CACT,GAAG,CAAC,GACJkwD,EAAUa,UAAY2G,EACtBxH,EAAUgB,wBAA0BhB,EAAUI,sBAAuB51G,OAAOisB,OAAOixF,GAA4Bx5E,MAAK,SAAU3jC,GAC5H,OAAOA,CACT,KACAy1G,EAAUW,2BAA6BX,EAAUI,sBAEjD51G,OAAOuE,KAAKq2G,GAAYl3E,MAAK,SAAU3jC,GACrC,OAAO66G,EAAW76G,GAAOo2G,uBAC3B,KACAX,EAAUnzG,OAASmzG,EAAUtzG,QAAUszG,EAAU5V,cAAgBoY,EAAYxC,EAAUE,WAAaF,EAAUK,cAAgBmC,EAAYxC,EAAUK,eACpJ,IAAIuH,EA/ZR,SAAoCj/G,GAClC,IAAIkV,EAASlV,EAAKkV,OAChBmjG,EAAuBr4G,EAAKq4G,qBAC5BL,EAA0Bh4G,EAAKg4G,wBAC/Bj0G,EAAQ/D,EAAK+D,MACbwzG,EAASv3G,EAAKu3G,OACdC,EAAgBx3G,EAAKw3G,cACrBU,EAAWl4G,EAAKk4G,SAChBL,EAAa73G,EAAK63G,WAClBF,EAAe33G,EAAK23G,aACpBC,EAAkB53G,EAAK43G,gBACvBnW,EAAczhG,EAAKyhG,YACnBiW,EAAe13G,EAAK03G,aACpBxzG,EAAQlE,EAAKkE,MACb09F,EAAa5hG,EAAK4hG,WAClB9zE,EAAS9tB,EAAK8tB,OAChB,MAAO,CACL5Y,OAAQA,EACRkjG,OAAQF,EACRG,qBAAsBA,EACtBL,wBAAyBA,EACzBj0G,MAAOA,EACPwzG,OAAQA,EACR2H,mBAAoBzd,GAAeiW,GAAgBmC,EAAYnC,IAC/DyH,uBAAwBp7G,IAAS81G,EAAYtC,IAC7C5V,SAAUz9F,EACVszG,cAAeA,EACfU,SAAUA,EACVL,WAAYA,EACZF,aAAcA,EACdC,gBAAiBA,EACjBnW,YAAaA,EACbiW,aAAcA,EACdxzG,MAAOA,EACP09F,WAAYA,EAAa,EACzB9zE,OAAQA,EAEZ,CA0XwBsxF,CAA2B/H,GAC3CgI,EAAwBT,EAAcp5G,QAAO,SAAU2hD,EAAQxlD,GAI/D,OAHAwlD,EAAO4wD,SAASp2G,GAAO86G,EAAW96G,GAAKo2G,SACvC5wD,EAAOu6C,QAAQ//F,GAAO86G,EAAW96G,GAAK+/F,QACtCv6C,EAAO8wD,QAAQt2G,GAAO86G,EAAW96G,GAAKs2G,QAC/B9wD,CACT,GAAG,CACD4wD,SAAU,CAAC,EACXrW,QAAS,CAAC,EACVuW,QAAS,CAAC,IAEZF,EAAWsH,EAAsBtH,SACjCrW,EAAU2d,EAAsB3d,QAChCuW,EAAUoH,EAAsBpH,QAMlC,OALAgH,EAAcH,YAAc/D,GAAiBxC,EAAawC,EAAc+D,YAAaA,GAAe/D,EAAc+D,YAAcA,EAChIG,EAAcF,2BAA6BhE,GAAiBxC,EAAawC,EAAcgE,2BAA4BA,GAA8BhE,EAAcgE,2BAA6BA,EAC5LE,EAAclH,SAAWgD,GAAiBxC,EAAawC,EAAchD,SAAUA,GAAYgD,EAAchD,SAAWA,EACpHkH,EAAcvd,QAAUqZ,GAAiBxC,EAAawC,EAAcrZ,QAASA,GAAWqZ,EAAcrZ,QAAUA,EAChHud,EAAchH,QAAU8C,GAAiBxC,EAAawC,EAAc9C,QAASA,GAAW8C,EAAc9C,QAAUA,EACzG8C,GAAiBxC,EAAawC,EAAekE,GAAiBlE,EAAgBkE,CACvF,EAOIK,GAAY,EACZC,GAAuB,EACvBpD,EAAsB,SAASA,IACjC,GAAImD,EACFC,GAAuB,MAClB,CAGL,GAFAD,GAAY,EAXPjF,GAA2CA,EAAMsE,IAA0B98G,OAAOuE,KAAKqK,EAAM0lB,QAAQ3wB,QAAO,SAAU2hD,EAAQxlD,GAEnI,OADAwlD,EAAOxlD,GAAO8O,EAAM0lB,OAAOx0B,GACpBwlD,CACT,GAAG,CAAC,KAUG6zD,KAAaC,IAAoBE,GAA2C,CAC/E,IAAIJ,EAAgBtqG,EAAMsqG,cACtBkE,EAAgBN,IAChBM,IAAkBlE,IACpBtqG,EAAMsqG,cAAgBkE,EACtB/E,EAAOzpG,EAAMkqG,YAAasE,EAAelE,EAAexB,GAE5D,CACA+F,GAAY,EACRC,IACFA,GAAuB,EACvBpD,IAEJ,CACF,EAWIqD,EAA2B,WAC7B,OAAO39G,OAAOuE,KAAKqK,EAAM0lB,QAAQ0S,SAAQ,SAAUlnC,GACjD,OAAO8O,EAAM0lB,OAAOx0B,GAAKq2G,yBAA0B,CACrD,GACF,EAGAiE,OAAclkG,GAAW,WACvBokG,GACF,IACA,IAAIR,EAAM,CACR8D,MAAO,SAAe3tG,GACpBkpG,IACAlpG,IACAkpG,IACAkB,IACAC,GACF,EACArE,KAAM,SAAcn0G,GAClB,IAAIwyB,EAAS1lB,EAAM0lB,OACjBkhF,EAAY5mG,EAAM4mG,UAChBv4D,EAAW3oB,EAAOxyB,GAClBm7C,WAEKu4D,EAAUniG,OACjBihB,EAAOxyB,IAAQqO,EAAAA,EAAAA,GAAS,CAAC,EAAG8sC,EAAU,CACpC5pC,QAAQ,EACRwsF,SAAS,IAEPgZ,EACFuB,EAAct4G,GAAM,WAClBu4G,IACAC,GACF,KAEAD,IACAC,KAGN,EACAv9F,OAAQ,SAAgBjb,EAAM/B,GAC5B,IAAIu0B,EAAS1lB,EAAM0lB,OACjBkhF,EAAY5mG,EAAM4mG,UACpB,GAAIf,EAAMe,EAAUvpF,OAAQnqB,KAAU/B,EAAO,CAC3C05G,EAAY7qG,EAAO9M,GAAM,WACvB,OAAO/B,CACT,IACA,IAAIk9C,EAAW3oB,EAAOxyB,GAClBm7C,IAEF3oB,EAAOxyB,IAAQqO,EAAAA,EAAAA,GAAS,CAAC,EAAG8sC,EAAU,CACpCi5D,UAAU,EACVC,0BAA2BX,EAAUI,uBAGrCiD,GACFwB,IACAC,KAEAF,EAAct4G,GAAM,WAClBu4G,IACAC,GACF,GAEJ,CACF,EACA,uBAAI7B,GACF,QAASA,CACX,EACA,uBAAIA,CAAoB14G,GACtB04G,EAAsB14G,CACxB,EACA0B,MAAO,SAAeK,GACpB,IAAI2zG,EAAQ7mG,EAAM0lB,OAAOxyB,GACrB2zG,IAAUA,EAAMpiG,SAClBzE,EAAM4mG,UAAUniG,OAASvR,EACzB2zG,EAAMpiG,QAAS,EACfoiG,EAAMW,SAAU,EAChBiE,IACAC,IAEJ,EACA3B,SAAU4B,EACVsD,cAAe,SAAuB/7G,GACpC,IAAI2zG,EAAQ7mG,EAAM0lB,OAAOxyB,GACzB,OAAO2zG,GAASA,EAAMsE,cACxB,EACA+D,oBAAqB,WACnB,OAAO99G,OAAOuE,KAAKqK,EAAM0lB,OAC3B,EACAypF,SAAU,WACR,OAAOjB,GACT,EACAkB,WAAY,SAAoBxpG,GAC9B,IAAI8f,EAAS1lB,EAAM0lB,OACjBkhF,EAAY5mG,EAAM4mG,UAChBoF,GAAazqG,EAAAA,EAAAA,GAAS,CAAC,EAAGmkB,GAC1BrI,EAAyB,oBAATzX,EAAsBA,EAAKghG,EAAUvpF,QAAUzX,EAC9DkkG,IACHlD,EAAUvpF,OAASA,GAUrB,IAAIgyF,EAAmBvF,EAA0B14G,OAAOuE,KAAKq2G,GAAYj3G,QAAO,SAAU2hD,EAAQxlD,GAMhG,OALY86G,EAAW96G,GACFw2G,QAAQ7B,EAAMe,EAAUvpF,OAAQnsB,GAAM20G,EAAMe,EAAUG,eAAiB,CAAC,EAAG71G,MAE9FwlD,EAAOxlD,GAAO20G,EAAMe,EAAUvpF,OAAQnsB,IAEjCwlD,CACT,GAAG,CAAC,GAAK,CAAC,EAEVkwD,EAAUG,cAAgB1pF,EAC1BupF,EAAUvpF,OAASA,EAEnBjsB,OAAOuE,KAAK05G,GAAkBj3E,SAAQ,SAAUlnC,GAC9C01G,EAAUvpF,OAASmpF,EAAMI,EAAUvpF,OAAQnsB,EAAKm+G,EAAiBn+G,KAAS,CAAC,CAC7E,IACAs6G,OAAclkG,GAAW,WACvBmkG,IACAC,GACF,GACF,EACA4D,mBAAoB,WAClB,OAAO9E,CACT,EACA+E,gBAAiB,SAAyBC,QACZ,IAAxBA,IACFA,GAAsB,GAExBhF,GAAmB,EACnBE,EAA2C8E,CAC7C,EACAC,cAAe,SAAuBv8G,EAAMo2G,EAAYhB,EAAcoH,QAC/C,IAAjBpH,IACFA,EAAe,CAAC,GAEbtoG,EAAMmqG,iBAAiBj3G,KAC1B8M,EAAMmqG,iBAAiBj3G,GAAQ,CAC7BoqB,MAAO,EACPxoB,QAAS,CAAC,IAGd,IAAIwoB,EAAQtd,EAAMmqG,iBAAiBj3G,GAAMoqB,QAGzCtd,EAAMmqG,iBAAiBj3G,GAAM4B,QAAQwoB,GAAS,CAC5CgsF,WAAYP,EAAQO,GACpBhB,aAAcA,EACdoB,UAAU,GAIZ,IAAI7C,EAAQ7mG,EAAM0lB,OAAOxyB,IAAS,CAChCuR,QAAQ,EACRkrG,YAAaD,GAAeA,EAAYC,YACxCC,aAAcF,GAAeA,EAAYE,aACzChqG,KAAM8pG,GAAeA,EAAY9pG,MAAQ,CAAC,EAC1C8hG,QAASgI,GAAeA,EAAYhI,SAAWyB,EAC/CgC,oBAAgB7jG,EAChBggG,UAAU,EACVC,yBAAyB,EACzBr0G,KAAMA,EACN+9F,SAAS,EACTx9F,OAAO,EACP24G,eAAgBsD,GAAeA,EAAYtD,eAC3CP,WAAY,CAAC,EACb1a,YAAY,EACZqW,SAAS,GAIXX,EAAMQ,KAAOR,EAAMQ,MAAQ,WACzB,OAAO6D,EAAI7D,KAAKn0G,EAClB,EACA2zG,EAAM14F,OAAS04F,EAAM14F,QAAU,SAAUhd,GACvC,OAAO+5G,EAAI/8F,OAAOjb,EAAM/B,EAC1B,EACA01G,EAAMh0G,MAAQg0G,EAAMh0G,OAAS,WAC3B,OAAOq4G,EAAIr4G,MAAMK,EACnB,EACA8M,EAAM0lB,OAAOxyB,GAAQ2zG,EACrB,IAAIgJ,GAAgB,EAChBC,EAASJ,GAAeA,EAAYI,OACpCrG,EAAS,WACPqG,GAAU9vG,EAAM0lB,OAAOxyB,GACzBu4G,EAAqBv4G,IAErBw4G,IACAD,IAEJ,EACA,GAAIiE,EAAa,CACfG,KAAmBH,EAAYK,eAAgBL,EAAYK,gBACvDL,EAAYK,eACd/vG,EAAM0lB,OAAOxyB,GAAM24G,WAAWvuF,GAASoyF,EAAYK,cAErD,IAAIC,OAA6D1oG,IAAxCu+F,EAAM7lG,EAAM4mG,UAAUvpF,OAAQnqB,QACtBoU,IAA7BooG,EAAYO,eAA+BD,GAAsBnK,EAAM7lG,EAAM4mG,UAAUvpF,OAAQnqB,KAAU2yG,EAAM7lG,EAAM4mG,UAAUG,cAAe7zG,KAGhJ8M,EAAM4mG,UAAUG,cAAgBP,EAAMxmG,EAAM4mG,UAAUG,eAAiB,CAAC,EAAG7zG,EAAMw8G,EAAYO,cAC7FjwG,EAAM4mG,UAAUvpF,OAASmpF,EAAMxmG,EAAM4mG,UAAUvpF,OAAQnqB,EAAMw8G,EAAYO,cACzEzE,OAAclkG,EAAWmiG,SAIMniG,IAA7BooG,EAAY3uE,mBAA2Dz5B,IAA7BooG,EAAYO,mBAA6E3oG,IAA/Cu+F,EAAM7lG,EAAM4mG,UAAUG,cAAe7zG,IAAuB88G,IAClJhwG,EAAM4mG,UAAUvpF,OAASmpF,EAAMxmG,EAAM4mG,UAAUvpF,OAAQnqB,EAAMw8G,EAAY3uE,cAE7E,CAMA,OALI8uE,EACFrE,OAAclkG,EAAWmiG,GAEzBA,IAEK,WACL,IAAIyG,GAAmB,EAEnBlwG,EAAM0lB,OAAOxyB,KAEfg9G,KAAsBlwG,EAAM0lB,OAAOxyB,GAAM24G,WAAWvuF,KAAUtd,EAAM0lB,OAAOxyB,GAAM24G,WAAWvuF,aACrFtd,EAAM0lB,OAAOxyB,GAAM24G,WAAWvuF,IAEvC,IAAI6yF,IAAwBnwG,EAAMmqG,iBAAiBj3G,GAC/Ci9G,UAEKnwG,EAAMmqG,iBAAiBj3G,GAAM4B,QAAQwoB,GAE9C,IAAI8yF,EAAUD,IAAwB/+G,OAAOuE,KAAKqK,EAAMmqG,iBAAiBj3G,GAAM4B,SAAS6H,OACpFyzG,WACKpwG,EAAMmqG,iBAAiBj3G,UACvB8M,EAAM0lB,OAAOxyB,GAChBg9G,IACFlwG,EAAM4mG,UAAUE,OAASN,EAAMxmG,EAAM4mG,UAAUE,OAAQ5zG,OAAMoU,IAAc,CAAC,GAE1EuiG,IACF7pG,EAAM4mG,UAAUvpF,OAASmpF,EAAMxmG,EAAM4mG,UAAUvpF,OAAQnqB,OAAMoU,GAAW,IAAS,CAAC,IAGjFwoG,IACCI,EACF1E,OAAclkG,GAAW,WACvBokG,IACAD,GACF,IACS2E,GAET1E,IAGN,CACF,EACA2E,MAAO,SAAetJ,QACE,IAAlBA,IACFA,EAAgB/mG,EAAM4mG,UAAUG,eAE9B/mG,EAAM4mG,UAAUQ,aAClBpnG,EAAM4mG,UAAUyD,sBAAuB,GAEzCrqG,EAAM4mG,UAAUM,cAAe,EAC/BlnG,EAAM4mG,UAAUO,iBAAkB,SAC3BnnG,EAAM4mG,UAAU5V,mBAChBhxF,EAAM4mG,UAAUK,oBAChBjnG,EAAM4mG,UAAUI,oBACvBkE,EAAIkE,WAAWrI,GAAiB,CAAC,EACnC,EAIAwE,gBAAiB,SAAyBr4G,GACxC8M,EAAM0lB,OAAOxyB,IAAQqO,EAAAA,EAAAA,GAAS,CAAC,EAAGvB,EAAM0lB,OAAOxyB,GAAO,CACpDuR,QAAQ,EACR0mG,oBAAgB7jG,EAChBggG,UAAU,EACVrW,SAAS,EACTx9F,OAAO,EACP09F,YAAY,EACZqW,SAAS,IAEXgE,OAAclkG,GAAW,WACvBmkG,IACAC,GACF,GACF,EAMA4E,QAAS,SAAiBvJ,QACF,IAAlBA,IACFA,EAAgB/mG,EAAM4mG,UAAUG,eAElCmE,EAAI8D,OAAM,WACR,IAAK,IAAI97G,KAAQ8M,EAAM0lB,OACrBwlF,EAAIK,gBAAgBr4G,GACpB8M,EAAM0lB,OAAOxyB,IAAQqO,EAAAA,EAAAA,GAAS,CAAC,EAAGvB,EAAM0lB,OAAOxyB,GAAO,CACpDuR,QAAQ,EACR0mG,oBAAgB7jG,EAChBggG,UAAU,EACVC,yBAAyB,EACzBtW,SAAS,EACTx9F,OAAO,EACP09F,YAAY,EACZqW,SAAS,IAGb0D,EAAImF,MAAMtJ,EACZ,GACF,EACAwJ,iBAAkB,WAChB/F,GAAmB,EACnBE,GAA2C,EACvCD,GAEFe,OAAclkG,GAAW,WACvBmkG,IACAC,GACF,IAEFjB,GAAoB,CACtB,EACA+F,UAAW,SAAmBt9G,EAAM/B,GAClC,OAAQ+B,GACN,IAAK,QACH02G,EAAQz4G,EACR,MACF,IAAK,sBACH04G,EAAsB14G,EACtB,MACF,IAAK,gBACH+5G,EAAIkE,WAAWj+G,GACf,MACF,IAAK,0BACH24G,EAA0B34G,EAC1B,MACF,IAAK,WACH44G,EAAW54G,EACPA,GACFC,OAAOuE,KAAKg2G,GAAavzE,SAAQ,SAAUlnC,GACnCA,KAAOC,UACJw6G,EAAYz6G,EAEvB,IACAE,OAAOuE,KAAKxE,GAAOinC,SAAQ,SAAUlnC,GACnCy6G,EAAYz6G,GAAOk6G,EAAcl6G,EACnC,KAEAE,OAAOuE,KAAKg2G,GAAavzE,SAAQ,SAAUlnC,UAClCy6G,EAAYz6G,EACrB,IAEF,MACF,IAAK,WACH84G,EAAW74G,EACX,MACF,IAAK,WACHmuD,EAAWnuD,EACXq6G,OAAclkG,GAAW,WACvBmkG,IACAC,GACF,IACA,MACF,IAAK,iBACHzB,EAAiB94G,EACjB,MACF,QACE,MAAM,IAAIggC,MAAM,uBAAyBj+B,GAE/C,EACAu9G,OAAQ,WACN,IAAI7J,EAAY5mG,EAAM4mG,UACtB,IAAIA,EAAUQ,WAAd,CAMA,UAHOR,EAAUK,oBACVL,EAAU5V,YACjB4V,EAAUI,qBAAsBzlG,EAAAA,EAAAA,GAAS,CAAC,EAAGqlG,EAAUvpF,QAje/Crd,EAAM4mG,UAAUtzG,OAAS81G,EAAYppG,EAAM4mG,UAAUE,QAwe3D,OALAmH,IACAc,IACA/uG,EAAM4mG,UAAUM,cAAe,EAC/BwE,SACAD,IAIF,IAAIiF,EAA8Bt/G,OAAOuE,KAAKi1G,GAC9C,GAAI8F,EAA4B/zG,OAE9B4vC,QAAQ6jB,IAAIsgD,EAA4Bv7G,KAAI,SAAUjE,GACpD,OAAO05G,EAAwBt4E,OAAOphC,GACxC,KAAIm+C,KAAK67D,EAAIuF,OAAQppG,QAAQ/T,YAI/B,IA5ZKlC,OAAOuE,KAAKqK,EAAM0lB,QAAQoP,MAAK,SAAU5hC,GAC9C,OAAO8M,EAAM0lB,OAAOxyB,GAAM08G,eAAsD,IAAtC5vG,EAAM0lB,OAAOxyB,GAAM08G,cAC/D,IA0ZE,CAGA,IAAIe,EACAC,GAAiB,EACjBC,EAAW,SAAkB/J,GAC/BF,EAAUQ,YAAa,EACvB,IAAIiD,EAAuBzD,EAAUyD,qBAuBrC,OAtBIA,IACFzD,EAAUyD,sBAAuB,GAE/BvD,GAAUsC,EAAYtC,IACxBF,EAAUM,cAAe,EACzBN,EAAUO,iBAAkB,EAC5BP,EAAUK,aAAeH,EACzBF,EAAU5V,YAAc8V,EAAOL,GAC/BwH,MAEK5D,IACHzD,EAAUM,cAAe,EACzBN,EAAUO,iBAAkB,GA3a7B/1G,OAAOuE,KAAKqK,EAAM0lB,QAAQ0S,SAAQ,SAAUllC,GACjD,OAAO8M,EAAM0lB,OAAOxyB,GAAMy8G,aAAe3vG,EAAM0lB,OAAOxyB,GAAMy8G,aAC9D,KA6aIjE,IACAD,IACAmF,GAAiB,EACbD,GACFA,EAAe7J,GAEVA,CACT,EACAF,EAAUQ,YAAa,EACvBR,EAAUM,cAAe,EACzBN,EAAUO,iBAAkB,EAC5BP,EAAUI,qBAAsBzlG,EAAAA,EAAAA,GAAS,CAAC,EAAGqlG,EAAUvpF,QACvD0xF,IAGA,IAAIr4D,EAASszD,EAASpD,EAAUvpF,OAAQ6tF,EAAK2F,GAC7C,IAAKD,EAAgB,CACnB,GAAIl6D,GAAUwyD,EAAUxyD,GAItB,OAFAg1D,IACAD,IACO/0D,EAAOrH,KAAKwhE,GAAU,SAAUv9G,GAErC,MADAu9G,IACMv9G,CACR,IACK,GAAI02G,EAASrtG,QAAU,EAI5B,OAFA+uG,IACAD,IACO,IAAIl/D,SAAQ,SAAUC,GAC3BmkE,EAAiBnkE,CACnB,IAGAqkE,EAASn6D,EAEb,CA1DA,CAxBA,CAmFF,EACAo6D,UAAW,SAAmBxH,EAAYhB,GACxC,IAAKgB,EACH,MAAM,IAAIn4E,MAAM,sBAElB,IAAKm3E,EACH,MAAM,IAAIn3E,MAAM,mEAElB,IAAI4/E,EAAWhI,EAAQO,GACnBY,EAAclqG,EAAMkqG,YACpB5sF,EAAQ4sF,EAAY5sF,QACxB4sF,EAAYp1G,QAAQwoB,GAAS,CAC3BgsF,WAAYyH,EACZzI,aAAcA,EACdoB,UAAU,GAEZ,IAAI8E,EAAgBN,IAEpB,OADA7E,EAAiB0H,EAAUzI,EAAckG,EAAeA,EAAe1F,GAAiB,GACjF,kBACEoB,EAAYp1G,QAAQwoB,EAC7B,CACF,GAEF,OAAO4tF,CACT,CC3yCA,IAAI8F,EAAc,CAAC,SAAU,WAAY,aAGzC,SAASC,EAAgB9+G,EAAO++G,EAAWh+G,GACzC,IAAIE,EAASjB,EAAMiB,OACf4C,EAAW7D,EAAM6D,SACjBs0D,EAAYn4D,EAAMm4D,UAClBzZ,EAAOu1D,EAA8Bj0G,EAAO6+G,GAEhD,GAAI1mD,EACF,OAAoB76D,EAAAA,cAAoB66D,EAAWl5D,OAAOoQ,OAAO0vG,EAAWrgE,EAAM,CAChF76C,SAAUA,EACV5C,OAAQA,KAIZ,GAAIA,EACF,OAAOA,OAAoBkU,IAAbtR,EAAyB5E,OAAOoQ,OAAO0vG,EAAWrgE,GAChEz/C,OAAOoQ,OAAO0vG,EAAWrgE,EAAM,CAC7B76C,SAAUA,KAId,GAAwB,oBAAbA,EACT,MAAM,IAAIm7B,MAAM,4FAA8Fj+B,GAGhH,OAAO8C,EAAS5E,OAAOoQ,OAAO0vG,EAAWrgE,GAC3C,CAEA,SAASsgE,EAAoBhgH,EAAOkc,EAAUq6F,QAC5B,IAAZA,IACFA,EAAU,SAAiB31E,EAAGC,GAC5B,OAAOD,IAAMC,CACf,GAGF,IAAIqc,EAAW+iE,EAAAA,OAAsBjgH,GACrCigH,EAAAA,WAAyB,WAClB1J,EAAQv2G,EAAOk9C,EAASz7C,WAC3Bya,IACAghC,EAASz7C,QAAUzB,EAEvB,GACF,CAyBA,IAAI22G,EAAe,SAAsB/1E,EAAGC,GAC1C,GAAID,IAAMC,EACR,OAAO,EAGT,GAAiB,kBAAND,IAAmBA,GAAkB,kBAANC,IAAmBA,EAC3D,OAAO,EAGT,IAAI+1E,EAAQ32G,OAAOuE,KAAKo8B,GACpBi2E,EAAQ52G,OAAOuE,KAAKq8B,GAExB,GAAI+1E,EAAMprG,SAAWqrG,EAAMrrG,OACzB,OAAO,EAKT,IAFA,IAAIsrG,EAAkB72G,OAAOuQ,UAAUC,eAAeq4B,KAAKjI,GAElDk2E,EAAM,EAAGA,EAAMH,EAAMprG,OAAQurG,IAAO,CAC3C,IAAIh3G,EAAM62G,EAAMG,GAEhB,IAAKD,EAAgB/2G,IAAQ6gC,EAAE7gC,KAAS8gC,EAAE9gC,GACxC,OAAO,CAEX,CAEA,OAAO,CACT,EAEImgH,EAAmB,SAA0BC,GAC/C,SAAUA,GAAkD,oBAA9BA,EAAUzsG,gBAC1C,EAEI0sG,EAAqC9hH,EAAAA,gBAEzC,SAASsmD,EAAU5kD,GACjB,IAAIwB,EAAMy+G,EAAAA,OAAsBjgH,GAIhC,OAHAigH,EAAAA,WAAyB,WACvBz+G,EAAIC,QAAUzB,CAChB,IACOwB,CACT,CAEA,IAEI6+G,EAAe,SAAsBpJ,EAAMpoG,EAAOrK,GACpDA,EAAKyiC,SAAQ,SAAUlnC,GACrBE,OAAOC,eAAe+2G,EAAMl3G,EAAK,CAC/B4hC,IAAK,WACH,OAAO9yB,EAAM9O,EACf,EACAI,YAAY,GAEhB,GACF,EAEImgH,EAAmB,SAA0BrJ,EAAMpoG,GACrD,OAAOwxG,EAAapJ,EAAMpoG,EAAO,CAAC,SAAU,QAAS,cAAe,uBAAwB,6BAA8B,QAAS,SAAU,kBAAmB,sBAAuB,gBAAiB,UAAW,WAAY,0BAA2B,WAAY,cAAe,eAAgB,eAAgB,kBAAmB,aAAc,UAAW,QAAS,aAAc,SAAU,WACpY,EACI0xG,EAAwB,SAA+BtJ,EAAMpoG,GAC/D,OAAOwxG,EAAapJ,EAAMpoG,EAAO,CAAC,SAAU,OAAQ,QAAS,uBAAwB,QAAS,UAAW,UAAW,SAAU,WAAY,0BAA2B,WAAY,cAAe,eAAgB,kBAAmB,aAAc,UAAW,QAAS,aAAc,WACrR,EAEI2xG,EAAc,CAAC,QAAS,aAAc,sBAAuB,OAAQ,gBAAiB,qBAAsB,0BAA2B,WAAY,WAAY,eAAgB,WAAY,kBAC3LC,EAAW,CACb,aDmNY,UClNZ,mBAvBY,SAyBVC,EAAQhJ,EAAsB9zG,QAAO,SAAU2hD,EAAQxlD,GAEzD,OADAwlD,EAAOxlD,IAAO,EACPwlD,CACT,GAAG,CAAC,GAEJ,SAASo7D,EAAeviH,GACtB,IAAIq6G,EAAQr6G,EAAKq6G,MACbmI,EAAkBxiH,EAAKyiH,WACvBA,OAAiC,IAApBD,EAA6B,GAAKA,EAC/ClI,EAAsBt6G,EAAKs6G,oBAC3BoI,EAAmB1iH,EAAK2iH,KACxBnL,EAAgBx3G,EAAKw3G,cACrBoL,EAAqB5iH,EAAK4iH,mBAC1BrI,EAA0Bv6G,EAAKu6G,wBAC/BC,EAAWx6G,EAAKw6G,SAChBC,EAAWz6G,EAAKy6G,SAChBoI,EAAoB7iH,EAAK+4G,aACzBA,OAAqC,IAAtB8J,EAA+BP,EAAQO,EACtD9yD,EAAW/vD,EAAK+vD,SAChB2qD,EAAiB16G,EAAK06G,eACtBp5D,EAAOu1D,EAA8B72G,EAAMoiH,GAE3CvpE,EAAS,CACXwhE,MAAOA,EACPC,oBAAqBA,EACrB9C,cAAeA,EACf+C,wBAAyBA,EACzBC,SAAUA,EACVC,SAAUA,EACV1qD,SAAUA,EACV2qD,eAAgBA,GAEdiI,EA9GN,SAAqBG,GACnB,IAAI1/G,EAAMy+G,EAAAA,SAMV,OAJKz+G,EAAIC,UACPD,EAAIC,QAAUy/G,KAGT1/G,EAAIC,OACb,CAsGa0/G,EAAY,WACrB,IAAI/7C,EAAI07C,GAAoBtI,EAAWvhE,GAGvC,OADAmuB,EAAEg5C,kBACKh5C,CACT,IAEIg8C,EAAkB9iH,EAAAA,UAAe,WACnC,IAAI+iH,EAAe,CAAC,EAIpB,OAHAN,EAAKpB,WAAU,SAAU9wG,GACvBwyG,EAAexyG,CACjB,GAAGsoG,EAFH4J,GAGOM,CACT,IACIxyG,EAAQuyG,EAAgB,GACxBlqG,EAAWkqG,EAAgB,GAI3BE,EAAW18D,EAAU/1C,GACzBvQ,EAAAA,WAAgB,WAEdyiH,EAAK5C,sBAAwB4C,EAAK3B,mBAClC,IAAImC,EAAkB,CAACR,EAAKpB,WAAU,SAAU96C,GACzC8xC,EAAa9xC,EAAGy8C,EAAS7/G,UAC5ByV,EAAS2tD,EAEb,GAAGsyC,IAAez5G,OAAOmjH,EAAaA,EAAW78G,KAAI,SAAUw9G,GAC7D,OAEEA,EAAUT,EAEd,IAAK,IACL,OAAO,WACLA,EAAK3C,kBAELmD,EAAgBjyE,UAAUrI,SAAQ,SAAUw6E,GAC1C,OAAOA,GACT,GACF,CACF,GAAGZ,GAcHb,EAAoBvH,GAAO,WACzBsI,EAAK1B,UAAU,QAAS5G,EAC1B,IACAuH,EAAoBtH,GAAqB,WACvCqI,EAAKrI,sBAAwBA,CAC/B,IACAsH,EAAoBrH,GAAyB,WAC3CoI,EAAK1B,UAAU,0BAA2B1G,EAC5C,IACAqH,EAAoBpK,GAAe,WACjCmL,EAAK1B,UAAU,gBAAiBzJ,EAClC,GAAGoL,GAAsBrK,GACzBqJ,EAAoBpH,GAAU,WAC5BmI,EAAK1B,UAAU,WAAYzG,EAC7B,IACAoH,EAAoBnH,GAAU,WAC5BkI,EAAK1B,UAAU,WAAYxG,EAC7B,IACAmH,EAAoB7xD,GAAU,WAC5B4yD,EAAK1B,UAAU,WAAYlxD,EAC7B,IACA6xD,EAAoBlH,GAAgB,WAClCiI,EAAK1B,UAAU,iBAAkBvG,EACnC,IAEA,IAgBI4I,EAAc,CAChBX,MAAM3wG,EAAAA,EAAAA,GAAS,CAAC,EAAG2wG,EAAM,CACvB7B,MAAO,SAAeyC,GAChBzB,EAAiByB,GAEnBZ,EAAK7B,QAEL6B,EAAK7B,MAAMyC,EAEf,IAEFC,aA3BiB,SAAsB1hG,GAavC,OAZIA,IAEkC,oBAAzBA,EAAMvM,gBACfuM,EAAMvM,iBAG6B,oBAA1BuM,EAAMxM,iBAEfwM,EAAMxM,mBAIHqtG,EAAKzB,QACd,GAgBA,OADAgB,EAAiBoB,EAAa7yG,GACVvQ,EAAAA,cAAoB8hH,EAAsB36F,SAAU,CACtEzlB,MAAO+gH,GACNjB,GAAgB1vG,EAAAA,EAAAA,GAAS,CAAC,EAAGsvC,EAAM,CACpCmiE,WAAYpB,IACViB,EAAa,kBACnB,CAEA,SAASI,EAAQ3jB,GACf,IAAI4iB,EAAOziH,EAAAA,WAAiB8hH,GAE5B,IAAKW,EACH,MAAM,IAAI/gF,OAAOm+D,GAAiB,WAAa,8CAGjD,OAAO4iB,CACT,CAEA,SAASgB,EAAaC,GACpB,IAAI5jH,OAAiB,IAAV4jH,EAAmB,CAAC,EAAIA,EAC/B/gH,EAAW7C,EAAK6C,SAChBggH,EAAoB7iH,EAAK+4G,aACzBA,OAAqC,IAAtB8J,EAA+BP,EAAQO,EAEtDF,EAAOe,EAAQ,gBACfG,EAAc3jH,EAAAA,QAAa,GAC3B4jH,EAAc5jH,EAAAA,OAAa2C,GAC/BihH,EAAYzgH,QAAUR,EAEtB,IAAImgH,EAAkB9iH,EAAAA,UAAe,WACnC,IAAI+iH,EAAe,CAAC,EASpB,OARAN,EAAKpB,WAAU,SAAU9wG,GACvBwyG,EAAexyG,CACjB,GAAGsoG,EAFH4J,GAII9/G,GACFA,EAASogH,GAGJA,CACT,IACIxyG,EAAQuyG,EAAgB,GACxBlqG,EAAWkqG,EAAgB,GAE/B9iH,EAAAA,WAAgB,WACd,OAAOyiH,EAAKpB,WAAU,SAAUwC,GAC1BF,EAAYxgH,QACdwgH,EAAYxgH,SAAU,GAEtByV,EAASirG,GAELD,EAAYzgH,SACdygH,EAAYzgH,QAAQ0gH,GAG1B,GAAGhL,EACL,GACA,IACA,IAAIiL,EAAY,CAAC,EAEjB,OADA9B,EAAiB8B,EAAWvzG,GACrBuzG,CACT,CAkCA,IAAIC,EAAkC,qBAAXpoG,QAA0BA,OAAOqoG,WAAaroG,OAAOqoG,UAAUC,SAAwC,gBAA7BtoG,OAAOqoG,UAAUC,QAkBlHhP,EAAW,SAAkBrzF,EAAO+kC,EAAcu9D,EAAWH,GAC/D,IAAKA,GAAiBniG,EAAMirB,kBAA0Ch1B,IAA3B+J,EAAMirB,YAAY4oB,KAC3D,OAAO7zC,EAAMirB,YAAY4oB,KAG3B,GAAIsuD,GAAiBniG,EAAMirB,YACzB,OAAOjrB,EAAMirB,YAAY4oB,KAG3B,IACI0uD,EADeviG,EACqB5P,OACpCtN,EAAOy/G,EAAqBz/G,KAC5BhD,EAAQyiH,EAAqBziH,MAC7BgC,EAAUygH,EAAqBzgH,QAEnC,OAAQgB,GACN,IAAK,WACH,QAAkBmT,IAAdqsG,EAAyB,CAE3B,GAAIxgH,EAEF,OAAOyJ,MAAM+kB,QAAQy0B,GAAgBA,EAAavnD,OAAO8kH,GAAa,CAACA,GAGvE,IAAK/2G,MAAM+kB,QAAQy0B,GACjB,OAAOA,EAGT,IAAI94B,EAAQ84B,EAAa7iC,QAAQogG,GAEjC,OAAIr2F,EAAQ,EACH84B,EAEAA,EAAa74B,MAAM,EAAGD,GAAOzuB,OAAOunD,EAAa74B,MAAMD,EAAQ,GAG5E,CAEE,QAASnqB,EAGb,IAAK,kBACH,OA1DkB,SAA2B6N,GACjD,IAAI01C,EAAS,GAEb,GAAI11C,EACF,IAAK,IAAIsc,EAAQ,EAAGA,EAAQtc,EAAQrE,OAAQ2gB,IAAS,CACnD,IAAIzU,EAAS7H,EAAQsc,GAEjBzU,EAAOtM,UACTm6C,EAAOnxB,KAAK1c,EAAO1X,MAEvB,CAGF,OAAOulD,CACT,CA4Cam9D,CAAkBxiG,EAAM5P,OAAOT,SAExC,QACE,OAAO7P,EAEb,EASA,SAAS2iH,EAAoBzmG,GAC3B,IAAI1a,EAAMlD,EAAAA,OAAa4d,GAIvB,OAHA5d,EAAAA,WAAgB,WACdkD,EAAIC,QAAUya,CAChB,IACO5d,EAAAA,aAAkB,WACvB,IAAK,IAAI8a,EAAOxY,UAAU4K,OAAQ6N,EAAO,IAAI5N,MAAM2N,GAAOE,EAAO,EAAGA,EAAOF,EAAME,IAC/ED,EAAKC,GAAQ1Y,UAAU0Y,GAGzB,OAAO9X,EAAIC,QAAQkP,MAAM,KAAM0I,EACjC,GAAG,GACL,CAEA,IAAI4lD,EAAMy3C,EAAuB9yG,QAAO,SAAU2hD,EAAQxlD,GAExD,OADAwlD,EAAOxlD,IAAO,EACPwlD,CACT,GAAG,CAAC,GAEAq9D,GAAgB,SAAuB5iH,EAAO+B,GAChD,YAAiBoU,IAAVnW,EAAsB,GAAKA,CACpC,EAEI6iH,GAAe,SAAsB7iH,EAAO+B,GAC9C,MAAiB,KAAV/B,OAAemW,EAAYnW,CACpC,EAEI8iH,GAAiB,SAAwBliF,EAAGC,GAC9C,OAAOD,IAAMC,CACf,EAEA,SAASkiF,GAAShhH,EAAMk1C,QACP,IAAXA,IACFA,EAAS,CAAC,GAGZ,IAAI+rE,EAAU/rE,EACVunE,EAAcwE,EAAQxE,YACtByE,EAAYD,EAAQC,UACpB9pD,EAAY6pD,EAAQ7pD,UACpB1kD,EAAOuuG,EAAQvuG,KACfm7B,EAAeozE,EAAQpzE,aACvBszE,EAAiBF,EAAQ/hD,OACzBA,OAA4B,IAAnBiiD,EAA4BN,GAAgBM,EACrDC,EAAeH,EAAQG,aACvBrE,EAAekE,EAAQlE,aACvBsE,EAAWJ,EAAQI,SACnBC,EAAgBL,EAAQM,MACxBA,OAA0B,IAAlBD,EAA2BR,GAAeQ,EAClDE,EAAuBP,EAAQ7L,aAC/BA,OAAwC,IAAzBoM,EAAkCtkD,EAAMskD,EACvDvgH,EAAOggH,EAAQhgH,KACfi4G,EAAiB+H,EAAQ/H,eACzBuI,EAASR,EAAQhjH,MACjB+gH,EAAOe,EAAQ,YACf2B,EAAY7+D,EAAU3N,GAEtBysE,EAAW,SAAkBxnG,EAAUyiG,GACzC,OAKEoC,EAAKzC,cAAcv8G,EAAMma,EAAUi7F,EAAc,CAC/CqH,YAAaA,EACbC,aAAc,WACZ,IAAIkF,EAAqBF,EAAUhiH,QAC/Bg9G,EAAekF,EAAmBlF,aAClC0E,EAAeQ,EAAmBR,aAClCS,EAAwBD,EAAmB1iD,OAC3CA,OAAmC,IAA1B2iD,EAAmChB,GAAgBgB,EAEhE,GAAIT,EAAc,CAChB,IACInjH,EADO+gH,EAAKjD,cAAc/7G,GACb/B,MAEb6jH,EAAY5iD,EAAOjhE,EAAO+B,GAE1B8hH,IAAc7jH,GAChB+gH,EAAK/jG,OAAOjb,EAAM8hH,EAEtB,CAEA,OAAOpF,GAAgBA,GACzB,EACAhqG,KAAMA,EACNm7B,aAAcA,EACdgvE,aAAc,WACZ,OAAO6E,EAAUhiH,QAAQ0sD,QAC3B,EACA2wD,aAAcA,EACdvI,QAAS,SAAiB31E,EAAGC,GAC3B,OAAQ4iF,EAAUhiH,QAAQ80G,SAAWuM,IAAgBliF,EAAGC,EAC1D,EACA89E,OAAQA,EACR1D,eAAgBA,GAGtB,EAEIgH,EAAc3jH,EAAAA,QAAa,GAE3B8iH,EAAkB9iH,EAAAA,UAAe,WACnC,IAAI+iH,EAAe,CAAC,EAGhB3I,EAAsBqI,EAAKrI,oBAQ/B,OAPAqI,EAAKrI,qBAAsB,EAC3BgL,GAAS,SAAU70G,GACjBwyG,EAAexyG,CACjB,IAAG,EAFH60G,GAKA3C,EAAKrI,oBAAsBA,EACpB2I,CACT,IACIxyG,EAAQuyG,EAAgB,GACxBlqG,EAAWkqG,EAAgB,GAE/B9iH,EAAAA,WAAgB,WACd,OAAOolH,GAAS,SAAU70G,GACpBozG,EAAYxgH,QACdwgH,EAAYxgH,SAAU,EAEtByV,EAASrI,EAEb,IAAG,EACL,GACA,CAAC9M,EAAM0S,EAAMm7B,EAGbkvE,IAKA,IAAItgB,EAAO,CAAC,EACZ+hB,EAAsB/hB,EAAM3vF,GAC5B,IAAI7E,EAAQ,CACVjI,KAAMA,EAEN,SAAI/B,GACF,IAAIA,EAAQ6O,EAAM7O,MAclB,OAZImjH,EACgB,UAAdhqD,IACFn5D,EAAQ4iH,GAAc5iH,IAGxBA,EAAQihE,EAAOjhE,EAAO+B,GAGV,OAAV/B,GAAmBijH,IACrBjjH,EAAQ,IAGG,aAATgD,GAAgC,UAATA,EAClBwgH,EACgB,WAAdrqD,GAA0BiqD,EAC5BpjH,GAAS,GAGXA,CACT,EAEA,WAAIgC,GACF,IAAIhC,EAAQ6O,EAAM7O,MAElB,MAAa,aAATgD,GACFhD,EAAQihE,EAAOjhE,EAAO+B,QAEPoU,IAAXqtG,IACOxjH,KAECyL,MAAM+kB,QAAQxwB,MAAWA,EAAMoiB,QAAQohG,KAEjC,UAATxgH,EACFi+D,EAAOjhE,EAAO+B,KAAUyhH,OAD1B,CAKT,EAEAriH,OAAQwhH,GAAoB,SAAUziG,GAGpC,GAFArR,EAAMqnG,OAEFiN,EAAc,CAQhB,IAAIvG,EAAamE,EAAKjD,cAAcjvG,EAAM9M,MAC1C8M,EAAMmO,OAAOikD,EAAO27C,EAAW58G,MAAO6O,EAAM9M,MAC9C,CACF,IACAd,SAAU0hH,GAAoB,SAAUziG,GAE8B,IAWhElgB,EAAQkgB,GAASA,EAAM5P,OAASijG,EAASrzF,EAAOrR,EAAM7O,MAAOwjH,EAAQnB,GAAiBniG,EAC1FrR,EAAMmO,OAAOsmG,EAAMtjH,EAAO+B,GAC5B,IACAX,QAASuhH,GAAoB,SAAUziG,GACrC,OAAOrR,EAAMnN,OACf,KAgBF,OAbI0hH,IACFp5G,EAAMo5G,SAAWA,QAGNjtG,IAATnT,IACFgH,EAAMhH,KAAOA,GAGG,CAChBgH,MAAOA,EACPw0F,KAAMA,EAIV,CAEA,IAAIslB,GAAY,CAAC,cAAe,YAAa,eAAgB,WAAY,YAAa,OAAQ,eAAgB,SAAU,eAAgB,eAAgB,UAAW,WAAY,OAAQ,QAAS,eAAgB,OAAQ,WAAY,iBAAkB,SAClP9wG,GAAqB1U,EAAAA,YAAiB,SAAeF,EAAMoD,GAC7D,IAAIg9G,EAAcpgH,EAAKogH,YACnByE,EAAY7kH,EAAK6kH,UACjBxE,EAAergH,EAAKqgH,aACpB55G,EAAWzG,EAAKyG,SAChBs0D,EAAY/6D,EAAK+6D,UACjB1kD,EAAOrW,EAAKqW,KACZm7B,EAAexxC,EAAKwxC,aACpBqxB,EAAS7iE,EAAK6iE,OACdkiD,EAAe/kH,EAAK+kH,aACpBrE,EAAe1gH,EAAK0gH,aACpBvI,EAAUn4G,EAAKm4G,QACf6M,EAAWhlH,EAAKglH,SAChBrhH,EAAO3D,EAAK2D,KACZuhH,EAAQllH,EAAKklH,MACbnM,EAAe/4G,EAAK+4G,aACpBn0G,EAAO5E,EAAK4E,KACZmrD,EAAW/vD,EAAK+vD,SAChB8sD,EAAiB78G,EAAK68G,eACtBj7G,EAAQ5B,EAAK4B,MACb0/C,EAAOu1D,EAA8B72G,EAAM0lH,IAE3CpO,EAAQqN,GAAShhH,EAAM,CACzBy8G,YAAaA,EACbyE,UAAWA,EACXxE,aAAcA,EACd55G,SAAUA,EACVs0D,UAAWA,EACX1kD,KAAMA,EACNm7B,aAAcA,EACdqxB,OAAQA,EACRkiD,aAAcA,EACdrE,aAAcA,EACdvI,QAASA,EACT6M,SAAUA,EACVE,MAAOA,EACPnM,aAAcA,EACdn0G,KAAMA,EACNmrD,SAAUA,EACV8sD,eAAgBA,EAChBj7G,MAAOA,IAGT,GAAwB,oBAAb6E,EACT,OAAOA,GAASuL,EAAAA,EAAAA,GAAS,CAAC,EAAGslG,EAAOh2D,IAGtC,GAAyB,kBAAdyZ,EAET,OAAoB76D,EAAAA,cAAoB66D,GAAW/oD,EAAAA,EAAAA,GAAS,CAAC,EAAGslG,EAAM1rG,MAAO,CAC3EnF,SAAUA,EACVrD,IAAKA,GACJk+C,IAGL,IAAK39C,EACH,MAAM,IAAIi+B,MAAM,sDAGlB,OAAO8/E,GAAgB1vG,EAAAA,EAAAA,GAAS,CAC9BvL,SAAUA,EACVs0D,UAAWA,EACX33D,IAAKA,GACJk+C,GAAOg2D,EAAO,SAAW3zG,EAAO,IACrC,+kBC3dM,SAAUgiH,EAA0DtkH,GAAA,IAA/C,SAAEkmG,EAAF,SAAY9gG,EAAZ,OAAsBoV,GAAyBxa,EACpEukH,EAAa1lH,EAAAA,SACS,MAAtB0lH,EAAWviH,UACbuiH,EAAWviH,SAAU0hG,EAAAA,EAAAA,IAAkB,CAAElpF,SAAQ2qF,UAAU,KAG7D,IAAIC,EAAUmf,EAAWviH,SACpBoN,EAAOqI,GAAY5Y,EAAAA,SAAe,CACrC41C,OAAQ2wD,EAAQ3wD,OAChB0lB,SAAUirC,EAAQjrC,WAKpB,OAFAt7D,EAAAA,iBAAsB,IAAMumG,EAAQG,OAAO9tF,IAAW,CAAC2tF,IAGrDvmG,EAAAA,cAAC2lH,EAAAA,GAAM,CACLte,SAAUA,EACV9gG,SAAUA,EACV+0D,SAAU/qD,EAAM+qD,SAChBsqD,eAAgBr1G,EAAMqlC,OACtBouE,UAAWzd,GAGhB,CAoDM,MAAMsf,EAAO7lH,EAAAA,YAClB,SAYE2pB,EAAAzmB,GAAG,IAXH,QACEkJ,EADF,SAEE05G,EAFF,eAGEC,EAHF,QAIElnD,EAJF,MAKEtuD,EALF,OAMEyB,EANF,GAOEgc,EAPF,mBAQEg4F,GAGCr8F,EAFEy3B,EAEFu1D,EAAAhtF,EAAA67F,GAECjgB,GAAO0gB,EAAAA,EAAAA,IAAQj4F,EAAI,CAAE83F,aACrBI,WA0RNl4F,EAaM01F,GAAA,IAZN,OACE1xG,EACA6sD,QAASsnD,EAFX,MAGE51G,EAHF,mBAIEy1G,EAJF,SAKEF,QAOI,IAAApC,EAAF,CAAC,EAACA,EAEF0C,GAAWC,EAAAA,EAAAA,MACX/qD,GAAWgrD,EAAAA,EAAAA,MACXnsF,GAAOosF,EAAAA,EAAAA,IAAgBv4F,EAAI,CAAE83F,aAEjC,OAAO9lH,EAAAA,aACJ4hB,IACC,GChoBU,SACdA,EACA5P,GAEA,OACmB,IAAjB4P,EAAMmtB,UACJ/8B,GAAqB,UAAXA,KAVhB,SAAyB4P,GACvB,SAAUA,EAAMwN,SAAWxN,EAAMqN,QAAUrN,EAAMuN,SAAWvN,EAAMsN,SACnE,CASIs3F,CAAgB5kG,EAEpB,CDunBS6kG,CAAuB7kG,EAAO5P,GAAS,CACzC4P,EAAMvM,iBAIN,IAAIwpD,OACchnD,IAAhBsuG,EACIA,GACAxgB,EAAAA,EAAAA,IAAWrqC,MAAcqqC,EAAAA,EAAAA,IAAWxrE,GAE1CisF,EAASp4F,EAAI,CAAE6wC,UAAStuD,QAAOy1G,qBAAoBF,YACpD,IAEH,CACExqD,EACA8qD,EACAjsF,EACAgsF,EACA51G,EACAyB,EACAgc,EACAg4F,EACAF,GAGL,CAxUyBY,CAAoB14F,EAAI,CAC5C6wC,UACAtuD,QACAyB,SACAg0G,qBACAF,aAWF,OAEE9lH,EAAAA,cACM,IADN8R,EAAA,GACMsvC,EADN,CAEEmkD,KAAMA,EACNn5F,QAAS25G,EAAiB35G,EAd9B,SACEwV,GAEIxV,GAASA,EAAQwV,GAChBA,EAAMpG,kBACT0qG,EAAgBtkG,EAEnB,EAQG1e,IAAKA,EACL8O,OAAQA,IAGb,wgBEvXH,MAAMs8D,EACiB,oBAAd3sE,OAAO2sE,GAAoB3sE,OAAO2sE,GAP3C,SAAoB3tE,EAAQC,GAC1B,OACGD,IAAMC,IAAY,IAAND,GAAW,EAAIA,IAAM,EAAIC,IAAQD,IAAMA,GAAKC,IAAMA,CAElE,GAOK,SAAEqS,EAAF,UAAYrM,EAAZ,gBAAuB61B,EAAvB,cAAwCkqF,GAAkB3mH,IAAAA,EAAAA,EAAAA,EAAAA,EAAAA,IAsHhE,SAAS4mH,EAAuBC,GAC9B,MAAMC,EAAoBD,EAAKE,YACzBC,EAAYH,EAAKnlH,MACvB,IACE,MAAMulH,EAAYH,IAClB,OAAQx4C,EAAG04C,EAAWC,GACtB,MAAOpjH,GACP,OAAO,CACR,CACF,CClImB,qBAAX8X,QACoB,qBAApBA,OAAOwD,UACPxD,OAAOwD,SAASC,cCWlB,MAAM8nG,EACXlnH,EAAAA,cAAiD,MAS5C,MAAMmnH,EACXnnH,EAAAA,cAAoD,MAK/C,MAAMonH,EAAyBpnH,EAAAA,cAEpC,MAyCK,MAAMqnH,EAAoBrnH,EAAAA,cAC/B,MAYK,MAAMsnH,EAAkBtnH,EAAAA,cAC7B,YAYWunH,EAAevnH,EAAAA,cAAwC,CAClEwnH,OAAQ,KACR/nF,QAAS,KAOJ,MAAMgoF,EAAoBznH,EAAAA,cAAyB,MChFnD,SAASimH,EACdj4F,EAEQ01F,GAAA,IADR,SAAEoC,QACM,IAAApC,EAD2C,CAAC,EAC5CA,EAENgE,MADFtf,EAAAA,EAAAA,KAAA,GAOA,IAAI,SAAEf,EAAF,UAAY2c,GAAchkH,EAAAA,WAAiBqnH,IAC3C,KAAEniB,EAAF,SAAQF,EAAR,OAAkBC,GAAWshB,EAAgBv4F,EAAI,CAAE83F,aAEnD6B,EAAiB3iB,EAWrB,MALiB,MAAbqC,IACFsgB,EACe,MAAb3iB,EAAmBqC,GAAWgB,EAAAA,EAAAA,IAAU,CAAChB,EAAUrC,KAGhDgf,EAAU5d,WAAW,CAAEpB,SAAU2iB,EAAgB1iB,SAAQC,QACjE,CAOM,SAASwiB,IACd,OAA4C,MAArC1nH,EAAAA,WAAiBsnH,EACzB,CAYM,SAAShB,IAQd,OANEoB,MADFtf,EAAAA,EAAAA,KAAA,GAOOpoG,EAAAA,WAAiBsnH,GAAiBhsD,QAC1C,CAkED,SAASssD,EAA2BnoF,GAClC,OAAOA,EAAQt5B,QACb,CAACwpB,EAAO9B,IACI,IAAVA,IACE8B,EAAMs4E,MAAMp6E,OACZ8B,EAAMy5E,eAAiB3pE,EAAQ5R,EAAQ,GAAGu7E,cAEjD,CAQM,SAASid,IAEZqB,MADFtf,EAAAA,EAAAA,KAAA,GAOA,IAAI,SAAEf,EAAF,UAAY2c,GAAchkH,EAAAA,WAAiBqnH,IAC3C,QAAE5nF,GAAYz/B,EAAAA,WAAiBunH,IAC7BviB,SAAUqF,GAAqBic,IAEjCuB,EAAqB52E,KAAKC,UAC5B02E,EAA2BnoF,GAAS/5B,KAAKiqB,GAAUA,EAAMy5E,gBAGvDhxD,EAAYp4C,EAAAA,QAAa,GA+C7B,OA9CAA,EAAAA,WAAgB,KACdo4C,EAAUj1C,SAAU,CAApB,IAG+BnD,EAAAA,aAC/B,SAACguB,EAAiBzc,GAOhB,QAPkD,IAAlCA,IAAAA,EAA2B,CAAC,IAOvC6mC,EAAUj1C,QAAS,OAExB,GAAkB,kBAAP6qB,EAET,YADAg2F,EAAUhd,GAAGh5E,GAIf,IAAImM,GAAO+vE,EAAAA,EAAAA,IACTl8E,EACAijB,KAAK+zE,MAAM6C,GACXxd,EACqB,SAArB94F,EAAQu0G,UAOO,MAAbze,IACFltE,EAAK6qE,SACe,MAAlB7qE,EAAK6qE,SACDqC,GACAgB,EAAAA,EAAAA,IAAU,CAAChB,EAAUltE,EAAK6qE,aAG/BzzF,EAAQstD,QAAUmlD,EAAUnlD,QAAUmlD,EAAUluF,MACjDqE,EACA5oB,EAAQhB,MACRgB,KAGJ,CAAC81F,EAAU2c,EAAW6D,EAAoBxd,GAI7C,CAmCM,SAASyd,IAKd,IAAI,QAAEroF,GAAYz/B,EAAAA,WAAiBunH,GAC/BQ,EAAatoF,EAAQA,EAAQvyB,OAAS,GAC1C,OAAO66G,EAAcA,EAAWryF,OAAiB,CAAC,CACnD,CAOM,SAAS6wF,EACdv4F,EAEMg6F,GAAA,IADN,SAAElC,QACI,IAAAkC,EAD6C,CAAC,EAC9CA,GACF,QAAEvoF,GAAYz/B,EAAAA,WAAiBunH,IAC7BviB,SAAUqF,GAAqBic,IAEjCuB,EAAqB52E,KAAKC,UAC5B02E,EAA2BnoF,GAAS/5B,KAAKiqB,GAAUA,EAAMy5E,gBAG3D,OAAOppG,EAAAA,SACL,KACEkqG,EAAAA,EAAAA,IACEl8E,EACAijB,KAAK+zE,MAAM6C,GACXxd,EACa,SAAbyb,IAEJ,CAAC93F,EAAI65F,EAAoBxd,EAAkByb,GAE9C,CAqJD,SAASmC,IACP,IAAIpkH,EAgTC,WAAkC,IAAAqkH,EACvC,IAAIrkH,EAAQ7D,EAAAA,WAAiBynH,GACzBl3G,EAAQ43G,EAAmBC,EAAeC,eAC1CpgB,EAAQjoG,EAAAA,WAAiBunH,GACzBe,EAAYrgB,EAAMxoE,QAAQwoE,EAAMxoE,QAAQvyB,OAAS,GAIrD,GAAIrJ,EACF,OAAOA,EAUT,OAPUokG,IAAVG,EAAAA,EAAAA,KAAA,IAEEkgB,EAAUrgB,MAAMhnG,KADlBmnG,EAAAA,EAAAA,KAAA,GAMO,OAAA8f,EAAA33G,EAAM8mG,aAAN,EAAA6Q,EAAeI,EAAUrgB,MAAMhnG,GACvC,CApUasnH,GACR5yG,GAAU61F,EAAAA,EAAAA,IAAqB3nG,GAC5BA,EAAM6zC,OAAU,IAAA7zC,EAAM0nG,WACzB1nG,aAAiB69B,MACjB79B,EAAM8R,QACNs7B,KAAKC,UAAUrtC,GACf2kH,EAAQ3kH,aAAiB69B,MAAQ79B,EAAM2kH,MAAQ,KAC/CC,EAAY,yBACZC,EAAY,CAAEz4G,QAAS,SAAUgS,gBAAiBwmG,GAClDE,EAAa,CAAE14G,QAAS,UAAWgS,gBAAiBwmG,GACxD,OACEzoH,EAAAA,cAAAA,EAAAA,SAAA,KACEA,EAAAA,cAAA,qCACAA,EAAAA,cAAA,MAAIyP,MAAO,CAAEm5G,UAAW,WAAajzG,GACpC6yG,EAAQxoH,EAAAA,cAAA,OAAKyP,MAAOi5G,GAAYF,GAAe,KAChDxoH,EAAAA,cAAA,oDACAA,EAAAA,cAGE,2GAAAA,EAAAA,cAAA,QAAMyP,MAAOk5G,GAAb,gBACA,gBAAA3oH,EAAAA,cAAA,QAAMyP,MAAOk5G,GAAb,YAIP,CAaM,MAAME,UAA4B7oH,EAAAA,UAIvCoC,WAAAA,CAAYM,GACVL,MAAMK,GACNH,KAAKgO,MAAQ,CACX+qD,SAAU54D,EAAM44D,SAChBz3D,MAAOnB,EAAMmB,MAEhB,CAE8B,+BAAxBilH,CAAyBjlH,GAC9B,MAAO,CAAEA,MAAOA,EACjB,CAE8B,+BAAxBklH,CACLrmH,EACA6N,GAUA,OAAIA,EAAM+qD,WAAa54D,EAAM44D,SACpB,CACLz3D,MAAOnB,EAAMmB,MACby3D,SAAU54D,EAAM44D,UAQb,CACLz3D,MAAOnB,EAAMmB,OAAS0M,EAAM1M,MAC5By3D,SAAU/qD,EAAM+qD,SAEnB,CAED0tD,iBAAAA,CAAkBnlH,EAAYolH,GAC5BrxG,QAAQ/T,MACN,wDACAA,EACAolH,EAEH,CAEDtlH,MAAAA,GACE,OAAOpB,KAAKgO,MAAM1M,MAChB7D,EAAAA,cAACynH,EAAkBtgG,SAAnB,CACEzlB,MAAOa,KAAKgO,MAAM1M,MAClB0C,SAAUhE,KAAKG,MAAMm4D,YAGvBt4D,KAAKG,MAAM6D,QAEd,EASH,SAAS2iH,EAAqEppH,GAAA,IAAvD,aAAEqpH,EAAF,MAAgBx5F,EAAhB,SAAuBppB,GAAgCzG,EACxEspH,EAA0BppH,EAAAA,WAAiBknH,GAQ/C,OAJIkC,GAA2Bz5F,EAAMs4E,MAAMohB,eACzCD,EAAwBE,2BAA6B35F,EAAMs4E,MAAMhnG,IAIjEjB,EAAAA,cAACunH,EAAapgG,SAAd,CAAuBzlB,MAAOynH,GAC3B5iH,EAGN,CAEM,SAASgjH,EACd9pF,EACA+pF,EACAC,GAEA,QAD2B,IAF3BD,IAAAA,EAA8B,IAGf,MAAX/pF,EAAiB,CACnB,SAAIgqF,IAAAA,EAAiBpS,OAKnB,OAAO,KAFP53E,EAAUgqF,EAAgBhqF,OAI7B,CAED,IAAIiqF,EAAkBjqF,EAGlB43E,EAAS,MAAAoS,OAAA,EAAAA,EAAiBpS,OAC9B,GAAc,MAAVA,EAAgB,CAClB,IAAIsS,EAAaD,EAAgBv7F,WAC9Bs4C,GAAMA,EAAEwhC,MAAMhnG,KAAM,MAAAo2G,OAAA,EAAAA,EAAS5wC,EAAEwhC,MAAMhnG,OAGtC0oH,GAAc,IADhBvhB,EAAAA,EAAAA,KAAA,GAIAshB,EAAkBA,EAAgB57F,MAChC,EACA5d,KAAKwe,IAAIg7F,EAAgBx8G,OAAQy8G,EAAa,GAEjD,CAED,OAAOD,EAAgBE,aAAY,CAACpC,EAAQ73F,EAAO9B,KACjD,IAAIhqB,EAAQ8rB,EAAMs4E,MAAMhnG,GAAZ,MAAiBo2G,OAAjB,EAAiBA,EAAS1nF,EAAMs4E,MAAMhnG,IAAM,KAEpDooH,EAAeI,EACf95F,EAAMs4E,MAAMohB,cAAgBrpH,EAAAA,cAACioH,EAAD,MAC5B,KACA4B,EAAcA,IAChB7pH,EAAAA,cAACkpH,EAAD,CACEv5F,MAAOA,EACPw5F,aAAc,CACZ3B,SACA/nF,QAAS+pF,EAAcpqH,OAAOsqH,EAAgB57F,MAAM,EAAGD,EAAQ,MAGhEhqB,EACGwlH,OACwBxxG,IAAxB8X,EAAMs4E,MAAMx2F,QACZke,EAAMs4E,MAAMx2F,QACZ+1G,GAMR,OAAOiC,IAAoB95F,EAAMs4E,MAAMohB,cAA0B,IAAVx7F,GACrD7tB,EAAAA,cAAC6oH,EAAD,CACEvtD,SAAUmuD,EAAgBnuD,SAC1BT,UAAWwuD,EACXxlH,MAAOA,EACP0C,SAAUsjH,MAGZA,GARF,GAUC,KACJ,KAEIzB,EAUL,SAASD,EAAmB2B,GAC1B,IAAIv5G,EAAQvQ,EAAAA,WAAiBonH,GAE7B,OADU72G,IAAV63F,EAAAA,EAAAA,KAAA,GACO73F,CACR,WAdI63G,GAAAA,EAAA,8BAAAA,EAAA,8BAAAA,EAAA,8BAAAA,EAAA,8BAAAA,EAAA,wCAAAA,EAAA,wBAAAA,EAAA,iCAAAA,IAAAA,EAAA,KClZE,SAAS2B,EACdC,IAEA5hB,EAAAA,EAAAA,KAAA,EAKD,CAoBM,SAASud,EAO2Bh8F,GAAA,IANzC09E,SAAU4iB,EAAe,IADJ,SAErB1jH,EAAW,KACX+0D,SAAU4uD,EAHW,eAIrBtE,EAAiB7jF,EAAAA,GAAeykE,IAJX,UAKrBwd,EACAmG,OAAQC,GAAa,GACoBzgG,EAEtC+9F,MADHtf,EAAAA,EAAAA,KAAA,GAQA,IAAIf,EAAW4iB,EAAaprD,QAAQ,OAAQ,KACxCwrD,EAAoBrqH,EAAAA,SACtB,KAAM,CAAGqnG,WAAU2c,YAAWmG,OAAQC,KACtC,CAAC/iB,EAAU2c,EAAWoG,IAGI,kBAAjBF,IACTA,GAAe/kB,EAAAA,EAAAA,IAAU+kB,IAG3B,IAAI,SACFllB,EAAW,IADT,OAEFC,EAAS,GAFP,KAGFC,EAAO,GAHL,MAIF30F,EAAQ,KAJN,IAKF9O,EAAM,WACJyoH,EAEA5uD,EAAWt7D,EAAAA,SAAc,KAC3B,IAAIsqH,GAAmBhjB,EAAAA,EAAAA,IAActC,EAAUqC,GAE/C,OAAwB,MAApBijB,EACK,KAGF,CACLtlB,SAAUslB,EACVrlB,SACAC,OACA30F,QACA9O,MALF,GAOC,CAAC4lG,EAAUrC,EAAUC,EAAQC,EAAM30F,EAAO9O,IAS7C,OAAgB,MAAZ65D,EACK,KAIPt7D,EAAAA,cAACqnH,EAAkBlgG,SAAnB,CAA4BzlB,MAAO2oH,GACjCrqH,EAAAA,cAACsnH,EAAgBngG,SAAjB,CACE5gB,SAAUA,EACV7E,MAAO,CAAE45D,WAAUsqD,oBAI1B,CAaM,SAAS2E,EAG2B1gG,GAAA,IAHpB,SACrBtjB,EADqB,SAErB+0D,GACyCzxC,EACrC2gG,EAAoBxqH,EAAAA,WAAiBmnH,GAQzC,ODtDK,SACLhgB,EACAC,GAGEsgB,MADFtf,EAAAA,EAAAA,KAAA,GAOA,IAAIqiB,EAAyBzqH,EAAAA,WAAiBonH,IACxC3nF,QAAS+pF,GAAkBxpH,EAAAA,WAAiBunH,GAC9CQ,EAAayB,EAAcA,EAAct8G,OAAS,GAClDw9G,EAAe3C,EAAaA,EAAWryF,OAAS,CAAC,EAEjDi1F,GADiB5C,GAAaA,EAAW/iB,SACpB+iB,EAAaA,EAAW3e,aAAe,KAC9C2e,GAAcA,EAAW9f,MAqC3C,IAEI3sC,EAFAsvD,EAAsBtE,IAG1B,GAAIlf,EAAa,KAAAyjB,EACf,IAAIC,EACqB,kBAAhB1jB,GAA2BjC,EAAAA,EAAAA,IAAUiC,GAAeA,EAGpC,MAAvBujB,IACE,OAAAE,EAAAC,EAAkB9lB,eAAlB,EAAA6lB,EAA4BhwF,WAAW8vF,MAF3CviB,EAAAA,EAAAA,KAAA,GASA9sC,EAAWwvD,CACZ,MACCxvD,EAAWsvD,EAGb,IAAI5lB,EAAW1pC,EAAS0pC,UAAY,IAChCkE,EACqB,MAAvByhB,EACI3lB,EACAA,EAASl3E,MAAM68F,EAAmBz9G,SAAW,IAE/CuyB,GAAUynE,EAAAA,EAAAA,IAAYC,EAAQ,CAAEnC,SAAUkE,IAgB1CwgB,EAAkBH,EACpB9pF,GACEA,EAAQ/5B,KAAKiqB,GACXhuB,OAAOoQ,OAAO,CAAC,EAAG4d,EAAO,CACvB+F,OAAQ/zB,OAAOoQ,OAAO,CAAC,EAAG24G,EAAc/6F,EAAM+F,QAC9CsvE,UAAUqD,EAAAA,EAAAA,IAAU,CAACsiB,EAAoBh7F,EAAMq1E,WAC/CoE,aACyB,MAAvBz5E,EAAMy5E,aACFuhB,GACAtiB,EAAAA,EAAAA,IAAU,CAACsiB,EAAoBh7F,EAAMy5E,mBAGjDogB,EACAiB,QAA0B5yG,GAM5B,OAAIuvF,EAEApnG,EAAAA,cAACsnH,EAAgBngG,SAAjB,CACEzlB,MAAO,CACL45D,SAAQxpD,EAAA,CACNkzF,SAAU,IACVC,OAAQ,GACRC,KAAM,GACN30F,MAAO,KACP9O,IAAK,WACF65D,GAELsqD,eAAgB7jF,EAAAA,GAAeykE,MAGhCkjB,GAKAA,CACR,CCnFQqB,CAHLP,IAAsBjkH,EACjBikH,EAAkBQ,OAAO7jB,OAC1B8jB,EAAyB1kH,GACN+0D,EAC1B,KAiCI4vD,YAAAA,GAAAA,EAAAA,EAAA,qBAAAA,EAAAA,EAAA,qBAAAA,EAAAA,EAAA,kBAAAA,IAAAA,EAAA,KAMuB,IAAIpuE,SAAQ,SAEP98C,EAAAA,UAoH1B,SAASirH,EACd1kH,EACAo3D,QACe,IADfA,IAAAA,EAAuB,IAEvB,IAAIwpC,EAAwB,GAkD5B,OAhDAnnG,EAAAA,SAAe2oC,QAAQpiC,GAAU,CAACkL,EAASoc,KACzC,IAAK7tB,EAAAA,eAAqByR,GAGxB,OAGF,GAAIA,EAAQ/M,OAAS1E,EAAAA,SAMnB,YAJAmnG,EAAOrxE,KAAKzjB,MACV80F,EACA8jB,EAAyBx5G,EAAQ/O,MAAM6D,SAAUo3D,IAMnDlsD,EAAQ/M,OAASqlH,IADnB3hB,EAAAA,EAAAA,KAAA,GAOA,IAAI+iB,EAAW,IAAIxtD,EAAY9vC,GAC3Bo6E,EAAqB,CACvBhnG,GAAIwQ,EAAQ/O,MAAMzB,IAAMkqH,EAASxlH,KAAK,KACtCwiG,cAAe12F,EAAQ/O,MAAMylG,cAC7B12F,QAASA,EAAQ/O,MAAM+O,QACvBoc,MAAOpc,EAAQ/O,MAAMmrB,MACrBsM,KAAM1oB,EAAQ/O,MAAMy3B,KACpBixF,OAAQ35G,EAAQ/O,MAAM0oH,OACtBx1E,OAAQnkC,EAAQ/O,MAAMkzC,OACtByzE,aAAc53G,EAAQ/O,MAAM2mH,aAC5BgC,iBAAgD,MAA9B55G,EAAQ/O,MAAM2mH,aAChCiC,iBAAkB75G,EAAQ/O,MAAM4oH,iBAChCC,OAAQ95G,EAAQ/O,MAAM6oH,QAGpB95G,EAAQ/O,MAAM6D,WAChB0hG,EAAM1hG,SAAW0kH,EACfx5G,EAAQ/O,MAAM6D,SACd4kH,IAIJhkB,EAAOrxE,KAAKmyE,EAAZ,IAGKd,CACR,2FCnlBD,MAAMqkB,EAAsB1rH,IAEtB,IAFuB,SAC3ByG,GACDzG,EACC,MAAM,UAAEkkH,IAAcz8F,EAAAA,EAAAA,YAAWkkG,EAAAA,IAC3BrF,GAAWC,EAAAA,EAAAA,MACX/qD,GAAWgrD,EAAAA,EAAAA,MAmBjB,OAAO//G,EAlBS,CACds4D,OAAAA,CAAQ6sD,GACNtF,EAASsF,EAAUzmB,QAAU,IAAK,CAChCpmC,SAAS,EACTtuD,MAAOm7G,EAAUn7G,OAErB,EACAulB,IAAAA,CAAK41F,GACHtF,EAASsF,EAAUzmB,QAAU,IAAK,CAChCpmC,SAAS,EACTtuD,MAAOm7G,EAAUn7G,OAErB,EACA,YAAI+qD,GACF,IAAIqwD,EACJ,OAAiE,OAAzDA,EAAkB,MAAb3H,OAAoB,EAASA,EAAU1oD,UAAoBqwD,EAAKrwD,CAC/E,GAEsB,qCCrB1B,SAASswD,EACPlgH,EACAggG,GAEA,GAAa,MAAThgG,EACF,OAAOA,EAGT,GACmB,IAAjBA,EAAMwB,UACJw+F,GAAqBA,GAA8B,KAAVhgG,GAE3C,OAAO,KAGT,MAAMmgH,EAAMngH,aAAiByB,MAAQzB,EAAM,GAAKA,EAChD,OAAW,MAAPmgH,GAGCngB,GAA4B,KAARmgB,EAFhBA,EAGA,IAIX,CAsLO,SAASC,EACdpgH,GAEA,MAAMqgH,EAASH,EAAgBlgH,GAC/B,GAAc,MAAVqgH,EAAgB,OAAOA,EAC3B,GAAe,KAAXA,EAAe,OAAO,KAG1B,OADgBA,CAElB,CA0BO,SAASC,EACdtgH,GAEA,MAAMmgH,EAAMD,EAAgBlgH,GAAO,GACnC,OAAW,MAAPmgH,EAAoBA,EAEjBhmG,OAAOgmG,EAChB,2LCvPO,MAAMI,EAGT,CACFC,OD0NK,SACLL,GAEA,OAAW,MAAPA,EACKA,EAGFhmG,OAAOgmG,EAChB,ECjOEM,OAAQC,GA2CGC,EAGT,CACFH,ODsIK,SACLI,GAEA,OAAW,MAAPA,EACKA,EAGFzmG,OAAOymG,EAChB,EC7IEH,OAAQC,GCnDc,UACrBh9G,MAAM,IACN1J,KAAK1E,GAAM,CAACA,EAAGurH,mBAAmBvrH,MCD9B,SAASwrH,EACdC,EACA31F,GAEA,MAAM41F,EAAiD,CAAC,EAElDljB,EAAa7nG,OAAOuE,KAAK4wB,GAC/B,IAAK,MAAM4yE,KAAaF,EAAY,CAClC,MAAMmjB,EAAe71F,EAAM4yE,GAEtB+iB,EAAe/iB,GAMlBgjB,EAAahjB,GAA6B+iB,EACxC/iB,GACAwiB,OAAOp1F,EAAM4yE,IALdgjB,EAAqBhjB,GACJ,MAAhBijB,EAAuBA,EAAe9mG,OAAO8mG,EAMnD,CAEA,OAAOD,CACT,cCyDO,MAAME,EAAoB,IA3E1B,MAILxqH,WAAAA,GACEG,KAAKsqH,UAAY,IAAIt7E,IACrBhvC,KAAKuqH,iBAAmB,IAAIv7E,GAC9B,CAEA0E,GAAAA,CACEw1D,EACAshB,EACAJ,EACAR,GAEA5pH,KAAKsqH,UAAU52E,IAAIw1D,EAAO,CACxBuhB,YAAaD,EACbE,QAASN,EACTR,UAEJ,CAKA55C,GAAAA,CAAIk5B,EAAeshB,EAAgCZ,GACjD,IAAK5pH,KAAKsqH,UAAUt6C,IAAIk5B,GAAQ,OAAO,EACvC,MAAMyhB,EAAc3qH,KAAKsqH,UAAUxpF,IAAIooE,GACvC,QAAKyhB,IAGHA,EAAYF,cAAgBD,IACjB,MAAVZ,GAAkBe,EAAYf,SAAWA,GAE9C,CAEA9oF,GAAAA,CAAIooE,GAlDN,IAAAkgB,EAmDI,GAAIppH,KAAKsqH,UAAUt6C,IAAIk5B,GAAQ,OAAO,OAAAkgB,EAAAppH,KAAKsqH,UAAUxpF,IAAIooE,SAAnB,EAAAkgB,EAA2BsB,OAEnE,CAKAE,cAAAA,CAAe3jB,GACb,IAAK,MAAMiC,KAASjC,EAAY,CAC9B,MAAM4jB,EAAY7qH,KAAKuqH,iBAAiBzpF,IAAIooE,IAAU,EACtDlpG,KAAKuqH,iBAAiB72E,IAAIw1D,EAAO2hB,EAAY,EAC/C,CACF,CAMAC,gBAAAA,CAAiB7jB,GACf,IAAK,MAAMiC,KAASjC,EAAY,CAC9B,MAAM9nG,GAASa,KAAKuqH,iBAAiBzpF,IAAIooE,IAAU,GAAK,EACpD/pG,GAAS,GACXa,KAAKuqH,iBAAiB12E,OAAOq1D,GACzBlpG,KAAKsqH,UAAUt6C,IAAIk5B,IACrBlpG,KAAKsqH,UAAUz2E,OAAOq1D,IAGxBlpG,KAAKuqH,iBAAiB72E,IAAIw1D,EAAO/pG,EAErC,CACF,CAEA4rH,KAAAA,GACE/qH,KAAKsqH,UAAUS,QACf/qH,KAAKuqH,iBAAiBQ,OACxB,GC1BK,SAASC,EACdC,EACAC,EACAC,EACAC,GAhEF,IAAAhC,EAmEE,IAAK+B,IAAoBD,EAAUvgH,OAAQ,OAAOsgH,EAElD,IAAIf,EAAiB,IAAKe,GACtBI,GAAa,EACjB,IAAK,MAAMC,KAAYJ,EAEhB9rH,OAAOuQ,UAAUC,eAAeC,KAAKq6G,EAAgBoB,KACxDpB,EAAeoB,GAAY,OAAAlC,EAAA+B,EAAgBG,IAAhBlC,EAA6BgC,EACxDC,GAAa,GAIjB,OAAKA,EACEnB,EADiBe,CAE1B,CCxEA,MAAMr7G,EAAiBxQ,OAAOuQ,UAAUC,eAMxC,SAASm8D,EAAG3tE,EAAQC,GAElB,OAAID,IAAMC,EAIK,IAAND,GAAiB,IAANC,GAAW,EAAID,IAAM,EAAIC,EAGpCD,IAAMA,GAAKC,IAAMA,CAE5B,CAUe,SAARy3G,EACLyV,EACAC,EACAC,GAvCF,IAAArC,EAAAsC,EAyCE,GAAI3/C,EAAGw/C,EAAMC,GACX,OAAO,EAGT,GACkB,kBAATD,GACE,OAATA,GACgB,kBAATC,GACE,OAATA,EAEA,OAAO,EAGT,MAAMzV,EAAQ32G,OAAOuE,KAAK4nH,GACpBvV,EAAQ52G,OAAOuE,KAAK6nH,GAE1B,GAAIzV,EAAMprG,SAAWqrG,EAAMrrG,OACzB,OAAO,EAIT,IAAK,IAAII,EAAI,EAAGA,EAAIgrG,EAAMprG,OAAQI,IAAK,CACrC,MAAM2qG,EAAU,OAAAgW,EAAA,OAAAtC,EAAA,MAAAqC,OAAA,EAAAA,EAAW1V,EAAMhrG,UAAjB,EAAAq+G,EAAsB3pC,QAAtBisC,EAAgC3/C,EAChD,IACGn8D,EAAeC,KAAK27G,EAAMzV,EAAMhrG,MAChC2qG,EAAQ6V,EAAKxV,EAAMhrG,IAAKygH,EAAKzV,EAAMhrG,KAEpC,OAAO,CAEX,CAEA,OAAO,CACT,CC7DO,SAAS4gH,EACdC,EACA1B,EACAG,GAEA,MAAMwB,EAAkD,CAAC,EAInD5kB,EAAa7nG,OAAOuE,KAAKumH,GAC/B,IAAK,MAAM/iB,KAAaF,EAAY,CAElC,MAAM6kB,EAAc5B,EAAe/iB,GAC7B4kB,EAAeH,EAAazkB,GAGlC,IAAIijB,EACJ,GAAIC,EAAkBr6C,IAAIm3B,EAAW4kB,EAAcD,EAAYlC,QAC7DQ,EAAeC,EAAkBvpF,IAAIqmE,OAChC,CAML,GALAijB,EAAe0B,EAAYlC,OAAOmC,GAMhCD,EAAYrsC,QACZ4qC,EAAkBr6C,IAAIm3B,EAAW4kB,GACjC,CACA,MAAMC,EAAkB3B,EAAkBvpF,IAAIqmE,GAC1C2kB,EAAYrsC,OAAO2qC,EAAc4B,KACnC5B,EAAe4B,EAEnB,MAGqB,IAAjB5B,GACFC,EAAkB32E,IAChByzD,EACA4kB,EACA3B,EACA0B,EAAYlC,OAGlB,MAIqB,IAAjBQ,QAAsD,IAAxB0B,EAAYziB,UAC5C+gB,EAAe0B,EAAYziB,SAG7BwiB,EAAc1kB,GAA6BijB,CAC7C,CAEA,OAAOyB,CACT,CAMO,SAASI,IACd,IAAIC,EAsBJ,OApBA,SACEN,EACA1B,EACAG,GAEA,MAAMwB,EAAgBF,EACpBC,EACA1B,EACAG,GAEF,OACuB,MAArB6B,GACApW,EAAaoW,EAAmBL,GAEzBK,GAETA,EAAoBL,EACbA,EACT,CAGF,CC9FA,IAAIM,EACAC,EACAC,EAGAC,EAAkC,CAAC,EAKhC,MAAMC,EAA2BA,CACtCC,EACAC,EAIAC,KAGA,GACEP,IAAuBM,GACvBJ,IAAiCG,GACjCJ,IAA2BM,EAE3B,OAAOJ,EAGTH,EAAqBM,EACrBJ,EAA+BG,EAC/B,MAAMG,EAAiBH,EAAqB,MAAAC,EAAAA,EAAgB,IAC5DL,EAAyBM,EAEzB,MAAME,ECZD,SACLF,GAEA,GAAKA,EAEL,OAAOttH,OAAO2/D,YACZ2tD,EAAc7/G,MAAM,MAAM1J,KAAK0pH,GAASA,EAAKhgH,MAAM,QAEvD,CDIqBigH,CAAsBJ,GAGzC,IAAK,IAAKxtH,EAAKC,KAAUC,OAAO0D,QAAQ6pH,GAAiB,EAEnD,MAAAC,OAAA,EAAAA,EAAa1tH,aACRytH,EAAeztH,GACtBA,EAAM0tH,EAAW1tH,GACjBytH,EAAeztH,GAAOC,GAGxB,MAAM4tH,EAAWT,EAAkBptH,GAC/B42G,EAAa32G,EAAO4tH,KACtBJ,EAAeztH,GAAO6tH,EAE1B,CAGA,OADAT,EAAoBK,EACbA,CAAA,EETF,SAASK,EACdC,EACAC,GAEmB,MAAfA,IACFA,EAAc,CAAC,GAGjB,MAAM7R,EAAS,IAAK4R,KAAkBC,GAOtC,OAJIA,EAAY/5F,QAAU85F,EAAc95F,SACtCkoF,EAAOloF,OAAS,IAAK85F,EAAc95F,UAAW+5F,EAAY/5F,SAGrDkoF,CACT,CC3CA,MAAM8R,EAAmD,CACvDC,QAAS,CAAC,EACVp+G,QDZ2D,CAC3Dw9G,qBEDK,SAA8BC,GACnC,MAAMt5F,EAAS,IAAIk6F,gBAAgBZ,GAC7Ba,EAAuB,CAAC,EAC9B,IAAK,IAAKpuH,EAAKC,KAAUg0B,EACnB/zB,OAAOuQ,UAAUC,eAAeC,KAAKy9G,EAAQpuH,GAC3C0L,MAAM+kB,QAAQ29F,EAAOpuH,IACtBouH,EAAOpuH,GAAkBq0B,KAAKp0B,GAE/BmuH,EAAOpuH,GAAO,CAACouH,EAAOpuH,GAAgBC,GAGxCmuH,EAAOpuH,GAAOC,EAIlB,OAAOmuH,CACT,EFdEC,qBGDK,SAA8BC,GACnC,MAAMr6F,EAAS,IAAIk6F,gBACbvqH,EAAU1D,OAAO0D,QAAQ0qH,GAE/B,IAAK,MAAOtuH,EAAKC,KAAU2D,EACzB,QAAc,IAAV3D,GACU,OAAVA,EAEJ,GAAIyL,MAAM+kB,QAAQxwB,GAChB,IAAK,MAAMs5B,KAAQt5B,EACjBg0B,EAAOs6F,OAAOvuH,EAAK,MAAAu5B,EAAAA,EAAQ,SAG7BtF,EAAOs6F,OAAOvuH,EAAKC,GAIvB,OAAOg0B,EAAO3oB,UAChB,EHhBEkjH,WAAY,SACZC,wBAAoB,EACpBC,kBAAkB,EAClBC,uBAAuB,EACvBC,gBAAgB,EAChBC,wBAAwB,ICObC,EAAoBvwH,EAAAA,cAC/B0vH,GAqCF,SAASc,EAAA1wH,GAQN,IAR8B,SAC/ByG,EAAA,QACAopH,EAAA,QACAp+G,GACFzR,EAME,MAAQ6vH,QAASc,EAAel/G,QAASi+G,GACvCxvH,EAAAA,WAAiBuwH,GAEb7uH,EAAQ1B,EAAAA,SAAc,KACnB,CACL2vH,QAAS,MAAAA,EAAAA,EAAWc,EACpBl/G,QAASg+G,EACPC,EACAj+G,MAGH,CAACo+G,EAASp+G,EAASk/G,EAAejB,IAErC,OACExvH,EAAAA,cAACuwH,EAAkBppG,SAAlB,CAA2BzlB,SACzB6E,EAGP,CAMO,SAASmqH,EAAAvvH,GAIY,IAJO,SACjCoF,EAAA,QACAopH,EAAA,QACAp+G,GACFpQ,EACE,MAAMwvH,EAAUhB,EAChB,OAAOgB,EACL3wH,EAAAA,cAAC2wH,EAAA,MACGC,GACA5wH,EAAAA,cAACwwH,EAAA,CAAwBb,QAASiB,EAASr/G,WACxChL,KAKPvG,EAAAA,cAACwwH,EAAA,CAAwBj/G,WACtBhL,EAGP,CG1FO,SAASsqH,EAAA/wH,GAYL,IAZ4B,QACrCgxH,EAAA,WACAb,EAAA,oBACAc,EACAtE,eAAgBe,EAAA,QAChBj8G,GACFzR,EAOE,MAAM,qBAAEivH,EAAA,qBAAsBe,GAAyBv+G,EAGvD,IAAIy/G,EAFc,MAAdf,IAAoBA,EAAa1+G,EAAQ0+G,YAG7C,MAAM9B,EAAeW,EACnBC,EACAgC,GAKItE,EAAiBc,EACrBC,EACA7rH,OAAOuE,KAAK4qH,GACZv/G,EAAQmkB,QAKV,IAAIu7F,EA0BAC,EAvBJ,GAAuB,oBAAZJ,EAAwB,CAOjCG,EAAgBH,EANK5C,EACnBC,EACA1B,EACAG,GAIJ,MAEEqE,EAAeH,EA2BjB,OAxBAE,EAAiBxE,EAAkBC,EAAgBwE,GAG/C1/G,EAAQ6+G,uBCrEP,SACLe,EACA1E,GARF,IAAAd,EAUE,IAAK,MAAMjiB,KAAaynB,OAGmB,KAAvC,OAAAxF,EAAAc,EAAe/iB,SAAf,EAAAiiB,EAA2B/f,eACE,IAA7BulB,EAAcznB,IAGS+iB,EAAe/iB,GAAWwiB,OAC/CO,EAAe/iB,GAAWkC,WAELulB,EAAcznB,KACnCynB,EAAcznB,QAAa,EAInC,CDmDI0nB,CAAeJ,EAAgBvE,GAIjCuE,EL1CK,SACLG,EACA1E,GAxCF,IAAAd,EA0CE,IAAI0F,EAAkD,CAAC,EACvD,IAAK,MAAM3nB,KAAaynB,EACoB,OAAtC,OAAAxF,EAAAc,EAAe/iB,SAAf,EAAAiiB,EAA2B2F,SAC7BD,EAAiB5E,EAAe/iB,GAAW4nB,SACzCH,EAAcznB,GAEhB2nB,EAAiB3nB,GAAaynB,EAAcznB,GAIhD,OAAO2nB,CACT,CK2BmBE,CAAcP,EAAgBvE,GAI7CyE,EAAkBpB,EADD,SAAfG,GAAwC,YAAfA,EACYe,EAEA,IAClC7C,KACA6C,KAIH,MAAAE,OAAA,EAAAA,EAAiBhkH,SAAiC,MAAvBgkH,EAAgB,KAC5CA,EAA0B,IAAIA,KAG1B,MAAAA,EAAAA,EAAmB,EAC5B,CAwCA,MAAMM,EAAiBC,GAAmBA,IACpCC,EAAeD,GAAmBr2G,YAAW,IAAMq2G,KAAQ,GAG3DE,EAA4B,GElF3B,SAASC,EACdC,EACAC,GAEA,MAAM,QAAEnC,EAASp+G,QAASwgH,GLpCrB,WACL,MAAMrwH,EAAQ1B,EAAAA,WAAiBuwH,GAC/B,QAEa,IAAV7uH,GAAuBA,IAAUguH,EAElC,MAAM,IAAIhuF,MAAM,2DAGlB,OAAOhgC,CACT,CK0B+CswH,IACtCC,IAAmBh/G,EAAAA,EAAAA,UAASu7G,IAG3B/B,eAAgByF,EAAA,QAA2B3gH,GAoGrD,SACEsgH,EACAC,GAKA,IAAIrF,EACAl7G,OAES,IAATsgH,GAEFpF,EAAiB,CAAC,EAClBl7G,EAAUugH,GACD3kH,MAAM+kB,QAAQ2/F,IAGvBpF,EAAiB9qH,OAAO2/D,YACtBuwD,EAAKnsH,KAAKjE,GAAQ,CAACA,EAAK,cAE1B8P,EAAUugH,IAIVrF,EAAiBoF,EACjBtgH,EAAUugH,GAGZ,MAAO,CAAErF,iBAAgBl7G,UAC3B,CAjIiE4gH,CAC7DN,EACAC,GAGIM,GAAgBh/G,EAAAA,EAAAA,UAAQ,IACrBm8G,EAAawC,EAAgBxgH,IACnC,CAACwgH,EAAgBxgH,IAGpB,IAAIk7G,EXhEC,SACLyF,EACA3gH,GAfF,IAAAo6G,EAAAsC,EAAAoE,EAiBE,MAAM5F,EAAsC,CAAC,EAC7C,IAAImB,GAAa,EAEjB,MAAM0E,EAAW3wH,OAAOuE,KAAKgsH,GAC7B,IAAIzE,EAAY6E,EAQhB,GAHE/gH,EAAQ2+G,qBACwB,IAA/B3+G,EAAQ2+G,oBAAoD,IAApBoC,EAASplH,OAE5B,CACtB,MAAMqlH,EAAY5wH,OAAOuE,KAAK,OAAAylH,EAAAp6G,EAAQmkB,QAARi2F,EAAkB,CAAC,GACjD8B,EAAU33F,QAAQy8F,EACpB,CAEA,IAAK,MAAM9wH,KAAOgsH,EAAW,CAC3B,MAAMhiB,EAAQymB,EAA0BzwH,GAE3B,MAATgqG,GAAkC,kBAAVA,GAM5BmiB,GAAa,EAGbnB,EAAehrH,GAAO,OAAA4wH,EAAA,OAAApE,EAAA18G,EAAQmkB,aAAR,EAAAu4F,EAAiBxsH,IAAjB4wH,EAAyBpG,GAR7CQ,EAAehrH,GAAOgqG,CAS1B,CAGA,OAAKmiB,EAEEnB,EAFiByF,CAG1B,CWwBuBM,CACnBN,EACAE,GAIF,MAAMjE,EAAeW,EACnBsD,EAAcrD,qBACdY,EAAQr0D,SAAS2pC,OPhFd,SACLwnB,GAEA,IAAIgG,EACJ,IAAK,MAAM/oB,KAAa+iB,EACtB,GAAIA,EAAe/iB,GAAW4nB,QAAS,CACrC,MACMlC,EAAO,GADG3C,EAAe/iB,GAAW4nB,YACd5nB,IACvB+oB,EACAA,EAAgB38F,KAAKs5F,GADJqD,EAAkB,CAACrD,EAE3C,CAGF,OAAOqD,EAAkBA,EAAgB9sH,KAAK,WAAQ,CACxD,COmEI+sH,CAAoBjG,IAIlB2F,EAAcjC,mBAChB1D,EAAiBc,EACfd,EACA9qH,OAAOuE,KAAKioH,GACZiE,EAAc18F,OACdu2F,IAKJ,MAAMmC,EAAgB6D,EACpB9D,EACA1B,EACAG,GAKI+F,EAAiBhxH,OAAOuE,KAAKumH,GAAgB9mH,KAAK,OACxDiB,EAAAA,EAAAA,YAAU,KACR,MAAM4iG,EAAampB,EAAevjH,MAAM,MAExC,OADAw9G,EAAkBO,eAAe3jB,GAC1B,KACLojB,EAAkBS,iBAAiB7jB,EAAW,CAC/C,GACA,CAACmpB,IAIJ,MAAMC,EAAuB,CAC3BjD,UACAlD,iBACAl7G,QAAS6gH,GAELS,GACJnsH,EAAAA,EAAAA,QAAoCksH,GACC,MAAnCC,EAAwB1vH,UAC1B0vH,EAAwB1vH,QAAUyvH,IAEpChsH,EAAAA,EAAAA,YAAU,KACRisH,EAAwB1vH,QAAQwsH,QAAUA,EAC1CkD,EAAwB1vH,QAAQspH,eAAiBA,EACjDoG,EAAwB1vH,QAAQoO,QAAU6gH,CAAA,GACzC,CAACzC,EAASlD,EAAgB2F,IAG7B,MAAOU,IAAY7/G,EAAAA,EAAAA,WAAS,IACT6/G,CACfhC,EACAb,KAGA,MAAQN,QAAAiB,EAASnE,eAAAsG,EAAgBxhH,QAAAyhH,GAC/BH,EAAwB1vH,QACR,MAAd8sH,IAAoBA,EAAa+C,EAAQ/C,YFE5C,SACLl1G,GAEA,IADA,UAAEH,GAAUtY,UAAA4K,OAAA,QAAA2K,IAAAvV,UAAA,GAAAA,UAAA,GAA6B,CAAC,EAE1CqvH,EAAY77F,KAAK/a,GACjB,IAAIk4G,EAAer4G,EAAY42G,EAAgBE,EAEpB,IAAvBC,EAAYzkH,QACd+lH,GAAa,KACX,MAAMC,EAAUvB,EAAY7jG,QAC5B6jG,EAAYzkH,OAAS,EACrB,MAAMimH,EAAsBD,EAAQ,GAAGnC,oBAEvC,IAAI/B,EACJ,IAAK,IAAI1hH,EAAI,EAAGA,EAAI4lH,EAAQhmH,SAAUI,EAKpC0hH,EAAe6B,EAHP,IAANvjH,EACI4lH,EAAQ5lH,GACR,IAAK4lH,EAAQ5lH,GAAIyjH,oBAAqB/B,IAM5Cj0G,EAAKxJ,QAAQ++G,wBACbtB,IAAiBmE,GApElB,SAAShyH,GAUb,IAVgC,aACjC6tH,EAAA,QACAW,EAAA,SACAvJ,EAAA,WACA6J,GACF9uH,EAME,MAGMiyH,EAA+B,IAHbzD,EAAQr0D,SAK9B2pC,OAAQ+pB,GAGN5I,IAGwB,kBAAf6J,GAA2BA,EAAWp1F,WAAW,WAC1D80F,EAAQ9wD,QAAQu0D,GAEhBzD,EAAQ75F,KAAKs9F,GAGnB,CA6CMC,CAAmB,CACjBrE,aAAc,MAAAA,EAAAA,EAAgB,GAC9BW,QAASuD,EAAQA,EAAQhmH,OAAS,GAAGyiH,QACrCvJ,UAAU,EACV6J,WAAYiD,EAAQA,EAAQhmH,OAAS,GAAG+iH,YACxC,GAGR,CEtCMqD,CACE,CACExC,UACAb,aACAc,oBAAqBH,EAAQt1D,SAAS2pC,OACtCwnB,eAAAsG,EACAxhH,QAAAyhH,EACArD,QAAAiB,GAEF,CAAEh2G,WAAYo4G,EAAQ3C,gBACvB,IAML,MAAO,CAACjC,EAAe0E,EACzB,CAEA,IAAOS,EAAQ3B,ECrJR,MAAM4B,EAAgBA,CAC3B/vH,EACA4qH,EACA98G,KAKA,MAAMk7G,GAAiBr5G,EAAAA,EAAAA,UACrB,KAAM,CAAG,CAAC3P,GAAO,MAAA4qH,EAAAA,EAAe,aAChC,CAAC5qH,EAAM4qH,KAEFv3F,EAAOg8F,GAAYlB,EAAenF,EAAgBl7G,GAezD,MAAO,CAdculB,EAAMrzB,IACVo5B,EAAAA,EAAAA,cACf,CAACK,EAAsC+yF,IAE5B6C,EADe,oBAAb51F,EACQu2F,IACf,MAAMC,EAAsBx2F,EAAsBu2F,EAAahwH,IAC/D,MAAO,CAAE,CAACA,GAAOiwH,EAAoB,EAGzB,CAAE,CAACjwH,GAAOy5B,GAFrB+yF,IAIP,CAACxsH,EAAMqvH,IAGsB","sources":["../../../node_modules/@dhis2-ui/checkbox/build/es/checkbox/checkbox-icon.js","../../../node_modules/@dhis2-ui/checkbox/build/es/checkbox/checkbox.js","../../../node_modules/@dhis2-ui/css/build/es/css-variables/css-variables.js","../../../node_modules/@dhis2-ui/intersection-detector/build/es/intersection-detector.js","../../../node_modules/@dhis2-ui/notice-box/build/es/notice-box-message.js","../../../node_modules/@dhis2-ui/notice-box/build/es/notice-box-title.js","../../../node_modules/@dhis2-ui/notice-box/build/es/notice-box-content.js","../../../node_modules/@dhis2/ui-icons/build/es/react/CheckmarkCircle24.js","../../../node_modules/@dhis2-ui/notice-box/build/es/notice-box-icon.js","../../../node_modules/@dhis2-ui/notice-box/build/es/notice-box.js","../../../node_modules/@dhis2-ui/pagination/build/es/locales/index.js","../../../node_modules/@dhis2-ui/pagination/build/es/get-default-page-summary-text.js","../../../node_modules/@dhis2-ui/pagination/build/es/page-controls.js","../../../node_modules/@dhis2-ui/pagination/build/es/page-select.js","../../../node_modules/@dhis2-ui/pagination/build/es/page-size-select.js","../../../node_modules/@dhis2-ui/pagination/build/es/page-summary.js","../../../node_modules/@dhis2-ui/pagination/build/es/pagination.js","../../../node_modules/@dhis2-ui/pagination/build/es/get-item-range.js","../../../node_modules/@dhis2-ui/popover/build/es/get-arrow-position.js","../../../node_modules/@dhis2-ui/popover/build/es/arrow.js","../../../node_modules/@dhis2-ui/popover/build/es/modifiers.js","../../../node_modules/@dhis2-ui/popover/build/es/popover.js","../../../node_modules/@dhis2-ui/select/build/es/locales/index.js","../../../node_modules/@dhis2-ui/select/build/es/multi-select-field/multi-select-field.js","../../../node_modules/@dhis2-ui/select/build/es/multi-select-option/multi-select-option.js","../../../node_modules/@dhis2-ui/select/build/es/multi-select/menu.js","../../../node_modules/@dhis2-ui/select/build/es/multi-select/filterable-menu.js","../../../node_modules/@dhis2-ui/chip/build/es/content.js","../../../node_modules/@dhis2-ui/chip/build/es/icon.js","../../../node_modules/@dhis2-ui/chip/build/es/remove.js","../../../node_modules/@dhis2-ui/chip/build/es/chip.js","../../../node_modules/@dhis2-ui/select/build/es/multi-select/selection-list.js","../../../node_modules/@dhis2-ui/select/build/es/multi-select/input.js","../../../node_modules/@dhis2-ui/select/build/es/multi-select/multi-select.js","../../../node_modules/@dhis2-ui/select/build/es/select/empty.js","../../../node_modules/@dhis2-ui/select/build/es/select/filter-input.js","../../../node_modules/@dhis2-ui/select/build/es/select/no-match.js","../../../node_modules/@dhis2-ui/select/build/es/select/filterable-menu.js","../../../node_modules/@dhis2-ui/select/build/es/select/input-clear-button.js","../../../node_modules/@dhis2-ui/select/build/es/select/input-placeholder.js","../../../node_modules/@dhis2-ui/select/build/es/select/input-prefix.js","../../../node_modules/@dhis2-ui/select/build/es/select/loading.js","../../../node_modules/@dhis2-ui/select/build/es/select/option-helpers.js","../../../node_modules/@dhis2/ui-icons/build/es/react/ChevronDown16.js","../../../node_modules/@dhis2-ui/select/build/es/select/input-wrapper.js","../../../node_modules/@dhis2-ui/select/build/es/select/menu-wrapper.js","../../../node_modules/@dhis2-ui/select/build/es/select/select.js","../../../node_modules/@dhis2-ui/select/build/es/select/debounce/debounce.js","../../../node_modules/@dhis2-ui/select/build/es/single-select-field/single-select-field.js","../../../node_modules/@dhis2-ui/select/build/es/single-select-option/single-select-option.js","../../../node_modules/@dhis2-ui/select/build/es/single-select/menu.js","../../../node_modules/@dhis2-ui/select/build/es/single-select/filterable-menu.js","../../../node_modules/@dhis2-ui/select/build/es/single-select/selection.js","../../../node_modules/@dhis2-ui/select/build/es/single-select/input.js","../../../node_modules/@dhis2-ui/select/build/es/single-select/single-select.js","../../../node_modules/@dhis2-ui/selector-bar/build/es/selector-bar-item/selector-bar-item.js","../../../node_modules/@dhis2-ui/selector-bar/build/es/locales/index.js","../../../node_modules/@dhis2-ui/selector-bar/build/es/selector-bar/selector-bar.js","../../../node_modules/@dhis2-ui/tab/build/es/tab-bar/animated-side-scroll.js","../../../node_modules/@dhis2-ui/tab/build/es/tab-bar/detect-horizontal-scrollbar-height.js","../../../node_modules/@dhis2-ui/tab/build/es/tab-bar/scroll-button.js","../../../node_modules/@dhis2-ui/tab/build/es/tab-bar/scroll-bar.js","../../../node_modules/@dhis2-ui/tab/build/es/tab-bar/tabs.js","../../../node_modules/@dhis2-ui/tab/build/es/tab-bar/tab-bar.js","../../../node_modules/@dhis2-ui/tab/build/es/tab/tab.js","../../../node_modules/@dhis2-ui/table/build/es/data-table/data-table-cell.js","../../../node_modules/@dhis2-ui/table/build/es/data-table/data-table-column-header/data-table-column-header.styles.js","../../../node_modules/@dhis2/ui-icons/build/es/react/Search16.js","../../../node_modules/@dhis2-ui/table/build/es/locales/index.js","../../../node_modules/@dhis2-ui/table/build/es/data-table/table-elements/table-header-cell-action.js","../../../node_modules/@dhis2-ui/table/build/es/data-table/data-table-column-header/filter-handle.js","../../../node_modules/@dhis2-ui/table/build/es/data-table/data-table-column-header/sorter.js","../../../node_modules/@dhis2-ui/table/build/es/data-table/data-table-column-header/data-table-column-header.js","../../../node_modules/@dhis2-ui/table/build/es/data-table/table-elements/table-row.js","../../../node_modules/@dhis2-ui/table/build/es/data-table/data-table-row/data-table-row.styles.js","../../../node_modules/@dhis2/ui-icons/build/es/react/DragHandle24.js","../../../node_modules/@dhis2-ui/table/build/es/data-table/data-table-row/drag-handle-cell.js","../../../node_modules/@dhis2-ui/table/build/es/data-table/data-table-row/expand-handle-cell.js","../../../node_modules/@dhis2-ui/table/build/es/data-table/data-table-row/expanded-row.js","../../../node_modules/@dhis2-ui/table/build/es/data-table/data-table-row/data-table-row.js","../../../node_modules/@dhis2-ui/table/build/es/data-table/table-elements/table.js","../../../node_modules/@dhis2-ui/table/build/es/data-table/table-elements/table-scroll-box.js","../../../node_modules/@dhis2-ui/table/build/es/data-table/data-table.js","../../../node_modules/@dhis2-ui/table/build/es/data-table/table-elements/table-body.js","../../../node_modules/@dhis2-ui/table/build/es/data-table/table-elements/table-data-cell/table-data-cell.styles.js","../../../node_modules/@dhis2-ui/table/build/es/data-table/table-elements/table-data-cell/table-data-cell.js","../../../node_modules/@dhis2-ui/table/build/es/data-table/table-elements/table-head.js","../../../node_modules/@dhis2-ui/table/build/es/data-table/table-elements/table-header-cell/table-header-cell.styles.js","../../../node_modules/@dhis2-ui/table/build/es/data-table/table-elements/table-header-cell/table-header-cell.js","../../../node_modules/@dhis2-ui/table/build/es/table/table-body.js","../../../node_modules/@dhis2-ui/table/build/es/table/table-cell-head.js","../../../node_modules/@dhis2-ui/table/build/es/table/table-cell.js","../../../node_modules/@dhis2-ui/table/build/es/table/table-context.js","../../../node_modules/@dhis2-ui/table/build/es/table/table-head.js","../../../node_modules/@dhis2-ui/table/build/es/table/table-row-head.js","../../../node_modules/@dhis2-ui/table/build/es/table/table-row.js","../../../node_modules/@dhis2-ui/table/build/es/table/table.js","../../../node_modules/@dhis2-ui/tag/build/es/tag-icon.js","../../../node_modules/@dhis2-ui/tag/build/es/tag-text.js","../../../node_modules/@dhis2-ui/tag/build/es/tag.js","../../../node_modules/@dhis2-ui/tooltip/build/es/tooltip.js","../../../node_modules/@dhis2-ui/transfer/build/es/actions.js","../../../node_modules/@dhis2-ui/transfer/build/es/icons.js","../../../node_modules/@dhis2-ui/transfer/build/es/add-all.js","../../../node_modules/@dhis2-ui/transfer/build/es/add-individual.js","../../../node_modules/@dhis2-ui/transfer/build/es/container.js","../../../node_modules/@dhis2-ui/transfer/build/es/filter.js","../../../node_modules/@dhis2-ui/transfer/build/es/common/styles.js","../../../node_modules/@dhis2-ui/transfer/build/es/left-footer.js","../../../node_modules/@dhis2-ui/transfer/build/es/left-header.js","../../../node_modules/@dhis2-ui/transfer/build/es/left-side.js","../../../node_modules/@dhis2-ui/transfer/build/es/end-intersection-detector.js","../../../node_modules/@dhis2-ui/transfer/build/es/use-resize-counter.js","../../../node_modules/@dhis2-ui/transfer/build/es/options-container.js","../../../node_modules/@dhis2-ui/transfer/build/es/remove-all.js","../../../node_modules/@dhis2-ui/transfer/build/es/remove-individual.js","../../../node_modules/@dhis2-ui/transfer/build/es/reordering-actions.js","../../../node_modules/@dhis2-ui/transfer/build/es/right-footer.js","../../../node_modules/@dhis2-ui/transfer/build/es/right-header.js","../../../node_modules/@dhis2-ui/transfer/build/es/right-side.js","../../../node_modules/@dhis2-ui/transfer/build/es/transfer-option.js","../../../node_modules/@dhis2-ui/transfer/build/es/transfer/use-filter.js","../../../node_modules/@dhis2-ui/transfer/build/es/common/modes.js","../../../node_modules/@dhis2-ui/transfer/build/es/transfer/use-highlighted-options/create-toggle-highlighted-option.js","../../../node_modules/@dhis2-ui/transfer/build/es/transfer/use-highlighted-options/toggle-add.js","../../../node_modules/@dhis2-ui/transfer/build/es/common/toggle-value.js","../../../node_modules/@dhis2-ui/transfer/build/es/transfer/use-highlighted-options/toggle-range.js","../../../node_modules/@dhis2-ui/transfer/build/es/common/find-option-index.js","../../../node_modules/@dhis2-ui/transfer/build/es/common/is-option.js","../../../node_modules/@dhis2-ui/transfer/build/es/transfer/use-highlighted-options/toggle-replace.js","../../../node_modules/@dhis2-ui/transfer/build/es/transfer/use-highlighted-options.js","../../../node_modules/@dhis2-ui/transfer/build/es/transfer/get-option-click-handlers.js","../../../node_modules/@dhis2-ui/transfer/build/es/common/get-mode-by-modifier-key.js","../../../node_modules/@dhis2-ui/transfer/build/es/transfer/is-reorder-down-disabled.js","../../../node_modules/@dhis2-ui/transfer/build/es/transfer/is-reorder-up-disabled.js","../../../node_modules/@dhis2-ui/transfer/build/es/transfer/default-filter-callback.js","../../../node_modules/@dhis2-ui/transfer/build/es/transfer.js","../../../node_modules/@dhis2-ui/transfer/build/es/transfer/create-double-click-handlers.js","../../../node_modules/@dhis2-ui/transfer/build/es/transfer/add-all-selectable-source-options.js","../../../node_modules/@dhis2-ui/transfer/build/es/transfer/add-individual-source-options.js","../../../node_modules/@dhis2-ui/transfer/build/es/transfer/remove-all-picked-options.js","../../../node_modules/@dhis2-ui/transfer/build/es/transfer/remove-individual-picked-options.js","../../../node_modules/@dhis2-ui/transfer/build/es/transfer/move-highlighted-picked-option-up.js","../../../node_modules/@dhis2-ui/transfer/build/es/transfer/move-highlighted-picked-option-down.js","../../../node_modules/@dhis2/analytics/build/es/api/index.js","../../../node_modules/@dhis2/ui-icons/build/es/react/Add24.js","../../../node_modules/@dhis2/analytics/build/es/modules/dataTypes.js","../../../node_modules/@dhis2/analytics/build/es/api/dimensions.js","../../../node_modules/@dhis2/analytics/build/es/modules/dataSets.js","../../../node_modules/@dhis2/ui-icons/build/es/react/DimensionIndicator16.js","../../../node_modules/@dhis2/ui-icons/build/es/react/DimensionEventDataItem16.js","../../../node_modules/@dhis2/ui-icons/build/es/react/DimensionProgramIndicator16.js","../../../node_modules/@dhis2/analytics/build/es/assets/DimensionItemIcons/DataElementIcon.js","../../../node_modules/@dhis2/analytics/build/es/assets/DimensionItemIcons/GenericIcon.js","../../../node_modules/@dhis2/analytics/build/es/assets/DimensionItemIcons/CalculationIcon.js","../../../node_modules/@dhis2/analytics/build/es/modules/dimensionListItem.js","../../../node_modules/@dhis2/analytics/build/es/api/expression.js","../../../node_modules/@dhis2/analytics/build/es/modules/expressions.js","../../../node_modules/@dhis2/analytics/build/es/components/styles/OfflineTooltip.style.js","../../../node_modules/@dhis2/analytics/build/es/components/OfflineTooltip.js","../../../node_modules/@dnd-kit/utilities/src/execution-context/canUseDOM.ts","../../../node_modules/@dnd-kit/utilities/src/type-guards/isWindow.ts","../../../node_modules/@dnd-kit/utilities/src/type-guards/isNode.ts","../../../node_modules/@dnd-kit/utilities/src/execution-context/getWindow.ts","../../../node_modules/@dnd-kit/utilities/src/type-guards/isDocument.ts","../../../node_modules/@dnd-kit/utilities/src/type-guards/isHTMLElement.ts","../../../node_modules/@dnd-kit/utilities/src/type-guards/isSVGElement.ts","../../../node_modules/@dnd-kit/utilities/src/execution-context/getOwnerDocument.ts","../../../node_modules/@dnd-kit/utilities/src/hooks/useIsomorphicLayoutEffect.ts","../../../node_modules/@dnd-kit/utilities/src/hooks/useEvent.ts","../../../node_modules/@dnd-kit/utilities/src/hooks/useLatestValue.ts","../../../node_modules/@dnd-kit/utilities/src/hooks/useLazyMemo.ts","../../../node_modules/@dnd-kit/utilities/src/hooks/useNodeRef.ts","../../../node_modules/@dnd-kit/utilities/src/hooks/usePrevious.ts","../../../node_modules/@dnd-kit/utilities/src/hooks/useUniqueId.ts","../../../node_modules/@dnd-kit/utilities/src/adjustment.ts","../../../node_modules/@dnd-kit/utilities/src/event/isKeyboardEvent.ts","../../../node_modules/@dnd-kit/utilities/src/coordinates/getEventCoordinates.ts","../../../node_modules/@dnd-kit/utilities/src/event/isTouchEvent.ts","../../../node_modules/@dnd-kit/utilities/src/event/hasViewportRelativeCoordinates.ts","../../../node_modules/@dnd-kit/utilities/src/css.ts","../../../node_modules/@dnd-kit/utilities/src/focus/findFirstFocusableNode.ts","../../../node_modules/@dnd-kit/accessibility/src/components/HiddenText/HiddenText.tsx","../../../node_modules/@dnd-kit/accessibility/src/components/LiveRegion/LiveRegion.tsx","../../../node_modules/@dnd-kit/core/src/components/DndMonitor/context.ts","../../../node_modules/@dnd-kit/core/src/components/Accessibility/defaults.ts","../../../node_modules/@dnd-kit/core/src/components/Accessibility/Accessibility.tsx","../../../node_modules/@dnd-kit/accessibility/src/hooks/useAnnouncement.ts","../../../node_modules/@dnd-kit/core/src/components/DndMonitor/useDndMonitor.ts","../../../node_modules/@dnd-kit/core/src/store/actions.ts","../../../node_modules/@dnd-kit/core/src/utilities/other/noop.ts","../../../node_modules/@dnd-kit/core/src/utilities/coordinates/constants.ts","../../../node_modules/@dnd-kit/core/src/utilities/coordinates/getRelativeTransformOrigin.ts","../../../node_modules/@dnd-kit/core/src/utilities/algorithms/helpers.ts","../../../node_modules/@dnd-kit/core/src/utilities/algorithms/rectIntersection.ts","../../../node_modules/@dnd-kit/core/src/utilities/rect/getRectDelta.ts","../../../node_modules/@dnd-kit/core/src/utilities/rect/rectAdjustment.ts","../../../node_modules/@dnd-kit/core/src/utilities/transform/parseTransform.ts","../../../node_modules/@dnd-kit/core/src/utilities/rect/getRect.ts","../../../node_modules/@dnd-kit/core/src/utilities/transform/inverseTransform.ts","../../../node_modules/@dnd-kit/core/src/utilities/scroll/getScrollableAncestors.ts","../../../node_modules/@dnd-kit/core/src/utilities/scroll/isScrollable.ts","../../../node_modules/@dnd-kit/core/src/utilities/scroll/isFixed.ts","../../../node_modules/@dnd-kit/core/src/utilities/scroll/getScrollableElement.ts","../../../node_modules/@dnd-kit/core/src/utilities/scroll/getScrollCoordinates.ts","../../../node_modules/@dnd-kit/core/src/types/direction.ts","../../../node_modules/@dnd-kit/core/src/utilities/scroll/documentScrollingElement.ts","../../../node_modules/@dnd-kit/core/src/utilities/scroll/getScrollPosition.ts","../../../node_modules/@dnd-kit/core/src/utilities/scroll/getScrollDirectionAndSpeed.ts","../../../node_modules/@dnd-kit/core/src/utilities/scroll/getScrollElementRect.ts","../../../node_modules/@dnd-kit/core/src/utilities/scroll/getScrollOffsets.ts","../../../node_modules/@dnd-kit/core/src/utilities/scroll/scrollIntoViewIfNeeded.ts","../../../node_modules/@dnd-kit/core/src/utilities/rect/Rect.ts","../../../node_modules/@dnd-kit/core/src/sensors/utilities/Listeners.ts","../../../node_modules/@dnd-kit/core/src/sensors/utilities/hasExceededDistance.ts","../../../node_modules/@dnd-kit/core/src/sensors/events.ts","../../../node_modules/@dnd-kit/core/src/sensors/keyboard/types.ts","../../../node_modules/@dnd-kit/core/src/sensors/keyboard/defaults.ts","../../../node_modules/@dnd-kit/core/src/sensors/keyboard/KeyboardSensor.ts","../../../node_modules/@dnd-kit/core/src/sensors/pointer/AbstractPointerSensor.ts","../../../node_modules/@dnd-kit/core/src/sensors/utilities/getEventListenerTarget.ts","../../../node_modules/@dnd-kit/core/src/sensors/pointer/PointerSensor.ts","../../../node_modules/@dnd-kit/core/src/sensors/mouse/MouseSensor.ts","../../../node_modules/@dnd-kit/core/src/sensors/touch/TouchSensor.ts","../../../node_modules/@dnd-kit/core/src/hooks/utilities/useAutoScroller.ts","../../../node_modules/@dnd-kit/utilities/src/hooks/useInterval.ts","../../../node_modules/@dnd-kit/core/src/hooks/utilities/useDroppableMeasuring.ts","../../../node_modules/@dnd-kit/core/src/hooks/utilities/useInitialValue.ts","../../../node_modules/@dnd-kit/core/src/hooks/utilities/useResizeObserver.ts","../../../node_modules/@dnd-kit/core/src/hooks/utilities/useRect.ts","../../../node_modules/@dnd-kit/core/src/hooks/utilities/useMutationObserver.ts","../../../node_modules/@dnd-kit/core/src/hooks/utilities/useScrollableAncestors.ts","../../../node_modules/@dnd-kit/core/src/hooks/utilities/useScrollOffsetsDelta.ts","../../../node_modules/@dnd-kit/core/src/hooks/utilities/useWindowRect.ts","../../../node_modules/@dnd-kit/core/src/utilities/rect/getWindowClientRect.ts","../../../node_modules/@dnd-kit/core/src/hooks/utilities/useRects.ts","../../../node_modules/@dnd-kit/core/src/utilities/nodes/getMeasurableNode.ts","../../../node_modules/@dnd-kit/core/src/components/DndContext/defaults.ts","../../../node_modules/@dnd-kit/core/src/store/constructors.ts","../../../node_modules/@dnd-kit/core/src/store/context.ts","../../../node_modules/@dnd-kit/core/src/store/reducer.ts","../../../node_modules/@dnd-kit/core/src/components/Accessibility/components/RestoreFocus.tsx","../../../node_modules/@dnd-kit/core/src/modifiers/applyModifiers.ts","../../../node_modules/@dnd-kit/core/src/components/DndContext/DndContext.tsx","../../../node_modules/@dnd-kit/core/src/components/DndMonitor/useDndMonitorProvider.tsx","../../../node_modules/@dnd-kit/core/src/components/DndContext/hooks/useMeasuringConfiguration.ts","../../../node_modules/@dnd-kit/core/src/hooks/utilities/useCachedNode.ts","../../../node_modules/@dnd-kit/core/src/hooks/utilities/useInitialRect.ts","../../../node_modules/@dnd-kit/core/src/components/DndContext/hooks/useLayoutShiftScrollCompensation.ts","../../../node_modules/@dnd-kit/core/src/hooks/utilities/useDragOverlayMeasuring.ts","../../../node_modules/@dnd-kit/core/src/hooks/utilities/useRectDelta.ts","../../../node_modules/@dnd-kit/core/src/hooks/utilities/useScrollOffsets.ts","../../../node_modules/@dnd-kit/core/src/utilities/rect/adjustScale.ts","../../../node_modules/@dnd-kit/core/src/hooks/utilities/useCombineActivators.ts","../../../node_modules/@dnd-kit/core/src/hooks/utilities/useSensorSetup.ts","../../../node_modules/@dnd-kit/core/src/hooks/useDraggable.ts","../../../node_modules/@dnd-kit/core/src/hooks/utilities/useSyntheticListeners.ts","../../../node_modules/@dnd-kit/core/src/hooks/useDndContext.ts","../../../node_modules/@dnd-kit/core/src/hooks/useDroppable.ts","../../../node_modules/@dnd-kit/core/src/components/DragOverlay/components/AnimationManager/AnimationManager.tsx","../../../node_modules/@dnd-kit/core/src/components/DragOverlay/components/NullifiedContextProvider/NullifiedContextProvider.tsx","../../../node_modules/@dnd-kit/core/src/components/DragOverlay/components/PositionedOverlay/PositionedOverlay.tsx","../../../node_modules/@dnd-kit/core/src/components/DragOverlay/hooks/useDropAnimation.ts","../../../node_modules/@dnd-kit/core/src/components/DragOverlay/hooks/useKey.ts","../../../node_modules/@dnd-kit/core/src/components/DragOverlay/DragOverlay.tsx","../../../node_modules/@dnd-kit/sortable/src/utilities/arrayMove.ts","../../../node_modules/@dnd-kit/sortable/src/utilities/getSortedRects.ts","../../../node_modules/@dnd-kit/sortable/src/utilities/isValidIndex.ts","../../../node_modules/@dnd-kit/sortable/src/strategies/rectSorting.ts","../../../node_modules/@dnd-kit/sortable/src/components/SortableContext.tsx","../../../node_modules/@dnd-kit/sortable/src/utilities/itemsEqual.ts","../../../node_modules/@dnd-kit/sortable/src/utilities/normalizeDisabled.ts","../../../node_modules/@dnd-kit/sortable/src/hooks/defaults.ts","../../../node_modules/@dnd-kit/sortable/src/hooks/useSortable.ts","../../../node_modules/@dnd-kit/utilities/src/hooks/useCombinedRefs.ts","../../../node_modules/@dnd-kit/sortable/src/hooks/utilities/useDerivedTransform.ts","../../../node_modules/@dnd-kit/sortable/src/sensors/keyboard/sortableKeyboardCoordinates.ts","../../../node_modules/@react-hook/latest/dist/module/index.js","../../../node_modules/@react-hook/debounce/dist/module/index.js","../../../node_modules/@dhis2/analytics/build/es/components/DataDimension/Calculation/styles/DataElementOption.style.js","../../../node_modules/@dhis2/analytics/build/es/components/DataDimension/Calculation/DataElementOption.js","../../../node_modules/@dhis2/analytics/build/es/components/DataDimension/Calculation/styles/DataElementSelector.style.js","../../../node_modules/@dhis2/analytics/build/es/components/DataDimension/Calculation/DataElementSelector.js","../../../node_modules/@dhis2/analytics/build/es/components/DataDimension/Calculation/styles/DraggingItem.style.js","../../../node_modules/@dhis2/analytics/build/es/components/DataDimension/Calculation/styles/FormulaItem.style.js","../../../node_modules/@dhis2/analytics/build/es/components/DataDimension/Calculation/DraggingItem.js","../../../node_modules/@dhis2/analytics/build/es/components/DataDimension/Calculation/DndContext.js","../../../node_modules/@dnd-kit/core/src/sensors/useSensors.ts","../../../node_modules/@dnd-kit/core/src/sensors/useSensor.ts","../../../node_modules/@dhis2/analytics/build/es/assets/FormulaIcon.js","../../../node_modules/@dhis2/analytics/build/es/components/DataDimension/Calculation/styles/DropZone.style.js","../../../node_modules/@dhis2/analytics/build/es/components/DataDimension/Calculation/DropZone.js","../../../node_modules/@dhis2/analytics/build/es/components/DataDimension/Calculation/DragHandleIcon.js","../../../node_modules/@dhis2/analytics/build/es/components/DataDimension/Calculation/FormulaItem.js","../../../node_modules/@dhis2/analytics/build/es/components/DataDimension/Calculation/styles/FormulaField.style.js","../../../node_modules/@dhis2/analytics/build/es/components/DataDimension/Calculation/FormulaField.js","../../../node_modules/@dhis2/analytics/build/es/components/DataDimension/Calculation/styles/Operator.style.js","../../../node_modules/@dhis2/analytics/build/es/components/DataDimension/Calculation/Operator.js","../../../node_modules/@dhis2/analytics/build/es/components/DataDimension/Calculation/styles/MathOperatorSelector.style.js","../../../node_modules/@dhis2/analytics/build/es/components/DataDimension/Calculation/MathOperatorSelector.js","../../../node_modules/@dhis2/analytics/build/es/components/DataDimension/Calculation/styles/CalculationModal.style.js","../../../node_modules/@dhis2/analytics/build/es/components/DataDimension/Calculation/CalculationModal.js","../../../node_modules/@dhis2/analytics/build/es/components/DataDimension/styles/DataTypeSelector.style.js","../../../node_modules/@dhis2/analytics/build/es/components/DataDimension/DataTypeSelector.js","../../../node_modules/@dhis2/analytics/build/es/components/DataDimension/styles/DetailSelector.style.js","../../../node_modules/@dhis2/analytics/build/es/components/DataDimension/DetailSelector.js","../../../node_modules/@dhis2/analytics/build/es/components/DataDimension/styles/MetricSelector.style.js","../../../node_modules/@dhis2/analytics/build/es/components/DataDimension/MetricSelector.js","../../../node_modules/@dhis2/analytics/build/es/components/DataDimension/styles/GroupSelector.style.js","../../../node_modules/@dhis2/analytics/build/es/components/DataDimension/GroupSelector.js","../../../node_modules/@dhis2/analytics/build/es/components/DataDimension/ItemSelector.js","../../../node_modules/@dhis2/analytics/build/es/modules/utils.js","../../../node_modules/@dhis2/analytics/build/es/components/DataDimension/DataDimension.js","../../../node_modules/@dhis2/analytics/build/es/components/Filter/styles/Filter.style.js","../../../node_modules/@dhis2/analytics/build/es/components/Filter/Filter.js","../../../node_modules/@dhis2/ui-icons/build/es/react/Lock16.js","../../../node_modules/@dhis2/analytics/build/es/assets/DynamicDimensionIcon.js","../../../node_modules/@dhis2/ui-icons/build/es/react/More16.js","../../../node_modules/@dhis2/analytics/build/es/components/DimensionsPanel/List/OptionsButton.js","../../../node_modules/@dhis2/analytics/build/es/components/DimensionsPanel/List/styles/RecommendedIcon.style.js","../../../node_modules/@dhis2/analytics/build/es/components/DimensionsPanel/List/RecommendedIcon.js","../../../node_modules/@dhis2/analytics/build/es/components/DimensionsPanel/List/styles/DimensionItem.style.js","../../../node_modules/@dhis2/analytics/build/es/components/DimensionsPanel/List/DimensionItem.js","../../../node_modules/@dhis2/analytics/build/es/components/DimensionsPanel/List/styles/DimensionList.style.js","../../../node_modules/@dhis2/analytics/build/es/components/DimensionsPanel/List/DimensionList.js","../../../node_modules/@dhis2/analytics/build/es/components/DimensionsPanel/styles/DimensionsPanel.style.js","../../../node_modules/@dhis2/analytics/build/es/components/DimensionsPanel/DimensionsPanel.js","../../../node_modules/@dhis2-ui/node/build/es/leaves.js","../../../node_modules/@dhis2-ui/node/build/es/spacer.js","../../../node_modules/@dhis2-ui/node/build/es/toggle.js","../../../node_modules/@dhis2-ui/node/build/es/node.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/locales/index.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/prop-types.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/organisation-unit-node/error-message.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/organisation-unit-node/has-descendant-selected-paths.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/organisation-unit-node/label/single-selection-label.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/organisation-unit-node/label/disabled-selection-label.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/organisation-unit-node/label/icon-empty.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/organisation-unit-node/label/icon-folder-closed.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/organisation-unit-node/label/icon-folder-open.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/organisation-unit-node/label/icon-single.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/organisation-unit-node/label/icon.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/organisation-unit-node/label/iconized-checkbox.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/organisation-unit-node/label/label-container.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/organisation-unit-node/label/label.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/organisation-unit-node/loading-spinner.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/helpers/is-path-included.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/organisation-unit-node/use-org-children.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/organisation-unit-node/organisation-unit-node-children.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/helpers/sort-node-children-alphabetically.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/organisation-unit-node/use-open-state.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/organisation-unit-node/use-org-data/use-org-data.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/organisation-unit-node/organisation-unit-node.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/helpers/left-trim-to-root-id.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/organisation-unit-tree/default-render-node-label/default-render-node-label.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/organisation-unit-tree/root-error.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/organisation-unit-tree/root-loading.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/get-all-expanded-paths/get-all-expanded-paths.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/organisation-unit-tree/use-expanded/use-expanded.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/organisation-unit-tree/use-expanded/create-expand-handlers.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/organisation-unit-tree/use-root-org-data/use-root-org-data.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/organisation-unit-tree/use-root-org-data/patch-missing-display-name.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/organisation-unit-tree/organisation-unit-tree.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/organisation-unit-tree/filter-root-ids.js","../../../node_modules/@dhis2-ui/organisation-unit-tree/build/es/organisation-unit-tree/use-force-reload.js","../../../node_modules/@dhis2/ui-icons/build/es/react/WarningFilled16.js","../../../node_modules/@dhis2/analytics/build/es/api/organisationUnits.js","../../../node_modules/@dhis2/analytics/build/es/modules/list.js","../../../node_modules/@dhis2/analytics/build/es/modules/ouIdHelper/index.js","../../../node_modules/@dhis2/analytics/build/es/components/OrgUnitDimension/styles/OrgUnitDimension.style.js","../../../node_modules/@dhis2/analytics/build/es/components/OrgUnitDimension/OrgUnitDimension.js","../../../node_modules/@dhis2/multi-calendar-dates/build/es/hooks/useResolvedDirection.js","../../../node_modules/@js-temporal/polyfill/lib/intrinsicclass.ts","../../../node_modules/@js-temporal/polyfill/lib/slots.ts","../../../node_modules/@js-temporal/polyfill/lib/regex.ts","../../../node_modules/@js-temporal/polyfill/lib/ecmascript.ts","../../../node_modules/@js-temporal/polyfill/lib/intl.ts","../../../node_modules/@js-temporal/polyfill/lib/instant.ts","../../../node_modules/@js-temporal/polyfill/lib/calendar.ts","../../../node_modules/@js-temporal/polyfill/lib/plaindate.ts","../../../node_modules/@js-temporal/polyfill/lib/plaindatetime.ts","../../../node_modules/@js-temporal/polyfill/lib/duration.ts","../../../node_modules/@js-temporal/polyfill/lib/plainmonthday.ts","../../../node_modules/@js-temporal/polyfill/lib/now.ts","../../../node_modules/@js-temporal/polyfill/lib/plaintime.ts","../../../node_modules/@js-temporal/polyfill/lib/timezone.ts","../../../node_modules/@js-temporal/polyfill/lib/plainyearmonth.ts","../../../node_modules/@js-temporal/polyfill/lib/zoneddatetime.ts","../../../node_modules/@js-temporal/polyfill/lib/index.ts","../../../node_modules/@dhis2/multi-calendar-dates/build/es/constants/dhis2CalendarsMap.js","../../../node_modules/@dhis2/multi-calendar-dates/build/es/custom-calendars/calendarLocalisations.js","../../../node_modules/@dhis2/multi-calendar-dates/build/es/custom-calendars/nepaliCalendarData.js","../../../node_modules/@dhis2/multi-calendar-dates/build/es/custom-calendars/nepaliCalendar.js","../../../node_modules/@dhis2/multi-calendar-dates/build/es/custom-calendars/index.js","../../../node_modules/@dhis2/multi-calendar-dates/build/es/utils/helpers.js","../../../node_modules/@dhis2/multi-calendar-dates/build/es/constants/numberingSystems.js","../../../node_modules/@dhis2/multi-calendar-dates/build/es/utils/localisationHelpers.js","../../../node_modules/@dhis2/multi-calendar-dates/build/es/utils/getValidLocale.js","../../../node_modules/@dhis2/multi-calendar-dates/build/es/period-calculation/getDailyPeriods.js","../../../node_modules/@dhis2/multi-calendar-dates/build/es/period-calculation/getMonthlyPeriods.js","../../../node_modules/@dhis2/multi-calendar-dates/build/es/period-calculation/getWeeklyPeriods.js","../../../node_modules/@dhis2/multi-calendar-dates/build/es/period-calculation/getYearlyPeriods.js","../../../node_modules/@dhis2/multi-calendar-dates/build/es/period-calculation/fixed-periods.js","../../../node_modules/@dhis2/multi-calendar-dates/build/es/utils/getNowInCalendar.js","../../../node_modules/@dhis2/analytics/build/es/assets/DimensionItemIcons/PeriodIcon.js","../../../node_modules/@dhis2/analytics/build/es/components/PeriodDimension/styles/PeriodFilter.style.js","../../../node_modules/@dhis2/analytics/build/es/components/PeriodDimension/utils/index.js","../../../node_modules/@dhis2/analytics/build/es/components/PeriodDimension/utils/fixedPeriods.js","../../../node_modules/@dhis2/analytics/build/es/components/PeriodDimension/FixedPeriodFilter.js","../../../node_modules/@dhis2/analytics/build/es/components/PeriodDimension/utils/relativePeriods.js","../../../node_modules/@dhis2/analytics/build/es/components/PeriodDimension/RelativePeriodFilter.js","../../../node_modules/@dhis2/analytics/build/es/components/PeriodDimension/PeriodTransfer.js","../../../node_modules/@dhis2/analytics/build/es/components/PeriodDimension/PeriodDimension.js","../../../node_modules/@dhis2/ui-icons/build/es/react/Edit16.js","../../../node_modules/@dhis2/analytics/build/es/components/styles/TransferOption.style.js","../../../node_modules/@dhis2/analytics/build/es/components/TransferOption.js","../../../node_modules/@dhis2/analytics/build/es/components/styles/DimensionSelector.style.js","../../../node_modules/@dhis2/analytics/build/es/locales/index.js","../../../node_modules/@dhis2/analytics/build/es/modules/dimensionSelectorHelper.js","../../../node_modules/@dhis2/ui-icons/build/es/react/DimensionData16.js","../../../node_modules/@dhis2/ui-icons/build/es/react/DimensionOrgUnit16.js","../../../node_modules/@dhis2/analytics/build/es/assets/AssignedCategoriesIcon.js","../../../node_modules/@dhis2/analytics/build/es/modules/predefinedDimensions.js","../../../node_modules/@dhis2/prop-types/build/es/requiredIf.js","../../../node_modules/@dhis2-ui/checkbox/build/es/checkbox-field/checkbox-field.js","../../../node_modules/@dhis2/ui-forms/build/es/CheckboxFieldFF/CheckboxFieldFF.js","../../../node_modules/@dhis2/ui-forms/build/es/shared/helpers/createChangeHandler.js","../../../node_modules/@dhis2/ui-forms/build/es/InputFieldFF/InputFieldFF.js","../../../node_modules/@dhis2-ui/radio/build/es/radio-icons.js","../../../node_modules/@dhis2-ui/radio/build/es/radio.js","../../../node_modules/@dhis2/ui-forms/build/es/RadioFieldFF/RadioFieldFF.js","../../../node_modules/@dhis2/ui-forms/build/es/shared/helpers/createSelectChangeHandler.js","../../../node_modules/@dhis2/ui-forms/build/es/SingleSelectFieldFF/SingleSelectFieldFF.js","../../../node_modules/@dhis2/ui-forms/build/es/shared/helpers/createBlurHandler.js","../../../node_modules/@dhis2/ui-forms/build/es/shared/helpers/createFocusHandler.js","../../../node_modules/@dhis2/ui-forms/build/es/shared/helpers/createToggleChangeHandler.js","../../../node_modules/@dhis2/ui-forms/build/es/shared/helpers/getValidationText.js","../../../node_modules/@dhis2/ui-forms/build/es/shared/helpers/hasError.js","../../../node_modules/@dhis2/ui-forms/build/es/shared/helpers/isLoading.js","../../../node_modules/@dhis2/ui-forms/build/es/shared/helpers/isValid.js","../../../node_modules/@dhis2/ui-forms/build/es/shared/propTypes.js","../../../node_modules/@dhis2/ui-forms/build/es/locales/index.js","../../../node_modules/@dhis2/ui-forms/build/es/validators/helpers/index.js","../../../node_modules/@dhis2/ui-forms/build/es/validators/hasValue.js","../../../node_modules/@dhis2/ui-icons/build/es/react/Apps16.js","../../../node_modules/@dhis2/ui-icons/build/es/react/ArrowRight16.js","../../../node_modules/@dhis2/ui-icons/build/es/react/CheckmarkCircle16.js","../../../node_modules/@dhis2/ui-icons/build/es/react/ChevronDown24.js","../../../node_modules/@dhis2/ui-icons/build/es/react/ChevronLeft16.js","../../../node_modules/@dhis2/ui-icons/build/es/react/ChevronRight16.js","../../../node_modules/@dhis2/ui-icons/build/es/react/ChevronUp24.js","../../../node_modules/@dhis2/ui-icons/build/es/react/Clock16.js","../../../node_modules/@dhis2/ui-icons/build/es/react/Copy16.js","../../../node_modules/@dhis2/ui-icons/build/es/react/DimensionDataSet16.js","../../../node_modules/@dhis2/ui-icons/build/es/react/Error16.js","../../../node_modules/@dhis2/ui-icons/build/es/react/Info16.js","../../../node_modules/@dhis2/ui-icons/build/es/react/Launch16.js","../../../node_modules/@dhis2/ui-icons/build/es/react/Table16.js","../../../node_modules/@dhis2/ui-icons/build/es/react/Table24.js","../../../node_modules/@dhis2/ui-icons/build/es/react/VisualizationArea16.js","../../../node_modules/@dhis2/ui-icons/build/es/react/VisualizationArea24.js","../../../node_modules/@dhis2/ui-icons/build/es/react/VisualizationAreaStacked16.js","../../../node_modules/@dhis2/ui-icons/build/es/react/VisualizationAreaStacked24.js","../../../node_modules/@dhis2/ui-icons/build/es/react/VisualizationBar16.js","../../../node_modules/@dhis2/ui-icons/build/es/react/VisualizationBar24.js","../../../node_modules/@dhis2/ui-icons/build/es/react/VisualizationBarStacked16.js","../../../node_modules/@dhis2/ui-icons/build/es/react/VisualizationBarStacked24.js","../../../node_modules/@dhis2/ui-icons/build/es/react/VisualizationColumn16.js","../../../node_modules/@dhis2/ui-icons/build/es/react/VisualizationColumn24.js","../../../node_modules/@dhis2/ui-icons/build/es/react/VisualizationColumnMulti16.js","../../../node_modules/@dhis2/ui-icons/build/es/react/VisualizationColumnMulti24.js","../../../node_modules/@dhis2/ui-icons/build/es/react/VisualizationColumnStacked16.js","../../../node_modules/@dhis2/ui-icons/build/es/react/VisualizationColumnStacked24.js","../../../node_modules/@dhis2/ui-icons/build/es/react/VisualizationGauge16.js","../../../node_modules/@dhis2/ui-icons/build/es/react/VisualizationGauge24.js","../../../node_modules/@dhis2/ui-icons/build/es/react/VisualizationLine16.js","../../../node_modules/@dhis2/ui-icons/build/es/react/VisualizationLine24.js","../../../node_modules/@dhis2/ui-icons/build/es/react/VisualizationLineMulti16.js","../../../node_modules/@dhis2/ui-icons/build/es/react/VisualizationLineMulti24.js","../../../node_modules/@dhis2/ui-icons/build/es/react/VisualizationLinelist16.js","../../../node_modules/@dhis2/ui-icons/build/es/react/VisualizationLinelist24.js","../../../node_modules/@dhis2/ui-icons/build/es/react/VisualizationPie16.js","../../../node_modules/@dhis2/ui-icons/build/es/react/VisualizationPie24.js","../../../node_modules/@dhis2/ui-icons/build/es/react/VisualizationRadar16.js","../../../node_modules/@dhis2/ui-icons/build/es/react/VisualizationRadar24.js","../../../node_modules/@dhis2/ui-icons/build/es/react/VisualizationScatter16.js","../../../node_modules/@dhis2/ui-icons/build/es/react/VisualizationScatter24.js","../../../node_modules/@dhis2/ui-icons/build/es/react/VisualizationSingleValue16.js","../../../node_modules/@dhis2/ui-icons/build/es/react/VisualizationSingleValue24.js","../../../node_modules/@remix-run/router/history.ts","../../../node_modules/@remix-run/router/utils.ts","../../../node_modules/d2-utilizr/src/isArray.js","../../../node_modules/d2-utilizr/src/isEmpty.js","../../../node_modules/d2-utilizr/src/objectClean.js","../../../node_modules/jsbi/tsc-out/jsbi.mjs","../../../node_modules/lodash.ismap/index.js","../../../node_modules/lodash.isset/index.js","../../../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../../../node_modules/final-form/dist/final-form.es.js","../../../node_modules/react-final-form/dist/react-final-form.es.js","../../../node_modules/react-router-dom/index.tsx","../../../node_modules/react-router-dom/dom.ts","../../../node_modules/react-router/lib/use-sync-external-store-shim/useSyncExternalStoreShimClient.ts","../../../node_modules/react-router/lib/use-sync-external-store-shim/index.ts","../../../node_modules/react-router/lib/context.ts","../../../node_modules/react-router/lib/hooks.tsx","../../../node_modules/react-router/lib/components.tsx","../../../node_modules/use-query-params/adapters/react-router-6/index.js","../../../node_modules/serialize-query-params/src/serialize.ts","../../../node_modules/serialize-query-params/src/params.ts","../../../node_modules/serialize-query-params/src/updateLocation.ts","../../../node_modules/serialize-query-params/src/encodeQueryParams.ts","../../../node_modules/use-query-params/src/decodedParamCache.ts","../../../node_modules/use-query-params/src/inheritedParams.ts","../../../node_modules/use-query-params/src/shallowEqual.ts","../../../node_modules/use-query-params/src/latestValues.ts","../../../node_modules/use-query-params/src/memoSearchStringToObject.ts","../../../node_modules/use-query-params/src/urlName.ts","../../../node_modules/use-query-params/src/options.ts","../../../node_modules/use-query-params/src/QueryParamProvider.tsx","../../../node_modules/serialize-query-params/src/searchStringToObject.ts","../../../node_modules/serialize-query-params/src/objectToSearchString.ts","../../../node_modules/use-query-params/src/updateSearchString.ts","../../../node_modules/use-query-params/src/removeDefaults.ts","../../../node_modules/use-query-params/src/useQueryParams.ts","../../../node_modules/use-query-params/src/useQueryParam.ts"],"sourcesContent":["import _JSXStyle from \"styled-jsx/style\";\nimport { colors } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nconst commonStyles = [\"svg.jsx-4069423049{display:block;pointer-events:none;}\", \"svg.jsx-4069423049 .border.jsx-4069423049{fill:\".concat(colors.grey800, \";}\"), \"svg.jsx-4069423049 .background.jsx-4069423049,svg.jsx-4069423049 .indeterminate.jsx-4069423049,svg.jsx-4069423049 .checkmark.jsx-4069423049{fill:\".concat(colors.white, \";}\"), \"svg.checked.jsx-4069423049 .background.jsx-4069423049,svg.indeterminate.jsx-4069423049 .background.jsx-4069423049{fill:\".concat(colors.teal500, \";}\"), \"svg.valid.jsx-4069423049 .background.jsx-4069423049{fill:\".concat(colors.blue600, \";}\"), \"svg.warning.jsx-4069423049 .background.jsx-4069423049{fill:\".concat(colors.yellow700, \";}\"), \"svg.error.jsx-4069423049 .background.jsx-4069423049{fill:\".concat(colors.red500, \";}\"), \"svg.checked.jsx-4069423049 .border.jsx-4069423049,svg.indeterminate.jsx-4069423049 .border.jsx-4069423049{fill:\".concat(colors.teal900, \";}\"), \"svg.jsx-4069423049:not(.checked) .checkmark.jsx-4069423049,svg.jsx-4069423049:not(.indeterminate) .indeterminate.jsx-4069423049{fill:none;}\", \"svg.jsx-4069423049:not(.checked):not(.indeterminate) .background.jsx-4069423049{fill:\".concat(colors.white, \";}\")];\ncommonStyles.__hash = \"4069423049\";\nexport function CheckboxRegular(_ref) {\n  let {\n    className\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    viewBox: \"0 0 18 18\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    className: \"jsx-\".concat(commonStyles.__hash) + \" \" + _JSXStyle.dynamic([[\"2753140462\", [colors.grey300, colors.grey400, colors.blue600, colors.blue700, colors.yellow700, colors.yellow800, colors.red500, colors.red700]]]) + \" \" + (className || \"\")\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"0\",\n    y: \"0\",\n    width: \"18\",\n    height: \"18\",\n    rx: \"3\",\n    className: \"jsx-\".concat(commonStyles.__hash) + \" \" + _JSXStyle.dynamic([[\"2753140462\", [colors.grey300, colors.grey400, colors.blue600, colors.blue700, colors.yellow700, colors.yellow800, colors.red500, colors.red700]]]) + \" \" + \"background\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M15,0 C16.6568542,0 18,1.34314575 18,3 L18,15 C18,16.6568542 16.6568542,18 15,18 L3,18 C1.34314575,18 0,16.6568542 0,15 L0,3 C0,1.34314575 1.34314575,0 3,0 L15,0 Z M15,1 L3,1 C1.9456382,1 1.08183488,1.81587779 1.00548574,2.85073766 L1,3 L1,15 C1,16.0543618 1.81587779,16.9181651 2.85073766,16.9945143 L3,17 L15,17 C16.0543618,17 16.9181651,16.1841222 16.9945143,15.1492623 L17,15 L17,3 C17,1.9456382 16.1841222,1.08183488 15.1492623,1.00548574 L15,1 Z\",\n    className: \"jsx-\".concat(commonStyles.__hash) + \" \" + _JSXStyle.dynamic([[\"2753140462\", [colors.grey300, colors.grey400, colors.blue600, colors.blue700, colors.yellow700, colors.yellow800, colors.red500, colors.red700]]]) + \" \" + \"border\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M4.74451387,8.02852516 C4.39595738,8.11985643 4.12375034,8.39235188 4.03251575,8.74127768 C3.94128115,9.09020348 4.04521722,9.46125864 4.30437605,9.71182782 L7.29823844,12.7078028 C7.68753993,13.0973991 8.31859767,13.0973991 8.70789916,12.7078028 L13.695624,6.71585285 C13.9547828,6.46528367 14.0587189,6.09422851 13.9674843,5.74530271 C13.8762497,5.39637691 13.6040426,5.12388146 13.2554861,5.0325502 C12.9069296,4.94121893 12.5362672,5.04526513 12.2859632,5.30469855 L8.0030688,10.5910713 L5.71403676,8.30067351 C5.46373279,8.0412401 5.09307036,7.9371939 4.74451387,8.02852516 Z\",\n    className: \"jsx-\".concat(commonStyles.__hash) + \" \" + _JSXStyle.dynamic([[\"2753140462\", [colors.grey300, colors.grey400, colors.blue600, colors.blue700, colors.yellow700, colors.yellow800, colors.red500, colors.red700]]]) + \" \" + \"checkmark\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"4\",\n    y: \"8\",\n    width: \"10\",\n    height: \"2\",\n    rx: \"1\",\n    className: \"jsx-\".concat(commonStyles.__hash) + \" \" + _JSXStyle.dynamic([[\"2753140462\", [colors.grey300, colors.grey400, colors.blue600, colors.blue700, colors.yellow700, colors.yellow800, colors.red500, colors.red700]]]) + \" \" + \"indeterminate\"\n  }), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: commonStyles.__hash\n  }, commonStyles), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2753140462\",\n    dynamic: [colors.grey300, colors.grey400, colors.blue600, colors.blue700, colors.yellow700, colors.yellow800, colors.red500, colors.red700]\n  }, [\"svg.__jsx-style-dynamic-selector{width:18px;height:18px;}\", \"svg.disabled.__jsx-style-dynamic-selector .background.__jsx-style-dynamic-selector{fill:\".concat(colors.grey300, \";}\"), \"svg.disabled.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:\".concat(colors.grey400, \";}\"), \"svg.valid.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:\".concat(colors.blue600, \";}\"), \"svg.valid.checked.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector,svg.valid.indeterminate.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:\".concat(colors.blue700, \";}\"), \"svg.warning.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:\".concat(colors.yellow700, \";}\"), \"svg.warning.checked.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector,svg.warning.indeterminate.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:\".concat(colors.yellow800, \";}\"), \"svg.error.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:\".concat(colors.red500, \";}\"), \"svg.error.checked.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector,svg.error.indeterminate.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:\".concat(colors.red700, \";}\")]));\n}\nCheckboxRegular.propTypes = {\n  className: PropTypes.string\n};\nexport function CheckboxDense(_ref2) {\n  let {\n    className\n  } = _ref2;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    viewBox: \"0 0 14 14\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    className: \"jsx-\".concat(commonStyles.__hash) + \" \" + _JSXStyle.dynamic([[\"86695588\", [colors.grey400, colors.grey400, colors.grey500, colors.blue600, colors.blue800, colors.yellow700, colors.yellow800, colors.red500, colors.red800]]]) + \" \" + (className || \"\")\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"0\",\n    y: \"0\",\n    width: \"14\",\n    height: \"14\",\n    rx: \"2\",\n    className: \"jsx-\".concat(commonStyles.__hash) + \" \" + _JSXStyle.dynamic([[\"86695588\", [colors.grey400, colors.grey400, colors.grey500, colors.blue600, colors.blue800, colors.yellow700, colors.yellow800, colors.red500, colors.red800]]]) + \" \" + \"background\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M2,0 L12,0 C13.1045695,0 14,0.8954305 14,2 L14,12 C14,13.1045695 13.1045695,14 12,14 L2,14 C0.8954305,14 0,13.1045695 0,12 L0,2 C0,0.8954305 0.8954305,0 2,0 Z M2,1 C1.44771525,1 1,1.44771525 1,2 L1,12 C1,12.5522847 1.44771525,13 2,13 L12,13 C12.5522847,13 13,12.5522847 13,12 L13,2 C13,1.44771525 12.5522847,1 12,1 L2,1 Z\",\n    className: \"jsx-\".concat(commonStyles.__hash) + \" \" + _JSXStyle.dynamic([[\"86695588\", [colors.grey400, colors.grey400, colors.grey500, colors.blue600, colors.blue800, colors.yellow700, colors.yellow800, colors.red500, colors.red800]]]) + \" \" + \"border\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10.3520005,3.30015877 L5.54268293,8.03252726 L3.64634146,6.16652726 L2.28668615,7.5044281 L5.54310367,10.7010587 L11.7145993,4.628307 L10.3520005,3.30015877 Z M5.54268293,9.43547274 L5.61193184,9.36733181 L5.54226219,9.29894127 L5.47309681,9.367 L5.54268293,9.43547274 Z M10.6496329,4.41023392 L10.6495057,4.35652297 L10.5648412,4.35672356 L10.2854007,4.631693 L10.3553166,4.69984123 L10.6496329,4.41023392 Z M3.42891348,7.22439304 L3.35030905,7.22439304 L3.35034135,7.27820863 L3.64634146,7.56947274 L3.71331385,7.5035719 L3.42891348,7.22439304 Z\",\n    className: \"jsx-\".concat(commonStyles.__hash) + \" \" + _JSXStyle.dynamic([[\"86695588\", [colors.grey400, colors.grey400, colors.grey500, colors.blue600, colors.blue800, colors.yellow700, colors.yellow800, colors.red500, colors.red800]]]) + \" \" + \"checkmark\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"3\",\n    y: \"6\",\n    width: \"8\",\n    height: \"2\",\n    className: \"jsx-\".concat(commonStyles.__hash) + \" \" + _JSXStyle.dynamic([[\"86695588\", [colors.grey400, colors.grey400, colors.grey500, colors.blue600, colors.blue800, colors.yellow700, colors.yellow800, colors.red500, colors.red800]]]) + \" \" + \"indeterminate\"\n  }), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: commonStyles.__hash\n  }, commonStyles), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"86695588\",\n    dynamic: [colors.grey400, colors.grey400, colors.grey500, colors.blue600, colors.blue800, colors.yellow700, colors.yellow800, colors.red500, colors.red800]\n  }, [\"svg.__jsx-style-dynamic-selector{width:14px;height:14px;}\", \"svg.disabled.__jsx-style-dynamic-selector .background.__jsx-style-dynamic-selector{fill:\".concat(colors.grey400, \";}\"), \"svg.disabled.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:\".concat(colors.grey400, \";}\"), \"svg.disabled.checked.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector,svg.disabled.indeterminate.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:\".concat(colors.grey500, \";}\"), \"svg.valid.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:\".concat(colors.blue600, \";}\"), \"svg.valid.checked.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector,svg.valid.indeterminate.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:\".concat(colors.blue800, \";}\"), \"svg.warning.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:\".concat(colors.yellow700, \";}\"), \"svg.warning.checked.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector,svg.warning.indeterminate.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:\".concat(colors.yellow800, \";}\"), \"svg.error.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:\".concat(colors.red500, \";}\"), \"svg.error.checked.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector,svg.error.indeterminate.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:\".concat(colors.red800, \";}\")]));\n}\nCheckboxDense.propTypes = {\n  className: PropTypes.string\n};","import _JSXStyle from \"styled-jsx/style\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { mutuallyExclusive } from '@dhis2/prop-types';\nimport { colors, spacers, theme, sharedPropTypes } from '@dhis2/ui-constants';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { Component, createRef } from 'react';\nimport { CheckboxRegular, CheckboxDense } from './checkbox-icon.js';\n\nclass Checkbox extends Component {\n  constructor() {\n    super(...arguments);\n\n    _defineProperty(this, \"ref\", /*#__PURE__*/createRef());\n\n    _defineProperty(this, \"handleChange\", e => {\n      if (this.props.onChange) {\n        this.props.onChange(this.createHandlerPayload(), e);\n      }\n    });\n\n    _defineProperty(this, \"handleBlur\", e => {\n      if (this.props.onBlur) {\n        this.props.onBlur(this.createHandlerPayload(), e);\n      }\n    });\n\n    _defineProperty(this, \"handleFocus\", e => {\n      if (this.props.onFocus) {\n        this.props.onFocus(this.createHandlerPayload(), e);\n      }\n    });\n\n    _defineProperty(this, \"handleKeyDown\", e => {\n      if (this.props.onKeyDown) {\n        this.props.onKeyDown(this.createHandlerPayload(), e);\n      }\n    });\n  }\n\n  componentDidMount() {\n    if (this.props.initialFocus) {\n      this.ref.current.focus();\n    }\n\n    this.setIndeterminate(this.props.indeterminate);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.indeterminate !== this.props.indeterminate) {\n      this.setIndeterminate(this.props.indeterminate);\n    }\n  }\n\n  setIndeterminate(indeterminate) {\n    this.ref.current.indeterminate = indeterminate;\n  }\n\n  createHandlerPayload() {\n    return {\n      value: this.props.value,\n      name: this.props.name,\n      checked: !this.props.checked\n    };\n  }\n\n  render() {\n    const {\n      checked,\n      indeterminate,\n      className,\n      disabled,\n      error,\n      label,\n      name,\n      tabIndex,\n      valid,\n      value,\n      warning,\n      dense,\n      dataTest\n    } = this.props;\n    const classes = cx({\n      checked,\n      indeterminate,\n      disabled,\n      valid,\n      error,\n      warning\n    });\n    return /*#__PURE__*/React.createElement(\"label\", {\n      \"data-test\": dataTest,\n      className: _JSXStyle.dynamic([[\"1088888266\", [colors.grey900, theme.disabled, spacers.dp4, theme.focus]]]) + \" \" + (cx(className, {\n        disabled,\n        dense\n      }) || \"\")\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"checkbox\",\n      ref: this.ref,\n      name: name,\n      value: value,\n      checked: checked,\n      disabled: disabled,\n      tabIndex: tabIndex,\n      onChange: this.handleChange,\n      onFocus: this.handleFocus,\n      onKeyDown: this.handleKeyDown,\n      onBlur: this.handleBlur,\n      className: _JSXStyle.dynamic([[\"1088888266\", [colors.grey900, theme.disabled, spacers.dp4, theme.focus]]])\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: _JSXStyle.dynamic([[\"1088888266\", [colors.grey900, theme.disabled, spacers.dp4, theme.focus]]]) + \" \" + (cx('icon', {\n        dense\n      }) || \"\")\n    }, dense ? /*#__PURE__*/React.createElement(CheckboxDense, {\n      className: classes\n    }) : /*#__PURE__*/React.createElement(CheckboxRegular, {\n      className: classes\n    })), label, /*#__PURE__*/React.createElement(_JSXStyle, {\n      id: \"1088888266\",\n      dynamic: [colors.grey900, theme.disabled, spacers.dp4, theme.focus]\n    }, [\"label.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:relative;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;cursor:pointer;color:\".concat(colors.grey900, \";font-size:14px;line-height:19px;}\"), \"label.dense.__jsx-style-dynamic-selector{font-size:14px;line-height:16px;}\", \"label.disabled.__jsx-style-dynamic-selector{cursor:not-allowed;color:\".concat(theme.disabled, \";}\"), \"input.__jsx-style-dynamic-selector{opacity:0;position:absolute;height:18px;width:18px;left:3px;}\", \"label.dense.__jsx-style-dynamic-selector input.__jsx-style-dynamic-selector{height:14px;width:14px;}\", \".icon.__jsx-style-dynamic-selector{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin-right:\".concat(spacers.dp4, \";border:2px solid transparent;padding:1px;border-radius:5px;}\"), \"label.dense.__jsx-style-dynamic-selector .icon.__jsx-style-dynamic-selector{margin-right:3px;border-radius:4px;}\", \"input.__jsx-style-dynamic-selector:focus+.icon.__jsx-style-dynamic-selector{outline:3px solid \".concat(theme.focus, \";outline-offset:-3px;}\")]));\n  }\n\n}\n\nCheckbox.defaultProps = {\n  checked: false,\n  indeterminate: false,\n  dataTest: 'dhis2-uicore-checkbox'\n};\nconst uniqueOnStatePropType = mutuallyExclusive(['checked', 'indeterminate'], PropTypes.bool);\nCheckbox.propTypes = {\n  checked: uniqueOnStatePropType,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n  dense: PropTypes.bool,\n  disabled: PropTypes.bool,\n  error: sharedPropTypes.statusPropType,\n  indeterminate: uniqueOnStatePropType,\n  initialFocus: PropTypes.bool,\n  label: PropTypes.node,\n  name: PropTypes.string,\n  tabIndex: PropTypes.string,\n  valid: sharedPropTypes.statusPropType,\n  value: PropTypes.string,\n  warning: sharedPropTypes.statusPropType,\n  onBlur: PropTypes.func,\n\n  /** Called with signature `(object, event)` */\n  onChange: PropTypes.func,\n  onFocus: PropTypes.func,\n  onKeyDown: PropTypes.func\n};\nexport { Checkbox };","import _JSXStyle from \"styled-jsx/style\";\nimport * as theme from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nconst toPrefixedThemeSection = themeSectionKey => Object.entries(theme[themeSectionKey]).reduce((prefixed, _ref) => {\n  let [key, value] = _ref;\n  prefixed[\"\".concat(themeSectionKey, \"-\").concat(key)] = value;\n  return prefixed;\n}, {});\n\nconst toCustomPropertyString = themeSection => Object.entries(themeSection).map(_ref2 => {\n  let [key, value] = _ref2;\n  return \"--\".concat(key, \": \").concat(value, \";\");\n}).join('\\n');\n\nconst CssVariables = _ref3 => {\n  let {\n    colors,\n    theme,\n    layers,\n    spacers,\n    elevations\n  } = _ref3;\n  const allowedProps = {\n    colors,\n    theme,\n    layers,\n    spacers,\n    elevations\n  };\n  const variables = Object.keys(allowedProps) // Filter all props that are false\n  .filter(prop => allowedProps[prop]) // Map props to corresponding theme section and prefixes keys with section name\n  .map(toPrefixedThemeSection) // Map each section to a single string of css custom property declarations\n  .map(toCustomPropertyString) // Join all the sections to a single string\n  .join('\\n');\n  return /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3443925957\",\n    dynamic: [variables]\n  }, [\"html{\".concat(variables, \";}\")]);\n};\n\nCssVariables.defaultProps = {\n  colors: false,\n  theme: false,\n  layers: false,\n  spacers: false,\n  elevations: false\n};\nCssVariables.propTypes = {\n  colors: PropTypes.bool,\n  elevations: PropTypes.bool,\n  layers: PropTypes.bool,\n  spacers: PropTypes.bool,\n  theme: PropTypes.bool\n};\nexport { CssVariables };","import _JSXStyle from \"styled-jsx/style\";\nimport PropTypes from 'prop-types';\nimport React, { useEffect, useRef } from 'react';\nexport const IntersectionDetector = _ref => {\n  let {\n    threshold,\n    onChange,\n    children,\n    className,\n    dataTest,\n    rootRef\n  } = _ref;\n  // Use useRef instead of useState to prevent unnecessary re-render:\n  //   The state changes won't be reflected in what this component renders,\n  //   so there's no need for re-rendering the (potentially computational\n  //   heavy) children.  Also: If the parent re-renders (e. g. due to a state\n  //   change), then this component will re-render as well.\n  // @var {Object}\n  // @prop {bool} current\n  const isIntersecting = useRef(); // @var {Object}\n  // @prop {HTMLElement} current\n\n  const intersectionRef = useRef();\n  useEffect(() => {\n    const rootEl = rootRef.current;\n    const intersectionEl = intersectionRef.current;\n\n    if (rootEl && intersectionEl) {\n      const onIntersection = entries => {\n        // Currently there's no way to supply multiple thresholds,\n        // so a single entry can be assumed safely\n        const [entry] = entries; // Make sure the callback is not called multiple times\n        // if there is no change\n\n        const intersectionChange = entry.isIntersecting !== isIntersecting.current;\n\n        if (intersectionChange) {\n          isIntersecting.current = entry.isIntersecting;\n          onChange({\n            isIntersecting: entry.isIntersecting\n          });\n        }\n      };\n\n      const observerOptions = {\n        root: rootEl,\n        threshold\n      };\n      const intersectionObserver = new IntersectionObserver(onIntersection, observerOptions);\n      intersectionObserver.observe(intersectionEl); // Make sure to clean up everything when un-mounting.\n      // Using an arrow function instead of just returning\n      // the disconnect function for better readability.\n\n      return () => intersectionObserver.disconnect();\n    }\n  }, [rootRef.current, intersectionRef.current]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    ref: intersectionRef,\n    \"data-test\": dataTest,\n    className: \"jsx-2829611397\" + \" \" + (className || \"\")\n  }, children, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2829611397\"\n  }, [\"div.jsx-2829611397{height:100%;}\"]));\n};\nIntersectionDetector.defaultProps = {\n  threshold: 0,\n  dataTest: 'dhis2-uicore-intersectiondetector'\n};\nIntersectionDetector.propTypes = {\n  /** React ref on other component to detect intersections with */\n  rootRef: PropTypes.shape({\n    // not required so `current` can be `null`\n    current: PropTypes.instanceOf(HTMLElement)\n  }).isRequired,\n\n  /** Called with signature `({ isIntersecting: bool })` */\n  onChange: PropTypes.func.isRequired,\n  children: PropTypes.any,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n\n  /** The [threshold](https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API#Intersection_observer_options) value: a value from 0.0 to 1.0 that controls the point at which an intersecting component is considered 'intersected' or 'visible' and the onChange callback triggers */\n  threshold: PropTypes.number\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { colors } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport const NoticeBoxMessage = _ref => {\n  let {\n    children,\n    dataTest\n  } = _ref;\n\n  if (!children) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    className: _JSXStyle.dynamic([[\"3568970766\", [colors.grey900]]])\n  }, children, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3568970766\",\n    dynamic: [colors.grey900]\n  }, [\"div.__jsx-style-dynamic-selector{color:\".concat(colors.grey900, \";font-size:14px;line-height:19px;}\")]));\n};\nNoticeBoxMessage.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  children: PropTypes.node\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { colors } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport const NoticeBoxTitle = _ref => {\n  let {\n    title,\n    dataTest\n  } = _ref;\n\n  if (!title) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(\"h6\", {\n    \"data-test\": dataTest,\n    className: _JSXStyle.dynamic([[\"1334557505\", [colors.grey900]]])\n  }, title, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1334557505\",\n    dynamic: [colors.grey900]\n  }, [\"h6.__jsx-style-dynamic-selector{color:\".concat(colors.grey900, \";font-size:14px;font-weight:500;line-height:19px;margin:0;}\")]));\n};\nNoticeBoxTitle.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  title: PropTypes.string\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { spacers } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { NoticeBoxMessage } from './notice-box-message.js';\nimport { NoticeBoxTitle } from './notice-box-title.js';\nexport const NoticeBoxContent = _ref => {\n  let {\n    children,\n    dataTest,\n    title\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    className: _JSXStyle.dynamic([[\"403435427\", [spacers.dp8]]])\n  }, /*#__PURE__*/React.createElement(NoticeBoxTitle, {\n    title: title,\n    dataTest: \"\".concat(dataTest, \"-title\")\n  }), /*#__PURE__*/React.createElement(NoticeBoxMessage, {\n    dataTest: \"\".concat(dataTest, \"-message\")\n  }, children), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"403435427\",\n    dynamic: [spacers.dp8]\n  }, [\"div.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:\".concat(spacers.dp8, \";padding-block-start:3px;}\")]));\n};\nNoticeBoxContent.defaultProps = {\n  dataTest: 'dhis2-uicore-noticebox-content'\n};\nNoticeBoxContent.propTypes = {\n  children: PropTypes.node,\n  dataTest: PropTypes.string,\n  title: PropTypes.string\n};","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nfunction SvgCheckmarkCircle24(_ref) {\n  let {\n    color,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M20 12a8 8 0 11-16 0 8 8 0 0116 0zm2 0c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10zm-5.293-1.293a1 1 0 00-1.414-1.414L11 13.586l-1.793-1.793a1 1 0 00-1.414 1.414l2.5 2.5a1 1 0 001.414 0l5-5z\",\n    fill: \"currentColor\"\n  }));\n}\n\nSvgCheckmarkCircle24.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default SvgCheckmarkCircle24;","import _JSXStyle from \"styled-jsx/style\";\nimport { mutuallyExclusive } from '@dhis2/prop-types';\nimport { colors, spacers } from '@dhis2/ui-constants';\nimport { IconErrorFilled24, IconWarningFilled24, IconInfoFilled24, IconCheckmarkCircle24 } from '@dhis2/ui-icons';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport const NoticeBoxIcon = _ref => {\n  let {\n    valid,\n    warning,\n    error,\n    dataTest\n  } = _ref;\n  // Info is the default icon\n  let color = colors.blue900;\n  let Icon = IconInfoFilled24;\n\n  if (valid) {\n    color = colors.green700;\n    Icon = IconCheckmarkCircle24;\n  }\n\n  if (warning) {\n    color = colors.yellow700;\n    Icon = IconWarningFilled24;\n  }\n\n  if (error) {\n    color = colors.red700;\n    Icon = IconErrorFilled24;\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    className: _JSXStyle.dynamic([[\"1909501516\", [spacers.dp12, spacers.dp24]]])\n  }, /*#__PURE__*/React.createElement(Icon, {\n    color: color,\n    className: _JSXStyle.dynamic([[\"1909501516\", [spacers.dp12, spacers.dp24]]])\n  }), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1909501516\",\n    dynamic: [spacers.dp12, spacers.dp24]\n  }, [\".__jsx-style-dynamic-selector{margin-inline-end:\".concat(spacers.dp12, \";height:\").concat(spacers.dp24, \";}\")]));\n};\nNoticeBoxIcon.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  error: mutuallyExclusive(['error', 'valid', 'warning'], PropTypes.bool),\n  valid: mutuallyExclusive(['error', 'valid', 'warning'], PropTypes.bool),\n  warning: mutuallyExclusive(['error', 'valid', 'warning'], PropTypes.bool)\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { mutuallyExclusive } from '@dhis2/prop-types';\nimport { spacers, colors } from '@dhis2/ui-constants';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { NoticeBoxContent } from './notice-box-content.js';\nimport { NoticeBoxIcon } from './notice-box-icon.js';\nexport const NoticeBox = _ref => {\n  let {\n    className,\n    children,\n    dataTest,\n    title,\n    warning,\n    error,\n    valid\n  } = _ref;\n  const classnames = cx(className, 'root', {\n    warning,\n    error,\n    valid\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    className: _JSXStyle.dynamic([[\"243875418\", [colors.blue050, colors.blue200, spacers.dp12, spacers.dp16, colors.yellow050, colors.yellow200, colors.red050, colors.red500, colors.green050, colors.green200]]]) + \" \" + (classnames || \"\")\n  }, /*#__PURE__*/React.createElement(NoticeBoxIcon, {\n    error: error,\n    warning: warning,\n    valid: valid,\n    dataTest: \"\".concat(dataTest, \"-icon\")\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"243875418\", [colors.blue050, colors.blue200, spacers.dp12, spacers.dp16, colors.yellow050, colors.yellow200, colors.red050, colors.red500, colors.green050, colors.green200]]])\n  }, /*#__PURE__*/React.createElement(NoticeBoxContent, {\n    title: title,\n    dataTest: \"\".concat(dataTest, \"-content\")\n  }, children)), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"243875418\",\n    dynamic: [colors.blue050, colors.blue200, spacers.dp12, spacers.dp16, colors.yellow050, colors.yellow200, colors.red050, colors.red500, colors.green050, colors.green200]\n  }, [\".root.__jsx-style-dynamic-selector{background:\".concat(colors.blue050, \";border:1px solid \").concat(colors.blue200, \";border-radius:3px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding-block:\").concat(spacers.dp12, \";padding-inline:\").concat(spacers.dp16, \";}\"), \".root.warning.__jsx-style-dynamic-selector{background:\".concat(colors.yellow050, \";border:1px solid \").concat(colors.yellow200, \";}\"), \".root.error.__jsx-style-dynamic-selector{background:\".concat(colors.red050, \";border:2px solid \").concat(colors.red500, \";}\"), \".root.valid.__jsx-style-dynamic-selector{background:\".concat(colors.green050, \";border:1px solid \").concat(colors.green200, \";}\")]));\n};\nNoticeBox.defaultProps = {\n  dataTest: 'dhis2-uicore-noticebox'\n};\nNoticeBox.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n\n  /** Applies 'error' message styles. Mutually exclusive with the `valid` and `warning` props */\n  error: mutuallyExclusive(['error', 'valid', 'warning'], PropTypes.bool),\n  title: PropTypes.string,\n\n  /** Applies 'valid' message styles. Mutually exclusive with the `error` and `warning` props */\n  valid: mutuallyExclusive(['error', 'valid', 'warning'], PropTypes.bool),\n\n  /** Applies 'warning' message styles. Mutually exclusive with the `error` and `valid` props */\n  warning: mutuallyExclusive(['error', 'valid', 'warning'], PropTypes.bool)\n};","//------------------------------------------------------------------------------\n// <auto-generated>\n// This code was generated by d2-i18n-generate.\n//\n// Changes to this file may cause incorrect behavior and will be lost if\n// the code is regenerated.\n// </auto-generated>\n//------------------------------------------------------------------------------\nimport i18n from '@dhis2/d2-i18n';\nimport arTranslations from './ar/translations.json';\nimport ar_IQTranslations from './ar_IQ/translations.json';\nimport bnTranslations from './bn/translations.json';\nimport ckbTranslations from './ckb/translations.json';\nimport csTranslations from './cs/translations.json';\nimport daTranslations from './da/translations.json';\nimport enTranslations from './en/translations.json';\nimport esTranslations from './es/translations.json';\nimport es_419Translations from './es_419/translations.json';\nimport frTranslations from './fr/translations.json';\nimport idTranslations from './id/translations.json';\nimport kmTranslations from './km/translations.json';\nimport loTranslations from './lo/translations.json';\nimport myTranslations from './my/translations.json';\nimport nbTranslations from './nb/translations.json';\nimport nlTranslations from './nl/translations.json';\nimport prsTranslations from './prs/translations.json';\nimport psTranslations from './ps/translations.json';\nimport ptTranslations from './pt/translations.json';\nimport pt_BRTranslations from './pt_BR/translations.json';\nimport roTranslations from './ro/translations.json';\nimport ruTranslations from './ru/translations.json';\nimport svTranslations from './sv/translations.json';\nimport tetTranslations from './tet/translations.json';\nimport tgTranslations from './tg/translations.json';\nimport ukTranslations from './uk/translations.json';\nimport urTranslations from './ur/translations.json';\nimport uz_LatnTranslations from './uz_Latn/translations.json';\nimport uz_UZ_CyrlTranslations from './uz_UZ_Cyrl/translations.json';\nimport uz_UZ_LatnTranslations from './uz_UZ_Latn/translations.json';\nimport viTranslations from './vi/translations.json';\nimport zhTranslations from './zh/translations.json';\nimport zh_CNTranslations from './zh_CN/translations.json';\nconst namespace = 'default';\ni18n.addResources('ar', namespace, arTranslations);\ni18n.addResources('ar_IQ', namespace, ar_IQTranslations);\ni18n.addResources('bn', namespace, bnTranslations);\ni18n.addResources('ckb', namespace, ckbTranslations);\ni18n.addResources('cs', namespace, csTranslations);\ni18n.addResources('da', namespace, daTranslations);\ni18n.addResources('en', namespace, enTranslations);\ni18n.addResources('es', namespace, esTranslations);\ni18n.addResources('es_419', namespace, es_419Translations);\ni18n.addResources('fr', namespace, frTranslations);\ni18n.addResources('id', namespace, idTranslations);\ni18n.addResources('km', namespace, kmTranslations);\ni18n.addResources('lo', namespace, loTranslations);\ni18n.addResources('my', namespace, myTranslations);\ni18n.addResources('nb', namespace, nbTranslations);\ni18n.addResources('nl', namespace, nlTranslations);\ni18n.addResources('prs', namespace, prsTranslations);\ni18n.addResources('ps', namespace, psTranslations);\ni18n.addResources('pt', namespace, ptTranslations);\ni18n.addResources('pt_BR', namespace, pt_BRTranslations);\ni18n.addResources('ro', namespace, roTranslations);\ni18n.addResources('ru', namespace, ruTranslations);\ni18n.addResources('sv', namespace, svTranslations);\ni18n.addResources('tet', namespace, tetTranslations);\ni18n.addResources('tg', namespace, tgTranslations);\ni18n.addResources('uk', namespace, ukTranslations);\ni18n.addResources('ur', namespace, urTranslations);\ni18n.addResources('uz_Latn', namespace, uz_LatnTranslations);\ni18n.addResources('uz_UZ_Cyrl', namespace, uz_UZ_CyrlTranslations);\ni18n.addResources('uz_UZ_Latn', namespace, uz_UZ_LatnTranslations);\ni18n.addResources('vi', namespace, viTranslations);\ni18n.addResources('zh', namespace, zhTranslations);\ni18n.addResources('zh_CN', namespace, zh_CNTranslations);\nexport default i18n;","import i18n from './locales/index.js';\n\nconst isValidNumber = input => typeof input === 'number' && !isNaN(input);\n\nexport const getDefaultPageSummaryText = _ref => {\n  let {\n    firstItem,\n    lastItem,\n    page,\n    pageCount,\n    total\n  } = _ref;\n\n  if (isValidNumber(total) && isValidNumber(lastItem)) {\n    return i18n.t('Page {{page}} of {{pageCount}}, items {{firstItem}}-{{lastItem}} of {{total}}', {\n      page,\n      pageCount,\n      firstItem,\n      lastItem,\n      total\n    });\n  }\n\n  if (isValidNumber(lastItem)) {\n    return i18n.t('Page {{page}}, items {{firstItem}}-{{lastItem}}', {\n      page,\n      firstItem,\n      lastItem\n    });\n  }\n\n  return i18n.t('Page {{page}}', {\n    page\n  });\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { Button } from '@dhis2-ui/button';\nimport { spacers } from '@dhis2/ui-constants';\nimport { IconChevronLeft16, IconChevronRight16 } from '@dhis2/ui-icons';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nconst translate = (prop, interpolationObject) => {\n  if (typeof prop === 'function') {\n    return prop(interpolationObject);\n  }\n\n  return prop;\n};\n\nconst PageControls = _ref => {\n  let {\n    dataTest,\n    isNextDisabled,\n    isPreviousDisabled,\n    nextPageText,\n    page,\n    previousPageText,\n    onClick\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": \"\".concat(dataTest, \"-pagecontrols\"),\n    className: _JSXStyle.dynamic([[\"2407365506\", [spacers.dp4]]])\n  }, /*#__PURE__*/React.createElement(Button, {\n    secondary: true,\n    className: \"button-previous\",\n    small: true,\n    disabled: isPreviousDisabled,\n    onClick: () => onClick(page - 1),\n    dataTest: \"\".concat(dataTest, \"-page-previous\")\n  }, /*#__PURE__*/React.createElement(IconChevronLeft16, null), translate(previousPageText)), /*#__PURE__*/React.createElement(Button, {\n    secondary: true,\n    className: \"button-next\",\n    small: true,\n    disabled: isNextDisabled,\n    onClick: () => onClick(page + 1),\n    dataTest: \"\".concat(dataTest, \"-page-next\")\n  }, translate(nextPageText), /*#__PURE__*/React.createElement(IconChevronRight16, null)), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2407365506\",\n    dynamic: [spacers.dp4]\n  }, [\"div.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}\", \"div.__jsx-style-dynamic-selector .button-previous{height:32px;padding-left:0;}\", \"div.__jsx-style-dynamic-selector .button-next{height:32px;padding-right:0;margin-left:\".concat(spacers.dp4, \";}\")]));\n};\n\nPageControls.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  nextPageText: PropTypes.oneOfType([PropTypes.string, PropTypes.func]).isRequired,\n  page: PropTypes.number.isRequired,\n  previousPageText: PropTypes.oneOfType([PropTypes.string, PropTypes.func]).isRequired,\n  onClick: PropTypes.func.isRequired,\n  isNextDisabled: PropTypes.bool,\n  isPreviousDisabled: PropTypes.bool\n};\nexport { PageControls };","import _JSXStyle from \"styled-jsx/style\";\nimport { SingleSelect, SingleSelectOption } from '@dhis2-ui/select';\nimport { spacers } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react'; // TODO: i18n translate\n\nconst translate = (prop, interpolationObject) => {\n  if (typeof prop === 'function') {\n    return prop(interpolationObject);\n  }\n\n  return prop;\n};\n\nconst createAvailablePages = length => Array.from({\n  length\n}, (_x, i) => (i + 1).toString());\n\nconst PageSelect = _ref => {\n  let {\n    dataTest,\n    disabled,\n    pageSelectText,\n    onChange,\n    page,\n    pageCount\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": \"\".concat(dataTest, \"-gotopage\"),\n    className: _JSXStyle.dynamic([[\"485717002\", [spacers.dp12]]])\n  }, /*#__PURE__*/React.createElement(SingleSelect, {\n    dense: true,\n    disabled: disabled,\n    selected: page.toString(),\n    onChange: _ref2 => {\n      let {\n        selected\n      } = _ref2;\n      return onChange(parseInt(selected, 10));\n    },\n    className: \"select\",\n    dataTest: \"\".concat(dataTest, \"-page-select\"),\n    prefix: translate(pageSelectText)\n  }, createAvailablePages(pageCount).map(availablePage => /*#__PURE__*/React.createElement(SingleSelectOption, {\n    key: availablePage,\n    value: availablePage,\n    label: availablePage\n  }))), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"485717002\",\n    dynamic: [spacers.dp12]\n  }, [\"div.__jsx-style-dynamic-selector{margin-right:\".concat(spacers.dp12, \";}\")]));\n};\n\nPageSelect.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  page: PropTypes.number.isRequired,\n  pageCount: PropTypes.number.isRequired,\n  pageSelectText: PropTypes.oneOfType([PropTypes.string, PropTypes.func]).isRequired,\n  onChange: PropTypes.func.isRequired,\n  disabled: PropTypes.bool\n};\nexport { PageSelect, createAvailablePages };","import _JSXStyle from \"styled-jsx/style\";\nimport { SingleSelect, SingleSelectOption } from '@dhis2-ui/select';\nimport { spacers } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react'; // TODO: i18n translate\n\nconst translate = (prop, interpolationObject) => {\n  if (typeof prop === 'function') {\n    return prop(interpolationObject);\n  }\n\n  return prop;\n};\n\nconst PageSizeSelect = _ref => {\n  let {\n    dataTest,\n    disabled,\n    pageSizeSelectText,\n    pageSize,\n    pageSizes,\n    onChange\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": \"\".concat(dataTest, \"-pagesize\"),\n    className: _JSXStyle.dynamic([[\"1934482915\", [spacers.dp12]]])\n  }, /*#__PURE__*/React.createElement(SingleSelect, {\n    dense: true,\n    disabled: disabled,\n    selected: pageSize.toString(),\n    onChange: _ref2 => {\n      let {\n        selected\n      } = _ref2;\n      return onChange(parseInt(selected, 10));\n    },\n    className: \"select\",\n    dataTest: \"\".concat(dataTest, \"-pagesize-select\"),\n    prefix: translate(pageSizeSelectText)\n  }, pageSizes.map(length => /*#__PURE__*/React.createElement(SingleSelectOption, {\n    key: length,\n    value: length,\n    label: length\n  }))), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1934482915\",\n    dynamic: [spacers.dp12]\n  }, [\"div.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;min-height:32px;margin-right:\".concat(spacers.dp12, \";-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}\")]));\n};\n\nPageSizeSelect.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  pageSize: PropTypes.number.isRequired,\n  pageSizeSelectText: PropTypes.oneOfType([PropTypes.string, PropTypes.func]).isRequired,\n  pageSizes: PropTypes.arrayOf(PropTypes.string).isRequired,\n  onChange: PropTypes.func.isRequired,\n  disabled: PropTypes.bool\n};\nexport { PageSizeSelect };","import _JSXStyle from \"styled-jsx/style\";\nimport { colors, spacers } from '@dhis2/ui-constants';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nconst translate = (prop, interpolationObject) => {\n  if (typeof prop === 'function') {\n    return prop(interpolationObject);\n  }\n\n  return prop;\n};\n\nconst PageSummary = _ref => {\n  let {\n    dataTest,\n    firstItem,\n    inactive,\n    lastItem,\n    page,\n    pageCount,\n    pageSummaryText,\n    total\n  } = _ref;\n  const summary = translate(pageSummaryText, {\n    firstItem,\n    lastItem,\n    page,\n    pageCount,\n    total\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": \"\".concat(dataTest, \"-summary\"),\n    className: _JSXStyle.dynamic([[\"1022808428\", [spacers.dp12, colors.grey700, colors.grey500]]])\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: _JSXStyle.dynamic([[\"1022808428\", [spacers.dp12, colors.grey700, colors.grey500]]]) + \" \" + (cx({\n      inactive\n    }) || \"\")\n  }, summary), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1022808428\",\n    dynamic: [spacers.dp12, colors.grey700, colors.grey500]\n  }, [\"div.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;min-height:32px;margin-right:\".concat(spacers.dp12, \";}\"), \"span.__jsx-style-dynamic-selector{color:\".concat(colors.grey700, \";font-size:14px;}\"), \"span.inactive.__jsx-style-dynamic-selector{color:\".concat(colors.grey500, \";}\")]));\n};\n\nPageSummary.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  page: PropTypes.number.isRequired,\n  pageSummaryText: PropTypes.oneOfType([PropTypes.string, PropTypes.func]).isRequired,\n  firstItem: PropTypes.number,\n  inactive: PropTypes.bool,\n  lastItem: PropTypes.number,\n  pageCount: PropTypes.number,\n  total: PropTypes.number\n};\nexport { PageSummary };","import _JSXStyle from \"styled-jsx/style\";\nimport { requiredIf } from '@dhis2/prop-types';\nimport { spacers } from '@dhis2/ui-constants';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { getDefaultPageSummaryText } from './get-default-page-summary-text.js';\nimport { getItemRange } from './get-item-range.js';\nimport i18n from './locales/index.js';\nimport { PageControls } from './page-controls.js';\nimport { PageSelect } from './page-select.js';\nimport { PageSizeSelect } from './page-size-select.js';\nimport { PageSummary } from './page-summary.js';\nconst MAX_PAGE_COUNT = 2000;\n\nconst Pagination = _ref => {\n  let {\n    className,\n    dataTest,\n    disabled,\n    hidePageSelect,\n    hidePageSizeSelect,\n    hidePageSummary,\n    isLastPage,\n    nextPageText,\n    onPageChange,\n    onPageSizeChange,\n    page,\n    pageCount,\n    pageLength,\n    pageSelectText,\n    pageSize,\n    pageSizes,\n    pageSizeSelectText,\n    pageSummaryText,\n    previousPageText,\n    total\n  } = _ref;\n  const {\n    firstItem,\n    lastItem\n  } = getItemRange({\n    isLastPage,\n    page,\n    pageLength,\n    pageSize,\n    total\n  });\n  const showPageSelect = !hidePageSelect && typeof pageCount === 'number' && pageCount > 1 && pageCount <= MAX_PAGE_COUNT;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    className: _JSXStyle.dynamic([[\"3796520840\", [spacers.dp4]]]) + \" \" + (cx('container', className) || \"\")\n  }, hidePageSizeSelect ? /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"3796520840\", [spacers.dp4]]]) + \" \" + \"spacer\"\n  }) : /*#__PURE__*/React.createElement(PageSizeSelect, {\n    dataTest: dataTest,\n    disabled: disabled,\n    pageSize: pageSize,\n    pageSizes: pageSizes,\n    onChange: onPageSizeChange,\n    pageSizeSelectText: pageSizeSelectText\n  }), !hidePageSummary && /*#__PURE__*/React.createElement(PageSummary, {\n    dataTest: dataTest,\n    inactive: disabled,\n    firstItem: firstItem,\n    lastItem: lastItem,\n    page: page,\n    pageCount: pageCount,\n    pageSummaryText: pageSummaryText,\n    total: total\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"3796520840\", [spacers.dp4]]]) + \" \" + \"page-navigation\"\n  }, showPageSelect && /*#__PURE__*/React.createElement(PageSelect, {\n    dataTest: dataTest,\n    disabled: disabled,\n    pageSelectText: pageSelectText,\n    page: page,\n    pageCount: pageCount,\n    onChange: onPageChange\n  }), /*#__PURE__*/React.createElement(PageControls, {\n    dataTest: dataTest,\n    nextPageText: nextPageText,\n    page: page,\n    previousPageText: previousPageText,\n    onClick: onPageChange,\n    isNextDisabled: disabled || isLastPage || page === pageCount,\n    isPreviousDisabled: disabled || page === 1\n  })), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3796520840\",\n    dynamic: [spacers.dp4]\n  }, [\".container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;row-gap:\".concat(spacers.dp4, \";}\"), \".spacer.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}\", \".page-navigation.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;min-height:32px;}\"]));\n};\n\nPagination.defaultProps = {\n  dataTest: 'dhis2-uiwidgets-pagination',\n  pageSizes: ['5', '10', '20', '30', '40', '50', '75', '100'],\n  nextPageText: () => i18n.t('Next'),\n  pageSelectText: () => i18n.t('Page'),\n  pageSizeSelectText: () => i18n.t('Items per page'),\n  pageSummaryText: getDefaultPageSummaryText,\n  previousPageText: () => i18n.t('Previous')\n};\nPagination.propTypes = {\n  page: PropTypes.number.isRequired,\n  pageSize: PropTypes.number.isRequired,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n  disabled: PropTypes.bool,\n  hidePageSelect: PropTypes.bool,\n  hidePageSizeSelect: PropTypes.bool,\n  hidePageSummary: PropTypes.bool,\n  isLastPage: PropTypes.bool,\n  nextPageText: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  pageCount: PropTypes.number,\n  pageLength: requiredIf(props => props.isLastPage, PropTypes.number),\n  pageSelectText: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  pageSizeSelectText: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  pageSizes: PropTypes.arrayOf(PropTypes.string),\n  pageSummaryText: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  previousPageText: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  total: PropTypes.number,\n  onPageChange: PropTypes.func,\n  onPageSizeChange: PropTypes.func\n};\nexport { Pagination };","export const getItemRange = _ref => {\n  let {\n    isLastPage,\n    page,\n    pageLength,\n    pageSize,\n    total\n  } = _ref;\n  // page is 1-based\n  let firstItem = (page - 1) * pageSize + 1;\n  let lastItem = firstItem + pageSize - 1;\n\n  if (typeof total === 'number') {\n    if (total === 0) {\n      /*\n       * if no items are found, the pager total is 0\n       * and the first and last item should be be 0 too\n       */\n      firstItem = 0;\n      lastItem = 0;\n    } else if (lastItem > total) {\n      lastItem = total;\n    }\n  }\n\n  if (typeof pageLength === 'number') {\n    lastItem = firstItem + pageLength - 1;\n  }\n\n  if (isLastPage && isNaN(total) && isNaN(pageLength)) {\n    // impossible to accurately determine the last item\n    lastItem = NaN;\n  }\n\n  return {\n    firstItem,\n    lastItem\n  };\n};","const getArrowPosition = popperPlacement => {\n  const direction = typeof popperPlacement === 'string' ? popperPlacement.split('-')[0] : '';\n\n  switch (direction) {\n    case 'top':\n      return 'bottom';\n\n    case 'right':\n      return 'left';\n\n    case 'bottom':\n      return 'top';\n\n    case 'left':\n      return 'right';\n\n    default:\n      return '';\n  }\n};\n\nexport { getArrowPosition };","import _JSXStyle from \"styled-jsx/style\";\nimport { colors } from '@dhis2/ui-constants';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { forwardRef } from 'react';\nimport { getArrowPosition } from './get-arrow-position.js';\nconst ARROW_SIZE = 8;\nconst Arrow = /*#__PURE__*/forwardRef((_ref, ref) => {\n  let {\n    hidden,\n    popperPlacement,\n    styles\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": \"dhis2-uicore-popoverarrow\",\n    style: styles,\n    ref: ref,\n    className: _JSXStyle.dynamic([[\"1397459397\", [ARROW_SIZE, ARROW_SIZE, ARROW_SIZE / 2, ARROW_SIZE / 2, ARROW_SIZE / 2, ARROW_SIZE / 2, ARROW_SIZE / 2, colors.white, colors.white]]]) + \" \" + (cx(getArrowPosition(popperPlacement), {\n      hidden\n    }) || \"\")\n  }, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1397459397\",\n    dynamic: [ARROW_SIZE, ARROW_SIZE, ARROW_SIZE / 2, ARROW_SIZE / 2, ARROW_SIZE / 2, ARROW_SIZE / 2, ARROW_SIZE / 2, colors.white, colors.white]\n  }, [\"div.__jsx-style-dynamic-selector{width:\".concat(ARROW_SIZE, \"px;height:\").concat(ARROW_SIZE, \"px;position:absolute;}\"), \"div.top.__jsx-style-dynamic-selector{top:-\".concat(ARROW_SIZE / 2, \"px;}\"), \"div.right.__jsx-style-dynamic-selector{right:-\".concat(ARROW_SIZE / 2, \"px;}\"), \"div.bottom.__jsx-style-dynamic-selector{bottom:-\".concat(ARROW_SIZE / 2, \"px;}\"), \"div.left.__jsx-style-dynamic-selector{left:-\".concat(ARROW_SIZE / 2, \"px;}\"), \"div.hidden.__jsx-style-dynamic-selector{visibility:hidden;}\", \"div.__jsx-style-dynamic-selector::after{content:'';position:absolute;pointer-events:none;box-sizing:border-box;border-style:solid;border-width:\".concat(ARROW_SIZE / 2, \"px;border-color:transparent transparent \").concat(colors.white, \" \").concat(colors.white, \";box-shadow:-1px 1px 1px 0 rgba(64,75,90,0.08), -3px 3px 8px -6px rgba(64,75,90,0.15);}\"), \"div.bottom.__jsx-style-dynamic-selector::after{-webkit-transform:rotate(-45deg);-ms-transform:rotate(-45deg);transform:rotate(-45deg);}\", \"div.top.__jsx-style-dynamic-selector::after{-webkit-transform:rotate(135deg);-ms-transform:rotate(135deg);transform:rotate(135deg);}\", \"div.right.__jsx-style-dynamic-selector::after{-webkit-transform:rotate(-135deg);-ms-transform:rotate(-135deg);transform:rotate(-135deg);}\", \"div.left.__jsx-style-dynamic-selector::after{-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);}\"]));\n});\nArrow.displayName = 'Arrow';\nArrow.propTypes = {\n  hidden: PropTypes.bool,\n  popperPlacement: PropTypes.string,\n  styles: PropTypes.shape({\n    left: PropTypes.string,\n    position: PropTypes.string,\n    top: PropTypes.string,\n    transform: PropTypes.string\n  })\n};\nexport { Arrow, ARROW_SIZE };","import { getBaseModifiers } from '@dhis2-ui/popper';\nimport { ARROW_SIZE } from './arrow.js';\nconst BORDER_RADIUS = 4;\n\nconst computeArrowPadding = () => {\n  // pythagoras\n  const diagonal = Math.sqrt(2 * Math.pow(ARROW_SIZE, 2));\n  const overflowInPx = (diagonal - ARROW_SIZE) / 2;\n  const padding = BORDER_RADIUS + overflowInPx;\n  return Math.ceil(padding);\n};\n\nconst hideArrowWhenDisplaced = _ref => {\n  let {\n    state\n  } = _ref;\n  const halfArrow = ARROW_SIZE / 2;\n  const displacement = state.modifiersData.preventOverflow;\n  const referenceRect = state.rects.reference;\n  const shouldHideArrow = Math.abs(displacement.x) >= referenceRect.width + halfArrow || Math.abs(displacement.y) >= referenceRect.height + halfArrow;\n\n  if (typeof state.attributes.arrow !== 'object') {\n    state.attributes.arrow = {};\n  }\n\n  state.attributes.arrow['data-arrow-hidden'] = shouldHideArrow;\n  return state;\n};\n\nexport const combineModifiers = (arrow, arrowElement, resizeObservers) => {\n  const baseModifiers = getBaseModifiers(resizeObservers);\n\n  if (!arrow) {\n    return baseModifiers;\n  }\n\n  return [...baseModifiers, {\n    name: 'offset',\n    options: {\n      offset: [0, ARROW_SIZE]\n    }\n  }, {\n    name: 'arrow',\n    options: {\n      padding: computeArrowPadding(),\n      element: arrowElement\n    }\n  }, {\n    name: 'hideArrowWhenDisplaced',\n    enabled: true,\n    phase: 'main',\n    fn: hideArrowWhenDisplaced,\n    requires: ['preventOverflow']\n  }];\n};","import _JSXStyle from \"styled-jsx/style\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { Layer } from '@dhis2-ui/layer';\nimport { getReferenceElement, usePopper } from '@dhis2-ui/popper';\nimport { colors, elevations, sharedPropTypes } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React, { useState, useMemo } from 'react';\nimport { Arrow } from './arrow.js';\nimport { combineModifiers } from './modifiers.js';\n\nconst Popover = _ref => {\n  let {\n    children,\n    reference,\n    arrow,\n    className,\n    dataTest,\n    elevation,\n    maxWidth,\n    observePopperResize,\n    observeReferenceResize,\n    placement,\n    onClickOutside\n  } = _ref;\n  const referenceElement = getReferenceElement(reference);\n  const [popperElement, setPopperElement] = useState(null);\n  const [arrowElement, setArrowElement] = useState(null);\n  const modifiers = useMemo(() => combineModifiers(arrow, arrowElement, {\n    observePopperResize,\n    observeReferenceResize\n  }), [arrow, arrowElement, observePopperResize, observeReferenceResize]);\n  const {\n    styles,\n    attributes\n  } = usePopper(referenceElement, popperElement, {\n    placement,\n    modifiers\n  });\n  return /*#__PURE__*/React.createElement(Layer, {\n    onBackdropClick: onClickOutside\n  }, /*#__PURE__*/React.createElement(\"div\", _extends({\n    \"data-test\": dataTest,\n    ref: setPopperElement,\n    style: styles.popper\n  }, attributes.popper, {\n    className: _JSXStyle.dynamic([[\"632767479\", [maxWidth, elevation, colors.white]]]) + \" \" + (attributes.popper && attributes.popper.className != null && attributes.popper.className || className || \"\")\n  }), children, arrow && /*#__PURE__*/React.createElement(Arrow, {\n    hidden: attributes.arrow && attributes.arrow['data-arrow-hidden'],\n    popperPlacement: attributes.popper && attributes.popper['data-popper-placement'],\n    ref: setArrowElement,\n    styles: styles.arrow\n  }), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"632767479\",\n    dynamic: [maxWidth, elevation, colors.white]\n  }, [\"div.__jsx-style-dynamic-selector{max-width:\".concat(maxWidth, \"px;box-shadow:\").concat(elevation, \";background-color:\").concat(colors.white, \";border-radius:4px;}\")])));\n};\n\nPopover.defaultProps = {\n  arrow: true,\n  dataTest: 'dhis2-uicore-popover',\n  elevation: elevations.e200,\n  maxWidth: 360,\n  placement: 'top'\n};\nPopover.propTypes = {\n  children: PropTypes.node.isRequired,\n\n  /** Show or hide the arrow */\n  arrow: PropTypes.bool,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n\n  /** Box-shadow to create appearance of elevation.  Use `elevations` constants from the UI library. */\n  elevation: PropTypes.string,\n  maxWidth: PropTypes.number,\n  observePopperResize: PropTypes.bool,\n  observeReferenceResize: PropTypes.bool,\n  placement: sharedPropTypes.popperPlacementPropType,\n\n  /** A React ref that refers to the element the Popover should position against */\n  reference: sharedPropTypes.popperReferencePropType,\n  onClickOutside: PropTypes.func\n};\nexport { Popover };","//------------------------------------------------------------------------------\n// <auto-generated>\n// This code was generated by d2-i18n-generate.\n//\n// Changes to this file may cause incorrect behavior and will be lost if\n// the code is regenerated.\n// </auto-generated>\n//------------------------------------------------------------------------------\nimport i18n from '@dhis2/d2-i18n';\nimport arTranslations from './ar/translations.json';\nimport ar_IQTranslations from './ar_IQ/translations.json';\nimport ckbTranslations from './ckb/translations.json';\nimport csTranslations from './cs/translations.json';\nimport daTranslations from './da/translations.json';\nimport enTranslations from './en/translations.json';\nimport esTranslations from './es/translations.json';\nimport es_419Translations from './es_419/translations.json';\nimport frTranslations from './fr/translations.json';\nimport idTranslations from './id/translations.json';\nimport kmTranslations from './km/translations.json';\nimport loTranslations from './lo/translations.json';\nimport myTranslations from './my/translations.json';\nimport nbTranslations from './nb/translations.json';\nimport nlTranslations from './nl/translations.json';\nimport prsTranslations from './prs/translations.json';\nimport psTranslations from './ps/translations.json';\nimport ptTranslations from './pt/translations.json';\nimport pt_BRTranslations from './pt_BR/translations.json';\nimport ruTranslations from './ru/translations.json';\nimport svTranslations from './sv/translations.json';\nimport tetTranslations from './tet/translations.json';\nimport tgTranslations from './tg/translations.json';\nimport ukTranslations from './uk/translations.json';\nimport urTranslations from './ur/translations.json';\nimport uz_LatnTranslations from './uz_Latn/translations.json';\nimport uz_UZ_CyrlTranslations from './uz_UZ_Cyrl/translations.json';\nimport uz_UZ_LatnTranslations from './uz_UZ_Latn/translations.json';\nimport viTranslations from './vi/translations.json';\nimport zhTranslations from './zh/translations.json';\nimport zh_CNTranslations from './zh_CN/translations.json';\nconst namespace = 'default';\ni18n.addResources('ar', namespace, arTranslations);\ni18n.addResources('ar_IQ', namespace, ar_IQTranslations);\ni18n.addResources('ckb', namespace, ckbTranslations);\ni18n.addResources('cs', namespace, csTranslations);\ni18n.addResources('da', namespace, daTranslations);\ni18n.addResources('en', namespace, enTranslations);\ni18n.addResources('es', namespace, esTranslations);\ni18n.addResources('es_419', namespace, es_419Translations);\ni18n.addResources('fr', namespace, frTranslations);\ni18n.addResources('id', namespace, idTranslations);\ni18n.addResources('km', namespace, kmTranslations);\ni18n.addResources('lo', namespace, loTranslations);\ni18n.addResources('my', namespace, myTranslations);\ni18n.addResources('nb', namespace, nbTranslations);\ni18n.addResources('nl', namespace, nlTranslations);\ni18n.addResources('prs', namespace, prsTranslations);\ni18n.addResources('ps', namespace, psTranslations);\ni18n.addResources('pt', namespace, ptTranslations);\ni18n.addResources('pt_BR', namespace, pt_BRTranslations);\ni18n.addResources('ru', namespace, ruTranslations);\ni18n.addResources('sv', namespace, svTranslations);\ni18n.addResources('tet', namespace, tetTranslations);\ni18n.addResources('tg', namespace, tgTranslations);\ni18n.addResources('uk', namespace, ukTranslations);\ni18n.addResources('ur', namespace, urTranslations);\ni18n.addResources('uz_Latn', namespace, uz_LatnTranslations);\ni18n.addResources('uz_UZ_Cyrl', namespace, uz_UZ_CyrlTranslations);\ni18n.addResources('uz_UZ_Latn', namespace, uz_UZ_LatnTranslations);\ni18n.addResources('vi', namespace, viTranslations);\ni18n.addResources('zh', namespace, zhTranslations);\ni18n.addResources('zh_CN', namespace, zh_CNTranslations);\nexport default i18n;","import { Box } from '@dhis2-ui/box';\nimport { Field } from '@dhis2-ui/field';\nimport { sharedPropTypes } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { MultiSelect } from '../index.js';\nimport i18n from '../locales/index.js'; // TODO: translate\n\nconst translate = (prop, interpolationObject) => {\n  if (typeof prop === 'function') {\n    return prop(interpolationObject);\n  }\n\n  return prop;\n};\n\nclass MultiSelectField extends React.Component {\n  render() {\n    const {\n      className,\n      onChange,\n      onFocus,\n      onKeyDown,\n      onBlur,\n      required,\n      label,\n      valid,\n      error,\n      disabled,\n      warning,\n      loading,\n      selected,\n      tabIndex,\n      helpText,\n      validationText,\n      maxHeight,\n      inputMaxHeight,\n      inputWidth,\n      children,\n      clearable,\n      clearText,\n      filterable,\n      filterPlaceholder,\n      placeholder,\n      prefix,\n      empty,\n      loadingText,\n      noMatchText,\n      initialFocus,\n      dense,\n      dataTest\n    } = this.props;\n    return /*#__PURE__*/React.createElement(Field, {\n      className: className,\n      dataTest: dataTest,\n      disabled: disabled,\n      required: required,\n      label: label,\n      helpText: helpText,\n      validationText: validationText,\n      error: error,\n      warning: warning,\n      valid: valid\n    }, /*#__PURE__*/React.createElement(Box, {\n      width: inputWidth,\n      minWidth: \"100px\"\n    }, /*#__PURE__*/React.createElement(MultiSelect, {\n      selected: selected,\n      tabIndex: tabIndex,\n      maxHeight: maxHeight,\n      inputMaxHeight: inputMaxHeight,\n      onChange: onChange,\n      onFocus: onFocus,\n      onKeyDown: onKeyDown,\n      onBlur: onBlur,\n      loading: loading,\n      error: error,\n      warning: warning,\n      valid: valid,\n      disabled: disabled,\n      clearable: clearable,\n      clearText: translate(clearText),\n      filterable: filterable,\n      filterPlaceholder: translate(filterPlaceholder),\n      placeholder: placeholder,\n      prefix: prefix,\n      empty: translate(empty),\n      loadingText: translate(loadingText),\n      noMatchText: translate(noMatchText),\n      initialFocus: initialFocus,\n      dense: dense\n    }, children)));\n  }\n\n}\n\nMultiSelectField.defaultProps = {\n  selected: [],\n  dataTest: 'dhis2-uiwidgets-multiselectfield',\n  clearText: () => i18n.t('Clear'),\n  empty: () => i18n.t('No data found'),\n  filterPlaceholder: () => i18n.t('Type to filter options'),\n  loadingText: () => i18n.t('Loading options'),\n  noMatchText: () => i18n.t('No options found')\n};\nMultiSelectField.propTypes = {\n  /** Should be `MultiSelectOption` components */\n  children: PropTypes.node,\n  className: PropTypes.string,\n\n  /** Label for the button that clears selections */\n  clearText: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n\n  /** Adds a button to the MultiSelect that clears selections when pressed */\n  clearable: PropTypes.bool,\n  dataTest: PropTypes.string,\n\n  /** Makes the MultiSelect smaller */\n  dense: PropTypes.bool,\n\n  /** Disables the MultiSelect */\n  disabled: PropTypes.bool,\n\n  /** Text to display when there are no options */\n  empty: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n  /** Adds 'error' appearance for validation feedback. Mutually exclusive with 'valid' and 'warning' props */\n  error: sharedPropTypes.statusPropType,\n\n  /** Placeholder text to show in the filter field when it is empty */\n  filterPlaceholder: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n  /** Adds a field to filter options */\n  filterable: PropTypes.bool,\n\n  /** Useful guiding text to display below the MultiSelect */\n  helpText: PropTypes.string,\n\n  /** Grabs initial focus on the page */\n  initialFocus: PropTypes.bool,\n\n  /** Constrains the height of the input */\n  inputMaxHeight: PropTypes.string,\n\n  /** Sets the width of the input. Can be any valid CSS measurement */\n  inputWidth: PropTypes.string,\n\n  /** Text for the label above the MultiSelect */\n  label: PropTypes.string,\n\n  /** Applies a loading appearance to the dropdown options */\n  loading: PropTypes.bool,\n\n  /** Text to display when `loading` is true */\n  loadingText: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n\n  /** Constrains height of the MultiSelect */\n  maxHeight: PropTypes.string,\n\n  /** Text to display when there are no filter results */\n  noMatchText: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n\n  /** Placeholder text when the MultiSelect is empty */\n  placeholder: PropTypes.string,\n\n  /** Leading text to prefix selections */\n  prefix: PropTypes.string,\n\n  /** Indicates that a selection is required */\n  required: PropTypes.bool,\n\n  /** Selected items in the MultiSelect (each string should refer to the item's `value` attribute) */\n  selected: PropTypes.arrayOf(PropTypes.string),\n  tabIndex: PropTypes.string,\n\n  /** Adds 'valid' appearance for validation feedback. Mutually exclusive with 'error' and 'warning' props */\n  valid: sharedPropTypes.statusPropType,\n\n  /** Text to provide form validation feedback. Receives styles according to validation status */\n  validationText: PropTypes.string,\n\n  /** Adds 'warning' appearance for validation feedback. Mutually exclusive with 'valid' and 'error' props */\n  warning: sharedPropTypes.statusPropType,\n\n  /** Called with signature `({ selected: [String] }, event)` */\n  onBlur: PropTypes.func,\n\n  /** Called with signature `({ selected: [String] }, event)` */\n  onChange: PropTypes.func,\n\n  /** Called with signature `({ selected: [String] }, event)` */\n  onFocus: PropTypes.func,\n\n  /** Called with signature `({ selected: [String] }, event)` */\n  onKeyDown: PropTypes.func\n};\nexport { MultiSelectField };","import _JSXStyle from \"styled-jsx/style\";\nimport { Checkbox } from '@dhis2-ui/checkbox';\nimport { colors, spacers } from '@dhis2/ui-constants';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n// Padding has to be set on the label, so that the entire area is clickable\nconst {\n  styles,\n  className: checkboxClassname\n} = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2013783366\"\n  }, [\".jsx-2013783366{padding:\".concat(spacers.dp8, \" \").concat(spacers.dp12, \";}\")]),\n  className: \"jsx-2013783366\"\n};\n\nconst MultiSelectOption = _ref => {\n  let {\n    label,\n    active,\n    disabled,\n    onClick,\n    className,\n    dataTest,\n    value\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    \"data-value\": value,\n    \"data-label\": label,\n    className: _JSXStyle.dynamic([[\"3813980210\", [colors.grey200]]]) + \" \" + (cx(className, {\n      disabled\n    }) || \"\")\n  }, /*#__PURE__*/React.createElement(Checkbox, {\n    name: label,\n    className: checkboxClassname,\n    checked: active,\n    label: label,\n    onChange: onClick,\n    disabled: disabled,\n    dense: true\n  }), styles, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3813980210\",\n    dynamic: [colors.grey200]\n  }, [\"div.__jsx-style-dynamic-selector:hover{background-color:\".concat(colors.grey200, \";}\"), \"div.disabled.__jsx-style-dynamic-selector:hover{background-color:initial;}\"]));\n};\n\nMultiSelectOption.defaultProps = {\n  dataTest: 'dhis2-uicore-multiselectoption'\n};\nMultiSelectOption.propTypes = {\n  label: PropTypes.string.isRequired,\n  value: PropTypes.string.isRequired,\n  active: PropTypes.bool,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n  disabled: PropTypes.bool,\n  onClick: PropTypes.func\n};\nexport { MultiSelectOption };","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Empty, filterIgnored, checkIfValidOption, removeOption, findOption } from '../select/index.js';\n\nconst onDisabledClick = (_, e) => {\n  e.stopPropagation();\n  e.preventDefault();\n};\n\nconst createHandler = _ref => {\n  let {\n    isActive,\n    onChange,\n    selected,\n    value\n  } = _ref;\n  return (_, e) => {\n    e.stopPropagation(); // If the option is currently selected remove it from the array of selected options\n\n    if (isActive) {\n      const filtered = removeOption(value, selected);\n      const data = {\n        selected: filtered\n      };\n      return onChange(data, e);\n    } // Otherwise, add it to selected\n\n\n    const data = {\n      selected: selected.concat([value])\n    };\n    return onChange(data, e);\n  };\n};\n\nconst Menu = _ref2 => {\n  let {\n    options,\n    onChange,\n    selected,\n    empty,\n    dataTest\n  } = _ref2;\n  const renderedOptions = filterIgnored(options);\n\n  if (React.Children.count(renderedOptions) === 0) {\n    // If it's a string, supply it to our <Empty> component so it looks better\n    if (typeof empty === 'string') {\n      return /*#__PURE__*/React.createElement(Empty, {\n        message: empty,\n        dataTest: \"\".concat(dataTest, \"-empty\")\n      });\n    } // Otherwise just render the supplied markup\n\n\n    return empty;\n  }\n\n  const children = React.Children.map(options, child => {\n    const isValidOption = checkIfValidOption(child); // Return early if the child isn't an option, to prevent attaching handlers etc.\n\n    if (!isValidOption) {\n      return child;\n    }\n\n    const {\n      value,\n      label,\n      disabled: isDisabled\n    } = child.props; // Active means the option is currently selected\n\n    const isActive = !!findOption(value, selected); // Create the appropriate click handler for the option\n\n    const onClick = isDisabled ? onDisabledClick : createHandler({\n      isActive,\n      onChange,\n      selected,\n      value,\n      label\n    });\n    return /*#__PURE__*/React.cloneElement(child, { ...child.props,\n      onClick,\n      active: isActive\n    });\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, children);\n};\n\nMenu.defaultProps = {\n  empty: ''\n};\nMenu.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  empty: PropTypes.node,\n  options: PropTypes.node,\n  selected: PropTypes.arrayOf(PropTypes.string),\n  onChange: PropTypes.func\n};\nexport { Menu };","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { FilterableMenu as CommonFilterableMenu } from '../select/index.js';\nimport { Menu } from './menu.js';\n\nconst FilterableMenu = _ref => {\n  let {\n    dataTest,\n    options,\n    onChange,\n    selected,\n    empty,\n    handleClose,\n    handleFocusInput,\n    placeholder,\n    noMatchText\n  } = _ref;\n  return /*#__PURE__*/React.createElement(CommonFilterableMenu, {\n    dataTest: dataTest,\n    options: options,\n    onChange: onChange,\n    selected: selected,\n    empty: empty,\n    handleClose: handleClose,\n    handleFocusInput: handleFocusInput,\n    placeholder: placeholder,\n    noMatchText: noMatchText,\n    Menu: Menu\n  });\n};\n\nFilterableMenu.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  noMatchText: PropTypes.string.isRequired,\n  empty: PropTypes.node,\n  handleClose: PropTypes.func,\n  handleFocusInput: PropTypes.func,\n  options: PropTypes.node,\n  placeholder: PropTypes.string,\n  selected: PropTypes.arrayOf(PropTypes.string),\n  onChange: PropTypes.func\n};\nexport { FilterableMenu };","import _JSXStyle from \"styled-jsx/style\";\nimport { spacers } from '@dhis2/ui-constants';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport const Content = _ref => {\n  let {\n    children,\n    overflow\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"span\", {\n    className: _JSXStyle.dynamic([[\"765109298\", [spacers.dp12]]]) + \" \" + (cx({\n      overflow\n    }) || \"\")\n  }, children, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"765109298\",\n    dynamic: [spacers.dp12]\n  }, [\"span.__jsx-style-dynamic-selector{margin:0 \".concat(spacers.dp12, \";color:inherit;white-space:nowrap;}\"), \".overflow.__jsx-style-dynamic-selector{max-width:150px;overflow:hidden;text-overflow:ellipsis;}\"]));\n};\nContent.propTypes = {\n  children: PropTypes.any,\n  overflow: PropTypes.bool\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { spacers } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport const Icon = _ref => {\n  let {\n    icon,\n    dataTest\n  } = _ref;\n\n  if (!icon) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(\"span\", {\n    \"data-test\": dataTest,\n    className: _JSXStyle.dynamic([[\"2159848327\", [spacers.dp4]]])\n  }, icon, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2159848327\",\n    dynamic: [spacers.dp4]\n  }, [\"span.__jsx-style-dynamic-selector{width:24px;height:24px;margin-left:\".concat(spacers.dp4, \";margin-right:-6px;border-radius:50%;overflow:hidden;}\"), \"span.__jsx-style-dynamic-selector>*{max-height:24px;max-width:24px;}\"]));\n};\nIcon.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n\n  /** the slot for an icon is 24x24px, bigger elements will be clipped */\n  icon: PropTypes.element\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { colors } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nfunction CancelOutline(_ref) {\n  let {\n    className\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 16 16\",\n    className: \"jsx-2898942518\" + \" \" + (className || \"\")\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.2928932,3.29289322 L12.7071068,4.70710678 L9.41389322,7.99989322 L12.7071068,11.2928932 L11.2928932,12.7071068 L7.99989322,9.41389322 L4.70710678,12.7071068 L3.29289322,11.2928932 L6.58589322,7.99989322 L3.29289322,4.70710678 L4.70710678,3.29289322 L7.99989322,6.58589322 L11.2928932,3.29289322 Z\",\n    className: \"jsx-2898942518\"\n  }), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2898942518\"\n  }, [\"svg.jsx-2898942518{fill:inherit;height:16px;width:16px;vertical-align:middle;pointer-events:none;}\"]));\n}\n\nCancelOutline.propTypes = {\n  className: PropTypes.string\n};\nconst containerStyle = [\"span.jsx-1924786287{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:20px;width:20px;margin-right:4px;border-radius:12px;margin-left:-8px;}\", \"span.jsx-1924786287:hover{background:\".concat(colors.grey400, \";}\")];\ncontainerStyle.__hash = \"1924786287\";\nconst removeIcon = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2658726446\"\n  }, [\"svg.jsx-2658726446{fill:\".concat(colors.grey600, \";height:16px;width:16px;cursor:pointer;opacity:1;pointer-events:all;}\")]),\n  className: \"jsx-2658726446\"\n};\nexport const Remove = _ref2 => {\n  let {\n    onRemove,\n    dataTest\n  } = _ref2;\n\n  if (!onRemove) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(\"span\", {\n    onClick: e => {\n      e.stopPropagation(); // stop onRemove from triggering onClick on container\n\n      onRemove({}, e);\n    },\n    \"data-test\": dataTest,\n    className: \"jsx-\".concat(containerStyle.__hash)\n  }, /*#__PURE__*/React.createElement(CancelOutline, {\n    className: removeIcon.className\n  }), removeIcon.styles, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: containerStyle.__hash\n  }, containerStyle));\n};\nRemove.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  onRemove: PropTypes.func\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { colors, theme } from '@dhis2/ui-constants';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Content } from './content.js';\nimport { Icon } from './icon.js';\nimport { Remove } from './remove.js';\n\nconst Chip = _ref => {\n  let {\n    selected,\n    dense,\n    disabled,\n    dragging,\n    overflow,\n    className,\n    children,\n    onRemove,\n    onClick,\n    icon,\n    dataTest,\n    marginBottom,\n    marginLeft,\n    marginRight,\n    marginTop\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"span\", {\n    onClick: e => {\n      if (!disabled && onClick) {\n        onClick({}, e);\n      }\n    },\n    \"data-test\": dataTest,\n    className: _JSXStyle.dynamic([[\"3780556490\", [colors.grey200, colors.grey900, colors.grey300, theme.secondary600, colors.white]], [\"2231360490\", [marginBottom && \"margin-bottom: \".concat(marginBottom, \"px;\"), marginLeft && \"margin-left: \".concat(marginLeft, \"px;\"), marginRight && \"margin-right: \".concat(marginRight, \"px;\"), marginTop && \"margin-top: \".concat(marginTop, \"px\")]]]) + \" \" + (cx(className, {\n      selected,\n      dense,\n      disabled,\n      dragging\n    }) || \"\")\n  }, /*#__PURE__*/React.createElement(Icon, {\n    icon: icon,\n    dataTest: \"\".concat(dataTest, \"-icon\")\n  }), /*#__PURE__*/React.createElement(Content, {\n    overflow: overflow\n  }, children), /*#__PURE__*/React.createElement(Remove, {\n    onRemove: onRemove,\n    dataTest: \"\".concat(dataTest, \"-remove\")\n  }), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3780556490\",\n    dynamic: [colors.grey200, colors.grey900, colors.grey300, theme.secondary600, colors.white]\n  }, [\"span.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:32px;border-radius:16px;background-color:\".concat(colors.grey200, \";font-size:14px;line-height:16px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:\").concat(colors.grey900, \";}\"), \".dense.__jsx-style-dynamic-selector{height:24px;font-size:13px;line-height:15px;}\", \"span.__jsx-style-dynamic-selector:hover{background-color:\".concat(colors.grey300, \";}\"), \".selected.__jsx-style-dynamic-selector{background-color:\".concat(theme.secondary600, \";font-weight:500;}\"), \".selected.__jsx-style-dynamic-selector:hover{background-color:#00695c;}\", \".selected.__jsx-style-dynamic-selector,.selected.__jsx-style-dynamic-selector .icon.__jsx-style-dynamic-selector,.selected.__jsx-style-dynamic-selector .remove-icon.__jsx-style-dynamic-selector{color:\".concat(colors.white, \";}\"), \".disabled.__jsx-style-dynamic-selector{cursor:not-allowed;opacity:0.3;}\", \".disabled.__jsx-style-dynamic-selector .remove-icon.__jsx-style-dynamic-selector{pointer-events:none;}\", \".dragging.__jsx-style-dynamic-selector{box-shadow:0 3px 1px -2px rgba(0,0,0,0.2), 0 2px 2px 0 rgba(0,0,0,0.14), 0 1px 5px 0 rgba(0,0,0,0.12);}\"]), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2231360490\",\n    dynamic: [marginBottom && \"margin-bottom: \".concat(marginBottom, \"px;\"), marginLeft && \"margin-left: \".concat(marginLeft, \"px;\"), marginRight && \"margin-right: \".concat(marginRight, \"px;\"), marginTop && \"margin-top: \".concat(marginTop, \"px\")]\n  }, [\"span.__jsx-style-dynamic-selector{\".concat(marginBottom && \"margin-bottom: \".concat(marginBottom, \"px;\"), \" \").concat(marginLeft && \"margin-left: \".concat(marginLeft, \"px;\"), \" \").concat(marginRight && \"margin-right: \".concat(marginRight, \"px;\"), \" \").concat(marginTop && \"margin-top: \".concat(marginTop, \"px\"), \";}\")]));\n};\n\nChip.defaultProps = {\n  dataTest: 'dhis2-uicore-chip',\n  marginBottom: 4,\n  marginLeft: 4,\n  marginRight: 4,\n  marginTop: 4\n};\nChip.propTypes = {\n  children: PropTypes.any,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n  dense: PropTypes.bool,\n  disabled: PropTypes.bool,\n  dragging: PropTypes.bool,\n  icon: PropTypes.element,\n\n  /** `margin-bottom` value, applied in `px`  */\n  marginBottom: PropTypes.number,\n\n  /** `margin-left` value, applied in `px`  */\n  marginLeft: PropTypes.number,\n\n  /** `margin-right` value, applied in `px`  */\n  marginRight: PropTypes.number,\n\n  /** `margin-top` value, applied in `px`  */\n  marginTop: PropTypes.number,\n  overflow: PropTypes.bool,\n  selected: PropTypes.bool,\n  onClick: PropTypes.func,\n  onRemove: PropTypes.func\n};\nexport { Chip };","import { Chip } from '@dhis2-ui/chip';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { removeOption, findOptionChild } from '../select/index.js';\n\nconst createRemoveHandler = _ref => {\n  let {\n    selected,\n    onChange,\n    value\n  } = _ref;\n  return (_, e) => {\n    const filtered = removeOption(value, selected);\n    const data = {\n      selected: filtered\n    };\n    onChange(data, e);\n  };\n};\n\nconst SelectionList = _ref2 => {\n  let {\n    selected,\n    onChange,\n    disabled,\n    options\n  } = _ref2;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, selected.map(value => {\n    const isProduction = process.env.NODE_ENV === 'production';\n    const selectedOption = findOptionChild(value, options);\n\n    if (!selectedOption) {\n      const message = \"There is no option with the value: \\\"\".concat(value, \"\\\". \") + 'Make sure that all the values passed to the selected ' + 'prop match the value of an existing option.';\n\n      if (isProduction) {\n        // Don't crash the app if in production\n        console.error(message);\n      } else {\n        // Throw error if not in production for maximum visibility\n        throw new Error(message);\n      }\n    }\n\n    const isDisabled = selectedOption ? // The chip should be disabled if the option or the select are disabled\n    selectedOption.props.disabled || disabled : // If there is no selected option, just look at the select\n    disabled; // Use the selected value if we do not have a label\n\n    const label = selectedOption ? selectedOption.props.label : value; // Create an onRemove handler, but only if it's not disabled\n\n    const onRemove = isDisabled ? undefined : createRemoveHandler({\n      selected,\n      onChange,\n      value\n    });\n    return /*#__PURE__*/React.createElement(Chip, {\n      key: value,\n      onRemove: onRemove,\n      disabled: isDisabled,\n      marginBottom: 0,\n      marginLeft: 0,\n      marginTop: 0,\n      marginRight: 0,\n      overflow: true,\n      dense: true\n    }, label);\n  }));\n};\n\nSelectionList.propTypes = {\n  disabled: PropTypes.bool,\n  options: PropTypes.node,\n  selected: PropTypes.arrayOf(PropTypes.string),\n  onChange: PropTypes.func\n};\nexport { SelectionList };","import _JSXStyle from \"styled-jsx/style\";\nimport { requiredIf } from '@dhis2/prop-types';\nimport { colors } from '@dhis2/ui-constants';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { InputClearButton, InputPlaceholder, InputPrefix } from '../select/index.js';\nimport { SelectionList } from './selection-list.js';\n\nconst Input = _ref => {\n  let {\n    selected,\n    onChange,\n    clearable,\n    clearText,\n    placeholder,\n    dataTest,\n    prefix,\n    options,\n    className,\n    disabled,\n    inputMaxHeight\n  } = _ref;\n  const hasSelection = selected.length > 0;\n\n  const onClear = (_, e) => {\n    const data = {\n      selected: []\n    };\n    e.stopPropagation();\n    onChange(data, e);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"691091786\", [colors.grey900]], [\"1331770409\", [inputMaxHeight]]]) + \" \" + (cx('root', className) || \"\")\n  }, /*#__PURE__*/React.createElement(InputPrefix, {\n    prefix: prefix,\n    dataTest: \"\".concat(dataTest, \"-prefix\")\n  }), !hasSelection && !prefix && /*#__PURE__*/React.createElement(InputPlaceholder, {\n    placeholder: placeholder,\n    dataTest: \"\".concat(dataTest, \"-placeholder\")\n  }), hasSelection && /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"691091786\", [colors.grey900]], [\"1331770409\", [inputMaxHeight]]]) + \" \" + \"root-input\"\n  }, /*#__PURE__*/React.createElement(SelectionList, {\n    selected: selected,\n    onChange: onChange,\n    options: options,\n    disabled: disabled\n  })), hasSelection && clearable && !disabled && /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"691091786\", [colors.grey900]], [\"1331770409\", [inputMaxHeight]]]) + \" \" + \"root-right\"\n  }, /*#__PURE__*/React.createElement(InputClearButton, {\n    onClear: onClear,\n    clearText: clearText,\n    dataTest: \"\".concat(dataTest, \"-clear\")\n  })), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"691091786\",\n    dynamic: [colors.grey900]\n  }, [\".root.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:\".concat(colors.grey900, \";font-size:14px;line-height:16px;}\"), \".root-input.__jsx-style-dynamic-selector{overflow-y:auto;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:wrap;-ms-flex-flow:wrap;flex-flow:wrap;gap:4px;}\", \".root-right.__jsx-style-dynamic-selector{margin-left:auto;margin-right:10px;}\"]), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1331770409\",\n    dynamic: [inputMaxHeight]\n  }, [\".root-input.__jsx-style-dynamic-selector{max-height:\".concat(inputMaxHeight, \";}\")]));\n};\n\nInput.defaultProps = {\n  inputMaxHeight: '100px'\n};\nInput.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  className: PropTypes.string,\n  clearText: requiredIf(props => props.clearable, PropTypes.string),\n  clearable: PropTypes.bool,\n  disabled: PropTypes.bool,\n  inputMaxHeight: PropTypes.string,\n  options: PropTypes.node,\n  placeholder: PropTypes.string,\n  prefix: PropTypes.string,\n  selected: PropTypes.arrayOf(PropTypes.string),\n  onChange: PropTypes.func\n};\nexport { Input };","import _JSXStyle from \"styled-jsx/style\";\nimport { StatusIcon } from '@dhis2-ui/status-icon';\nimport { requiredIf } from '@dhis2/prop-types';\nimport { spacers, sharedPropTypes } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Loading as CommonLoading, Select } from '../select/index.js';\nimport { FilterableMenu } from './filterable-menu.js';\nimport { Input } from './input.js';\nimport { Menu } from './menu.js';\n\nconst MultiSelect = _ref => {\n  let {\n    className,\n    selected,\n    tabIndex,\n    maxHeight,\n    inputMaxHeight,\n    onChange,\n    onFocus,\n    onKeyDown,\n    onBlur,\n    loading,\n    error,\n    warning,\n    valid,\n    disabled,\n    children,\n    clearable,\n    clearText,\n    filterable,\n    filterPlaceholder,\n    placeholder,\n    prefix,\n    empty,\n    loadingText,\n    noMatchText,\n    initialFocus,\n    dense,\n    dataTest\n  } = _ref;\n  // If the select is filterable, use a filterable menu\n  const menu = filterable ? /*#__PURE__*/React.createElement(FilterableMenu, {\n    dataTest: dataTest,\n    empty: empty,\n    noMatchText: noMatchText,\n    placeholder: filterPlaceholder\n  }) : /*#__PURE__*/React.createElement(Menu, {\n    empty: empty,\n    dataTest: dataTest\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    className: _JSXStyle.dynamic([[\"2180377457\", [spacers.dp8]]]) + \" \" + \"root\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"2180377457\", [spacers.dp8]]]) + \" \" + \"root-input\"\n  }, /*#__PURE__*/React.createElement(Select, {\n    className: className,\n    selected: selected,\n    input: /*#__PURE__*/React.createElement(Input, {\n      clearable: clearable,\n      clearText: clearText,\n      dataTest: dataTest,\n      placeholder: placeholder,\n      prefix: prefix,\n      inputMaxHeight: inputMaxHeight\n    }),\n    menu: menu,\n    tabIndex: tabIndex,\n    maxHeight: maxHeight,\n    onChange: onChange,\n    onFocus: onFocus,\n    onKeyDown: onKeyDown,\n    onBlur: onBlur,\n    error: error,\n    warning: warning,\n    valid: valid,\n    disabled: disabled,\n    initialFocus: initialFocus,\n    dense: dense\n  }, children, loading && /*#__PURE__*/React.createElement(CommonLoading, {\n    message: loadingText,\n    dataTest: \"\".concat(dataTest, \"-loading\")\n  }))), /*#__PURE__*/React.createElement(StatusIcon, {\n    error: error,\n    valid: valid,\n    warning: warning\n  }), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2180377457\",\n    dynamic: [spacers.dp8]\n  }, [\".root.__jsx-style-dynamic-selector{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;gap:\".concat(spacers.dp8, \";}\"), \".root-input.__jsx-style-dynamic-selector{-webkit-flex:1;-ms-flex:1;flex:1;}\"]));\n};\n\nMultiSelect.defaultProps = {\n  selected: [],\n  dataTest: 'dhis2-uicore-multiselect'\n};\nMultiSelect.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n\n  /** Required if `clearable` prop is `true` */\n  clearText: requiredIf(props => props.clearable, PropTypes.string),\n\n  /** Adds a 'clear' option to the menu */\n  clearable: PropTypes.bool,\n  dataTest: PropTypes.string,\n  dense: PropTypes.bool,\n  disabled: PropTypes.bool,\n  empty: PropTypes.node,\n  error: sharedPropTypes.statusPropType,\n  filterPlaceholder: PropTypes.string,\n\n  /** Adds a 'filter' field to the menu */\n  filterable: PropTypes.bool,\n  initialFocus: PropTypes.bool,\n  inputMaxHeight: PropTypes.string,\n  loading: PropTypes.bool,\n  loadingText: PropTypes.string,\n  maxHeight: PropTypes.string,\n\n  /** Required if `filterable` prop is `true` */\n  noMatchText: requiredIf(props => props.filterable, PropTypes.string),\n  placeholder: PropTypes.string,\n  prefix: PropTypes.string,\n  selected: PropTypes.arrayOf(PropTypes.string),\n  tabIndex: PropTypes.string,\n  valid: sharedPropTypes.statusPropType,\n  warning: sharedPropTypes.statusPropType,\n  onBlur: PropTypes.func,\n  onChange: PropTypes.func,\n  onFocus: PropTypes.func,\n  onKeyDown: PropTypes.func\n};\nexport { MultiSelect };","import _JSXStyle from \"styled-jsx/style\";\nimport { colors, spacers, theme } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nconst Empty = _ref => {\n  let {\n    message,\n    className,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    className: _JSXStyle.dynamic([[\"3788156646\", [colors.grey700, theme.fonts, spacers.dp8, spacers.dp24]]]) + \" \" + (className || \"\")\n  }, message, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3788156646\",\n    dynamic: [colors.grey700, theme.fonts, spacers.dp8, spacers.dp24]\n  }, [\"div.__jsx-style-dynamic-selector{color:\".concat(colors.grey700, \";font-family:\").concat(theme.fonts, \";font-size:13px;line-height:16px;padding-block:\").concat(spacers.dp8, \";padding-inline:\").concat(spacers.dp24, \";text-align:center;}\")]));\n};\n\nEmpty.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  message: PropTypes.string.isRequired,\n  className: PropTypes.string\n};\nexport { Empty };","import _JSXStyle from \"styled-jsx/style\";\nimport { Input } from '@dhis2-ui/input';\nimport { spacers, colors } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nconst FilterInput = _ref => {\n  let {\n    value,\n    onChange,\n    placeholder,\n    className,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"730881408\", [colors.white, spacers.dp8, spacers.dp8, spacers.dp4, spacers.dp8]]]) + \" \" + (className || \"\")\n  }, /*#__PURE__*/React.createElement(Input, {\n    dense: true,\n    dataTest: dataTest,\n    value: value,\n    onChange: onChange,\n    type: \"text\",\n    name: \"filter\",\n    placeholder: placeholder,\n    initialFocus: true\n  }), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"730881408\",\n    dynamic: [colors.white, spacers.dp8, spacers.dp8, spacers.dp4, spacers.dp8]\n  }, [\"div.__jsx-style-dynamic-selector{position:-webkit-sticky;position:sticky;-webkit-inset-block-start:0;-ms-intb-rlock-start:0;inset-block-start:0;background:\".concat(colors.white, \";padding-block-start:\").concat(spacers.dp8, \";padding-inline-end:\").concat(spacers.dp8, \";padding-block-end:\").concat(spacers.dp4, \";padding-inline-start:\").concat(spacers.dp8, \";z-index:1;}\")]));\n};\n\nFilterInput.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  value: PropTypes.string.isRequired,\n  className: PropTypes.string,\n  placeholder: PropTypes.string,\n  onChange: PropTypes.func\n};\nexport { FilterInput };","import _JSXStyle from \"styled-jsx/style\";\nimport { colors, spacers, theme } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nconst NoMatch = _ref => {\n  let {\n    message,\n    className\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"3788156646\", [colors.grey700, theme.fonts, spacers.dp8, spacers.dp24]]]) + \" \" + (className || \"\")\n  }, message, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3788156646\",\n    dynamic: [colors.grey700, theme.fonts, spacers.dp8, spacers.dp24]\n  }, [\"div.__jsx-style-dynamic-selector{color:\".concat(colors.grey700, \";font-family:\").concat(theme.fonts, \";font-size:13px;line-height:16px;padding-block:\").concat(spacers.dp8, \";padding-inline:\").concat(spacers.dp24, \";text-align:center;}\")]));\n};\n\nNoMatch.propTypes = {\n  message: PropTypes.string.isRequired,\n  className: PropTypes.string\n};\nexport { NoMatch };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { FilterInput } from './filter-input.js';\nimport { NoMatch } from './no-match.js';\nimport { filterIgnored, checkIfValidOption } from './option-helpers.js';\nexport class FilterableMenu extends Component {\n  constructor() {\n    super(...arguments);\n\n    _defineProperty(this, \"state\", {\n      filter: ''\n    });\n\n    _defineProperty(this, \"onFilterChange\", _ref => {\n      let {\n        value\n      } = _ref;\n      this.setState({\n        filter: value\n      });\n    });\n  }\n\n  render() {\n    const {\n      dataTest,\n      options,\n      onChange,\n      selected,\n      empty,\n      handleClose,\n      handleFocusInput,\n      placeholder,\n      noMatchText,\n      Menu\n    } = this.props;\n    const {\n      filter\n    } = this.state;\n    const menuProps = {\n      onChange,\n      selected,\n      empty,\n      handleClose,\n      handleFocusInput,\n      dataTest\n    };\n    const renderedOptions = filterIgnored(options); // If there are no options or there's no filter, just pass everything through\n\n    if (React.Children.count(renderedOptions) === 0 || !filter) {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(FilterInput, {\n        dataTest: \"\".concat(dataTest, \"-filterinput\"),\n        placeholder: placeholder,\n        value: filter,\n        onChange: this.onFilterChange\n      }), /*#__PURE__*/React.createElement(Menu, _extends({}, menuProps, {\n        options: options\n      })));\n    }\n\n    const filtered = React.Children.map(options, child => {\n      const isValidOption = checkIfValidOption(child); // Filter it out if it's an invalid option\n\n      if (!isValidOption) {\n        return null;\n      }\n\n      const {\n        label\n      } = child.props; // Filter by label, because that's the part of an option that's displayed to the user\n\n      const match = label.toLowerCase().includes(filter.toLowerCase());\n      return match ? child : null;\n    });\n    const hasMatch = React.Children.count(filtered) > 0;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(FilterInput, {\n      dataTest: \"\".concat(dataTest, \"-filterinput\"),\n      placeholder: placeholder,\n      value: filter,\n      onChange: this.onFilterChange\n    }), hasMatch ? /*#__PURE__*/React.createElement(Menu, _extends({}, menuProps, {\n      options: filtered\n    })) : /*#__PURE__*/React.createElement(NoMatch, {\n      message: noMatchText\n    }));\n  }\n\n}\nFilterableMenu.propTypes = {\n  Menu: PropTypes.elementType.isRequired,\n  dataTest: PropTypes.string.isRequired,\n  noMatchText: PropTypes.string.isRequired,\n  selected: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]).isRequired,\n  empty: PropTypes.node,\n  handleClose: PropTypes.func,\n  handleFocusInput: PropTypes.func,\n  options: PropTypes.node,\n  placeholder: PropTypes.string,\n  onChange: PropTypes.func\n};","import { Button } from '@dhis2-ui/button';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nconst InputClearButton = _ref => {\n  let {\n    onClear,\n    clearText,\n    className,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(Button, {\n    small: true,\n    secondary: true,\n    dataTest: dataTest,\n    onClick: onClear,\n    type: \"button\",\n    className: className\n  }, clearText);\n};\n\nInputClearButton.propTypes = {\n  clearText: PropTypes.string.isRequired,\n  dataTest: PropTypes.string.isRequired,\n  onClear: PropTypes.func.isRequired,\n  className: PropTypes.string\n};\nexport { InputClearButton };","import _JSXStyle from \"styled-jsx/style\";\nimport { colors } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nconst InputPlaceholder = _ref => {\n  let {\n    placeholder,\n    className,\n    dataTest\n  } = _ref;\n\n  if (!placeholder) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    className: _JSXStyle.dynamic([[\"1027033961\", [colors.grey600]]]) + \" \" + (className || \"\")\n  }, placeholder, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1027033961\",\n    dynamic: [colors.grey600]\n  }, [\"div.__jsx-style-dynamic-selector{color:\".concat(colors.grey600, \";-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}\")]));\n};\n\nInputPlaceholder.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  className: PropTypes.string,\n  placeholder: PropTypes.string\n};\nexport { InputPlaceholder };","import _JSXStyle from \"styled-jsx/style\";\nimport { colors, spacers } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nconst InputPrefix = _ref => {\n  let {\n    prefix,\n    className,\n    dataTest\n  } = _ref;\n\n  if (!prefix) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    className: _JSXStyle.dynamic([[\"1343055987\", [colors.grey600, spacers.dp12]]]) + \" \" + (className || \"\")\n  }, prefix, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1343055987\",\n    dynamic: [colors.grey600, spacers.dp12]\n  }, [\"div.__jsx-style-dynamic-selector{color:\".concat(colors.grey600, \";padding-inline-end:\").concat(spacers.dp12, \";font-size:14px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}\")]));\n};\n\nInputPrefix.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  className: PropTypes.string,\n  prefix: PropTypes.string\n};\nexport { InputPrefix };","import _JSXStyle from \"styled-jsx/style\";\nimport { CircularLoader } from '@dhis2-ui/loader';\nimport { colors, spacers, theme } from '@dhis2/ui-constants';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport const Loading = _ref => {\n  let {\n    message,\n    className,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    className: _JSXStyle.dynamic([[\"3603755746\", [spacers.dp16, colors.grey700, theme.fonts, spacers.dp8, spacers.dp24]]]) + \" \" + (cx(className, 'container') || \"\")\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"3603755746\", [spacers.dp16, colors.grey700, theme.fonts, spacers.dp8, spacers.dp24]]])\n  }, /*#__PURE__*/React.createElement(CircularLoader, {\n    small: true\n  })), message, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3603755746\",\n    dynamic: [spacers.dp16, colors.grey700, theme.fonts, spacers.dp8, spacers.dp24]\n  }, [\".container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;gap:\".concat(spacers.dp16, \";-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;color:\").concat(colors.grey700, \";font-family:\").concat(theme.fonts, \";font-size:13px;padding-block:\").concat(spacers.dp8, \";padding-inline:\").concat(spacers.dp24, \";}\")]));\n};\nLoading.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  className: PropTypes.string,\n  message: PropTypes.string\n};","import React from 'react'; // Check whether an option is valid\n\nexport const checkIfValidOption = option => option && 'props' in option && 'value' in option.props && 'label' in option.props; // Filters all children that won't be rendered from an array of react children\n\nexport const filterIgnored = children => React.Children.toArray(children).filter(child => child !== null && child !== false && child !== undefined); // Find an option in an array of react children\n\nexport const findOptionChild = (value, optionChildren) => React.Children.toArray(optionChildren).find(currentOption => {\n  if (!currentOption.props) {\n    return false;\n  }\n\n  return value === currentOption.props.value;\n}); // Find an option in an array of option objects\n\nexport const findOption = (value, optionArray) => optionArray.find(optionValue => value === optionValue); // Remove a specific option from an array of options\n\nexport const removeOption = (value, optionArray) => optionArray.filter(optionValue => {\n  return optionValue !== value;\n});","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nfunction SvgChevronDown16(_ref) {\n  let {\n    color,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    width: 16,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M4.146 6.146a.5.5 0 01.638-.057l.07.057L8 9.293l3.146-3.147a.5.5 0 01.638-.057l.07.057a.5.5 0 01.057.638l-.057.07-3.5 3.5a.5.5 0 01-.638.057l-.07-.057-3.5-3.5a.5.5 0 010-.708z\",\n    fill: \"currentColor\"\n  }));\n}\n\nSvgChevronDown16.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default SvgChevronDown16;","import _JSXStyle from \"styled-jsx/style\";\nimport { colors, theme, sharedPropTypes } from '@dhis2/ui-constants';\nimport { IconChevronDown16 } from '@dhis2/ui-icons';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nconst InputWrapper = _ref => {\n  let {\n    dataTest,\n    onToggle,\n    children,\n    tabIndex,\n    error,\n    warning,\n    valid,\n    disabled,\n    dense,\n    className,\n    inputRef\n  } = _ref;\n  const classNames = cx(className, 'root', {\n    error,\n    warning,\n    valid,\n    disabled,\n    dense\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    onClick: onToggle,\n    tabIndex: tabIndex,\n    ref: inputRef,\n    \"data-test\": dataTest,\n    className: _JSXStyle.dynamic([[\"1568723238\", [colors.grey500, theme.focus, theme.focus, theme.valid, theme.warning, theme.error, colors.grey100, colors.grey500, theme.disabled]]]) + \" \" + (classNames || \"\")\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"1568723238\", [colors.grey500, theme.focus, theme.focus, theme.valid, theme.warning, theme.error, colors.grey100, colors.grey500, theme.disabled]]]) + \" \" + \"root-children\"\n  }, children), /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"1568723238\", [colors.grey500, theme.focus, theme.focus, theme.valid, theme.warning, theme.error, colors.grey100, colors.grey500, theme.disabled]]]) + \" \" + \"root-right\"\n  }, /*#__PURE__*/React.createElement(IconChevronDown16, null)), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1568723238\",\n    dynamic: [colors.grey500, theme.focus, theme.focus, theme.valid, theme.warning, theme.error, colors.grey100, colors.grey500, theme.disabled]\n  }, [\".root.__jsx-style-dynamic-selector{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:white;border-radius:3px;border:1px solid \".concat(colors.grey500, \";box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;min-height:40px;padding-block:6px;padding-inline:12px;box-shadow:inset 0 0 1px 0 rgba(48,54,60,0.1);}\"), \".root.__jsx-style-dynamic-selector:not(.disabled):focus,.root.__jsx-style-dynamic-selector:not(.disabled):active{outline:none;box-shadow:inset 0 0 0 2px \".concat(theme.focus, \";border-color:\").concat(theme.focus, \";}\"), \".root.valid.__jsx-style-dynamic-selector{border-color:\".concat(theme.valid, \";}\"), \".root.warning.__jsx-style-dynamic-selector{border-color:\".concat(theme.warning, \";}\"), \".root.error.__jsx-style-dynamic-selector{border-color:\".concat(theme.error, \";}\"), \".root.disabled.__jsx-style-dynamic-selector{background-color:\".concat(colors.grey100, \";border-color:\").concat(colors.grey500, \";color:\").concat(theme.disabled, \";cursor:not-allowed;}\"), \".root.dense.__jsx-style-dynamic-selector{padding-block:2px;padding-inline:8px;min-height:32px;}\", \".root-children.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}\", \".root-right.__jsx-style-dynamic-selector{margin-block-start:4px;margin-inline-start:8px;}\"]));\n};\n\nInputWrapper.defaultProps = {\n  tabIndex: '0'\n};\nInputWrapper.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  inputRef: PropTypes.object.isRequired,\n  tabIndex: PropTypes.string.isRequired,\n  onToggle: PropTypes.func.isRequired,\n  children: PropTypes.element,\n  className: PropTypes.string,\n  dense: PropTypes.bool,\n  disabled: PropTypes.bool,\n  error: sharedPropTypes.statusPropType,\n  valid: sharedPropTypes.statusPropType,\n  warning: sharedPropTypes.statusPropType\n};\nexport { InputWrapper };","import _JSXStyle from \"styled-jsx/style\";\nimport { Layer } from '@dhis2-ui/layer';\nimport { Popper } from '@dhis2-ui/popper';\nimport { colors, elevations } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nconst MenuWrapper = _ref => {\n  let {\n    children,\n    dataTest,\n    maxHeight,\n    menuWidth,\n    onClick,\n    selectRef\n  } = _ref;\n  return /*#__PURE__*/React.createElement(Layer, {\n    onBackdropClick: onClick,\n    transparent: true\n  }, /*#__PURE__*/React.createElement(Popper, {\n    reference: selectRef,\n    placement: \"bottom-start\",\n    observeReferenceResize: true\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": \"\".concat(dataTest, \"-menuwrapper\"),\n    className: _JSXStyle.dynamic([[\"1363246346\", [menuWidth, maxHeight, colors.white, colors.grey200, elevations.e300]]])\n  }, children, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1363246346\",\n    dynamic: [menuWidth, maxHeight, colors.white, colors.grey200, elevations.e300]\n  }, [\"div.__jsx-style-dynamic-selector{width:\".concat(menuWidth, \";height:auto;max-height:\").concat(maxHeight, \";overflow:auto;background:\").concat(colors.white, \";border:1px solid \").concat(colors.grey200, \";border-radius:3px;box-shadow:\").concat(elevations.e300, \";}\")]))));\n};\n\nMenuWrapper.defaultProps = {\n  maxHeight: '280px'\n};\nMenuWrapper.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  menuWidth: PropTypes.string.isRequired,\n  selectRef: PropTypes.object.isRequired,\n  children: PropTypes.node,\n  maxHeight: PropTypes.string,\n  onClick: PropTypes.func\n};\nexport { MenuWrapper };","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { sharedPropTypes } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { debounce } from './debounce/debounce.js';\nimport { InputWrapper } from './input-wrapper.js';\nimport { MenuWrapper } from './menu-wrapper.js'; // Keycodes for the keypress event handlers\n\nconst ESCAPE_KEY = 27;\nconst SPACE_KEY = 32;\nconst UP_KEY = 38;\nconst DOWN_KEY = 40;\nexport class Select extends Component {\n  constructor() {\n    super(...arguments);\n\n    _defineProperty(this, \"state\", {\n      open: false,\n      menuWidth: 'auto'\n    });\n\n    _defineProperty(this, \"selectRef\", /*#__PURE__*/React.createRef());\n\n    _defineProperty(this, \"inputRef\", /*#__PURE__*/React.createRef());\n\n    _defineProperty(this, \"onResize\", debounce(() => {\n      const menuWidth = this.getMenuWidth();\n\n      if (this.state.menuWidth !== menuWidth) {\n        this.setState({\n          menuWidth\n        });\n      }\n    }, 50));\n\n    _defineProperty(this, \"handleFocusInput\", () => {\n      this.inputRef.current.focus();\n    });\n\n    _defineProperty(this, \"onFocus\", e => {\n      const {\n        onFocus,\n        disabled,\n        selected\n      } = this.props;\n\n      if (disabled || !onFocus) {\n        return;\n      }\n\n      onFocus({\n        selected\n      }, e);\n    });\n\n    _defineProperty(this, \"handleOpen\", () => {\n      this.setState({\n        open: true,\n        menuWidth: this.getMenuWidth()\n      });\n    });\n\n    _defineProperty(this, \"handleClose\", () => {\n      this.setState({\n        open: false\n      });\n    });\n\n    _defineProperty(this, \"onToggle\", e => {\n      if (this.props.disabled) {\n        return;\n      }\n\n      e.stopPropagation();\n      this.state.open ? this.handleClose() : this.handleOpen();\n    });\n\n    _defineProperty(this, \"onOutsideClick\", e => {\n      const {\n        onBlur,\n        disabled,\n        selected\n      } = this.props;\n\n      if (disabled) {\n        return;\n      }\n\n      this.handleClose();\n\n      if (onBlur) {\n        onBlur({\n          selected\n        }, e);\n      }\n    });\n\n    _defineProperty(this, \"onKeyDown\", e => {\n      const {\n        onKeyDown,\n        disabled,\n        selected\n      } = this.props;\n\n      if (disabled) {\n        return;\n      }\n\n      if (onKeyDown) {\n        onKeyDown({\n          selected\n        }, e);\n      }\n\n      if (e.defaultPrevented) {\n        return;\n      }\n\n      e.stopPropagation();\n      const {\n        open\n      } = this.state;\n      const {\n        keyCode\n      } = e;\n      const shouldOpen = !open && (keyCode === SPACE_KEY || keyCode === UP_KEY || keyCode === DOWN_KEY);\n      const shouldClose = open && keyCode === ESCAPE_KEY;\n\n      if (shouldClose) {\n        return this.handleClose();\n      }\n\n      if (shouldOpen) {\n        return this.handleOpen();\n      }\n    });\n  }\n\n  componentDidMount() {\n    if (this.props.initialFocus) {\n      this.inputRef.current.focus();\n    }\n\n    this.setState({\n      menuWidth: this.getMenuWidth()\n    });\n    window.addEventListener('resize', this.onResize);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.onResize);\n  }\n  /**\n   * We're debouncing this so it doesn't fire continually during a resize.\n   *\n   * Additionally we should use requestPostAnimationFrame to not trigger a forced\n   * layout, but that's just a proposal, and the added complexity of solving this\n   * in another manner does not seem worth it, considering the minor perf penalty.\n   *\n   * See: https://nolanlawson.com/2018/09/25/accurately-measuring-layout-on-the-web\n   */\n\n\n  getMenuWidth() {\n    const {\n      offsetWidth\n    } = this.inputRef.current;\n    const {\n      menuWidth\n    } = this.state;\n\n    if (offsetWidth && \"\".concat(offsetWidth, \"px\") !== menuWidth) {\n      return \"\".concat(offsetWidth, \"px\");\n    }\n\n    return menuWidth;\n  }\n\n  render() {\n    const {\n      open,\n      menuWidth\n    } = this.state;\n    const {\n      children,\n      className,\n      selected,\n      onChange,\n      tabIndex,\n      maxHeight,\n      error,\n      warning,\n      valid,\n      disabled,\n      dense,\n      dataTest\n    } = this.props; // Create the input\n\n    const inputProps = {\n      selected,\n      onChange,\n      options: children,\n      disabled\n    };\n    const input = /*#__PURE__*/React.cloneElement(this.props.input, inputProps); // Create the menu\n\n    const menuProps = {\n      selected,\n      onChange,\n      options: children,\n      handleClose: this.handleClose,\n      handleFocusInput: this.handleFocusInput\n    };\n    const menu = /*#__PURE__*/React.cloneElement(this.props.menu, menuProps);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: className,\n      ref: this.selectRef,\n      onFocus: this.onFocus,\n      onKeyDown: this.onKeyDown,\n      \"data-test\": dataTest\n    }, /*#__PURE__*/React.createElement(InputWrapper, {\n      onToggle: this.onToggle,\n      inputRef: this.inputRef,\n      tabIndex: disabled ? '-1' : tabIndex,\n      error: error,\n      warning: warning,\n      valid: valid,\n      disabled: disabled,\n      dense: dense,\n      dataTest: \"\".concat(dataTest, \"-input\")\n    }, input), open && /*#__PURE__*/React.createElement(MenuWrapper, {\n      onClick: this.onOutsideClick,\n      maxHeight: maxHeight,\n      selectRef: this.selectRef,\n      menuWidth: menuWidth,\n      dataTest: \"\".concat(dataTest, \"-menu\")\n    }, menu));\n  }\n\n}\nSelect.defaultProps = {\n  dataTest: 'dhis2-uicore-select'\n};\nSelect.propTypes = {\n  input: PropTypes.element.isRequired,\n  menu: PropTypes.element.isRequired,\n  selected: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]).isRequired,\n  children: PropTypes.node,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n  dense: PropTypes.bool,\n  disabled: PropTypes.bool,\n  error: sharedPropTypes.statusPropType,\n  initialFocus: PropTypes.bool,\n  maxHeight: PropTypes.string,\n  tabIndex: PropTypes.string,\n  valid: sharedPropTypes.statusPropType,\n  warning: sharedPropTypes.statusPropType,\n  onBlur: PropTypes.func,\n  onChange: PropTypes.func,\n  onFocus: PropTypes.func,\n  onKeyDown: PropTypes.func\n};","var _this = this;\n\n/**\n * Returns a function, that, as long as it continues to be invoked, will not be triggered. The\n * function will be called after it stops being called for N milliseconds. If `immediate` is\n * passed, trigger the function on the leading edge, instead of the trailing.\n */\nexport const debounce = (func, wait, immediate) => {\n  let timeout;\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    const context = _this;\n\n    const later = () => {\n      timeout = null;\n\n      if (!immediate) {\n        func.apply(context, args);\n      }\n    };\n\n    const callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n\n    if (callNow) {\n      func.apply(context, args);\n    }\n  };\n};","import { Box } from '@dhis2-ui/box';\nimport { Field } from '@dhis2-ui/field';\nimport { sharedPropTypes } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { SingleSelect } from '../index.js';\nimport i18n from '../locales/index.js'; // TODO: translate\n\nconst translate = (prop, interpolationObject) => {\n  if (typeof prop === 'function') {\n    return prop(interpolationObject);\n  }\n\n  return prop;\n};\n\nclass SingleSelectField extends React.Component {\n  render() {\n    const {\n      className,\n      onChange,\n      onFocus,\n      onKeyDown,\n      onBlur,\n      required,\n      label,\n      valid,\n      error,\n      warning,\n      disabled,\n      loading,\n      selected,\n      tabIndex,\n      helpText,\n      validationText,\n      maxHeight,\n      inputMaxHeight,\n      inputWidth,\n      children,\n      clearable,\n      clearText,\n      filterable,\n      filterPlaceholder,\n      placeholder,\n      prefix,\n      empty,\n      loadingText,\n      noMatchText,\n      initialFocus,\n      dense,\n      dataTest\n    } = this.props;\n    return /*#__PURE__*/React.createElement(Field, {\n      className: className,\n      dataTest: dataTest,\n      disabled: disabled,\n      required: required,\n      label: label,\n      helpText: helpText,\n      validationText: validationText,\n      error: error,\n      warning: warning,\n      valid: valid\n    }, /*#__PURE__*/React.createElement(Box, {\n      width: inputWidth,\n      minWidth: \"100px\"\n    }, /*#__PURE__*/React.createElement(SingleSelect, {\n      selected: selected,\n      tabIndex: tabIndex,\n      maxHeight: maxHeight,\n      inputMaxHeight: inputMaxHeight,\n      onChange: onChange,\n      onFocus: onFocus,\n      onKeyDown: onKeyDown,\n      onBlur: onBlur,\n      loading: loading,\n      error: error,\n      warning: warning,\n      valid: valid,\n      disabled: disabled,\n      clearable: clearable,\n      clearText: translate(clearText),\n      filterable: filterable,\n      filterPlaceholder: translate(filterPlaceholder),\n      placeholder: placeholder,\n      prefix: prefix,\n      empty: translate(empty),\n      loadingText: translate(loadingText),\n      noMatchText: translate(noMatchText),\n      initialFocus: initialFocus,\n      dense: dense\n    }, children)));\n  }\n\n}\n\nSingleSelectField.defaultProps = {\n  dataTest: 'dhis2-uiwidgets-singleselectfield',\n  selected: '',\n  clearText: () => i18n.t('Clear'),\n  empty: () => i18n.t('No data found'),\n  filterPlaceholder: () => i18n.t('Type to filter options'),\n  loadingText: () => i18n.t('Loading options'),\n  noMatchText: () => i18n.t('No options found')\n};\nSingleSelectField.propTypes = {\n  /** Should be `SingleSelectOption` components */\n  children: PropTypes.node,\n  className: PropTypes.string,\n\n  /** Label for the button that clears selections */\n  clearText: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n\n  /** Adds a button to the SingleSelect that clears selections when pressed */\n  clearable: PropTypes.bool,\n  dataTest: PropTypes.string,\n\n  /** Makes the SingleSelect smaller */\n  dense: PropTypes.bool,\n\n  /** Disables the SingleSelect */\n  disabled: PropTypes.bool,\n\n  /** Text to display when there are no options */\n  empty: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n  /** Adds 'error' appearance for validation feedback. Mutually exclusive with 'valid' and 'warning' props */\n  error: sharedPropTypes.statusPropType,\n\n  /** Placeholder text to show in the filter field when it is empty */\n  filterPlaceholder: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n  /** Adds a field to filter options */\n  filterable: PropTypes.bool,\n\n  /** Useful guiding text to display below the SingleSelect */\n  helpText: PropTypes.string,\n\n  /** Grabs initial focus on the page */\n  initialFocus: PropTypes.bool,\n\n  /** Constrains the height of the input */\n  inputMaxHeight: PropTypes.string,\n\n  /** Sets the width of the input. Can be any valid CSS measurement */\n  inputWidth: PropTypes.string,\n\n  /** Text for the label above the SingleSelect */\n  label: PropTypes.string,\n\n  /** Applies a loading appearance to the dropdown options */\n  loading: PropTypes.bool,\n\n  /** Text to display when `loading` is true */\n  loadingText: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n\n  /** Constrains height of the SingleSelect */\n  maxHeight: PropTypes.string,\n\n  /** Text to display when there are no filter results */\n  noMatchText: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n\n  /** Placeholder text when the SingleSelect is empty */\n  placeholder: PropTypes.string,\n\n  /** Leading text to prefix selections */\n  prefix: PropTypes.string,\n\n  /** Indicates that a selection is required */\n  required: PropTypes.bool,\n\n  /** Selected item in the SingleSelect (the string should refer to the item's `value` attribute) */\n  selected: PropTypes.string,\n  tabIndex: PropTypes.string,\n\n  /** Adds 'valid' appearance for validation feedback. Mutually exclusive with 'error' and 'warning' props */\n  valid: sharedPropTypes.statusPropType,\n\n  /** Text to provide form validation feedback. Receives styles according to validation status */\n  validationText: PropTypes.string,\n\n  /** Adds 'warning' appearance for validation feedback. Mutually exclusive with 'valid' and 'error' props */\n  warning: sharedPropTypes.statusPropType,\n\n  /** Called with signature `({ selected: string }, event)` */\n  onBlur: PropTypes.func,\n\n  /** Called with signature `({ selected: string }, event)` */\n  onChange: PropTypes.func,\n\n  /** Called with signature `({ selected: string }, event)` */\n  onFocus: PropTypes.func,\n\n  /** Called with signature `({ selected: string }, event)` */\n  onKeyDown: PropTypes.func\n};\nexport { SingleSelectField };","import _JSXStyle from \"styled-jsx/style\";\nimport { colors, spacers } from '@dhis2/ui-constants';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nconst SingleSelectOption = _ref => {\n  let {\n    label,\n    active,\n    disabled,\n    onClick,\n    className,\n    dataTest,\n    value\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    onClick: e => onClick({}, e),\n    \"data-test\": dataTest,\n    \"data-value\": value,\n    \"data-label\": label,\n    className: _JSXStyle.dynamic([[\"3808134379\", [colors.grey900, spacers.dp8, spacers.dp12, colors.grey200, colors.teal700, colors.white, colors.grey500]]]) + \" \" + (cx(className, {\n      disabled,\n      active\n    }) || \"\")\n  }, label, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3808134379\",\n    dynamic: [colors.grey900, spacers.dp8, spacers.dp12, colors.grey200, colors.teal700, colors.white, colors.grey500]\n  }, [\"div.__jsx-style-dynamic-selector{cursor:pointer;font-size:14px;-webkit-text-decoration:none;text-decoration:none;color:\".concat(colors.grey900, \";padding-block:\").concat(spacers.dp8, \";padding-inline:\").concat(spacers.dp12, \";}\"), \"div.__jsx-style-dynamic-selector:hover{background-color:\".concat(colors.grey200, \";}\"), \"div.__jsx-style-dynamic-selector:active,div.active.__jsx-style-dynamic-selector{background-color:\".concat(colors.teal700, \";color:\").concat(colors.white, \";cursor:auto;}\"), \"div.disabled.__jsx-style-dynamic-selector{color:\".concat(colors.grey500, \";cursor:not-allowed;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}\"), \"div.disabled.__jsx-style-dynamic-selector:hover{background-color:initial;}\"]));\n};\n\nSingleSelectOption.defaultProps = {\n  dataTest: 'dhis2-uicore-singleselectoption'\n};\nSingleSelectOption.propTypes = {\n  label: PropTypes.string.isRequired,\n  value: PropTypes.string.isRequired,\n  active: PropTypes.bool,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n  disabled: PropTypes.bool,\n  onClick: PropTypes.func\n};\nexport { SingleSelectOption };","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Empty, filterIgnored, checkIfValidOption } from '../select/index.js';\n\nconst onIgnoredClick = (_, e) => {\n  e.stopPropagation();\n  e.preventDefault();\n};\n\nconst Menu = _ref => {\n  let {\n    options,\n    onChange,\n    selected,\n    empty,\n    handleFocusInput,\n    handleClose,\n    dataTest\n  } = _ref;\n  const renderedOptions = filterIgnored(options);\n\n  if (React.Children.count(renderedOptions) === 0) {\n    // If it's a string, supply it to our <Empty> component so it looks better\n    if (typeof empty === 'string') {\n      return /*#__PURE__*/React.createElement(Empty, {\n        message: empty,\n        dataTest: \"\".concat(dataTest, \"-empty\")\n      });\n    } // Otherwise just render the supplied markup\n\n\n    return empty;\n  }\n\n  const children = React.Children.map(options, child => {\n    const isValidOption = checkIfValidOption(child); // Return early if the child isn't an option, to prevent attaching handlers etc.\n\n    if (!isValidOption) {\n      return child;\n    }\n\n    const {\n      value,\n      disabled: isDisabled\n    } = child.props; // Active means the option is currently selected\n\n    const isActive = value === selected;\n\n    const onClick = (_, e) => {\n      const data = {\n        selected: value\n      };\n      e.stopPropagation();\n      onChange(data, e);\n      handleClose();\n      handleFocusInput();\n    }; // Clicks on active options or disabled options should be ignored for the single select\n\n\n    const isIgnored = isActive || isDisabled;\n    return /*#__PURE__*/React.cloneElement(child, { ...child.props,\n      onClick: isIgnored ? onIgnoredClick : onClick,\n      active: isActive\n    });\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, children);\n};\n\nMenu.defaultProps = {\n  empty: ''\n};\nMenu.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  empty: PropTypes.node,\n  handleClose: PropTypes.func,\n  handleFocusInput: PropTypes.func,\n  options: PropTypes.node,\n  selected: PropTypes.string,\n  onChange: PropTypes.func\n};\nexport { Menu };","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { FilterableMenu as CommonFilterableMenu } from '../select/index.js';\nimport { Menu } from './menu.js';\nexport const FilterableMenu = _ref => {\n  let {\n    dataTest,\n    options,\n    onChange,\n    selected,\n    empty,\n    handleClose,\n    handleFocusInput,\n    placeholder,\n    noMatchText\n  } = _ref;\n  return /*#__PURE__*/React.createElement(CommonFilterableMenu, {\n    dataTest: dataTest,\n    options: options,\n    onChange: onChange,\n    selected: selected,\n    empty: empty,\n    handleClose: handleClose,\n    handleFocusInput: handleFocusInput,\n    placeholder: placeholder,\n    noMatchText: noMatchText,\n    Menu: Menu\n  });\n};\nFilterableMenu.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  noMatchText: PropTypes.string.isRequired,\n  empty: PropTypes.node,\n  handleClose: PropTypes.func,\n  handleFocusInput: PropTypes.func,\n  options: PropTypes.node,\n  placeholder: PropTypes.string,\n  selected: PropTypes.string,\n  onChange: PropTypes.func\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { spacers } from '@dhis2/ui-constants';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { findOptionChild } from '../select/index.js';\n\nconst Selection = _ref => {\n  let {\n    options,\n    selected,\n    className\n  } = _ref;\n  const isProduction = process.env.NODE_ENV === 'production';\n  const selectedOption = findOptionChild(selected, options);\n\n  if (!selectedOption) {\n    const message = \"There is no option with the value: \\\"\".concat(selected, \"\\\". \") + 'Make sure that the value passed to the selected ' + 'prop matches the value of an existing option.';\n\n    if (isProduction) {\n      // Don't crash the app if in production\n      console.error(message);\n    } else {\n      // Throw error if not in production for maximum visibility\n      throw new Error(message);\n    }\n  }\n\n  const icon = selectedOption && selectedOption.props.icon; // Use the selected value if we do not have a label\n\n  const label = selectedOption ? selectedOption.props.label : selected;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"1914911415\", [spacers.dp8, spacers.dp16, spacers.dp16]]]) + \" \" + (cx(className, 'root') || \"\")\n  }, icon && /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"1914911415\", [spacers.dp8, spacers.dp16, spacers.dp16]]]) + \" \" + \"root-icon\"\n  }, icon), label, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1914911415\",\n    dynamic: [spacers.dp8, spacers.dp16, spacers.dp16]\n  }, [\".root.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}\", \".root-icon.__jsx-style-dynamic-selector{margin-inline-end:\".concat(spacers.dp8, \";width:\").concat(spacers.dp16, \";height:\").concat(spacers.dp16, \";overflow:hidden;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}\")]));\n};\n\nSelection.propTypes = {\n  className: PropTypes.string,\n  options: PropTypes.node,\n  selected: PropTypes.string\n};\nexport { Selection };","import _JSXStyle from \"styled-jsx/style\";\nimport { requiredIf } from '@dhis2/prop-types';\nimport { colors } from '@dhis2/ui-constants';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { InputClearButton, InputPlaceholder, InputPrefix } from '../select/index.js';\nimport { Selection } from './selection.js';\n\nconst Input = _ref => {\n  let {\n    selected,\n    onChange,\n    clearable,\n    clearText,\n    placeholder,\n    dataTest,\n    prefix,\n    options,\n    className,\n    disabled,\n    inputMaxHeight\n  } = _ref;\n  const hasSelection = selected && typeof selected === 'string';\n\n  const onClear = (_, e) => {\n    const data = {\n      selected: ''\n    };\n    e.stopPropagation();\n    onChange(data, e);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"3987817844\", [colors.grey900]], [\"1331770409\", [inputMaxHeight]]]) + \" \" + (cx('root', className) || \"\")\n  }, /*#__PURE__*/React.createElement(InputPrefix, {\n    prefix: prefix,\n    dataTest: \"\".concat(dataTest, \"-prefix\")\n  }), !hasSelection && !prefix && /*#__PURE__*/React.createElement(InputPlaceholder, {\n    placeholder: placeholder,\n    dataTest: \"\".concat(dataTest, \"-placeholder\")\n  }), hasSelection && /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"3987817844\", [colors.grey900]], [\"1331770409\", [inputMaxHeight]]]) + \" \" + \"root-input\"\n  }, /*#__PURE__*/React.createElement(Selection, {\n    selected: selected,\n    options: options\n  })), hasSelection && clearable && !disabled && /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"3987817844\", [colors.grey900]], [\"1331770409\", [inputMaxHeight]]]) + \" \" + \"root-right\"\n  }, /*#__PURE__*/React.createElement(InputClearButton, {\n    onClear: onClear,\n    clearText: clearText,\n    dataTest: \"\".concat(dataTest, \"-clear\")\n  })), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3987817844\",\n    dynamic: [colors.grey900]\n  }, [\".root.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:\".concat(colors.grey900, \";font-size:14px;line-height:16px;}\"), \".root-input.__jsx-style-dynamic-selector{overflow-y:auto;-webkit-flex:1;-ms-flex:1;flex:1;}\", \".root-right.__jsx-style-dynamic-selector{margin-inline-start:auto;margin-inline-end:10px;}\"]), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1331770409\",\n    dynamic: [inputMaxHeight]\n  }, [\".root-input.__jsx-style-dynamic-selector{max-height:\".concat(inputMaxHeight, \";}\")]));\n};\n\nInput.defaultProps = {\n  inputMaxHeight: '100px'\n};\nInput.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  className: PropTypes.string,\n  clearText: requiredIf(props => props.clearable, PropTypes.string),\n  clearable: PropTypes.bool,\n  disabled: PropTypes.bool,\n  inputMaxHeight: PropTypes.string,\n  options: PropTypes.node,\n  placeholder: PropTypes.string,\n  prefix: PropTypes.string,\n  selected: PropTypes.string,\n  onChange: PropTypes.func\n};\nexport { Input };","import _JSXStyle from \"styled-jsx/style\";\nimport { StatusIcon } from '@dhis2-ui/status-icon';\nimport { requiredIf } from '@dhis2/prop-types';\nimport { spacers, sharedPropTypes } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Loading as CommonLoading, Select } from '../select/index.js';\nimport { FilterableMenu } from './filterable-menu.js';\nimport { Input } from './input.js';\nimport { Menu } from './menu.js';\n\nconst SingleSelect = _ref => {\n  let {\n    className,\n    selected,\n    tabIndex,\n    maxHeight,\n    inputMaxHeight,\n    onChange,\n    onFocus,\n    onKeyDown,\n    onBlur,\n    loading,\n    error,\n    warning,\n    valid,\n    disabled,\n    children,\n    clearable,\n    clearText,\n    filterable,\n    filterPlaceholder,\n    placeholder,\n    prefix,\n    empty,\n    loadingText,\n    noMatchText,\n    initialFocus,\n    dense,\n    dataTest\n  } = _ref;\n  // If the select is filterable, use a filterable menu\n  const menu = filterable ? /*#__PURE__*/React.createElement(FilterableMenu, {\n    dataTest: dataTest,\n    empty: empty,\n    noMatchText: noMatchText,\n    placeholder: filterPlaceholder\n  }) : /*#__PURE__*/React.createElement(Menu, {\n    empty: empty,\n    dataTest: dataTest\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    className: _JSXStyle.dynamic([[\"2180377457\", [spacers.dp8]]]) + \" \" + \"root\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"2180377457\", [spacers.dp8]]]) + \" \" + \"root-input\"\n  }, /*#__PURE__*/React.createElement(Select, {\n    className: className,\n    selected: selected,\n    input: /*#__PURE__*/React.createElement(Input, {\n      clearable: clearable,\n      clearText: clearText,\n      dataTest: dataTest,\n      placeholder: placeholder,\n      prefix: prefix,\n      inputMaxHeight: inputMaxHeight\n    }),\n    menu: menu,\n    tabIndex: tabIndex,\n    maxHeight: maxHeight,\n    onChange: onChange,\n    onFocus: onFocus,\n    onKeyDown: onKeyDown,\n    onBlur: onBlur,\n    error: error,\n    warning: warning,\n    valid: valid,\n    disabled: disabled,\n    initialFocus: initialFocus,\n    dense: dense\n  }, children, loading && /*#__PURE__*/React.createElement(CommonLoading, {\n    message: loadingText,\n    dataTest: \"\".concat(dataTest, \"-loading\")\n  }))), /*#__PURE__*/React.createElement(StatusIcon, {\n    error: error,\n    valid: valid,\n    warning: warning\n  }), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2180377457\",\n    dynamic: [spacers.dp8]\n  }, [\".root.__jsx-style-dynamic-selector{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;gap:\".concat(spacers.dp8, \";}\"), \".root-input.__jsx-style-dynamic-selector{-webkit-flex:1;-ms-flex:1;flex:1;}\"]));\n};\n\nSingleSelect.defaultProps = {\n  selected: '',\n  dataTest: 'dhis2-uicore-singleselect'\n};\nSingleSelect.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n\n  /** Text on button that clears selection. Required if `clearable` prop is true */\n  clearText: requiredIf(props => props.clearable, PropTypes.string),\n\n  /** Adds a button to clear selection */\n  clearable: PropTypes.bool,\n  dataTest: PropTypes.string,\n  dense: PropTypes.bool,\n  disabled: PropTypes.bool,\n\n  /** Text or component to display when there are no options */\n  empty: PropTypes.node,\n\n  /** Applies 'error' appearance for validation feedback. Mutually exclusive with `warning` and `valid` props */\n  error: sharedPropTypes.statusPropType,\n  filterPlaceholder: PropTypes.string,\n\n  /** Adds a filter field to add text to filter options */\n  filterable: PropTypes.bool,\n  initialFocus: PropTypes.bool,\n  inputMaxHeight: PropTypes.string,\n  loading: PropTypes.bool,\n  loadingText: PropTypes.string,\n  maxHeight: PropTypes.string,\n\n  /** Text to show when filter returns no results. Required if `filterable` prop is true */\n  noMatchText: requiredIf(props => props.filterable, PropTypes.string),\n  placeholder: PropTypes.string,\n  prefix: PropTypes.string,\n  selected: PropTypes.string,\n  tabIndex: PropTypes.string,\n\n  /** Applies 'valid' appearance for validation feedback. Mutually exclusive with `warning` and `error` props */\n  valid: sharedPropTypes.statusPropType,\n\n  /** Applies 'warning' appearance for validation feedback. Mutually exclusive with `valid` and `error` props */\n  warning: sharedPropTypes.statusPropType,\n  onBlur: PropTypes.func,\n  onChange: PropTypes.func,\n  onFocus: PropTypes.func,\n  onKeyDown: PropTypes.func\n};\nexport { SingleSelect };","import _JSXStyle from \"styled-jsx/style\";\nimport { Card } from '@dhis2-ui/card';\nimport { Layer } from '@dhis2-ui/layer';\nimport { Popper } from '@dhis2-ui/popper';\nimport { colors, spacers } from '@dhis2/ui-constants';\nimport { IconChevronUp24, IconChevronDown24 } from '@dhis2/ui-icons';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { useRef } from 'react';\nconst offsetModifier = {\n  name: 'offset',\n  options: {\n    offset: [0, 2]\n  }\n};\n/**\n * The reason this component expects the \"open\" state and \"setOpen\" function is\n * because certain actions inside the props.children might have to set \"open\"\n * to false as well.\n * A good example is selecting a value (which is not a click outside) and this\n * component neither has any control over that component nor does it have a way\n * to \"observe\" that behavior. Especially for selection bar items that allow\n * \"multiple\" selections, this would be more or less impossible to predict\n * inside this component\n */\n\nexport const SelectorBarItem = _ref => {\n  let {\n    children,\n    className,\n    dataTest,\n    disabled,\n    displayOnly,\n    label,\n    noValueMessage,\n    open,\n    setOpen,\n    value,\n    onClearSelectionClick\n  } = _ref;\n  const buttonRef = useRef();\n  const Icon = open ? IconChevronUp24 : IconChevronDown24;\n  return /*#__PURE__*/React.createElement(\"button\", {\n    ref: buttonRef,\n    disabled: disabled,\n    onClick: () => setOpen && setOpen(true),\n    \"data-test\": dataTest,\n    className: _JSXStyle.dynamic([[\"1019748909\", [\n    /*\n     * The arrow icon has ~4px empty space on the sides,\n     * that's why the padding on the right is only 8px.\n     */\n    '', spacers.dp8, spacers.dp12, colors.grey400, colors.grey600, spacers.dp8, spacers.dp4, spacers.dp4, colors.grey500, colors.grey700, spacers.dp4]]]) + \" \" + (cx('selector-bar-item', className, !displayOnly ? 'openable' : '') || \"\")\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: _JSXStyle.dynamic([[\"1019748909\", ['', spacers.dp8, spacers.dp12, colors.grey400, colors.grey600, spacers.dp8, spacers.dp4, spacers.dp4, colors.grey500, colors.grey700, spacers.dp4]]]) + \" \" + \"label\"\n  }, label), !disabled && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n    className: _JSXStyle.dynamic([[\"1019748909\", ['', spacers.dp8, spacers.dp12, colors.grey400, colors.grey600, spacers.dp8, spacers.dp4, spacers.dp4, colors.grey500, colors.grey700, spacers.dp4]]]) + \" \" + \"value\"\n  }, value || noValueMessage), value && onClearSelectionClick && /*#__PURE__*/React.createElement(\"span\", {\n    onClick: evt => {\n      evt.stopPropagation();\n      onClearSelectionClick();\n    },\n    \"data-test\": \"\".concat(dataTest, \"-clear-icon\"),\n    className: _JSXStyle.dynamic([[\"1019748909\", ['', spacers.dp8, spacers.dp12, colors.grey400, colors.grey600, spacers.dp8, spacers.dp4, spacers.dp4, colors.grey500, colors.grey700, spacers.dp4]]]) + \" \" + \"clear-icon\"\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    width: \"14\",\n    height: \"14\",\n    viewBox: \"0 0 14 14\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    className: _JSXStyle.dynamic([[\"1019748909\", ['', spacers.dp8, spacers.dp12, colors.grey400, colors.grey600, spacers.dp8, spacers.dp4, spacers.dp4, colors.grey500, colors.grey700, spacers.dp4]]])\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7 14C10.866 14 14 10.866 14 7C14 3.13401 10.866 0 7 0C3.13401 0 0 3.13401 0 7C0 10.866 3.13401 14 7 14ZM4.29289 4.29289C4.68342 3.90237 5.31658 3.90237 5.70711 4.29289L7 5.58579L8.29289 4.29289C8.68342 3.90237 9.31658 3.90237 9.70711 4.29289C10.0976 4.68342 10.0976 5.31658 9.70711 5.70711L8.41421 7L9.70711 8.29289C10.0976 8.68342 10.0976 9.31658 9.70711 9.70711C9.31658 10.0976 8.68342 10.0976 8.29289 9.70711L7 8.41421L5.70711 9.70711C5.31658 10.0976 4.68342 10.0976 4.29289 9.70711C3.90237 9.31658 3.90237 8.68342 4.29289 8.29289L5.58579 7L4.29289 5.70711C3.90237 5.31658 3.90237 4.68342 4.29289 4.29289Z\",\n    className: _JSXStyle.dynamic([[\"1019748909\", ['', spacers.dp8, spacers.dp12, colors.grey400, colors.grey600, spacers.dp8, spacers.dp4, spacers.dp4, colors.grey500, colors.grey700, spacers.dp4]]])\n  })))), !displayOnly && /*#__PURE__*/React.createElement(\"span\", {\n    className: _JSXStyle.dynamic([[\"1019748909\", ['', spacers.dp8, spacers.dp12, colors.grey400, colors.grey600, spacers.dp8, spacers.dp4, spacers.dp4, colors.grey500, colors.grey700, spacers.dp4]]]) + \" \" + \"toggle-icon\"\n  }, /*#__PURE__*/React.createElement(Icon, {\n    className: _JSXStyle.dynamic([[\"1019748909\", ['', spacers.dp8, spacers.dp12, colors.grey400, colors.grey600, spacers.dp8, spacers.dp4, spacers.dp4, colors.grey500, colors.grey700, spacers.dp4]]])\n  })), open && /*#__PURE__*/React.createElement(Layer, {\n    onBackdropClick: (_, evt) => {\n      evt.stopPropagation();\n      setOpen(false);\n    }\n  }, /*#__PURE__*/React.createElement(Popper, {\n    reference: buttonRef,\n    placement: \"bottom-start\",\n    modifiers: [offsetModifier]\n  }, /*#__PURE__*/React.createElement(Card, null, children))), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1019748909\",\n    dynamic: ['', spacers.dp8, spacers.dp12, colors.grey400, colors.grey600, spacers.dp8, spacers.dp4, spacers.dp4, colors.grey500, colors.grey700, spacers.dp4]\n  }, [\".selector-bar-item.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;background:none;height:40px;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;\".concat(\" padding:0 \", spacers.dp8, \" 0 \").concat(spacers.dp12, \";font-size:14px;line-height:16px;border:none;box-shadow:0px 0px 0px 1px \").concat(colors.grey400, \";}\"), \".selector-bar-item.openable.__jsx-style-dynamic-selector{cursor:pointer;}\", \".selector-bar-item.__jsx-style-dynamic-selector:disabled{cursor:not-allowed;}\", \".label.__jsx-style-dynamic-selector{color:\".concat(colors.grey600, \";}\"), \".value.__jsx-style-dynamic-selector{padding-left:\".concat(spacers.dp8, \";}\"), \".clear-icon.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-left:\".concat(spacers.dp4, \";padding:\").concat(spacers.dp4, \";cursor:pointer;}\"), \".clear-icon.__jsx-style-dynamic-selector svg.__jsx-style-dynamic-selector path.__jsx-style-dynamic-selector{fill:\".concat(colors.grey500, \";}\"), \".clear-icon.__jsx-style-dynamic-selector:hover svg.__jsx-style-dynamic-selector path.__jsx-style-dynamic-selector{fill:\".concat(colors.grey700, \";}\"), \".toggle-icon.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-left:\".concat(spacers.dp4, \";height:100%;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}\")]));\n};\nSelectorBarItem.defaultProps = {\n  dataTest: 'dhis2-ui-selectorbaritem'\n};\nSelectorBarItem.propTypes = {\n  label: PropTypes.string.isRequired,\n  children: PropTypes.any,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n  disabled: PropTypes.bool,\n  displayOnly: PropTypes.bool,\n  noValueMessage: PropTypes.string,\n  open: PropTypes.bool,\n  setOpen: PropTypes.func,\n  value: PropTypes.string,\n  onClearSelectionClick: PropTypes.func\n};","//------------------------------------------------------------------------------\n// <auto-generated>\n// This code was generated by d2-i18n-generate.\n//\n// Changes to this file may cause incorrect behavior and will be lost if\n// the code is regenerated.\n// </auto-generated>\n//------------------------------------------------------------------------------\nimport i18n from '@dhis2/d2-i18n';\nimport arTranslations from './ar/translations.json';\nimport csTranslations from './cs/translations.json';\nimport enTranslations from './en/translations.json';\nimport esTranslations from './es/translations.json';\nimport frTranslations from './fr/translations.json';\nimport idTranslations from './id/translations.json';\nimport nbTranslations from './nb/translations.json';\nimport uz_UZ_CyrlTranslations from './uz_UZ_Cyrl/translations.json';\nimport uz_UZ_LatnTranslations from './uz_UZ_Latn/translations.json';\nimport viTranslations from './vi/translations.json';\nimport zhTranslations from './zh/translations.json';\nimport zh_CNTranslations from './zh_CN/translations.json';\nconst namespace = 'default';\ni18n.addResources('ar', namespace, arTranslations);\ni18n.addResources('cs', namespace, csTranslations);\ni18n.addResources('en', namespace, enTranslations);\ni18n.addResources('es', namespace, esTranslations);\ni18n.addResources('fr', namespace, frTranslations);\ni18n.addResources('id', namespace, idTranslations);\ni18n.addResources('nb', namespace, nbTranslations);\ni18n.addResources('uz_UZ_Cyrl', namespace, uz_UZ_CyrlTranslations);\ni18n.addResources('uz_UZ_Latn', namespace, uz_UZ_LatnTranslations);\ni18n.addResources('vi', namespace, viTranslations);\ni18n.addResources('zh', namespace, zhTranslations);\ni18n.addResources('zh_CN', namespace, zh_CNTranslations);\nexport default i18n;","import _JSXStyle from \"styled-jsx/style\";\nimport { Button } from '@dhis2-ui/button';\nimport { colors, spacers } from '@dhis2/ui-constants';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport i18n from '../locales/index.js';\n\nconst ClearSelection = _ref => {\n  let {\n    disabled,\n    onClick\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"3676026375\", [spacers.dp8]]]) + \" \" + \"clear-selections\"\n  }, /*#__PURE__*/React.createElement(Button, {\n    small: true,\n    secondary: true,\n    disabled: disabled,\n    onClick: onClick\n  }, i18n.t('Clear selections')), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3676026375\",\n    dynamic: [spacers.dp8]\n  }, [\".clear-selections.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:40px;padding:0 \".concat(spacers.dp8, \";}\")]));\n};\n\nClearSelection.propTypes = {\n  disabled: PropTypes.bool,\n  onClick: PropTypes.func\n};\nexport const SelectorBar = _ref2 => {\n  let {\n    className,\n    children,\n    onClearSelectionClick,\n    dataTest,\n    disableClearSelections,\n    additionalContent\n  } = _ref2;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    className: _JSXStyle.dynamic([[\"720742913\", [colors.white, colors.grey400,\n    /*\n     * Specs define the space to be 12px.\n     * 8px already come from the clear selection component\n     */\n    '']]]) + \" \" + (cx('container', {\n      withRHSContents: additionalContent\n    }, className) || \"\")\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"720742913\", [colors.white, colors.grey400, '']]]) + \" \" + \"controls\"\n  }, children, onClearSelectionClick && /*#__PURE__*/React.createElement(ClearSelection, {\n    disabled: disableClearSelections,\n    onClick: onClearSelectionClick\n  })), additionalContent && /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"720742913\", [colors.white, colors.grey400, '']]]) + \" \" + \"additional-contents\"\n  }, additionalContent), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"720742913\",\n    dynamic: [colors.white, colors.grey400, '']\n  }, [\".container.__jsx-style-dynamic-selector{background:\".concat(colors.white, \";box-shadow:inset 0 -1px 0 0 \").concat(colors.grey400, \";padding-bottom:1px;}\"), \".withRHSContents.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}\", \".controls.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;gap:1px;}\", \".additional-contents.__jsx-style-dynamic-selector{\".concat(\" padding-left:4px;}\")])));\n};\nSelectorBar.defaultProps = {\n  dataTest: 'dhis2-ui-selectorbar'\n};\nSelectorBar.propTypes = {\n  children: PropTypes.any.isRequired,\n  additionalContent: PropTypes.any,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n  disableClearSelections: PropTypes.bool,\n  onClearSelectionClick: PropTypes.func\n};","const DURATION = 250;\nconst SCROLL_STEP = 0.5;\nexport function animatedSideScroll(scrollBox, callback) {\n  let goBackwards = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  const startValue = scrollBox.scrollLeft;\n  const endValue = getEndValue(scrollBox, startValue, goBackwards);\n  const change = endValue - startValue;\n  const step = createFrameStepper({\n    scrollBox,\n    callback,\n    startValue,\n    endValue,\n    change\n  });\n  window.requestAnimationFrame(step);\n}\n\nfunction getEndValue(scrollBox, startValue, goBackwards) {\n  const scrollDistance = scrollBox.clientWidth * SCROLL_STEP;\n  const inverter = goBackwards ? -1 : 1;\n  return Math.floor(startValue + scrollDistance * inverter);\n}\n\nfunction createFrameStepper(_ref) {\n  let {\n    scrollBox,\n    callback,\n    startValue,\n    endValue,\n    change\n  } = _ref;\n  let startTimestamp, elapsedTime, scrollValue;\n  return function step(timestamp) {\n    if (!startTimestamp) {\n      startTimestamp = timestamp;\n    }\n\n    elapsedTime = timestamp - startTimestamp;\n    scrollValue = easeInOutQuad({\n      currentTime: elapsedTime,\n      DURATION,\n      startValue,\n      change\n    });\n\n    if (elapsedTime >= DURATION) {\n      if (scrollValue !== endValue) {\n        scrollBox.scrollLeft = endValue;\n      }\n\n      callback && callback();\n    } else {\n      scrollBox.scrollLeft = scrollValue;\n      window.requestAnimationFrame(step);\n    }\n  };\n}\n\nfunction easeInOutQuad(_ref2) {\n  let {\n    currentTime,\n    startValue,\n    change\n  } = _ref2;\n  return (currentTime /= DURATION / 2) < 1 ? change / 2 * currentTime * currentTime + startValue : -change / 2 * (--currentTime * (currentTime - 2) - 1) + startValue;\n}","let horizontalScrollbarHeight;\nconst className = '__vertical-scrollbar-height-test__';\nconst styles = \"\\n    .\".concat(className, \" {\\n        position: absolute;\\n        top: -9999px;\\n        width: 100px;\\n        height: 100px;\\n        overflow-x: scroll;\\n    }\\n    .\").concat(className, \"::-webkit-scrollbar {\\n        display: none;\\n    }\\n\");\nexport function detectHorizontalScrollbarHeight() {\n  if (horizontalScrollbarHeight) {\n    return horizontalScrollbarHeight;\n  }\n\n  const style = document.createElement('style');\n  style.innerHTML = styles;\n  const el = document.createElement('div');\n  el.classList.add(className);\n  document.body.appendChild(style);\n  document.body.appendChild(el);\n  horizontalScrollbarHeight = el.offsetHeight - el.clientHeight;\n  document.body.removeChild(style);\n  document.body.removeChild(el);\n  return horizontalScrollbarHeight;\n}","import _JSXStyle from \"styled-jsx/style\";\nimport { colors } from '@dhis2/ui-constants';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport const ScrollButton = _ref => {\n  let {\n    children,\n    disabled,\n    hidden,\n    onClick\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"button\", {\n    onClick: disabled ? undefined : onClick,\n    className: _JSXStyle.dynamic([[\"2701682090\", [colors.white, colors.grey400, colors.grey600, colors.grey100, colors.grey200, colors.grey500]]]) + \" \" + (cx('scroll-button', {\n      disabled,\n      hidden\n    }) || \"\")\n  }, children, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2701682090\",\n    dynamic: [colors.white, colors.grey400, colors.grey600, colors.grey100, colors.grey200, colors.grey500]\n  }, [\".scroll-button.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:inherit;background-color:\".concat(colors.white, \";border:none;border-bottom:1px solid \").concat(colors.grey400, \";outline:none;padding:16px 16px 11px 16px;cursor:pointer;}\"), \".scroll-button.hidden.__jsx-style-dynamic-selector{display:none;}\", \".scroll-button.__jsx-style-dynamic-selector svg{width:20px;height:20px;fill:\".concat(colors.grey600, \";-webkit-transition:opacity 150ms ease-in-out;transition:opacity 150ms ease-in-out;opacity:1;}\"), \".scroll-button.__jsx-style-dynamic-selector:hover{background-color:\".concat(colors.grey100, \";}\"), \".scroll-button.__jsx-style-dynamic-selector:active{background-color:\".concat(colors.grey200, \";}\"), \".scroll-button.disabled.__jsx-style-dynamic-selector{cursor:not-allowed;}\", \".scroll-button.disabled.__jsx-style-dynamic-selector:hover{background-color:transparent;}\", \".scroll-button.disabled.__jsx-style-dynamic-selector svg{fill:\".concat(colors.grey500, \";}\")]));\n};\nScrollButton.displayName = 'ScrollButton';\nScrollButton.propTypes = {\n  children: PropTypes.any.isRequired,\n  disabled: PropTypes.bool,\n  hidden: PropTypes.bool,\n  onClick: PropTypes.func\n};","import _JSXStyle from \"styled-jsx/style\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { IconChevronRight16, IconChevronLeft16 } from '@dhis2/ui-icons';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { Component, createRef } from 'react';\nimport { animatedSideScroll } from './animated-side-scroll.js';\nimport { detectHorizontalScrollbarHeight } from './detect-horizontal-scrollbar-height.js';\nimport { ScrollButton } from './scroll-button.js';\n\nclass ScrollBar extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"scrollBox\", /*#__PURE__*/createRef());\n\n    _defineProperty(this, \"scrollArea\", /*#__PURE__*/createRef());\n\n    _defineProperty(this, \"horizontalScrollBarHeight\", detectHorizontalScrollbarHeight());\n\n    _defineProperty(this, \"scrollBoxResizeObserver\", null);\n\n    _defineProperty(this, \"calculateShouldHideButtons\", () => {\n      this.setState({\n        hideScrollButtonsInitialized: false\n      });\n      const {\n        current: scrollBox\n      } = this.scrollBox;\n      const {\n        current: scrollArea\n      } = this.scrollArea;\n      const areaWidth = scrollArea.offsetWidth;\n      const boxWidth = scrollBox.offsetWidth;\n      const hideScrollButtons = areaWidth <= boxWidth;\n      this.setState({\n        hideScrollButtons\n      });\n\n      if (!hideScrollButtons) {\n        if (this.state.scrolledToStart) {\n          this.scrollLeft();\n        }\n\n        if (this.state.scrolledToEnd) {\n          this.scrollRight();\n        }\n      }\n\n      this.setState({\n        hideScrollButtonsInitialized: true\n      });\n    });\n\n    _defineProperty(this, \"scrollRight\", () => this.scroll());\n\n    _defineProperty(this, \"scrollLeft\", () => this.scroll(true));\n\n    _defineProperty(this, \"animatedScrollCallback\", () => {\n      this.updateScrolledToStates();\n      this.attachSideScrollListener();\n    });\n\n    _defineProperty(this, \"updateScrolledToStates\", () => {\n      const {\n        scrollLeft,\n        offsetWidth\n      } = this.scrollBox.current;\n      const {\n        offsetWidth: areaOffsetWidth\n      } = this.scrollArea.current;\n      const scrolledToStart = scrollLeft <= 0;\n      const scrolledToEnd = scrollLeft + offsetWidth >= areaOffsetWidth;\n\n      if (this.state.scrolledToStart !== scrolledToStart || this.state.scrolledToEnd !== scrolledToEnd) {\n        this.setState({\n          scrolledToStart,\n          scrolledToEnd\n        });\n      }\n    });\n\n    this.state = {\n      scrolledToStart: true,\n      scrolledToEnd: false,\n      // used to initially hide the entire content to prevent flickering\n      hideScrollButtonsInitialized: false,\n      // hide buttons initially to simplify calculations\n      hideScrollButtons: false\n    };\n    this.scrollBoxResizeObserver = new ResizeObserver(this.calculateShouldHideButtons);\n  }\n\n  componentDidMount() {\n    this.scrollSelectedTabIntoView();\n    this.attachSideScrollListener();\n    this.manageShouldHideButtons();\n  }\n\n  componentWillUnmount() {\n    this.removeSideScrollListener();\n    this.scrollBoxResizeObserver.disconnect();\n  }\n\n  manageShouldHideButtons() {\n    const {\n      current: scrollBox\n    } = this.scrollBox;\n    this.scrollBoxResizeObserver.observe(scrollBox);\n    this.calculateShouldHideButtons();\n  }\n\n  scroll(goBackwards) {\n    this.removeSideScrollListener();\n    animatedSideScroll(this.scrollBox.current, this.animatedScrollCallback, goBackwards);\n  }\n\n  scrollSelectedTabIntoView() {\n    const scrollBoxEl = this.scrollBox.current;\n    const tab = scrollBoxEl.querySelector('.tab.selected');\n\n    if (tab) {\n      const tabEnd = tab.offsetLeft + tab.offsetWidth;\n\n      if (tabEnd > scrollBoxEl.offsetWidth) {\n        scrollBoxEl.scrollLeft = tabEnd - scrollBoxEl.offsetWidth;\n      }\n    }\n  }\n\n  attachSideScrollListener() {\n    this.scrollBox.current.addEventListener('scroll', this.updateScrolledToStates);\n  }\n\n  removeSideScrollListener() {\n    this.scrollBox.current.removeEventListener('scroll', this.updateScrolledToStates);\n  }\n\n  render() {\n    const {\n      scrolledToStart,\n      scrolledToEnd,\n      hideScrollButtonsInitialized,\n      hideScrollButtons: hideScrollButtonsState\n    } = this.state;\n    const {\n      children,\n      className,\n      dataTest\n    } = this.props;\n    const hideScrollButtons = !hideScrollButtonsInitialized || hideScrollButtonsState;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      \"data-test\": dataTest,\n      className: \"jsx-191575146 \" + _JSXStyle.dynamic([[\"4174900658\", [-this.horizontalScrollBarHeight]]]) + \" \" + (cx('scroll-bar', className) || \"\")\n    }, /*#__PURE__*/React.createElement(ScrollButton, {\n      disabled: scrolledToStart,\n      onClick: this.scrollLeft,\n      hidden: hideScrollButtons\n    }, /*#__PURE__*/React.createElement(IconChevronLeft16, null)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"jsx-191575146 \" + _JSXStyle.dynamic([[\"4174900658\", [-this.horizontalScrollBarHeight]]]) + \" \" + \"scroll-box-clipper\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      ref: this.scrollBox,\n      className: \"jsx-191575146 \" + _JSXStyle.dynamic([[\"4174900658\", [-this.horizontalScrollBarHeight]]]) + \" \" + \"scroll-box\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      ref: this.scrollArea,\n      className: \"jsx-191575146 \" + _JSXStyle.dynamic([[\"4174900658\", [-this.horizontalScrollBarHeight]]]) + \" \" + \"scroll-area\"\n    }, children))), /*#__PURE__*/React.createElement(ScrollButton, {\n      disabled: scrolledToEnd,\n      onClick: this.scrollRight,\n      hidden: hideScrollButtons\n    }, /*#__PURE__*/React.createElement(IconChevronRight16, null)), /*#__PURE__*/React.createElement(_JSXStyle, {\n      id: \"4174900658\",\n      dynamic: [-this.horizontalScrollBarHeight]\n    }, [\".scroll-box.__jsx-style-dynamic-selector{margin-bottom:\".concat(-this.horizontalScrollBarHeight, \"px;}\")]), /*#__PURE__*/React.createElement(_JSXStyle, {\n      id: \"191575146\"\n    }, [\".scroll-bar.jsx-191575146{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;}\", \".scroll-box-clipper.jsx-191575146{overflow-y:hidden;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}\", \".scroll-box.jsx-191575146{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;overflow-x:scroll;-webkit-overflow-scrolling:touch;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}\", \".scroll-box.jsx-191575146::-webkit-scrollbar{display:none;}\", \".scroll-area.jsx-191575146{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;overflow-x:hidden;}\"]));\n  }\n\n}\n\nScrollBar.propTypes = {\n  children: PropTypes.node.isRequired,\n  dataTest: PropTypes.string.isRequired,\n  className: PropTypes.string\n};\nexport { ScrollBar };","import _JSXStyle from \"styled-jsx/style\";\nimport { colors } from '@dhis2/ui-constants';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nconst Tabs = _ref => {\n  let {\n    children,\n    fixed,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    className: _JSXStyle.dynamic([[\"2678989862\", [colors.grey400, colors.white]]]) + \" \" + (cx({\n      fixed\n    }) || \"\")\n  }, children, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2678989862\",\n    dynamic: [colors.grey400, colors.white]\n  }, [\"div.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;position:relative;overflow:hidden;box-shadow:inset 0 -1px 0 0 \".concat(colors.grey400, \";-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;background:\").concat(colors.white, \";}\")]));\n};\n\nTabs.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  children: PropTypes.node,\n  fixed: PropTypes.bool\n};\nexport { Tabs };","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { ScrollBar } from './scroll-bar.js';\nimport { Tabs } from './tabs.js';\n\nconst TabBar = _ref => {\n  let {\n    fixed,\n    children,\n    className,\n    scrollable,\n    dataTest\n  } = _ref;\n\n  if (scrollable) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: className,\n      \"data-test\": dataTest\n    }, /*#__PURE__*/React.createElement(ScrollBar, {\n      dataTest: \"\".concat(dataTest, \"-scrollbar\")\n    }, /*#__PURE__*/React.createElement(Tabs, {\n      fixed: fixed,\n      dataTest: \"\".concat(dataTest, \"-tabs\")\n    }, children)));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: className,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(Tabs, {\n    fixed: fixed,\n    dataTest: \"\".concat(dataTest, \"-tabs\")\n  }, children));\n};\n\nTabBar.defaultProps = {\n  dataTest: 'dhis2-uicore-tabbar'\n};\nTabBar.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n\n  /** Fixed tabs fill the width of their container. If false (i.e. fluid), tabs take up an amount of space defined by the tab name. Fluid tabs should be used most of the time. */\n  fixed: PropTypes.bool,\n\n  /** Enables horizontal scrolling for many tabs that don't fit the width of the container */\n  scrollable: PropTypes.bool\n};\nexport { TabBar };","import _JSXStyle from \"styled-jsx/style\";\nimport { colors, theme } from '@dhis2/ui-constants';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nconst Tab = _ref => {\n  let {\n    icon,\n    onClick,\n    selected,\n    disabled,\n    children,\n    className,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"button\", {\n    onClick: disabled ? undefined : event => onClick({}, event),\n    \"data-test\": dataTest,\n    className: _JSXStyle.dynamic([[\"1623786756\", [colors.grey400, colors.grey600, theme.focus, colors.grey600, colors.grey900, colors.grey600, colors.grey800, theme.primary800, theme.primary700, theme.primary700, theme.primary700, colors.grey500, colors.grey500]]]) + \" \" + \"\".concat(cx('tab', className, {\n      selected,\n      disabled\n    }))\n  }, icon, /*#__PURE__*/React.createElement(\"span\", {\n    className: _JSXStyle.dynamic([[\"1623786756\", [colors.grey400, colors.grey600, theme.focus, colors.grey600, colors.grey900, colors.grey600, colors.grey800, theme.primary800, theme.primary700, theme.primary700, theme.primary700, colors.grey500, colors.grey500]]])\n  }, children), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1623786756\",\n    dynamic: [colors.grey400, colors.grey600, theme.focus, colors.grey600, colors.grey900, colors.grey600, colors.grey800, theme.primary800, theme.primary700, theme.primary700, theme.primary700, colors.grey500, colors.grey500]\n  }, [\"button.__jsx-style-dynamic-selector{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;position:relative;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;vertical-align:bottom;height:100%;padding:16px 16px 11px;background-color:transparent;outline:none;border:none;border-bottom:1px solid \".concat(colors.grey400, \";color:\").concat(colors.grey600, \";font-size:14px;line-height:20px;cursor:pointer;}\"), \".fixed>button.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}\", \"button.__jsx-style-dynamic-selector::after{content:' ';display:block;position:absolute;bottom:-1px;left:0;height:4px;width:100%;background-color:transparent;}\", \"span.__jsx-style-dynamic-selector{max-width:320px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;-webkit-transition:fill 150ms ease-in-out;transition:fill 150ms ease-in-out;}\", \"button.__jsx-style-dynamic-selector:focus{outline:3px solid \".concat(theme.focus, \";outline-offset:-3px;}\"), \"button.__jsx-style-dynamic-selector:focus.__jsx-style-dynamic-selector:not(:focus-visible){outline:none;}\", \"button.__jsx-style-dynamic-selector>svg{fill:\".concat(colors.grey600, \";width:14px;height:14px;margin:0 4px 0 0;}\"), \"button.__jsx-style-dynamic-selector:hover{color:\".concat(colors.grey900, \";}\"), \"button.__jsx-style-dynamic-selector:hover.__jsx-style-dynamic-selector::after{background-color:\".concat(colors.grey600, \";height:2px;}\"), \"button.__jsx-style-dynamic-selector:active.__jsx-style-dynamic-selector::after{background-color:\".concat(colors.grey800, \";}\"), \"button.selected.__jsx-style-dynamic-selector{color:\".concat(theme.primary800, \";}\"), \"button.selected.__jsx-style-dynamic-selector::after{background-color:\".concat(theme.primary700, \";-webkit-transition:background-color 150ms ease-in-out;transition:background-color 150ms ease-in-out;}\"), \"button.selected.__jsx-style-dynamic-selector:hover.__jsx-style-dynamic-selector::after{background-color:\".concat(theme.primary700, \";height:4px;}\"), \"button.selected.__jsx-style-dynamic-selector>svg{fill:\".concat(theme.primary700, \";}\"), \"button.disabled.__jsx-style-dynamic-selector{color:\".concat(colors.grey500, \";cursor:not-allowed;}\"), \"button.disabled.__jsx-style-dynamic-selector:hover,button.selected.__jsx-style-dynamic-selector:hover{background-color:transparent;}\", \"button.disabled.__jsx-style-dynamic-selector>svg{fill:\".concat(colors.grey500, \";}\")]));\n};\n\nTab.defaultProps = {\n  dataTest: 'dhis2-uicore-tab'\n};\nTab.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n  disabled: PropTypes.bool,\n  icon: PropTypes.element,\n\n  /** Indicates this tab is selected */\n  selected: PropTypes.bool,\n\n  /** Called with the signature `({}, event)` */\n  onClick: PropTypes.func\n};\nexport { Tab };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { mutuallyExclusive, requiredIf } from '@dhis2/prop-types';\nimport PropTypes from 'prop-types';\nimport React, { forwardRef } from 'react';\nimport { TableDataCell, TableHeaderCell } from './table-elements/index.js';\nexport const DataTableCell = /*#__PURE__*/forwardRef((_ref, ref) => {\n  let {\n    active,\n    align,\n    backgroundColor,\n    bordered,\n    children,\n    className,\n    colSpan,\n    dataTest,\n    error,\n    fixed,\n    large,\n    left,\n    muted,\n    rowSpan,\n    role,\n    scope,\n    staticStyle,\n    tag,\n    valid,\n    width,\n    onClick,\n    ...props\n  } = _ref;\n  const TableCell = !tag && fixed || tag && tag === 'th' ? TableHeaderCell : TableDataCell;\n  return /*#__PURE__*/React.createElement(TableCell, _extends({}, props, {\n    active: active,\n    align: align,\n    backgroundColor: backgroundColor,\n    bordered: bordered,\n    className: className,\n    colSpan: colSpan,\n    dataTest: dataTest,\n    error: error,\n    fixed: fixed,\n    large: large,\n    left: left,\n    muted: muted,\n    rowSpan: rowSpan,\n    ref: ref,\n    role: role,\n    staticStyle: staticStyle,\n    scope: scope,\n    valid: valid,\n    width: width,\n    onClick: onClick\n  }), children);\n});\nDataTableCell.displayName = 'DataTableCell';\nDataTableCell.defaultProps = {\n  align: 'left',\n  dataTest: 'dhis2-uicore-datatablecell',\n  left: 'auto',\n  width: 'auto'\n};\nconst stylePropType = mutuallyExclusive(['valid', 'error', 'muted'], PropTypes.bool);\nconst requiredIfFixedPropType = requiredIf(props => props.fixed, PropTypes.string);\nDataTableCell.propTypes = {\n  /** To toggle border color, for example for editing */\n  active: PropTypes.bool,\n  align: PropTypes.oneOf(['left', 'center', 'right']),\n\n  /** Sets background color of the cell. Disables dynamic background colors from active, hover, and selected states */\n  backgroundColor: PropTypes.string,\n  bordered: PropTypes.bool,\n  children: PropTypes.node,\n  className: PropTypes.string,\n  colSpan: PropTypes.string,\n  dataTest: PropTypes.string,\n\n  /** Mutually exclusive with muted and valid */\n  error: stylePropType,\n\n  /** When true a TableHeaderCell with sticky positioning will be rendered */\n  fixed: PropTypes.bool,\n  large: PropTypes.bool,\n\n  /** Required when fixed */\n  left: requiredIfFixedPropType,\n\n  /** Mutually exclusive with error and valid */\n  muted: stylePropType,\n  role: PropTypes.string,\n  rowSpan: PropTypes.string,\n  scope: PropTypes.string,\n\n  /** Surpress hover and active event styles */\n  staticStyle: PropTypes.bool,\n\n  /** Render a TableDataCell or TableHeaderCell respectively */\n  tag: PropTypes.oneOf(['td', 'th']),\n\n  /** Mutually exclusive with error and muted */\n  valid: stylePropType,\n\n  /** Required when fixed */\n  width: requiredIfFixedPropType,\n  onClick: PropTypes.func\n};","import _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nexport const styles = [\"span.container.jsx-1552921066{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;height:100%;}\", \"span.top.jsx-1552921066{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}\", \"span.content.jsx-1552921066{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;min-height:24px;}\"];\nstyles.__hash = \"1552921066\";\nexport const resolvedTableHeaderCss = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1231353820\"\n  }, [\"thead>tr>th.DataTableColumnHeader.jsx-1231353820{padding-top:6px;padding-bottom:6px;}\", \"thead>tr>th.DataTableColumnHeader.large.jsx-1231353820{padding-top:12px;padding-bottom:12px;}\"]),\n  className: \"jsx-1231353820\"\n};","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nfunction SvgSearch16(_ref) {\n  let {\n    color,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    width: 16,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6 1a5 5 0 013.871 8.164l4.483 4.482-.708.708L9.164 9.87A5 5 0 116 1zm0 1a4 4 0 100 8 4 4 0 000-8z\",\n    fill: \"currentColor\"\n  }));\n}\n\nSvgSearch16.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default SvgSearch16;","//------------------------------------------------------------------------------\n// <auto-generated>\n// This code was generated by d2-i18n-generate.\n//\n// Changes to this file may cause incorrect behavior and will be lost if\n// the code is regenerated.\n// </auto-generated>\n//------------------------------------------------------------------------------\nimport i18n from '@dhis2/d2-i18n';\nimport arTranslations from './ar/translations.json';\nimport csTranslations from './cs/translations.json';\nimport enTranslations from './en/translations.json';\nimport esTranslations from './es/translations.json';\nimport kmTranslations from './km/translations.json';\nimport nbTranslations from './nb/translations.json';\nimport nlTranslations from './nl/translations.json';\nimport ukTranslations from './uk/translations.json';\nimport uz_UZ_CyrlTranslations from './uz_UZ_Cyrl/translations.json';\nimport zhTranslations from './zh/translations.json';\nconst namespace = 'default';\ni18n.addResources('ar', namespace, arTranslations);\ni18n.addResources('cs', namespace, csTranslations);\ni18n.addResources('en', namespace, enTranslations);\ni18n.addResources('es', namespace, esTranslations);\ni18n.addResources('km', namespace, kmTranslations);\ni18n.addResources('nb', namespace, nbTranslations);\ni18n.addResources('nl', namespace, nlTranslations);\ni18n.addResources('uk', namespace, ukTranslations);\ni18n.addResources('uz_UZ_Cyrl', namespace, uz_UZ_CyrlTranslations);\ni18n.addResources('zh', namespace, zhTranslations);\nexport default i18n;","import _JSXStyle from \"styled-jsx/style\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { colors } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React, { forwardRef } from 'react';\nexport const TableHeaderCellAction = /*#__PURE__*/forwardRef((_ref, ref) => {\n  let {\n    onClick,\n    children,\n    className,\n    dataTest,\n    title,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"button\", _extends({}, props, {\n    \"data-test\": dataTest,\n    onClick: onClick,\n    title: title,\n    ref: ref,\n    className: _JSXStyle.dynamic([[\"997535212\", [colors.grey400]]]) + \" \" + (className || \"\")\n  }), children, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"997535212\",\n    dynamic: [colors.grey400]\n  }, [\"button.__jsx-style-dynamic-selector{border:none;padding:0;background:transparent;width:24px;height:24px;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;cursor:pointer;border-radius:4px;margin-left:2px;}\", \"button.__jsx-style-dynamic-selector:hover,button.__jsx-style-dynamic-selector:focus-visible{background:\".concat(colors.grey400, \";}\"), \"button.__jsx-style-dynamic-selector:active,button.__jsx-style-dynamic-selector:focus{outline:none;}\"]));\n});\nTableHeaderCellAction.displayName = 'TableHeaderCellAction';\nTableHeaderCellAction.defaultProps = {\n  dataTest: 'dhis2-uicore-tableheadercellaction'\n};\nTableHeaderCellAction.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n  title: PropTypes.string,\n  onClick: PropTypes.func\n};","import { colors } from '@dhis2/ui-constants';\nimport { IconSearch16 } from '@dhis2/ui-icons';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { TableHeaderCellAction } from '../table-elements/index.js';\nexport const FilterHandle = _ref => {\n  let {\n    active,\n    name,\n    onClick\n  } = _ref;\n  const filterIconColor = active ? colors.blue700 : colors.grey600;\n  const clickHandler = onClick ? event => {\n    onClick({\n      name,\n      show: !active\n    }, event);\n  } : undefined;\n  return /*#__PURE__*/React.createElement(TableHeaderCellAction, {\n    onClick: clickHandler,\n    title: i18n.t('Toggle filter')\n  }, /*#__PURE__*/React.createElement(IconSearch16, {\n    color: filterIconColor\n  }));\n};\nFilterHandle.propTypes = {\n  active: PropTypes.bool,\n  name: PropTypes.string,\n  onClick: PropTypes.func\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { requiredIf } from '@dhis2/prop-types';\nimport { colors } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { TableHeaderCellAction } from '../table-elements/index.js';\nexport const ASC = 'asc';\nexport const DESC = 'desc';\nexport const DEFAULT = 'default';\nexport const SORT_DIRECTIONS = [DEFAULT, ASC, DESC];\nexport const getNextSortDirection = currentDirection => {\n  const currentIndex = SORT_DIRECTIONS.indexOf(currentDirection);\n  const nextIndex = (currentIndex + 1) % SORT_DIRECTIONS.length;\n  return SORT_DIRECTIONS[nextIndex];\n};\nexport const Sorter = _ref => {\n  let {\n    name,\n    sortDirection,\n    title,\n    onClick\n  } = _ref;\n  const nextSortDirection = getNextSortDirection(sortDirection);\n  const clickHandler = onClick ? event => {\n    onClick({\n      name,\n      direction: nextSortDirection\n    }, event);\n  } : undefined;\n  return /*#__PURE__*/React.createElement(TableHeaderCellAction, {\n    onClick: clickHandler,\n    title: title || i18n.t('Sort items')\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"16\",\n    height: \"16\",\n    viewBox: \"0 0 16 16\",\n    className: _JSXStyle.dynamic([[\"884818973\", [colors.grey500, colors.blue700]]]) + \" \" + (sortDirection || \"\")\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"none\",\n    fillRule: \"evenodd\",\n    className: _JSXStyle.dynamic([[\"884818973\", [colors.grey500, colors.blue700]]])\n  }, /*#__PURE__*/React.createElement(\"polygon\", {\n    points: \"4 9 12 9 8 14\",\n    className: _JSXStyle.dynamic([[\"884818973\", [colors.grey500, colors.blue700]]]) + \" \" + \"top\"\n  }), /*#__PURE__*/React.createElement(\"polygon\", {\n    points: \"4 7 12 7 8 2\",\n    className: _JSXStyle.dynamic([[\"884818973\", [colors.grey500, colors.blue700]]]) + \" \" + \"bottom\"\n  }))), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"884818973\",\n    dynamic: [colors.grey500, colors.blue700]\n  }, [\"svg.__jsx-style-dynamic-selector .top.__jsx-style-dynamic-selector,svg.__jsx-style-dynamic-selector .bottom.__jsx-style-dynamic-selector{fill:\".concat(colors.grey500, \";}\"), \"svg.asc.__jsx-style-dynamic-selector .top.__jsx-style-dynamic-selector,svg.desc.__jsx-style-dynamic-selector .bottom.__jsx-style-dynamic-selector{fill:\".concat(colors.blue700, \";}\")]));\n};\nSorter.propTypes = {\n  name: PropTypes.string,\n  sortDirection: requiredIf(props => props.onClick, PropTypes.oneOf(SORT_DIRECTIONS)),\n  title: PropTypes.string,\n  onClick: PropTypes.func\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { requiredIf } from '@dhis2/prop-types';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { forwardRef } from 'react';\nimport { TableHeaderCell } from '../table-elements/index.js';\nimport { styles, resolvedTableHeaderCss } from './data-table-column-header.styles.js';\nimport { FilterHandle } from './filter-handle.js';\nimport { Sorter, SORT_DIRECTIONS } from './sorter.js';\nconst flexboxAlignLookup = {\n  left: 'flex-start',\n  center: 'center',\n  right: 'flex-end'\n};\nexport const DataTableColumnHeader = /*#__PURE__*/forwardRef((_ref, ref) => {\n  let {\n    align,\n    children,\n    className,\n    colSpan,\n    dataTest,\n    filter,\n    fixed,\n    large,\n    left,\n    name,\n    role,\n    rowSpan,\n    scope,\n    showFilter,\n    sortDirection,\n    sortIconTitle,\n    top,\n    width,\n    onFilterIconClick,\n    onSortIconClick\n  } = _ref;\n  return /*#__PURE__*/React.createElement(TableHeaderCell, {\n    align: align,\n    className: cx(className, 'DataTableColumnHeader', resolvedTableHeaderCss.className),\n    colSpan: colSpan,\n    dataTest: dataTest,\n    fixed: fixed,\n    large: large,\n    left: left,\n    ref: ref,\n    rowSpan: rowSpan,\n    role: role,\n    scope: scope,\n    top: top,\n    width: width\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"jsx-3463223249 \" + \"jsx-\".concat(styles.__hash) + \" \" + \"container\"\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"jsx-3463223249 \" + \"jsx-\".concat(styles.__hash) + \" \" + (cx('top', {\n      large\n    }) || \"\")\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"jsx-3463223249 \" + \"jsx-\".concat(styles.__hash) + \" \" + \"content\"\n  }, children), sortDirection && /*#__PURE__*/React.createElement(Sorter, {\n    name: name,\n    sortDirection: sortDirection,\n    onClick: onSortIconClick,\n    title: sortIconTitle\n  }), filter && /*#__PURE__*/React.createElement(FilterHandle, {\n    name: name,\n    active: showFilter,\n    onClick: onFilterIconClick\n  })), showFilter && filter), resolvedTableHeaderCss.styles, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: styles.__hash\n  }, styles), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3463223249\"\n  }, [\".label.jsx-3463223249{-webkit-box-pack:\".concat(flexboxAlignLookup[align], \";-webkit-justify-content:\").concat(flexboxAlignLookup[align], \";-ms-flex-pack:\").concat(flexboxAlignLookup[align], \";justify-content:\").concat(flexboxAlignLookup[align], \";}\")]));\n});\nDataTableColumnHeader.displayName = 'DataTableColumnHeader';\nDataTableColumnHeader.defaultProps = {\n  dataTest: 'dhis2-uicore-datatablecellhead'\n};\nDataTableColumnHeader.propTypes = {\n  align: PropTypes.oneOf(['left', 'center', 'right']),\n  children: PropTypes.node,\n  className: PropTypes.string,\n  colSpan: PropTypes.string,\n  dataTest: PropTypes.string,\n\n  /** The filter element (JSX), required when onFilterIconClick or showFilter are present */\n  filter: requiredIf(props => props.onFilterIconClick || props.showFilter, PropTypes.node),\n  fixed: PropTypes.bool,\n  large: PropTypes.bool,\n\n  /** Left or top required when fixed */\n  left: requiredIf(props => props.fixed && !props.top, PropTypes.string),\n\n  /** Can be used to match a column with a property name */\n  name: PropTypes.string,\n  role: PropTypes.string,\n  rowSpan: PropTypes.string,\n  scope: PropTypes.string,\n  showFilter: requiredIf(props => props.filter, PropTypes.bool),\n  sortDirection: requiredIf(props => props.onSortIconClick, PropTypes.oneOf(SORT_DIRECTIONS)),\n  sortIconTitle: PropTypes.string,\n\n  /** Left or top required when fixed */\n  top: requiredIf(props => props.fixed && !props.left, PropTypes.string),\n  width: PropTypes.string,\n  onFilterIconClick: requiredIf(props => props.filter, PropTypes.func),\n\n  /** Sort icon click callback with `nextSortDirection` and `name` in payload */\n  onSortIconClick: requiredIf(props => props.sortDirection, PropTypes.func)\n};","import _JSXStyle from \"styled-jsx/style\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { forwardRef } from 'react';\nexport const TableRow = /*#__PURE__*/forwardRef((_ref, ref) => {\n  let {\n    children,\n    className,\n    dataTest,\n    draggable,\n    role,\n    selected,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"tr\", _extends({}, props, {\n    ref: ref,\n    \"data-test\": dataTest,\n    role: role,\n    className: \"jsx-1820444258\" + \" \" + (cx(className, {\n      selected,\n      draggable\n    }) || \"\")\n  }), children, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1820444258\"\n  }, [\"tbody>tr.draggable.jsx-1820444258,tfoot>tr.draggable.jsx-1820444258{cursor:move;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}\"]));\n});\nTableRow.displayName = 'TableRow';\nTableRow.defaultProps = {\n  dataTest: 'dhis2-uicore-tablerow'\n};\nTableRow.propTypes = {\n  /** Should be `<TableDataCell>` or `<TableDataCellHead>` components */\n  children: PropTypes.node,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n\n  /** Applies draggable cursor styles */\n  draggable: PropTypes.bool,\n  role: PropTypes.string,\n\n  /** Sets a selected (teal) background color */\n  selected: PropTypes.bool\n};","import _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nimport { colors } from '@dhis2/ui-constants';\nexport default {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1795567040\"\n  }, [\"tr.isHoveringExpandedContent.jsx-1795567040>td{background-color:\".concat(colors.grey100, \";}\"), \"tr.isHoveringExpandedContent.jsx-1795567040>th{background-color:\".concat(colors.grey300, \";}\"), \"tr.selected.isHoveringExpandedContent.jsx-1795567040>td{background-color:#cdeae8;}\", \"tr.expanded.jsx-1795567040>td{border-bottom-color:transparent;}\", \"tr.expanded.jsx-1795567040>td.bordered{border-bottom-color:\".concat(colors.grey300, \";}\")]),\n  className: \"jsx-1795567040\"\n};","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nfunction SvgDragHandle24(_ref) {\n  let {\n    color,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9.5 16a1.5 1.5 0 110 3 1.5 1.5 0 010-3zm5 0a1.5 1.5 0 110 3 1.5 1.5 0 010-3zm-5-6a1.5 1.5 0 110 3 1.5 1.5 0 010-3zm5 0a1.5 1.5 0 110 3 1.5 1.5 0 010-3zm-5-6a1.5 1.5 0 110 3 1.5 1.5 0 010-3zm5 0a1.5 1.5 0 110 3 1.5 1.5 0 010-3z\",\n    fill: \"currentColor\",\n    fillRule: \"evenodd\"\n  }));\n}\n\nSvgDragHandle24.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default SvgDragHandle24;","import { IconDragHandle24 } from '@dhis2/ui-icons';\nimport React from 'react';\nimport { TableDataCell } from '../table-elements/index.js';\nexport const DragHandleCell = () => /*#__PURE__*/React.createElement(TableDataCell, {\n  width: \"48px\"\n}, /*#__PURE__*/React.createElement(IconDragHandle24, null));","import _JSXStyle from \"styled-jsx/style\";\nimport { IconChevronDown24, IconChevronUp24 } from '@dhis2/ui-icons';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { TableDataCell } from '../table-elements/index.js';\nconst pointer = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"927553068\"\n  }, [\"td.jsx-927553068{cursor:pointer;}\"]),\n  className: \"jsx-927553068\"\n};\nexport const ExpandHandleCell = _ref => {\n  let {\n    expanded,\n    onClick\n  } = _ref;\n  return /*#__PURE__*/React.createElement(TableDataCell, {\n    className: cx(pointer.className, {\n      expanded\n    }),\n    onClick: () => onClick({\n      expanded: !expanded\n    }),\n    width: \"48px\"\n  }, expanded ? /*#__PURE__*/React.createElement(IconChevronUp24, null) : /*#__PURE__*/React.createElement(IconChevronDown24, null), pointer.styles);\n};\nExpandHandleCell.propTypes = {\n  expanded: PropTypes.bool,\n  onClick: PropTypes.func\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { colors } from '@dhis2/ui-constants';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { TableRow, TableDataCell } from '../table-elements/index.js';\nconst {\n  className: cellClassName,\n  styles\n} = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"626485122\"\n  }, [\"tr.expanded:hover+tr>td.jsx-626485122{background-color:\".concat(colors.grey100, \";}\"), \"tr.expanded:active+tr>td.jsx-626485122{background-color:\".concat(colors.grey200, \";}\"), \"tr.selected.expanded:hover+tr.jsx-626485122>td.jsx-626485122{background-color:#cdeae8;}\"]),\n  className: \"jsx-626485122\"\n};\nexport const ExpandedRow = _ref => {\n  let {\n    children,\n    className,\n    colSpan,\n    dataTest,\n    selected,\n    setIsHoveringExpandedContent\n  } = _ref;\n  return /*#__PURE__*/React.createElement(TableRow, {\n    onMouseOver: () => setIsHoveringExpandedContent(true),\n    onMouseOut: () => setIsHoveringExpandedContent(false),\n    className: cx({\n      [\"\".concat(className, \"-expandedrow\")]: !!className\n    }),\n    selected: selected,\n    dataTest: dataTest && \"\".concat(dataTest, \"-expandedrow\")\n  }, /*#__PURE__*/React.createElement(TableDataCell, {\n    className: cellClassName,\n    colSpan: colSpan\n  }, children, styles));\n};\nExpandedRow.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n  colSpan: PropTypes.string,\n  dataTest: PropTypes.string,\n  selected: PropTypes.bool,\n  setIsHoveringExpandedContent: PropTypes.func\n};","import { requiredIf } from '@dhis2/prop-types';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { useState, forwardRef } from 'react';\nimport { TableRow } from '../table-elements/index.js';\nimport resolvedCss from './data-table-row.styles.js';\nimport { DragHandleCell } from './drag-handle-cell.js';\nimport { ExpandHandleCell } from './expand-handle-cell.js';\nimport { ExpandedRow } from './expanded-row.js';\nexport const DataTableRow = /*#__PURE__*/forwardRef((_ref, ref) => {\n  let {\n    children,\n    className,\n    dataTest,\n    expandableContent,\n    expanded,\n    selected,\n    draggable,\n    role,\n    onExpandToggle\n  } = _ref;\n  const [isHoveringExpandedContent, setIsHoveringExpandedContent] = useState(false);\n  const classes = cx(className, resolvedCss.className, {\n    expanded,\n    selected,\n    draggable,\n    isHoveringExpandedContent\n  });\n  const childCount = React.Children.count(children);\n  const colSpan = String(draggable || expandableContent ? childCount + 1 : childCount);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(TableRow, {\n    ref: ref,\n    className: classes,\n    dataTest: dataTest,\n    selected: selected,\n    draggable: draggable,\n    role: role\n  }, draggable && /*#__PURE__*/React.createElement(DragHandleCell, null), expandableContent && /*#__PURE__*/React.createElement(ExpandHandleCell, {\n    expanded: expanded,\n    onClick: onExpandToggle\n  }), children, resolvedCss.styles), expandableContent && expanded && /*#__PURE__*/React.createElement(ExpandedRow, {\n    className: className,\n    dataTest: dataTest,\n    setIsHoveringExpandedContent: setIsHoveringExpandedContent,\n    colSpan: colSpan,\n    selected: selected\n  }, expandableContent));\n});\nDataTableRow.displayName = 'DataTableRow';\nDataTableRow.defaultProps = {\n  dataTest: 'dhis2-uicore-datatablerow'\n};\nDataTableRow.propTypes = {\n  /** Should be `<DataTableCell>` or `<DataTableCellHead>` components */\n  children: PropTypes.node,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n\n  /** Renders and additional table cell with drag icon and applies draggable styles */\n  draggable: PropTypes.bool,\n\n  /** This content will be rendered into an additional row with fullwidth cell and the presence of this prop will display an additional table cell with expand icon */\n  expandableContent: requiredIf(props => props.onExpandToggle, PropTypes.node),\n\n  /** Toggles expand icon (up/down) and expandable content visibility */\n  expanded: PropTypes.bool,\n  role: PropTypes.string,\n\n  /** Adds a green background color */\n  selected: PropTypes.bool,\n\n  /** Callback for expand icon cell clicks */\n  onExpandToggle: requiredIf(props => props.expandableContent, PropTypes.func)\n};","import _JSXStyle from \"styled-jsx/style\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { colors } from '@dhis2/ui-constants';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { forwardRef } from 'react';\nexport const Table = /*#__PURE__*/forwardRef((_ref, ref) => {\n  let {\n    children,\n    className,\n    dataTest,\n    layout,\n    role,\n    borderless,\n    width,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"table\", _extends({}, props, {\n    \"data-test\": dataTest,\n    ref: ref,\n    role: role,\n    className: _JSXStyle.dynamic([[\"3140496910\", [layout, width, colors.grey300]]]) + \" \" + (cx(className, {\n      borderless\n    }) || \"\")\n  }), children, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3140496910\",\n    dynamic: [layout, width, colors.grey300]\n  }, [\"table.__jsx-style-dynamic-selector{table-layout:\".concat(layout, \";border-collapse:separate;border-spacing:0;width:\").concat(width, \";box-sizing:border-box;border:1px solid \").concat(colors.grey300, \";}\"), \"table.borderless.__jsx-style-dynamic-selector{border:none;}\"]));\n});\nTable.displayName = 'Table';\nTable.defaultProps = {\n  dataTest: 'dhis2-uicore-table',\n  width: '100%',\n  layout: 'auto'\n};\nTable.propTypes = {\n  /**\n   * Removes border from the table\n   */\n  borderless: PropTypes.bool,\n\n  /**\n   * Should be `<TableHead>`, `<TableBody>`, and `<TableFoot>` components\n   */\n  children: PropTypes.node,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n\n  /**\n   * Sets the `table-layout` property. Switching to `fixed` can prevent style\n   * issues when dealing with a table with multiple frozen columns or when dealing\n   * with filter elements in the table headers.\n   */\n  layout: PropTypes.oneOf(['auto', 'fixed', 'initial', 'inherit']),\n  role: PropTypes.string,\n\n  /**\n   * Sets the `width` property. Providing an explicit width can prevent style\n   * issues when dealing with horizontally scrolling tables with a fixed layout.\n   */\n  width: PropTypes.string\n};","import _JSXStyle from \"styled-jsx/style\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { colors } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React, { forwardRef } from 'react';\nexport const TableScrollBox = /*#__PURE__*/forwardRef((_ref, ref) => {\n  let {\n    children,\n    className,\n    dataTest,\n    maxHeight,\n    maxWidth,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", _extends({}, props, {\n    \"data-test\": dataTest,\n    ref: ref,\n    className: _JSXStyle.dynamic([[\"2859562182\", [colors.grey300, maxHeight, maxWidth]]]) + \" \" + (className || \"\")\n  }), children, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2859562182\",\n    dynamic: [colors.grey300, maxHeight, maxWidth]\n  }, [\"div.__jsx-style-dynamic-selector{border:1px solid \".concat(colors.grey300, \";border-top:none;box-sizing:border-box;max-height:\").concat(maxHeight, \";max-width:\").concat(maxWidth, \";overflow:auto;}\")]));\n});\nTableScrollBox.displayName = 'TableScrollBox';\nTableScrollBox.defaultProps = {\n  dataTest: 'dhis2-uicore-tablescrollbox',\n  maxHeight: 'auto',\n  maxWidth: 'auto'\n};\nTableScrollBox.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n  maxHeight: PropTypes.string,\n  maxWidth: PropTypes.string\n};","import cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { forwardRef } from 'react';\nimport { Table, TableScrollBox } from './table-elements/index.js';\nexport const DataTable = /*#__PURE__*/forwardRef((_ref, ref) => {\n  let {\n    children,\n    className,\n    dataTest,\n    layout,\n    role,\n    scrollHeight,\n    scrollWidth,\n    width\n  } = _ref;\n  const scrollable = !!(scrollHeight || scrollWidth);\n  const table = /*#__PURE__*/React.createElement(Table, {\n    borderless: scrollable,\n    className: className,\n    dataTest: dataTest,\n    layout: layout,\n    ref: ref,\n    role: role,\n    width: width\n  }, children);\n  return !scrollable ? table : /*#__PURE__*/React.createElement(TableScrollBox, {\n    className: cx(className, 'tablescrollbox'),\n    dataTest: \"\".concat(dataTest, \"-scrollbox\"),\n    maxHeight: scrollHeight,\n    maxWidth: scrollWidth\n  }, table);\n});\nDataTable.displayName = 'DataTable';\nDataTable.defaultProps = {\n  dataTest: 'dhis2-uicore-datatable',\n  width: '100%',\n  layout: 'auto'\n};\nDataTable.propTypes = {\n  /**\n   * Should be `<DataTableHead>`, `<DataTableBody>`, and `<DataTableFoot>` components\n   */\n  children: PropTypes.node,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n\n  /**\n   * Sets the `datatable-layout` property. Switching to `fixed` can prevent style\n   * issues when dealing with a datatable with multiple frozen columns or when dealing\n   * with filter elements in the datatable headers.\n   */\n  layout: PropTypes.oneOf(['auto', 'fixed', 'initial', 'inherit']),\n  role: PropTypes.string,\n\n  /** Sets max-height of scrollbox */\n  scrollHeight: PropTypes.string,\n\n  /** Sets max-width of scrollbox */\n  scrollWidth: PropTypes.string,\n\n  /**\n   * Sets the `width` property. Providing an explicit width can prevent style\n   * issues when dealing with horizontally scrolling datatables with a fixed layout.\n   */\n  width: PropTypes.string\n};","import _JSXStyle from \"styled-jsx/style\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { colors } from '@dhis2/ui-constants';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { forwardRef } from 'react';\nexport const TableBody = /*#__PURE__*/forwardRef((_ref, ref) => {\n  let {\n    children,\n    className,\n    dataTest,\n    role,\n    loading,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"tbody\", _extends({}, props, {\n    \"data-test\": dataTest,\n    ref: ref,\n    role: role,\n    className: _JSXStyle.dynamic([[\"2117748229\", [colors.blue600]]]) + \" \" + (cx(className, {\n      loading\n    }) || \"\")\n  }), children, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2117748229\",\n    dynamic: [colors.blue600]\n  }, [\"tbody.__jsx-style-dynamic-selector{position:relative;}\", \".loading.__jsx-style-dynamic-selector:before{content:'';position:absolute;top:0;bottom:0;left:0;right:0;background-color:rgba(255,255,255,0.8);}\", \".loading.__jsx-style-dynamic-selector:after{content:'';position:absolute;top:calc(50% - 24px);left:calc(50% - 24px);width:48px;height:48px;border:6px solid rgba(110,122,138,0.15);border-bottom-color:\".concat(colors.blue600, \";border-radius:50%;-webkit-animation:rotation-__jsx-style-dynamic-selector 1s linear infinite;animation:rotation-__jsx-style-dynamic-selector 1s linear infinite;}\"), \"@-webkit-keyframes rotation-__jsx-style-dynamic-selector{0%{-webkit-transform:rotate(0);-ms-transform:rotate(0);transform:rotate(0);}100%{-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg);}}\", \"@keyframes rotation-__jsx-style-dynamic-selector{0%{-webkit-transform:rotate(0);-ms-transform:rotate(0);transform:rotate(0);}100%{-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg);}}\"]));\n});\nTableBody.displayName = 'TableBody';\nTableBody.defaultProps = {\n  dataTest: 'dhis2-uicore-tablebody'\n};\nTableBody.propTypes = {\n  /** Should be `<TableRow>` components */\n  children: PropTypes.node,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n  loading: PropTypes.bool,\n  role: PropTypes.string\n};","import { colors } from '@dhis2/ui-constants';\nconst _defaultExport = [\"td.jsx-369355652{padding:14px 12px;font-size:14px;border:1px solid transparant;border-bottom:1px solid \".concat(colors.grey300, \";color:\").concat(colors.grey900, \";}\"), \"td.active.jsx-369355652{outline:2px solid \".concat(colors.grey600, \";outline-offset:-2px;}\"), \"td.bordered.jsx-369355652{border-right:1px solid \".concat(colors.grey300, \";}\"), \"td.bordered.jsx-369355652:last-child{border-right:1px solid transparent;}\", \"td.error.jsx-369355652{color:\".concat(colors.red700, \";}\"), \"td.muted.jsx-369355652{color:\".concat(colors.grey700, \";font-style:italic;}\"), \"td.valid.jsx-369355652{color:\".concat(colors.green700, \";}\"), \"td.large.jsx-369355652{padding:20px 12px;font-size:16px;}\", \"tr:last-child td.jsx-369355652{border-bottom:1px solid transparent;}\", \"tfoot tr:first-child td.jsx-369355652{border-top:1px solid \".concat(colors.grey300, \";}\")];\n_defaultExport.__hash = \"369355652\";\nexport default _defaultExport;","import _JSXStyle from \"styled-jsx/style\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { mutuallyExclusive, requiredIf } from '@dhis2/prop-types';\nimport { colors } from '@dhis2/ui-constants';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { forwardRef } from 'react';\nimport styles from './table-data-cell.styles.js';\nexport const TableDataCell = /*#__PURE__*/forwardRef((_ref, ref) => {\n  let {\n    active,\n    align,\n    backgroundColor,\n    bordered,\n    children,\n    className,\n    colSpan,\n    dataTest,\n    error,\n    large,\n    left,\n    muted,\n    role,\n    rowSpan,\n    scope,\n    staticStyle,\n    valid,\n    width,\n    onClick,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"td\", _extends({}, props, {\n    ref: ref,\n    colSpan: colSpan,\n    rowSpan: rowSpan,\n    onClick: onClick,\n    \"data-test\": dataTest,\n    role: role,\n    scope: scope,\n    className: \"jsx-\".concat(styles.__hash) + \" \" + _JSXStyle.dynamic([[\"1402113910\", [left, align, width, backgroundColor || colors.white, backgroundColor || colors.teal100, backgroundColor || colors.grey100, backgroundColor || colors.grey200, backgroundColor || '#cdeae8']]]) + \" \" + (cx(className, {\n      active,\n      bordered,\n      error,\n      large,\n      muted,\n      staticStyle,\n      valid\n    }) || \"\")\n  }), children, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: styles.__hash\n  }, styles), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1402113910\",\n    dynamic: [left, align, width, backgroundColor || colors.white, backgroundColor || colors.teal100, backgroundColor || colors.grey100, backgroundColor || colors.grey200, backgroundColor || '#cdeae8']\n  }, [\"td.__jsx-style-dynamic-selector{left:\".concat(left, \";text-align:\").concat(align, \";width:\").concat(width, \";background-color:\").concat(backgroundColor || colors.white, \";}\"), \"tr.selected>td.__jsx-style-dynamic-selector{background-color:\".concat(backgroundColor || colors.teal100, \";}\"), \"tr:hover>td.__jsx-style-dynamic-selector:not(.staticStyle){background-color:\".concat(backgroundColor || colors.grey100, \";}\"), \"tr:active>td.__jsx-style-dynamic-selector:not(.staticStyle){background-color:\".concat(backgroundColor || colors.grey200, \";}\"), \"tr.selected:hover>td.__jsx-style-dynamic-selector:not(.staticStyle){background-color:\".concat(backgroundColor || '#cdeae8', \";}\")]));\n});\nTableDataCell.displayName = 'TableDataCell';\nTableDataCell.defaultProps = {\n  align: 'left',\n  dataTest: 'dhis2-uicore-tabledatacel',\n  left: 'auto',\n  width: 'auto'\n};\nconst stylePropType = mutuallyExclusive(['valid', 'error', 'muted'], PropTypes.bool);\nTableDataCell.propTypes = {\n  /** To toggle border color, for example for editing */\n  active: PropTypes.bool,\n  align: PropTypes.oneOf(['left', 'center', 'right']),\n\n  /** Sets background color of the cell. Disables dynamic background colors from active, hover, and selected states */\n  backgroundColor: PropTypes.string,\n  bordered: PropTypes.bool,\n  children: PropTypes.node,\n  className: PropTypes.string,\n  colSpan: PropTypes.string,\n  dataTest: PropTypes.string,\n\n  /** Mutually exclusive with muted and valid */\n  error: stylePropType,\n  large: PropTypes.bool,\n\n  /** Required when fixed */\n  left: requiredIf(props => props.fixed, PropTypes.string),\n\n  /** Mutually exclusive with error and valid */\n  muted: stylePropType,\n  role: PropTypes.string,\n  rowSpan: PropTypes.string,\n  scope: PropTypes.string,\n\n  /** Surpress hover and active event styles */\n  staticStyle: PropTypes.bool,\n\n  /** Mutually exclusive with error and muted */\n  valid: stylePropType,\n  width: PropTypes.string,\n  onClick: PropTypes.func\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport PropTypes from 'prop-types';\nimport React, { forwardRef } from 'react';\nexport const TableHead = /*#__PURE__*/forwardRef((_ref, ref) => {\n  let {\n    children,\n    className,\n    dataTest,\n    role,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"thead\", _extends({}, props, {\n    className: className,\n    \"data-test\": dataTest,\n    ref: ref,\n    role: role\n  }), children);\n});\nTableHead.displayName = 'TableHead';\nTableHead.defaultProps = {\n  dataTest: 'dhis2-uicore-tablehead'\n};\nTableHead.propTypes = {\n  /** Should be `<TableRowHead>` components */\n  children: PropTypes.node,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n  role: PropTypes.string\n};","import { colors } from '@dhis2/ui-constants';\nconst _defaultExport = [\"th.jsx-2515928253{padding:12px;border:1px solid transparant;border-bottom:1px solid \".concat(colors.grey300, \";color:\").concat(colors.grey800, \";font-weight:normal;font-size:14px;vertical-align:top;}\"), \"thead th.jsx-2515928253{padding:8px 12px;font-size:13px;}\", \"th.jsx-2515928253:last-of-type{border-right:1px solid \".concat(colors.grey300, \";}\"), \"th.active.jsx-2515928253{outline:2px solid \".concat(colors.grey600, \";outline-offset:-2px;}\"), \"th.bordered.jsx-2515928253{border-right:1px solid \".concat(colors.grey300, \";}\"), \"th.bordered.jsx-2515928253:last-child{border-right:1px solid transparent;}\", \"th.error.jsx-2515928253{color:\".concat(colors.red700, \";}\"), \"th.muted.jsx-2515928253{color:\".concat(colors.grey700, \";font-style:italic;}\"), \"th.valid.jsx-2515928253{color:\".concat(colors.green700, \";}\"), \"th.large.jsx-2515928253{padding:14px 12px;font-size:16px;}\", \"thead th.large.jsx-2515928253{padding:13px 12px;font-size:15px;}\", \"th.fixed.jsx-2515928253{position:-webkit-sticky;position:sticky;z-index:1;}\", \"thead th.fixed.jsx-2515928253{position:-webkit-sticky;position:sticky;z-index:2;}\", \"thead th.fixedHorizontally.jsx-2515928253{z-index:3;}\", \"tr:last-child th.jsx-2515928253{border-bottom:1px solid transparent;}\", \"thead tr:last-child th.jsx-2515928253{border-bottom:1px solid \".concat(colors.grey300, \";}\"), \"tfoot>tr:first-child th.jsx-2515928253{border-top:1px solid \".concat(colors.grey300, \";}\")];\n_defaultExport.__hash = \"2515928253\";\nexport default _defaultExport;","import _JSXStyle from \"styled-jsx/style\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { mutuallyExclusive, requiredIf } from '@dhis2/prop-types';\nimport { colors } from '@dhis2/ui-constants';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { forwardRef } from 'react';\nimport styles from './table-header-cell.styles.js';\nconst AUTO = 'auto';\nexport const TableHeaderCell = /*#__PURE__*/forwardRef((_ref, ref) => {\n  let {\n    active,\n    align,\n    backgroundColor,\n    bordered,\n    children,\n    className,\n    colSpan,\n    dataTest,\n    error,\n    fixed,\n    large,\n    left,\n    muted,\n    rowSpan,\n    role,\n    scope,\n    staticStyle,\n    top,\n    valid,\n    width,\n    onClick,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"th\", _extends({}, props, {\n    ref: ref,\n    colSpan: colSpan,\n    rowSpan: rowSpan,\n    onClick: onClick,\n    \"data-test\": dataTest,\n    role: role,\n    scope: scope,\n    className: \"jsx-\".concat(styles.__hash) + \" \" + _JSXStyle.dynamic([[\"178320390\", [left, top, align, width, backgroundColor || colors.grey200, backgroundColor || colors.grey300, backgroundColor || colors.grey300, backgroundColor || colors.grey200]]]) + \" \" + (cx(className, {\n      active,\n      bordered,\n      error,\n      fixed,\n      fixedHorizontally: fixed && left !== AUTO,\n      large,\n      muted,\n      staticStyle,\n      valid\n    }) || \"\")\n  }), children, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: styles.__hash\n  }, styles), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"178320390\",\n    dynamic: [left, top, align, width, backgroundColor || colors.grey200, backgroundColor || colors.grey300, backgroundColor || colors.grey300, backgroundColor || colors.grey200]\n  }, [\"th.__jsx-style-dynamic-selector{left:\".concat(left, \";top:\").concat(top, \";text-align:\").concat(align, \";width:\").concat(width, \";background-color:\").concat(backgroundColor || colors.grey200, \";}\"), \"thead th.fixedHorizontally.__jsx-style-dynamic-selector{background-color:\".concat(backgroundColor || colors.grey300, \";}\"), \"tbody>tr:hover>th.__jsx-style-dynamic-selector:not(.staticStyle),tfoot>tr:hover>th.__jsx-style-dynamic-selector:not(.staticStyle){background-color:\".concat(backgroundColor || colors.grey300, \";}\"), \"tbody>tr:active>th.__jsx-style-dynamic-selector:not(.staticStyle){background-color:\".concat(backgroundColor || colors.grey200, \";}\")]));\n});\nTableHeaderCell.displayName = 'TableHeaderCell';\nTableHeaderCell.defaultProps = {\n  align: 'left',\n  dataTest: 'dhis2-uicore-tablecell',\n  left: AUTO,\n  width: AUTO,\n  top: AUTO\n};\nconst stylePropType = mutuallyExclusive(['valid', 'error', 'muted'], PropTypes.bool);\nTableHeaderCell.propTypes = {\n  /** To toggle border color, for example for editing */\n  active: PropTypes.bool,\n  align: PropTypes.oneOf(['left', 'center', 'right']),\n\n  /** Sets background color of the cell. Disables dynamic background colors from active, hover, and selected states */\n  backgroundColor: PropTypes.string,\n  bordered: PropTypes.bool,\n  children: PropTypes.node,\n  className: PropTypes.string,\n  colSpan: PropTypes.string,\n  dataTest: PropTypes.string,\n\n  /** Mutually exclusive with muted and valid */\n  error: stylePropType,\n  fixed: PropTypes.bool,\n  large: PropTypes.bool,\n\n  /** Left or top required when fixed */\n  left: requiredIf(props => props.fixed && !props.top, PropTypes.string),\n\n  /** Mutually exclusive with error and valid */\n  muted: stylePropType,\n  role: PropTypes.string,\n  rowSpan: PropTypes.string,\n  scope: PropTypes.string,\n\n  /** Surpress hover and active event styles */\n  staticStyle: PropTypes.bool,\n\n  /** Left or top required when fixed */\n  top: requiredIf(props => props.fixed && !props.left, PropTypes.string),\n\n  /** Mutually exclusive with error and muted */\n  valid: stylePropType,\n  width: PropTypes.string,\n  onClick: PropTypes.func\n};","import PropTypes from 'prop-types';\nimport React from 'react';\nexport const TableBody = _ref => {\n  let {\n    children,\n    className,\n    dataTest,\n    role\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"tbody\", {\n    className: className,\n    \"data-test\": dataTest,\n    role: role\n  }, children);\n};\nTableBody.defaultProps = {\n  dataTest: 'dhis2-uicore-tablebody'\n};\nTableBody.propTypes = {\n  /** Should be `<TableRow>` components */\n  children: PropTypes.node,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n  role: PropTypes.string\n};","import _JSXStyle from \"styled-jsx/style\";\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nconst tableCellHeadStyles = [\"th.jsx-1796049005{border-bottom:1px solid #e8edf2;font-size:14px;line-height:18px;padding:13px 12px;height:45px;}\", \".dense.jsx-1796049005{padding:9px 12px;height:36px;}\"];\ntableCellHeadStyles.__hash = \"1796049005\";\nexport const TableCellHead = _ref => {\n  let {\n    role,\n    colSpan,\n    rowSpan,\n    dense,\n    children,\n    className,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"th\", {\n    colSpan: colSpan,\n    rowSpan: rowSpan,\n    \"data-test\": dataTest,\n    role: role,\n    className: \"jsx-\".concat(tableCellHeadStyles.__hash) + \" \" + (cx({\n      dense\n    }, className) || \"\")\n  }, children, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: tableCellHeadStyles.__hash\n  }, tableCellHeadStyles));\n};\nTableCellHead.defaultProps = {\n  dataTest: 'dhis2-uicore-tablecellhead'\n};\nTableCellHead.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n  colSpan: PropTypes.string,\n  dataTest: PropTypes.string,\n\n  /** Uses less padding and height for information-dense layouts */\n  dense: PropTypes.bool,\n  role: PropTypes.string,\n  rowSpan: PropTypes.string\n};","import _JSXStyle from \"styled-jsx/style\";\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nconst tableCellStyles = [\"td.jsx-996330601{border-bottom:1px solid #e8edf2;font-size:14px;line-height:18px;padding:13px 12px;height:45px;}\", \".dense.jsx-996330601{padding:9px 12px;height:36px;}\"];\ntableCellStyles.__hash = \"996330601\";\nexport const TableCell = _ref => {\n  let {\n    role,\n    className,\n    children,\n    colSpan,\n    rowSpan,\n    dense,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"td\", {\n    colSpan: colSpan,\n    rowSpan: rowSpan,\n    \"data-test\": dataTest,\n    role: role,\n    className: \"jsx-\".concat(tableCellStyles.__hash) + \" \" + (cx({\n      dense\n    }, className) || \"\")\n  }, children, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: tableCellStyles.__hash\n  }, tableCellStyles));\n};\nTableCell.defaultProps = {\n  dataTest: 'dhis2-uicore-tablecell'\n};\nTableCell.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n  colSpan: PropTypes.string,\n  dataTest: PropTypes.string,\n\n  /** Usees less padding and height for information-dense layouts */\n  dense: PropTypes.bool,\n  role: PropTypes.string,\n  rowSpan: PropTypes.string\n};","import { createContext } from 'react';\nexport const TableContext = /*#__PURE__*/createContext({\n  suppressZebraStriping: false\n});\nexport const {\n  Consumer,\n  Provider\n} = TableContext;","import PropTypes from 'prop-types';\nimport React from 'react';\nexport const TableHead = _ref => {\n  let {\n    children,\n    className,\n    dataTest,\n    role\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"thead\", {\n    className: className,\n    \"data-test\": dataTest,\n    role: role\n  }, children);\n};\nTableHead.defaultProps = {\n  dataTest: 'dhis2-uicore-tablehead'\n};\nTableHead.propTypes = {\n  /** Should be `<TableRowHead>` components */\n  children: PropTypes.node,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n  role: PropTypes.string\n};","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { TableRow } from './table-row.js';\nexport const TableRowHead = _ref => {\n  let {\n    role,\n    children,\n    className,\n    dataTest,\n    suppressZebraStriping\n  } = _ref;\n  return /*#__PURE__*/React.createElement(TableRow, {\n    className: className,\n    dataTest: dataTest,\n    suppressZebraStriping: suppressZebraStriping,\n    role: role\n  }, children);\n};\nTableRowHead.defaultProps = {\n  dataTest: 'dhis2-uicore-tablerowhead'\n};\nTableRowHead.propTypes = {\n  /** Should be `<TableCellHead>` components */\n  children: PropTypes.node,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n  role: PropTypes.string,\n\n  /** Disables the default row striping for this row */\n  suppressZebraStriping: PropTypes.bool\n};","import _JSXStyle from \"styled-jsx/style\";\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { useContext } from 'react';\nimport { TableContext } from './table-context.js';\nconst tableRowStyles = [\".zebraStriping.jsx-3124144591:nth-child(even){background:#fbfcfd;}\"];\ntableRowStyles.__hash = \"3124144591\";\nexport const TableRow = _ref => {\n  let {\n    role,\n    children,\n    className,\n    dataTest,\n    suppressZebraStriping\n  } = _ref;\n  const {\n    suppressZebraStriping: suppressZebraStripingFromContext\n  } = useContext(TableContext);\n  const zebraStriping = typeof suppressZebraStriping !== 'undefined' ? !suppressZebraStriping : !suppressZebraStripingFromContext;\n  return /*#__PURE__*/React.createElement(\"tr\", {\n    \"data-test\": dataTest,\n    role: role,\n    className: \"jsx-\".concat(tableRowStyles.__hash) + \" \" + (cx(className, {\n      zebraStriping\n    }) || \"\")\n  }, children, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: tableRowStyles.__hash\n  }, tableRowStyles));\n};\nTableRow.defaultProps = {\n  dataTest: 'dhis2-uicore-tablerow'\n};\nTableRow.propTypes = {\n  /** Should be `<TableCell>` or `<TableCellHead>` components */\n  children: PropTypes.node,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n  role: PropTypes.string,\n\n  /** Disables the default row striping for this row */\n  suppressZebraStriping: PropTypes.bool\n};","import _JSXStyle from \"styled-jsx/style\";\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Provider } from './table-context.js';\nconst tableStyles = [\"table.jsx-2430604489{border:1px solid #e8edf2;background-color:#ffffff;min-width:100%;text-align:left;border-collapse:collapse;vertical-align:top;}\"];\ntableStyles.__hash = \"2430604489\";\nexport const Table = _ref => {\n  let {\n    role,\n    children,\n    className,\n    dataTest,\n    suppressZebraStriping\n  } = _ref;\n  return /*#__PURE__*/React.createElement(Provider, {\n    value: {\n      suppressZebraStriping\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    \"data-test\": dataTest,\n    role: role,\n    className: \"jsx-\".concat(tableStyles.__hash) + \" \" + (className || \"\")\n  }, children, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: tableStyles.__hash\n  }, tableStyles)));\n};\nTable.defaultProps = {\n  dataTest: 'dhis2-uicore-table'\n};\nTable.propTypes = {\n  /** Should be `<TableHead>`, `<TableBody>`, and `<TableFoot>` components */\n  children: PropTypes.node,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n  role: PropTypes.string,\n\n  /** Remove the default striping on alternating rows */\n  suppressZebraStriping: PropTypes.bool\n};","import _JSXStyle from \"styled-jsx/style\";\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport const TagIcon = _ref => {\n  let {\n    children,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    className: \"jsx-1699986925\"\n  }, children, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1699986925\"\n  }, [\".jsx-1699986925{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-right:4px;max-height:16px;max-width:16px;}\"]));\n};\nTagIcon.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  children: PropTypes.node\n};","import _JSXStyle from \"styled-jsx/style\";\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport const TagText = _ref => {\n  let {\n    children,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"span\", {\n    \"data-test\": dataTest,\n    className: \"jsx-1110058759\"\n  }, children, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1110058759\"\n  }, [\".jsx-1110058759{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}\"]));\n};\nTagText.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  children: PropTypes.node\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { mutuallyExclusive } from '@dhis2/prop-types';\nimport { colors } from '@dhis2/ui-constants';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { TagIcon } from './tag-icon.js';\nimport { TagText } from './tag-text.js';\nexport const Tag = _ref => {\n  let {\n    maxWidth,\n    neutral,\n    negative,\n    positive,\n    icon,\n    bold,\n    className,\n    dataTest,\n    children\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    className: _JSXStyle.dynamic([[\"2409336266\", [colors.grey300, colors.grey700, colors.grey900, maxWidth, colors.red100, colors.red800, colors.red900, colors.blue100, colors.blue800, colors.blue900, colors.green100, colors.green800, colors.green900, colors.grey700, colors.white, colors.white, colors.blue800, colors.blue050, colors.white, colors.green700, colors.green050, colors.white, colors.red700, colors.red050, colors.white]]]) + \" \" + (cx(className, {\n      neutral,\n      positive,\n      negative,\n      bold\n    }) || \"\")\n  }, icon && /*#__PURE__*/React.createElement(TagIcon, {\n    dataTest: \"\".concat(dataTest, \"-icon\")\n  }, icon), /*#__PURE__*/React.createElement(TagText, {\n    dataTest: \"\".concat(dataTest, \"-text\")\n  }, children), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2409336266\",\n    dynamic: [colors.grey300, colors.grey700, colors.grey900, maxWidth, colors.red100, colors.red800, colors.red900, colors.blue100, colors.blue800, colors.blue900, colors.green100, colors.green800, colors.green900, colors.grey700, colors.white, colors.white, colors.blue800, colors.blue050, colors.white, colors.green700, colors.green050, colors.white, colors.red700, colors.red050, colors.white]\n  }, [\"div.__jsx-style-dynamic-selector{padding:5px 6px;border-radius:3px;background-color:\".concat(colors.grey300, \";fill:\").concat(colors.grey700, \";color:\").concat(colors.grey900, \";max-width:\").concat(maxWidth, \";display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:13px;height:23px;}\"), \".negative.__jsx-style-dynamic-selector{background-color:\".concat(colors.red100, \";fill:\").concat(colors.red800, \";color:\").concat(colors.red900, \";}\"), \".neutral.__jsx-style-dynamic-selector{background-color:\".concat(colors.blue100, \";fill:\").concat(colors.blue800, \";color:\").concat(colors.blue900, \";}\"), \".positive.__jsx-style-dynamic-selector{background-color:\".concat(colors.green100, \";fill:\").concat(colors.green800, \";color:\").concat(colors.green900, \";}\"), \".bold.__jsx-style-dynamic-selector{font-weight:700;background-color:\".concat(colors.grey700, \";color:\").concat(colors.white, \";fill:\").concat(colors.white, \";}\"), \".bold.neutral.__jsx-style-dynamic-selector{background-color:\".concat(colors.blue800, \";color:\").concat(colors.blue050, \";fill:\").concat(colors.white, \";}\"), \".bold.positive.__jsx-style-dynamic-selector{background-color:\".concat(colors.green700, \";color:\").concat(colors.green050, \";fill:\").concat(colors.white, \";}\"), \".bold.negative.__jsx-style-dynamic-selector{background-color:\".concat(colors.red700, \";color:\").concat(colors.red050, \";fill:\").concat(colors.white, \";}\")]));\n};\nconst tagVariantPropType = mutuallyExclusive(['neutral', 'positive', 'negative'], PropTypes.bool);\nTag.defaultProps = {\n  dataTest: 'dhis2-uicore-tag',\n  maxWidth: '240px'\n};\nTag.propTypes = {\n  /** Use bold tags where it is important that the tag is seen by the user in an information dense interface. Bold tags should be reserved for edge cases and not overused. */\n  bold: PropTypes.bool,\n  children: PropTypes.string,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n\n  /** Tags can contain icons. Use icons where they will help users easily identify the content of the tag. Tags must have a text label and cannot display only an icon. */\n  icon: PropTypes.node,\n  maxWidth: PropTypes.string,\n\n  /** Red 'negative' tags imply an error or a problem. `neutral`, `positive`, and `negative` are mutually exclusive props */\n  negative: tagVariantPropType,\n\n  /** Blue 'neutral' tags are used when a tag _could_ have valid or error status but is currently neutral. `neutral`, `positive`, and `negative` are mutually exclusive props */\n  neutral: tagVariantPropType,\n\n  /** Green 'valid' tags should be used to indicate validity or success. `neutral`, `positive`, and `negative` are mutually exclusive props */\n  positive: tagVariantPropType\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { Popper } from '@dhis2-ui/popper';\nimport { Portal } from '@dhis2-ui/portal';\nimport { colors, layers } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React, { useEffect, useRef, useState } from 'react';\nconst TOOLTIP_OFFSET = 4;\nconst popperStyle = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2999517824\"\n  }, [\".jsx-2999517824{z-index:\".concat(layers.applicationTop, \";pointer-events:none;}\"), \"div[data-popper-reference-hidden=\\\"true\\\"].jsx-2999517824{visibility:hidden;}\"]),\n  className: \"jsx-2999517824\"\n};\nconst offsetModifier = {\n  name: 'offset',\n  options: {\n    offset: [0, TOOLTIP_OFFSET]\n  }\n};\n/**\n * For some reason the intended effects of the 'hide' modifier work with or\n * without adding it to the popper... but it may be safe to include it anyway\n */\n\nconst hideModifier = {\n  name: 'hide'\n};\nconst flipModifier = {\n  name: 'flip',\n  options: {\n    altBoundary: true\n  }\n};\n\nconst Tooltip = _ref => {\n  let {\n    children,\n    className,\n    closeDelay,\n    content,\n    dataTest,\n    maxWidth,\n    openDelay,\n    placement\n  } = _ref;\n  const [open, setOpen] = useState(false);\n  const popperReference = useRef();\n  const openTimerRef = useRef(null);\n  const closeTimerRef = useRef(null);\n\n  const onMouseOver = () => {\n    clearTimeout(closeTimerRef.current);\n    openTimerRef.current = setTimeout(() => {\n      setOpen(true);\n    }, openDelay);\n  };\n\n  const onMouseOut = () => {\n    clearTimeout(openTimerRef.current);\n    closeTimerRef.current = setTimeout(() => {\n      setOpen(false);\n    }, closeDelay);\n  };\n\n  useEffect(() => () => {\n    clearTimeout(openTimerRef.current);\n    clearTimeout(closeTimerRef.current);\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, typeof children === 'function' ? children({\n    onMouseOver: onMouseOver,\n    onMouseOut: onMouseOut,\n    ref: popperReference\n  }) : /*#__PURE__*/React.createElement(\"span\", {\n    onMouseOver: onMouseOver,\n    onMouseOut: onMouseOut,\n    ref: popperReference,\n    \"data-test\": \"\".concat(dataTest, \"-reference\"),\n    className: _JSXStyle.dynamic([[\"3515683788\", [maxWidth, colors.grey900, colors.white]]])\n  }, children), open && /*#__PURE__*/React.createElement(Portal, null, /*#__PURE__*/React.createElement(Popper, {\n    className: popperStyle.className,\n    placement: placement,\n    reference: popperReference,\n    modifiers: [offsetModifier, flipModifier, hideModifier]\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": \"\".concat(dataTest, \"-content\"),\n    className: _JSXStyle.dynamic([[\"3515683788\", [maxWidth, colors.grey900, colors.white]]]) + \" \" + (className || \"\")\n  }, content))), popperStyle.styles, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3515683788\",\n    dynamic: [maxWidth, colors.grey900, colors.white]\n  }, [\"div.__jsx-style-dynamic-selector{max-width:\".concat(maxWidth, \"px;}\"), \"div.__jsx-style-dynamic-selector{padding:4px 6px;background-color:\".concat(colors.grey900, \";border-radius:3px;color:\").concat(colors.white, \";font-size:13px;line-height:17px;}\")]));\n};\n\nTooltip.defaultProps = {\n  closeDelay: 200,\n  dataTest: 'dhis2-uicore-tooltip',\n  maxWidth: 300,\n  openDelay: 200,\n  placement: 'top'\n};\nTooltip.propTypes = {\n  /** If child is a function, it's called with `{ onMouseOver, onMouseOut, ref }` args to apply to a reference element. If child is a node, it is wrapped in a `span` with the appropriate attributes and handlers. */\n  children: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  className: PropTypes.string,\n\n  /** Time (in ms) until tooltip closes after mouse out */\n  closeDelay: PropTypes.number,\n\n  /** Content to display when the tooltip is open */\n  content: PropTypes.node,\n  dataTest: PropTypes.string,\n\n  /** Max width of the tooltip in px */\n  maxWidth: PropTypes.number,\n\n  /** Time (in ms) until tooltip open after mouse over */\n  openDelay: PropTypes.number,\n\n  /** Where to place the tooltip relative to its reference */\n  placement: PropTypes.oneOf(['top', 'right', 'bottom', 'left'])\n};\nexport { Tooltip, TOOLTIP_OFFSET };","import _JSXStyle from \"styled-jsx/style\";\nimport { spacers } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport const Actions = _ref => {\n  let {\n    children,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    className: _JSXStyle.dynamic([[\"1457814848\", [spacers.dp8]]])\n  }, children, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1457814848\",\n    dynamic: [spacers.dp8]\n  }, [\"div.__jsx-style-dynamic-selector{-webkit-align-content:center;-ms-flex-line-pack:center;align-content:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-flex-shrink:1;-ms-flex-negative:1;flex-shrink:1;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin:0 \".concat(spacers.dp8, \";}\"), \"div.__jsx-style-dynamic-selector>button{margin-top:8px;}\", \"div.__jsx-style-dynamic-selector>button:first-child{margin-top:0;}\"]));\n};\nActions.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  children: PropTypes.node\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { theme } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nconst centerButtonStyles = [\"svg.jsx-114231192{min-width:20px;}\"];\ncenterButtonStyles.__hash = \"114231192\";\nexport const IconAddAll = _ref => {\n  let {\n    dataTest,\n    disabled\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"16\",\n    height: \"16\",\n    viewBox: \"0 0 16 16\",\n    \"data-test\": dataTest,\n    fill: disabled ? theme.disabled : '#404B5A',\n    className: \"jsx-\".concat(centerButtonStyles.__hash)\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    fillRule: \"evenodd\",\n    className: \"jsx-\".concat(centerButtonStyles.__hash)\n  }, /*#__PURE__*/React.createElement(\"polygon\", {\n    fillRule: \"nonzero\",\n    points: \"6 2 4.94 3.06 9.13 7.25 0 7.25 0 8.75 9.13 8.75 4.94 12.94 6 14 12 8\",\n    className: \"jsx-\".concat(centerButtonStyles.__hash)\n  }), /*#__PURE__*/React.createElement(\"polygon\", {\n    fillRule: \"nonzero\",\n    points: \"10 2 8.94 3.06 13.13 7.25 13.9 8 13.13 8.75 8.94 12.94 10 14 16 8\",\n    className: \"jsx-\".concat(centerButtonStyles.__hash)\n  })), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: centerButtonStyles.__hash\n  }, centerButtonStyles));\n};\nIconAddAll.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  disabled: PropTypes.bool\n};\nexport const IconAddIndividual = _ref2 => {\n  let {\n    dataTest,\n    disabled\n  } = _ref2;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    fill: disabled ? theme.disabled : '#404B5A',\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"16\",\n    height: \"16\",\n    viewBox: \"0 0 16 16\",\n    \"data-test\": dataTest,\n    className: \"jsx-\".concat(centerButtonStyles.__hash)\n  }, /*#__PURE__*/React.createElement(\"polygon\", {\n    points: \"8 2 6.94 3.06 11.13 7.25 2 7.25 2 8.75 11.13 8.75 6.94 12.94 8 14 14 8\",\n    className: \"jsx-\".concat(centerButtonStyles.__hash)\n  }), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: centerButtonStyles.__hash\n  }, centerButtonStyles));\n};\nIconAddIndividual.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  disabled: PropTypes.bool\n};\nexport const IconRemoveAll = _ref3 => {\n  let {\n    dataTest,\n    disabled\n  } = _ref3;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    fill: disabled ? theme.disabled : '#404B5A',\n    width: \"16px\",\n    height: \"16px\",\n    viewBox: \"0 0 16 16\",\n    \"data-test\": dataTest,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    className: \"jsx-\".concat(centerButtonStyles.__hash)\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    fillRule: \"evenodd\",\n    className: \"jsx-\".concat(centerButtonStyles.__hash)\n  }, /*#__PURE__*/React.createElement(\"polygon\", {\n    fillRule: \"nonzero\",\n    points: \"10 2 8.94 3.06 13.13 7.25 4 7.25 4 8.75 13.13 8.75 8.94 12.94 10 14 16 8\",\n    transform: \"matrix(-1 0 0 1 20 0)\",\n    className: \"jsx-\".concat(centerButtonStyles.__hash)\n  }), /*#__PURE__*/React.createElement(\"polygon\", {\n    fillRule: \"nonzero\",\n    points: \"1.06 2 0 3.06 4.19 7.25 4.96 8 4.19 8.75 0 12.94 1.06 14 7.06 8\",\n    transform: \"matrix(-1 0 0 1 7.06 0)\",\n    className: \"jsx-\".concat(centerButtonStyles.__hash)\n  })), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: centerButtonStyles.__hash\n  }, centerButtonStyles));\n};\nIconRemoveAll.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  disabled: PropTypes.bool\n};\nexport const IconRemoveIndividual = _ref4 => {\n  let {\n    dataTest,\n    disabled\n  } = _ref4;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    fill: disabled ? theme.disabled : '#404B5A',\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"16\",\n    height: \"16\",\n    viewBox: \"0 0 16 16\",\n    \"data-test\": dataTest,\n    className: \"jsx-\".concat(centerButtonStyles.__hash)\n  }, /*#__PURE__*/React.createElement(\"polygon\", {\n    points: \"8 2 6.94 3.06 11.13 7.25 2 7.25 2 8.75 11.13 8.75 6.94 12.94 8 14 14 8\",\n    transform: \"matrix(-1 0 0 1 16 0)\",\n    className: \"jsx-\".concat(centerButtonStyles.__hash)\n  }), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: centerButtonStyles.__hash\n  }, centerButtonStyles));\n};\nIconRemoveIndividual.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  disabled: PropTypes.bool\n};\nexport const IconMoveDown = _ref5 => {\n  let {\n    dataTest,\n    disabled\n  } = _ref5;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    fill: disabled ? theme.disabled : '#404B5A',\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"16\",\n    height: \"16\",\n    viewBox: \"0 0 16 16\",\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"polygon\", {\n    points: \"8 2 6.94 3.06 11.13 7.25 2 7.25 2 8.75 11.13 8.75 6.94 12.94 8 14 14 8\",\n    transform: \"matrix(0 1 1 0 0 0)\"\n  }));\n};\nIconMoveDown.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  disabled: PropTypes.bool\n};\nexport const IconMoveUp = _ref6 => {\n  let {\n    dataTest,\n    disabled\n  } = _ref6;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    fill: disabled ? theme.disabled : '#404B5A',\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"16\",\n    height: \"16\",\n    viewBox: \"0 0 16 16\",\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"polygon\", {\n    points: \"8 2 6.94 3.06 11.13 7.25 2 7.25 2 8.75 11.13 8.75 6.94 12.94 8 14 14 8\",\n    transform: \"rotate(-90 8 8)\"\n  }));\n};\nIconMoveUp.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  disabled: PropTypes.bool\n};","import { Button } from '@dhis2-ui/button';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { IconAddAll } from './icons.js';\nexport const AddAll = _ref => {\n  let {\n    label,\n    dataTest,\n    disabled,\n    onClick\n  } = _ref;\n  return /*#__PURE__*/React.createElement(Button, {\n    dataTest: dataTest,\n    disabled: disabled,\n    onClick: onClick,\n    icon: /*#__PURE__*/React.createElement(IconAddAll, {\n      dataTest: \"\".concat(dataTest, \"-iconaddall\"),\n      disabled: disabled\n    })\n  }, label);\n};\nAddAll.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n  disabled: PropTypes.bool,\n  label: PropTypes.string\n};","import { Button } from '@dhis2-ui/button';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { IconAddIndividual } from './icons.js';\nexport const AddIndividual = _ref => {\n  let {\n    label,\n    dataTest,\n    disabled,\n    onClick\n  } = _ref;\n  return /*#__PURE__*/React.createElement(Button, {\n    dataTest: dataTest,\n    disabled: disabled,\n    onClick: onClick,\n    icon: /*#__PURE__*/React.createElement(IconAddIndividual, {\n      disabled: disabled,\n      dataTest: \"\".concat(dataTest, \"-iconaddindividual\")\n    })\n  }, label);\n};\nAddIndividual.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n  disabled: PropTypes.bool,\n  label: PropTypes.string\n};","import _JSXStyle from \"styled-jsx/style\";\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport const Container = _ref => {\n  let {\n    children,\n    dataTest,\n    className,\n    height\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    className: _JSXStyle.dynamic([[\"3332822660\", [height]]]) + \" \" + (className || \"\")\n  }, children, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3332822660\",\n    dynamic: [height]\n  }, [\"div.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:100%;height:\".concat(height, \";}\")]));\n};\nContainer.propTypes = {\n  height: PropTypes.string.isRequired,\n  children: PropTypes.node,\n  className: PropTypes.string,\n  dataTest: PropTypes.string\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { Field } from '@dhis2-ui/field';\nimport { Input } from '@dhis2-ui/input';\nimport { spacers } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport const Filter = _ref => {\n  let {\n    dataTest,\n    filter,\n    onChange,\n    label,\n    placeholder\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    className: _JSXStyle.dynamic([[\"3679907342\", [spacers.dp8, spacers.dp8]]])\n  }, /*#__PURE__*/React.createElement(Field, {\n    label: label,\n    name: dataTest,\n    dataTest: \"\".concat(dataTest, \"-field\")\n  }, /*#__PURE__*/React.createElement(Input, {\n    dataTest: \"\".concat(dataTest, \"-input\"),\n    type: \"search\",\n    placeholder: placeholder,\n    value: filter,\n    onChange: onChange\n  })), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3679907342\",\n    dynamic: [spacers.dp8, spacers.dp8]\n  }, [\"div.__jsx-style-dynamic-selector{padding-bottom:\".concat(spacers.dp8, \";}\"), \"div.__jsx-style-dynamic-selector:first-child{padding-top:\".concat(spacers.dp8, \";}\")]));\n};\nFilter.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  filter: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n  label: PropTypes.string,\n  placeholder: PropTypes.string\n};","import { colors } from '@dhis2/ui-constants';\nexport const backgroundColor = colors.white;\nexport const borderColor = colors.grey400;\nexport const borderRadius = '3px';","import _JSXStyle from \"styled-jsx/style\";\nimport { spacers } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { borderColor } from './common/index.js';\nexport const LeftFooter = _ref => {\n  let {\n    children,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    className: _JSXStyle.dynamic([[\"3629116366\", [borderColor, spacers.dp8]]])\n  }, children, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3629116366\",\n    dynamic: [borderColor, spacers.dp8]\n  }, [\"div.__jsx-style-dynamic-selector{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;border-top:1px solid \".concat(borderColor, \";padding:0 \").concat(spacers.dp8, \";}\")]));\n};\nLeftFooter.propTypes = {\n  children: PropTypes.node,\n  dataTest: PropTypes.string\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { spacers } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { borderColor } from './common/index.js';\nexport const LeftHeader = _ref => {\n  let {\n    children,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    className: _JSXStyle.dynamic([[\"2175954399\", [borderColor, spacers.dp8]]])\n  }, children, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2175954399\",\n    dynamic: [borderColor, spacers.dp8]\n  }, [\"div.__jsx-style-dynamic-selector{border-bottom:1px solid \".concat(borderColor, \";-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;padding:0 \").concat(spacers.dp8, \";}\")]));\n};\nLeftHeader.propTypes = {\n  children: PropTypes.node,\n  dataTest: PropTypes.string\n};","import _JSXStyle from \"styled-jsx/style\";\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { backgroundColor, borderColor, borderRadius } from './common/index.js';\nexport const LeftSide = _ref => {\n  let {\n    children,\n    dataTest,\n    width\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    className: _JSXStyle.dynamic([[\"4143353612\", [backgroundColor, borderRadius, borderColor, width]]])\n  }, children,\n  /**\n   * Flex basis 0px to make sure right and left side\n   * always have the same width\n   */\n  '', /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"4143353612\",\n    dynamic: [backgroundColor, borderRadius, borderColor, width]\n  }, [\"div.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;background-color:\".concat(backgroundColor, \";border-radius:\").concat(borderRadius, \";border:1px solid \").concat(borderColor, \";min-height:240px;max-width:100%;width:\").concat(width, \";}\")]));\n};\nLeftSide.propTypes = {\n  width: PropTypes.string.isRequired,\n  children: PropTypes.node,\n  dataTest: PropTypes.string\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { IntersectionDetector } from '@dhis2-ui/intersection-detector';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport const EndIntersectionDetector = _ref => {\n  let {\n    rootRef,\n    onEndReached,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    className: \"jsx-4200578429\"\n  }, /*#__PURE__*/React.createElement(IntersectionDetector, {\n    rootRef: rootRef,\n    onChange: _ref2 => {\n      let {\n        isIntersecting\n      } = _ref2;\n      return isIntersecting && onEndReached();\n    }\n  }), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"4200578429\"\n  }, [\"div.jsx-4200578429{width:100%;height:50px;position:absolute;z-index:-1;bottom:0;left:0;}\"]));\n};\nEndIntersectionDetector.propTypes = {\n  rootRef: PropTypes.shape({\n    current: PropTypes.instanceOf(HTMLElement)\n  }).isRequired,\n  onEndReached: PropTypes.func.isRequired,\n  dataTest: PropTypes.string\n};","import { useEffect, useState } from 'react';\n/*\n * The initial call is irrelevant as there has been\n * no resize yet that we want to react to\n * So we start with -1 with will returned as 0 by this hook\n *\n * @param {Element} element\n * @returns {number}\n */\n\nexport const useResizeCounter = element => {\n  const [counter, setCounter] = useState(-1);\n  useEffect(() => {\n    // using an internal counter as using the one from `useState`\n    // would cause an infinite loop as this `useEffect` would\n    // both depend on that value as well as change it every time\n    // it's executed as the callback passed to `ResizeObserver`\n    // will be executed on construction\n    let internalCounter = counter;\n\n    if (element) {\n      const observer = new ResizeObserver(() => {\n        ++internalCounter;\n        setCounter(internalCounter);\n      });\n      observer.observe(element);\n      return () => observer.disconnect();\n    }\n  }, [element, setCounter]);\n  return counter < 1 ? 0 : counter;\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { CircularLoader } from '@dhis2-ui/loader';\nimport { spacers } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React, { Fragment, useRef } from 'react';\nimport { EndIntersectionDetector } from './end-intersection-detector.js';\nimport { useResizeCounter } from './use-resize-counter.js';\nexport const OptionsContainer = _ref => {\n  let {\n    dataTest,\n    emptyComponent,\n    onEndReached,\n    getOptionClickHandlers,\n    highlightedOptions,\n    loading,\n    renderOption,\n    options,\n    selected,\n    selectionHandler,\n    toggleHighlightedOption\n  } = _ref;\n  const optionsRef = useRef(null);\n  const wrapperRef = useRef(null);\n  const resizeCounter = useResizeCounter(wrapperRef.current);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"889751462\", [spacers.dp4]]]) + \" \" + \"optionsContainer\"\n  }, loading && /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"889751462\", [spacers.dp4]]]) + \" \" + \"loading\"\n  }, /*#__PURE__*/React.createElement(CircularLoader, null)), /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    ref: optionsRef,\n    className: _JSXStyle.dynamic([[\"889751462\", [spacers.dp4]]]) + \" \" + \"container\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    ref: wrapperRef,\n    className: _JSXStyle.dynamic([[\"889751462\", [spacers.dp4]]]) + \" \" + \"content-container\"\n  }, !options.length && emptyComponent, options.map(option => {\n    const highlighted = !!highlightedOptions.find(highlightedSourceOption => highlightedSourceOption === option.value);\n    return /*#__PURE__*/React.createElement(Fragment, {\n      key: option.value\n    }, renderOption({ ...option,\n      ...getOptionClickHandlers(option, selectionHandler, toggleHighlightedOption),\n      highlighted,\n      selected\n    }));\n  }), onEndReached && /*#__PURE__*/React.createElement(EndIntersectionDetector, {\n    dataTest: \"\".concat(dataTest, \"-endintersectiondetector\"),\n    key: \"key-\".concat(resizeCounter),\n    rootRef: optionsRef,\n    onEndReached: onEndReached\n  }))), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"889751462\",\n    dynamic: [spacers.dp4]\n  }, [\".optionsContainer.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;padding:\".concat(spacers.dp4, \" 0;position:relative;overflow:hidden;}\"), \".container.__jsx-style-dynamic-selector{overflow-y:auto;height:100%;}\", \".loading.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:100%;width:100%;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;position:absolute;z-index:2;top:0;left:0;}\", \".content-container.__jsx-style-dynamic-selector{z-index:1;position:relative;}\", \".loading.__jsx-style-dynamic-selector+.container.__jsx-style-dynamic-selector .content-container.__jsx-style-dynamic-selector{-webkit-filter:blur(2px);filter:blur(2px);}\"]));\n};\nOptionsContainer.defaultProps = {\n  selected: false\n};\nOptionsContainer.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  getOptionClickHandlers: PropTypes.func.isRequired,\n  emptyComponent: PropTypes.node,\n  highlightedOptions: PropTypes.arrayOf(PropTypes.string),\n  loading: PropTypes.bool,\n  options: PropTypes.arrayOf(PropTypes.shape({\n    label: PropTypes.string.isRequired,\n    value: PropTypes.string.isRequired\n  })),\n  renderOption: PropTypes.func,\n  selected: PropTypes.bool,\n  selectionHandler: PropTypes.func,\n  toggleHighlightedOption: PropTypes.func,\n  onEndReached: PropTypes.func\n};","import { Button } from '@dhis2-ui/button';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { IconRemoveAll } from './icons.js';\nexport const RemoveAll = _ref => {\n  let {\n    label,\n    dataTest,\n    disabled,\n    onClick\n  } = _ref;\n  return /*#__PURE__*/React.createElement(Button, {\n    dataTest: dataTest,\n    disabled: disabled,\n    onClick: onClick,\n    icon: /*#__PURE__*/React.createElement(IconRemoveAll, {\n      disabled: disabled,\n      dataTest: \"\".concat(dataTest, \"-iconremoveall\")\n    })\n  }, label);\n};\nRemoveAll.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n  disabled: PropTypes.bool,\n  label: PropTypes.string\n};","import { Button } from '@dhis2-ui/button';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { IconRemoveIndividual } from './icons.js';\nexport const RemoveIndividual = _ref => {\n  let {\n    label,\n    dataTest,\n    disabled,\n    onClick\n  } = _ref;\n  return /*#__PURE__*/React.createElement(Button, {\n    dataTest: dataTest,\n    disabled: disabled,\n    onClick: onClick,\n    icon: /*#__PURE__*/React.createElement(IconRemoveIndividual, {\n      disabled: disabled,\n      dataTest: \"\".concat(dataTest, \"-iconremoveindividual\")\n    })\n  }, label);\n};\nRemoveIndividual.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n  disabled: PropTypes.bool,\n  label: PropTypes.string\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { Button } from '@dhis2-ui/button';\nimport { spacers } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { IconMoveDown, IconMoveUp } from './icons.js';\nexport const ReorderingActions = _ref => {\n  let {\n    dataTest,\n    disabledDown,\n    disabledUp,\n    onChangeUp,\n    onChangeDown\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    className: _JSXStyle.dynamic([[\"1295471940\", [spacers.dp8, spacers.dp8, spacers.dp8]]])\n  }, /*#__PURE__*/React.createElement(Button, {\n    small: true,\n    disabled: disabledDown,\n    onClick: () => !disabledDown && onChangeDown(event),\n    dataTest: \"\".concat(dataTest, \"-buttonmovedown\"),\n    icon: /*#__PURE__*/React.createElement(IconMoveDown, {\n      dataTest: \"\".concat(dataTest, \"-iconmovedown\"),\n      disabled: disabledDown\n    })\n  }), /*#__PURE__*/React.createElement(Button, {\n    small: true,\n    disabled: disabledUp,\n    onClick: () => !disabledUp && onChangeUp(event),\n    dataTest: \"\".concat(dataTest, \"-buttonmoveup\"),\n    icon: /*#__PURE__*/React.createElement(IconMoveUp, {\n      dataTest: \"\".concat(dataTest, \"-iconmoveup\"),\n      disabled: disabledUp\n    })\n  }), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1295471940\",\n    dynamic: [spacers.dp8, spacers.dp8, spacers.dp8]\n  }, [\"div.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row-reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse;padding-top:\".concat(spacers.dp8, \";}\"), \"div.__jsx-style-dynamic-selector:last-child{padding-bottom:\".concat(spacers.dp8, \";}\"), \"div.__jsx-style-dynamic-selector>button:first-child{margin-left:\".concat(spacers.dp8, \";}\")]));\n};\nReorderingActions.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  onChangeDown: PropTypes.func.isRequired,\n  onChangeUp: PropTypes.func.isRequired,\n  disabledDown: PropTypes.bool,\n  disabledUp: PropTypes.bool\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { spacers } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { borderColor } from './common/index.js';\nexport const RightFooter = _ref => {\n  let {\n    children,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    className: _JSXStyle.dynamic([[\"3629116366\", [borderColor, spacers.dp8]]])\n  }, children, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3629116366\",\n    dynamic: [borderColor, spacers.dp8]\n  }, [\"div.__jsx-style-dynamic-selector{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;border-top:1px solid \".concat(borderColor, \";padding:0 \").concat(spacers.dp8, \";}\")]));\n};\nRightFooter.propTypes = {\n  children: PropTypes.node,\n  dataTest: PropTypes.string\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { spacers } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { borderColor } from './common/index.js';\nexport const RightHeader = _ref => {\n  let {\n    children,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    className: _JSXStyle.dynamic([[\"2175954399\", [borderColor, spacers.dp8]]])\n  }, children, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2175954399\",\n    dynamic: [borderColor, spacers.dp8]\n  }, [\"div.__jsx-style-dynamic-selector{border-bottom:1px solid \".concat(borderColor, \";-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;padding:0 \").concat(spacers.dp8, \";}\")]));\n};\nRightHeader.propTypes = {\n  children: PropTypes.node,\n  dataTest: PropTypes.string\n};","import _JSXStyle from \"styled-jsx/style\";\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { backgroundColor, borderColor, borderRadius } from './common/index.js';\nexport const RightSide = _ref => {\n  let {\n    children,\n    dataTest,\n    width\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    className: _JSXStyle.dynamic([[\"1391448013\", [backgroundColor, borderColor, borderRadius, width]]])\n  }, children,\n  /**\n   * Flex basis 0px to make sure right and left side\n   * always have the same width\n   */\n  '', /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1391448013\",\n    dynamic: [backgroundColor, borderColor, borderRadius, width]\n  }, [\"div.__jsx-style-dynamic-selector{background-color:\".concat(backgroundColor, \";border:1px solid \").concat(borderColor, \";border-radius:\").concat(borderRadius, \";display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;max-width:100%;width:\").concat(width, \";}\")]));\n};\nRightSide.propTypes = {\n  width: PropTypes.string.isRequired,\n  children: PropTypes.node,\n  dataTest: PropTypes.string\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { colors } from '@dhis2/ui-constants';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { useRef } from 'react';\nconst DOUBLE_CLICK_MAX_DELAY = 500;\nexport const TransferOption = _ref => {\n  let {\n    className,\n    disabled,\n    dataTest,\n    highlighted,\n    onClick,\n    onDoubleClick,\n    label,\n    value\n  } = _ref;\n  const doubleClickTimeout = useRef(null);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    onClick: event => {\n      if (disabled) {\n        return;\n      }\n\n      if (doubleClickTimeout.current) {\n        clearTimeout(doubleClickTimeout.current);\n        doubleClickTimeout.current = null;\n        onDoubleClick({\n          value\n        }, event);\n      } else {\n        doubleClickTimeout.current = setTimeout(() => {\n          clearTimeout(doubleClickTimeout.current);\n          doubleClickTimeout.current = null;\n        }, DOUBLE_CLICK_MAX_DELAY);\n        onClick({\n          value\n        }, event);\n      }\n    },\n    \"data-value\": value,\n    className: _JSXStyle.dynamic([[\"4216903932\", [colors.grey900, colors.grey200, colors.teal700, colors.white, colors.grey600]]]) + \" \" + (cx(className, {\n      highlighted,\n      disabled\n    }) || \"\")\n  }, label, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"4216903932\",\n    dynamic: [colors.grey900, colors.grey200, colors.teal700, colors.white, colors.grey600]\n  }, [\"div.__jsx-style-dynamic-selector{font-size:14px;line-height:16px;padding:4px 8px;color:\".concat(colors.grey900, \";-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}\"), \"div.__jsx-style-dynamic-selector:hover{background:\".concat(colors.grey200, \";}\"), \"div.highlighted.__jsx-style-dynamic-selector{background:\".concat(colors.teal700, \";color:\").concat(colors.white, \";}\"), \"div.disabled.__jsx-style-dynamic-selector{color:\".concat(colors.grey600, \";cursor:not-allowed;}\")]));\n};\nTransferOption.defaultProps = {\n  dataTest: 'dhis2-uicore-transferoption'\n};\nTransferOption.propTypes = {\n  label: PropTypes.node.isRequired,\n  value: PropTypes.string.isRequired,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n  disabled: PropTypes.bool,\n  highlighted: PropTypes.bool,\n  onClick: PropTypes.func,\n  onDoubleClick: PropTypes.func\n};","import { useState } from 'react';\n\nconst identity = value => value;\n\nexport const useFilter = _ref => {\n  let {\n    initialSearchTerm,\n    onFilterChange,\n    externalSearchTerm,\n    filterable,\n    filterCallback\n  } = _ref;\n  const [internalFilter, setInternalFilter] = useState(initialSearchTerm);\n  const filterValue = onFilterChange ? externalSearchTerm : internalFilter;\n  const filter = filterable ? filterCallback : identity;\n  return {\n    filterValue,\n    filter,\n    setInternalFilter\n  };\n};","/**\n * Click modes when clicking on an option with/without\n * a modifier key (ctrl, alt, cmd, shift)\n */\n// no or multiple modifier keys\nexport const REPLACE_MODE = 'REPLACE_MODE'; // add/remove options from selection\n\nexport const ADD_MODE = 'ADD_MODE'; // create selection range\n\nexport const RANGE_MODE = 'RANGE_MODE';","import { ADD_MODE, RANGE_MODE } from '../../common/index.js';\nimport { toggleAdd } from './toggle-add.js';\nimport { toggleRange } from './toggle-range.js';\nimport { toggleReplace } from './toggle-replace.js';\n/**\n * @param {Object} args\n * @param {bool} args.disabled\n * @param {string[]} args.highlightedOptions\n * @param {Function} args.setHighlightedOptions\n * @param {number} args.maxSelections\n * @param {Function} args.setLastClicked\n * @param {Object[]} args.options\n * @param {string} args.lastClicked\n * @returns {void}\n */\n\nexport const createToggleHighlightedOption = _ref => {\n  let {\n    disabled,\n    highlightedOptions,\n    setHighlightedOptions,\n    maxSelections,\n    setLastClicked,\n    options,\n    lastClicked\n  } = _ref;\n  return _ref2 => {\n    let {\n      option,\n      mode\n    } = _ref2;\n\n    if (disabled) {\n      return;\n    }\n\n    setHighlightedOptions([]);\n\n    if (mode === ADD_MODE) {\n      setLastClicked(option.value);\n      return toggleAdd({\n        highlightedOptions,\n        maxSelections,\n        option,\n        setHighlightedOptions\n      });\n    }\n\n    if (mode === RANGE_MODE) {\n      return toggleRange({\n        highlightedOptions,\n        options,\n        option,\n        setHighlightedOptions,\n        lastClicked,\n        maxSelections\n      });\n    } // REPLACE_MODE\n\n\n    setLastClicked(option.value);\n    return toggleReplace({\n      option,\n      highlightedOptions,\n      setHighlightedOptions\n    });\n  };\n};","import { toggleValue } from '../../common/index.js';\n/**\n * @param {Object} args\n * @param {number} args.maxSelections\n * @param {string[]} args.highlightedOptions\n * @param {Object} args.option\n * @param {Function} args.setHighlightedOption\n * @returns {void}\n */\n\nexport const toggleAdd = _ref => {\n  let {\n    highlightedOptions,\n    maxSelections,\n    option,\n    setHighlightedOptions\n  } = _ref;\n  const afterToggled = toggleValue(highlightedOptions, option.value);\n  const capped = afterToggled.slice(-1 * maxSelections);\n  setHighlightedOptions(capped);\n};","/**\n * @param {string[]} values\n * @param {string} value\n * @returns {string[]}\n */\nexport const toggleValue = (values, value) => {\n  const index = values.indexOf(value);\n\n  if (index === -1) {\n    return [...values, value];\n  } else if (index === 0) {\n    values.slice(1);\n  }\n\n  const prevSlice = values.slice(0, index);\n  const nextSlice = values.slice(index + 1);\n  return [...prevSlice, ...nextSlice];\n};","import { findOptionIndex } from '../../common/index.js';\n/**\n * @param {Object} args\n * @param {number} args.maxSelections\n * @param {string[]} args.highlightedOptions\n * @param {Object[]} args.options\n * @param {Object} args.option\n * @param {string} args.lastClicked\n * @param {Function} args.setHighlightedOption\n * @returns {void}\n */\n\nexport const toggleRange = _ref => {\n  let {\n    highlightedOptions,\n    options,\n    option,\n    setHighlightedOptions,\n    lastClicked,\n    maxSelections\n  } = _ref;\n\n  if (highlightedOptions.length === 0) {\n    setHighlightedOptions([option.value]);\n  } else {\n    let from, to;\n    const clickedOptionIndex = findOptionIndex(options, option);\n    const lastClickedSourceOptionWithoutRangeModeIndex = lastClicked ? options.findIndex(curOption => curOption.value === lastClicked) : -1;\n\n    if (lastClickedSourceOptionWithoutRangeModeIndex !== -1) {\n      from = lastClickedSourceOptionWithoutRangeModeIndex;\n      to = clickedOptionIndex;\n    } else {\n      /**\n       * A filter-change has removed the most recently highlighted option\n       */\n      const firstHighlightedInList = options.findIndex(option => highlightedOptions.find(highlightedOption => highlightedOption === option.value));\n      from = firstHighlightedInList;\n      to = clickedOptionIndex;\n    } // this is so we can also selected\n    // a range of options above \"from\" option.\n    // -> Just how slice works ;)\n\n\n    const lower = Math.min(from, to);\n    const higher = Math.max(from, to);\n    const newHighlightedSourceOptions = options.slice(lower, higher + 1).filter(option => !option.disabled).slice(maxSelections * -1).map(_ref2 => {\n      let {\n        value\n      } = _ref2;\n      return value;\n    });\n    setHighlightedOptions(newHighlightedSourceOptions);\n  }\n};","import { isOption } from './is-option.js';\n/**\n * @param {Object[]} options\n * @param {Object} option\n * @returns {Int}\n */\n\nexport const findOptionIndex = (options, option) => options.findIndex(current => isOption(current, option));","/**\n * @param {Object} left\n * @param {Object} left\n * @returns {bool}\n */\nexport const isOption = (left, right) => left.label === right.label && left.value === right.value;","/**\n * @param {Object} args\n * @param {string[]} args.highlightedOptions\n * @param {Object} args.option\n * @param {Function} args.setHighlightedOption\n * @returns {void}\n */\nexport const toggleReplace = _ref => {\n  let {\n    option,\n    highlightedOptions,\n    setHighlightedOptions\n  } = _ref;\n\n  if (highlightedOptions.length > 1) {\n    setHighlightedOptions([option.value]);\n  } else {\n    const optionIndex = highlightedOptions.findIndex(highlightedOption => highlightedOption === option.value);\n\n    if (optionIndex === -1) {\n      setHighlightedOptions([option.value]);\n    } else {\n      setHighlightedOptions([]);\n    }\n  }\n};","import { useState } from 'react';\nimport { createToggleHighlightedOption } from './use-highlighted-options/create-toggle-highlighted-option.js';\n/**\n * @param {Object} args\n * @param {bool} args.disabled\n * @param {number} args.maxSelection\n * @param {Object[]} args.options\n * @returns {Object} highlighted options & helpers\n */\n\nexport const useHighlightedOptions = _ref => {\n  let {\n    disabled,\n    maxSelections,\n    options\n  } = _ref;\n\n  /**\n   * These are important so the stored element can be used\n   * as range-start when using shift multiple times consecutively\n   */\n  const [lastClicked, setLastClicked] = useState(null);\n  const [highlightedOptions, setHighlightedOptions] = useState([]);\n  const toggleHighlightedOption = createToggleHighlightedOption({\n    disabled,\n    highlightedOptions,\n    setHighlightedOptions,\n    maxSelections,\n    setLastClicked,\n    options,\n    lastClicked\n  });\n  return {\n    highlightedOptions,\n    setHighlightedOptions,\n    toggleHighlightedOption\n  };\n};","import { getModeByModifierKey } from '../common/index.js';\n/**\n * @param {Object} option\n * @param {Function} selectionHandler\n * @param {Function} toggleHighlightedOption\n * @returns {Object}\n */\n\nexport const getOptionClickHandlers = (option, selectionHandler, toggleHighlightedOption) => ({\n  onClick: (_, event) => {\n    const mode = getModeByModifierKey(event);\n    toggleHighlightedOption({\n      option,\n      mode\n    });\n  },\n  onDoubleClick: selectionHandler\n});","import { ADD_MODE, RANGE_MODE, REPLACE_MODE } from './modes.js';\n/**\n * @param {Object} args\n * @param {bool} args.altKey\n * @param {bool} args.shiftKey\n * @param {bool} args.ctrlKey\n * @param {bool} args.metaKey\n * @return {string}\n */\n\nexport const getModeByModifierKey = _ref => {\n  let {\n    altKey,\n    shiftKey,\n    ctrlKey,\n    metaKey\n  } = _ref;\n  const keys = [altKey, shiftKey, ctrlKey, metaKey];\n  const amountKeyPressed = keys.filter(v => v);\n  const moreThanOneKeyPressed = amountKeyPressed.length;\n\n  if (moreThanOneKeyPressed !== 1) {\n    return REPLACE_MODE;\n  }\n\n  if (altKey || ctrlKey || metaKey) {\n    return ADD_MODE;\n  }\n\n  if (shiftKey) {\n    return RANGE_MODE;\n  } // default to replace mode\n\n\n  return REPLACE_MODE;\n};","/**\n * @param {Object} args\n * @param {string} args.highlightedPickedOptions\n * @param {string[]} args.selected\n * @returns {bool}\n */\nexport const isReorderDownDisabled = _ref => {\n  let {\n    highlightedPickedOptions,\n    selected\n  } = _ref;\n  return (// only one item can be moved with the buttons\n    highlightedPickedOptions.length !== 1 || // can't move an item down if it's the last one\n    selected.indexOf(highlightedPickedOptions[0]) === selected.length - 1\n  );\n};","/**\n * @param {Object} args\n * @param {string} args.highlightedPickedOptions\n * @param {string[]} args.selected\n * @returns {bool}\n */\nexport const isReorderUpDisabled = _ref => {\n  let {\n    highlightedPickedOptions,\n    selected\n  } = _ref;\n  return (// only one item can be moved with the buttons\n    highlightedPickedOptions.length !== 1 || // can't move an item up if it's the first one\n    selected.indexOf(highlightedPickedOptions[0]) === 0\n  );\n};","/**\n * @param {Object[]} options\n * @param {string} filter\n * @returns {Object[]}\n */\nexport const defaultFilterCallback = (options, filter) => filter === '' ? options : options.filter(_ref => {\n  let {\n    label\n  } = _ref;\n  return label.match(new RegExp(filter, 'i'));\n});","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Actions } from './actions.js';\nimport { AddAll } from './add-all.js';\nimport { AddIndividual } from './add-individual.js';\nimport { Container } from './container.js';\nimport { Filter } from './filter.js';\nimport { LeftFooter } from './left-footer.js';\nimport { LeftHeader } from './left-header.js';\nimport { LeftSide } from './left-side.js';\nimport { OptionsContainer } from './options-container.js';\nimport { RemoveAll } from './remove-all.js';\nimport { RemoveIndividual } from './remove-individual.js';\nimport { ReorderingActions } from './reordering-actions.js';\nimport { RightFooter } from './right-footer.js';\nimport { RightHeader } from './right-header.js';\nimport { RightSide } from './right-side.js';\nimport { TransferOption } from './transfer-option.js';\nimport { addAllSelectableSourceOptions, addIndividualSourceOptions, createDoubleClickHandlers, defaultFilterCallback, getOptionClickHandlers, isReorderDownDisabled, isReorderUpDisabled, moveHighlightedPickedOptionDown, moveHighlightedPickedOptionUp, removeAllPickedOptions, removeIndividualPickedOptions, useFilter, useHighlightedOptions } from './transfer/index.js';\n\nconst identity = value => value;\n\nexport const Transfer = _ref => {\n  let {\n    options,\n    onChange,\n    addAllText,\n    addIndividualText,\n    className,\n    dataTest,\n    disabled,\n    enableOrderChange,\n    filterCallback,\n    filterCallbackPicked,\n    filterLabel,\n    filterLabelPicked,\n    filterPlaceholder,\n    filterPlaceholderPicked,\n    filterable,\n    filterablePicked,\n    height,\n    hideFilterInput,\n    hideFilterInputPicked,\n    initialSearchTerm,\n    initialSearchTermPicked,\n    leftFooter,\n    leftHeader,\n    loadingPicked,\n    loading,\n    maxSelections,\n    optionsWidth,\n    removeAllText,\n    removeIndividualText,\n    renderOption,\n    rightFooter,\n    rightHeader,\n    searchTerm,\n    searchTermPicked,\n    selected,\n    selectedEmptyComponent,\n    selectedWidth,\n    sourceEmptyPlaceholder,\n    onFilterChange,\n    onFilterChangePicked,\n    onEndReached,\n    onEndReachedPicked\n  } = _ref;\n\n  /* Source options search value:\n   * Depending on whether the onFilterChange callback has been provided\n   * either the internal or external search value is used */\n  const {\n    filterValue: actualFilter,\n    filter: actualFilterCallback,\n    setInternalFilter\n  } = useFilter({\n    initialSearchTerm,\n    onFilterChange,\n    externalSearchTerm: searchTerm,\n    filterable,\n    filterCallback\n  });\n  /*\n   * Actual source options:\n   * Extract the not-selected options.\n   * Filters options if filterable is true.\n   */\n\n  const sourceOptions = actualFilterCallback(options.filter(_ref2 => {\n    let {\n      value\n    } = _ref2;\n    return !selected.includes(value);\n  }), actualFilter);\n  /*\n   * Picked options highlighting:\n   * These are all the highlighted options on the options side.\n   */\n\n  const {\n    highlightedOptions: highlightedSourceOptions,\n    setHighlightedOptions: setHighlightedSourceOptions,\n    toggleHighlightedOption: toggleHighlightedSourceOption\n  } = useHighlightedOptions({\n    options: sourceOptions,\n    disabled,\n    maxSelections\n  });\n  /* Picked options search value:\n   * Depending on whether the onFilterChangePicked callback has been provided\n   * either the internal or external search value is used */\n\n  const {\n    filterValue: actualFilterPicked,\n    filter: actualFilterPickedCallback,\n    setInternalFilter: setInternalFilterPicked\n  } = useFilter({\n    filterable: filterablePicked,\n    initialSearchTerm: initialSearchTermPicked,\n    onFilterChange: onFilterChangePicked,\n    externalSearchTerm: searchTermPicked,\n    filterCallback: filterCallbackPicked\n  });\n  /*\n   * Actual picked options:\n   * Extract the selected options. Can't use `options.filter`\n   * because we need to keep the order of `selected`\n   */\n\n  let pickedOptions = []; // Only map if selected is an array\n\n  if (Array.isArray(selected)) {\n    pickedOptions = actualFilterPickedCallback(selected.map(value => options.find(option => value === option.value)) // filter -> in case a selected value has been provided\n    // that does not exist as option\n    .filter(identity), actualFilterPicked);\n  }\n  /*\n   * Source options highlighting:\n   * These are all the highlighted options on the selected side.\n   */\n\n\n  const {\n    highlightedOptions: highlightedPickedOptions,\n    setHighlightedOptions: setHighlightedPickedOptions,\n    toggleHighlightedOption: toggleHighlightedPickedOption\n  } = useHighlightedOptions({\n    options: pickedOptions,\n    disabled,\n    maxSelections\n  });\n  /*\n   * Source & Picked options:\n   * These are the double click handlers for (de-)selection\n   */\n\n  const {\n    selectSingleOption,\n    deselectSingleOption\n  } = createDoubleClickHandlers({\n    selected,\n    setHighlightedSourceOptions,\n    setHighlightedPickedOptions,\n    onChange,\n    maxSelections\n  });\n  /**\n   * Disabled button states\n   */\n\n  const isAddAllDisabled = disabled || sourceOptions.filter(_ref3 => {\n    let {\n      disabled\n    } = _ref3;\n    return !disabled;\n  }).length === 0;\n  const isAddIndividualDisabled = disabled || !highlightedSourceOptions.length;\n  const isRemoveAllDisabled = disabled || !selected.length;\n  const isRemoveIndividualDisabled = disabled || !highlightedPickedOptions.length;\n  return /*#__PURE__*/React.createElement(Container, {\n    dataTest: dataTest,\n    className: className,\n    height: height\n  }, /*#__PURE__*/React.createElement(LeftSide, {\n    dataTest: \"\".concat(dataTest, \"-leftside\"),\n    width: optionsWidth\n  }, (leftHeader || filterable) && /*#__PURE__*/React.createElement(LeftHeader, {\n    dataTest: \"\".concat(dataTest, \"-leftheader\")\n  }, leftHeader, filterable && !hideFilterInput && /*#__PURE__*/React.createElement(Filter, {\n    label: filterLabel,\n    placeholder: filterPlaceholder,\n    dataTest: \"\".concat(dataTest, \"-filter\"),\n    filter: actualFilter,\n    onChange: onFilterChange ? onFilterChange : _ref4 => {\n      let {\n        value\n      } = _ref4;\n      return setInternalFilter(value);\n    }\n  })), /*#__PURE__*/React.createElement(OptionsContainer, {\n    dataTest: \"\".concat(dataTest, \"-sourceoptions\"),\n    emptyComponent: sourceEmptyPlaceholder,\n    getOptionClickHandlers: getOptionClickHandlers,\n    highlightedOptions: highlightedSourceOptions,\n    loading: loading,\n    options: sourceOptions,\n    renderOption: renderOption,\n    selectionHandler: selectSingleOption,\n    toggleHighlightedOption: toggleHighlightedSourceOption,\n    onEndReached: onEndReached\n  }), leftFooter && /*#__PURE__*/React.createElement(LeftFooter, {\n    dataTest: \"\".concat(dataTest, \"-leftfooter\")\n  }, leftFooter)), /*#__PURE__*/React.createElement(Actions, {\n    dataTest: \"\".concat(dataTest, \"-actions\")\n  }, maxSelections === Infinity && /*#__PURE__*/React.createElement(AddAll, {\n    label: addAllText,\n    dataTest: \"\".concat(dataTest, \"-actions-addall\"),\n    disabled: isAddAllDisabled,\n    onClick: () => addAllSelectableSourceOptions({\n      sourceOptions,\n      selected,\n      onChange,\n      setHighlightedSourceOptions\n    })\n  }), /*#__PURE__*/React.createElement(AddIndividual, {\n    label: addIndividualText,\n    dataTest: \"\".concat(dataTest, \"-actions-addindividual\"),\n    disabled: isAddIndividualDisabled,\n    onClick: () => addIndividualSourceOptions({\n      filterable,\n      sourceOptions,\n      highlightedSourceOptions,\n      selected,\n      maxSelections,\n      onChange,\n      setHighlightedSourceOptions\n    })\n  }), maxSelections === Infinity && /*#__PURE__*/React.createElement(RemoveAll, {\n    label: removeAllText,\n    dataTest: \"\".concat(dataTest, \"-actions-removeall\"),\n    disabled: isRemoveAllDisabled,\n    onClick: () => removeAllPickedOptions({\n      setHighlightedPickedOptions,\n      onChange\n    })\n  }), /*#__PURE__*/React.createElement(RemoveIndividual, {\n    label: removeIndividualText,\n    dataTest: \"\".concat(dataTest, \"-actions-removeindividual\"),\n    disabled: isRemoveIndividualDisabled,\n    onClick: () => removeIndividualPickedOptions({\n      filterablePicked,\n      pickedOptions,\n      highlightedPickedOptions,\n      onChange,\n      selected,\n      setHighlightedPickedOptions\n    })\n  })), /*#__PURE__*/React.createElement(RightSide, {\n    dataTest: \"\".concat(dataTest, \"-rightside\"),\n    width: selectedWidth\n  }, (rightHeader || filterablePicked) && /*#__PURE__*/React.createElement(RightHeader, {\n    dataTest: \"\".concat(dataTest, \"-rightheader\")\n  }, rightHeader, filterablePicked && !hideFilterInputPicked && /*#__PURE__*/React.createElement(Filter, {\n    label: filterLabelPicked,\n    placeholder: filterPlaceholderPicked,\n    dataTest: \"\".concat(dataTest, \"-filter\"),\n    filter: actualFilterPicked,\n    onChange: onFilterChangePicked ? onFilterChangePicked : _ref5 => {\n      let {\n        value\n      } = _ref5;\n      return setInternalFilterPicked(value);\n    }\n  })), /*#__PURE__*/React.createElement(OptionsContainer, {\n    selected: true,\n    dataTest: \"\".concat(dataTest, \"-pickedoptions\"),\n    emptyComponent: selectedEmptyComponent,\n    getOptionClickHandlers: getOptionClickHandlers,\n    highlightedOptions: highlightedPickedOptions,\n    loading: loadingPicked,\n    options: pickedOptions,\n    renderOption: renderOption,\n    selectionHandler: deselectSingleOption,\n    toggleHighlightedOption: toggleHighlightedPickedOption,\n    onEndReached: onEndReachedPicked\n  }), (rightFooter || enableOrderChange) && /*#__PURE__*/React.createElement(RightFooter, {\n    dataTest: \"\".concat(dataTest, \"-rightfooter\")\n  }, enableOrderChange && /*#__PURE__*/React.createElement(ReorderingActions, {\n    dataTest: \"\".concat(dataTest, \"-reorderingactions\"),\n    disabledDown: isReorderDownDisabled({\n      highlightedPickedOptions,\n      selected\n    }),\n    disabledUp: isReorderUpDisabled({\n      highlightedPickedOptions,\n      selected\n    }),\n    onChangeUp: () => moveHighlightedPickedOptionUp({\n      selected,\n      highlightedPickedOptions,\n      onChange\n    }),\n    onChangeDown: () => {\n      moveHighlightedPickedOptionDown({\n        selected,\n        highlightedPickedOptions,\n        onChange\n      });\n    }\n  }), rightFooter)));\n};\n\nconst defaultRenderOption = option => /*#__PURE__*/React.createElement(TransferOption, option);\n\nTransfer.defaultProps = {\n  dataTest: 'dhis2-uicore-transfer',\n  height: '240px',\n  initialSearchTerm: '',\n  initialSearchTermPicked: '',\n  maxSelections: Infinity,\n  optionsWidth: '320px',\n  renderOption: defaultRenderOption,\n  selected: [],\n  selectedWidth: '320px',\n  filterCallback: defaultFilterCallback,\n  filterCallbackPicked: defaultFilterCallback\n};\nTransfer.propTypes = {\n  options: PropTypes.arrayOf(PropTypes.shape({\n    label: PropTypes.string.isRequired,\n    value: PropTypes.string.isRequired,\n    disabled: PropTypes.bool\n  })).isRequired,\n  onChange: PropTypes.func.isRequired,\n  addAllText: PropTypes.string,\n  addIndividualText: PropTypes.string,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n  disabled: PropTypes.bool,\n  enableOrderChange: PropTypes.bool,\n  filterCallback: PropTypes.func,\n  filterCallbackPicked: PropTypes.func,\n  filterLabel: PropTypes.string,\n  filterLabelPicked: PropTypes.string,\n  filterPlaceholder: PropTypes.string,\n  filterPlaceholderPicked: PropTypes.string,\n  filterable: PropTypes.bool,\n  filterablePicked: PropTypes.bool,\n  height: PropTypes.string,\n  hideFilterInput: PropTypes.bool,\n  hideFilterInputPicked: PropTypes.bool,\n  initialSearchTerm: PropTypes.string,\n  initialSearchTermPicked: PropTypes.string,\n  leftFooter: PropTypes.node,\n  leftHeader: PropTypes.node,\n  loading: PropTypes.bool,\n  loadingPicked: PropTypes.bool,\n  maxSelections: PropTypes.oneOf([1, Infinity]),\n  optionsWidth: PropTypes.string,\n  removeAllText: PropTypes.string,\n  removeIndividualText: PropTypes.string,\n  renderOption: PropTypes.func,\n  rightFooter: PropTypes.node,\n  rightHeader: PropTypes.node,\n  searchTerm: PropTypes.string,\n  searchTermPicked: PropTypes.string,\n  selected: PropTypes.arrayOf(PropTypes.string),\n  selectedEmptyComponent: PropTypes.node,\n  selectedWidth: PropTypes.string,\n  sourceEmptyPlaceholder: PropTypes.node,\n  onEndReached: PropTypes.func,\n  onEndReachedPicked: PropTypes.func,\n  onFilterChange: PropTypes.func,\n  onFilterChangePicked: PropTypes.func\n};","/**\n * @param {Object} args\n * @param {number} args.maxSelections\n * @param {string[]} args.selected\n * @param {Function} args.onChange\n * @param {Function} args.setHighlightedSourceOptions\n * @param {Function} args.setHighlightedPickedOptions\n * @returns void\n */\nexport const createDoubleClickHandlers = _ref => {\n  let {\n    maxSelections,\n    onChange,\n    selected,\n    setHighlightedPickedOptions,\n    setHighlightedSourceOptions\n  } = _ref;\n\n  const selectSingleOption = _ref2 => {\n    let {\n      value\n    } = _ref2;\n    const newSelected = selected.includes(value) ? selected : [...selected, value];\n    setHighlightedSourceOptions([]);\n    onChange({\n      selected: newSelected.slice(-1 * maxSelections)\n    });\n  };\n\n  const deselectSingleOption = _ref3 => {\n    let {\n      value\n    } = _ref3;\n    const newSelected = selected.filter(curSelected => curSelected !== value);\n    setHighlightedPickedOptions([]);\n    onChange({\n      selected: newSelected\n    });\n  };\n\n  return {\n    selectSingleOption,\n    deselectSingleOption\n  };\n};","/**\n * @param {Object} args\n * @param {Object[]} args.sourceOptions\n * @param {string[]} args.selected\n * @param {Function} args.onChange\n * @param {Function} arg.setHighlightedSourceOptions\n * @returns {void}\n */\nexport const addAllSelectableSourceOptions = _ref => {\n  let {\n    sourceOptions,\n    onChange,\n    selected,\n    setHighlightedSourceOptions\n  } = _ref;\n  const enabledSourceOptions = sourceOptions.filter(_ref2 => {\n    let {\n      disabled\n    } = _ref2;\n    return !disabled;\n  });\n  const newSelected = enabledSourceOptions.reduce((accumulatedSelected, enabledSourceOption) => [...accumulatedSelected, enabledSourceOption.value], selected);\n  setHighlightedSourceOptions([]); // If we ever allow maxSelection to be any value\n  // other than 1 and Infinity, we need to think\n  // about how this should behave:\n  //\n  // Either we hide this button when it's not \"Infinity\",\n  // or we have to decide whether we want to take the first\n  // nth options or the last\n\n  onChange({\n    selected: newSelected\n  });\n};","/**\n * @param {Object} args\n * @param {bool} args.filterable\n * @param {Object[]} args.sourceOptions\n * @param {string[]} args.highlightedSourceOptions\n * @param {string[]} args.selected\n * @param {Function} args.onChange\n * @param {Function} args.setHighlightedSourceOptions\n * @returns void\n */\nexport const addIndividualSourceOptions = _ref => {\n  let {\n    filterable,\n    sourceOptions,\n    highlightedSourceOptions,\n    maxSelections,\n    onChange,\n    selected,\n    setHighlightedSourceOptions\n  } = _ref;\n\n  /**\n   * Creates a subset of the highlighted options to reflect a changed\n   * filter value in case previously highlighted options are now\n   * hidden.\n   *\n   * This enables us to keep items highlighted while searching for\n   * a particular one.\n   *\n   * With this subset we only select the subset when the user\n   * clicks the \"add individuals\" button\n   */\n  const filteredHighlightedSourceOptions = filterable ? highlightedSourceOptions.filter(value => sourceOptions.find(filteredOption => filteredOption.value === value)) : highlightedSourceOptions;\n  const newSelected = filteredHighlightedSourceOptions.reduce((accumulatedSelected, value) => [...accumulatedSelected, filteredHighlightedSourceOptions.find(filteredHighlightedSourceOption => filteredHighlightedSourceOption === value)], selected);\n  setHighlightedSourceOptions([]);\n  /**\n   * This will extract from the end, hence the \"-1 *\"\n   * As the \"newest\" additions are always at the end of the array,\n   * it's safe to just take the last nth (depending on maxSelection)\n   * to always get the right ones\n   */\n\n  onChange({\n    selected: newSelected.slice(-1 * maxSelections)\n  });\n};","/**\n * @param {Object} args\n * @param {Function} args.setHighlightedPickedOptions\n * @param {Function} args.onChange\n * @returns {void}\n */\nexport const removeAllPickedOptions = _ref => {\n  let {\n    setHighlightedPickedOptions,\n    onChange\n  } = _ref;\n  setHighlightedPickedOptions([]);\n  onChange({\n    selected: []\n  });\n};","/**\n * @param {Object} args\n * @param {string[]} args.highlightedPickedOptions\n * @param {string[]} args.selected\n * @param {Function} args.setHighlightedPickedOptions\n * @param {Function} args.onChange\n * @returns {void}\n */\nexport const removeIndividualPickedOptions = _ref => {\n  let {\n    filterablePicked,\n    pickedOptions,\n    highlightedPickedOptions,\n    onChange,\n    selected,\n    setHighlightedPickedOptions\n  } = _ref;\n\n  /**\n   * Creates a subset of the highlighted options to reflect a changed\n   * filter value in case previously highlighted options are now\n   * hidden.\n   *\n   * This enables us to keep items highlighted while searching for\n   * a particular one.\n   *\n   * With this subset we only select the subset when the user\n   * clicks the \"add individuals\" button\n   */\n  const filteredHighlightedPickedOptions = filterablePicked ? highlightedPickedOptions.filter(value => pickedOptions.find(filteredOption => filteredOption.value === value)) : highlightedPickedOptions;\n  const newSelected = selected.filter(selectedOption => !filteredHighlightedPickedOptions.includes(selectedOption));\n  setHighlightedPickedOptions([]);\n  /**\n   * as the maximum amount of selected items\n   * is already restricted through the selection mechanism,\n   * there's no need to handle `maxSelection` here\n   */\n\n  onChange({\n    selected: newSelected\n  });\n};","/**\n * @param {Object} args\n * @param {string[]} args.selected\n * @param {string[]} args.highlightedPickedOptions\n * @param {Function} args.onChange\n * @returns {void}\n */\nexport const moveHighlightedPickedOptionUp = _ref => {\n  let {\n    selected,\n    highlightedPickedOptions,\n    onChange\n  } = _ref;\n  const optionIndex = selected.findIndex(selectedOption => selectedOption === highlightedPickedOptions[0]); // Can't move up option at index 0 or non-existing option\n\n  if (optionIndex < 1) {\n    return;\n  } // swap with previous item\n\n\n  const reordered = [...selected.slice(0, optionIndex - 1), selected[optionIndex], selected[optionIndex - 1], ...selected.slice(optionIndex + 1)];\n  onChange({\n    selected: reordered\n  });\n};","/**\n * @param {Object} args\n * @param {string[]} args.selected\n * @param {string[]} args.highlightedPickedOptions\n * @param {Function} args.onChange\n * @returns {void}\n */\nexport const moveHighlightedPickedOptionDown = _ref => {\n  let {\n    selected,\n    highlightedPickedOptions,\n    onChange\n  } = _ref;\n  const optionIndex = selected.findIndex(selectedOption => selectedOption === highlightedPickedOptions[0]); // Can't move down last or non-existing option\n\n  if (optionIndex === -1 || optionIndex > selected.length - 2) {\n    return;\n  } // swap with next item\n\n\n  const reordered = [...selected.slice(0, optionIndex), selected[optionIndex + 1], selected[optionIndex], ...selected.slice(optionIndex + 2)];\n  onChange({\n    selected: reordered\n  });\n};","// Helper functions\n\nexport const onError = error => console.log('Error: ', error);","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nfunction SvgAdd24(_ref) {\n  let {\n    color,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12 3a1 1 0 011 1v7h7a1 1 0 010 2h-7v7a1 1 0 01-2 0v-7H4a1 1 0 010-2h7V4a1 1 0 011-1z\",\n    fill: \"currentColor\",\n    fillRule: \"evenodd\"\n  }));\n}\n\nSvgAdd24.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default SvgAdd24;","import i18n from '../locales/index.js';\nexport const DIMENSION_TYPE_ALL = 'ALL';\nexport const DIMENSION_TYPE_INDICATOR = 'INDICATOR';\nexport const DIMENSION_TYPE_DATA_ELEMENT = 'DATA_ELEMENT';\nexport const DIMENSION_TYPE_DATA_SET = 'DATA_SET';\nexport const DIMENSION_TYPE_EVENT_DATA_ITEM = 'EVENT_DATA_ITEM';\nexport const DIMENSION_TYPE_PROGRAM_INDICATOR = 'PROGRAM_INDICATOR';\nexport const DIMENSION_TYPE_PROGRAM_DATA_ELEMENT = 'PROGRAM_DATA_ELEMENT';\nexport const DIMENSION_TYPE_PROGRAM_ATTRIBUTE = 'PROGRAM_ATTRIBUTE';\nexport const DIMENSION_TYPE_DATA_ELEMENT_OPERAND = 'DATA_ELEMENT_OPERAND';\nexport const DIMENSION_TYPE_CATEGORY = 'CATEGORY';\nexport const DIMENSION_TYPE_CATEGORY_OPTION_GROUP_SET = 'CATEGORY_OPTION_GROUP_SET';\nexport const DIMENSION_TYPE_DATA_ELEMENT_GROUP_SET = 'DATA_ELEMENT_GROUP_SET';\nexport const DIMENSION_TYPE_DATA = 'DATA_X';\nexport const DIMENSION_TYPE_PERIOD = 'PERIOD';\nexport const DIMENSION_TYPE_ORGANISATION_UNIT = 'ORGANISATION_UNIT';\nexport const DIMENSION_TYPE_ORGANISATION_UNIT_GROUP_SET = 'ORGANISATION_UNIT_GROUP_SET';\nexport const DIMENSION_TYPE_EXPRESSION_DIMENSION_ITEM = 'EXPRESSION_DIMENSION_ITEM';\nexport const TOTALS = 'totals';\nexport const DETAIL = 'detail';\nexport const SUB_GROUP_DETAIL = 'DETAIL';\nexport const SUB_GROUP_METRIC = 'METRIC';\nconst getProgramText = () => i18n.t('Program');\nconst getSelectProgramText = () => i18n.t('Select a program');\nexport const dataTypeMap = {\n  [DIMENSION_TYPE_INDICATOR]: {\n    id: DIMENSION_TYPE_INDICATOR,\n    getName: () => i18n.t('Indicators'),\n    getGroupLabel: () => i18n.t('Indicator group'),\n    defaultGroup: {\n      id: DIMENSION_TYPE_ALL,\n      getName: () => i18n.t('All groups')\n    },\n    getItemName: () => i18n.t('Indicator'),\n    getGroupEmptyLabel: () => i18n.t('No indicator groups found'),\n    getGroupLoadingLabel: () => i18n.t('Loading indicator groups')\n  },\n  [DIMENSION_TYPE_DATA_ELEMENT]: {\n    id: DIMENSION_TYPE_DATA_ELEMENT,\n    getName: () => i18n.t('Data elements'),\n    getGroupLabel: () => i18n.t('Data element group'),\n    defaultGroup: {\n      id: DIMENSION_TYPE_ALL,\n      getName: () => i18n.t('All groups')\n    },\n    subGroup: SUB_GROUP_DETAIL,\n    getItemName: () => i18n.t('Data element'),\n    getGroupEmptyLabel: () => i18n.t('No data element groups found'),\n    getGroupLoadingLabel: () => i18n.t('Loading data element groups')\n  },\n  [DIMENSION_TYPE_DATA_SET]: {\n    id: DIMENSION_TYPE_DATA_SET,\n    getName: () => i18n.t('Data sets'),\n    getGroupLabel: () => i18n.t('Data set'),\n    defaultGroup: {\n      id: DIMENSION_TYPE_ALL,\n      getName: () => i18n.t('All data sets')\n    },\n    subGroup: SUB_GROUP_METRIC,\n    getItemName: () => i18n.t('Data set'),\n    getGroupEmptyLabel: () => i18n.t('No data sets found'),\n    getGroupLoadingLabel: () => i18n.t('Loading data sets')\n  },\n  [DIMENSION_TYPE_EVENT_DATA_ITEM]: {\n    id: DIMENSION_TYPE_EVENT_DATA_ITEM,\n    getName: () => i18n.t('Event data items'),\n    getGroupLabel: getProgramText,\n    getPlaceholder: getSelectProgramText,\n    defaultGroup: {\n      id: DIMENSION_TYPE_ALL,\n      getName: () => i18n.t('All programs')\n    },\n    getItemName: () => i18n.t('Event data item'),\n    getGroupEmptyLabel: () => i18n.t('No programs found'),\n    getGroupLoadingLabel: () => i18n.t('Loading programs')\n  },\n  [DIMENSION_TYPE_PROGRAM_INDICATOR]: {\n    id: DIMENSION_TYPE_PROGRAM_INDICATOR,\n    getName: () => i18n.t('Program indicators'),\n    getGroupLabel: getProgramText,\n    getPlaceholder: getSelectProgramText,\n    defaultGroup: {\n      id: DIMENSION_TYPE_ALL,\n      getName: () => i18n.t('All programs')\n    },\n    getItemName: () => i18n.t('Program indicator'),\n    getGroupEmptyLabel: () => i18n.t('No programs found'),\n    getGroupLoadingLabel: () => i18n.t('Loading programs')\n  },\n  [DIMENSION_TYPE_EXPRESSION_DIMENSION_ITEM]: {\n    id: DIMENSION_TYPE_EXPRESSION_DIMENSION_ITEM,\n    getName: () => i18n.t('Calculations'),\n    getItemName: () => i18n.t('Calculation')\n  }\n};\nexport function defaultGroupId(dataType) {\n  return dataTypeMap[dataType].defaultGroup ? dataTypeMap[dataType].defaultGroup.id : '';\n}\nexport function defaultGroupDetail(dataType) {\n  return dataTypeMap[dataType].groupDetail ? dataTypeMap[dataType].groupDetail.default : '';\n}\nexport const DEFAULT_DATATYPE_ID = DIMENSION_TYPE_INDICATOR;","import objectClean from 'd2-utilizr/lib/objectClean';\nimport { DIMENSION_TYPE_ALL, DIMENSION_TYPE_INDICATOR, DIMENSION_TYPE_DATA_ELEMENT, DIMENSION_TYPE_DATA_SET, DIMENSION_TYPE_PROGRAM_INDICATOR, DIMENSION_TYPE_EVENT_DATA_ITEM, DIMENSION_TYPE_PROGRAM_DATA_ELEMENT, DIMENSION_TYPE_PROGRAM_ATTRIBUTE, TOTALS } from '../modules/dataTypes.js';\nimport { onError } from './index.js';\n\n// Query definitions\nexport const dimensionsQuery = {\n  resource: 'dimensions',\n  params: _ref => {\n    let {\n      nameProp\n    } = _ref;\n    return {\n      fields: `id,${nameProp}~rename(name),dimensionType,dataDimensionType`,\n      order: `${nameProp}:asc`,\n      paging: false\n    };\n  }\n};\nconst recommendedDimensionsQuery = {\n  resource: 'dimensions/recommendations',\n  params: _ref2 => {\n    let {\n      dxIds,\n      ouIds\n    } = _ref2;\n    const dimensions = [];\n    if (dxIds.length) {\n      dimensions.push(`dx:${dxIds.join(';')}`);\n    }\n    if (ouIds.length) {\n      dimensions.push(`ou:${ouIds.join(';')}`);\n    }\n    return {\n      fields: 'id',\n      dimension: dimensions\n    };\n  }\n};\nexport const dataItemsQuery = {\n  resource: 'dataItems',\n  params: _ref3 => {\n    let {\n      nameProp,\n      filter,\n      searchTerm,\n      page\n    } = _ref3;\n    const filters = [];\n\n    // TODO: Extract all of this logic out of the query?\n    if ((filter === null || filter === void 0 ? void 0 : filter.dataType) === DIMENSION_TYPE_EVENT_DATA_ITEM) {\n      filters.push(`dimensionItemType:in:[${DIMENSION_TYPE_PROGRAM_DATA_ELEMENT},${DIMENSION_TYPE_PROGRAM_ATTRIBUTE}]`);\n    } else if (filter !== null && filter !== void 0 && filter.dataType && filter.dataType !== DIMENSION_TYPE_ALL) {\n      filters.push(`dimensionItemType:eq:${filter.dataType}`);\n    }\n    if (filter !== null && filter !== void 0 && filter.group && filter.group !== DIMENSION_TYPE_ALL && [DIMENSION_TYPE_EVENT_DATA_ITEM, DIMENSION_TYPE_PROGRAM_INDICATOR].includes(filter.dataType)) {\n      filters.push(`programId:eq:${filter.group}`);\n    }\n    if (searchTerm) {\n      filters.push(`${nameProp}:ilike:${searchTerm}`);\n    }\n    return objectClean({\n      fields: `id,${nameProp}~rename(name),dimensionItemType,expression`,\n      order: `${nameProp}:asc`,\n      filter: filters,\n      paging: true,\n      page\n    });\n  }\n};\nexport const indicatorsQuery = {\n  resource: 'indicators',\n  params: _ref4 => {\n    let {\n      nameProp,\n      filter,\n      searchTerm,\n      page\n    } = _ref4;\n    const filters = [];\n    if (filter !== null && filter !== void 0 && filter.group && filter.group !== DIMENSION_TYPE_ALL) {\n      filters.push(`indicatorGroups.id:eq:${filter.group}`);\n    }\n    if (searchTerm) {\n      filters.push(`${nameProp}:ilike:${searchTerm}`);\n    }\n    return {\n      fields: `id,${nameProp}~rename(name),dimensionItemType`,\n      order: `${nameProp}:asc`,\n      filter: filters,\n      paging: true,\n      page\n    };\n  }\n};\nexport const indicatorGroupsQuery = {\n  resource: 'indicatorGroups',\n  params: _ref5 => {\n    let {\n      nameProp\n    } = _ref5;\n    return {\n      fields: `id,${nameProp}~rename(name)`,\n      order: `${nameProp}:asc`,\n      paging: false\n    };\n  }\n};\nexport const dataElementsQuery = {\n  resource: 'dataElements',\n  params: _ref6 => {\n    let {\n      nameProp,\n      filter,\n      searchTerm,\n      page\n    } = _ref6;\n    const idField = (filter === null || filter === void 0 ? void 0 : filter.group) === DIMENSION_TYPE_ALL ? 'id' : 'dimensionItem~rename(id)';\n    const filters = ['domainType:eq:AGGREGATE'];\n    if (filter !== null && filter !== void 0 && filter.group && filter.group !== DIMENSION_TYPE_ALL) {\n      filters.push(`dataElementGroups.id:eq:${filter.group}`);\n    }\n    if (searchTerm) {\n      filters.push(`${nameProp}:ilike:${searchTerm}`);\n    }\n    return {\n      fields: `${idField},${nameProp}~rename(name),dimensionItemType`,\n      order: `${nameProp}:asc`,\n      filter: filters,\n      paging: true,\n      page\n    };\n  }\n};\nexport const dataElementGroupsQuery = {\n  resource: 'dataElementGroups',\n  params: _ref7 => {\n    let {\n      nameProp\n    } = _ref7;\n    return {\n      fields: `id,${nameProp}~rename(name)`,\n      order: `${nameProp}:asc`,\n      paging: false\n    };\n  }\n};\nexport const itemsByDimensionQuery = {\n  resource: `dimensions`,\n  id: _ref8 => {\n    let {\n      id\n    } = _ref8;\n    return `${id}/items`;\n  },\n  params: _ref9 => {\n    let {\n      searchTerm,\n      page,\n      nameProp\n    } = _ref9;\n    const filters = [];\n    if (searchTerm) {\n      filters.push(`${nameProp}:ilike:${searchTerm}`);\n    }\n    return {\n      fields: `id,${nameProp}~rename(name)`,\n      order: `${nameProp}:asc`,\n      filter: filters,\n      paging: true,\n      page\n    };\n  }\n};\nexport const dataElementOperandsQuery = {\n  resource: 'dataElementOperands',\n  params: _ref10 => {\n    let {\n      nameProp,\n      filter,\n      searchTerm,\n      page\n    } = _ref10;\n    const idField = (filter === null || filter === void 0 ? void 0 : filter.group) === DIMENSION_TYPE_ALL ? 'id' : 'dimensionItem~rename(id)';\n    const filters = [];\n    if (filter !== null && filter !== void 0 && filter.group && filter.group !== DIMENSION_TYPE_ALL) {\n      filters.push(`dataElement.dataElementGroups.id:eq:${filter.group}`);\n    }\n    if (searchTerm) {\n      filters.push(`${nameProp}:ilike:${searchTerm}`);\n    }\n    return {\n      fields: `${idField},${nameProp}~rename(name),dimensionItemType`,\n      order: `${nameProp}:asc`,\n      filter: filters,\n      paging: true,\n      page\n    };\n  }\n};\nexport const dataSetsQuery = {\n  resource: 'dataSets',\n  params: _ref11 => {\n    let {\n      nameProp,\n      searchTerm,\n      filter,\n      page\n    } = _ref11;\n    const filters = [];\n    if (searchTerm) {\n      filters.push(`${nameProp}:ilike:${searchTerm}`);\n    }\n    if (filter !== null && filter !== void 0 && filter.group && filter.group !== DIMENSION_TYPE_ALL) {\n      filters.push(`id:eq:${filter.group}`);\n    }\n    const query = {\n      fields: `dimensionItem~rename(id),${nameProp}~rename(name),dimensionItemType`,\n      order: `${nameProp}:asc`,\n      filter: filters,\n      paging: false\n    };\n    if (page) {\n      query.page = page;\n      query.paging = true;\n    }\n    return query;\n  }\n};\nexport const programsQuery = {\n  resource: 'programs',\n  params: _ref12 => {\n    let {\n      nameProp\n    } = _ref12;\n    return {\n      fields: `id,${nameProp}~rename(name)`,\n      order: `${nameProp}:asc`,\n      paging: false\n    };\n  }\n};\n\n// Fetch functions\nexport const apiFetchDimensions = async (dataEngine, nameProp) => {\n  const dimensionsData = await dataEngine.query({\n    dimensions: dimensionsQuery\n  }, {\n    variables: {\n      nameProp\n    },\n    onError\n  });\n  return dimensionsData.dimensions.dimensions;\n};\nexport const apiFetchRecommendedIds = async (dataEngine, dxIds, ouIds) => {\n  const recommendedDimensionsData = await dataEngine.query({\n    recommendedDimensions: recommendedDimensionsQuery\n  }, {\n    variables: {\n      dxIds,\n      ouIds\n    },\n    onError\n  });\n  return recommendedDimensionsData.recommendedDimensions.dimensions.map(item => item.id);\n};\nexport const apiFetchOptions = _ref13 => {\n  let {\n    dataEngine,\n    nameProp,\n    filter,\n    searchTerm,\n    page\n  } = _ref13;\n  switch (filter === null || filter === void 0 ? void 0 : filter.dataType) {\n    case DIMENSION_TYPE_INDICATOR:\n      {\n        return fetchIndicators({\n          dataEngine,\n          nameProp,\n          filter,\n          searchTerm,\n          page\n        });\n      }\n    case DIMENSION_TYPE_DATA_ELEMENT:\n      {\n        if (filter.subGroup === TOTALS) {\n          return fetchDataElements({\n            dataEngine,\n            nameProp,\n            filter,\n            searchTerm,\n            page\n          });\n        } else {\n          return fetchDataElementOperands({\n            dataEngine,\n            nameProp,\n            filter,\n            searchTerm,\n            page\n          });\n        }\n      }\n    case DIMENSION_TYPE_DATA_SET:\n      {\n        return fetchDataSets({\n          dataEngine,\n          nameProp,\n          filter,\n          searchTerm,\n          page\n        });\n      }\n    default:\n      return fetchDataItems({\n        dataEngine,\n        nameProp,\n        filter,\n        searchTerm,\n        page\n      });\n  }\n};\nexport const apiFetchGroups = async (dataEngine, dataType, nameProp) => {\n  // indicatorGroups does not support shortName\n  const name = dataType === DIMENSION_TYPE_INDICATOR ? 'displayName' : nameProp;\n  switch (dataType) {\n    case DIMENSION_TYPE_INDICATOR:\n      {\n        const indicatorGroupsData = await dataEngine.query({\n          indicatorGroups: indicatorGroupsQuery\n        }, {\n          variables: {\n            nameProp: name\n          },\n          onError\n        });\n        return indicatorGroupsData.indicatorGroups.indicatorGroups;\n      }\n    case DIMENSION_TYPE_DATA_ELEMENT:\n      {\n        const dataElementGroupsData = await dataEngine.query({\n          dataElementGroups: dataElementGroupsQuery\n        }, {\n          variables: {\n            nameProp: name\n          },\n          onError\n        });\n        return dataElementGroupsData.dataElementGroups.dataElementGroups;\n      }\n    case DIMENSION_TYPE_DATA_SET:\n      {\n        const response = await dataEngine.query({\n          data: dataSetsQuery\n        }, {\n          variables: {\n            nameProp: name\n          },\n          onError\n        });\n        return response.data.dataSets;\n      }\n    case DIMENSION_TYPE_EVENT_DATA_ITEM:\n    case DIMENSION_TYPE_PROGRAM_INDICATOR:\n      {\n        const programsData = await dataEngine.query({\n          programs: programsQuery\n        }, {\n          variables: {\n            nameProp: name\n          },\n          onError\n        });\n        return programsData.programs.programs;\n      }\n    default:\n      return null;\n  }\n};\nconst fetchIndicators = async _ref14 => {\n  let {\n    dataEngine,\n    nameProp,\n    filter,\n    searchTerm,\n    page\n  } = _ref14;\n  const indicatorsData = await dataEngine.query({\n    indicators: indicatorsQuery\n  }, {\n    variables: {\n      nameProp,\n      filter,\n      searchTerm,\n      page\n    },\n    onError\n  });\n  const response = indicatorsData.indicators;\n  return formatResponse(response.indicators, response.pager);\n};\nconst fetchDataItems = async _ref15 => {\n  let {\n    dataEngine,\n    nameProp,\n    filter,\n    searchTerm,\n    page\n  } = _ref15;\n  const dataItemsData = await dataEngine.query({\n    dataItems: dataItemsQuery\n  }, {\n    variables: {\n      nameProp,\n      filter,\n      searchTerm,\n      page\n    },\n    onError\n  });\n  const response = dataItemsData.dataItems;\n  return formatResponse(response.dataItems, response.pager);\n};\nconst formatResponse = (dimensionItems, pager) => ({\n  dimensionItems,\n  nextPage: pager.nextPage ? pager.page + 1 : null\n});\nconst fetchDataElements = async _ref16 => {\n  let {\n    dataEngine,\n    nameProp,\n    filter,\n    searchTerm,\n    page\n  } = _ref16;\n  const dataElementsData = await dataEngine.query({\n    dataElements: dataElementsQuery\n  }, {\n    variables: {\n      nameProp,\n      filter,\n      searchTerm,\n      page\n    },\n    onError\n  });\n  const response = dataElementsData.dataElements;\n  return formatResponse(response.dataElements, response.pager);\n};\nexport const apiFetchItemsByDimension = async _ref17 => {\n  let {\n    dataEngine,\n    dimensionId,\n    searchTerm,\n    page,\n    nameProp\n  } = _ref17;\n  const itemsByDimensionData = await dataEngine.query({\n    itemsByDimensions: itemsByDimensionQuery\n  }, {\n    variables: {\n      id: dimensionId,\n      searchTerm,\n      page,\n      nameProp\n    },\n    onError\n  });\n  const response = itemsByDimensionData.itemsByDimensions;\n  return formatResponse(response.items, response.pager);\n};\nconst fetchDataElementOperands = async _ref18 => {\n  let {\n    dataEngine,\n    nameProp,\n    filter,\n    searchTerm,\n    page\n  } = _ref18;\n  const dataElementOperandsData = await dataEngine.query({\n    dataElementOperands: dataElementOperandsQuery\n  }, {\n    variables: {\n      nameProp,\n      filter,\n      searchTerm,\n      page\n    },\n    onError\n  });\n  const response = dataElementOperandsData.dataElementOperands;\n  return formatResponse(response.dataElementOperands, response.pager);\n};\nconst fetchDataSets = async _ref19 => {\n  let {\n    dataEngine,\n    nameProp,\n    searchTerm,\n    filter,\n    page\n  } = _ref19;\n  const dataSetsData = await dataEngine.query({\n    dataSets: dataSetsQuery\n  }, {\n    variables: {\n      nameProp,\n      searchTerm,\n      filter,\n      page\n    },\n    onError\n  });\n  const response = dataSetsData.dataSets;\n  return formatResponse(response.dataSets, response.pager);\n};","import i18n from '../locales/index.js';\nexport const REPORTING_RATE = 'REPORTING_RATE';\nexport const REPORTING_RATE_ON_TIME = 'REPORTING_RATE_ON_TIME';\nexport const ACTUAL_REPORTS = 'ACTUAL_REPORTS';\nexport const ACTUAL_REPORTS_ON_TIME = 'ACTUAL_REPORTS_ON_TIME';\nexport const EXPECTED_REPORTS = 'EXPECTED_REPORTS';\nexport const DATA_SETS_CONSTANTS = [{\n  id: REPORTING_RATE,\n  getName: () => i18n.t('Reporting rate')\n}, {\n  id: REPORTING_RATE_ON_TIME,\n  getName: () => i18n.t('Reporting rate on time')\n}, {\n  id: ACTUAL_REPORTS,\n  getName: () => i18n.t('Actual reports')\n}, {\n  id: ACTUAL_REPORTS_ON_TIME,\n  getName: () => i18n.t('Actual reports on time')\n}, {\n  id: EXPECTED_REPORTS,\n  getName: () => i18n.t('Expected reports')\n}];","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nfunction SvgDimensionIndicator16(_ref) {\n  let {\n    color,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    width: 16,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M14 1v1H7.5l-3 13h-2L1 8h1l1.29 6h.42L6.5 1zm-1 9v4H9v-4zm-1 1h-2v2h2zm2-3v1H8V8zm-1-5v4H9V3zm-1 1h-2v2h2z\",\n    fill: \"currentColor\"\n  }));\n}\n\nSvgDimensionIndicator16.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default SvgDimensionIndicator16;","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nfunction SvgDimensionEventDataItem16(_ref) {\n  let {\n    color,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    width: 16,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.5 8a3.5 3.5 0 110 7 3.5 3.5 0 010-7zm0 1a2.5 2.5 0 100 5 2.5 2.5 0 000-5zM13 2v5h-1V4H2v7h5v1H1V2z\",\n    fill: \"currentColor\",\n    fillRule: \"evenodd\"\n  }));\n}\n\nSvgDimensionEventDataItem16.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default SvgDimensionEventDataItem16;","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nfunction SvgDimensionProgramIndicator16(_ref) {\n  let {\n    color,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    width: 16,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M14 10v4h-4v-4zm-1 1h-2v2h2zM9 2v2H2v7h7v1H1V2zm6 6v1H9V8zm-1-5v4h-4V3zm-1 1h-2v2h2z\",\n    fill: \"currentColor\",\n    fillRule: \"evenodd\"\n  }));\n}\n\nSvgDimensionProgramIndicator16.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default SvgDimensionProgramIndicator16;","import React from 'react';\nexport default /*#__PURE__*/React.createElement(\"svg\", {\n  height: \"16\",\n  viewBox: \"0 0 16 16\",\n  width: \"16\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m8 5c1.65685425 0 3 1.34314575 3 3s-1.34314575 3-3 3-3-1.34314575-3-3 1.34314575-3 3-3zm0 1c-1.1045695 0-2 .8954305-2 2s.8954305 2 2 2 2-.8954305 2-2-.8954305-2-2-2z\",\n  fill: \"#010101\"\n}));","import React from 'react';\nexport default /*#__PURE__*/React.createElement(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"16\",\n  height: \"16\",\n  viewBox: \"0 0 16 16\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#6E7A8A\",\n  d: \"M11,5 L11,11 L5,11 L5,5 L11,5 Z M10,6 L6,6 L6,10 L10,10 L10,6 Z\"\n}));","import React from 'react';\nexport default /*#__PURE__*/React.createElement(\"svg\", {\n  height: \"16\",\n  viewBox: \"0 0 16 16\",\n  width: \"16\",\n  fill: \"none\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M7 4H5V2H4V4H2V5H4V7H5V5H7V4ZM7 9.5H2V10.5H7V9.5ZM2 12H7V13H2V12ZM14 4H9V5H14V4ZM14 9.205L12.205 11L14 12.795L13.295 13.5L11.5 11.705L9.705 13.5L9 12.795L10.795 11L9 9.205L9.705 8.5L11.5 10.295L13.295 8.5L14 9.205Z\",\n  fill: \"#404B5A\"\n}));","import { IconDimensionDataSet16, IconDimensionIndicator16, IconDimensionEventDataItem16, IconDimensionProgramIndicator16 } from '@dhis2/ui';\nimport React from 'react';\nimport DataElementIcon from '../assets/DimensionItemIcons/DataElementIcon.js';\nimport GenericIcon from '../assets/DimensionItemIcons/GenericIcon.js';\nimport CalculationIcon from './../assets/DimensionItemIcons/CalculationIcon.js';\nimport { REPORTING_RATE } from './dataSets.js';\nimport { DIMENSION_TYPE_DATA_ELEMENT, DIMENSION_TYPE_DATA_ELEMENT_OPERAND, DIMENSION_TYPE_DATA_SET, DIMENSION_TYPE_EVENT_DATA_ITEM, DIMENSION_TYPE_EXPRESSION_DIMENSION_ITEM, DIMENSION_TYPE_PROGRAM_ATTRIBUTE, DIMENSION_TYPE_PROGRAM_DATA_ELEMENT, dataTypeMap as dataTypes, DIMENSION_TYPE_INDICATOR, DIMENSION_TYPE_PROGRAM_INDICATOR } from './dataTypes.js';\nexport const getTooltipText = _ref => {\n  var _dataTypes$type;\n  let {\n    type,\n    expression\n  } = _ref;\n  if (type === DIMENSION_TYPE_EXPRESSION_DIMENSION_ITEM && expression) {\n    return dataTypes[DIMENSION_TYPE_EXPRESSION_DIMENSION_ITEM].getItemName();\n  }\n  switch (type) {\n    case DIMENSION_TYPE_DATA_ELEMENT_OPERAND:\n      return dataTypes[DIMENSION_TYPE_DATA_ELEMENT].getItemName();\n    case REPORTING_RATE:\n      return dataTypes[DIMENSION_TYPE_DATA_SET].getItemName();\n    case DIMENSION_TYPE_PROGRAM_DATA_ELEMENT:\n    case DIMENSION_TYPE_PROGRAM_ATTRIBUTE:\n      return dataTypes[DIMENSION_TYPE_EVENT_DATA_ITEM].getItemName();\n    default:\n      return (_dataTypes$type = dataTypes[type]) === null || _dataTypes$type === void 0 ? void 0 : _dataTypes$type.getItemName();\n  }\n};\nexport const getIcon = type => {\n  switch (type) {\n    case DIMENSION_TYPE_INDICATOR:\n      return /*#__PURE__*/React.createElement(IconDimensionIndicator16, null);\n    case DIMENSION_TYPE_DATA_ELEMENT_OPERAND:\n    case DIMENSION_TYPE_DATA_ELEMENT:\n      return DataElementIcon;\n    case REPORTING_RATE:\n      return /*#__PURE__*/React.createElement(IconDimensionDataSet16, null);\n    case DIMENSION_TYPE_EVENT_DATA_ITEM:\n    case DIMENSION_TYPE_PROGRAM_DATA_ELEMENT:\n    case DIMENSION_TYPE_PROGRAM_ATTRIBUTE:\n      return /*#__PURE__*/React.createElement(IconDimensionEventDataItem16, null);\n    case DIMENSION_TYPE_PROGRAM_INDICATOR:\n      return /*#__PURE__*/React.createElement(IconDimensionProgramIndicator16, null);\n    case DIMENSION_TYPE_EXPRESSION_DIMENSION_ITEM:\n      return CalculationIcon;\n    default:\n      return GenericIcon;\n  }\n};","export const validateExpressionMutation = {\n  type: 'create',\n  resource: 'indicators/expression/description',\n  data: _ref => {\n    let {\n      expression\n    } = _ref;\n    return expression;\n  }\n};\nexport const createCalculationMutation = {\n  type: 'create',\n  resource: 'expressionDimensionItems',\n  data: _ref2 => {\n    let {\n      name,\n      expression\n    } = _ref2;\n    return {\n      name,\n      shortName: name,\n      expression\n    };\n  }\n};\nexport const updateCalculationMutation = {\n  type: 'json-patch',\n  resource: 'expressionDimensionItems',\n  id: _ref3 => {\n    let {\n      id\n    } = _ref3;\n    return id;\n  },\n  data: _ref4 => {\n    let {\n      name,\n      expression\n    } = _ref4;\n    return [{\n      op: 'add',\n      path: '/name',\n      value: name\n    }, {\n      op: 'add',\n      path: '/shortName',\n      value: name\n    }, {\n      op: 'add',\n      path: '/expression',\n      value: expression\n    }];\n  }\n};\nexport const deleteCalculationMutation = {\n  type: 'delete',\n  resource: 'expressionDimensionItems',\n  id: _ref5 => {\n    let {\n      id\n    } = _ref5;\n    return id;\n  }\n};","import i18n from '../locales/index.js';\nexport const EXPRESSION_TYPE_NUMBER = 'EXPRESSION_TYPE_NUMBER';\nexport const EXPRESSION_TYPE_OPERATOR = 'EXPRESSION_TYPE_OPERATOR';\nexport const EXPRESSION_TYPE_DATA = 'EXPRESSION_TYPE_DATA';\nexport const VALID_EXPRESSION = 'OK';\nexport const INVALID_EXPRESSION = 'ERROR';\nexport const getOperators = () => [{\n  value: '+',\n  label: '+',\n  type: EXPRESSION_TYPE_OPERATOR\n}, {\n  value: '-',\n  label: '-',\n  type: EXPRESSION_TYPE_OPERATOR\n}, {\n  value: '*',\n  label: '×',\n  type: EXPRESSION_TYPE_OPERATOR\n}, {\n  value: '/',\n  label: '/',\n  type: EXPRESSION_TYPE_OPERATOR\n}, {\n  value: '(',\n  label: '(',\n  type: EXPRESSION_TYPE_OPERATOR\n}, {\n  value: ')',\n  label: ')',\n  type: EXPRESSION_TYPE_OPERATOR\n}, {\n  value: '',\n  label: i18n.t('Number'),\n  type: EXPRESSION_TYPE_NUMBER\n}];\nexport const parseExpression = input => {\n  const regex = /(#{[a-zA-Z0-9#.]+}|[+\\-*/()])|(\\d+(\\.\\d+)?)/g;\n  return input.match(regex) || [];\n};\nexport const parseExpressionToArray = function () {\n  let expression = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  let metadata = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return parseExpression(expression).map(value => {\n    if (value.startsWith('#{') && value.endsWith('}')) {\n      var _metadata$find;\n      const id = value.slice(2, -1);\n      const label = ((_metadata$find = metadata.find(item => item.id === id)) === null || _metadata$find === void 0 ? void 0 : _metadata$find.name) || id;\n      return {\n        value,\n        label,\n        type: EXPRESSION_TYPE_DATA\n      };\n    }\n    if (isNaN(value)) {\n      return {\n        value,\n        label: getOperators().find(op => op.value === value).label,\n        type: EXPRESSION_TYPE_OPERATOR\n      };\n    }\n    return {\n      value,\n      label: value,\n      type: EXPRESSION_TYPE_NUMBER\n    };\n  }) || [];\n};\nexport const parseArrayToExpression = function () {\n  let input = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  return input.map(item => item.value).join('');\n};\nexport const validateExpression = expression => {\n  let result;\n  const leftParenthesisCount = expression.split('(').length - 1;\n  const rightParenthesisCount = expression.split(')').length - 1;\n  if (!expression) {\n    // empty formula\n    result = {\n      status: INVALID_EXPRESSION,\n      message: i18n.t('Formula is empty. Add items to the formula from the lists on the left.')\n    };\n    // TODO: reimplement this but allow negative values, e.g. 10 / -5\n    // } else if (/[-+/*]{2,}/.test(expression)) {\n    //     // two math operators next to each other\n    //     result = {\n    //         status: INVALID_EXPRESSION,\n    //         message: i18n.t('Consecutive math operators'),\n    //     }\n  } else if (/}#/.test(expression)) {\n    // two data elements next to each other\n    result = {\n      status: INVALID_EXPRESSION,\n      message: i18n.t('Consecutive data elements')\n    };\n  } else if (/^[+\\-*/]|[+\\-*/]$/.test(expression)) {\n    // starting or ending with a math operator\n    result = {\n      status: INVALID_EXPRESSION,\n      message: i18n.t('Starts or ends with a math operator')\n    };\n  } else if (/\\(\\)/.test(expression)) {\n    // contains an empty set of parentheses\n    result = {\n      status: INVALID_EXPRESSION,\n      message: i18n.t('Empty parentheses')\n    };\n  } else if (leftParenthesisCount > rightParenthesisCount) {\n    // ( but no )\n    result = {\n      status: INVALID_EXPRESSION,\n      message: i18n.t('Missing right parenthesis )')\n    };\n  } else if (rightParenthesisCount > leftParenthesisCount) {\n    // ) but no (\n    result = {\n      status: INVALID_EXPRESSION,\n      message: i18n.t('Missing left parenthesis (')\n    };\n  }\n  return result;\n};\nexport const getItemIdsFromExpression = function () {\n  let expression = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  const regex = /#{([a-zA-Z0-9#]+.*?)}/g;\n  const matches = expression.match(regex);\n  return matches ? matches.map(match => match.slice(2, -1)) : [];\n};","export const styles = [\".tooltip.jsx-3661110597{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;pointer-events:all;}\", \".tooltip.jsx-3661110597>button:disabled{pointer-events:none;}\", \".notAllowed.jsx-3661110597{cursor:not-allowed;}\"];\nstyles.__hash = \"3661110597\";","import _JSXStyle from \"styled-jsx/style\";\nimport { useDhis2ConnectionStatus } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { Tooltip } from '@dhis2/ui';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { styles } from './styles/OfflineTooltip.style.js';\nconst OfflineTooltip = _ref => {\n  let {\n    disabledWhenOffline,\n    disabled,\n    content,\n    children\n  } = _ref;\n  const {\n    isDisconnected: offline\n  } = useDhis2ConnectionStatus();\n  const notAllowed = disabled || disabledWhenOffline && offline;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Tooltip, {\n    content: content || i18n.t('Not available offline'),\n    openDelay: 200,\n    closeDelay: 100\n  }, _ref2 => {\n    let {\n      onMouseOver,\n      onMouseOut,\n      ref\n    } = _ref2;\n    return /*#__PURE__*/React.createElement(\"span\", {\n      onMouseOver: () => notAllowed && onMouseOver(),\n      onMouseOut: () => notAllowed && onMouseOut(),\n      ref: ref,\n      className: `jsx-${styles.__hash}` + \" \" + (cx('tooltip', {\n        notAllowed\n      }) || \"\")\n    }, children);\n  }), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: styles.__hash\n  }, styles));\n};\nOfflineTooltip.propTypes = {\n  children: PropTypes.node,\n  content: PropTypes.string,\n  disabled: PropTypes.bool,\n  disabledWhenOffline: PropTypes.bool\n};\nOfflineTooltip.defaultProps = {\n  disabled: false,\n  disabledWhenOffline: true\n};\nexport { OfflineTooltip };","// https://github.com/facebook/react/blob/master/packages/shared/ExecutionEnvironment.js\nexport const canUseDOM =\n  typeof window !== 'undefined' &&\n  typeof window.document !== 'undefined' &&\n  typeof window.document.createElement !== 'undefined';\n","export function isWindow(element: Object): element is typeof window {\n  const elementString = Object.prototype.toString.call(element);\n  return (\n    elementString === '[object Window]' ||\n    // In Electron context the Window object serializes to [object global]\n    elementString === '[object global]'\n  );\n}\n","export function isNode(node: Object): node is Node {\n  return 'nodeType' in node;\n}\n","import {isWindow} from '../type-guards/isWindow';\nimport {isNode} from '../type-guards/isNode';\n\nexport function getWindow(target: Event['target']): typeof window {\n  if (!target) {\n    return window;\n  }\n\n  if (isWindow(target)) {\n    return target;\n  }\n\n  if (!isNode(target)) {\n    return window;\n  }\n\n  return target.ownerDocument?.defaultView ?? window;\n}\n","import {getWindow} from '../execution-context/getWindow';\n\nexport function isDocument(node: Node): node is Document {\n  const {Document} = getWindow(node);\n\n  return node instanceof Document;\n}\n","import {getWindow} from '../execution-context/getWindow';\n\nimport {isWindow} from './isWindow';\n\nexport function isHTMLElement(node: Node | Window): node is HTMLElement {\n  if (isWindow(node)) {\n    return false;\n  }\n\n  return node instanceof getWindow(node).HTMLElement;\n}\n","import {getWindow} from '../execution-context/getWindow';\n\nexport function isSVGElement(node: Node): node is SVGElement {\n  return node instanceof getWindow(node).SVGElement;\n}\n","import {\n  isWindow,\n  isHTMLElement,\n  isDocument,\n  isNode,\n  isSVGElement,\n} from '../type-guards';\n\nexport function getOwnerDocument(target: Event['target']): Document {\n  if (!target) {\n    return document;\n  }\n\n  if (isWindow(target)) {\n    return target.document;\n  }\n\n  if (!isNode(target)) {\n    return document;\n  }\n\n  if (isDocument(target)) {\n    return target;\n  }\n\n  if (isHTMLElement(target) || isSVGElement(target)) {\n    return target.ownerDocument;\n  }\n\n  return document;\n}\n","import {useEffect, useLayoutEffect} from 'react';\n\nimport {canUseDOM} from '../execution-context';\n\n/**\n * A hook that resolves to useEffect on the server and useLayoutEffect on the client\n * @param callback {function} Callback function that is invoked when the dependencies of the hook change\n */\nexport const useIsomorphicLayoutEffect = canUseDOM\n  ? useLayoutEffect\n  : useEffect;\n","import {useCallback, useRef} from 'react';\n\nimport {useIsomorphicLayoutEffect} from './useIsomorphicLayoutEffect';\n\nexport function useEvent<T extends Function>(handler: T | undefined) {\n  const handlerRef = useRef<T | undefined>(handler);\n\n  useIsomorphicLayoutEffect(() => {\n    handlerRef.current = handler;\n  });\n\n  return useCallback(function (...args: any) {\n    return handlerRef.current?.(...args);\n  }, []);\n}\n","import {useRef} from 'react';\nimport type {DependencyList} from 'react';\n\nimport {useIsomorphicLayoutEffect} from './useIsomorphicLayoutEffect';\n\nexport function useLatestValue<T extends any>(\n  value: T,\n  dependencies: DependencyList = [value]\n) {\n  const valueRef = useRef<T>(value);\n\n  useIsomorphicLayoutEffect(() => {\n    if (valueRef.current !== value) {\n      valueRef.current = value;\n    }\n  }, dependencies);\n\n  return valueRef;\n}\n","import {useMemo, useRef} from 'react';\n\nexport function useLazyMemo<T>(\n  callback: (prevValue: T | undefined) => T,\n  dependencies: any[]\n) {\n  const valueRef = useRef<T>();\n\n  return useMemo(\n    () => {\n      const newValue = callback(valueRef.current);\n      valueRef.current = newValue;\n\n      return newValue;\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [...dependencies]\n  );\n}\n","import {useRef, useCallback} from 'react';\n\nimport {useEvent} from './useEvent';\n\nexport function useNodeRef(\n  onChange?: (\n    newElement: HTMLElement | null,\n    previousElement: HTMLElement | null\n  ) => void\n) {\n  const onChangeHandler = useEvent(onChange);\n  const node = useRef<HTMLElement | null>(null);\n  const setNodeRef = useCallback(\n    (element: HTMLElement | null) => {\n      if (element !== node.current) {\n        onChangeHandler?.(element, node.current);\n      }\n\n      node.current = element;\n    },\n    //eslint-disable-next-line\n    []\n  );\n\n  return [node, setNodeRef] as const;\n}\n","import {useRef, useEffect} from 'react';\n\nexport function usePrevious<T>(value: T) {\n  const ref = useRef<T>();\n\n  useEffect(() => {\n    ref.current = value;\n  }, [value]);\n\n  return ref.current;\n}\n","import {useMemo} from 'react';\n\nlet ids: Record<string, number> = {};\n\nexport function useUniqueId(prefix: string, value?: string) {\n  return useMemo(() => {\n    if (value) {\n      return value;\n    }\n\n    const id = ids[prefix] == null ? 0 : ids[prefix] + 1;\n    ids[prefix] = id;\n\n    return `${prefix}-${id}`;\n  }, [prefix, value]);\n}\n","function createAdjustmentFn(modifier: number) {\n  return <T extends Record<U, number>, U extends string>(\n    object: T,\n    ...adjustments: Partial<T>[]\n  ): T => {\n    return adjustments.reduce<T>(\n      (accumulator, adjustment) => {\n        const entries = Object.entries(adjustment) as [U, number][];\n\n        for (const [key, valueAdjustment] of entries) {\n          const value = accumulator[key];\n\n          if (value != null) {\n            accumulator[key] = (value + modifier * valueAdjustment) as T[U];\n          }\n        }\n\n        return accumulator;\n      },\n      {\n        ...object,\n      }\n    );\n  };\n}\n\nexport const add = createAdjustmentFn(1);\nexport const subtract = createAdjustmentFn(-1);\n","import {getWindow} from '../execution-context';\n\nexport function isKeyboardEvent(\n  event: Event | undefined | null\n): event is KeyboardEvent {\n  if (!event) {\n    return false;\n  }\n\n  const {KeyboardEvent} = getWindow(event.target);\n\n  return KeyboardEvent && event instanceof KeyboardEvent;\n}\n","import type {Coordinates} from './types';\nimport {isTouchEvent, hasViewportRelativeCoordinates} from '../event';\n\n/**\n * Returns the normalized x and y coordinates for mouse and touch events.\n */\nexport function getEventCoordinates(event: Event): Coordinates | null {\n  if (isTouchEvent(event)) {\n    if (event.touches && event.touches.length) {\n      const {clientX: x, clientY: y} = event.touches[0];\n\n      return {\n        x,\n        y,\n      };\n    } else if (event.changedTouches && event.changedTouches.length) {\n      const {clientX: x, clientY: y} = event.changedTouches[0];\n\n      return {\n        x,\n        y,\n      };\n    }\n  }\n\n  if (hasViewportRelativeCoordinates(event)) {\n    return {\n      x: event.clientX,\n      y: event.clientY,\n    };\n  }\n\n  return null;\n}\n","import {getWindow} from '../execution-context';\n\nexport function isTouchEvent(\n  event: Event | undefined | null\n): event is TouchEvent {\n  if (!event) {\n    return false;\n  }\n\n  const {TouchEvent} = getWindow(event.target);\n\n  return TouchEvent && event instanceof TouchEvent;\n}\n","export function hasViewportRelativeCoordinates(\n  event: Event\n): event is Event & Pick<PointerEvent, 'clientX' | 'clientY'> {\n  return 'clientX' in event && 'clientY' in event;\n}\n","export type Transform = {\n  x: number;\n  y: number;\n  scaleX: number;\n  scaleY: number;\n};\n\nexport interface Transition {\n  property: string;\n  easing: string;\n  duration: number;\n}\n\nexport const CSS = Object.freeze({\n  Translate: {\n    toString(transform: Transform | null) {\n      if (!transform) {\n        return;\n      }\n\n      const {x, y} = transform;\n\n      return `translate3d(${x ? Math.round(x) : 0}px, ${\n        y ? Math.round(y) : 0\n      }px, 0)`;\n    },\n  },\n  Scale: {\n    toString(transform: Transform | null) {\n      if (!transform) {\n        return;\n      }\n\n      const {scaleX, scaleY} = transform;\n\n      return `scaleX(${scaleX}) scaleY(${scaleY})`;\n    },\n  },\n  Transform: {\n    toString(transform: Transform | null) {\n      if (!transform) {\n        return;\n      }\n\n      return [\n        CSS.Translate.toString(transform),\n        CSS.Scale.toString(transform),\n      ].join(' ');\n    },\n  },\n  Transition: {\n    toString({property, duration, easing}: Transition) {\n      return `${property} ${duration}ms ${easing}`;\n    },\n  },\n});\n","const SELECTOR =\n  'a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]';\n\nexport function findFirstFocusableNode(\n  element: HTMLElement\n): HTMLElement | null {\n  if (element.matches(SELECTOR)) {\n    return element;\n  }\n\n  return element.querySelector(SELECTOR);\n}\n","import React from 'react';\n\ninterface Props {\n  id: string;\n  value: string;\n}\n\nconst hiddenStyles: React.CSSProperties = {\n  display: 'none',\n};\n\nexport function HiddenText({id, value}: Props) {\n  return (\n    <div id={id} style={hiddenStyles}>\n      {value}\n    </div>\n  );\n}\n","import React from 'react';\n\nexport interface Props {\n  id: string;\n  announcement: string;\n  ariaLiveType?: \"polite\" | \"assertive\" | \"off\";\n}\n\nexport function LiveRegion({id, announcement, ariaLiveType = \"assertive\"}: Props) {\n  // Hide element visually but keep it readable by screen readers\n  const visuallyHidden: React.CSSProperties = {\n    position: 'fixed',\n    width: 1,\n    height: 1,\n    margin: -1,\n    border: 0,\n    padding: 0,\n    overflow: 'hidden',\n    clip: 'rect(0 0 0 0)',\n    clipPath: 'inset(100%)',\n    whiteSpace: 'nowrap',\n  };\n  \n  return (\n    <div\n      id={id}\n      style={visuallyHidden}\n      role=\"status\"\n      aria-live={ariaLiveType}\n      aria-atomic\n    >\n      {announcement}\n    </div>\n  );\n}\n","import {createContext} from 'react';\n\nimport type {RegisterListener} from './types';\n\nexport const DndMonitorContext = createContext<RegisterListener | null>(null);\n","import type {Announcements, ScreenReaderInstructions} from './types';\n\nexport const defaultScreenReaderInstructions: ScreenReaderInstructions = {\n  draggable: `\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  `,\n};\n\nexport const defaultAnnouncements: Announcements = {\n  onDragStart({active}) {\n    return `Picked up draggable item ${active.id}.`;\n  },\n  onDragOver({active, over}) {\n    if (over) {\n      return `Draggable item ${active.id} was moved over droppable area ${over.id}.`;\n    }\n\n    return `Draggable item ${active.id} is no longer over a droppable area.`;\n  },\n  onDragEnd({active, over}) {\n    if (over) {\n      return `Draggable item ${active.id} was dropped over droppable area ${over.id}`;\n    }\n\n    return `Draggable item ${active.id} was dropped.`;\n  },\n  onDragCancel({active}) {\n    return `Dragging was cancelled. Draggable item ${active.id} was dropped.`;\n  },\n};\n","import React, {useEffect, useMemo, useState} from 'react';\nimport {createPortal} from 'react-dom';\nimport {useUniqueId} from '@dnd-kit/utilities';\nimport {HiddenText, LiveRegion, useAnnouncement} from '@dnd-kit/accessibility';\n\nimport {DndMonitorListener, useDndMonitor} from '../DndMonitor';\n\nimport type {Announcements, ScreenReaderInstructions} from './types';\nimport {\n  defaultAnnouncements,\n  defaultScreenReaderInstructions,\n} from './defaults';\n\ninterface Props {\n  announcements?: Announcements;\n  container?: Element;\n  screenReaderInstructions?: ScreenReaderInstructions;\n  hiddenTextDescribedById: string;\n}\n\nexport function Accessibility({\n  announcements = defaultAnnouncements,\n  container,\n  hiddenTextDescribedById,\n  screenReaderInstructions = defaultScreenReaderInstructions,\n}: Props) {\n  const {announce, announcement} = useAnnouncement();\n  const liveRegionId = useUniqueId(`DndLiveRegion`);\n  const [mounted, setMounted] = useState(false);\n\n  useEffect(() => {\n    setMounted(true);\n  }, []);\n\n  useDndMonitor(\n    useMemo<DndMonitorListener>(\n      () => ({\n        onDragStart({active}) {\n          announce(announcements.onDragStart({active}));\n        },\n        onDragMove({active, over}) {\n          if (announcements.onDragMove) {\n            announce(announcements.onDragMove({active, over}));\n          }\n        },\n        onDragOver({active, over}) {\n          announce(announcements.onDragOver({active, over}));\n        },\n        onDragEnd({active, over}) {\n          announce(announcements.onDragEnd({active, over}));\n        },\n        onDragCancel({active, over}) {\n          announce(announcements.onDragCancel({active, over}));\n        },\n      }),\n      [announce, announcements]\n    )\n  );\n\n  if (!mounted) {\n    return null;\n  }\n\n  const markup = (\n    <>\n      <HiddenText\n        id={hiddenTextDescribedById}\n        value={screenReaderInstructions.draggable}\n      />\n      <LiveRegion id={liveRegionId} announcement={announcement} />\n    </>\n  );\n\n  return container ? createPortal(markup, container) : markup;\n}\n","import {useCallback, useState} from 'react';\n\nexport function useAnnouncement() {\n  const [announcement, setAnnouncement] = useState('');\n  const announce = useCallback((value: string | undefined) => {\n    if (value != null) {\n      setAnnouncement(value);\n    }\n  }, []);\n\n  return {announce, announcement} as const;\n}\n","import {useContext, useEffect} from 'react';\n\nimport {DndMonitorContext} from './context';\nimport type {DndMonitorListener} from './types';\n\nexport function useDndMonitor(listener: DndMonitorListener) {\n  const registerListener = useContext(DndMonitorContext);\n\n  useEffect(() => {\n    if (!registerListener) {\n      throw new Error(\n        'useDndMonitor must be used within a children of <DndContext>'\n      );\n    }\n\n    const unsubscribe = registerListener(listener);\n\n    return unsubscribe;\n  }, [listener, registerListener]);\n}\n","import type {Coordinates, UniqueIdentifier} from '../types';\nimport type {DroppableContainer} from './types';\n\nexport enum Action {\n  DragStart = 'dragStart',\n  DragMove = 'dragMove',\n  DragEnd = 'dragEnd',\n  DragCancel = 'dragCancel',\n  DragOver = 'dragOver',\n  RegisterDroppable = 'registerDroppable',\n  SetDroppableDisabled = 'setDroppableDisabled',\n  UnregisterDroppable = 'unregisterDroppable',\n}\n\nexport type Actions =\n  | {\n      type: Action.DragStart;\n      active: UniqueIdentifier;\n      initialCoordinates: Coordinates;\n    }\n  | {type: Action.DragMove; coordinates: Coordinates}\n  | {type: Action.DragEnd}\n  | {type: Action.DragCancel}\n  | {\n      type: Action.RegisterDroppable;\n      element: DroppableContainer;\n    }\n  | {\n      type: Action.SetDroppableDisabled;\n      id: UniqueIdentifier;\n      key: UniqueIdentifier;\n      disabled: boolean;\n    }\n  | {\n      type: Action.UnregisterDroppable;\n      id: UniqueIdentifier;\n      key: UniqueIdentifier;\n    };\n","export function noop(..._args: any) {}\n","import type {Coordinates} from '../../types';\n\nexport const defaultCoordinates: Coordinates = Object.freeze({\n  x: 0,\n  y: 0,\n});\n","import {getEventCoordinates} from '@dnd-kit/utilities';\nimport type {ClientRect} from '../../types';\n\nexport function getRelativeTransformOrigin(\n  event: MouseEvent | TouchEvent | KeyboardEvent,\n  rect: ClientRect\n) {\n  const eventCoordinates = getEventCoordinates(event);\n\n  if (!eventCoordinates) {\n    return '0 0';\n  }\n\n  const transformOrigin = {\n    x: ((eventCoordinates.x - rect.left) / rect.width) * 100,\n    y: ((eventCoordinates.y - rect.top) / rect.height) * 100,\n  };\n\n  return `${transformOrigin.x}% ${transformOrigin.y}%`;\n}\n","/* eslint-disable no-redeclare */\nimport type {ClientRect} from '../../types';\n\nimport type {Collision, CollisionDescriptor} from './types';\n\n/**\n * Sort collisions from smallest to greatest value\n */\nexport function sortCollisionsAsc(\n  {data: {value: a}}: CollisionDescriptor,\n  {data: {value: b}}: CollisionDescriptor\n) {\n  return a - b;\n}\n\n/**\n * Sort collisions from greatest to smallest value\n */\nexport function sortCollisionsDesc(\n  {data: {value: a}}: CollisionDescriptor,\n  {data: {value: b}}: CollisionDescriptor\n) {\n  return b - a;\n}\n\n/**\n * Returns the coordinates of the corners of a given rectangle:\n * [TopLeft {x, y}, TopRight {x, y}, BottomLeft {x, y}, BottomRight {x, y}]\n */\nexport function cornersOfRectangle({left, top, height, width}: ClientRect) {\n  return [\n    {\n      x: left,\n      y: top,\n    },\n    {\n      x: left + width,\n      y: top,\n    },\n    {\n      x: left,\n      y: top + height,\n    },\n    {\n      x: left + width,\n      y: top + height,\n    },\n  ];\n}\n\n/**\n * Returns the first collision, or null if there isn't one.\n * If a property is specified, returns the specified property of the first collision.\n */\nexport function getFirstCollision(\n  collisions: Collision[] | null | undefined\n): Collision | null;\nexport function getFirstCollision<T extends keyof Collision>(\n  collisions: Collision[] | null | undefined,\n  property: T\n): Collision[T] | null;\nexport function getFirstCollision(\n  collisions: Collision[] | null | undefined,\n  property?: keyof Collision\n) {\n  if (!collisions || collisions.length === 0) {\n    return null;\n  }\n\n  const [firstCollision] = collisions;\n\n  return property ? firstCollision[property] : firstCollision;\n}\n","import type {ClientRect} from '../../types';\n\nimport type {CollisionDescriptor, CollisionDetection} from './types';\nimport {sortCollisionsDesc} from './helpers';\n\n/**\n * Returns the intersecting rectangle area between two rectangles\n */\nexport function getIntersectionRatio(\n  entry: ClientRect,\n  target: ClientRect\n): number {\n  const top = Math.max(target.top, entry.top);\n  const left = Math.max(target.left, entry.left);\n  const right = Math.min(target.left + target.width, entry.left + entry.width);\n  const bottom = Math.min(target.top + target.height, entry.top + entry.height);\n  const width = right - left;\n  const height = bottom - top;\n\n  if (left < right && top < bottom) {\n    const targetArea = target.width * target.height;\n    const entryArea = entry.width * entry.height;\n    const intersectionArea = width * height;\n    const intersectionRatio =\n      intersectionArea / (targetArea + entryArea - intersectionArea);\n\n    return Number(intersectionRatio.toFixed(4));\n  }\n\n  // Rectangles do not overlap, or overlap has an area of zero (edge/corner overlap)\n  return 0;\n}\n\n/**\n * Returns the rectangles that has the greatest intersection area with a given\n * rectangle in an array of rectangles.\n */\nexport const rectIntersection: CollisionDetection = ({\n  collisionRect,\n  droppableRects,\n  droppableContainers,\n}) => {\n  const collisions: CollisionDescriptor[] = [];\n\n  for (const droppableContainer of droppableContainers) {\n    const {id} = droppableContainer;\n    const rect = droppableRects.get(id);\n\n    if (rect) {\n      const intersectionRatio = getIntersectionRatio(rect, collisionRect);\n\n      if (intersectionRatio > 0) {\n        collisions.push({\n          id,\n          data: {droppableContainer, value: intersectionRatio},\n        });\n      }\n    }\n  }\n\n  return collisions.sort(sortCollisionsDesc);\n};\n","import type {Coordinates, ClientRect} from '../../types';\nimport {defaultCoordinates} from '../coordinates';\n\nexport function getRectDelta(\n  rect1: ClientRect | null,\n  rect2: ClientRect | null\n): Coordinates {\n  return rect1 && rect2\n    ? {\n        x: rect1.left - rect2.left,\n        y: rect1.top - rect2.top,\n      }\n    : defaultCoordinates;\n}\n","import type {Coordinates, ClientRect} from '../../types';\n\nexport function createRectAdjustmentFn(modifier: number) {\n  return function adjustClientRect(\n    rect: ClientRect,\n    ...adjustments: Coordinates[]\n  ): ClientRect {\n    return adjustments.reduce<ClientRect>(\n      (acc, adjustment) => ({\n        ...acc,\n        top: acc.top + modifier * adjustment.y,\n        bottom: acc.bottom + modifier * adjustment.y,\n        left: acc.left + modifier * adjustment.x,\n        right: acc.right + modifier * adjustment.x,\n      }),\n      {...rect}\n    );\n  };\n}\n\nexport const getAdjustedRect = createRectAdjustmentFn(1);\n","import type {Transform} from '@dnd-kit/utilities';\n\nexport function parseTransform(transform: string): Transform | null {\n  if (transform.startsWith('matrix3d(')) {\n    const transformArray = transform.slice(9, -1).split(/, /);\n\n    return {\n      x: +transformArray[12],\n      y: +transformArray[13],\n      scaleX: +transformArray[0],\n      scaleY: +transformArray[5],\n    };\n  } else if (transform.startsWith('matrix(')) {\n    const transformArray = transform.slice(7, -1).split(/, /);\n\n    return {\n      x: +transformArray[4],\n      y: +transformArray[5],\n      scaleX: +transformArray[0],\n      scaleY: +transformArray[3],\n    };\n  }\n\n  return null;\n}\n","import {getWindow} from '@dnd-kit/utilities';\n\nimport type {ClientRect} from '../../types';\nimport {inverseTransform} from '../transform';\n\ninterface Options {\n  ignoreTransform?: boolean;\n}\n\nconst defaultOptions: Options = {ignoreTransform: false};\n\n/**\n * Returns the bounding client rect of an element relative to the viewport.\n */\nexport function getClientRect(\n  element: Element,\n  options: Options = defaultOptions\n) {\n  let rect: ClientRect = element.getBoundingClientRect();\n\n  if (options.ignoreTransform) {\n    const {transform, transformOrigin} =\n      getWindow(element).getComputedStyle(element);\n\n    if (transform) {\n      rect = inverseTransform(rect, transform, transformOrigin);\n    }\n  }\n\n  const {top, left, width, height, bottom, right} = rect;\n\n  return {\n    top,\n    left,\n    width,\n    height,\n    bottom,\n    right,\n  };\n}\n\n/**\n * Returns the bounding client rect of an element relative to the viewport.\n *\n * @remarks\n * The ClientRect returned by this method does not take into account transforms\n * applied to the element it measures.\n *\n */\nexport function getTransformAgnosticClientRect(element: Element): ClientRect {\n  return getClientRect(element, {ignoreTransform: true});\n}\n","import type {ClientRect} from '../../types';\n\nimport {parseTransform} from './parseTransform';\n\nexport function inverseTransform(\n  rect: ClientRect,\n  transform: string,\n  transformOrigin: string\n): ClientRect {\n  const parsedTransform = parseTransform(transform);\n\n  if (!parsedTransform) {\n    return rect;\n  }\n\n  const {scaleX, scaleY, x: translateX, y: translateY} = parsedTransform;\n\n  const x = rect.left - translateX - (1 - scaleX) * parseFloat(transformOrigin);\n  const y =\n    rect.top -\n    translateY -\n    (1 - scaleY) *\n      parseFloat(transformOrigin.slice(transformOrigin.indexOf(' ') + 1));\n  const w = scaleX ? rect.width / scaleX : rect.width;\n  const h = scaleY ? rect.height / scaleY : rect.height;\n\n  return {\n    width: w,\n    height: h,\n    top: y,\n    right: x + w,\n    bottom: y + h,\n    left: x,\n  };\n}\n","import {\n  getWindow,\n  isDocument,\n  isHTMLElement,\n  isSVGElement,\n} from '@dnd-kit/utilities';\n\nimport {isFixed} from './isFixed';\nimport {isScrollable} from './isScrollable';\n\nexport function getScrollableAncestors(\n  element: Node | null,\n  limit?: number\n): Element[] {\n  const scrollParents: Element[] = [];\n\n  function findScrollableAncestors(node: Node | null): Element[] {\n    if (limit != null && scrollParents.length >= limit) {\n      return scrollParents;\n    }\n\n    if (!node) {\n      return scrollParents;\n    }\n\n    if (\n      isDocument(node) &&\n      node.scrollingElement != null &&\n      !scrollParents.includes(node.scrollingElement)\n    ) {\n      scrollParents.push(node.scrollingElement);\n\n      return scrollParents;\n    }\n\n    if (!isHTMLElement(node) || isSVGElement(node)) {\n      return scrollParents;\n    }\n\n    if (scrollParents.includes(node)) {\n      return scrollParents;\n    }\n\n    const computedStyle = getWindow(element).getComputedStyle(node);\n\n    if (node !== element) {\n      if (isScrollable(node, computedStyle)) {\n        scrollParents.push(node);\n      }\n    }\n\n    if (isFixed(node, computedStyle)) {\n      return scrollParents;\n    }\n\n    return findScrollableAncestors(node.parentNode);\n  }\n\n  if (!element) {\n    return scrollParents;\n  }\n\n  return findScrollableAncestors(element);\n}\n\nexport function getFirstScrollableAncestor(node: Node | null): Element | null {\n  const [firstScrollableAncestor] = getScrollableAncestors(node, 1);\n\n  return firstScrollableAncestor ?? null;\n}\n","import {getWindow} from '@dnd-kit/utilities';\n\nexport function isScrollable(\n  element: HTMLElement,\n  computedStyle: CSSStyleDeclaration = getWindow(element).getComputedStyle(\n    element\n  )\n): boolean {\n  const overflowRegex = /(auto|scroll|overlay)/;\n  const properties = ['overflow', 'overflowX', 'overflowY'];\n\n  return properties.some((property) => {\n    const value = computedStyle[property as keyof CSSStyleDeclaration];\n\n    return typeof value === 'string' ? overflowRegex.test(value) : false;\n  });\n}\n","import {getWindow} from '@dnd-kit/utilities';\n\nexport function isFixed(\n  node: HTMLElement,\n  computedStyle: CSSStyleDeclaration = getWindow(node).getComputedStyle(node)\n): boolean {\n  return computedStyle.position === 'fixed';\n}\n","import {\n  canUseDOM,\n  isHTMLElement,\n  isDocument,\n  getOwnerDocument,\n  isNode,\n  isWindow,\n} from '@dnd-kit/utilities';\n\nexport function getScrollableElement(element: EventTarget | null) {\n  if (!canUseDOM || !element) {\n    return null;\n  }\n\n  if (isWindow(element)) {\n    return element;\n  }\n\n  if (!isNode(element)) {\n    return null;\n  }\n\n  if (\n    isDocument(element) ||\n    element === getOwnerDocument(element).scrollingElement\n  ) {\n    return window;\n  }\n\n  if (isHTMLElement(element)) {\n    return element;\n  }\n\n  return null;\n}\n","import {isWindow} from '@dnd-kit/utilities';\n\nimport type {Coordinates} from '../../types';\n\nexport function getScrollXCoordinate(element: Element | typeof window): number {\n  if (isWindow(element)) {\n    return element.scrollX;\n  }\n\n  return element.scrollLeft;\n}\n\nexport function getScrollYCoordinate(element: Element | typeof window): number {\n  if (isWindow(element)) {\n    return element.scrollY;\n  }\n\n  return element.scrollTop;\n}\n\nexport function getScrollCoordinates(\n  element: Element | typeof window\n): Coordinates {\n  return {\n    x: getScrollXCoordinate(element),\n    y: getScrollYCoordinate(element),\n  };\n}\n","export enum Direction {\n  Forward = 1,\n  Backward = -1,\n}\n","import {canUseDOM} from '@dnd-kit/utilities';\n\nexport function isDocumentScrollingElement(element: Element | null) {\n  if (!canUseDOM || !element) {\n    return false;\n  }\n\n  return element === document.scrollingElement;\n}\n","import {isDocumentScrollingElement} from './documentScrollingElement';\n\nexport function getScrollPosition(scrollingContainer: Element) {\n  const minScroll = {\n    x: 0,\n    y: 0,\n  };\n  const dimensions = isDocumentScrollingElement(scrollingContainer)\n    ? {\n        height: window.innerHeight,\n        width: window.innerWidth,\n      }\n    : {\n        height: scrollingContainer.clientHeight,\n        width: scrollingContainer.clientWidth,\n      };\n  const maxScroll = {\n    x: scrollingContainer.scrollWidth - dimensions.width,\n    y: scrollingContainer.scrollHeight - dimensions.height,\n  };\n\n  const isTop = scrollingContainer.scrollTop <= minScroll.y;\n  const isLeft = scrollingContainer.scrollLeft <= minScroll.x;\n  const isBottom = scrollingContainer.scrollTop >= maxScroll.y;\n  const isRight = scrollingContainer.scrollLeft >= maxScroll.x;\n\n  return {\n    isTop,\n    isLeft,\n    isBottom,\n    isRight,\n    maxScroll,\n    minScroll,\n  };\n}\n","import {Direction, ClientRect} from '../../types';\nimport {getScrollPosition} from './getScrollPosition';\n\ninterface PositionalCoordinates\n  extends Pick<ClientRect, 'top' | 'left' | 'right' | 'bottom'> {}\n\nconst defaultThreshold = {\n  x: 0.2,\n  y: 0.2,\n};\n\nexport function getScrollDirectionAndSpeed(\n  scrollContainer: Element,\n  scrollContainerRect: ClientRect,\n  {top, left, right, bottom}: PositionalCoordinates,\n  acceleration = 10,\n  thresholdPercentage = defaultThreshold\n) {\n  const {isTop, isBottom, isLeft, isRight} = getScrollPosition(scrollContainer);\n\n  const direction = {\n    x: 0,\n    y: 0,\n  };\n  const speed = {\n    x: 0,\n    y: 0,\n  };\n  const threshold = {\n    height: scrollContainerRect.height * thresholdPercentage.y,\n    width: scrollContainerRect.width * thresholdPercentage.x,\n  };\n\n  if (!isTop && top <= scrollContainerRect.top + threshold.height) {\n    // Scroll Up\n    direction.y = Direction.Backward;\n    speed.y =\n      acceleration *\n      Math.abs(\n        (scrollContainerRect.top + threshold.height - top) / threshold.height\n      );\n  } else if (\n    !isBottom &&\n    bottom >= scrollContainerRect.bottom - threshold.height\n  ) {\n    // Scroll Down\n    direction.y = Direction.Forward;\n    speed.y =\n      acceleration *\n      Math.abs(\n        (scrollContainerRect.bottom - threshold.height - bottom) /\n          threshold.height\n      );\n  }\n\n  if (!isRight && right >= scrollContainerRect.right - threshold.width) {\n    // Scroll Right\n    direction.x = Direction.Forward;\n    speed.x =\n      acceleration *\n      Math.abs(\n        (scrollContainerRect.right - threshold.width - right) / threshold.width\n      );\n  } else if (!isLeft && left <= scrollContainerRect.left + threshold.width) {\n    // Scroll Left\n    direction.x = Direction.Backward;\n    speed.x =\n      acceleration *\n      Math.abs(\n        (scrollContainerRect.left + threshold.width - left) / threshold.width\n      );\n  }\n\n  return {\n    direction,\n    speed,\n  };\n}\n","export function getScrollElementRect(element: Element) {\n  if (element === document.scrollingElement) {\n    const {innerWidth, innerHeight} = window;\n\n    return {\n      top: 0,\n      left: 0,\n      right: innerWidth,\n      bottom: innerHeight,\n      width: innerWidth,\n      height: innerHeight,\n    };\n  }\n\n  const {top, left, right, bottom} = element.getBoundingClientRect();\n\n  return {\n    top,\n    left,\n    right,\n    bottom,\n    width: element.clientWidth,\n    height: element.clientHeight,\n  };\n}\n","import {add} from '@dnd-kit/utilities';\n\nimport type {Coordinates} from '../../types';\nimport {\n  getScrollCoordinates,\n  getScrollXCoordinate,\n  getScrollYCoordinate,\n} from './getScrollCoordinates';\nimport {defaultCoordinates} from '../coordinates';\n\nexport function getScrollOffsets(scrollableAncestors: Element[]): Coordinates {\n  return scrollableAncestors.reduce<Coordinates>((acc, node) => {\n    return add(acc, getScrollCoordinates(node));\n  }, defaultCoordinates);\n}\n\nexport function getScrollXOffset(scrollableAncestors: Element[]): number {\n  return scrollableAncestors.reduce<number>((acc, node) => {\n    return acc + getScrollXCoordinate(node);\n  }, 0);\n}\n\nexport function getScrollYOffset(scrollableAncestors: Element[]): number {\n  return scrollableAncestors.reduce<number>((acc, node) => {\n    return acc + getScrollYCoordinate(node);\n  }, 0);\n}\n","import type {ClientRect} from '../../types';\nimport {getClientRect} from '../rect/getRect';\nimport {getFirstScrollableAncestor} from './getScrollableAncestors';\n\nexport function scrollIntoViewIfNeeded(\n  element: HTMLElement | null | undefined,\n  measure: (node: HTMLElement) => ClientRect = getClientRect\n) {\n  if (!element) {\n    return;\n  }\n\n  const {top, left, bottom, right} = measure(element);\n  const firstScrollableAncestor = getFirstScrollableAncestor(element);\n\n  if (!firstScrollableAncestor) {\n    return;\n  }\n\n  if (\n    bottom <= 0 ||\n    right <= 0 ||\n    top >= window.innerHeight ||\n    left >= window.innerWidth\n  ) {\n    element.scrollIntoView({\n      block: 'center',\n      inline: 'center',\n    });\n  }\n}\n","import type {ClientRect} from '../../types/rect';\nimport {\n  getScrollableAncestors,\n  getScrollOffsets,\n  getScrollXOffset,\n  getScrollYOffset,\n} from '../scroll';\n\nconst properties = [\n  ['x', ['left', 'right'], getScrollXOffset],\n  ['y', ['top', 'bottom'], getScrollYOffset],\n] as const;\n\nexport class Rect {\n  constructor(rect: ClientRect, element: Element) {\n    const scrollableAncestors = getScrollableAncestors(element);\n    const scrollOffsets = getScrollOffsets(scrollableAncestors);\n\n    this.rect = {...rect};\n    this.width = rect.width;\n    this.height = rect.height;\n\n    for (const [axis, keys, getScrollOffset] of properties) {\n      for (const key of keys) {\n        Object.defineProperty(this, key, {\n          get: () => {\n            const currentOffsets = getScrollOffset(scrollableAncestors);\n            const scrollOffsetsDeltla = scrollOffsets[axis] - currentOffsets;\n\n            return this.rect[key] + scrollOffsetsDeltla;\n          },\n          enumerable: true,\n        });\n      }\n    }\n\n    Object.defineProperty(this, 'rect', {enumerable: false});\n  }\n\n  private rect: ClientRect;\n\n  public width: number;\n\n  public height: number;\n\n  // The below properties are set by the `Object.defineProperty` calls in the constructor\n  // @ts-ignore\n  public top: number;\n  // @ts-ignore\n  public bottom: number;\n  // @ts-ignore\n  public right: number;\n  // @ts-ignore\n  public left: number;\n}\n","export class Listeners {\n  private listeners: [\n    string,\n    EventListenerOrEventListenerObject,\n    AddEventListenerOptions | boolean | undefined\n  ][] = [];\n\n  constructor(private target: EventTarget | null) {}\n\n  public add<T extends Event>(\n    eventName: string,\n    handler: (event: T) => void,\n    options?: AddEventListenerOptions | boolean\n  ) {\n    this.target?.addEventListener(eventName, handler as EventListener, options);\n    this.listeners.push([eventName, handler as EventListener, options]);\n  }\n\n  public removeAll = () => {\n    this.listeners.forEach((listener) =>\n      this.target?.removeEventListener(...listener)\n    );\n  };\n}\n","import type {Coordinates, DistanceMeasurement} from '../../types';\n\nexport function hasExceededDistance(\n  delta: Coordinates,\n  measurement: DistanceMeasurement\n): boolean {\n  const dx = Math.abs(delta.x);\n  const dy = Math.abs(delta.y);\n\n  if (typeof measurement === 'number') {\n    return Math.sqrt(dx ** 2 + dy ** 2) > measurement;\n  }\n\n  if ('x' in measurement && 'y' in measurement) {\n    return dx > measurement.x && dy > measurement.y;\n  }\n\n  if ('x' in measurement) {\n    return dx > measurement.x;\n  }\n\n  if ('y' in measurement) {\n    return dy > measurement.y;\n  }\n\n  return false;\n}\n","export enum EventName {\n  Click = 'click',\n  DragStart = 'dragstart',\n  Keydown = 'keydown',\n  ContextMenu = 'contextmenu',\n  Resize = 'resize',\n  SelectionChange = 'selectionchange',\n  VisibilityChange = 'visibilitychange',\n}\n\nexport function preventDefault(event: Event) {\n  event.preventDefault();\n}\n\nexport function stopPropagation(event: Event) {\n  event.stopPropagation();\n}\n","import type {Coordinates, UniqueIdentifier} from '../../types';\nimport type {SensorContext} from '../types';\n\nexport enum KeyboardCode {\n  Space = 'Space',\n  Down = 'ArrowDown',\n  Right = 'ArrowRight',\n  Left = 'ArrowLeft',\n  Up = 'ArrowUp',\n  Esc = 'Escape',\n  Enter = 'Enter',\n}\n\nexport type KeyboardCodes = {\n  start: KeyboardEvent['code'][];\n  cancel: KeyboardEvent['code'][];\n  end: KeyboardEvent['code'][];\n};\n\nexport type KeyboardCoordinateGetter = (\n  event: KeyboardEvent,\n  args: {\n    active: UniqueIdentifier;\n    currentCoordinates: Coordinates;\n    context: SensorContext;\n  }\n) => Coordinates | void;\n","import {KeyboardCoordinateGetter, KeyboardCode, KeyboardCodes} from './types';\n\nexport const defaultKeyboardCodes: KeyboardCodes = {\n  start: [KeyboardCode.Space, KeyboardCode.Enter],\n  cancel: [KeyboardCode.Esc],\n  end: [KeyboardCode.Space, KeyboardCode.Enter],\n};\n\nexport const defaultKeyboardCoordinateGetter: KeyboardCoordinateGetter = (\n  event,\n  {currentCoordinates}\n) => {\n  switch (event.code) {\n    case KeyboardCode.Right:\n      return {\n        ...currentCoordinates,\n        x: currentCoordinates.x + 25,\n      };\n    case KeyboardCode.Left:\n      return {\n        ...currentCoordinates,\n        x: currentCoordinates.x - 25,\n      };\n    case KeyboardCode.Down:\n      return {\n        ...currentCoordinates,\n        y: currentCoordinates.y + 25,\n      };\n    case KeyboardCode.Up:\n      return {\n        ...currentCoordinates,\n        y: currentCoordinates.y - 25,\n      };\n  }\n\n  return undefined;\n};\n","import {\n  add as getAdjustedCoordinates,\n  subtract as getCoordinatesDelta,\n  getOwnerDocument,\n  getWindow,\n  isKeyboardEvent,\n} from '@dnd-kit/utilities';\n\nimport type {Coordinates} from '../../types';\nimport {\n  defaultCoordinates,\n  getScrollPosition,\n  getScrollElementRect,\n} from '../../utilities';\nimport {scrollIntoViewIfNeeded} from '../../utilities/scroll';\nimport {EventName} from '../events';\nimport {Listeners} from '../utilities';\nimport type {\n  Activators,\n  SensorInstance,\n  SensorProps,\n  SensorOptions,\n} from '../types';\n\nimport {KeyboardCoordinateGetter, KeyboardCode, KeyboardCodes} from './types';\nimport {\n  defaultKeyboardCodes,\n  defaultKeyboardCoordinateGetter,\n} from './defaults';\n\nexport interface KeyboardSensorOptions extends SensorOptions {\n  keyboardCodes?: KeyboardCodes;\n  coordinateGetter?: KeyboardCoordinateGetter;\n  scrollBehavior?: ScrollBehavior;\n  onActivation?({event}: {event: KeyboardEvent}): void;\n}\n\nexport type KeyboardSensorProps = SensorProps<KeyboardSensorOptions>;\n\nexport class KeyboardSensor implements SensorInstance {\n  public autoScrollEnabled = false;\n  private referenceCoordinates: Coordinates | undefined;\n  private listeners: Listeners;\n  private windowListeners: Listeners;\n\n  constructor(private props: KeyboardSensorProps) {\n    const {\n      event: {target},\n    } = props;\n\n    this.props = props;\n    this.listeners = new Listeners(getOwnerDocument(target));\n    this.windowListeners = new Listeners(getWindow(target));\n    this.handleKeyDown = this.handleKeyDown.bind(this);\n    this.handleCancel = this.handleCancel.bind(this);\n\n    this.attach();\n  }\n\n  private attach() {\n    this.handleStart();\n\n    this.windowListeners.add(EventName.Resize, this.handleCancel);\n    this.windowListeners.add(EventName.VisibilityChange, this.handleCancel);\n\n    setTimeout(() => this.listeners.add(EventName.Keydown, this.handleKeyDown));\n  }\n\n  private handleStart() {\n    const {activeNode, onStart} = this.props;\n    const node = activeNode.node.current;\n\n    if (node) {\n      scrollIntoViewIfNeeded(node);\n    }\n\n    onStart(defaultCoordinates);\n  }\n\n  private handleKeyDown(event: Event) {\n    if (isKeyboardEvent(event)) {\n      const {active, context, options} = this.props;\n      const {\n        keyboardCodes = defaultKeyboardCodes,\n        coordinateGetter = defaultKeyboardCoordinateGetter,\n        scrollBehavior = 'smooth',\n      } = options;\n      const {code} = event;\n\n      if (keyboardCodes.end.includes(code)) {\n        this.handleEnd(event);\n        return;\n      }\n\n      if (keyboardCodes.cancel.includes(code)) {\n        this.handleCancel(event);\n        return;\n      }\n\n      const {collisionRect} = context.current;\n      const currentCoordinates = collisionRect\n        ? {x: collisionRect.left, y: collisionRect.top}\n        : defaultCoordinates;\n\n      if (!this.referenceCoordinates) {\n        this.referenceCoordinates = currentCoordinates;\n      }\n\n      const newCoordinates = coordinateGetter(event, {\n        active,\n        context: context.current,\n        currentCoordinates,\n      });\n\n      if (newCoordinates) {\n        const coordinatesDelta = getCoordinatesDelta(\n          newCoordinates,\n          currentCoordinates\n        );\n        const scrollDelta = {\n          x: 0,\n          y: 0,\n        };\n        const {scrollableAncestors} = context.current;\n\n        for (const scrollContainer of scrollableAncestors) {\n          const direction = event.code;\n          const {isTop, isRight, isLeft, isBottom, maxScroll, minScroll} =\n            getScrollPosition(scrollContainer);\n          const scrollElementRect = getScrollElementRect(scrollContainer);\n\n          const clampedCoordinates = {\n            x: Math.min(\n              direction === KeyboardCode.Right\n                ? scrollElementRect.right - scrollElementRect.width / 2\n                : scrollElementRect.right,\n              Math.max(\n                direction === KeyboardCode.Right\n                  ? scrollElementRect.left\n                  : scrollElementRect.left + scrollElementRect.width / 2,\n                newCoordinates.x\n              )\n            ),\n            y: Math.min(\n              direction === KeyboardCode.Down\n                ? scrollElementRect.bottom - scrollElementRect.height / 2\n                : scrollElementRect.bottom,\n              Math.max(\n                direction === KeyboardCode.Down\n                  ? scrollElementRect.top\n                  : scrollElementRect.top + scrollElementRect.height / 2,\n                newCoordinates.y\n              )\n            ),\n          };\n\n          const canScrollX =\n            (direction === KeyboardCode.Right && !isRight) ||\n            (direction === KeyboardCode.Left && !isLeft);\n          const canScrollY =\n            (direction === KeyboardCode.Down && !isBottom) ||\n            (direction === KeyboardCode.Up && !isTop);\n\n          if (canScrollX && clampedCoordinates.x !== newCoordinates.x) {\n            const newScrollCoordinates =\n              scrollContainer.scrollLeft + coordinatesDelta.x;\n            const canScrollToNewCoordinates =\n              (direction === KeyboardCode.Right &&\n                newScrollCoordinates <= maxScroll.x) ||\n              (direction === KeyboardCode.Left &&\n                newScrollCoordinates >= minScroll.x);\n\n            if (canScrollToNewCoordinates && !coordinatesDelta.y) {\n              // We don't need to update coordinates, the scroll adjustment alone will trigger\n              // logic to auto-detect the new container we are over\n              scrollContainer.scrollTo({\n                left: newScrollCoordinates,\n                behavior: scrollBehavior,\n              });\n              return;\n            }\n\n            if (canScrollToNewCoordinates) {\n              scrollDelta.x = scrollContainer.scrollLeft - newScrollCoordinates;\n            } else {\n              scrollDelta.x =\n                direction === KeyboardCode.Right\n                  ? scrollContainer.scrollLeft - maxScroll.x\n                  : scrollContainer.scrollLeft - minScroll.x;\n            }\n\n            if (scrollDelta.x) {\n              scrollContainer.scrollBy({\n                left: -scrollDelta.x,\n                behavior: scrollBehavior,\n              });\n            }\n            break;\n          } else if (canScrollY && clampedCoordinates.y !== newCoordinates.y) {\n            const newScrollCoordinates =\n              scrollContainer.scrollTop + coordinatesDelta.y;\n            const canScrollToNewCoordinates =\n              (direction === KeyboardCode.Down &&\n                newScrollCoordinates <= maxScroll.y) ||\n              (direction === KeyboardCode.Up &&\n                newScrollCoordinates >= minScroll.y);\n\n            if (canScrollToNewCoordinates && !coordinatesDelta.x) {\n              // We don't need to update coordinates, the scroll adjustment alone will trigger\n              // logic to auto-detect the new container we are over\n              scrollContainer.scrollTo({\n                top: newScrollCoordinates,\n                behavior: scrollBehavior,\n              });\n              return;\n            }\n\n            if (canScrollToNewCoordinates) {\n              scrollDelta.y = scrollContainer.scrollTop - newScrollCoordinates;\n            } else {\n              scrollDelta.y =\n                direction === KeyboardCode.Down\n                  ? scrollContainer.scrollTop - maxScroll.y\n                  : scrollContainer.scrollTop - minScroll.y;\n            }\n\n            if (scrollDelta.y) {\n              scrollContainer.scrollBy({\n                top: -scrollDelta.y,\n                behavior: scrollBehavior,\n              });\n            }\n\n            break;\n          }\n        }\n\n        this.handleMove(\n          event,\n          getAdjustedCoordinates(\n            getCoordinatesDelta(newCoordinates, this.referenceCoordinates),\n            scrollDelta\n          )\n        );\n      }\n    }\n  }\n\n  private handleMove(event: Event, coordinates: Coordinates) {\n    const {onMove} = this.props;\n\n    event.preventDefault();\n    onMove(coordinates);\n  }\n\n  private handleEnd(event: Event) {\n    const {onEnd} = this.props;\n\n    event.preventDefault();\n    this.detach();\n    onEnd();\n  }\n\n  private handleCancel(event: Event) {\n    const {onCancel} = this.props;\n\n    event.preventDefault();\n    this.detach();\n    onCancel();\n  }\n\n  private detach() {\n    this.listeners.removeAll();\n    this.windowListeners.removeAll();\n  }\n\n  static activators: Activators<KeyboardSensorOptions> = [\n    {\n      eventName: 'onKeyDown' as const,\n      handler: (\n        event: React.KeyboardEvent,\n        {keyboardCodes = defaultKeyboardCodes, onActivation},\n        {active}\n      ) => {\n        const {code} = event.nativeEvent;\n\n        if (keyboardCodes.start.includes(code)) {\n          const activator = active.activatorNode.current;\n\n          if (activator && event.target !== activator) {\n            return false;\n          }\n\n          event.preventDefault();\n\n          onActivation?.({event: event.nativeEvent});\n\n          return true;\n        }\n\n        return false;\n      },\n    },\n  ];\n}\n","import {\n  subtract as getCoordinatesDelta,\n  getEventCoordinates,\n  getOwnerDocument,\n  getWindow,\n} from '@dnd-kit/utilities';\n\nimport {defaultCoordinates} from '../../utilities';\nimport {\n  getEventListenerTarget,\n  hasExceededDistance,\n  Listeners,\n} from '../utilities';\nimport {EventName, preventDefault, stopPropagation} from '../events';\nimport {KeyboardCode} from '../keyboard';\nimport type {SensorInstance, SensorProps, SensorOptions} from '../types';\nimport type {Coordinates, DistanceMeasurement} from '../../types';\n\ninterface DistanceConstraint {\n  distance: DistanceMeasurement;\n  tolerance?: DistanceMeasurement;\n}\n\ninterface DelayConstraint {\n  delay: number;\n  tolerance: DistanceMeasurement;\n}\n\ninterface EventDescriptor {\n  name: keyof DocumentEventMap;\n  passive?: boolean;\n}\n\nexport interface PointerEventHandlers {\n  move: EventDescriptor;\n  end: EventDescriptor;\n}\n\nexport type PointerActivationConstraint =\n  | DelayConstraint\n  | DistanceConstraint\n  | (DelayConstraint & DistanceConstraint);\n\nfunction isDistanceConstraint(\n  constraint: PointerActivationConstraint\n): constraint is PointerActivationConstraint & DistanceConstraint {\n  return Boolean(constraint && 'distance' in constraint);\n}\n\nfunction isDelayConstraint(\n  constraint: PointerActivationConstraint\n): constraint is DelayConstraint {\n  return Boolean(constraint && 'delay' in constraint);\n}\n\nexport interface AbstractPointerSensorOptions extends SensorOptions {\n  activationConstraint?: PointerActivationConstraint;\n  bypassActivationConstraint?(\n    props: Pick<AbstractPointerSensorProps, 'activeNode' | 'event' | 'options'>\n  ): boolean;\n  onActivation?({event}: {event: Event}): void;\n}\n\nexport type AbstractPointerSensorProps =\n  SensorProps<AbstractPointerSensorOptions>;\n\nexport class AbstractPointerSensor implements SensorInstance {\n  public autoScrollEnabled = true;\n  private document: Document;\n  private activated: boolean = false;\n  private initialCoordinates: Coordinates;\n  private timeoutId: NodeJS.Timeout | null = null;\n  private listeners: Listeners;\n  private documentListeners: Listeners;\n  private windowListeners: Listeners;\n\n  constructor(\n    private props: AbstractPointerSensorProps,\n    private events: PointerEventHandlers,\n    listenerTarget = getEventListenerTarget(props.event.target)\n  ) {\n    const {event} = props;\n    const {target} = event;\n\n    this.props = props;\n    this.events = events;\n    this.document = getOwnerDocument(target);\n    this.documentListeners = new Listeners(this.document);\n    this.listeners = new Listeners(listenerTarget);\n    this.windowListeners = new Listeners(getWindow(target));\n    this.initialCoordinates = getEventCoordinates(event) ?? defaultCoordinates;\n    this.handleStart = this.handleStart.bind(this);\n    this.handleMove = this.handleMove.bind(this);\n    this.handleEnd = this.handleEnd.bind(this);\n    this.handleCancel = this.handleCancel.bind(this);\n    this.handleKeydown = this.handleKeydown.bind(this);\n    this.removeTextSelection = this.removeTextSelection.bind(this);\n\n    this.attach();\n  }\n\n  private attach() {\n    const {\n      events,\n      props: {\n        options: {activationConstraint, bypassActivationConstraint},\n      },\n    } = this;\n\n    this.listeners.add(events.move.name, this.handleMove, {passive: false});\n    this.listeners.add(events.end.name, this.handleEnd);\n    this.windowListeners.add(EventName.Resize, this.handleCancel);\n    this.windowListeners.add(EventName.DragStart, preventDefault);\n    this.windowListeners.add(EventName.VisibilityChange, this.handleCancel);\n    this.windowListeners.add(EventName.ContextMenu, preventDefault);\n    this.documentListeners.add(EventName.Keydown, this.handleKeydown);\n\n    if (activationConstraint) {\n      if (\n        bypassActivationConstraint?.({\n          event: this.props.event,\n          activeNode: this.props.activeNode,\n          options: this.props.options,\n        })\n      ) {\n        return this.handleStart();\n      }\n\n      if (isDelayConstraint(activationConstraint)) {\n        this.timeoutId = setTimeout(\n          this.handleStart,\n          activationConstraint.delay\n        );\n        return;\n      }\n\n      if (isDistanceConstraint(activationConstraint)) {\n        return;\n      }\n    }\n\n    this.handleStart();\n  }\n\n  private detach() {\n    this.listeners.removeAll();\n    this.windowListeners.removeAll();\n\n    // Wait until the next event loop before removing document listeners\n    // This is necessary because we listen for `click` and `selection` events on the document\n    setTimeout(this.documentListeners.removeAll, 50);\n\n    if (this.timeoutId !== null) {\n      clearTimeout(this.timeoutId);\n      this.timeoutId = null;\n    }\n  }\n\n  private handleStart() {\n    const {initialCoordinates} = this;\n    const {onStart} = this.props;\n\n    if (initialCoordinates) {\n      this.activated = true;\n\n      // Stop propagation of click events once activation constraints are met\n      this.documentListeners.add(EventName.Click, stopPropagation, {\n        capture: true,\n      });\n\n      // Remove any text selection from the document\n      this.removeTextSelection();\n\n      // Prevent further text selection while dragging\n      this.documentListeners.add(\n        EventName.SelectionChange,\n        this.removeTextSelection\n      );\n\n      onStart(initialCoordinates);\n    }\n  }\n\n  private handleMove(event: Event) {\n    const {activated, initialCoordinates, props} = this;\n    const {\n      onMove,\n      options: {activationConstraint},\n    } = props;\n\n    if (!initialCoordinates) {\n      return;\n    }\n\n    const coordinates = getEventCoordinates(event) ?? defaultCoordinates;\n    const delta = getCoordinatesDelta(initialCoordinates, coordinates);\n\n    // Constraint validation\n    if (!activated && activationConstraint) {\n      if (isDistanceConstraint(activationConstraint)) {\n        if (\n          activationConstraint.tolerance != null &&\n          hasExceededDistance(delta, activationConstraint.tolerance)\n        ) {\n          return this.handleCancel();\n        }\n\n        if (hasExceededDistance(delta, activationConstraint.distance)) {\n          return this.handleStart();\n        }\n      }\n\n      if (isDelayConstraint(activationConstraint)) {\n        if (hasExceededDistance(delta, activationConstraint.tolerance)) {\n          return this.handleCancel();\n        }\n      }\n\n      return;\n    }\n\n    if (event.cancelable) {\n      event.preventDefault();\n    }\n\n    onMove(coordinates);\n  }\n\n  private handleEnd() {\n    const {onEnd} = this.props;\n\n    this.detach();\n    onEnd();\n  }\n\n  private handleCancel() {\n    const {onCancel} = this.props;\n\n    this.detach();\n    onCancel();\n  }\n\n  private handleKeydown(event: KeyboardEvent) {\n    if (event.code === KeyboardCode.Esc) {\n      this.handleCancel();\n    }\n  }\n\n  private removeTextSelection() {\n    this.document.getSelection()?.removeAllRanges();\n  }\n}\n","import {getOwnerDocument, getWindow} from '@dnd-kit/utilities';\n\nexport function getEventListenerTarget(\n  target: EventTarget | null\n): EventTarget | Document {\n  // If the `event.target` element is removed from the document events will still be targeted\n  // at it, and hence won't always bubble up to the window or document anymore.\n  // If there is any risk of an element being removed while it is being dragged,\n  // the best practice is to attach the event listeners directly to the target.\n  // https://developer.mozilla.org/en-US/docs/Web/API/EventTarget\n\n  const {EventTarget} = getWindow(target);\n\n  return target instanceof EventTarget ? target : getOwnerDocument(target);\n}\n","import type {PointerEvent} from 'react';\nimport {getOwnerDocument} from '@dnd-kit/utilities';\n\nimport type {SensorProps} from '../types';\nimport {\n  AbstractPointerSensor,\n  AbstractPointerSensorOptions,\n  PointerEventHandlers,\n} from './AbstractPointerSensor';\n\nconst events: PointerEventHandlers = {\n  move: {name: 'pointermove'},\n  end: {name: 'pointerup'},\n};\n\nexport interface PointerSensorOptions extends AbstractPointerSensorOptions {}\n\nexport type PointerSensorProps = SensorProps<PointerSensorOptions>;\n\nexport class PointerSensor extends AbstractPointerSensor {\n  constructor(props: PointerSensorProps) {\n    const {event} = props;\n    // Pointer events stop firing if the target is unmounted while dragging\n    // Therefore we attach listeners to the owner document instead\n    const listenerTarget = getOwnerDocument(event.target);\n\n    super(props, events, listenerTarget);\n  }\n\n  static activators = [\n    {\n      eventName: 'onPointerDown' as const,\n      handler: (\n        {nativeEvent: event}: PointerEvent,\n        {onActivation}: PointerSensorOptions\n      ) => {\n        if (!event.isPrimary || event.button !== 0) {\n          return false;\n        }\n\n        onActivation?.({event});\n\n        return true;\n      },\n    },\n  ];\n}\n","import type {MouseEvent} from 'react';\nimport {getOwnerDocument} from '@dnd-kit/utilities';\n\nimport type {SensorProps} from '../types';\nimport {\n  AbstractPointerSensor,\n  PointerEventHandlers,\n  AbstractPointerSensorOptions,\n} from '../pointer';\n\nconst events: PointerEventHandlers = {\n  move: {name: 'mousemove'},\n  end: {name: 'mouseup'},\n};\n\nenum MouseButton {\n  RightClick = 2,\n}\n\nexport interface MouseSensorOptions extends AbstractPointerSensorOptions {}\n\nexport type MouseSensorProps = SensorProps<MouseSensorOptions>;\n\nexport class MouseSensor extends AbstractPointerSensor {\n  constructor(props: MouseSensorProps) {\n    super(props, events, getOwnerDocument(props.event.target));\n  }\n\n  static activators = [\n    {\n      eventName: 'onMouseDown' as const,\n      handler: (\n        {nativeEvent: event}: MouseEvent,\n        {onActivation}: MouseSensorOptions\n      ) => {\n        if (event.button === MouseButton.RightClick) {\n          return false;\n        }\n\n        onActivation?.({event});\n\n        return true;\n      },\n    },\n  ];\n}\n","import type {TouchEvent} from 'react';\n\nimport {\n  AbstractPointerSensor,\n  PointerSensorProps,\n  PointerEventHandlers,\n  PointerSensorOptions,\n} from '../pointer';\nimport type {SensorProps} from '../types';\n\nconst events: PointerEventHandlers = {\n  move: {name: 'touchmove'},\n  end: {name: 'touchend'},\n};\n\nexport interface TouchSensorOptions extends PointerSensorOptions {}\n\nexport type TouchSensorProps = SensorProps<TouchSensorOptions>;\n\nexport class TouchSensor extends AbstractPointerSensor {\n  constructor(props: PointerSensorProps) {\n    super(props, events);\n  }\n\n  static activators = [\n    {\n      eventName: 'onTouchStart' as const,\n      handler: (\n        {nativeEvent: event}: TouchEvent,\n        {onActivation}: TouchSensorOptions\n      ) => {\n        const {touches} = event;\n\n        if (touches.length > 1) {\n          return false;\n        }\n\n        onActivation?.({event});\n\n        return true;\n      },\n    },\n  ];\n\n  static setup() {\n    // Adding a non-capture and non-passive `touchmove` listener in order\n    // to force `event.preventDefault()` calls to work in dynamically added\n    // touchmove event handlers. This is required for iOS Safari.\n    window.addEventListener(events.move.name, noop, {\n      capture: false,\n      passive: false,\n    });\n\n    return function teardown() {\n      window.removeEventListener(events.move.name, noop);\n    };\n\n    // We create a new handler because the teardown function of another sensor\n    // could remove our event listener if we use a referentially equal listener.\n    function noop() {}\n  }\n}\n","import {useCallback, useEffect, useMemo, useRef} from 'react';\nimport {useInterval, useLazyMemo, usePrevious} from '@dnd-kit/utilities';\n\nimport {getScrollDirectionAndSpeed} from '../../utilities';\nimport {Direction} from '../../types';\nimport type {Coordinates, ClientRect} from '../../types';\n\nexport type ScrollAncestorSortingFn = (ancestors: Element[]) => Element[];\n\nexport enum AutoScrollActivator {\n  Pointer,\n  DraggableRect,\n}\n\nexport interface Options {\n  acceleration?: number;\n  activator?: AutoScrollActivator;\n  canScroll?: CanScroll;\n  enabled?: boolean;\n  interval?: number;\n  layoutShiftCompensation?:\n    | boolean\n    | {\n        x: boolean;\n        y: boolean;\n      };\n  order?: TraversalOrder;\n  threshold?: {\n    x: number;\n    y: number;\n  };\n}\n\ninterface Arguments extends Options {\n  draggingRect: ClientRect | null;\n  enabled: boolean;\n  pointerCoordinates: Coordinates | null;\n  scrollableAncestors: Element[];\n  scrollableAncestorRects: ClientRect[];\n  delta: Coordinates;\n}\n\nexport type CanScroll = (element: Element) => boolean;\n\nexport enum TraversalOrder {\n  TreeOrder,\n  ReversedTreeOrder,\n}\n\ninterface ScrollDirection {\n  x: 0 | Direction;\n  y: 0 | Direction;\n}\n\nexport function useAutoScroller({\n  acceleration,\n  activator = AutoScrollActivator.Pointer,\n  canScroll,\n  draggingRect,\n  enabled,\n  interval = 5,\n  order = TraversalOrder.TreeOrder,\n  pointerCoordinates,\n  scrollableAncestors,\n  scrollableAncestorRects,\n  delta,\n  threshold,\n}: Arguments) {\n  const scrollIntent = useScrollIntent({delta, disabled: !enabled});\n  const [setAutoScrollInterval, clearAutoScrollInterval] = useInterval();\n  const scrollSpeed = useRef<Coordinates>({x: 0, y: 0});\n  const scrollDirection = useRef<ScrollDirection>({x: 0, y: 0});\n  const rect = useMemo(() => {\n    switch (activator) {\n      case AutoScrollActivator.Pointer:\n        return pointerCoordinates\n          ? {\n              top: pointerCoordinates.y,\n              bottom: pointerCoordinates.y,\n              left: pointerCoordinates.x,\n              right: pointerCoordinates.x,\n            }\n          : null;\n      case AutoScrollActivator.DraggableRect:\n        return draggingRect;\n    }\n  }, [activator, draggingRect, pointerCoordinates]);\n  const scrollContainerRef = useRef<Element | null>(null);\n  const autoScroll = useCallback(() => {\n    const scrollContainer = scrollContainerRef.current;\n\n    if (!scrollContainer) {\n      return;\n    }\n\n    const scrollLeft = scrollSpeed.current.x * scrollDirection.current.x;\n    const scrollTop = scrollSpeed.current.y * scrollDirection.current.y;\n\n    scrollContainer.scrollBy(scrollLeft, scrollTop);\n  }, []);\n  const sortedScrollableAncestors = useMemo(\n    () =>\n      order === TraversalOrder.TreeOrder\n        ? [...scrollableAncestors].reverse()\n        : scrollableAncestors,\n    [order, scrollableAncestors]\n  );\n\n  useEffect(\n    () => {\n      if (!enabled || !scrollableAncestors.length || !rect) {\n        clearAutoScrollInterval();\n        return;\n      }\n\n      for (const scrollContainer of sortedScrollableAncestors) {\n        if (canScroll?.(scrollContainer) === false) {\n          continue;\n        }\n\n        const index = scrollableAncestors.indexOf(scrollContainer);\n        const scrollContainerRect = scrollableAncestorRects[index];\n\n        if (!scrollContainerRect) {\n          continue;\n        }\n\n        const {direction, speed} = getScrollDirectionAndSpeed(\n          scrollContainer,\n          scrollContainerRect,\n          rect,\n          acceleration,\n          threshold\n        );\n\n        for (const axis of ['x', 'y'] as const) {\n          if (!scrollIntent[axis][direction[axis] as Direction]) {\n            speed[axis] = 0;\n            direction[axis] = 0;\n          }\n        }\n\n        if (speed.x > 0 || speed.y > 0) {\n          clearAutoScrollInterval();\n\n          scrollContainerRef.current = scrollContainer;\n          setAutoScrollInterval(autoScroll, interval);\n\n          scrollSpeed.current = speed;\n          scrollDirection.current = direction;\n\n          return;\n        }\n      }\n\n      scrollSpeed.current = {x: 0, y: 0};\n      scrollDirection.current = {x: 0, y: 0};\n      clearAutoScrollInterval();\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [\n      acceleration,\n      autoScroll,\n      canScroll,\n      clearAutoScrollInterval,\n      enabled,\n      interval,\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      JSON.stringify(rect),\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      JSON.stringify(scrollIntent),\n      setAutoScrollInterval,\n      scrollableAncestors,\n      sortedScrollableAncestors,\n      scrollableAncestorRects,\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      JSON.stringify(threshold),\n    ]\n  );\n}\n\ninterface ScrollIntent {\n  x: Record<Direction, boolean>;\n  y: Record<Direction, boolean>;\n}\n\nconst defaultScrollIntent: ScrollIntent = {\n  x: {[Direction.Backward]: false, [Direction.Forward]: false},\n  y: {[Direction.Backward]: false, [Direction.Forward]: false},\n};\n\nfunction useScrollIntent({\n  delta,\n  disabled,\n}: {\n  delta: Coordinates;\n  disabled: boolean;\n}): ScrollIntent {\n  const previousDelta = usePrevious(delta);\n\n  return useLazyMemo<ScrollIntent>(\n    (previousIntent) => {\n      if (disabled || !previousDelta || !previousIntent) {\n        // Reset scroll intent tracking when auto-scrolling is disabled\n        return defaultScrollIntent;\n      }\n\n      const direction = {\n        x: Math.sign(delta.x - previousDelta.x),\n        y: Math.sign(delta.y - previousDelta.y),\n      };\n\n      // Keep track of the user intent to scroll in each direction for both axis\n      return {\n        x: {\n          [Direction.Backward]:\n            previousIntent.x[Direction.Backward] || direction.x === -1,\n          [Direction.Forward]:\n            previousIntent.x[Direction.Forward] || direction.x === 1,\n        },\n        y: {\n          [Direction.Backward]:\n            previousIntent.y[Direction.Backward] || direction.y === -1,\n          [Direction.Forward]:\n            previousIntent.y[Direction.Forward] || direction.y === 1,\n        },\n      };\n    },\n    [disabled, delta, previousDelta]\n  );\n}\n","import {useCallback, useRef} from 'react';\n\nexport function useInterval() {\n  const intervalRef = useRef<number | null>(null);\n\n  const set = useCallback((listener: Function, duration: number) => {\n    intervalRef.current = setInterval(listener, duration);\n  }, []);\n\n  const clear = useCallback(() => {\n    if (intervalRef.current !== null) {\n      clearInterval(intervalRef.current);\n      intervalRef.current = null;\n    }\n  }, []);\n\n  return [set, clear] as const;\n}\n","import {useCallback, useEffect, useRef, useState} from 'react';\nimport {useLatestValue, useLazyMemo} from '@dnd-kit/utilities';\n\nimport {Rect} from '../../utilities/rect';\nimport type {DroppableContainer, RectMap} from '../../store/types';\nimport type {ClientRect, UniqueIdentifier} from '../../types';\n\ninterface Arguments {\n  dragging: boolean;\n  dependencies: any[];\n  config: DroppableMeasuring;\n}\n\nexport enum MeasuringStrategy {\n  Always,\n  BeforeDragging,\n  WhileDragging,\n}\n\nexport enum MeasuringFrequency {\n  Optimized = 'optimized',\n}\n\ntype MeasuringFunction = (element: HTMLElement) => ClientRect;\n\nexport interface DroppableMeasuring {\n  measure: MeasuringFunction;\n  strategy: MeasuringStrategy;\n  frequency: MeasuringFrequency | number;\n}\n\nconst defaultValue: RectMap = new Map();\n\nexport function useDroppableMeasuring(\n  containers: DroppableContainer[],\n  {dragging, dependencies, config}: Arguments\n) {\n  const [queue, setQueue] = useState<UniqueIdentifier[] | null>(null);\n  const {frequency, measure, strategy} = config;\n  const containersRef = useRef(containers);\n  const disabled = isDisabled();\n  const disabledRef = useLatestValue(disabled);\n  const measureDroppableContainers = useCallback(\n    (ids: UniqueIdentifier[] = []) => {\n      if (disabledRef.current) {\n        return;\n      }\n\n      setQueue((value) => {\n        if (value === null) {\n          return ids;\n        }\n\n        return value.concat(ids.filter((id) => !value.includes(id)));\n      });\n    },\n    [disabledRef]\n  );\n  const timeoutId = useRef<NodeJS.Timeout | null>(null);\n  const droppableRects = useLazyMemo<RectMap>(\n    (previousValue) => {\n      if (disabled && !dragging) {\n        return defaultValue;\n      }\n\n      if (\n        !previousValue ||\n        previousValue === defaultValue ||\n        containersRef.current !== containers ||\n        queue != null\n      ) {\n        const map: RectMap = new Map();\n\n        for (let container of containers) {\n          if (!container) {\n            continue;\n          }\n\n          if (\n            queue &&\n            queue.length > 0 &&\n            !queue.includes(container.id) &&\n            container.rect.current\n          ) {\n            // This container does not need to be re-measured\n            map.set(container.id, container.rect.current);\n            continue;\n          }\n\n          const node = container.node.current;\n          const rect = node ? new Rect(measure(node), node) : null;\n\n          container.rect.current = rect;\n\n          if (rect) {\n            map.set(container.id, rect);\n          }\n        }\n\n        return map;\n      }\n\n      return previousValue;\n    },\n    [containers, queue, dragging, disabled, measure]\n  );\n\n  useEffect(() => {\n    containersRef.current = containers;\n  }, [containers]);\n\n  useEffect(\n    () => {\n      if (disabled) {\n        return;\n      }\n\n      measureDroppableContainers();\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [dragging, disabled]\n  );\n\n  useEffect(\n    () => {\n      if (queue && queue.length > 0) {\n        setQueue(null);\n      }\n    },\n    //eslint-disable-next-line react-hooks/exhaustive-deps\n    [JSON.stringify(queue)]\n  );\n\n  useEffect(\n    () => {\n      if (\n        disabled ||\n        typeof frequency !== 'number' ||\n        timeoutId.current !== null\n      ) {\n        return;\n      }\n\n      timeoutId.current = setTimeout(() => {\n        measureDroppableContainers();\n        timeoutId.current = null;\n      }, frequency);\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [frequency, disabled, measureDroppableContainers, ...dependencies]\n  );\n\n  return {\n    droppableRects,\n    measureDroppableContainers,\n    measuringScheduled: queue != null,\n  };\n\n  function isDisabled() {\n    switch (strategy) {\n      case MeasuringStrategy.Always:\n        return false;\n      case MeasuringStrategy.BeforeDragging:\n        return dragging;\n      default:\n        return !dragging;\n    }\n  }\n}\n","import {useLazyMemo} from '@dnd-kit/utilities';\n\ntype AnyFunction = (...args: any) => any;\n\nexport function useInitialValue<\n  T,\n  U extends AnyFunction | undefined = undefined\n>(\n  value: T | null,\n  computeFn?: U\n): U extends AnyFunction ? ReturnType<U> | null : T | null {\n  return useLazyMemo(\n    (previousValue) => {\n      if (!value) {\n        return null;\n      }\n\n      if (previousValue) {\n        return previousValue;\n      }\n\n      return typeof computeFn === 'function' ? computeFn(value) : value;\n    },\n    [computeFn, value]\n  );\n}\n","import {useEffect, useMemo} from 'react';\nimport {useEvent} from '@dnd-kit/utilities';\n\ninterface Arguments {\n  callback: ResizeObserverCallback;\n  disabled?: boolean;\n}\n\n/**\n * Returns a new ResizeObserver instance bound to the `onResize` callback.\n * If `ResizeObserver` is undefined in the execution environment, returns `undefined`.\n */\nexport function useResizeObserver({callback, disabled}: Arguments) {\n  const handleResize = useEvent(callback);\n  const resizeObserver = useMemo(\n    () => {\n      if (\n        disabled ||\n        typeof window === 'undefined' ||\n        typeof window.ResizeObserver === 'undefined'\n      ) {\n        return undefined;\n      }\n\n      const {ResizeObserver} = window;\n\n      return new ResizeObserver(handleResize);\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [disabled]\n  );\n\n  useEffect(() => {\n    return () => resizeObserver?.disconnect();\n  }, [resizeObserver]);\n\n  return resizeObserver;\n}\n","import {useReducer} from 'react';\nimport {useIsomorphicLayoutEffect} from '@dnd-kit/utilities';\n\nimport type {ClientRect} from '../../types';\nimport {getClientRect, Rect} from '../../utilities';\n\nimport {useMutationObserver} from './useMutationObserver';\nimport {useResizeObserver} from './useResizeObserver';\n\nfunction defaultMeasure(element: HTMLElement) {\n  return new Rect(getClientRect(element), element);\n}\n\nexport function useRect(\n  element: HTMLElement | null,\n  measure: (element: HTMLElement) => ClientRect = defaultMeasure,\n  fallbackRect?: ClientRect | null\n) {\n  const [rect, measureRect] = useReducer(reducer, null);\n\n  const mutationObserver = useMutationObserver({\n    callback(records) {\n      if (!element) {\n        return;\n      }\n\n      for (const record of records) {\n        const {type, target} = record;\n\n        if (\n          type === 'childList' &&\n          target instanceof HTMLElement &&\n          target.contains(element)\n        ) {\n          measureRect();\n          break;\n        }\n      }\n    },\n  });\n  const resizeObserver = useResizeObserver({callback: measureRect});\n\n  useIsomorphicLayoutEffect(() => {\n    measureRect();\n\n    if (element) {\n      resizeObserver?.observe(element);\n      mutationObserver?.observe(document.body, {\n        childList: true,\n        subtree: true,\n      });\n    } else {\n      resizeObserver?.disconnect();\n      mutationObserver?.disconnect();\n    }\n  }, [element]);\n\n  return rect;\n\n  function reducer(currentRect: ClientRect | null) {\n    if (!element) {\n      return null;\n    }\n\n    if (element.isConnected === false) {\n      // Fall back to last rect we measured if the element is\n      // no longer connected to the DOM.\n      return currentRect ?? fallbackRect ?? null;\n    }\n\n    const newRect = measure(element);\n\n    if (JSON.stringify(currentRect) === JSON.stringify(newRect)) {\n      return currentRect;\n    }\n\n    return newRect;\n  }\n}\n","import {useEffect, useMemo} from 'react';\nimport {useEvent} from '@dnd-kit/utilities';\n\ninterface Arguments {\n  callback: MutationCallback;\n  disabled?: boolean;\n}\n\n/**\n * Returns a new MutationObserver instance.\n * If `MutationObserver` is undefined in the execution environment, returns `undefined`.\n */\nexport function useMutationObserver({callback, disabled}: Arguments) {\n  const handleMutations = useEvent(callback);\n  const mutationObserver = useMemo(() => {\n    if (\n      disabled ||\n      typeof window === 'undefined' ||\n      typeof window.MutationObserver === 'undefined'\n    ) {\n      return undefined;\n    }\n\n    const {MutationObserver} = window;\n\n    return new MutationObserver(handleMutations);\n  }, [handleMutations, disabled]);\n\n  useEffect(() => {\n    return () => mutationObserver?.disconnect();\n  }, [mutationObserver]);\n\n  return mutationObserver;\n}\n","import {useEffect, useRef} from 'react';\nimport {useLazyMemo} from '@dnd-kit/utilities';\n\nimport {getScrollableAncestors} from '../../utilities';\n\nconst defaultValue: Element[] = [];\n\nexport function useScrollableAncestors(node: HTMLElement | null) {\n  const previousNode = useRef(node);\n\n  const ancestors = useLazyMemo<Element[]>(\n    (previousValue) => {\n      if (!node) {\n        return defaultValue;\n      }\n\n      if (\n        previousValue &&\n        previousValue !== defaultValue &&\n        node &&\n        previousNode.current &&\n        node.parentNode === previousNode.current.parentNode\n      ) {\n        return previousValue;\n      }\n\n      return getScrollableAncestors(node);\n    },\n    [node]\n  );\n\n  useEffect(() => {\n    previousNode.current = node;\n  }, [node]);\n\n  return ancestors;\n}\n","import {useEffect, useRef} from 'react';\nimport {Coordinates, subtract} from '@dnd-kit/utilities';\n\nimport {defaultCoordinates} from '../../utilities';\n\nexport function useScrollOffsetsDelta(\n  scrollOffsets: Coordinates,\n  dependencies: any[] = []\n) {\n  const initialScrollOffsets = useRef<Coordinates | null>(null);\n\n  useEffect(\n    () => {\n      initialScrollOffsets.current = null;\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    dependencies\n  );\n\n  useEffect(() => {\n    const hasScrollOffsets = scrollOffsets !== defaultCoordinates;\n\n    if (hasScrollOffsets && !initialScrollOffsets.current) {\n      initialScrollOffsets.current = scrollOffsets;\n    }\n\n    if (!hasScrollOffsets && initialScrollOffsets.current) {\n      initialScrollOffsets.current = null;\n    }\n  }, [scrollOffsets]);\n\n  return initialScrollOffsets.current\n    ? subtract(scrollOffsets, initialScrollOffsets.current)\n    : defaultCoordinates;\n}\n","import {useMemo} from 'react';\n\nimport {getWindowClientRect} from '../../utilities/rect';\n\nexport function useWindowRect(element: typeof window | null) {\n  return useMemo(() => (element ? getWindowClientRect(element) : null), [\n    element,\n  ]);\n}\n","import type {ClientRect} from '../../types';\n\nexport function getWindowClientRect(element: typeof window): ClientRect {\n  const width = element.innerWidth;\n  const height = element.innerHeight;\n\n  return {\n    top: 0,\n    left: 0,\n    right: width,\n    bottom: height,\n    width,\n    height,\n  };\n}\n","import {useReducer} from 'react';\nimport {getWindow, useIsomorphicLayoutEffect} from '@dnd-kit/utilities';\n\nimport type {ClientRect} from '../../types';\nimport {Rect, getClientRect} from '../../utilities/rect';\nimport {isDocumentScrollingElement} from '../../utilities';\n\nimport {useResizeObserver} from './useResizeObserver';\nimport {useWindowRect} from './useWindowRect';\n\nconst defaultValue: Rect[] = [];\n\nexport function useRects(\n  elements: Element[],\n  measure: (element: Element) => ClientRect = getClientRect\n): ClientRect[] {\n  const [firstElement] = elements;\n  const windowRect = useWindowRect(\n    firstElement ? getWindow(firstElement) : null\n  );\n  const [rects, measureRects] = useReducer(reducer, defaultValue);\n  const resizeObserver = useResizeObserver({callback: measureRects});\n\n  if (elements.length > 0 && rects === defaultValue) {\n    measureRects();\n  }\n\n  useIsomorphicLayoutEffect(() => {\n    if (elements.length) {\n      elements.forEach((element) => resizeObserver?.observe(element));\n    } else {\n      resizeObserver?.disconnect();\n      measureRects();\n    }\n  }, [elements]);\n\n  return rects;\n\n  function reducer() {\n    if (!elements.length) {\n      return defaultValue;\n    }\n\n    return elements.map((element) =>\n      isDocumentScrollingElement(element)\n        ? (windowRect as ClientRect)\n        : new Rect(measure(element), element)\n    );\n  }\n}\n","import {isHTMLElement} from '@dnd-kit/utilities';\n\nexport function getMeasurableNode(\n  node: HTMLElement | undefined | null\n): HTMLElement | null {\n  if (!node) {\n    return null;\n  }\n\n  if (node.children.length > 1) {\n    return node;\n  }\n  const firstChild = node.children[0];\n\n  return isHTMLElement(firstChild) ? firstChild : node;\n}\n","import type {DeepRequired} from '@dnd-kit/utilities';\n\nimport type {DataRef} from '../../store/types';\nimport {KeyboardSensor, PointerSensor} from '../../sensors';\nimport {MeasuringStrategy, MeasuringFrequency} from '../../hooks/utilities';\nimport {\n  getClientRect,\n  getTransformAgnosticClientRect,\n} from '../../utilities/rect';\n\nimport type {MeasuringConfiguration} from './types';\n\nexport const defaultSensors = [\n  {sensor: PointerSensor, options: {}},\n  {sensor: KeyboardSensor, options: {}},\n];\n\nexport const defaultData: DataRef = {current: {}};\n\nexport const defaultMeasuringConfiguration: DeepRequired<MeasuringConfiguration> = {\n  draggable: {\n    measure: getTransformAgnosticClientRect,\n  },\n  droppable: {\n    measure: getTransformAgnosticClientRect,\n    strategy: MeasuringStrategy.WhileDragging,\n    frequency: MeasuringFrequency.Optimized,\n  },\n  dragOverlay: {\n    measure: getClientRect,\n  },\n};\n","import type {UniqueIdentifier} from '../types';\nimport type {DroppableContainer} from './types';\n\ntype Identifier = UniqueIdentifier | null | undefined;\n\nexport class DroppableContainersMap extends Map<\n  UniqueIdentifier,\n  DroppableContainer\n> {\n  get(id: Identifier) {\n    return id != null ? super.get(id) ?? undefined : undefined;\n  }\n\n  toArray(): DroppableContainer[] {\n    return Array.from(this.values());\n  }\n\n  getEnabled(): DroppableContainer[] {\n    return this.toArray().filter(({disabled}) => !disabled);\n  }\n\n  getNodeFor(id: Identifier) {\n    return this.get(id)?.node.current ?? undefined;\n  }\n}\n","import {createContext} from 'react';\n\nimport {noop} from '../utilities/other';\nimport {defaultMeasuringConfiguration} from '../components/DndContext/defaults';\nimport {DroppableContainersMap} from './constructors';\nimport type {InternalContextDescriptor, PublicContextDescriptor} from './types';\n\nexport const defaultPublicContext: PublicContextDescriptor = {\n  activatorEvent: null,\n  active: null,\n  activeNode: null,\n  activeNodeRect: null,\n  collisions: null,\n  containerNodeRect: null,\n  draggableNodes: new Map(),\n  droppableRects: new Map(),\n  droppableContainers: new DroppableContainersMap(),\n  over: null,\n  dragOverlay: {\n    nodeRef: {\n      current: null,\n    },\n    rect: null,\n    setRef: noop,\n  },\n  scrollableAncestors: [],\n  scrollableAncestorRects: [],\n  measuringConfiguration: defaultMeasuringConfiguration,\n  measureDroppableContainers: noop,\n  windowRect: null,\n  measuringScheduled: false,\n};\n\nexport const defaultInternalContext: InternalContextDescriptor = {\n  activatorEvent: null,\n  activators: [],\n  active: null,\n  activeNodeRect: null,\n  ariaDescribedById: {\n    draggable: '',\n  },\n  dispatch: noop,\n  draggableNodes: new Map(),\n  over: null,\n  measureDroppableContainers: noop,\n};\n\nexport const InternalContext = createContext<InternalContextDescriptor>(\n  defaultInternalContext\n);\n\nexport const PublicContext = createContext<PublicContextDescriptor>(\n  defaultPublicContext\n);\n","import {Action, Actions} from './actions';\nimport {DroppableContainersMap} from './constructors';\nimport type {State} from './types';\n\nexport function getInitialState(): State {\n  return {\n    draggable: {\n      active: null,\n      initialCoordinates: {x: 0, y: 0},\n      nodes: new Map(),\n      translate: {x: 0, y: 0},\n    },\n    droppable: {\n      containers: new DroppableContainersMap(),\n    },\n  };\n}\n\nexport function reducer(state: State, action: Actions): State {\n  switch (action.type) {\n    case Action.DragStart:\n      return {\n        ...state,\n        draggable: {\n          ...state.draggable,\n          initialCoordinates: action.initialCoordinates,\n          active: action.active,\n        },\n      };\n    case Action.DragMove:\n      if (!state.draggable.active) {\n        return state;\n      }\n\n      return {\n        ...state,\n        draggable: {\n          ...state.draggable,\n          translate: {\n            x: action.coordinates.x - state.draggable.initialCoordinates.x,\n            y: action.coordinates.y - state.draggable.initialCoordinates.y,\n          },\n        },\n      };\n    case Action.DragEnd:\n    case Action.DragCancel:\n      return {\n        ...state,\n        draggable: {\n          ...state.draggable,\n          active: null,\n          initialCoordinates: {x: 0, y: 0},\n          translate: {x: 0, y: 0},\n        },\n      };\n\n    case Action.RegisterDroppable: {\n      const {element} = action;\n      const {id} = element;\n      const containers = new DroppableContainersMap(state.droppable.containers);\n      containers.set(id, element);\n\n      return {\n        ...state,\n        droppable: {\n          ...state.droppable,\n          containers,\n        },\n      };\n    }\n\n    case Action.SetDroppableDisabled: {\n      const {id, key, disabled} = action;\n      const element = state.droppable.containers.get(id);\n\n      if (!element || key !== element.key) {\n        return state;\n      }\n\n      const containers = new DroppableContainersMap(state.droppable.containers);\n      containers.set(id, {\n        ...element,\n        disabled,\n      });\n\n      return {\n        ...state,\n        droppable: {\n          ...state.droppable,\n          containers,\n        },\n      };\n    }\n\n    case Action.UnregisterDroppable: {\n      const {id, key} = action;\n      const element = state.droppable.containers.get(id);\n\n      if (!element || key !== element.key) {\n        return state;\n      }\n\n      const containers = new DroppableContainersMap(state.droppable.containers);\n      containers.delete(id);\n\n      return {\n        ...state,\n        droppable: {\n          ...state.droppable,\n          containers,\n        },\n      };\n    }\n\n    default: {\n      return state;\n    }\n  }\n}\n","import {useContext, useEffect} from 'react';\nimport {\n  findFirstFocusableNode,\n  isKeyboardEvent,\n  usePrevious,\n} from '@dnd-kit/utilities';\n\nimport {InternalContext} from '../../../store';\n\ninterface Props {\n  disabled: boolean;\n}\n\nexport function RestoreFocus({disabled}: Props) {\n  const {active, activatorEvent, draggableNodes} = useContext(InternalContext);\n  const previousActivatorEvent = usePrevious(activatorEvent);\n  const previousActiveId = usePrevious(active?.id);\n\n  // Restore keyboard focus on the activator node\n  useEffect(() => {\n    if (disabled) {\n      return;\n    }\n\n    if (!activatorEvent && previousActivatorEvent && previousActiveId != null) {\n      if (!isKeyboardEvent(previousActivatorEvent)) {\n        return;\n      }\n\n      if (document.activeElement === previousActivatorEvent.target) {\n        // No need to restore focus\n        return;\n      }\n\n      const draggableNode = draggableNodes.get(previousActiveId);\n\n      if (!draggableNode) {\n        return;\n      }\n\n      const {activatorNode, node} = draggableNode;\n\n      if (!activatorNode.current && !node.current) {\n        return;\n      }\n\n      requestAnimationFrame(() => {\n        for (const element of [activatorNode.current, node.current]) {\n          if (!element) {\n            continue;\n          }\n\n          const focusableNode = findFirstFocusableNode(element);\n\n          if (focusableNode) {\n            focusableNode.focus();\n            break;\n          }\n        }\n      });\n    }\n  }, [\n    activatorEvent,\n    disabled,\n    draggableNodes,\n    previousActiveId,\n    previousActivatorEvent,\n  ]);\n\n  return null;\n}\n","import type {FirstArgument, Transform} from '@dnd-kit/utilities';\n\nimport type {Modifiers, Modifier} from './types';\n\nexport function applyModifiers(\n  modifiers: Modifiers | undefined,\n  {transform, ...args}: FirstArgument<Modifier>\n): Transform {\n  return modifiers?.length\n    ? modifiers.reduce<Transform>((accumulator, modifier) => {\n        return modifier({\n          transform: accumulator,\n          ...args,\n        });\n      }, transform)\n    : transform;\n}\n","import React, {\n  memo,\n  createContext,\n  useCallback,\n  useEffect,\n  useMemo,\n  useReducer,\n  useRef,\n  useState,\n} from 'react';\nimport {unstable_batchedUpdates} from 'react-dom';\nimport {\n  add,\n  getEventCoordinates,\n  getWindow,\n  useLatestValue,\n  useIsomorphicLayoutEffect,\n  useUniqueId,\n} from '@dnd-kit/utilities';\nimport type {Transform} from '@dnd-kit/utilities';\n\nimport {\n  Action,\n  PublicContext,\n  InternalContext,\n  PublicContextDescriptor,\n  InternalContextDescriptor,\n  getInitialState,\n  reducer,\n} from '../../store';\nimport {DndMonitorContext, useDndMonitorProvider} from '../DndMonitor';\nimport {\n  useAutoScroller,\n  useCachedNode,\n  useCombineActivators,\n  useDragOverlayMeasuring,\n  useDroppableMeasuring,\n  useInitialRect,\n  useRect,\n  useRectDelta,\n  useRects,\n  useScrollableAncestors,\n  useScrollOffsets,\n  useScrollOffsetsDelta,\n  useSensorSetup,\n  useWindowRect,\n} from '../../hooks/utilities';\nimport type {AutoScrollOptions, SyntheticListener} from '../../hooks/utilities';\nimport type {\n  Sensor,\n  SensorContext,\n  SensorDescriptor,\n  SensorActivatorFunction,\n  SensorInstance,\n} from '../../sensors';\nimport {\n  adjustScale,\n  CollisionDetection,\n  defaultCoordinates,\n  getAdjustedRect,\n  getFirstCollision,\n  rectIntersection,\n} from '../../utilities';\nimport {applyModifiers, Modifiers} from '../../modifiers';\nimport type {Active, Over} from '../../store/types';\nimport type {\n  DragStartEvent,\n  DragCancelEvent,\n  DragEndEvent,\n  DragMoveEvent,\n  DragOverEvent,\n  UniqueIdentifier,\n} from '../../types';\nimport {\n  Accessibility,\n  Announcements,\n  RestoreFocus,\n  ScreenReaderInstructions,\n} from '../Accessibility';\n\nimport {defaultData, defaultSensors} from './defaults';\nimport {\n  useLayoutShiftScrollCompensation,\n  useMeasuringConfiguration,\n} from './hooks';\nimport type {MeasuringConfiguration} from './types';\n\nexport interface Props {\n  id?: string;\n  accessibility?: {\n    announcements?: Announcements;\n    container?: Element;\n    restoreFocus?: boolean;\n    screenReaderInstructions?: ScreenReaderInstructions;\n  };\n  autoScroll?: boolean | AutoScrollOptions;\n  cancelDrop?: CancelDrop;\n  children?: React.ReactNode;\n  collisionDetection?: CollisionDetection;\n  measuring?: MeasuringConfiguration;\n  modifiers?: Modifiers;\n  sensors?: SensorDescriptor<any>[];\n  onDragStart?(event: DragStartEvent): void;\n  onDragMove?(event: DragMoveEvent): void;\n  onDragOver?(event: DragOverEvent): void;\n  onDragEnd?(event: DragEndEvent): void;\n  onDragCancel?(event: DragCancelEvent): void;\n}\n\nexport interface CancelDropArguments extends DragEndEvent {}\n\nexport type CancelDrop = (\n  args: CancelDropArguments\n) => boolean | Promise<boolean>;\n\ninterface DndEvent extends Event {\n  dndKit?: {\n    capturedBy: Sensor<any>;\n  };\n}\n\nexport const ActiveDraggableContext = createContext<Transform>({\n  ...defaultCoordinates,\n  scaleX: 1,\n  scaleY: 1,\n});\n\nenum Status {\n  Uninitialized,\n  Initializing,\n  Initialized,\n}\n\nexport const DndContext = memo(function DndContext({\n  id,\n  accessibility,\n  autoScroll = true,\n  children,\n  sensors = defaultSensors,\n  collisionDetection = rectIntersection,\n  measuring,\n  modifiers,\n  ...props\n}: Props) {\n  const store = useReducer(reducer, undefined, getInitialState);\n  const [state, dispatch] = store;\n  const [dispatchMonitorEvent, registerMonitorListener] =\n    useDndMonitorProvider();\n  const [status, setStatus] = useState<Status>(Status.Uninitialized);\n  const isInitialized = status === Status.Initialized;\n  const {\n    draggable: {active: activeId, nodes: draggableNodes, translate},\n    droppable: {containers: droppableContainers},\n  } = state;\n  const node = activeId ? draggableNodes.get(activeId) : null;\n  const activeRects = useRef<Active['rect']['current']>({\n    initial: null,\n    translated: null,\n  });\n  const active = useMemo<Active | null>(\n    () =>\n      activeId != null\n        ? {\n            id: activeId,\n            // It's possible for the active node to unmount while dragging\n            data: node?.data ?? defaultData,\n            rect: activeRects,\n          }\n        : null,\n    [activeId, node]\n  );\n  const activeRef = useRef<UniqueIdentifier | null>(null);\n  const [activeSensor, setActiveSensor] = useState<SensorInstance | null>(null);\n  const [activatorEvent, setActivatorEvent] = useState<Event | null>(null);\n  const latestProps = useLatestValue(props, Object.values(props));\n  const draggableDescribedById = useUniqueId(`DndDescribedBy`, id);\n  const enabledDroppableContainers = useMemo(\n    () => droppableContainers.getEnabled(),\n    [droppableContainers]\n  );\n  const measuringConfiguration = useMeasuringConfiguration(measuring);\n  const {droppableRects, measureDroppableContainers, measuringScheduled} =\n    useDroppableMeasuring(enabledDroppableContainers, {\n      dragging: isInitialized,\n      dependencies: [translate.x, translate.y],\n      config: measuringConfiguration.droppable,\n    });\n  const activeNode = useCachedNode(draggableNodes, activeId);\n  const activationCoordinates = useMemo(\n    () => (activatorEvent ? getEventCoordinates(activatorEvent) : null),\n    [activatorEvent]\n  );\n  const autoScrollOptions = getAutoScrollerOptions();\n  const initialActiveNodeRect = useInitialRect(\n    activeNode,\n    measuringConfiguration.draggable.measure\n  );\n\n  useLayoutShiftScrollCompensation({\n    activeNode: activeId ? draggableNodes.get(activeId) : null,\n    config: autoScrollOptions.layoutShiftCompensation,\n    initialRect: initialActiveNodeRect,\n    measure: measuringConfiguration.draggable.measure,\n  });\n\n  const activeNodeRect = useRect(\n    activeNode,\n    measuringConfiguration.draggable.measure,\n    initialActiveNodeRect\n  );\n  const containerNodeRect = useRect(\n    activeNode ? activeNode.parentElement : null\n  );\n  const sensorContext = useRef<SensorContext>({\n    activatorEvent: null,\n    active: null,\n    activeNode,\n    collisionRect: null,\n    collisions: null,\n    droppableRects,\n    draggableNodes,\n    draggingNode: null,\n    draggingNodeRect: null,\n    droppableContainers,\n    over: null,\n    scrollableAncestors: [],\n    scrollAdjustedTranslate: null,\n  });\n  const overNode = droppableContainers.getNodeFor(\n    sensorContext.current.over?.id\n  );\n  const dragOverlay = useDragOverlayMeasuring({\n    measure: measuringConfiguration.dragOverlay.measure,\n  });\n\n  // Use the rect of the drag overlay if it is mounted\n  const draggingNode = dragOverlay.nodeRef.current ?? activeNode;\n  const draggingNodeRect = isInitialized\n    ? dragOverlay.rect ?? activeNodeRect\n    : null;\n  const usesDragOverlay = Boolean(\n    dragOverlay.nodeRef.current && dragOverlay.rect\n  );\n  // The delta between the previous and new position of the draggable node\n  // is only relevant when there is no drag overlay\n  const nodeRectDelta = useRectDelta(usesDragOverlay ? null : activeNodeRect);\n\n  // Get the window rect of the dragging node\n  const windowRect = useWindowRect(\n    draggingNode ? getWindow(draggingNode) : null\n  );\n\n  // Get scrollable ancestors of the dragging node\n  const scrollableAncestors = useScrollableAncestors(\n    isInitialized ? overNode ?? activeNode : null\n  );\n  const scrollableAncestorRects = useRects(scrollableAncestors);\n\n  // Apply modifiers\n  const modifiedTranslate = applyModifiers(modifiers, {\n    transform: {\n      x: translate.x - nodeRectDelta.x,\n      y: translate.y - nodeRectDelta.y,\n      scaleX: 1,\n      scaleY: 1,\n    },\n    activatorEvent,\n    active,\n    activeNodeRect,\n    containerNodeRect,\n    draggingNodeRect,\n    over: sensorContext.current.over,\n    overlayNodeRect: dragOverlay.rect,\n    scrollableAncestors,\n    scrollableAncestorRects,\n    windowRect,\n  });\n\n  const pointerCoordinates = activationCoordinates\n    ? add(activationCoordinates, translate)\n    : null;\n\n  const scrollOffsets = useScrollOffsets(scrollableAncestors);\n  // Represents the scroll delta since dragging was initiated\n  const scrollAdjustment = useScrollOffsetsDelta(scrollOffsets);\n  // Represents the scroll delta since the last time the active node rect was measured\n  const activeNodeScrollDelta = useScrollOffsetsDelta(scrollOffsets, [\n    activeNodeRect,\n  ]);\n\n  const scrollAdjustedTranslate = add(modifiedTranslate, scrollAdjustment);\n\n  const collisionRect = draggingNodeRect\n    ? getAdjustedRect(draggingNodeRect, modifiedTranslate)\n    : null;\n\n  const collisions =\n    active && collisionRect\n      ? collisionDetection({\n          active,\n          collisionRect,\n          droppableRects,\n          droppableContainers: enabledDroppableContainers,\n          pointerCoordinates,\n        })\n      : null;\n  const overId = getFirstCollision(collisions, 'id');\n  const [over, setOver] = useState<Over | null>(null);\n\n  // When there is no drag overlay used, we need to account for the\n  // window scroll delta\n  const appliedTranslate = usesDragOverlay\n    ? modifiedTranslate\n    : add(modifiedTranslate, activeNodeScrollDelta);\n\n  const transform = adjustScale(\n    appliedTranslate,\n    over?.rect ?? null,\n    activeNodeRect\n  );\n\n  const instantiateSensor = useCallback(\n    (\n      event: React.SyntheticEvent,\n      {sensor: Sensor, options}: SensorDescriptor<any>\n    ) => {\n      if (activeRef.current == null) {\n        return;\n      }\n\n      const activeNode = draggableNodes.get(activeRef.current);\n\n      if (!activeNode) {\n        return;\n      }\n\n      const activatorEvent = event.nativeEvent;\n\n      const sensorInstance = new Sensor({\n        active: activeRef.current,\n        activeNode,\n        event: activatorEvent,\n        options,\n        // Sensors need to be instantiated with refs for arguments that change over time\n        // otherwise they are frozen in time with the stale arguments\n        context: sensorContext,\n        onStart(initialCoordinates) {\n          const id = activeRef.current;\n\n          if (id == null) {\n            return;\n          }\n\n          const draggableNode = draggableNodes.get(id);\n\n          if (!draggableNode) {\n            return;\n          }\n\n          const {onDragStart} = latestProps.current;\n          const event: DragStartEvent = {\n            active: {id, data: draggableNode.data, rect: activeRects},\n          };\n\n          unstable_batchedUpdates(() => {\n            onDragStart?.(event);\n            setStatus(Status.Initializing);\n            dispatch({\n              type: Action.DragStart,\n              initialCoordinates,\n              active: id,\n            });\n            dispatchMonitorEvent({type: 'onDragStart', event});\n          });\n        },\n        onMove(coordinates) {\n          dispatch({\n            type: Action.DragMove,\n            coordinates,\n          });\n        },\n        onEnd: createHandler(Action.DragEnd),\n        onCancel: createHandler(Action.DragCancel),\n      });\n\n      unstable_batchedUpdates(() => {\n        setActiveSensor(sensorInstance);\n        setActivatorEvent(event.nativeEvent);\n      });\n\n      function createHandler(type: Action.DragEnd | Action.DragCancel) {\n        return async function handler() {\n          const {active, collisions, over, scrollAdjustedTranslate} =\n            sensorContext.current;\n          let event: DragEndEvent | null = null;\n\n          if (active && scrollAdjustedTranslate) {\n            const {cancelDrop} = latestProps.current;\n\n            event = {\n              activatorEvent,\n              active: active,\n              collisions,\n              delta: scrollAdjustedTranslate,\n              over,\n            };\n\n            if (type === Action.DragEnd && typeof cancelDrop === 'function') {\n              const shouldCancel = await Promise.resolve(cancelDrop(event));\n\n              if (shouldCancel) {\n                type = Action.DragCancel;\n              }\n            }\n          }\n\n          activeRef.current = null;\n\n          unstable_batchedUpdates(() => {\n            dispatch({type});\n            setStatus(Status.Uninitialized);\n            setOver(null);\n            setActiveSensor(null);\n            setActivatorEvent(null);\n\n            const eventName =\n              type === Action.DragEnd ? 'onDragEnd' : 'onDragCancel';\n\n            if (event) {\n              const handler = latestProps.current[eventName];\n\n              handler?.(event);\n              dispatchMonitorEvent({type: eventName, event});\n            }\n          });\n        };\n      }\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [draggableNodes]\n  );\n\n  const bindActivatorToSensorInstantiator = useCallback(\n    (\n      handler: SensorActivatorFunction<any>,\n      sensor: SensorDescriptor<any>\n    ): SyntheticListener['handler'] => {\n      return (event, active) => {\n        const nativeEvent = event.nativeEvent as DndEvent;\n        const activeDraggableNode = draggableNodes.get(active);\n\n        if (\n          // Another sensor is already instantiating\n          activeRef.current !== null ||\n          // No active draggable\n          !activeDraggableNode ||\n          // Event has already been captured\n          nativeEvent.dndKit ||\n          nativeEvent.defaultPrevented\n        ) {\n          return;\n        }\n\n        const activationContext = {\n          active: activeDraggableNode,\n        };\n        const shouldActivate = handler(\n          event,\n          sensor.options,\n          activationContext\n        );\n\n        if (shouldActivate === true) {\n          nativeEvent.dndKit = {\n            capturedBy: sensor.sensor,\n          };\n\n          activeRef.current = active;\n          instantiateSensor(event, sensor);\n        }\n      };\n    },\n    [draggableNodes, instantiateSensor]\n  );\n\n  const activators = useCombineActivators(\n    sensors,\n    bindActivatorToSensorInstantiator\n  );\n\n  useSensorSetup(sensors);\n\n  useIsomorphicLayoutEffect(() => {\n    if (activeNodeRect && status === Status.Initializing) {\n      setStatus(Status.Initialized);\n    }\n  }, [activeNodeRect, status]);\n\n  useEffect(\n    () => {\n      const {onDragMove} = latestProps.current;\n      const {active, activatorEvent, collisions, over} = sensorContext.current;\n\n      if (!active || !activatorEvent) {\n        return;\n      }\n\n      const event: DragMoveEvent = {\n        active,\n        activatorEvent,\n        collisions,\n        delta: {\n          x: scrollAdjustedTranslate.x,\n          y: scrollAdjustedTranslate.y,\n        },\n        over,\n      };\n\n      unstable_batchedUpdates(() => {\n        onDragMove?.(event);\n        dispatchMonitorEvent({type: 'onDragMove', event});\n      });\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [scrollAdjustedTranslate.x, scrollAdjustedTranslate.y]\n  );\n\n  useEffect(\n    () => {\n      const {\n        active,\n        activatorEvent,\n        collisions,\n        droppableContainers,\n        scrollAdjustedTranslate,\n      } = sensorContext.current;\n\n      if (\n        !active ||\n        activeRef.current == null ||\n        !activatorEvent ||\n        !scrollAdjustedTranslate\n      ) {\n        return;\n      }\n\n      const {onDragOver} = latestProps.current;\n      const overContainer = droppableContainers.get(overId);\n      const over =\n        overContainer && overContainer.rect.current\n          ? {\n              id: overContainer.id,\n              rect: overContainer.rect.current,\n              data: overContainer.data,\n              disabled: overContainer.disabled,\n            }\n          : null;\n      const event: DragOverEvent = {\n        active,\n        activatorEvent,\n        collisions,\n        delta: {\n          x: scrollAdjustedTranslate.x,\n          y: scrollAdjustedTranslate.y,\n        },\n        over,\n      };\n\n      unstable_batchedUpdates(() => {\n        setOver(over);\n        onDragOver?.(event);\n        dispatchMonitorEvent({type: 'onDragOver', event});\n      });\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [overId]\n  );\n\n  useIsomorphicLayoutEffect(() => {\n    sensorContext.current = {\n      activatorEvent,\n      active,\n      activeNode,\n      collisionRect,\n      collisions,\n      droppableRects,\n      draggableNodes,\n      draggingNode,\n      draggingNodeRect,\n      droppableContainers,\n      over,\n      scrollableAncestors,\n      scrollAdjustedTranslate,\n    };\n\n    activeRects.current = {\n      initial: draggingNodeRect,\n      translated: collisionRect,\n    };\n  }, [\n    active,\n    activeNode,\n    collisions,\n    collisionRect,\n    draggableNodes,\n    draggingNode,\n    draggingNodeRect,\n    droppableRects,\n    droppableContainers,\n    over,\n    scrollableAncestors,\n    scrollAdjustedTranslate,\n  ]);\n\n  useAutoScroller({\n    ...autoScrollOptions,\n    delta: translate,\n    draggingRect: collisionRect,\n    pointerCoordinates,\n    scrollableAncestors,\n    scrollableAncestorRects,\n  });\n\n  const publicContext = useMemo(() => {\n    const context: PublicContextDescriptor = {\n      active,\n      activeNode,\n      activeNodeRect,\n      activatorEvent,\n      collisions,\n      containerNodeRect,\n      dragOverlay,\n      draggableNodes,\n      droppableContainers,\n      droppableRects,\n      over,\n      measureDroppableContainers,\n      scrollableAncestors,\n      scrollableAncestorRects,\n      measuringConfiguration,\n      measuringScheduled,\n      windowRect,\n    };\n\n    return context;\n  }, [\n    active,\n    activeNode,\n    activeNodeRect,\n    activatorEvent,\n    collisions,\n    containerNodeRect,\n    dragOverlay,\n    draggableNodes,\n    droppableContainers,\n    droppableRects,\n    over,\n    measureDroppableContainers,\n    scrollableAncestors,\n    scrollableAncestorRects,\n    measuringConfiguration,\n    measuringScheduled,\n    windowRect,\n  ]);\n\n  const internalContext = useMemo(() => {\n    const context: InternalContextDescriptor = {\n      activatorEvent,\n      activators,\n      active,\n      activeNodeRect,\n      ariaDescribedById: {\n        draggable: draggableDescribedById,\n      },\n      dispatch,\n      draggableNodes,\n      over,\n      measureDroppableContainers,\n    };\n\n    return context;\n  }, [\n    activatorEvent,\n    activators,\n    active,\n    activeNodeRect,\n    dispatch,\n    draggableDescribedById,\n    draggableNodes,\n    over,\n    measureDroppableContainers,\n  ]);\n\n  return (\n    <DndMonitorContext.Provider value={registerMonitorListener}>\n      <InternalContext.Provider value={internalContext}>\n        <PublicContext.Provider value={publicContext}>\n          <ActiveDraggableContext.Provider value={transform}>\n            {children}\n          </ActiveDraggableContext.Provider>\n        </PublicContext.Provider>\n        <RestoreFocus disabled={accessibility?.restoreFocus === false} />\n      </InternalContext.Provider>\n      <Accessibility\n        {...accessibility}\n        hiddenTextDescribedById={draggableDescribedById}\n      />\n    </DndMonitorContext.Provider>\n  );\n\n  function getAutoScrollerOptions() {\n    const activeSensorDisablesAutoscroll =\n      activeSensor?.autoScrollEnabled === false;\n    const autoScrollGloballyDisabled =\n      typeof autoScroll === 'object'\n        ? autoScroll.enabled === false\n        : autoScroll === false;\n    const enabled =\n      isInitialized &&\n      !activeSensorDisablesAutoscroll &&\n      !autoScrollGloballyDisabled;\n\n    if (typeof autoScroll === 'object') {\n      return {\n        ...autoScroll,\n        enabled,\n      };\n    }\n\n    return {enabled};\n  }\n});\n","import {useCallback, useState} from 'react';\n\nimport type {DndMonitorListener, DndMonitorEvent} from './types';\n\nexport function useDndMonitorProvider() {\n  const [listeners] = useState(() => new Set<DndMonitorListener>());\n\n  const registerListener = useCallback(\n    (listener) => {\n      listeners.add(listener);\n      return () => listeners.delete(listener);\n    },\n    [listeners]\n  );\n\n  const dispatch = useCallback(\n    ({type, event}: DndMonitorEvent) => {\n      listeners.forEach((listener) => listener[type]?.(event as any));\n    },\n    [listeners]\n  );\n\n  return [dispatch, registerListener] as const;\n}\n","import {useMemo} from 'react';\nimport type {DeepRequired} from '@dnd-kit/utilities';\n\nimport {defaultMeasuringConfiguration} from '../defaults';\nimport type {MeasuringConfiguration} from '../types';\n\nexport function useMeasuringConfiguration(\n  config: MeasuringConfiguration | undefined\n): DeepRequired<MeasuringConfiguration> {\n  return useMemo(\n    () => ({\n      draggable: {\n        ...defaultMeasuringConfiguration.draggable,\n        ...config?.draggable,\n      },\n      droppable: {\n        ...defaultMeasuringConfiguration.droppable,\n        ...config?.droppable,\n      },\n      dragOverlay: {\n        ...defaultMeasuringConfiguration.dragOverlay,\n        ...config?.dragOverlay,\n      },\n    }),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [config?.draggable, config?.droppable, config?.dragOverlay]\n  );\n}\n","import {useLazyMemo} from '@dnd-kit/utilities';\n\nimport type {DraggableNode, DraggableNodes} from '../../store';\nimport type {UniqueIdentifier} from '../../types';\n\nexport function useCachedNode(\n  draggableNodes: DraggableNodes,\n  id: UniqueIdentifier | null\n): DraggableNode['node']['current'] {\n  const draggableNode = id !== null ? draggableNodes.get(id) : undefined;\n  const node = draggableNode ? draggableNode.node.current : null;\n\n  return useLazyMemo(\n    (cachedNode) => {\n      if (id === null) {\n        return null;\n      }\n\n      // In some cases, the draggable node can unmount while dragging\n      // This is the case for virtualized lists. In those situations,\n      // we fall back to the last known value for that node.\n      return node ?? cachedNode ?? null;\n    },\n    [node, id]\n  );\n}\n","import type {ClientRect} from '../../types';\nimport {useInitialValue} from './useInitialValue';\n\nexport function useInitialRect(\n  node: HTMLElement | null,\n  measure: (node: HTMLElement) => ClientRect\n) {\n  return useInitialValue(node, measure);\n}\n","import {useRef} from 'react';\nimport {useIsomorphicLayoutEffect} from '@dnd-kit/utilities';\n\nimport {getRectDelta} from '../../../utilities/rect';\nimport {getFirstScrollableAncestor} from '../../../utilities/scroll';\nimport type {ClientRect} from '../../../types';\nimport type {DraggableNode} from '../../../store';\nimport type {MeasuringFunction} from '../types';\n\ninterface Options {\n  activeNode: DraggableNode | null | undefined;\n  config: boolean | {x: boolean; y: boolean} | undefined;\n  initialRect: ClientRect | null;\n  measure: MeasuringFunction;\n}\n\nexport function useLayoutShiftScrollCompensation({\n  activeNode,\n  measure,\n  initialRect,\n  config = true,\n}: Options) {\n  const initialized = useRef(false);\n  const {x, y} = typeof config === 'boolean' ? {x: config, y: config} : config;\n\n  useIsomorphicLayoutEffect(() => {\n    const disabled = !x && !y;\n\n    if (disabled || !activeNode) {\n      initialized.current = false;\n      return;\n    }\n\n    if (initialized.current || !initialRect) {\n      // Return early if layout shift scroll compensation was already attempted\n      // or if there is no initialRect to compare to.\n      return;\n    }\n\n    // Get the most up to date node ref for the active draggable\n    const node = activeNode?.node.current;\n\n    if (!node || node.isConnected === false) {\n      // Return early if there is no attached node ref or if the node is\n      // disconnected from the document.\n      return;\n    }\n\n    const rect = measure(node);\n    const rectDelta = getRectDelta(rect, initialRect);\n\n    if (!x) {\n      rectDelta.x = 0;\n    }\n\n    if (!y) {\n      rectDelta.y = 0;\n    }\n\n    // Only perform layout shift scroll compensation once\n    initialized.current = true;\n\n    if (Math.abs(rectDelta.x) > 0 || Math.abs(rectDelta.y) > 0) {\n      const firstScrollableAncestor = getFirstScrollableAncestor(node);\n\n      if (firstScrollableAncestor) {\n        firstScrollableAncestor.scrollBy({\n          top: rectDelta.y,\n          left: rectDelta.x,\n        });\n      }\n    }\n  }, [activeNode, x, y, initialRect, measure]);\n}\n","import {useMemo, useCallback, useState} from 'react';\nimport {isHTMLElement, useNodeRef} from '@dnd-kit/utilities';\n\nimport {useResizeObserver} from './useResizeObserver';\nimport {getMeasurableNode} from '../../utilities/nodes';\nimport type {PublicContextDescriptor} from '../../store';\nimport type {ClientRect} from '../../types';\n\ninterface Arguments {\n  measure(element: HTMLElement): ClientRect;\n}\n\nexport function useDragOverlayMeasuring({\n  measure,\n}: Arguments): PublicContextDescriptor['dragOverlay'] {\n  const [rect, setRect] = useState<ClientRect | null>(null);\n  const handleResize = useCallback(\n    (entries: ResizeObserverEntry[]) => {\n      for (const {target} of entries) {\n        if (isHTMLElement(target)) {\n          setRect((rect) => {\n            const newRect = measure(target);\n\n            return rect\n              ? {...rect, width: newRect.width, height: newRect.height}\n              : newRect;\n          });\n          break;\n        }\n      }\n    },\n    [measure]\n  );\n  const resizeObserver = useResizeObserver({callback: handleResize});\n  const handleNodeChange = useCallback(\n    (element) => {\n      const node = getMeasurableNode(element);\n\n      resizeObserver?.disconnect();\n\n      if (node) {\n        resizeObserver?.observe(node);\n      }\n\n      setRect(node ? measure(node) : null);\n    },\n    [measure, resizeObserver]\n  );\n  const [nodeRef, setRef] = useNodeRef(handleNodeChange);\n\n  return useMemo(\n    () => ({\n      nodeRef,\n      rect,\n      setRef,\n    }),\n    [rect, nodeRef, setRef]\n  );\n}\n","import type {ClientRect} from '../../types';\nimport {getRectDelta} from '../../utilities';\n\nimport {useInitialValue} from './useInitialValue';\n\nexport function useRectDelta(rect: ClientRect | null) {\n  const initialRect = useInitialValue(rect);\n\n  return getRectDelta(rect, initialRect);\n}\n","import {useState, useCallback, useMemo, useRef, useEffect} from 'react';\nimport {add} from '@dnd-kit/utilities';\n\nimport {\n  defaultCoordinates,\n  getScrollableElement,\n  getScrollCoordinates,\n  getScrollOffsets,\n} from '../../utilities';\nimport type {Coordinates} from '../../types';\n\ntype ScrollCoordinates = Map<HTMLElement | Window, Coordinates>;\n\nexport function useScrollOffsets(elements: Element[]): Coordinates {\n  const [\n    scrollCoordinates,\n    setScrollCoordinates,\n  ] = useState<ScrollCoordinates | null>(null);\n  const prevElements = useRef(elements);\n\n  // To-do: Throttle the handleScroll callback\n  const handleScroll = useCallback((event: Event) => {\n    const scrollingElement = getScrollableElement(event.target);\n\n    if (!scrollingElement) {\n      return;\n    }\n\n    setScrollCoordinates((scrollCoordinates) => {\n      if (!scrollCoordinates) {\n        return null;\n      }\n\n      scrollCoordinates.set(\n        scrollingElement,\n        getScrollCoordinates(scrollingElement)\n      );\n\n      return new Map(scrollCoordinates);\n    });\n  }, []);\n\n  useEffect(() => {\n    const previousElements = prevElements.current;\n\n    if (elements !== previousElements) {\n      cleanup(previousElements);\n\n      const entries = elements\n        .map((element) => {\n          const scrollableElement = getScrollableElement(element);\n\n          if (scrollableElement) {\n            scrollableElement.addEventListener('scroll', handleScroll, {\n              passive: true,\n            });\n\n            return [\n              scrollableElement,\n              getScrollCoordinates(scrollableElement),\n            ] as const;\n          }\n\n          return null;\n        })\n        .filter(\n          (\n            entry\n          ): entry is [\n            HTMLElement | (Window & typeof globalThis),\n            Coordinates\n          ] => entry != null\n        );\n\n      setScrollCoordinates(entries.length ? new Map(entries) : null);\n\n      prevElements.current = elements;\n    }\n\n    return () => {\n      cleanup(elements);\n      cleanup(previousElements);\n    };\n\n    function cleanup(elements: Element[]) {\n      elements.forEach((element) => {\n        const scrollableElement = getScrollableElement(element);\n\n        scrollableElement?.removeEventListener('scroll', handleScroll);\n      });\n    }\n  }, [handleScroll, elements]);\n\n  return useMemo(() => {\n    if (elements.length) {\n      return scrollCoordinates\n        ? Array.from(scrollCoordinates.values()).reduce(\n            (acc, coordinates) => add(acc, coordinates),\n            defaultCoordinates\n          )\n        : getScrollOffsets(elements);\n    }\n\n    return defaultCoordinates;\n  }, [elements, scrollCoordinates]);\n}\n","import type {Transform} from '@dnd-kit/utilities';\nimport type {ClientRect} from '../../types';\n\nexport function adjustScale(\n  transform: Transform,\n  rect1: ClientRect | null,\n  rect2: ClientRect | null\n): Transform {\n  return {\n    ...transform,\n    scaleX: rect1 && rect2 ? rect1.width / rect2.width : 1,\n    scaleY: rect1 && rect2 ? rect1.height / rect2.height : 1,\n  };\n}\n","import {useMemo} from 'react';\n\nimport type {SensorActivatorFunction, SensorDescriptor} from '../../sensors';\nimport type {\n  SyntheticListener,\n  SyntheticListeners,\n} from './useSyntheticListeners';\n\nexport function useCombineActivators(\n  sensors: SensorDescriptor<any>[],\n  getSyntheticHandler: (\n    handler: SensorActivatorFunction<any>,\n    sensor: SensorDescriptor<any>\n  ) => SyntheticListener['handler']\n): SyntheticListeners {\n  return useMemo(\n    () =>\n      sensors.reduce<SyntheticListeners>((accumulator, sensor) => {\n        const {sensor: Sensor} = sensor;\n\n        const sensorActivators = Sensor.activators.map((activator) => ({\n          eventName: activator.eventName,\n          handler: getSyntheticHandler(activator.handler, sensor),\n        }));\n\n        return [...accumulator, ...sensorActivators];\n      }, []),\n    [sensors, getSyntheticHandler]\n  );\n}\n","import {useEffect} from 'react';\nimport {canUseDOM} from '@dnd-kit/utilities';\n\nimport type {SensorDescriptor} from '../../sensors';\n\nexport function useSensorSetup(sensors: SensorDescriptor<any>[]) {\n  useEffect(\n    () => {\n      if (!canUseDOM) {\n        return;\n      }\n\n      const teardownFns = sensors.map(({sensor}) => sensor.setup?.());\n\n      return () => {\n        for (const teardown of teardownFns) {\n          teardown?.();\n        }\n      };\n    },\n    // TO-DO: Sensors length could theoretically change which would not be a valid dependency\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    sensors.map(({sensor}) => sensor)\n  );\n}\n","import {createContext, useContext, useMemo} from 'react';\nimport {\n  Transform,\n  useNodeRef,\n  useIsomorphicLayoutEffect,\n  useLatestValue,\n  useUniqueId,\n} from '@dnd-kit/utilities';\n\nimport {InternalContext, Data} from '../store';\nimport type {UniqueIdentifier} from '../types';\nimport {ActiveDraggableContext} from '../components/DndContext';\nimport {useSyntheticListeners, SyntheticListenerMap} from './utilities';\n\nexport interface UseDraggableArguments {\n  id: UniqueIdentifier;\n  data?: Data;\n  disabled?: boolean;\n  attributes?: {\n    role?: string;\n    roleDescription?: string;\n    tabIndex?: number;\n  };\n}\n\nexport interface DraggableAttributes {\n  role: string;\n  tabIndex: number;\n  'aria-disabled': boolean;\n  'aria-pressed': boolean | undefined;\n  'aria-roledescription': string;\n  'aria-describedby': string;\n}\n\nexport type DraggableSyntheticListeners = SyntheticListenerMap | undefined;\n\nconst NullContext = createContext<any>(null);\n\nconst defaultRole = 'button';\n\nconst ID_PREFIX = 'Droppable';\n\nexport function useDraggable({\n  id,\n  data,\n  disabled = false,\n  attributes,\n}: UseDraggableArguments) {\n  const key = useUniqueId(ID_PREFIX);\n  const {\n    activators,\n    activatorEvent,\n    active,\n    activeNodeRect,\n    ariaDescribedById,\n    draggableNodes,\n    over,\n  } = useContext(InternalContext);\n  const {\n    role = defaultRole,\n    roleDescription = 'draggable',\n    tabIndex = 0,\n  } = attributes ?? {};\n  const isDragging = active?.id === id;\n  const transform: Transform | null = useContext(\n    isDragging ? ActiveDraggableContext : NullContext\n  );\n  const [node, setNodeRef] = useNodeRef();\n  const [activatorNode, setActivatorNodeRef] = useNodeRef();\n  const listeners = useSyntheticListeners(activators, id);\n  const dataRef = useLatestValue(data);\n\n  useIsomorphicLayoutEffect(\n    () => {\n      draggableNodes.set(id, {id, key, node, activatorNode, data: dataRef});\n\n      return () => {\n        const node = draggableNodes.get(id);\n\n        if (node && node.key === key) {\n          draggableNodes.delete(id);\n        }\n      };\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [draggableNodes, id]\n  );\n\n  const memoizedAttributes: DraggableAttributes = useMemo(\n    () => ({\n      role,\n      tabIndex,\n      'aria-disabled': disabled,\n      'aria-pressed': isDragging && role === defaultRole ? true : undefined,\n      'aria-roledescription': roleDescription,\n      'aria-describedby': ariaDescribedById.draggable,\n    }),\n    [\n      disabled,\n      role,\n      tabIndex,\n      isDragging,\n      roleDescription,\n      ariaDescribedById.draggable,\n    ]\n  );\n\n  return {\n    active,\n    activatorEvent,\n    activeNodeRect,\n    attributes: memoizedAttributes,\n    isDragging,\n    listeners: disabled ? undefined : listeners,\n    node,\n    over,\n    setNodeRef,\n    setActivatorNodeRef,\n    transform,\n  };\n}\n","import {useMemo} from 'react';\n\nimport type {SyntheticEventName, UniqueIdentifier} from '../../types';\n\nexport type SyntheticListener = {\n  eventName: SyntheticEventName;\n  handler: (event: React.SyntheticEvent, id: UniqueIdentifier) => void;\n};\n\nexport type SyntheticListeners = SyntheticListener[];\n\nexport type SyntheticListenerMap = Record<string, Function>;\n\nexport function useSyntheticListeners(\n  listeners: SyntheticListeners,\n  id: UniqueIdentifier\n): SyntheticListenerMap {\n  return useMemo(() => {\n    return listeners.reduce<SyntheticListenerMap>(\n      (acc, {eventName, handler}) => {\n        acc[eventName] = (event: React.SyntheticEvent) => {\n          handler(event, id);\n        };\n\n        return acc;\n      },\n      {} as SyntheticListenerMap\n    );\n  }, [listeners, id]);\n}\n","import {ContextType, useContext} from 'react';\nimport {PublicContext} from '../store';\n\nexport function useDndContext() {\n  return useContext(PublicContext);\n}\n\nexport type UseDndContextReturnValue = ContextType<typeof PublicContext>;\n","import {useCallback, useContext, useEffect, useRef} from 'react';\nimport {\n  useIsomorphicLayoutEffect,\n  useLatestValue,\n  useNodeRef,\n  useUniqueId,\n} from '@dnd-kit/utilities';\n\nimport {InternalContext, Action, Data} from '../store';\nimport type {ClientRect, UniqueIdentifier} from '../types';\n\nimport {useResizeObserver} from './utilities';\n\ninterface ResizeObserverConfig {\n  /** Whether the ResizeObserver should be disabled entirely */\n  disabled?: boolean;\n  /** Resize events may affect the layout and position of other droppable containers.\n   * Specify an array of `UniqueIdentifier` of droppable containers that should also be re-measured\n   * when this droppable container resizes. Specifying an empty array re-measures all droppable containers.\n   */\n  updateMeasurementsFor?: UniqueIdentifier[];\n  /** Represents the debounce timeout between when resize events are observed and when elements are re-measured */\n  timeout?: number;\n}\n\nexport interface UseDroppableArguments {\n  id: UniqueIdentifier;\n  disabled?: boolean;\n  data?: Data;\n  resizeObserverConfig?: ResizeObserverConfig;\n}\n\nconst ID_PREFIX = 'Droppable';\n\nconst defaultResizeObserverConfig = {\n  timeout: 25,\n};\n\nexport function useDroppable({\n  data,\n  disabled = false,\n  id,\n  resizeObserverConfig,\n}: UseDroppableArguments) {\n  const key = useUniqueId(ID_PREFIX);\n  const {active, dispatch, over, measureDroppableContainers} = useContext(\n    InternalContext\n  );\n  const previous = useRef({disabled});\n  const resizeObserverConnected = useRef(false);\n  const rect = useRef<ClientRect | null>(null);\n  const callbackId = useRef<NodeJS.Timeout | null>(null);\n  const {\n    disabled: resizeObserverDisabled,\n    updateMeasurementsFor,\n    timeout: resizeObserverTimeout,\n  } = {\n    ...defaultResizeObserverConfig,\n    ...resizeObserverConfig,\n  };\n  const ids = useLatestValue(updateMeasurementsFor ?? id);\n  const handleResize = useCallback(\n    () => {\n      if (!resizeObserverConnected.current) {\n        // ResizeObserver invokes the `handleResize` callback as soon as `observe` is called,\n        // assuming the element is rendered and displayed.\n        resizeObserverConnected.current = true;\n        return;\n      }\n\n      if (callbackId.current != null) {\n        clearTimeout(callbackId.current);\n      }\n\n      callbackId.current = setTimeout(() => {\n        measureDroppableContainers(\n          Array.isArray(ids.current) ? ids.current : [ids.current]\n        );\n        callbackId.current = null;\n      }, resizeObserverTimeout);\n    },\n    //eslint-disable-next-line react-hooks/exhaustive-deps\n    [resizeObserverTimeout]\n  );\n  const resizeObserver = useResizeObserver({\n    callback: handleResize,\n    disabled: resizeObserverDisabled || !active,\n  });\n  const handleNodeChange = useCallback(\n    (newElement: HTMLElement | null, previousElement: HTMLElement | null) => {\n      if (!resizeObserver) {\n        return;\n      }\n\n      if (previousElement) {\n        resizeObserver.unobserve(previousElement);\n        resizeObserverConnected.current = false;\n      }\n\n      if (newElement) {\n        resizeObserver.observe(newElement);\n      }\n    },\n    [resizeObserver]\n  );\n  const [nodeRef, setNodeRef] = useNodeRef(handleNodeChange);\n  const dataRef = useLatestValue(data);\n\n  useEffect(() => {\n    if (!resizeObserver || !nodeRef.current) {\n      return;\n    }\n\n    resizeObserver.disconnect();\n    resizeObserverConnected.current = false;\n    resizeObserver.observe(nodeRef.current);\n  }, [nodeRef, resizeObserver]);\n\n  useIsomorphicLayoutEffect(\n    () => {\n      dispatch({\n        type: Action.RegisterDroppable,\n        element: {\n          id,\n          key,\n          disabled,\n          node: nodeRef,\n          rect,\n          data: dataRef,\n        },\n      });\n\n      return () =>\n        dispatch({\n          type: Action.UnregisterDroppable,\n          key,\n          id,\n        });\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [id]\n  );\n\n  useEffect(() => {\n    if (disabled !== previous.current.disabled) {\n      dispatch({\n        type: Action.SetDroppableDisabled,\n        id,\n        key,\n        disabled,\n      });\n\n      previous.current.disabled = disabled;\n    }\n  }, [id, key, disabled, dispatch]);\n\n  return {\n    active,\n    rect,\n    isOver: over?.id === id,\n    node: nodeRef,\n    over,\n    setNodeRef,\n  };\n}\n","import React, {cloneElement, useState} from 'react';\nimport {useIsomorphicLayoutEffect, usePrevious} from '@dnd-kit/utilities';\n\nimport type {UniqueIdentifier} from '../../../../types';\n\nexport type Animation = (\n  key: UniqueIdentifier,\n  node: HTMLElement\n) => Promise<void> | void;\n\nexport interface Props {\n  animation: Animation;\n  children: React.ReactElement | null;\n}\n\nexport function AnimationManager({animation, children}: Props) {\n  const [\n    clonedChildren,\n    setClonedChildren,\n  ] = useState<React.ReactElement | null>(null);\n  const [element, setElement] = useState<HTMLElement | null>(null);\n  const previousChildren = usePrevious(children);\n\n  if (!children && !clonedChildren && previousChildren) {\n    setClonedChildren(previousChildren);\n  }\n\n  useIsomorphicLayoutEffect(() => {\n    if (!element) {\n      return;\n    }\n\n    const key = clonedChildren?.key;\n    const id = clonedChildren?.props.id;\n\n    if (key == null || id == null) {\n      setClonedChildren(null);\n      return;\n    }\n\n    Promise.resolve(animation(id, element)).then(() => {\n      setClonedChildren(null);\n    });\n  }, [animation, clonedChildren, element]);\n\n  return (\n    <>\n      {children}\n      {clonedChildren ? cloneElement(clonedChildren, {ref: setElement}) : null}\n    </>\n  );\n}\n","import React from 'react';\nimport type {Transform} from '@dnd-kit/utilities';\n\nimport {InternalContext, defaultInternalContext} from '../../../../store';\nimport {ActiveDraggableContext} from '../../../DndContext';\n\ninterface Props {\n  children: React.ReactNode;\n}\n\nconst defaultTransform: Transform = {\n  x: 0,\n  y: 0,\n  scaleX: 1,\n  scaleY: 1,\n};\n\nexport function NullifiedContextProvider({children}: Props) {\n  return (\n    <InternalContext.Provider value={defaultInternalContext}>\n      <ActiveDraggableContext.Provider value={defaultTransform}>\n        {children}\n      </ActiveDraggableContext.Provider>\n    </InternalContext.Provider>\n  );\n}\n","import React, {forwardRef} from 'react';\nimport {CSS, isKeyboardEvent} from '@dnd-kit/utilities';\n\nimport type {Transform} from '@dnd-kit/utilities';\n\nimport {getRelativeTransformOrigin} from '../../../../utilities';\nimport type {ClientRect, UniqueIdentifier} from '../../../../types';\n\ntype TransitionGetter = (\n  activatorEvent: Event | null\n) => React.CSSProperties['transition'] | undefined;\n\nexport interface Props {\n  as: keyof JSX.IntrinsicElements;\n  activatorEvent: Event | null;\n  adjustScale?: boolean;\n  children?: React.ReactNode;\n  className?: string;\n  id: UniqueIdentifier;\n  rect: ClientRect | null;\n  style?: React.CSSProperties;\n  transition?: string | TransitionGetter;\n  transform: Transform;\n}\n\nconst baseStyles: React.CSSProperties = {\n  position: 'fixed',\n  touchAction: 'none',\n};\n\nconst defaultTransition: TransitionGetter = (activatorEvent) => {\n  const isKeyboardActivator = isKeyboardEvent(activatorEvent);\n\n  return isKeyboardActivator ? 'transform 250ms ease' : undefined;\n};\n\nexport const PositionedOverlay = forwardRef<HTMLElement, Props>(\n  (\n    {\n      as,\n      activatorEvent,\n      adjustScale,\n      children,\n      className,\n      rect,\n      style,\n      transform,\n      transition = defaultTransition,\n    },\n    ref\n  ) => {\n    if (!rect) {\n      return null;\n    }\n\n    const scaleAdjustedTransform = adjustScale\n      ? transform\n      : {\n          ...transform,\n          scaleX: 1,\n          scaleY: 1,\n        };\n    const styles: React.CSSProperties | undefined = {\n      ...baseStyles,\n      width: rect.width,\n      height: rect.height,\n      top: rect.top,\n      left: rect.left,\n      transform: CSS.Transform.toString(scaleAdjustedTransform),\n      transformOrigin:\n        adjustScale && activatorEvent\n          ? getRelativeTransformOrigin(\n              activatorEvent as MouseEvent | KeyboardEvent | TouchEvent,\n              rect\n            )\n          : undefined,\n      transition:\n        typeof transition === 'function'\n          ? transition(activatorEvent)\n          : transition,\n      ...style,\n    };\n\n    return React.createElement(\n      as,\n      {\n        className,\n        style: styles,\n        ref,\n      },\n      children\n    );\n  }\n);\n","import {CSS, useEvent, getWindow} from '@dnd-kit/utilities';\nimport type {DeepRequired, Transform} from '@dnd-kit/utilities';\n\nimport type {\n  Active,\n  DraggableNode,\n  DraggableNodes,\n  DroppableContainers,\n} from '../../../store';\nimport type {ClientRect, UniqueIdentifier} from '../../../types';\nimport {getMeasurableNode} from '../../../utilities/nodes';\nimport {scrollIntoViewIfNeeded} from '../../../utilities/scroll';\nimport {parseTransform} from '../../../utilities/transform';\nimport type {MeasuringConfiguration} from '../../DndContext';\nimport type {Animation} from '../components';\n\ninterface SharedParameters {\n  active: {\n    id: UniqueIdentifier;\n    data: Active['data'];\n    node: HTMLElement;\n    rect: ClientRect;\n  };\n  dragOverlay: {\n    node: HTMLElement;\n    rect: ClientRect;\n  };\n  draggableNodes: DraggableNodes;\n  droppableContainers: DroppableContainers;\n  measuringConfiguration: DeepRequired<MeasuringConfiguration>;\n}\n\nexport interface KeyframeResolverParameters extends SharedParameters {\n  transform: {\n    initial: Transform;\n    final: Transform;\n  };\n}\n\nexport type KeyframeResolver = (\n  parameters: KeyframeResolverParameters\n) => Keyframe[];\n\nexport interface DropAnimationOptions {\n  keyframes?: KeyframeResolver;\n  duration?: number;\n  easing?: string;\n  sideEffects?: DropAnimationSideEffects | null;\n}\n\nexport type DropAnimation = DropAnimationFunction | DropAnimationOptions;\n\ninterface Arguments {\n  draggableNodes: DraggableNodes;\n  droppableContainers: DroppableContainers;\n  measuringConfiguration: DeepRequired<MeasuringConfiguration>;\n  config?: DropAnimation | null;\n}\n\nexport interface DropAnimationFunctionArguments extends SharedParameters {\n  transform: Transform;\n}\n\nexport type DropAnimationFunction = (\n  args: DropAnimationFunctionArguments\n) => Promise<void> | void;\n\ntype CleanupFunction = () => void;\n\nexport interface DropAnimationSideEffectsParameters extends SharedParameters {}\n\nexport type DropAnimationSideEffects = (\n  parameters: DropAnimationSideEffectsParameters\n) => CleanupFunction | void;\n\ntype ExtractStringProperties<T> = {\n  [K in keyof T]?: T[K] extends string ? string : never;\n};\n\ntype Styles = ExtractStringProperties<CSSStyleDeclaration>;\n\ninterface DefaultDropAnimationSideEffectsOptions {\n  className?: {\n    active?: string;\n    dragOverlay?: string;\n  };\n  styles?: {\n    active?: Styles;\n    dragOverlay?: Styles;\n  };\n}\n\nexport const defaultDropAnimationSideEffects = (\n  options: DefaultDropAnimationSideEffectsOptions\n): DropAnimationSideEffects => ({active, dragOverlay}) => {\n  const originalStyles: Record<string, string> = {};\n  const {styles, className} = options;\n\n  if (styles?.active) {\n    for (const [key, value] of Object.entries(styles.active)) {\n      if (value === undefined) {\n        continue;\n      }\n\n      originalStyles[key] = active.node.style.getPropertyValue(key);\n      active.node.style.setProperty(key, value);\n    }\n  }\n\n  if (styles?.dragOverlay) {\n    for (const [key, value] of Object.entries(styles.dragOverlay)) {\n      if (value === undefined) {\n        continue;\n      }\n\n      dragOverlay.node.style.setProperty(key, value);\n    }\n  }\n\n  if (className?.active) {\n    active.node.classList.add(className.active);\n  }\n\n  if (className?.dragOverlay) {\n    dragOverlay.node.classList.add(className.dragOverlay);\n  }\n\n  return function cleanup() {\n    for (const [key, value] of Object.entries(originalStyles)) {\n      active.node.style.setProperty(key, value);\n    }\n\n    if (className?.active) {\n      active.node.classList.remove(className.active);\n    }\n  };\n};\n\nconst defaultKeyframeResolver: KeyframeResolver = ({\n  transform: {initial, final},\n}) => [\n  {\n    transform: CSS.Transform.toString(initial),\n  },\n  {\n    transform: CSS.Transform.toString(final),\n  },\n];\n\nexport const defaultDropAnimationConfiguration: Required<DropAnimationOptions> = {\n  duration: 250,\n  easing: 'ease',\n  keyframes: defaultKeyframeResolver,\n  sideEffects: defaultDropAnimationSideEffects({\n    styles: {\n      active: {\n        opacity: '0',\n      },\n    },\n  }),\n};\n\nexport function useDropAnimation({\n  config,\n  draggableNodes,\n  droppableContainers,\n  measuringConfiguration,\n}: Arguments) {\n  return useEvent<Animation>((id, node) => {\n    if (config === null) {\n      return;\n    }\n\n    const activeDraggable: DraggableNode | undefined = draggableNodes.get(id);\n\n    if (!activeDraggable) {\n      return;\n    }\n\n    const activeNode = activeDraggable.node.current;\n\n    if (!activeNode) {\n      return;\n    }\n\n    const measurableNode = getMeasurableNode(node);\n\n    if (!measurableNode) {\n      return;\n    }\n    const {transform} = getWindow(node).getComputedStyle(node);\n    const parsedTransform = parseTransform(transform);\n\n    if (!parsedTransform) {\n      return;\n    }\n\n    const animation: DropAnimationFunction =\n      typeof config === 'function'\n        ? config\n        : createDefaultDropAnimation(config);\n\n    scrollIntoViewIfNeeded(\n      activeNode,\n      measuringConfiguration.draggable.measure\n    );\n\n    return animation({\n      active: {\n        id,\n        data: activeDraggable.data,\n        node: activeNode,\n        rect: measuringConfiguration.draggable.measure(activeNode),\n      },\n      draggableNodes,\n      dragOverlay: {\n        node,\n        rect: measuringConfiguration.dragOverlay.measure(measurableNode),\n      },\n      droppableContainers,\n      measuringConfiguration,\n      transform: parsedTransform,\n    });\n  });\n}\n\nfunction createDefaultDropAnimation(\n  options: DropAnimationOptions | undefined\n): DropAnimationFunction {\n  const {duration, easing, sideEffects, keyframes} = {\n    ...defaultDropAnimationConfiguration,\n    ...options,\n  };\n\n  return ({active, dragOverlay, transform, ...rest}) => {\n    if (!duration) {\n      // Do not animate if animation duration is zero.\n      return;\n    }\n\n    const delta = {\n      x: dragOverlay.rect.left - active.rect.left,\n      y: dragOverlay.rect.top - active.rect.top,\n    };\n\n    const scale = {\n      scaleX:\n        transform.scaleX !== 1\n          ? (active.rect.width * transform.scaleX) / dragOverlay.rect.width\n          : 1,\n      scaleY:\n        transform.scaleY !== 1\n          ? (active.rect.height * transform.scaleY) / dragOverlay.rect.height\n          : 1,\n    };\n    const finalTransform = {\n      x: transform.x - delta.x,\n      y: transform.y - delta.y,\n      ...scale,\n    };\n\n    const animationKeyframes = keyframes({\n      ...rest,\n      active,\n      dragOverlay,\n      transform: {initial: transform, final: finalTransform},\n    });\n\n    const [firstKeyframe] = animationKeyframes;\n    const lastKeyframe = animationKeyframes[animationKeyframes.length - 1];\n\n    if (JSON.stringify(firstKeyframe) === JSON.stringify(lastKeyframe)) {\n      // The start and end keyframes are the same, infer that there is no animation needed.\n      return;\n    }\n\n    const cleanup = sideEffects?.({active, dragOverlay, ...rest});\n    const animation = dragOverlay.node.animate(animationKeyframes, {\n      duration,\n      easing,\n      fill: 'forwards',\n    });\n\n    return new Promise((resolve) => {\n      animation.onfinish = () => {\n        cleanup?.();\n        resolve();\n      };\n    });\n  };\n}\n","import {useMemo} from 'react';\n\nimport type {UniqueIdentifier} from '../../../types';\n\nlet key = 0;\n\nexport function useKey(id: UniqueIdentifier | undefined) {\n  return useMemo(() => {\n    if (id == null) {\n      return;\n    }\n\n    key++;\n    return key;\n  }, [id]);\n}\n","import React, {useContext} from 'react';\n\nimport {applyModifiers, Modifiers} from '../../modifiers';\nimport {ActiveDraggableContext} from '../DndContext';\nimport {useDndContext} from '../../hooks';\nimport {useInitialValue} from '../../hooks/utilities';\n\nimport {\n  AnimationManager,\n  NullifiedContextProvider,\n  PositionedOverlay,\n} from './components';\nimport type {PositionedOverlayProps} from './components';\n\nimport {useDropAnimation, useKey} from './hooks';\nimport type {DropAnimation} from './hooks';\n\nexport interface Props\n  extends Pick<\n    PositionedOverlayProps,\n    'adjustScale' | 'children' | 'className' | 'style' | 'transition'\n  > {\n  dropAnimation?: DropAnimation | null | undefined;\n  modifiers?: Modifiers;\n  wrapperElement?: keyof JSX.IntrinsicElements;\n  zIndex?: number;\n}\n\nexport const DragOverlay = React.memo(\n  ({\n    adjustScale = false,\n    children,\n    dropAnimation: dropAnimationConfig,\n    style,\n    transition,\n    modifiers,\n    wrapperElement = 'div',\n    className,\n    zIndex = 999,\n  }: Props) => {\n    const {\n      activatorEvent,\n      active,\n      activeNodeRect,\n      containerNodeRect,\n      draggableNodes,\n      droppableContainers,\n      dragOverlay,\n      over,\n      measuringConfiguration,\n      scrollableAncestors,\n      scrollableAncestorRects,\n      windowRect,\n    } = useDndContext();\n    const transform = useContext(ActiveDraggableContext);\n    const key = useKey(active?.id);\n    const modifiedTransform = applyModifiers(modifiers, {\n      activatorEvent,\n      active,\n      activeNodeRect,\n      containerNodeRect,\n      draggingNodeRect: dragOverlay.rect,\n      over,\n      overlayNodeRect: dragOverlay.rect,\n      scrollableAncestors,\n      scrollableAncestorRects,\n      transform,\n      windowRect,\n    });\n    const initialRect = useInitialValue(activeNodeRect);\n    const dropAnimation = useDropAnimation({\n      config: dropAnimationConfig,\n      draggableNodes,\n      droppableContainers,\n      measuringConfiguration,\n    });\n    // We need to wait for the active node to be measured before connecting the drag overlay ref\n    // otherwise collisions can be computed against a mispositioned drag overlay\n    const ref = initialRect ? dragOverlay.setRef : undefined;\n\n    return (\n      <NullifiedContextProvider>\n        <AnimationManager animation={dropAnimation}>\n          {active && key ? (\n            <PositionedOverlay\n              key={key}\n              id={active.id}\n              ref={ref}\n              as={wrapperElement}\n              activatorEvent={activatorEvent}\n              adjustScale={adjustScale}\n              className={className}\n              transition={transition}\n              rect={initialRect}\n              style={{\n                zIndex,\n                ...style,\n              }}\n              transform={modifiedTransform}\n            >\n              {children}\n            </PositionedOverlay>\n          ) : null}\n        </AnimationManager>\n      </NullifiedContextProvider>\n    );\n  }\n);\n","/**\n * Move an array item to a different position. Returns a new array with the item moved to the new position.\n */\nexport function arrayMove<T>(array: T[], from: number, to: number): T[] {\n  const newArray = array.slice();\n  newArray.splice(\n    to < 0 ? newArray.length + to : to,\n    0,\n    newArray.splice(from, 1)[0]\n  );\n\n  return newArray;\n}\n","import type {\n  ClientRect,\n  UniqueIdentifier,\n  UseDndContextReturnValue,\n} from '@dnd-kit/core';\n\nexport function getSortedRects(\n  items: UniqueIdentifier[],\n  rects: UseDndContextReturnValue['droppableRects']\n) {\n  return items.reduce<ClientRect[]>((accumulator, id, index) => {\n    const rect = rects.get(id);\n\n    if (rect) {\n      accumulator[index] = rect;\n    }\n\n    return accumulator;\n  }, Array(items.length));\n}\n","export function isValidIndex(index: number | null): index is number {\n  return index !== null && index >= 0;\n}\n","import {arrayMove} from '../utilities';\nimport type {SortingStrategy} from '../types';\n\nexport const rectSortingStrategy: SortingStrategy = ({\n  rects,\n  activeIndex,\n  overIndex,\n  index,\n}) => {\n  const newRects = arrayMove(rects, overIndex, activeIndex);\n\n  const oldRect = rects[index];\n  const newRect = newRects[index];\n\n  if (!newRect || !oldRect) {\n    return null;\n  }\n\n  return {\n    x: newRect.left - oldRect.left,\n    y: newRect.top - oldRect.top,\n    scaleX: newRect.width / oldRect.width,\n    scaleY: newRect.height / oldRect.height,\n  };\n};\n","import React, {useEffect, useMemo, useRef} from 'react';\nimport {useDndContext, ClientRect, UniqueIdentifier} from '@dnd-kit/core';\nimport {useIsomorphicLayoutEffect, useUniqueId} from '@dnd-kit/utilities';\n\nimport type {Disabled, SortingStrategy} from '../types';\nimport {getSortedRects, itemsEqual, normalizeDisabled} from '../utilities';\nimport {rectSortingStrategy} from '../strategies';\n\nexport interface Props {\n  children: React.ReactNode;\n  items: (UniqueIdentifier | {id: UniqueIdentifier})[];\n  strategy?: SortingStrategy;\n  id?: string;\n  disabled?: boolean | Disabled;\n}\n\nconst ID_PREFIX = 'Sortable';\n\ninterface ContextDescriptor {\n  activeIndex: number;\n  containerId: string;\n  disabled: Disabled;\n  disableTransforms: boolean;\n  items: UniqueIdentifier[];\n  overIndex: number;\n  useDragOverlay: boolean;\n  sortedRects: ClientRect[];\n  strategy: SortingStrategy;\n}\n\nexport const Context = React.createContext<ContextDescriptor>({\n  activeIndex: -1,\n  containerId: ID_PREFIX,\n  disableTransforms: false,\n  items: [],\n  overIndex: -1,\n  useDragOverlay: false,\n  sortedRects: [],\n  strategy: rectSortingStrategy,\n  disabled: {\n    draggable: false,\n    droppable: false,\n  },\n});\n\nexport function SortableContext({\n  children,\n  id,\n  items: userDefinedItems,\n  strategy = rectSortingStrategy,\n  disabled: disabledProp = false,\n}: Props) {\n  const {\n    active,\n    dragOverlay,\n    droppableRects,\n    over,\n    measureDroppableContainers,\n  } = useDndContext();\n  const containerId = useUniqueId(ID_PREFIX, id);\n  const useDragOverlay = Boolean(dragOverlay.rect !== null);\n  const items = useMemo<UniqueIdentifier[]>(\n    () =>\n      userDefinedItems.map((item) =>\n        typeof item === 'object' && 'id' in item ? item.id : item\n      ),\n    [userDefinedItems]\n  );\n  const isDragging = active != null;\n  const activeIndex = active ? items.indexOf(active.id) : -1;\n  const overIndex = over ? items.indexOf(over.id) : -1;\n  const previousItemsRef = useRef(items);\n  const itemsHaveChanged = !itemsEqual(items, previousItemsRef.current);\n  const disableTransforms =\n    (overIndex !== -1 && activeIndex === -1) || itemsHaveChanged;\n  const disabled = normalizeDisabled(disabledProp);\n\n  useIsomorphicLayoutEffect(() => {\n    if (itemsHaveChanged && isDragging) {\n      measureDroppableContainers(items);\n    }\n  }, [itemsHaveChanged, items, isDragging, measureDroppableContainers]);\n\n  useEffect(() => {\n    previousItemsRef.current = items;\n  }, [items]);\n\n  const contextValue = useMemo(\n    (): ContextDescriptor => ({\n      activeIndex,\n      containerId,\n      disabled,\n      disableTransforms,\n      items,\n      overIndex,\n      useDragOverlay,\n      sortedRects: getSortedRects(items, droppableRects),\n      strategy,\n    }),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [\n      activeIndex,\n      containerId,\n      disabled.draggable,\n      disabled.droppable,\n      disableTransforms,\n      items,\n      overIndex,\n      droppableRects,\n      useDragOverlay,\n      strategy,\n    ]\n  );\n\n  return <Context.Provider value={contextValue}>{children}</Context.Provider>;\n}\n","import type {UniqueIdentifier} from '@dnd-kit/core';\n\nexport function itemsEqual(a: UniqueIdentifier[], b: UniqueIdentifier[]) {\n  if (a === b) {\n    return true;\n  }\n\n  if (a.length !== b.length) {\n    return false;\n  }\n\n  for (let i = 0; i < a.length; i++) {\n    if (a[i] !== b[i]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n","import type {Disabled} from '../types';\n\nexport function normalizeDisabled(disabled: boolean | Disabled): Disabled {\n  if (typeof disabled === 'boolean') {\n    return {\n      draggable: disabled,\n      droppable: disabled,\n    };\n  }\n\n  return disabled;\n}\n","import {CSS} from '@dnd-kit/utilities';\n\nimport {arrayMove} from '../utilities';\n\nimport type {\n  AnimateLayoutChanges,\n  NewIndexGetter,\n  SortableTransition,\n} from './types';\n\nexport const defaultNewIndexGetter: NewIndexGetter = ({\n  id,\n  items,\n  activeIndex,\n  overIndex,\n}) => arrayMove(items, activeIndex, overIndex).indexOf(id);\n\nexport const defaultAnimateLayoutChanges: AnimateLayoutChanges = ({\n  containerId,\n  isSorting,\n  wasDragging,\n  index,\n  items,\n  newIndex,\n  previousItems,\n  previousContainerId,\n  transition,\n}) => {\n  if (!transition || !wasDragging) {\n    return false;\n  }\n\n  if (previousItems !== items && index === newIndex) {\n    return false;\n  }\n\n  if (isSorting) {\n    return true;\n  }\n\n  return newIndex !== index && containerId === previousContainerId;\n};\n\nexport const defaultTransition: SortableTransition = {\n  duration: 200,\n  easing: 'ease',\n};\n\nexport const transitionProperty = 'transform';\n\nexport const disabledTransition = CSS.Transition.toString({\n  property: transitionProperty,\n  duration: 0,\n  easing: 'linear',\n});\n\nexport const defaultAttributes = {\n  roleDescription: 'sortable',\n};\n","import {useContext, useEffect, useMemo, useRef} from 'react';\nimport {\n  useDraggable,\n  useDroppable,\n  UseDraggableArguments,\n  UseDroppableArguments,\n} from '@dnd-kit/core';\nimport type {Data} from '@dnd-kit/core';\nimport {CSS, isKeyboardEvent, useCombinedRefs} from '@dnd-kit/utilities';\n\nimport {Context} from '../components';\nimport type {Disabled, SortableData, SortingStrategy} from '../types';\nimport {isValidIndex} from '../utilities';\nimport {\n  defaultAnimateLayoutChanges,\n  defaultAttributes,\n  defaultNewIndexGetter,\n  defaultTransition,\n  disabledTransition,\n  transitionProperty,\n} from './defaults';\nimport type {\n  AnimateLayoutChanges,\n  NewIndexGetter,\n  SortableTransition,\n} from './types';\nimport {useDerivedTransform} from './utilities';\n\nexport interface Arguments\n  extends Omit<UseDraggableArguments, 'disabled'>,\n    Pick<UseDroppableArguments, 'resizeObserverConfig'> {\n  animateLayoutChanges?: AnimateLayoutChanges;\n  disabled?: boolean | Disabled;\n  getNewIndex?: NewIndexGetter;\n  strategy?: SortingStrategy;\n  transition?: SortableTransition | null;\n}\n\nexport function useSortable({\n  animateLayoutChanges = defaultAnimateLayoutChanges,\n  attributes: userDefinedAttributes,\n  disabled: localDisabled,\n  data: customData,\n  getNewIndex = defaultNewIndexGetter,\n  id,\n  strategy: localStrategy,\n  resizeObserverConfig,\n  transition = defaultTransition,\n}: Arguments) {\n  const {\n    items,\n    containerId,\n    activeIndex,\n    disabled: globalDisabled,\n    disableTransforms,\n    sortedRects,\n    overIndex,\n    useDragOverlay,\n    strategy: globalStrategy,\n  } = useContext(Context);\n  const disabled: Disabled = normalizeLocalDisabled(\n    localDisabled,\n    globalDisabled\n  );\n  const index = items.indexOf(id);\n  const data = useMemo<SortableData & Data>(\n    () => ({sortable: {containerId, index, items}, ...customData}),\n    [containerId, customData, index, items]\n  );\n  const itemsAfterCurrentSortable = useMemo(\n    () => items.slice(items.indexOf(id)),\n    [items, id]\n  );\n  const {\n    rect,\n    node,\n    isOver,\n    setNodeRef: setDroppableNodeRef,\n  } = useDroppable({\n    id,\n    data,\n    disabled: disabled.droppable,\n    resizeObserverConfig: {\n      updateMeasurementsFor: itemsAfterCurrentSortable,\n      ...resizeObserverConfig,\n    },\n  });\n  const {\n    active,\n    activatorEvent,\n    activeNodeRect,\n    attributes,\n    setNodeRef: setDraggableNodeRef,\n    listeners,\n    isDragging,\n    over,\n    setActivatorNodeRef,\n    transform,\n  } = useDraggable({\n    id,\n    data,\n    attributes: {\n      ...defaultAttributes,\n      ...userDefinedAttributes,\n    },\n    disabled: disabled.draggable,\n  });\n  const setNodeRef = useCombinedRefs(setDroppableNodeRef, setDraggableNodeRef);\n  const isSorting = Boolean(active);\n  const displaceItem =\n    isSorting &&\n    !disableTransforms &&\n    isValidIndex(activeIndex) &&\n    isValidIndex(overIndex);\n  const shouldDisplaceDragSource = !useDragOverlay && isDragging;\n  const dragSourceDisplacement =\n    shouldDisplaceDragSource && displaceItem ? transform : null;\n  const strategy = localStrategy ?? globalStrategy;\n  const finalTransform = displaceItem\n    ? dragSourceDisplacement ??\n      strategy({\n        rects: sortedRects,\n        activeNodeRect,\n        activeIndex,\n        overIndex,\n        index,\n      })\n    : null;\n  const newIndex =\n    isValidIndex(activeIndex) && isValidIndex(overIndex)\n      ? getNewIndex({id, items, activeIndex, overIndex})\n      : index;\n  const activeId = active?.id;\n  const previous = useRef({\n    activeId,\n    items,\n    newIndex,\n    containerId,\n  });\n  const itemsHaveChanged = items !== previous.current.items;\n  const shouldAnimateLayoutChanges = animateLayoutChanges({\n    active,\n    containerId,\n    isDragging,\n    isSorting,\n    id,\n    index,\n    items,\n    newIndex: previous.current.newIndex,\n    previousItems: previous.current.items,\n    previousContainerId: previous.current.containerId,\n    transition,\n    wasDragging: previous.current.activeId != null,\n  });\n\n  const derivedTransform = useDerivedTransform({\n    disabled: !shouldAnimateLayoutChanges,\n    index,\n    node,\n    rect,\n  });\n\n  useEffect(() => {\n    if (isSorting && previous.current.newIndex !== newIndex) {\n      previous.current.newIndex = newIndex;\n    }\n\n    if (containerId !== previous.current.containerId) {\n      previous.current.containerId = containerId;\n    }\n\n    if (items !== previous.current.items) {\n      previous.current.items = items;\n    }\n  }, [isSorting, newIndex, containerId, items]);\n\n  useEffect(() => {\n    if (activeId === previous.current.activeId) {\n      return;\n    }\n\n    if (activeId && !previous.current.activeId) {\n      previous.current.activeId = activeId;\n      return;\n    }\n\n    const timeoutId = setTimeout(() => {\n      previous.current.activeId = activeId;\n    }, 50);\n\n    return () => clearTimeout(timeoutId);\n  }, [activeId]);\n\n  return {\n    active,\n    activeIndex,\n    attributes,\n    data,\n    rect,\n    index,\n    newIndex,\n    items,\n    isOver,\n    isSorting,\n    isDragging,\n    listeners,\n    node,\n    overIndex,\n    over,\n    setNodeRef,\n    setActivatorNodeRef,\n    setDroppableNodeRef,\n    setDraggableNodeRef,\n    transform: derivedTransform ?? finalTransform,\n    transition: getTransition(),\n  };\n\n  function getTransition() {\n    if (\n      // Temporarily disable transitions for a single frame to set up derived transforms\n      derivedTransform ||\n      // Or to prevent items jumping to back to their \"new\" position when items change\n      (itemsHaveChanged && previous.current.newIndex === index)\n    ) {\n      return disabledTransition;\n    }\n\n    if (\n      (shouldDisplaceDragSource && !isKeyboardEvent(activatorEvent)) ||\n      !transition\n    ) {\n      return undefined;\n    }\n\n    if (isSorting || shouldAnimateLayoutChanges) {\n      return CSS.Transition.toString({\n        ...transition,\n        property: transitionProperty,\n      });\n    }\n\n    return undefined;\n  }\n}\n\nfunction normalizeLocalDisabled(\n  localDisabled: Arguments['disabled'],\n  globalDisabled: Disabled\n) {\n  if (typeof localDisabled === 'boolean') {\n    return {\n      draggable: localDisabled,\n      // Backwards compatibility\n      droppable: false,\n    };\n  }\n\n  return {\n    draggable: localDisabled?.draggable ?? globalDisabled.draggable,\n    droppable: localDisabled?.droppable ?? globalDisabled.droppable,\n  };\n}\n","import {useMemo} from 'react';\n\nexport function useCombinedRefs<T>(\n  ...refs: ((node: T) => void)[]\n): (node: T) => void {\n  return useMemo(\n    () => (node: T) => {\n      refs.forEach((ref) => ref(node));\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    refs\n  );\n}\n","import {useEffect, useRef, useState} from 'react';\nimport {getClientRect, ClientRect} from '@dnd-kit/core';\nimport {Transform, useIsomorphicLayoutEffect} from '@dnd-kit/utilities';\n\ninterface Arguments {\n  rect: React.MutableRefObject<ClientRect | null>;\n  disabled: boolean;\n  index: number;\n  node: React.MutableRefObject<HTMLElement | null>;\n}\n\n/*\n * When the index of an item changes while sorting,\n * we need to temporarily disable the transforms\n */\nexport function useDerivedTransform({disabled, index, node, rect}: Arguments) {\n  const [derivedTransform, setDerivedtransform] = useState<Transform | null>(\n    null\n  );\n  const previousIndex = useRef(index);\n\n  useIsomorphicLayoutEffect(() => {\n    if (!disabled && index !== previousIndex.current && node.current) {\n      const initial = rect.current;\n\n      if (initial) {\n        const current = getClientRect(node.current, {\n          ignoreTransform: true,\n        });\n\n        const delta = {\n          x: initial.left - current.left,\n          y: initial.top - current.top,\n          scaleX: initial.width / current.width,\n          scaleY: initial.height / current.height,\n        };\n\n        if (delta.x || delta.y) {\n          setDerivedtransform(delta);\n        }\n      }\n    }\n\n    if (index !== previousIndex.current) {\n      previousIndex.current = index;\n    }\n  }, [disabled, index, node, rect]);\n\n  useEffect(() => {\n    if (derivedTransform) {\n      setDerivedtransform(null);\n    }\n  }, [derivedTransform]);\n\n  return derivedTransform;\n}\n","import {\n  closestCorners,\n  getScrollableAncestors,\n  getFirstCollision,\n  KeyboardCode,\n  DroppableContainer,\n  KeyboardCoordinateGetter,\n} from '@dnd-kit/core';\nimport {subtract} from '@dnd-kit/utilities';\n\nimport {hasSortableData} from '../../types';\n\nconst directions: string[] = [\n  KeyboardCode.Down,\n  KeyboardCode.Right,\n  KeyboardCode.Up,\n  KeyboardCode.Left,\n];\n\nexport const sortableKeyboardCoordinates: KeyboardCoordinateGetter = (\n  event,\n  {\n    context: {\n      active,\n      collisionRect,\n      droppableRects,\n      droppableContainers,\n      over,\n      scrollableAncestors,\n    },\n  }\n) => {\n  if (directions.includes(event.code)) {\n    event.preventDefault();\n\n    if (!active || !collisionRect) {\n      return;\n    }\n\n    const filteredContainers: DroppableContainer[] = [];\n\n    droppableContainers.getEnabled().forEach((entry) => {\n      if (!entry || entry?.disabled) {\n        return;\n      }\n\n      const rect = droppableRects.get(entry.id);\n\n      if (!rect) {\n        return;\n      }\n\n      switch (event.code) {\n        case KeyboardCode.Down:\n          if (collisionRect.top < rect.top) {\n            filteredContainers.push(entry);\n          }\n          break;\n        case KeyboardCode.Up:\n          if (collisionRect.top > rect.top) {\n            filteredContainers.push(entry);\n          }\n          break;\n        case KeyboardCode.Left:\n          if (collisionRect.left > rect.left) {\n            filteredContainers.push(entry);\n          }\n          break;\n        case KeyboardCode.Right:\n          if (collisionRect.left < rect.left) {\n            filteredContainers.push(entry);\n          }\n          break;\n      }\n    });\n\n    const collisions = closestCorners({\n      active,\n      collisionRect: collisionRect,\n      droppableRects,\n      droppableContainers: filteredContainers,\n      pointerCoordinates: null,\n    });\n    let closestId = getFirstCollision(collisions, 'id');\n\n    if (closestId === over?.id && collisions.length > 1) {\n      closestId = collisions[1].id;\n    }\n\n    if (closestId != null) {\n      const activeDroppable = droppableContainers.get(active.id);\n      const newDroppable = droppableContainers.get(closestId);\n      const newRect = newDroppable ? droppableRects.get(newDroppable.id) : null;\n      const newNode = newDroppable?.node.current;\n\n      if (newNode && newRect && activeDroppable && newDroppable) {\n        const newScrollAncestors = getScrollableAncestors(newNode);\n        const hasDifferentScrollAncestors = newScrollAncestors.some(\n          (element, index) => scrollableAncestors[index] !== element\n        );\n        const hasSameContainer = isSameContainer(activeDroppable, newDroppable);\n        const isAfterActive = isAfter(activeDroppable, newDroppable);\n        const offset =\n          hasDifferentScrollAncestors || !hasSameContainer\n            ? {\n                x: 0,\n                y: 0,\n              }\n            : {\n                x: isAfterActive ? collisionRect.width - newRect.width : 0,\n                y: isAfterActive ? collisionRect.height - newRect.height : 0,\n              };\n        const rectCoordinates = {\n          x: newRect.left,\n          y: newRect.top,\n        };\n\n        const newCoordinates =\n          offset.x && offset.y\n            ? rectCoordinates\n            : subtract(rectCoordinates, offset);\n\n        return newCoordinates;\n      }\n    }\n  }\n\n  return undefined;\n};\n\nfunction isSameContainer(a: DroppableContainer, b: DroppableContainer) {\n  if (!hasSortableData(a) || !hasSortableData(b)) {\n    return false;\n  }\n\n  return (\n    a.data.current.sortable.containerId === b.data.current.sortable.containerId\n  );\n}\n\nfunction isAfter(a: DroppableContainer, b: DroppableContainer) {\n  if (!hasSortableData(a) || !hasSortableData(b)) {\n    return false;\n  }\n\n  if (!isSameContainer(a, b)) {\n    return false;\n  }\n\n  return a.data.current.sortable.index < b.data.current.sortable.index;\n}\n","import * as React from 'react';\n\nconst useLatest = current => {\n  const storedValue = React.useRef(current);\n  React.useEffect(() => {\n    storedValue.current = current;\n  });\n  return storedValue;\n};\n\nexport default useLatest;","import * as React from 'react';\nimport useLatest from '@react-hook/latest';\nexport const useDebounceCallback = (callback, wait = 100, leading = false) => {\n  const storedCallback = useLatest(callback);\n  const timeout = React.useRef();\n  const deps = [wait, leading, storedCallback]; // Cleans up pending timeouts when the deps change\n\n  function _ref() {\n    timeout.current && clearTimeout(timeout.current);\n    timeout.current = void 0;\n  }\n\n  React.useEffect(() => _ref, deps);\n\n  function _ref2() {\n    timeout.current = void 0;\n  }\n\n  return React.useCallback(function () {\n    // eslint-disable-next-line prefer-rest-params\n    const args = arguments;\n    const {\n      current\n    } = timeout; // Calls on leading edge\n\n    if (current === void 0 && leading) {\n      timeout.current = setTimeout(_ref2, wait); // eslint-disable-next-line prefer-spread\n\n      return storedCallback.current.apply(null, args);\n    } // Clear the timeout every call and start waiting again\n\n\n    current && clearTimeout(current); // Waits for `wait` before invoking the callback\n\n    timeout.current = setTimeout(() => {\n      timeout.current = void 0;\n      storedCallback.current.apply(null, args);\n    }, wait);\n  }, deps);\n};\nexport const useDebounce = (initialState, wait, leading) => {\n  const state = React.useState(initialState);\n  return [state[0], useDebounceCallback(state[1], wait, leading), state[1]];\n};","import { spacers, colors } from '@dhis2/ui';\nconst _defaultExport = [`.wrapper.jsx-2286537164{margin-top:${spacers.dp4};}`, `.wrapper.jsx-2286537164:last-child{margin-bottom:${spacers.dp4};}`, \".draggable-item.jsx-2286537164{cursor:pointer;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;}\", `.chip.jsx-2286537164{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;background:${colors.grey200};font-size:14px;padding:2px ${spacers.dp8} 2px 2px;border-radius:3px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}`, `.chip.jsx-2286537164:hover{background:${colors.grey300};}`, \".icon.jsx-2286537164,.label.jsx-2286537164{line-height:18px;}\", \".icon.jsx-2286537164{margin-right:2px;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;vertical-align:text-bottom;padding-top:1px;}\"];\n_defaultExport.__hash = \"2286537164\";\nexport default _defaultExport;","import _JSXStyle from \"styled-jsx/style\";\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport { useSortable } from '@dnd-kit/sortable';\nimport { CSS } from '@dnd-kit/utilities';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { DIMENSION_TYPE_DATA_ELEMENT } from '../../../modules/dataTypes.js';\nimport { getIcon } from '../../../modules/dimensionListItem.js';\nimport { EXPRESSION_TYPE_DATA } from '../../../modules/expressions.js';\nimport styles from './styles/DataElementOption.style.js';\nconst DataElementOption = _ref => {\n  let {\n    label,\n    value,\n    onDoubleClick\n  } = _ref;\n  const data = {\n    label,\n    value,\n    type: EXPRESSION_TYPE_DATA\n  };\n  const {\n    attributes,\n    listeners,\n    setNodeRef,\n    transform\n  } = useSortable({\n    id: value,\n    data\n  });\n  const style = {\n    transform: CSS.Translate.toString(transform)\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"wrapper\"\n  }, /*#__PURE__*/React.createElement(\"div\", _extends({}, attributes, listeners, {\n    ref: setNodeRef,\n    style: style,\n    className: `jsx-${styles.__hash}` + \" \" + (listeners && listeners.className != null && listeners.className || attributes && attributes.className != null && attributes.className || \"draggable-item\")\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    onDoubleClick: () => onDoubleClick(data),\n    \"data-test\": \"data-element-option\",\n    className: `jsx-${styles.__hash}` + \" \" + \"chip\"\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"icon\"\n  }, getIcon(DIMENSION_TYPE_DATA_ELEMENT)), /*#__PURE__*/React.createElement(\"span\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"label\"\n  }, label))), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: styles.__hash\n  }, styles));\n};\nDataElementOption.propTypes = {\n  label: PropTypes.string,\n  value: PropTypes.string,\n  onDoubleClick: PropTypes.func\n};\nexport default DataElementOption;","import { colors, spacers } from '@dhis2/ui';\nconst _defaultExport = [\".dimension-list-container.jsx-4262244129{position:relative;}\", `.dimension-list-scrollbox.jsx-4262244129{position:relative;width:100%;height:337px;overflow:hidden;overflow-y:auto;border:1px solid ${colors.grey400};}`, `.dimension-list-scroller.jsx-4262244129{position:relative;min-height:1px;padding:0 ${spacers.dp4};}`, \".dimension-list-scroller.loading.jsx-4262244129{-webkit-filter:blur(2px);filter:blur(2px);}\", \".scroll-detector.jsx-4262244129{boxsizing:border-box;width:100%;height:100px;position:absolute;bottom:0;left:0;z-index:-1;}\", \".dimension-list-overlay.jsx-4262244129{position:absolute;width:100%;height:100%;z-index:2;top:0;left:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}\", `.filter-wrapper.jsx-4262244129{padding:${spacers.dp8};border:1px solid ${colors.grey400};border-bottom:0;}`, `.selector-wrapper.jsx-4262244129{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;gap:${spacers.dp4};}`, `.sub-header.jsx-4262244129{font-size:14px;font-weight:normal;margin:0 0 ${spacers.dp4};}`, `.group-select.jsx-4262244129{width:50%;margin-top:${spacers.dp4};}`, `.empty-list.jsx-4262244129{text-align:center;font-size:14px;line-height:16px;margin:${spacers.dp24} 0 0;color:${colors.grey700};}`];\n_defaultExport.__hash = \"4262244129\";\nexport default _defaultExport;","import _JSXStyle from \"styled-jsx/style\";\nimport { useDataEngine } from '@dhis2/app-runtime';\nimport { CircularLoader, InputField, IntersectionDetector, SingleSelectField, SingleSelectOption } from '@dhis2/ui';\nimport { useSortable } from '@dnd-kit/sortable';\nimport { useDebounceCallback } from '@react-hook/debounce';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { apiFetchOptions, apiFetchGroups } from '../../../api/dimensions.js';\nimport i18n from '../../../locales/index.js';\nimport { TOTALS, DETAIL, DIMENSION_TYPE_ALL, DIMENSION_TYPE_DATA_ELEMENT, dataTypeMap as dataTypes } from '../../../modules/dataTypes.js';\nimport DataElementOption from './DataElementOption.js';\nimport styles from './styles/DataElementSelector.style.js';\nconst getOptions = () => ({\n  [TOTALS]: i18n.t('Totals only'),\n  [DETAIL]: i18n.t('Details only')\n});\nconst GroupSelector = _ref => {\n  var _dataTypes$DIMENSION_;\n  let {\n    currentValue,\n    onChange,\n    displayNameProp\n  } = _ref;\n  const dataEngine = useDataEngine();\n  const [loading, setLoading] = useState(true);\n  const [groups, setGroups] = useState([]);\n  const defaultGroup = (_dataTypes$DIMENSION_ = dataTypes[DIMENSION_TYPE_DATA_ELEMENT]) === null || _dataTypes$DIMENSION_ === void 0 ? void 0 : _dataTypes$DIMENSION_.defaultGroup;\n  useEffect(() => {\n    const fetchGroups = async () => {\n      setLoading(true);\n      const result = await apiFetchGroups(dataEngine, DIMENSION_TYPE_DATA_ELEMENT, displayNameProp);\n      setGroups(result);\n      setLoading(false);\n    };\n    fetchGroups();\n  }, [dataEngine, displayNameProp]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"group-select\"\n  }, /*#__PURE__*/React.createElement(SingleSelectField, {\n    selected: currentValue,\n    onChange: ref => onChange(ref.selected),\n    dense: true,\n    loading: loading,\n    loadingText: i18n.t('Loading'),\n    dataTest: 'data-element-group-select'\n  }, defaultGroup ? /*#__PURE__*/React.createElement(SingleSelectOption, {\n    value: defaultGroup.id,\n    key: defaultGroup.id,\n    label: defaultGroup.getName(),\n    dataTest: `data-element-group-select-option-${defaultGroup.id}`\n  }) : null, !loading ? groups.map(group => /*#__PURE__*/React.createElement(SingleSelectOption, {\n    value: group.id,\n    key: group.id,\n    label: group.name,\n    dataTest: `data-element-group-select-option-${group.id}`\n  })) : null), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: styles.__hash\n  }, styles));\n};\nGroupSelector.propTypes = {\n  currentValue: PropTypes.string.isRequired,\n  displayNameProp: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired\n};\nconst DisaggregationSelector = _ref2 => {\n  let {\n    currentValue,\n    onChange\n  } = _ref2;\n  const options = getOptions();\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"group-select\"\n  }, /*#__PURE__*/React.createElement(SingleSelectField, {\n    selected: currentValue,\n    onChange: ref => onChange(ref.selected),\n    dense: true,\n    dataTest: 'data-element-disaggregation-select'\n  }, Object.entries(options).map(option => /*#__PURE__*/React.createElement(SingleSelectOption, {\n    value: option[0],\n    key: option[0],\n    label: option[1],\n    dataTest: `data-element-disaggregation-select-option-${option[0]}`\n  }))), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: styles.__hash\n  }, styles));\n};\nDisaggregationSelector.propTypes = {\n  currentValue: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired\n};\nconst DataElementSelector = _ref3 => {\n  let {\n    displayNameProp,\n    onDoubleClick\n  } = _ref3;\n  const dataEngine = useDataEngine();\n  const [searchTerm, setSearchTerm] = useState('');\n  const [group, setGroup] = useState(DIMENSION_TYPE_ALL);\n  const [subGroup, setSubGroup] = useState(TOTALS);\n  const [options, setOptions] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const {\n    isSorting\n  } = useSortable({});\n  const rootRef = useRef();\n  const hasNextPageRef = useRef(false);\n  const searchTermRef = useRef(searchTerm);\n  const pageRef = useRef(0);\n  const filterRef = useRef({\n    dataType: DIMENSION_TYPE_DATA_ELEMENT,\n    group,\n    subGroup\n  });\n  const fetchData = async scrollToTop => {\n    try {\n      setLoading(true);\n      const result = await apiFetchOptions({\n        dataEngine,\n        nameProp: displayNameProp,\n        filter: filterRef.current,\n        searchTerm: searchTermRef.current,\n        page: pageRef.current\n      });\n      if (result !== null && result !== void 0 && result.dimensionItems) {\n        const newOptions = result.dimensionItems.map(item => ({\n          label: item.name,\n          value: item.id,\n          type: item.dimensionItemType,\n          expression: item.expression\n        }));\n        setOptions(prevOptions => pageRef.current > 1 ? [...prevOptions, ...newOptions] : newOptions);\n        setLoading(false);\n      }\n      hasNextPageRef.current = result !== null && result !== void 0 && result.nextPage ? true : false;\n    } catch (error) {\n      // TODO handle errors\n      console.log('apiFetchOptions error: ', error);\n    } finally {\n      if (scrollToTop) {\n        rootRef.current.scrollTo({\n          top: 0\n        });\n      }\n    }\n  };\n  const debouncedFetchData = useDebounceCallback(newSearchTerm => {\n    hasNextPageRef.current = false;\n    pageRef.current = 1;\n    searchTermRef.current = newSearchTerm;\n    fetchData(true);\n  }, 500);\n  const onSearchChange = _ref4 => {\n    let {\n      value\n    } = _ref4;\n    const newSearchTerm = value;\n    setSearchTerm(newSearchTerm);\n\n    // debounce the fetch\n    debouncedFetchData(newSearchTerm);\n  };\n  const onFilterChange = newFilter => {\n    if (newFilter.group) {\n      setGroup(newFilter.group);\n      filterRef.current.group = newFilter.group;\n    }\n    if (newFilter.subGroup) {\n      setSubGroup(newFilter.subGroup);\n      filterRef.current.subGroup = newFilter.subGroup;\n    }\n    hasNextPageRef.current = false;\n    pageRef.current = 1;\n    fetchData(true);\n  };\n  const onEndReached = _ref5 => {\n    let {\n      isIntersecting\n    } = _ref5;\n    if (isIntersecting) {\n      // if hasNextPage is set it means at least 1 request already happened and there is\n      // another page, fetch the next page\n      if (hasNextPageRef.current) {\n        pageRef.current += 1;\n        fetchData();\n      } else if (pageRef.current === 0) {\n        // this is for fetching the initial page\n        pageRef.current = 1;\n        fetchData();\n      }\n    }\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"filter-wrapper\"\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"sub-header\"\n  }, i18n.t('Data elements')), /*#__PURE__*/React.createElement(InputField, {\n    value: searchTerm,\n    onChange: onSearchChange,\n    placeholder: i18n.t('Search by data element name'),\n    dense: true,\n    type: 'search',\n    dataTest: 'data-element-search'\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"selector-wrapper\"\n  }, /*#__PURE__*/React.createElement(GroupSelector, {\n    currentValue: group,\n    onChange: group => onFilterChange({\n      group\n    }),\n    displayNameProp: displayNameProp\n  }), /*#__PURE__*/React.createElement(DisaggregationSelector, {\n    currentValue: subGroup,\n    onChange: subGroup => onFilterChange({\n      subGroup\n    })\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"dimension-list-container\"\n  }, loading && /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"dimension-list-overlay\"\n  }, /*#__PURE__*/React.createElement(CircularLoader, null)), /*#__PURE__*/React.createElement(\"div\", {\n    ref: rootRef,\n    onScroll: () => {\n      if (isSorting) {\n        rootRef.current.scrollTo({\n          top: 0\n        });\n      }\n    },\n    className: `jsx-${styles.__hash}` + \" \" + \"dimension-list-scrollbox\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": \"dimension-list\",\n    className: `jsx-${styles.__hash}` + \" \" + (cx('dimension-list-scroller', {\n      loading\n    }) || \"\")\n  }, Boolean(options.length) && options.map(_ref6 => {\n    let {\n      label,\n      value\n    } = _ref6;\n    return /*#__PURE__*/React.createElement(DataElementOption, {\n      key: value,\n      label: label,\n      value: value,\n      onDoubleClick: onDoubleClick\n    });\n  }), !loading && !options.length && /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"empty-list\"\n  }, searchTermRef.current ? i18n.t('No data elements found for \"{{- searchTerm}}\"', {\n    searchTerm: searchTermRef.current\n  }) : i18n.t('No data elements found')), /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"scroll-detector\"\n  }, /*#__PURE__*/React.createElement(IntersectionDetector, {\n    onChange: onEndReached,\n    rootRef: rootRef\n  }))))), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: styles.__hash\n  }, styles));\n};\nDataElementSelector.propTypes = {\n  displayNameProp: PropTypes.string.isRequired,\n  onDoubleClick: PropTypes.func.isRequired\n};\nexport default DataElementSelector;","import { colors, spacers } from '@dhis2/ui';\nconst _defaultExport = [`.dragging.jsx-2818590818{border:2px solid ${colors.blue500};cursor:-webkit-grab;cursor:-moz-grab;cursor:grab;}`, `.number.jsx-2818590818{padding:0 ${spacers.dp8};}`];\n_defaultExport.__hash = \"2818590818\";\nexport default _defaultExport;","import { colors, spacers, theme } from '@dhis2/ui';\nconst _defaultExport = [\".formula-item.jsx-255634210{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;}\", \".formula-item.jsx-255634210:not(.inactive){opacity:0.5;}\", `.content.jsx-255634210{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;height:24px;font-size:14px;border-radius:3px;background:${colors.grey200};}`, \".icon.jsx-255634210{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;margin-right:2px;}\", \".operator.jsx-255634210{padding:0;width:24px;}\", `.data.jsx-255634210,.number.jsx-255634210{padding:0 ${spacers.dp8} 0 2px;}`, \".operator.jsx-255634210 .label.jsx-255634210{margin-bottom:1px;}\", \".data.jsx-255634210 .label.jsx-255634210{max-width:280px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;}\", \".number-positioner.jsx-255634210{position:relative;line-height:18px;}\", \".number-width.jsx-255634210{padding:0 24px 0 0;visibility:hidden;}\", \".input.jsx-255634210{position:absolute;width:100%;left:0;background-color:transparent;border:1px dashed #a0adba;padding:0 0 0 2px;}\", \".input.jsx-255634210:hover,.input.jsx-255634210:focus{background:white;border:1px solid rgba(0,0,0,0.2);}\", `.highlighted.jsx-255634210{background:${theme.secondary800};color:${colors.white};}`, `.highlighted.jsx-255634210 .input.jsx-255634210{color:${colors.white};}`, `.highlighted.jsx-255634210 .input.jsx-255634210:hover,.highlighted.jsx-255634210 .input.jsx-255634210:active,.highlighted.jsx-255634210 .input.jsx-255634210:focus{color:${colors.grey900};}`, `.highlighted.jsx-255634210 .icon path{fill:${colors.white};}`, \".inactive.insertBefore.jsx-255634210 .content.jsx-255634210::before,.inactive.insertAfter.jsx-255634210 .content.jsx-255634210::before,.inactive.insertBefore.jsx-255634210 .content.jsx-255634210::after,.inactive.insertAfter.jsx-255634210 .content.jsx-255634210::after{content:'';position:absolute;z-index:100;}\", `.content.jsx-255634210::before{top:6px;bottom:0;width:4px;background-color:${colors.blue500};}`, `.content.jsx-255634210::after{top:-4px;width:12px;height:12px;border:4px solid ${colors.blue500};background:transparent;border-radius:12px;}`, \".last-item.jsx-255634210{-webkit-flex:1;-ms-flex:1;flex:1;}\", \".insertBefore.jsx-255634210 .content.jsx-255634210::before{left:-6px;}\", \".insertBefore.jsx-255634210 .content.jsx-255634210::after{left:-10px;}\", \".insertAfter.jsx-255634210 .content.jsx-255634210::before{right:-6px;}\", \".insertAfter.jsx-255634210 .content.jsx-255634210::after{right:-10px;}\"];\n_defaultExport.__hash = \"255634210\";\nexport default _defaultExport;","import _JSXStyle from \"styled-jsx/style\";\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { DIMENSION_TYPE_DATA_ELEMENT } from '../../../modules/dataTypes.js';\nimport { getIcon } from '../../../modules/dimensionListItem.js';\nimport { EXPRESSION_TYPE_DATA, EXPRESSION_TYPE_NUMBER, EXPRESSION_TYPE_OPERATOR } from '../../../modules/expressions.js';\nimport styles from './styles/DraggingItem.style.js';\nimport formulaItemStyles from './styles/FormulaItem.style.js';\nconst DraggingItem = _ref => {\n  let {\n    label,\n    type,\n    value\n  } = _ref;\n  const displayLabel = type === EXPRESSION_TYPE_NUMBER ? value || label : label;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash} jsx-${formulaItemStyles.__hash}` + \" \" + (cx('dragging', 'content', {\n      operator: type === EXPRESSION_TYPE_OPERATOR,\n      number: type === EXPRESSION_TYPE_NUMBER,\n      data: type === EXPRESSION_TYPE_DATA\n    }) || \"\")\n  }, type === EXPRESSION_TYPE_DATA && /*#__PURE__*/React.createElement(\"span\", {\n    className: `jsx-${styles.__hash} jsx-${formulaItemStyles.__hash}` + \" \" + \"icon\"\n  }, getIcon(DIMENSION_TYPE_DATA_ELEMENT)), /*#__PURE__*/React.createElement(\"span\", {\n    className: `jsx-${styles.__hash} jsx-${formulaItemStyles.__hash}` + \" \" + \"label\"\n  }, displayLabel)), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: styles.__hash\n  }, styles), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: formulaItemStyles.__hash\n  }, formulaItemStyles));\n};\nDraggingItem.propTypes = {\n  label: PropTypes.string,\n  type: PropTypes.string,\n  value: PropTypes.string\n};\nexport default DraggingItem;","function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport { DndContext, DragOverlay, useSensor, useSensors, PointerSensor as DndKitPointerSensor } from '@dnd-kit/core';\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport DraggingItem from './DraggingItem.js';\nexport const OPTIONS_PANEL = 'Sortable';\nconst getIntersectionRatio = (entry, target) => {\n  const top = Math.max(target.top, entry.top);\n  const left = Math.max(target.left, entry.left);\n  const right = Math.min(target.left + target.width, entry.left + entry.width);\n  const bottom = Math.min(target.top + target.height, entry.top + entry.height);\n  const width = right - left;\n  const height = bottom - top;\n  if (left < right && top < bottom) {\n    const targetArea = target.width * target.height;\n    const entryArea = entry.width * entry.height;\n    const intersectionArea = width * height;\n    const intersectionRatio = intersectionArea / (targetArea + entryArea - intersectionArea);\n    return Number(intersectionRatio.toFixed(4));\n  } // Rectangles do not overlap, or overlap has an area of zero (edge/corner overlap)\n\n  return 0;\n};\nconst sortCollisionsDesc = (_ref, _ref2) => {\n  let {\n    data: {\n      value: a\n    }\n  } = _ref;\n  let {\n    data: {\n      value: b\n    }\n  } = _ref2;\n  return b - a;\n};\nconst rectIntersectionCustom = _ref3 => {\n  let {\n    pointerCoordinates,\n    droppableContainers\n  } = _ref3;\n  // create a rect around the pointerCoords for calculating the intersection\n\n  const pointerRectWidth = 40;\n  const pointerRectHeight = 40;\n  const pointerRect = {\n    width: pointerRectWidth,\n    height: pointerRectHeight,\n    top: pointerCoordinates.y - pointerRectHeight / 2,\n    bottom: pointerCoordinates.y + pointerRectHeight / 2,\n    left: pointerCoordinates.x - pointerRectWidth / 2,\n    right: pointerCoordinates.x + pointerRectWidth / 2\n  };\n  const collisions = [];\n  for (const droppableContainer of droppableContainers) {\n    const {\n      id,\n      rect: {\n        current: rect\n      }\n    } = droppableContainer;\n    if (rect) {\n      const intersectionRatio = getIntersectionRatio(rect, pointerRect);\n      if (intersectionRatio > 0) {\n        collisions.push({\n          id,\n          data: {\n            droppableContainer,\n            value: intersectionRatio\n          }\n        });\n      }\n    }\n  }\n  return collisions.sort(sortCollisionsDesc);\n};\nconst isInteractiveElement = el => {\n  const interactiveElements = ['button', 'input', 'textarea', 'select', 'option'];\n  if (interactiveElements.includes(el.tagName.toLowerCase())) {\n    return true;\n  }\n  return false;\n};\n\n// disable dragging if user is in an input\nclass PointerSensor extends DndKitPointerSensor {}\n_defineProperty(PointerSensor, \"activators\", [{\n  eventName: 'onPointerDown',\n  handler: _ref7 => {\n    let {\n      nativeEvent: event\n    } = _ref7;\n    if (!event.isPrimary || event.button !== 0 || isInteractiveElement(event.target)) {\n      return false;\n    }\n    return true;\n  }\n}]);\nconst OuterDndContext = _ref4 => {\n  let {\n    children,\n    onDragEnd,\n    onDragStart\n  } = _ref4;\n  const [draggingItem, setDraggingItem] = useState(null);\n  const sensor = useSensor(PointerSensor, {\n    activationConstraint: {\n      distance: 15\n    }\n  });\n  const sensors = useSensors(sensor);\n  const handleDragStart = _ref5 => {\n    let {\n      active\n    } = _ref5;\n    setDraggingItem(active.data.current);\n    onDragStart && onDragStart();\n  };\n  const handleDragCancel = () => {\n    setDraggingItem(null);\n  };\n  const handleDragEnd = _ref6 => {\n    var _over$data, _over$data$current, _over$data$current$so, _over$data$current2, _over$data$current3;\n    let {\n      active,\n      over\n    } = _ref6;\n    if (!(over !== null && over !== void 0 && over.id) || (over === null || over === void 0 ? void 0 : (_over$data = over.data) === null || _over$data === void 0 ? void 0 : (_over$data$current = _over$data.current) === null || _over$data$current === void 0 ? void 0 : (_over$data$current$so = _over$data$current.sortable) === null || _over$data$current$so === void 0 ? void 0 : _over$data$current$so.containerId) === OPTIONS_PANEL || !active.data.current) {\n      // dropped over non-droppable or over options panel\n      handleDragCancel();\n      return;\n    }\n    const item = {\n      id: active.id,\n      sourceContainerId: active.data.current.sortable.containerId,\n      sourceIndex: active.data.current.sortable.index,\n      data: {\n        label: active.data.current.label,\n        value: active.data.current.value,\n        type: active.data.current.type\n      }\n    };\n    const destination = {\n      containerId: ((_over$data$current2 = over.data.current) === null || _over$data$current2 === void 0 ? void 0 : _over$data$current2.sortable.containerId) || over.id,\n      index: (_over$data$current3 = over.data.current) === null || _over$data$current3 === void 0 ? void 0 : _over$data$current3.sortable.index\n    };\n    onDragEnd({\n      item,\n      destination\n    });\n    setDraggingItem(null);\n  };\n  return /*#__PURE__*/React.createElement(DndContext, {\n    collisionDetection: rectIntersectionCustom,\n    onDragStart: handleDragStart,\n    onDragEnd: handleDragEnd,\n    onDragCancel: handleDragCancel,\n    sensors: sensors\n  }, children, /*#__PURE__*/React.createElement(DragOverlay, {\n    dropAnimation: null\n  }, draggingItem ? /*#__PURE__*/React.createElement(\"span\", {\n    className: \"dragOverlay\"\n  }, /*#__PURE__*/React.createElement(DraggingItem, draggingItem)) : null));\n};\nOuterDndContext.propTypes = {\n  onDragEnd: PropTypes.func.isRequired,\n  children: PropTypes.node,\n  onDragStart: PropTypes.func\n};\nexport default OuterDndContext;","import {useMemo} from 'react';\n\nimport type {SensorDescriptor, SensorOptions} from './types';\n\nexport function useSensors(\n  ...sensors: (SensorDescriptor<any> | undefined | null)[]\n): SensorDescriptor<SensorOptions>[] {\n  return useMemo(\n    () =>\n      [...sensors].filter(\n        (sensor): sensor is SensorDescriptor<any> => sensor != null\n      ),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [...sensors]\n  );\n}\n","import {useMemo} from 'react';\n\nimport type {Sensor, SensorDescriptor, SensorOptions} from './types';\n\nexport function useSensor<T extends SensorOptions>(\n  sensor: Sensor<T>,\n  options?: T\n): SensorDescriptor<T> {\n  return useMemo(\n    () => ({\n      sensor,\n      options: options ?? ({} as T),\n    }),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [sensor, options]\n  );\n}\n","import React from 'react';\nconst FormulaIcon = () => {\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    width: \"32\",\n    height: \"32\",\n    viewBox: \"0 0 32 32\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    clipPath: \"url(#clip0_927_2130)\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: \"32\",\n    height: \"32\",\n    fill: \"white\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M14 8H10V4H8V8H4V10H8V14H10V10H14V8ZM14 19H4V21H14V19ZM4 24H14V26H4V24ZM28 8H18V10H28V8ZM28 18.41L24.41 22L28 25.59L26.59 27L23 23.41L19.41 27L18 25.59L21.59 22L18 18.41L19.41 17L23 20.59L26.59 17L28 18.41Z\",\n    fill: \"#A0ADBA\"\n  })), /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"clipPath\", {\n    id: \"clip0_927_2130\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: \"32\",\n    height: \"32\",\n    fill: \"white\"\n  }))));\n};\nexport default FormulaIcon;","import { colors } from '@dhis2/ui';\nconst _defaultExport = [\".first-dropzone.jsx-3773517794{position:absolute;top:0;left:0;z-index:-1;width:24px;height:28px;background-color:transparent;}\", \".dragging-over.jsx-3773517794{z-index:100;}\", \".empty.jsx-3773517794{position:relative;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;z-index:100;margin-left:-10px;margin-top:-4px;}\", \".dragging-over.jsx-3773517794::before,.dragging-over.jsx-3773517794::after{content:'';position:absolute;}\", `.dragging-over.jsx-3773517794::before{top:10px;width:4px;left:4px;height:18px;background-color:${colors.blue500};}`, `.dragging-over.jsx-3773517794::after{top:0;left:0;width:12px;height:12px;border:4px solid ${colors.blue500};background:transparent;border-radius:12px;}`];\n_defaultExport.__hash = \"3773517794\";\nexport default _defaultExport;","import _JSXStyle from \"styled-jsx/style\";\nimport { useDroppable } from '@dnd-kit/core';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './styles/DropZone.style.js';\nconst DropZone = _ref => {\n  let {\n    firstElementId,\n    overLastDropZone\n  } = _ref;\n  const {\n    isOver,\n    setNodeRef,\n    active\n  } = useDroppable({\n    id: 'firstdropzone'\n  });\n  let draggingOver = false;\n  if (overLastDropZone && !firstElementId) {\n    draggingOver = true;\n  } else {\n    draggingOver = firstElementId === (active === null || active === void 0 ? void 0 : active.id) ? false : isOver;\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    ref: setNodeRef,\n    className: `jsx-${styles.__hash}` + \" \" + (cx('first-dropzone', {\n      'dragging-over': draggingOver,\n      empty: !firstElementId\n    }) || \"\")\n  }), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: styles.__hash\n  }, styles));\n};\nDropZone.propTypes = {\n  firstElementId: PropTypes.string,\n  overLastDropZone: PropTypes.bool\n};\nexport default DropZone;","import React from 'react';\nexport default /*#__PURE__*/React.createElement(\"svg\", {\n  height: \"16\",\n  viewBox: \"0 0 16 16\",\n  width: \"16\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6 11a1 1 0 110 2 1 1 0 010-2zm4 0a1 1 0 110 2 1 1 0 010-2zM6 7a1 1 0 110 2 1 1 0 010-2zm4 0a1 1 0 110 2 1 1 0 010-2zM6 3a1 1 0 110 2 1 1 0 010-2zm4 0a1 1 0 110 2 1 1 0 010-2z\",\n  fill: \"#A0ADBA\",\n  fillRule: \"evenodd\"\n}));","import _JSXStyle from \"styled-jsx/style\";\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport { Tooltip } from '@dhis2/ui';\nimport { useSortable } from '@dnd-kit/sortable';\nimport { CSS } from '@dnd-kit/utilities';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { useState, useRef, useEffect } from 'react';\nimport { DIMENSION_TYPE_DATA_ELEMENT } from '../../../modules/dataTypes.js';\nimport { getIcon } from '../../../modules/dimensionListItem.js';\nimport { EXPRESSION_TYPE_NUMBER, EXPRESSION_TYPE_DATA } from '../../../modules/expressions.js';\nimport DragHandleIcon from './DragHandleIcon.js';\nimport styles from './styles/FormulaItem.style.js';\nconst BEFORE = 'BEFORE';\nconst AFTER = 'AFTER';\nconst maxMsBetweenClicks = 300;\nconst TAG_INPUT = 'INPUT';\nconst FormulaItem = _ref => {\n  let {\n    id,\n    label,\n    value = '',\n    type,\n    isLast,\n    isHighlighted,\n    overLastDropZone,\n    onChange,\n    onClick,\n    onDoubleClick,\n    hasFocus\n  } = _ref;\n  const {\n    attributes,\n    listeners,\n    index,\n    isDragging,\n    over,\n    active,\n    setNodeRef,\n    transform,\n    transition\n  } = useSortable({\n    id,\n    data: {\n      label,\n      type,\n      value\n    }\n  });\n  const inputRef = useRef(null);\n  const [clickTimeoutId, setClickTimeoutId] = useState(null);\n  useEffect(() => {\n    if (hasFocus && inputRef.current) {\n      // setTimeout seems to be needed in order for the cursor\n      // to remain in the input. Without it, the cursor disappears\n      // even though the input still has the focus.\n      setTimeout(() => {\n        inputRef.current.focus();\n      }, 50);\n    }\n  }, [inputRef, hasFocus]);\n  const activeIndex = (active === null || active === void 0 ? void 0 : active.data.current.sortable.index) || -1;\n  const style = transform ? {\n    transform: active ? undefined : CSS.Translate.toString({\n      x: transform.x,\n      y: transform.y,\n      scaleX: 1,\n      scaleY: 1\n    }),\n    transition\n  } : undefined;\n  let insertPosition;\n  if ((over === null || over === void 0 ? void 0 : over.id) === id) {\n    // This item is being hovered over by the item being dragged\n    if (activeIndex === -1) {\n      //The item being dragged came from the expression options\n      // so we will insert after\n      insertPosition = AFTER;\n    } else {\n      // The item being dragged is being moved in the formula\n      // so if the item is before the item being dragged, use the\n      // BEFORE position. Otherwise use the AFTER position\n      insertPosition = index > activeIndex ? AFTER : BEFORE;\n    }\n  } else if (isLast && overLastDropZone) {\n    insertPosition = AFTER;\n  }\n  const handleClick = e => {\n    const tagname = e.target.tagName;\n    clearTimeout(clickTimeoutId);\n    const to = setTimeout(function () {\n      if (tagname !== TAG_INPUT) {\n        onClick(id);\n      } else {\n        inputRef.current && inputRef.current.focus();\n      }\n    }, maxMsBetweenClicks);\n    setClickTimeoutId(to);\n  };\n  const handleDoubleClick = e => {\n    clearTimeout(clickTimeoutId);\n    setClickTimeoutId(null);\n    if (e.target.tagName !== TAG_INPUT) {\n      onDoubleClick(id);\n    } else {\n      inputRef.current && inputRef.current.focus();\n    }\n  };\n  const handleChange = e => onChange({\n    itemId: id,\n    value: e.target.value\n  });\n  const getContent = () => {\n    if (type === EXPRESSION_TYPE_NUMBER) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: `jsx-${styles.__hash}` + \" \" + (cx('content', 'number', {\n          highlighted: isHighlighted\n        }) || \"\")\n      }, DragHandleIcon, /*#__PURE__*/React.createElement(\"span\", {\n        className: `jsx-${styles.__hash}` + \" \" + \"number-positioner\"\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        \"aria-hidden\": \"true\",\n        className: `jsx-${styles.__hash}` + \" \" + \"number-width\"\n      }, value), /*#__PURE__*/React.createElement(\"input\", {\n        id: id,\n        name: label,\n        onChange: handleChange,\n        value: value,\n        type: \"number\",\n        ref: inputRef,\n        className: `jsx-${styles.__hash}` + \" \" + \"input\"\n      })), /*#__PURE__*/React.createElement(_JSXStyle, {\n        id: styles.__hash\n      }, styles));\n    }\n    if (type === EXPRESSION_TYPE_DATA) {\n      return /*#__PURE__*/React.createElement(Tooltip, {\n        content: label,\n        placement: \"bottom\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: `jsx-${styles.__hash}` + \" \" + (cx('content', 'data', {\n          highlighted: isHighlighted\n        }) || \"\")\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: `jsx-${styles.__hash}` + \" \" + \"icon\"\n      }, getIcon(DIMENSION_TYPE_DATA_ELEMENT)), /*#__PURE__*/React.createElement(\"span\", {\n        className: `jsx-${styles.__hash}` + \" \" + \"label\"\n      }, label), /*#__PURE__*/React.createElement(_JSXStyle, {\n        id: styles.__hash\n      }, styles)));\n    }\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: `jsx-${styles.__hash}` + \" \" + (cx('content', 'operator', {\n        highlighted: isHighlighted\n      }) || \"\")\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: `jsx-${styles.__hash}` + \" \" + \"label\"\n    }, label), /*#__PURE__*/React.createElement(_JSXStyle, {\n      id: styles.__hash\n    }, styles));\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    ref: setNodeRef,\n    style: style,\n    className: `jsx-${styles.__hash}` + \" \" + (cx({\n      'last-item': isLast\n    }) || \"\")\n  }, /*#__PURE__*/React.createElement(\"div\", _extends({}, attributes, listeners, {\n    onClick: handleClick,\n    onDoubleClick: handleDoubleClick,\n    \"data-test\": `formula-item-${id}`,\n    className: `jsx-${styles.__hash}` + \" \" + (cx('formula-item', {\n      inactive: !isDragging,\n      insertBefore: insertPosition === BEFORE,\n      insertAfter: insertPosition === AFTER\n    }) || \"\")\n  }), getContent())), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: styles.__hash\n  }, styles));\n};\nFormulaItem.propTypes = {\n  id: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired,\n  type: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n  onClick: PropTypes.func.isRequired,\n  onDoubleClick: PropTypes.func.isRequired,\n  hasFocus: PropTypes.bool,\n  isHighlighted: PropTypes.bool,\n  isLast: PropTypes.bool,\n  overLastDropZone: PropTypes.bool,\n  value: PropTypes.string\n};\nexport default FormulaItem;","import { colors, spacers } from '@dhis2/ui';\nconst _defaultExport = [`.formula-field.jsx-926760428{border-right:2px solid ${colors.grey200};height:180px;overflow:auto;padding:6px 12px;position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;-webkit-align-content:flex-start;-ms-flex-line-pack:start;align-content:flex-start;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;gap:${spacers.dp4} ${spacers.dp8};width:100%;}`, \".container.jsx-926760428{position:relative;}\", `.border.jsx-926760428{position:absolute;top:0;left:6px;height:180px;width:calc(100% - 6px);border-left:2px solid ${colors.grey200};border-top:2px solid ${colors.grey200};border-bottom:2px solid ${colors.grey200};}`, `.placeholder.jsx-926760428{height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:${spacers.dp8};-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-top:-28px;padding:0 ${spacers.dp32};}`, `.help-text.jsx-926760428{color:${colors.grey600};font-size:14px;line-height:19px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}`];\n_defaultExport.__hash = \"926760428\";\nexport default _defaultExport;","import _JSXStyle from \"styled-jsx/style\";\nimport i18n from '@dhis2/d2-i18n';\nimport { Center, CircularLoader } from '@dhis2/ui';\nimport { useDroppable } from '@dnd-kit/core';\nimport { SortableContext } from '@dnd-kit/sortable';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport FormulaIcon from '../../../assets/FormulaIcon.js';\nimport DropZone from './DropZone.js';\nimport FormulaItem from './FormulaItem.js';\nimport styles from './styles/FormulaField.style.js';\nexport const LAST_DROPZONE_ID = 'lastdropzone';\nexport const FORMULA_BOX_ID = 'formulabox';\nconst Placeholder = () => /*#__PURE__*/React.createElement(\"div\", {\n  \"data-test\": \"placeholder\",\n  className: `jsx-${styles.__hash}` + \" \" + \"placeholder\"\n}, /*#__PURE__*/React.createElement(FormulaIcon, null), /*#__PURE__*/React.createElement(\"span\", {\n  className: `jsx-${styles.__hash}` + \" \" + \"help-text\"\n}, i18n.t('Drag items here, or double click in the list, to start building a calculation formula')), /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: styles.__hash\n}, styles));\nconst FormulaField = _ref => {\n  let {\n    items = [],\n    selectedItemId,\n    focusItemId,\n    onChange,\n    onClick,\n    onDoubleClick,\n    loading\n  } = _ref;\n  const {\n    over,\n    setNodeRef: setLastDropzoneRef\n  } = useDroppable({\n    id: LAST_DROPZONE_ID\n  });\n  const itemIds = items.map(item => item.id);\n  const overLastDropZone = (over === null || over === void 0 ? void 0 : over.id) === LAST_DROPZONE_ID;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"container\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"border\"\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    ref: setLastDropzoneRef,\n    \"data-test\": \"formula-field\",\n    className: `jsx-${styles.__hash}` + \" \" + \"formula-field\"\n  }, loading && /*#__PURE__*/React.createElement(Center, null, /*#__PURE__*/React.createElement(CircularLoader, {\n    small: true\n  })), !loading && itemIds && /*#__PURE__*/React.createElement(SortableContext, {\n    id: FORMULA_BOX_ID,\n    items: itemIds\n  }, /*#__PURE__*/React.createElement(DropZone, {\n    firstElementId: itemIds[0],\n    overLastDropZone: overLastDropZone\n  }), !items.length && /*#__PURE__*/React.createElement(Placeholder, null), Boolean(items.length) && items.map((_ref2, index) => {\n    let {\n      id,\n      label,\n      type,\n      value\n    } = _ref2;\n    return /*#__PURE__*/React.createElement(FormulaItem, {\n      key: id,\n      id: id,\n      label: label,\n      type: type,\n      value: value,\n      hasFocus: focusItemId === id,\n      isHighlighted: selectedItemId === id,\n      isLast: index === items.length - 1,\n      onChange: onChange,\n      onClick: onClick,\n      onDoubleClick: onDoubleClick,\n      overLastDropZone: overLastDropZone\n    });\n  }))), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: styles.__hash\n  }, styles));\n};\nFormulaField.propTypes = {\n  onChange: PropTypes.func.isRequired,\n  onClick: PropTypes.func.isRequired,\n  onDoubleClick: PropTypes.func.isRequired,\n  focusItemId: PropTypes.string,\n  items: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.string,\n    label: PropTypes.string,\n    type: PropTypes.string,\n    value: PropTypes.string\n  })),\n  loading: PropTypes.bool,\n  selectedItemId: PropTypes.string\n};\nexport default FormulaField;","import { colors, spacers } from '@dhis2/ui';\nconst _defaultExport = [`.number.jsx-2117397001{padding:0 ${spacers.dp8};}`, `.operator.jsx-2117397001:hover,.number.jsx-2117397001:hover{background:${colors.grey300};}`];\n_defaultExport.__hash = \"2117397001\";\nexport default _defaultExport;","import _JSXStyle from \"styled-jsx/style\";\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport { useSortable } from '@dnd-kit/sortable';\nimport { CSS } from '@dnd-kit/utilities';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { EXPRESSION_TYPE_NUMBER, EXPRESSION_TYPE_OPERATOR } from '../../../modules/expressions.js';\nimport formulaItemStyles from './styles/FormulaItem.style.js';\nimport styles from './styles/Operator.style.js';\nconst Operator = _ref => {\n  let {\n    label,\n    value,\n    type,\n    onDoubleClick\n  } = _ref;\n  const data = {\n    label,\n    value,\n    type\n  };\n  const {\n    attributes,\n    listeners,\n    setNodeRef,\n    transform\n  } = useSortable({\n    id: `operator-${label}`,\n    data\n  });\n  const style = {\n    transform: CSS.Translate.toString(transform)\n  };\n  return /*#__PURE__*/React.createElement(\"div\", _extends({}, attributes, listeners, {\n    ref: setNodeRef,\n    style: style,\n    className: `jsx-${formulaItemStyles.__hash} jsx-${styles.__hash}` + \" \" + (listeners && listeners.className != null && listeners.className || attributes && attributes.className != null && attributes.className || \"\")\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": \"operator\",\n    onDoubleClick: () => onDoubleClick(data),\n    className: `jsx-${formulaItemStyles.__hash} jsx-${styles.__hash}` + \" \" + (cx('content', {\n      operator: type === EXPRESSION_TYPE_OPERATOR,\n      number: type === EXPRESSION_TYPE_NUMBER\n    }) || \"\")\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: `jsx-${formulaItemStyles.__hash} jsx-${styles.__hash}`\n  }, label)), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: formulaItemStyles.__hash\n  }, formulaItemStyles), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: styles.__hash\n  }, styles));\n};\nOperator.propTypes = {\n  label: PropTypes.string.isRequired,\n  type: PropTypes.string.isRequired,\n  value: PropTypes.string.isRequired,\n  onDoubleClick: PropTypes.func.isRequired\n};\nexport default Operator;","import { colors, spacers } from '@dhis2/ui';\nconst _defaultExport = [`.wrapper.jsx-1314592703{border:1px solid ${colors.grey400};margin-top:${spacers.dp8};}`, `.operators.jsx-1314592703{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;gap:${spacers.dp4};padding:${spacers.dp4};border-top:1px solid ${colors.grey400};}`, `.sub-header.jsx-1314592703{font-size:14px;font-weight:normal;margin:${spacers.dp4} ${spacers.dp8};}`];\n_defaultExport.__hash = \"1314592703\";\nexport default _defaultExport;","import _JSXStyle from \"styled-jsx/style\";\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport i18n from '../../../locales/index.js';\nimport { getOperators } from '../../../modules/expressions.js';\nimport DraggableOperator from './Operator.js';\nimport styles from './styles/MathOperatorSelector.style.js';\nconst MathOperatorSelector = _ref => {\n  let {\n    onDoubleClick\n  } = _ref;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"wrapper\"\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"sub-header\"\n  }, i18n.t('Math operators')), /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": \"operators-list\",\n    className: `jsx-${styles.__hash}` + \" \" + \"operators\"\n  }, getOperators().map((_ref2, index) => {\n    let {\n      label,\n      value,\n      type\n    } = _ref2;\n    return /*#__PURE__*/React.createElement(DraggableOperator, {\n      key: `${label}-${index}`,\n      label: label,\n      value: value,\n      type: type,\n      index: index,\n      onDoubleClick: onDoubleClick\n    });\n  }))), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: styles.__hash\n  }, styles));\n};\nMathOperatorSelector.propTypes = {\n  onDoubleClick: PropTypes.func.isRequired\n};\nexport default MathOperatorSelector;","import { colors, spacers } from '@dhis2/ui';\nconst _defaultExport = [`.header.jsx-1005744271{background:${colors.grey200};padding:${spacers.dp16};font-weight:normal;}`, `.header-icon.jsx-1005744271{padding:0 ${spacers.dp8};vertical-align:text-bottom;line-height:14px;}`, `.actions-wrapper.jsx-1005744271{margin-top:${spacers.dp16};margin-bottom:${spacers.dp16};margin-left:${spacers.dp4};}`, \".button-container.jsx-1005744271{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;}\", `.validate-button.jsx-1005744271{margin-bottom:${spacers.dp4};}`, `.remove-button.jsx-1005744271{margin-right:${spacers.dp8};}`, `.delete-button.jsx-1005744271{margin-right:${spacers.dp8};}`, \".content.jsx-1005744271{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}\", \".left-section.jsx-1005744271{width:45%;}\", `.right-section.jsx-1005744271{width:55%;padding-left:${spacers.dp8};font-size:14px;}`, `.validation-message.jsx-1005744271{margin-left:${spacers.dp8};}`, `.validation-error.jsx-1005744271{color:${colors.red500};}`, `.validation-success.jsx-1005744271{color:${colors.green500};}`, `.name-input.jsx-1005744271{margin-top:${spacers.dp12};}`];\n_defaultExport.__hash = \"1005744271\";\nexport default _defaultExport;","import _JSXStyle from \"styled-jsx/style\";\nimport { useAlert, useDataMutation, useDataQuery } from '@dhis2/app-runtime';\nimport { Button, Modal, ModalTitle, ModalContent, ModalActions, ButtonStrip, InputField } from '@dhis2/ui';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { useEffect, useState } from 'react';\nimport { createCalculationMutation, deleteCalculationMutation, updateCalculationMutation, validateExpressionMutation } from '../../../api/expression.js';\nimport i18n from '../../../locales/index.js';\nimport { parseExpressionToArray, parseArrayToExpression, validateExpression, EXPRESSION_TYPE_DATA, EXPRESSION_TYPE_NUMBER, INVALID_EXPRESSION, VALID_EXPRESSION, getItemIdsFromExpression } from '../../../modules/expressions.js';\nimport { OfflineTooltip as Tooltip } from '../../OfflineTooltip.js';\nimport DataElementSelector from './DataElementSelector.js';\nimport DndContext, { OPTIONS_PANEL } from './DndContext.js';\nimport FormulaField, { LAST_DROPZONE_ID, FORMULA_BOX_ID } from './FormulaField.js';\nimport MathOperatorSelector from './MathOperatorSelector.js';\nimport styles from './styles/CalculationModal.style.js';\nconst FIRST_POSITION = 0;\nconst LAST_POSITION = -1;\nconst CalculationModal = _ref => {\n  let {\n    calculation,\n    onSave,\n    onClose,\n    onDelete,\n    displayNameProp\n  } = _ref;\n  const {\n    show: showError\n  } = useAlert(error => error, {\n    critical: true\n  });\n  const mutationParams = {\n    onError: error => showError(error)\n  };\n  const [createCalculation, {\n    loading: isCreatingCalculation\n  }] = useDataMutation(createCalculationMutation, mutationParams);\n  const [updateCalculation, {\n    loading: isUpdatingCalculation\n  }] = useDataMutation(updateCalculationMutation, mutationParams);\n  const [deleteCalculation, {\n    loading: isDeletingCalculation\n  }] = useDataMutation(deleteCalculationMutation, mutationParams);\n  const [doBackendValidation, {\n    loading: isValidating\n  }] = useDataMutation(validateExpressionMutation, {\n    onError: error => showError(error)\n  });\n  const query = {\n    dataElements: {\n      resource: 'dataElements',\n      params: _ref2 => {\n        let {\n          ids = []\n        } = _ref2;\n        return {\n          fields: `id,${displayNameProp}~rename(name)`,\n          filter: `id:in:[${ids.join(',')}]`,\n          paging: false\n        };\n      }\n    },\n    dataElementOperands: {\n      resource: 'dataElementOperands',\n      params: _ref3 => {\n        let {\n          ids = []\n        } = _ref3;\n        return {\n          fields: `id,${displayNameProp}~rename(name)`,\n          filter: `id:in:[${ids.join(',')}]`,\n          paging: false\n        };\n      }\n    }\n  };\n  const {\n    data,\n    refetch\n  } = useDataQuery(query, {\n    lazy: true\n  });\n  useEffect(() => {\n    const ids = getItemIdsFromExpression(calculation.expression);\n\n    // only fetch data if there are ids\n    if (ids !== null && ids !== void 0 && ids.length) {\n      refetch({\n        ids\n      });\n    } else {\n      setExpressionArray(parseExpressionToArray(calculation.expression).map((item, i) => ({\n        ...item,\n        id: `${item.type}-${-i}`\n      })));\n    }\n  }, [refetch, calculation.expression]);\n  useEffect(() => {\n    if (data) {\n      var _data$dataElements, _data$dataElementOper;\n      const metadata = [...(((_data$dataElements = data.dataElements) === null || _data$dataElements === void 0 ? void 0 : _data$dataElements.dataElements) || []), ...(((_data$dataElementOper = data.dataElementOperands) === null || _data$dataElementOper === void 0 ? void 0 : _data$dataElementOper.dataElementOperands) || [])];\n      setExpressionArray(parseExpressionToArray(calculation.expression, metadata).map((item, i) => ({\n        ...item,\n        id: `${item.type}-${-i}`\n      })));\n    }\n  }, [data, calculation.expression]);\n  const [newIdCount, setNewIdCount] = useState(1);\n  const [validationOutput, setValidationOutput] = useState(null);\n  const [expressionArray, setExpressionArray] = useState();\n  const [name, setName] = useState(calculation.name);\n  const [showDeletePrompt, setShowDeletePrompt] = useState(false);\n  const [isSavingCalculation, setIsSavingCalculation] = useState();\n  const [focusItemId, setFocusItemId] = useState(null);\n  const [selectedItemId, setSelectedItemId] = useState(null);\n  const expressionStatus = validationOutput === null || validationOutput === void 0 ? void 0 : validationOutput.status;\n  const selectItem = itemId => setSelectedItemId(prevSelected => prevSelected !== itemId ? itemId : null);\n  const isLoading = isCreatingCalculation || isUpdatingCalculation || isDeletingCalculation || isSavingCalculation || isValidating;\n  const addItem = _ref4 => {\n    let {\n      label,\n      value,\n      type,\n      destIndex = LAST_POSITION\n    } = _ref4;\n    if (isLoading) {\n      return null;\n    }\n    setValidationOutput();\n    const newItem = {\n      id: `${type}-${newIdCount}`,\n      value: type === EXPRESSION_TYPE_DATA ? `#{${value}}` : value,\n      label,\n      type\n    };\n    setNewIdCount(newIdCount + 1);\n    if (destIndex === LAST_POSITION) {\n      setExpressionArray(prevArray => prevArray.concat([newItem]));\n    } else if (destIndex === FIRST_POSITION) {\n      setExpressionArray(prevArray => [newItem].concat(prevArray));\n    } else {\n      const items = Array.from(expressionArray);\n      const newFormulaItems = [...items.slice(0, destIndex), newItem, ...items.slice(destIndex)];\n      setExpressionArray(newFormulaItems);\n    }\n    if (newItem.type === EXPRESSION_TYPE_NUMBER) {\n      setFocusItemId(newItem.id);\n    }\n  };\n  const moveItem = _ref5 => {\n    let {\n      sourceIndex,\n      destIndex\n    } = _ref5;\n    if (isLoading) {\n      return null;\n    }\n    setValidationOutput();\n    const sourceList = Array.from(expressionArray);\n    const [moved] = sourceList.splice(sourceIndex, 1);\n    sourceList.splice(destIndex, 0, moved);\n    setExpressionArray(sourceList);\n  };\n  const setItemValue = _ref6 => {\n    let {\n      itemId,\n      value\n    } = _ref6;\n    const updatedItems = expressionArray.map(item => item.id === itemId ? Object.assign({}, item, {\n      value\n    }) : item);\n    setExpressionArray(updatedItems);\n  };\n  const removeItem = itemId => {\n    if (!isLoading && itemId !== null) {\n      setValidationOutput();\n      const index = expressionArray.findIndex(item => item.id === itemId);\n      const sourceList = Array.from(expressionArray);\n      sourceList.splice(index, 1);\n      setExpressionArray(sourceList);\n      setSelectedItemId(null);\n    }\n  };\n  const addOrMoveDraggedItem = _ref7 => {\n    let {\n      item,\n      destination\n    } = _ref7;\n    const destContainerId = destination.containerId;\n    let destIndex = FIRST_POSITION;\n    if (item.sourceContainerId === OPTIONS_PANEL) {\n      if (destContainerId === LAST_DROPZONE_ID) {\n        destIndex = LAST_POSITION;\n      } else if (destContainerId === FORMULA_BOX_ID) {\n        destIndex = destination.index + 1;\n      }\n      addItem({\n        ...item.data,\n        destIndex\n      });\n    } else {\n      if (destContainerId === LAST_DROPZONE_ID) {\n        destIndex = expressionArray.length;\n      } else if (destContainerId === FORMULA_BOX_ID) {\n        destIndex = destination.index;\n      }\n      moveItem({\n        sourceIndex: item.sourceIndex,\n        destIndex\n      });\n    }\n  };\n  const validate = async () => {\n    var _result;\n    setValidationOutput();\n    const expression = parseArrayToExpression(expressionArray);\n    let result = validateExpression(expression);\n    if (!result) {\n      result = await doBackendValidation({\n        expression\n      });\n    }\n    setValidationOutput(result);\n    return (_result = result) === null || _result === void 0 ? void 0 : _result.status;\n  };\n  const onSaveClick = async () => {\n    setIsSavingCalculation(true);\n    let status = expressionStatus;\n    if (status !== VALID_EXPRESSION) {\n      status = await validate();\n    }\n    if (status === VALID_EXPRESSION) {\n      var _response;\n      let response;\n      const expression = parseArrayToExpression(expressionArray);\n      if (calculation.id) {\n        response = await updateCalculation({\n          id: calculation.id,\n          name,\n          expression\n        });\n      } else {\n        response = await createCalculation({\n          name,\n          expression\n        });\n      }\n      onSave({\n        id: calculation.id || ((_response = response) === null || _response === void 0 ? void 0 : _response.response.uid),\n        name,\n        isNew: !calculation.id,\n        expression\n      });\n    }\n    setIsSavingCalculation(false);\n  };\n  const onDeleteClick = async () => {\n    setShowDeletePrompt();\n    await deleteCalculation({\n      id: calculation.id\n    });\n    onDelete({\n      id: calculation.id\n    });\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Modal, {\n    dataTest: \"calculation-modal\",\n    position: \"top\",\n    large: true\n  }, /*#__PURE__*/React.createElement(ModalTitle, {\n    dataTest: \"calculation-modal-title\"\n  }, calculation.id ? i18n.t('Data / Edit calculation') : i18n.t('Data / New calculation')), /*#__PURE__*/React.createElement(ModalContent, {\n    dataTest: \"calculation-modal-content\"\n  }, /*#__PURE__*/React.createElement(DndContext, {\n    onDragStart: () => setFocusItemId(null),\n    onDragEnd: addOrMoveDraggedItem\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"content\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"left-section\"\n  }, /*#__PURE__*/React.createElement(DataElementSelector, {\n    displayNameProp: displayNameProp,\n    onDoubleClick: addItem\n  }), /*#__PURE__*/React.createElement(MathOperatorSelector, {\n    onDoubleClick: addItem\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"right-section\"\n  }, /*#__PURE__*/React.createElement(FormulaField, {\n    items: expressionArray,\n    selectedItemId: selectedItemId,\n    focusItemId: focusItemId,\n    onChange: setItemValue,\n    onClick: selectItem,\n    onDoubleClick: removeItem,\n    loading: !expressionArray,\n    disabled: isLoading\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"actions-wrapper\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"button-container\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"remove-button\"\n  }, /*#__PURE__*/React.createElement(Button, {\n    small: true,\n    secondary: true,\n    onClick: () => removeItem(selectedItemId),\n    dataTest: \"remove-button\",\n    disabled: !selectedItemId\n  }, i18n.t('Remove item'))), /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"validate-button\"\n  }, /*#__PURE__*/React.createElement(Button, {\n    small: true,\n    secondary: true,\n    onClick: validate,\n    dataTest: \"validate-button\",\n    loading: isValidating,\n    disabled: isLoading\n  }, i18n.t('Check formula')))), /*#__PURE__*/React.createElement(\"span\", {\n    \"data-test\": \"validation-message\",\n    className: `jsx-${styles.__hash}` + \" \" + (cx('validation-message', {\n      'validation-error': expressionStatus === INVALID_EXPRESSION,\n      'validation-success': expressionStatus === VALID_EXPRESSION\n    }) || \"\")\n  }, validationOutput === null || validationOutput === void 0 ? void 0 : validationOutput.message), /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"name-input\"\n  }, /*#__PURE__*/React.createElement(InputField, {\n    label: i18n.t('Calculation name'),\n    helpText: i18n.t('Shown in table headers and chart axes/legends'),\n    onChange: _ref8 => {\n      let {\n        value\n      } = _ref8;\n      return setName(value.substr(0, 50));\n    },\n    value: name,\n    dataTest: \"calculation-label\",\n    dense: true\n  }))))))), /*#__PURE__*/React.createElement(ModalActions, {\n    dataTest: \"calculation-modal-actions\"\n  }, /*#__PURE__*/React.createElement(ButtonStrip, null, calculation.id && /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"delete-button\"\n  }, /*#__PURE__*/React.createElement(Button, {\n    secondary: true,\n    onClick: () => setShowDeletePrompt(true),\n    dataTest: \"delete-button\",\n    loading: isDeletingCalculation,\n    disabled: isUpdatingCalculation\n  }, i18n.t('Delete calculation'))), /*#__PURE__*/React.createElement(Button, {\n    secondary: true,\n    onClick: onClose,\n    disabled: isLoading,\n    dataTest: \"cancel-button\"\n  }, i18n.t('Cancel')), /*#__PURE__*/React.createElement(Tooltip, {\n    content: expressionStatus === INVALID_EXPRESSION ? i18n.t('The calculation can only be saved with a valid formula') : i18n.t('Add a name to save this calculation'),\n    disabled: expressionStatus === INVALID_EXPRESSION || !name,\n    disabledWhenOffline: false\n  }, /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    onClick: onSaveClick,\n    disabled: expressionStatus === INVALID_EXPRESSION || !name || isDeletingCalculation || isValidating,\n    loading: isCreatingCalculation || isUpdatingCalculation || isSavingCalculation,\n    dataTest: \"save-button\"\n  }, i18n.t('Save calculation')))))), showDeletePrompt && /*#__PURE__*/React.createElement(Modal, {\n    small: true,\n    dataTest: \"calculation-delete-modal\"\n  }, /*#__PURE__*/React.createElement(ModalTitle, null, i18n.t('Delete calculation')), /*#__PURE__*/React.createElement(ModalContent, null, i18n.t('Are you sure you want to delete this calculation? It may be used by other visualizations.')), /*#__PURE__*/React.createElement(ModalActions, null, /*#__PURE__*/React.createElement(ButtonStrip, {\n    end: true\n  }, /*#__PURE__*/React.createElement(Button, {\n    secondary: true,\n    onClick: () => setShowDeletePrompt()\n  }, i18n.t('Cancel')), /*#__PURE__*/React.createElement(Button, {\n    onClick: onDeleteClick,\n    destructive: true\n  }, i18n.t('Yes, delete'))))), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: styles.__hash\n  }, styles));\n};\nCalculationModal.propTypes = {\n  displayNameProp: PropTypes.string.isRequired,\n  onClose: PropTypes.func.isRequired,\n  onDelete: PropTypes.func.isRequired,\n  onSave: PropTypes.func.isRequired,\n  calculation: PropTypes.shape({\n    expression: PropTypes.string,\n    id: PropTypes.string,\n    name: PropTypes.string\n  })\n};\nCalculationModal.defaultProps = {\n  calculation: {}\n};\nexport default CalculationModal;","import { spacers } from '@dhis2/ui';\nconst _defaultExport = [`.container.jsx-3368926978{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:column;-ms-flex-flow:column;flex-flow:column;border-bottom:0;padding:${spacers.dp12} 0 0;}`];\n_defaultExport.__hash = \"3368926978\";\nexport default _defaultExport;","import _JSXStyle from \"styled-jsx/style\";\nimport { SingleSelectField, SingleSelectOption } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { DIMENSION_TYPE_ALL, dataTypeMap as dataTypes, DIMENSION_TYPE_EXPRESSION_DIMENSION_ITEM } from '../../modules/dataTypes.js';\nimport styles from './styles/DataTypeSelector.style.js';\nconst DataTypeSelector = _ref => {\n  var _dataTypes$currentDat;\n  let {\n    currentDataType,\n    onChange,\n    dataTest,\n    includeCalculations\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"container\"\n  }, /*#__PURE__*/React.createElement(SingleSelectField, {\n    label: i18n.t('Data Type'),\n    dataTest: dataTest,\n    selected: ((_dataTypes$currentDat = dataTypes[currentDataType]) === null || _dataTypes$currentDat === void 0 ? void 0 : _dataTypes$currentDat.id) || DIMENSION_TYPE_ALL,\n    onChange: ref => onChange(ref.selected),\n    dense: true\n  }, /*#__PURE__*/React.createElement(SingleSelectOption, {\n    value: DIMENSION_TYPE_ALL,\n    key: DIMENSION_TYPE_ALL,\n    label: i18n.t('All types'),\n    dataTest: `${dataTest}-option-all`\n  }), Object.values(dataTypes).filter(type => type.id !== DIMENSION_TYPE_EXPRESSION_DIMENSION_ITEM || includeCalculations).map(type => /*#__PURE__*/React.createElement(SingleSelectOption, {\n    value: type.id,\n    key: type.id,\n    label: type.getName(),\n    dataTest: `${dataTest}-option-${type.id}`\n  }))), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: styles.__hash\n  }, styles));\n};\nDataTypeSelector.propTypes = {\n  currentDataType: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n  dataTest: PropTypes.string,\n  includeCalculations: PropTypes.bool\n};\nexport default DataTypeSelector;","import { spacers } from '@dhis2/ui';\nconst _defaultExport = [`.detail-container.jsx-2733301753{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:column;-ms-flex-flow:column;flex-flow:column;padding-left:${spacers.dp4};width:40%;}`];\n_defaultExport.__hash = \"2733301753\";\nexport default _defaultExport;","import _JSXStyle from \"styled-jsx/style\";\nimport { SingleSelectField, SingleSelectOption } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { TOTALS, DETAIL } from '../../modules/dataTypes.js';\nimport styles from './styles/DetailSelector.style.js';\nconst getOptions = () => ({\n  [TOTALS]: i18n.t('Totals only'),\n  [DETAIL]: i18n.t('Details only')\n});\nexport const DetailSelector = _ref => {\n  let {\n    currentValue,\n    onChange,\n    dataTest\n  } = _ref;\n  const options = getOptions();\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"detail-container\"\n  }, /*#__PURE__*/React.createElement(SingleSelectField, {\n    dataTest: dataTest,\n    label: i18n.t('Disaggregation'),\n    selected: currentValue,\n    onChange: ref => onChange(ref.selected),\n    dense: true\n  }, Object.entries(options).map(option => /*#__PURE__*/React.createElement(SingleSelectOption, {\n    value: option[0],\n    key: option[0],\n    label: option[1],\n    dataTest: `${dataTest}-option-${option[0]}`\n  }))), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: styles.__hash\n  }, styles));\n};\nDetailSelector.propTypes = {\n  currentValue: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n  dataTest: PropTypes.string\n};\nexport default DetailSelector;","import { spacers } from '@dhis2/ui';\nconst _defaultExport = [`.metric-container.jsx-3752467532{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:column;-ms-flex-flow:column;flex-flow:column;padding-left:${spacers.dp4};width:50%;}`];\n_defaultExport.__hash = \"3752467532\";\nexport default _defaultExport;","import _JSXStyle from \"styled-jsx/style\";\nimport { SingleSelectField, SingleSelectOption } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { DATA_SETS_CONSTANTS } from '../../modules/dataSets.js';\nimport { DIMENSION_TYPE_ALL } from '../../modules/dataTypes.js';\nimport styles from './styles/MetricSelector.style.js';\nexport const MetricSelector = _ref => {\n  let {\n    currentValue,\n    onChange,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"metric-container\"\n  }, /*#__PURE__*/React.createElement(SingleSelectField, {\n    label: i18n.t('Metric type'),\n    selected: currentValue || DIMENSION_TYPE_ALL,\n    onChange: ref => onChange(ref.selected),\n    dense: true,\n    dataTest: dataTest\n  }, /*#__PURE__*/React.createElement(SingleSelectOption, {\n    value: DIMENSION_TYPE_ALL,\n    key: DIMENSION_TYPE_ALL,\n    label: i18n.t('All metrics'),\n    dataTest: `${dataTest}-option-${DIMENSION_TYPE_ALL}`\n  }), DATA_SETS_CONSTANTS.map(option => /*#__PURE__*/React.createElement(SingleSelectOption, {\n    value: option.id,\n    key: option.id,\n    label: option.getName(),\n    dataTest: `${dataTest}-option-${option.id}`\n  }))), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: styles.__hash\n  }, styles));\n};\nMetricSelector.propTypes = {\n  onChange: PropTypes.func.isRequired,\n  currentValue: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default MetricSelector;","import { spacers } from '@dhis2/ui';\nconst _defaultExport = [`.container.jsx-2205421678{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;min-height:53px;padding-left:${spacers.dp16};margin-top:${spacers.dp12};}`, \".group-container.jsx-2205421678{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}\"];\n_defaultExport.__hash = \"2205421678\";\nexport default _defaultExport;","import _JSXStyle from \"styled-jsx/style\";\nimport { useDataEngine } from '@dhis2/app-runtime';\nimport { SingleSelectField, SingleSelectOption } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useEffect, useState } from 'react';\nimport { apiFetchGroups } from '../../api/dimensions.js';\nimport i18n from '../../locales/index.js';\nimport { dataTypeMap as dataTypes, SUB_GROUP_DETAIL, SUB_GROUP_METRIC } from '../../modules/dataTypes.js';\nimport { DetailSelector } from './DetailSelector.js';\nimport { MetricSelector } from './MetricSelector.js';\nimport styles from './styles/GroupSelector.style.js';\nconst GroupSelector = _ref => {\n  var _dataTypes$dataType, _dataTypes$dataType2, _dataTypes$dataType3, _dataTypes$dataType4, _dataTypes$dataType5, _dataTypes$dataType6, _dataTypes$dataType7;\n  let {\n    dataType,\n    currentGroup,\n    onGroupChange,\n    dataTest,\n    displayNameProp,\n    currentSubGroup,\n    onSubGroupChange\n  } = _ref;\n  const dataEngine = useDataEngine();\n  const [groups, setGroups] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const defaultGroup = (_dataTypes$dataType = dataTypes[dataType]) === null || _dataTypes$dataType === void 0 ? void 0 : _dataTypes$dataType.defaultGroup;\n  const subGroupType = (_dataTypes$dataType2 = dataTypes[dataType]) === null || _dataTypes$dataType2 === void 0 ? void 0 : _dataTypes$dataType2.subGroup;\n  const fetchGroups = async () => {\n    setIsLoading(true);\n    const result = await apiFetchGroups(dataEngine, dataType, displayNameProp);\n    setGroups(result);\n    setIsLoading(false);\n  };\n  useEffect(() => {\n    fetchGroups();\n  }, [dataType]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"container\"\n  }, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: styles.__hash\n  }, styles), /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"group-container\"\n  }, /*#__PURE__*/React.createElement(SingleSelectField, {\n    label: (_dataTypes$dataType3 = dataTypes[dataType]) === null || _dataTypes$dataType3 === void 0 ? void 0 : _dataTypes$dataType3.getGroupLabel(),\n    dataTest: `${dataTest}-groups-select-field`,\n    selected: currentGroup || defaultGroup.id,\n    placeholder: !currentGroup && (_dataTypes$dataType4 = dataTypes[dataType]) !== null && _dataTypes$dataType4 !== void 0 && _dataTypes$dataType4.getPlaceholder ? dataTypes[dataType].getPlaceholder() : null,\n    onChange: ref => onGroupChange(ref.selected),\n    dense: true,\n    empty: ((_dataTypes$dataType5 = dataTypes[dataType]) === null || _dataTypes$dataType5 === void 0 ? void 0 : _dataTypes$dataType5.getGroupEmptyLabel()) || i18n.t('No data'),\n    loadingText: ((_dataTypes$dataType6 = dataTypes[dataType]) === null || _dataTypes$dataType6 === void 0 ? void 0 : _dataTypes$dataType6.getGroupLoadingLabel()) || i18n.t('Loading'),\n    loading: isLoading\n  }, (_dataTypes$dataType7 = dataTypes[dataType]) !== null && _dataTypes$dataType7 !== void 0 && _dataTypes$dataType7.defaultGroup ? /*#__PURE__*/React.createElement(SingleSelectOption, {\n    value: defaultGroup.id,\n    key: defaultGroup.id,\n    label: defaultGroup.getName(),\n    dataTest: `${dataTest}-groups-select-field-option-${defaultGroup.id}`\n  }) : null, !isLoading ? groups.map(item => /*#__PURE__*/React.createElement(SingleSelectOption, {\n    value: item.id,\n    key: item.id,\n    label: item.name,\n    dataTest: `${dataTest}-groups-select-field-option-${item.id}`\n  })) : null)), subGroupType === SUB_GROUP_DETAIL && /*#__PURE__*/React.createElement(DetailSelector, {\n    currentValue: currentSubGroup,\n    onChange: onSubGroupChange,\n    dataTest: `${dataTest}-sub-group-select-field`\n  }), subGroupType === SUB_GROUP_METRIC && /*#__PURE__*/React.createElement(MetricSelector, {\n    currentValue: currentSubGroup,\n    onChange: onSubGroupChange,\n    dataTest: `${dataTest}-sub-group-select-field`\n  }));\n};\nGroupSelector.propTypes = {\n  dataType: PropTypes.string.isRequired,\n  displayNameProp: PropTypes.string.isRequired,\n  onGroupChange: PropTypes.func.isRequired,\n  onSubGroupChange: PropTypes.func.isRequired,\n  currentGroup: PropTypes.string,\n  currentSubGroup: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default GroupSelector;","import _JSXStyle from \"styled-jsx/style\";\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport { useDataEngine } from '@dhis2/app-runtime';\nimport { Transfer, InputField, IconInfo16, Button, IconAdd24 } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport { apiFetchOptions } from '../../api/dimensions.js';\nimport i18n from '../../locales/index.js';\nimport { DATA_SETS_CONSTANTS, REPORTING_RATE } from '../../modules/dataSets.js';\nimport { dataTypeMap as dataTypes, DIMENSION_TYPE_ALL, DIMENSION_TYPE_DATA_ELEMENT, DIMENSION_TYPE_DATA_SET, DIMENSION_TYPE_EVENT_DATA_ITEM, DIMENSION_TYPE_PROGRAM_INDICATOR, DIMENSION_TYPE_INDICATOR, TOTALS, DIMENSION_TYPE_EXPRESSION_DIMENSION_ITEM } from '../../modules/dataTypes.js';\nimport { getIcon, getTooltipText } from '../../modules/dimensionListItem.js';\nimport { TRANSFER_HEIGHT, TRANSFER_OPTIONS_WIDTH, TRANSFER_SELECTED_WIDTH } from '../../modules/dimensionSelectorHelper.js';\nimport { useDebounce, useDidUpdateEffect } from '../../modules/utils.js';\nimport styles from '../styles/DimensionSelector.style.js';\nimport { TransferOption } from '../TransferOption.js';\nimport CalculationModal from './Calculation/CalculationModal.js';\nimport DataTypeSelector from './DataTypeSelector.js';\nimport GroupSelector from './GroupSelector.js';\nconst LeftHeader = _ref => {\n  let {\n    searchTerm,\n    setSearchTerm,\n    dataType,\n    setDataType,\n    group,\n    setGroup,\n    subGroup,\n    setSubGroup,\n    displayNameProp,\n    dataTest,\n    supportsEDI\n  } = _ref;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"leftHeader\"\n  }, /*#__PURE__*/React.createElement(InputField, {\n    value: searchTerm,\n    onChange: _ref2 => {\n      let {\n        value\n      } = _ref2;\n      return setSearchTerm(value);\n    },\n    placeholder: i18n.t('Search by data item name'),\n    dataTest: `${dataTest}-filter-input-field`,\n    dense: true,\n    initialFocus: true,\n    type: 'search'\n  }), /*#__PURE__*/React.createElement(DataTypeSelector, {\n    currentDataType: dataType,\n    onChange: setDataType,\n    dataTest: `${dataTest}-data-types-select-field`,\n    includeCalculations: supportsEDI\n  }), dataTypes[dataType] && dataType !== DIMENSION_TYPE_EXPRESSION_DIMENSION_ITEM && /*#__PURE__*/React.createElement(GroupSelector, {\n    dataType: dataType,\n    displayNameProp: displayNameProp,\n    currentGroup: group,\n    onGroupChange: setGroup,\n    currentSubGroup: subGroup,\n    onSubGroupChange: setSubGroup,\n    dataTest: dataTest\n  })), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: styles.__hash\n  }, styles));\n};\nLeftHeader.propTypes = {\n  dataTest: PropTypes.string,\n  dataType: PropTypes.string,\n  displayNameProp: PropTypes.string,\n  group: PropTypes.string,\n  searchTerm: PropTypes.string,\n  setDataType: PropTypes.func,\n  setGroup: PropTypes.func,\n  setSearchTerm: PropTypes.func,\n  setSubGroup: PropTypes.func,\n  subGroup: PropTypes.string,\n  supportsEDI: PropTypes.bool\n};\nconst EmptySelection = () => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"p\", {\n  className: `jsx-${styles.__hash}` + \" \" + \"emptyList\"\n}, i18n.t('No items selected')), /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: styles.__hash\n}, styles));\nconst RightHeader = _ref3 => {\n  let {\n    infoText\n  } = _ref3;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"p\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"rightHeader\"\n  }, i18n.t('Selected Items')), infoText && /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"info-container\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}`\n  }, /*#__PURE__*/React.createElement(IconInfo16, null)), /*#__PURE__*/React.createElement(\"span\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"info-text\"\n  }, infoText)), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: styles.__hash\n  }, styles));\n};\nRightHeader.propTypes = {\n  infoText: PropTypes.string\n};\nconst SourceEmptyPlaceholder = _ref4 => {\n  let {\n    loading,\n    searchTerm,\n    options,\n    noItemsMessage,\n    dataType,\n    dataTest\n  } = _ref4;\n  let message = '';\n  if (!loading && !options.length && !searchTerm) {\n    if (noItemsMessage) {\n      message = noItemsMessage;\n    } else {\n      switch (dataType) {\n        case DIMENSION_TYPE_INDICATOR:\n          message = i18n.t('No indicators found');\n          break;\n        case DIMENSION_TYPE_DATA_ELEMENT:\n          message = i18n.t('No data elements found');\n          break;\n        case DIMENSION_TYPE_DATA_SET:\n          message = i18n.t('No data sets found');\n          break;\n        case DIMENSION_TYPE_EVENT_DATA_ITEM:\n          message = i18n.t('No event data items found');\n          break;\n        case DIMENSION_TYPE_PROGRAM_INDICATOR:\n          message = i18n.t('No program indicators found');\n          break;\n        default:\n          message = i18n.t('No data');\n          break;\n      }\n    }\n  } else if (!loading && !options.length && searchTerm) {\n    switch (dataType) {\n      case DIMENSION_TYPE_INDICATOR:\n        message = i18n.t('No indicators found for \"{{- searchTerm}}\"', {\n          searchTerm: searchTerm\n        });\n        break;\n      case DIMENSION_TYPE_DATA_ELEMENT:\n        message = i18n.t('No data elements found for \"{{- searchTerm}}\"', {\n          searchTerm: searchTerm\n        });\n        break;\n      case DIMENSION_TYPE_DATA_SET:\n        message = i18n.t('No data sets found for \"{{- searchTerm}}\"', {\n          searchTerm: searchTerm\n        });\n        break;\n      case DIMENSION_TYPE_EVENT_DATA_ITEM:\n        message = i18n.t('No event data items found for \"{{- searchTerm}}\"', {\n          searchTerm: searchTerm\n        });\n        break;\n      case DIMENSION_TYPE_PROGRAM_INDICATOR:\n        message = i18n.t('No program indicators found for \"{{- searchTerm}}\"', {\n          searchTerm: searchTerm\n        });\n        break;\n      default:\n        message = i18n.t('Nothing found for \"{{- searchTerm}}\"', {\n          searchTerm: searchTerm\n        });\n        break;\n    }\n  }\n  return message && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"p\", {\n    \"data-test\": dataTest,\n    className: `jsx-${styles.__hash}` + \" \" + \"emptyList\"\n  }, message), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: styles.__hash\n  }, styles));\n};\nSourceEmptyPlaceholder.propTypes = {\n  dataTest: PropTypes.string,\n  dataType: PropTypes.string,\n  loading: PropTypes.bool,\n  noItemsMessage: PropTypes.string,\n  options: PropTypes.array,\n  searchTerm: PropTypes.string\n};\nconst ItemSelector = _ref5 => {\n  let {\n    selectedItems,\n    noItemsMessage,\n    onSelect,\n    rightFooter,\n    displayNameProp,\n    infoBoxMessage,\n    dataTest,\n    supportsEDI,\n    onEDISave\n  } = _ref5;\n  const [state, setState] = useState({\n    searchTerm: '',\n    filter: {\n      dataType: DIMENSION_TYPE_ALL\n    },\n    options: [],\n    loading: true,\n    nextPage: 1\n  });\n  const [currentCalculation, setCurrentCalculation] = useState();\n  const dataEngine = useDataEngine();\n  const setSearchTerm = searchTerm => setState(state => ({\n    ...state,\n    searchTerm\n  }));\n  const setFilter = filter => setState(state => ({\n    ...state,\n    filter\n  }));\n  const debouncedSearchTerm = useDebounce(state.searchTerm, 500);\n  const fetchItems = async page => {\n    var _result$dimensionItem;\n    setState(state => ({\n      ...state,\n      loading: true\n    }));\n    const result = await apiFetchOptions({\n      dataEngine,\n      nameProp: displayNameProp,\n      page,\n      filter: state.filter,\n      searchTerm: state.searchTerm\n    });\n    const newOptions = [];\n    (_result$dimensionItem = result.dimensionItems) === null || _result$dimensionItem === void 0 ? void 0 : _result$dimensionItem.forEach(item => {\n      if (item.dimensionItemType === REPORTING_RATE) {\n        if (state.filter.subGroup && state.filter.subGroup !== DIMENSION_TYPE_ALL) {\n          const metric = DATA_SETS_CONSTANTS.find(item => item.id === state.filter.subGroup);\n          newOptions.push({\n            label: `${item.name} - ${metric.getName()}`,\n            value: `${item.id}.${metric.id}`,\n            disabled: item.disabled,\n            type: item.dimensionItemType,\n            expression: item.expression\n          });\n        } else {\n          DATA_SETS_CONSTANTS.forEach(metric => {\n            newOptions.push({\n              label: `${item.name} - ${metric.getName()}`,\n              value: `${item.id}.${metric.id}`,\n              disabled: item.disabled,\n              type: item.dimensionItemType,\n              expression: item.expression\n            });\n          });\n        }\n      } else {\n        newOptions.push({\n          label: item.name,\n          value: item.id,\n          disabled: item.disabled,\n          type: item.dimensionItemType,\n          expression: item.expression\n        });\n      }\n    });\n    setState(state => ({\n      ...state,\n      loading: false,\n      options: page > 1 ? [...state.options, ...newOptions] : newOptions,\n      nextPage: result.nextPage\n    }));\n    /*  The following handles a very specific edge-case where the user can select all items from a\n        page and then reopen the modal. Usually Transfer triggers the onEndReached when the end of\n        the page is reached (scrolling down) or if too few items are on the left side (e.g. selecting\n        49 items from page 1, leaving only 1 item on the left side). However, due to the way Transfer\n        works, if 0 items are available, more items are fetched, but all items are already selected\n        (leaving 0 items on the left side still), the onReachedEnd won't trigger. Hence the code below:\n        IF there is a next page AND some options were just fetched AND you have the same or more\n        selected items than fetched items AND all fetched items are already selected -> fetch more!\n    */\n    if (result.nextPage && newOptions.length && selectedItems.length >= newOptions.length && newOptions.every(newOption => selectedItems.find(selectedItem => selectedItem.value === newOption.value))) {\n      fetchItems(result.nextPage);\n    }\n  };\n  useDidUpdateEffect(() => {\n    setState(state => ({\n      ...state,\n      loading: true,\n      nextPage: 1\n    }));\n    fetchItems(1);\n  }, [debouncedSearchTerm, state.filter]);\n  const onChange = newSelected => {\n    onSelect(newSelected.map(value => {\n      const matchingItem = [...state.options, ...selectedItems].find(item => item.value === value);\n      return {\n        value,\n        label: matchingItem.label,\n        type: matchingItem.type,\n        ...(matchingItem.expression ? {\n          expression: matchingItem.expression\n        } : {})\n      };\n    }));\n  };\n  const onEndReached = () => {\n    if (state.nextPage) {\n      fetchItems(state.nextPage);\n    }\n  };\n  const isActive = value => {\n    const item = selectedItems.find(item => item.value === value);\n    return !item || item.isActive;\n  };\n  const getItemType = value => {\n    var _find;\n    return (_find = [...state.options, ...selectedItems].find(item => item.value === value)) === null || _find === void 0 ? void 0 : _find.type;\n  };\n  const onSaveCalculation = async _ref6 => {\n    let {\n      id,\n      name,\n      expression,\n      isNew\n    } = _ref6;\n    onEDISave({\n      id,\n      name,\n      expression,\n      type: DIMENSION_TYPE_EXPRESSION_DIMENSION_ITEM\n    });\n\n    // close the modal\n    setCurrentCalculation();\n\n    // reload the list of options\n    fetchItems(1);\n    if (isNew) {\n      // select the new calculation\n      onSelect([...selectedItems, {\n        value: id,\n        label: name,\n        expression,\n        type: DIMENSION_TYPE_EXPRESSION_DIMENSION_ITEM\n      }]);\n    }\n  };\n  const onDeleteCalculation = _ref7 => {\n    let {\n      id\n    } = _ref7;\n    // close the modal\n    setCurrentCalculation();\n\n    // reload the list of options\n    fetchItems(1);\n\n    // unselect the deleted calculation\n    onSelect([...selectedItems.filter(item => item.value !== id)]);\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Transfer, {\n    onChange: _ref8 => {\n      let {\n        selected\n      } = _ref8;\n      return onChange(selected);\n    },\n    selected: selectedItems.map(item => item.value),\n    options: [...state.options, ...selectedItems],\n    loading: state.loading,\n    loadingPicked: state.loading,\n    sourceEmptyPlaceholder: /*#__PURE__*/React.createElement(SourceEmptyPlaceholder, {\n      loading: state.loading,\n      searchTerm: debouncedSearchTerm,\n      options: state.options,\n      noItemsMessage: noItemsMessage,\n      dataType: state.filter.dataType,\n      dataTest: `${dataTest}-empty-source`\n    }),\n    onEndReached: onEndReached,\n    leftHeader: /*#__PURE__*/React.createElement(LeftHeader, {\n      dataType: state.filter.dataType,\n      setDataType: dataType => {\n        setFilter({\n          ...state.filter,\n          dataType,\n          group: null,\n          subGroup: dataType === DIMENSION_TYPE_DATA_ELEMENT ? TOTALS : null\n        });\n      },\n      group: state.filter.group,\n      setGroup: group => {\n        setFilter({\n          ...state.filter,\n          group\n        });\n      },\n      subGroup: state.filter.subGroup,\n      setSubGroup: subGroup => {\n        setFilter({\n          ...state.filter,\n          subGroup\n        });\n      },\n      searchTerm: state.searchTerm,\n      setSearchTerm: setSearchTerm,\n      displayNameProp: displayNameProp,\n      dataTest: `${dataTest}-left-header`,\n      supportsEDI: supportsEDI\n    }),\n    leftFooter: supportsEDI ? /*#__PURE__*/React.createElement(\"div\", {\n      className: `jsx-${styles.__hash}` + \" \" + \"calculation-button\"\n    }, /*#__PURE__*/React.createElement(Button, {\n      icon: /*#__PURE__*/React.createElement(IconAdd24, null),\n      onClick: () => setCurrentCalculation({}),\n      small: true\n    }, i18n.t('Calculation'))) : undefined,\n    enableOrderChange: true,\n    height: TRANSFER_HEIGHT,\n    optionsWidth: TRANSFER_OPTIONS_WIDTH,\n    selectedWidth: TRANSFER_SELECTED_WIDTH,\n    selectedEmptyComponent: /*#__PURE__*/React.createElement(EmptySelection, null),\n    rightHeader: /*#__PURE__*/React.createElement(RightHeader, {\n      infoText: infoBoxMessage\n    }),\n    rightFooter: rightFooter,\n    renderOption: props => {\n      var _props$access;\n      return /*#__PURE__*/React.createElement(TransferOption\n      /* eslint-disable react/prop-types */, _extends({}, props, {\n        active: isActive(props.value),\n        icon: getIcon(getItemType(props.value)),\n        tooltipText: getTooltipText({\n          type: getItemType(props.value),\n          expression: props.expression\n        }),\n        dataTest: `${dataTest}-transfer-option`,\n        onEditClick: getItemType(props.value) === DIMENSION_TYPE_EXPRESSION_DIMENSION_ITEM && !(((_props$access = props.access) === null || _props$access === void 0 ? void 0 : _props$access.write) === false) && supportsEDI ? () => setCurrentCalculation({\n          id: props.value,\n          name: props.label,\n          expression: props.expression\n        }) : undefined\n        /* eslint-enable react/prop-types */\n      }));\n    },\n\n    dataTest: `${dataTest}-transfer`\n  }), currentCalculation && supportsEDI && /*#__PURE__*/React.createElement(CalculationModal, {\n    calculation: currentCalculation,\n    onSave: onSaveCalculation,\n    onClose: () => setCurrentCalculation(),\n    onDelete: onDeleteCalculation,\n    displayNameProp: displayNameProp\n  }), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: styles.__hash\n  }, styles));\n};\nItemSelector.propTypes = {\n  displayNameProp: PropTypes.string.isRequired,\n  onSelect: PropTypes.func.isRequired,\n  dataTest: PropTypes.string,\n  infoBoxMessage: PropTypes.string,\n  noItemsMessage: PropTypes.string,\n  rightFooter: PropTypes.node,\n  selectedItems: PropTypes.arrayOf(PropTypes.exact({\n    label: PropTypes.string.isRequired,\n    value: PropTypes.string.isRequired,\n    isActive: PropTypes.bool,\n    type: PropTypes.string,\n    expression: PropTypes.string\n  })),\n  supportsEDI: PropTypes.bool,\n  onEDISave: PropTypes.func\n};\nItemSelector.defaultProps = {\n  selectedItems: []\n};\nexport default ItemSelector;","import { useState, useEffect, useRef } from 'react';\nexport const useDebounce = (value, delay) => {\n  const [debouncedValue, setDebouncedValue] = useState(value);\n  useEffect(() => {\n    const handler = setTimeout(() => {\n      setDebouncedValue(value);\n    }, delay);\n    return () => {\n      clearTimeout(handler);\n    };\n  }, [value, delay]);\n  return debouncedValue;\n};\nexport const useDidUpdateEffect = (fn, inputs) => {\n  const didMountRef = useRef(false);\n  useEffect(() => {\n    if (didMountRef.current) {\n      fn();\n    } else {\n      didMountRef.current = true;\n    }\n  }, inputs);\n};","import { useConfig } from '@dhis2/app-runtime';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { DIMENSION_ID_DATA } from '../../modules/predefinedDimensions.js';\nimport ItemSelector from './ItemSelector.js';\nconst DataDimension = _ref => {\n  let {\n    onSelect,\n    selectedDimensions,\n    displayNameProp,\n    infoBoxMessage,\n    onCalculationSave\n  } = _ref;\n  const {\n    serverVersion\n  } = useConfig();\n  const supportsEDI = `${serverVersion.major}.${serverVersion.minor}.${serverVersion.patch || 0}` >= '2.40.0';\n  const onSelectItems = selectedItem => onSelect({\n    dimensionId: DIMENSION_ID_DATA,\n    items: selectedItem.map(item => ({\n      id: item.value,\n      name: item.label,\n      type: item.type,\n      expression: item.expression\n    }))\n  });\n  return /*#__PURE__*/React.createElement(ItemSelector, {\n    selectedItems: selectedDimensions.map(item => ({\n      value: item.id,\n      label: item.name,\n      isActive: item.isActive,\n      type: item.type,\n      expression: item.expression,\n      access: item.access\n    })),\n    onSelect: onSelectItems,\n    displayNameProp: displayNameProp,\n    infoBoxMessage: infoBoxMessage,\n    dataTest: 'data-dimension',\n    supportsEDI: supportsEDI,\n    onEDISave: onCalculationSave\n  });\n};\nDataDimension.propTypes = {\n  displayNameProp: PropTypes.string.isRequired,\n  selectedDimensions: PropTypes.arrayOf(PropTypes.shape({\n    expression: PropTypes.string,\n    id: PropTypes.string,\n    isActive: PropTypes.bool,\n    name: PropTypes.string,\n    type: PropTypes.string\n  })).isRequired,\n  onSelect: PropTypes.func.isRequired,\n  infoBoxMessage: PropTypes.string,\n  onCalculationSave: PropTypes.func\n};\nDataDimension.defaultProps = {\n  selectedDimensions: [],\n  onSelect: Function.prototype\n};\nexport default DataDimension;","import { spacers } from '@dhis2/ui';\nconst _defaultExport = [`.container.jsx-2445670963{margin-bottom:${spacers.dp16};}`];\n_defaultExport.__hash = \"2445670963\";\nexport default _defaultExport;","import _JSXStyle from \"styled-jsx/style\";\nimport { InputField } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './styles/Filter.style.js';\nconst Filter = _ref => {\n  let {\n    text,\n    onChange,\n    onClear,\n    placeholder,\n    type,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"container\"\n  }, /*#__PURE__*/React.createElement(InputField, {\n    placeholder: placeholder,\n    onChange: ref => ref.value.length ? onChange(ref.value) : onClear(),\n    value: text,\n    dense: true,\n    type: type,\n    dataTest: dataTest\n  }), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: styles.__hash\n  }, styles));\n};\nFilter.propTypes = {\n  placeholder: PropTypes.string.isRequired,\n  type: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n  onClear: PropTypes.func.isRequired,\n  dataTest: PropTypes.string,\n  text: PropTypes.string\n};\nFilter.defaultProps = {\n  type: 'text'\n};\nexport default Filter;","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nfunction SvgLock16(_ref) {\n  let {\n    color,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    width: 16,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8 1a3 3 0 013 3v2h1c.552 0 1 .504 1 1.125v6.75c0 .621-.448 1.125-1 1.125H4c-.552 0-1-.504-1-1.125v-6.75C3 6.504 3.448 6 4 6h1V4a3 3 0 013-3zm4 6H4v7h8zM8 9a1 1 0 110 2 1 1 0 010-2zm0-7a2 2 0 00-1.995 1.85L6 4v2h4V4a2 2 0 00-2-2z\",\n    fill: \"currentColor\"\n  }));\n}\n\nSvgLock16.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default SvgLock16;","import React from 'react';\nconst DynamicDimensionIcon = () => {\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    width: \"16px\",\n    height: \"16px\",\n    viewBox: \"0 0 16 16\",\n    version: \"1.1\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Exp\",\n    stroke: \"none\",\n    strokeWidth: \"1\",\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Artboard\",\n    transform: \"translate(-80.000000, -9.000000)\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"icon_dimension_new\",\n    transform: \"translate(80.000000, 9.000000)\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    id: \"frame\",\n    x: \"0\",\n    y: \"0\",\n    width: \"16\",\n    height: \"16\"\n  }), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"module\",\n    transform: \"translate(4.000000, 4.000000)\",\n    stroke: \"#000000\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0.33209728,1.1742111 L3.16308174,0.0641666694 C3.37911767,-0.0213888898 3.61963794,-0.0213888898 3.83567387,0.0641666694 L6.66665833,1.1742111 C6.87300668,1.26220739 7.00497003,1.467 6.99984343,1.69127776 L6.99984343,5.30887771 C7.00517859,5.53285411 6.87376309,5.73756106 6.66790272,5.82594437 L3.83691826,6.93629991 C3.62076407,7.02123336 3.38048032,7.02123336 3.16432613,6.93629991 L0.333341668,5.82594437 C0.126993317,5.73794808 -0.00497002591,5.53315547 0.000156574133,5.30887771 L0.000156574133,1.69127776 C-0.00517858533,1.46730136 0.126236906,1.26259441 0.33209728,1.1742111 Z\",\n    id: \"Shape\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M3.5,2.72795833 L0.322,1.48195833\",\n    id: \"Shape\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M3.5,2.72795833 L6.678,1.48195833\",\n    id: \"Shape\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M3.5,6.78125 L3.5,2.72795833\",\n    id: \"Shape\"\n  }))))));\n};\nexport default DynamicDimensionIcon;","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nfunction SvgMore16(_ref) {\n  let {\n    color,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    width: 16,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M3 7a1 1 0 110 2 1 1 0 010-2zm5 0a1 1 0 110 2 1 1 0 010-2zm5 0a1 1 0 110 2 1 1 0 010-2z\",\n    fill: \"currentColor\",\n    fillRule: \"evenodd\"\n  }));\n}\n\nSvgMore16.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default SvgMore16;","import { IconMore16 } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nconst OptionsButton = _ref => {\n  let {\n    style,\n    onClick\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"button\", {\n    style: style,\n    onClick: onClick\n  }, /*#__PURE__*/React.createElement(IconMore16, null));\n};\nOptionsButton.propTypes = {\n  style: PropTypes.object,\n  onClick: PropTypes.func\n};\nexport default OptionsButton;","import { theme } from '@dhis2/ui';\nexport const styles = {\n  recommendedIcon: {\n    backgroundColor: theme.secondary300,\n    height: '8px',\n    width: '8px',\n    borderRadius: '4px',\n    marginLeft: '5px',\n    display: 'inline-block',\n    cursor: 'pointer'\n  }\n};","import { Tooltip } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport i18n from '../../../locales/index.js';\nimport { styles } from './styles/RecommendedIcon.style.js';\nconst RecommendedIcon = _ref => {\n  let {\n    isRecommended,\n    dataTest\n  } = _ref;\n  return isRecommended ? /*#__PURE__*/React.createElement(Tooltip, {\n    content: i18n.t('Dimension recommended with selected data'),\n    placement: \"bottom\",\n    maxWidth: 160\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: styles.recommendedIcon,\n    \"data-test\": dataTest\n  })) : null;\n};\nRecommendedIcon.propTypes = {\n  isRecommended: PropTypes.bool.isRequired,\n  dataTest: PropTypes.string\n};\nexport default RecommendedIcon;","import { colors, theme } from '@dhis2/ui';\nexport const styles = {\n  labelWrapper: {\n    padding: '2px 5px 2px 0'\n  },\n  text: {\n    color: colors.grey900,\n    userSelect: 'none',\n    wordBreak: 'break-word',\n    fontSize: '14px'\n  },\n  textDeactivated: {\n    cursor: 'auto',\n    color: colors.grey500\n  },\n  item: {\n    display: 'flex',\n    minHeight: '24px',\n    marginTop: 3,\n    marginBottom: 3,\n    alignItems: 'center',\n    borderRadius: '2px'\n  },\n  clickable: {\n    cursor: 'pointer'\n  },\n  selected: {\n    backgroundColor: theme.secondary100,\n    fontWeight: 500\n  },\n  fixedDimensionIcon: {\n    paddingLeft: '6px',\n    paddingBottom: '2px'\n  },\n  dynamicDimensionIcon: {\n    paddingLeft: '9px',\n    paddingRight: '9px'\n  },\n  iconWrapper: {\n    display: 'flex',\n    flexDirection: 'column',\n    padding: '3px 8px 0 8px'\n  },\n  optionsWrapper: {\n    position: 'relative',\n    left: '5px',\n    width: '20px',\n    height: '20px'\n  },\n  optionsButton: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    height: '20px',\n    width: '20px',\n    padding: 0,\n    border: 'none',\n    background: 'none',\n    outline: 'none',\n    cursor: 'pointer'\n  },\n  label: {\n    display: 'flex',\n    outline: 'none'\n  }\n};","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport { IconLock16 } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { Component, createRef } from 'react';\nimport DynamicDimensionIcon from '../../../assets/DynamicDimensionIcon.js';\nimport { DIMENSION_PROP_NO_ITEMS, getPredefinedDimensionProp } from '../../../modules/predefinedDimensions.js';\nimport OptionsButton from './OptionsButton.js';\nimport RecommendedIcon from './RecommendedIcon.js';\nimport { styles } from './styles/DimensionItem.style.js';\nclass DimensionItem extends Component {\n  constructor() {\n    super(...arguments);\n    _defineProperty(this, \"state\", {\n      mouseOver: false\n    });\n    _defineProperty(this, \"onOptionsClick\", (id, ref) => event => this.props.onOptionsClick(event, id, ref));\n    _defineProperty(this, \"onMouseOver\", () => {\n      this.setState({\n        mouseOver: true\n      });\n    });\n    _defineProperty(this, \"onMouseExit\", () => {\n      this.setState({\n        mouseOver: false\n      });\n    });\n    _defineProperty(this, \"getDimensionIcon\", () => {\n      const Icon = getPredefinedDimensionProp(this.props.id, 'icon');\n      return Icon ? /*#__PURE__*/React.createElement(Icon, {\n        style: styles.fixedDimensionIcon\n      }) : /*#__PURE__*/React.createElement(DynamicDimensionIcon, {\n        style: styles.dynamicDimensionIcon\n      });\n    });\n    _defineProperty(this, \"getDimensionType\", () => {\n      const {\n        id,\n        name,\n        isDeactivated\n      } = this.props;\n      return /*#__PURE__*/React.createElement(\"span\", {\n        \"data-dimensionid\": id,\n        style: {\n          ...styles.text,\n          ...(isDeactivated ? styles.textDeactivated : {})\n        }\n      }, name);\n    });\n  }\n  render() {\n    const {\n      id,\n      isDeactivated,\n      isSelected,\n      isRecommended,\n      isLocked,\n      onClick,\n      onOptionsClick,\n      innerRef,\n      style,\n      dataTest,\n      ...rest\n    } = this.props;\n    const Icon = this.getDimensionIcon();\n    const Label = this.getDimensionType();\n    const itemStyle = isSelected && !isDeactivated ? {\n      ...styles.item,\n      ...styles.selected\n    } : styles.item;\n    const optionsRef = /*#__PURE__*/createRef();\n    const onLabelClick = () => {\n      if (!isDeactivated && !getPredefinedDimensionProp(id, DIMENSION_PROP_NO_ITEMS)) {\n        onClick(id);\n      }\n    };\n    return /*#__PURE__*/React.createElement(\"li\", _extends({\n      onMouseOver: this.onMouseOver,\n      onMouseLeave: this.onMouseExit,\n      ref: innerRef,\n      style: Object.assign({}, itemStyle, style, !isDeactivated && styles.clickable),\n      \"data-test\": dataTest,\n      onClick: onLabelClick\n    }, rest), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"label\",\n      tabIndex: 0,\n      style: styles.label,\n      \"data-test\": `${dataTest}-button-${id}`\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: styles.iconWrapper\n    }, Icon), /*#__PURE__*/React.createElement(\"div\", {\n      style: styles.labelWrapper\n    }, Label, /*#__PURE__*/React.createElement(RecommendedIcon, {\n      isRecommended: isRecommended,\n      dataTest: `${dataTest}-recommended-icon`\n    })), isLocked && /*#__PURE__*/React.createElement(\"div\", {\n      style: styles.iconWrapper\n    }, /*#__PURE__*/React.createElement(IconLock16, null))), onOptionsClick ? /*#__PURE__*/React.createElement(\"div\", {\n      style: styles.optionsWrapper,\n      ref: optionsRef,\n      \"data-test\": `${dataTest}-menu-${id}`\n    }, this.state.mouseOver && !isDeactivated && !isLocked ? /*#__PURE__*/React.createElement(OptionsButton, {\n      style: styles.optionsButton,\n      onClick: this.onOptionsClick(id, optionsRef)\n    }) : null) : null);\n  }\n}\nDimensionItem.propTypes = {\n  id: PropTypes.string.isRequired,\n  isSelected: PropTypes.bool.isRequired,\n  // XXX\n  name: PropTypes.string.isRequired,\n  dataTest: PropTypes.string,\n  innerRef: PropTypes.func,\n  isDeactivated: PropTypes.bool,\n  isLocked: PropTypes.bool,\n  isRecommended: PropTypes.bool,\n  style: PropTypes.object,\n  onClick: PropTypes.func,\n  onOptionsClick: PropTypes.func\n};\nDimensionItem.defaultProps = {\n  isDeactivated: false,\n  isRecommended: false,\n  isSelected: false,\n  isLocked: false,\n  onClick: Function.prototype,\n  innerRef: Function.prototype,\n  style: {}\n};\nexport default DimensionItem;","import { colors, spacers } from '@dhis2/ui';\n// Fix for vertical flex scrolling in Firefox/Safari:\n// Wrap the list in a div with position:relative (and flex:1 instead of on the list)\n// On the list, set position:absolute, width:100%, height:100%\nconst _defaultExport = [\".container.jsx-2067921157{position:relative;-webkit-flex:1 1 0%;-ms-flex:1 1 0%;flex:1 1 0%;min-height:30vh;}\", \".wrapper.jsx-2067921157{position:absolute;width:100%;height:100%;overflow:auto;margin-top:0;padding:0;}\", \".list.jsx-2067921157{margin:0;padding:0;}\", `.header.jsx-2067921157{text-transform:uppercase;font-size:11px;color:${colors.grey700};margin:5px 0;-webkit-letter-spacing:0.3px;-moz-letter-spacing:0.3px;-ms-letter-spacing:0.3px;letter-spacing:0.3px;}`, `.section.jsx-2067921157:not(:last-child){margin-bottom:${spacers.dp24};}`];\n_defaultExport.__hash = \"2067921157\";\nexport default _defaultExport;","import _JSXStyle from \"styled-jsx/style\";\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport i18n from '../../../locales/index.js';\nimport { getPredefinedDimensions, getFixedDimensions } from '../../../modules/predefinedDimensions.js';\nimport DimensionItem from './DimensionItem.js';\nimport styles from './styles/DimensionList.style.js';\nclass DimensionList extends Component {\n  constructor() {\n    super(...arguments);\n    _defineProperty(this, \"nameContainsFilterText\", dimension => dimension.name.toLowerCase().includes(this.props.filterText.toLowerCase()));\n    _defineProperty(this, \"isDisabled\", dimensionId => this.props.disabledDimension(dimensionId) || false);\n    _defineProperty(this, \"isRecommended\", dimensionId => this.props.recommendedDimension(dimensionId) || false);\n    _defineProperty(this, \"isLocked\", dimensionId => this.props.lockedDimension(dimensionId) || false);\n    _defineProperty(this, \"renderItem\", dimension => /*#__PURE__*/React.createElement(DimensionItem, {\n      id: dimension.id,\n      key: dimension.id,\n      name: dimension.name,\n      isLocked: this.isLocked(dimension.id),\n      isSelected: this.props.selectedIds.includes(dimension.id),\n      isRecommended: this.isRecommended(dimension.id),\n      isDeactivated: this.isDisabled(dimension.id),\n      onClick: this.props.onDimensionClick,\n      onOptionsClick: this.props.onDimensionOptionsClick,\n      onDragStart: this.props.onDimensionDragStart\n    }));\n    _defineProperty(this, \"getDimensionItemsByFilter\", filter => this.props.dimensions.filter(filter).filter(this.nameContainsFilterText).map(this.renderItem));\n  }\n  render() {\n    const fixedDimensions = this.getDimensionItemsByFilter(dimension => Object.values(getFixedDimensions()).some(fixedDim => fixedDim.id === dimension.id));\n    const nonPredefinedDimensions = this.getDimensionItemsByFilter(dimension => !Object.values(getPredefinedDimensions()).some(predefDim => predefDim.id === dimension.id));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: `jsx-${styles.__hash}` + \" \" + \"container\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: `jsx-${styles.__hash}` + \" \" + \"wrapper\"\n    }, fixedDimensions !== null && fixedDimensions !== void 0 && fixedDimensions.length ? /*#__PURE__*/React.createElement(\"div\", {\n      className: `jsx-${styles.__hash}` + \" \" + \"section\"\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: `jsx-${styles.__hash}` + \" \" + \"header\"\n    }, i18n.t('Main dimensions')), /*#__PURE__*/React.createElement(\"ul\", {\n      className: `jsx-${styles.__hash}` + \" \" + \"list\"\n    }, fixedDimensions)) : null, nonPredefinedDimensions !== null && nonPredefinedDimensions !== void 0 && nonPredefinedDimensions.length ? /*#__PURE__*/React.createElement(\"div\", {\n      className: `jsx-${styles.__hash}` + \" \" + \"section\"\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: `jsx-${styles.__hash}` + \" \" + \"header\"\n    }, i18n.t('Your dimensions')), /*#__PURE__*/React.createElement(\"ul\", {\n      className: `jsx-${styles.__hash}` + \" \" + \"list\"\n    }, nonPredefinedDimensions)) : null), /*#__PURE__*/React.createElement(_JSXStyle, {\n      id: styles.__hash\n    }, styles));\n  }\n}\nDimensionList.propTypes = {\n  dimensions: PropTypes.array.isRequired,\n  filterText: PropTypes.string.isRequired,\n  disabledDimension: PropTypes.func,\n  lockedDimension: PropTypes.func,\n  recommendedDimension: PropTypes.func,\n  selectedIds: PropTypes.array,\n  onDimensionClick: PropTypes.func,\n  onDimensionDragStart: PropTypes.func,\n  onDimensionOptionsClick: PropTypes.func\n};\nDimensionList.defaultProps = {\n  selectedIds: [],\n  disabledDimension: Function.prototype,\n  lockedDimension: Function.prototype,\n  recommendedDimension: Function.prototype\n};\nexport default DimensionList;","import { colors } from '@dhis2/ui';\nexport const styles = {\n  divContainer: {\n    height: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n    backgroundColor: colors.grey050,\n    padding: '8px',\n    overflow: 'hidden'\n  },\n  textField: {\n    marginBottom: '6px',\n    background: colors.white,\n    border: `1px solid ${colors.grey400}`,\n    borderRadius: '5px'\n  }\n};","function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport i18n from '../../locales/index.js';\nimport Filter from '../Filter/Filter.js';\nimport DimensionList from './List/DimensionList.js';\nimport { styles } from './styles/DimensionsPanel.style.js';\nclass DimensionsPanel extends Component {\n  constructor() {\n    super(...arguments);\n    _defineProperty(this, \"state\", {\n      filterText: ''\n    });\n    _defineProperty(this, \"onClearFilter\", () => {\n      this.setState({\n        filterText: ''\n      });\n    });\n    _defineProperty(this, \"onFilterTextChange\", filterText => {\n      this.setState({\n        filterText\n      });\n    });\n  }\n  render() {\n    const {\n      dimensions,\n      selectedIds,\n      disabledDimension,\n      lockedDimension,\n      recommendedDimension,\n      onDimensionClick,\n      onDimensionOptionsClick,\n      onDimensionDragStart,\n      style\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        ...styles.divContainer,\n        ...style\n      }\n    }, /*#__PURE__*/React.createElement(Filter, {\n      placeholder: i18n.t('Filter dimensions'),\n      text: this.state.filterText,\n      onChange: this.onFilterTextChange,\n      onClear: this.onClearFilter,\n      type: \"search\"\n    }), /*#__PURE__*/React.createElement(DimensionList, {\n      dimensions: dimensions,\n      selectedIds: selectedIds,\n      filterText: this.state.filterText,\n      disabledDimension: disabledDimension,\n      lockedDimension: lockedDimension,\n      recommendedDimension: recommendedDimension,\n      onDimensionOptionsClick: onDimensionOptionsClick,\n      onDimensionClick: onDimensionClick,\n      onDimensionDragStart: onDimensionDragStart\n    }));\n  }\n}\nDimensionsPanel.propTypes = {\n  dimensions: PropTypes.array.isRequired,\n  disabledDimension: PropTypes.func,\n  lockedDimension: PropTypes.func,\n  recommendedDimension: PropTypes.func,\n  selectedIds: PropTypes.array,\n  style: PropTypes.object,\n  onDimensionClick: PropTypes.func,\n  onDimensionDragStart: PropTypes.func,\n  onDimensionOptionsClick: PropTypes.func\n};\nDimensionsPanel.defaultProps = {\n  selectedIds: [],\n  style: {},\n  onDimensionClick: Function.prototype\n};\nexport default DimensionsPanel;","import _JSXStyle from \"styled-jsx/style\";\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport const Leaves = _ref => {\n  let {\n    children,\n    open,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    className: \"jsx-3677374542\" + \" \" + (cx({\n      open\n    }) || \"\")\n  }, children, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3677374542\"\n  }, [\"div.jsx-3677374542{height:0;overflow:hidden;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}\", \".open.jsx-3677374542{height:auto;}\"]));\n};\nLeaves.propTypes = {\n  children: PropTypes.node,\n  dataTest: PropTypes.string,\n  open: PropTypes.bool\n};","import _JSXStyle from \"styled-jsx/style\";\nimport React from 'react';\nexport const Spacer = () => /*#__PURE__*/React.createElement(\"div\", {\n  className: \"jsx-2503342345\"\n}, /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"2503342345\"\n}, [\"div.jsx-2503342345{width:24px;}\"]));","import _JSXStyle from \"styled-jsx/style\";\nimport { colors } from '@dhis2/ui-constants';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nconst ArrowDown = () => /*#__PURE__*/React.createElement(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  className: \"jsx-2769585603\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M15.7041 10.3329L12.1495 14.3318C12.0699 14.4213 11.9301 14.4213 11.8505 14.3318L8.29589 10.3329C8.18124 10.2039 8.2728 10 8.44537 10H15.5546C15.7272 10 15.8188 10.2039 15.7041 10.3329Z\",\n  className: \"jsx-2769585603\"\n}), /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"2769585603\"\n}, [\"svg.jsx-2769585603{fill:inherit;height:24px;width:24px;vertical-align:middle;pointer-events:none;}\"]));\n\nexport const Toggle = _ref => {\n  let {\n    open,\n    onOpen,\n    onClose,\n    dataTest\n  } = _ref;\n  const onClick = open ? onClose : onOpen;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    onClick: event => onClick && onClick({\n      open: !open\n    }, event),\n    className: _JSXStyle.dynamic([[\"1793048903\", [colors.grey400, colors.grey900, colors.grey100]]]) + \" \" + (cx({\n      open\n    }) || \"\")\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: _JSXStyle.dynamic([[\"1793048903\", [colors.grey400, colors.grey900, colors.grey100]]])\n  }, /*#__PURE__*/React.createElement(ArrowDown, null)), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1793048903\",\n    dynamic: [colors.grey400, colors.grey900, colors.grey100]\n  }, [\"div.__jsx-style-dynamic-selector{width:24px;position:relative;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}\", \"div.__jsx-style-dynamic-selector:after{background:\".concat(colors.grey400, \";height:calc(100% - 24px);left:12px;position:absolute;top:15px;width:1px;z-index:1;}\"), \".open.__jsx-style-dynamic-selector:after{content:'';}\", \"span.__jsx-style-dynamic-selector{display:block;position:relative;z-index:2;fill:\".concat(colors.grey900, \";}\"), \"div.__jsx-style-dynamic-selector svg{vertical-align:top;-webkit-transform:rotate(-90deg);-ms-transform:rotate(-90deg);transform:rotate(-90deg);-webkit-transition:-webkit-transform 0.1s ease-out;-webkit-transition:transform 0.1s ease-out;transition:transform 0.1s ease-out;}\", \".open.__jsx-style-dynamic-selector svg{-webkit-transform:rotate(0);-ms-transform:rotate(0);transform:rotate(0);}\", \"div.__jsx-style-dynamic-selector:hover{cursor:pointer;border-radius:3px;background:\".concat(colors.grey100, \";}\"), \"div.__jsx-style-dynamic-selector:hover.__jsx-style-dynamic-selector:after{background:#bcc8d4;}\"]));\n};\nToggle.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  open: PropTypes.bool,\n  onClose: PropTypes.func,\n  onOpen: PropTypes.func\n};","import _JSXStyle from \"styled-jsx/style\";\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Leaves } from './leaves.js';\nimport { Spacer } from './spacer.js';\nimport { Toggle } from './toggle.js';\nexport const Node = _ref => {\n  let {\n    open,\n    className,\n    component: label,\n    children,\n    icon,\n    onOpen,\n    onClose,\n    dataTest\n  } = _ref;\n  const hasLeaves = !!React.Children.toArray(children).filter(i => i).length;\n  const showArrow = !icon && hasLeaves;\n  const showSpacer = !icon && !hasLeaves;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    className: \"jsx-1433072554\" + \" \" + (cx('node', className) || \"\")\n  }, icon && /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": \"\".concat(dataTest, \"-icon\"),\n    className: \"jsx-1433072554\"\n  }, icon), showArrow && /*#__PURE__*/React.createElement(Toggle, {\n    open: open,\n    onOpen: onOpen,\n    onClose: onClose,\n    dataTest: \"\".concat(dataTest, \"-toggle\")\n  }), showSpacer && /*#__PURE__*/React.createElement(Spacer, null), /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": \"\".concat(dataTest, \"-content\"),\n    className: \"jsx-1433072554\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": \"\".concat(dataTest, \"-label\"),\n    className: \"jsx-1433072554\"\n  }, label), /*#__PURE__*/React.createElement(Leaves, {\n    open: open,\n    dataTest: \"\".concat(dataTest, \"-leaves\")\n  }, children)), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1433072554\"\n  }, [\".node.jsx-1433072554{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}\"]));\n};\nNode.defaultProps = {\n  dataTest: 'dhis2-uicore-node'\n};\nNode.propTypes = {\n  /** Content below this level of the hierarchy; children are revealed when this leaf is 'open' */\n  children: PropTypes.node,\n  className: PropTypes.string,\n\n  /** Content/label for this leaf, for example a checkbox */\n  component: PropTypes.element,\n  dataTest: PropTypes.string,\n\n  /** A custom icon to use instead of a toggle arrow */\n  icon: PropTypes.node,\n  open: PropTypes.bool,\n  onClose: PropTypes.func,\n  onOpen: PropTypes.func\n};","//------------------------------------------------------------------------------\n// <auto-generated>\n// This code was generated by d2-i18n-generate.\n//\n// Changes to this file may cause incorrect behavior and will be lost if\n// the code is regenerated.\n// </auto-generated>\n//------------------------------------------------------------------------------\nimport i18n from '@dhis2/d2-i18n';\nimport arTranslations from './ar/translations.json';\nimport csTranslations from './cs/translations.json';\nimport enTranslations from './en/translations.json';\nimport esTranslations from './es/translations.json';\nimport nbTranslations from './nb/translations.json';\nimport nlTranslations from './nl/translations.json';\nimport ukTranslations from './uk/translations.json';\nimport uz_LatnTranslations from './uz_Latn/translations.json';\nimport uz_UZ_CyrlTranslations from './uz_UZ_Cyrl/translations.json';\nimport uz_UZ_LatnTranslations from './uz_UZ_Latn/translations.json';\nimport viTranslations from './vi/translations.json';\nimport zhTranslations from './zh/translations.json';\nimport zh_CNTranslations from './zh_CN/translations.json';\nconst namespace = 'default';\ni18n.addResources('ar', namespace, arTranslations);\ni18n.addResources('cs', namespace, csTranslations);\ni18n.addResources('en', namespace, enTranslations);\ni18n.addResources('es', namespace, esTranslations);\ni18n.addResources('nb', namespace, nbTranslations);\ni18n.addResources('nl', namespace, nlTranslations);\ni18n.addResources('uk', namespace, ukTranslations);\ni18n.addResources('uz_Latn', namespace, uz_LatnTranslations);\ni18n.addResources('uz_UZ_Cyrl', namespace, uz_UZ_CyrlTranslations);\ni18n.addResources('uz_UZ_Latn', namespace, uz_UZ_LatnTranslations);\ni18n.addResources('vi', namespace, viTranslations);\ni18n.addResources('zh', namespace, zhTranslations);\ni18n.addResources('zh_CN', namespace, zh_CNTranslations);\nexport default i18n;","/* eslint-disable max-params */\nconst UNIT_ID_PATTERN = '[a-zA-Z][a-zA-Z0-9]{10}';\nconst orgUnitIdRegExp = new RegExp(\"^\".concat(UNIT_ID_PATTERN, \"$\"));\nconst orgUnitPathRegExp = new RegExp(\"(/\".concat(UNIT_ID_PATTERN, \")+\"));\nexport const orgUnitPathPropType = (propValue, key, compName, location, propFullName) => {\n  if (!orgUnitPathRegExp.test(propValue[key])) {\n    return new Error(\"Invalid org unit path `\".concat(propValue[key], \"` supplied to `\").concat(compName, \".\").concat(propFullName, \"`\"));\n  }\n};\nexport const orgUnitIdPropType = (propValue, key, compName, location, propFullName) => {\n  if (!orgUnitIdRegExp.test(propValue[key])) {\n    return new Error(\"Invalid org unit id `\".concat(propValue[key], \"` supplied to `\").concat(compName, \".\").concat(propFullName, \"`\"));\n  }\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { colors, spacers, theme } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport const ErrorMessage = _ref => {\n  let {\n    children,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"span\", {\n    \"data-test\": \"\".concat(dataTest, \"-error\"),\n    className: _JSXStyle.dynamic([[\"3198585030\", [colors.grey800, spacers.dp4, theme.error]]])\n  }, children, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3198585030\",\n    dynamic: [colors.grey800, spacers.dp4, theme.error]\n  }, [\"span.__jsx-style-dynamic-selector{font-size:14px;color:\".concat(colors.grey800, \";margin:\").concat(spacers.dp4, \";color:\").concat(theme.error, \";}\")]));\n};\nErrorMessage.propTypes = {\n  children: PropTypes.any.isRequired,\n  dataTest: PropTypes.string.isRequired\n};","/**\n * Checks wether there are descendants of a path in the\n * array of selected paths\n *\n * @param {string} path\n * @param {string[]} selected\n * @returns {bool}\n */\nexport const hasDescendantSelectedPaths = (path, selected) => {\n  return selected.some(selectedPath => {\n    const isNotPath = !selectedPath.match(new RegExp(\"\".concat(path, \"$\")));\n    const isSubPath = selectedPath.match(new RegExp(path));\n    return isNotPath && isSubPath;\n  });\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { colors } from '@dhis2/ui-constants';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n/**\n * @param {Object} props\n * @param {string} props.label\n * @param {bool} [props.checked]\n * @param {bool} [props.loading]\n * @param {Function} [props.onChange]\n * @returns {React.Component}\n */\n\nexport const SingleSelectionLabel = _ref => {\n  let {\n    checked,\n    children,\n    onChange,\n    loading\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"span\", {\n    onClick: event => {\n      const payload = {\n        checked: !checked\n      };\n      onChange(payload, event);\n    },\n    className: _JSXStyle.dynamic([[\"321503310\", [colors.grey900, colors.teal700]]]) + \" \" + (cx({\n      checked,\n      loading\n    }) || \"\")\n  }, children, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"321503310\",\n    dynamic: [colors.grey900, colors.teal700]\n  }, [\"span.__jsx-style-dynamic-selector{background:transparent;border-radius:3px;color:\".concat(colors.grey900, \";cursor:pointer;display:inline-block;font-size:14px;line-height:24px;padding:0 5px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap;}\"), \".checked.__jsx-style-dynamic-selector{background:\".concat(colors.teal700, \";color:white;}\"), \".loading.__jsx-style-dynamic-selector{cursor:auto;}\"]));\n};\nSingleSelectionLabel.propTypes = {\n  children: PropTypes.any.isRequired,\n  checked: PropTypes.bool,\n  loading: PropTypes.bool,\n  onChange: PropTypes.func\n};","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { SingleSelectionLabel } from './single-selection-label.js';\n/**\n * @param {Object} props\n * @param {string} props.label\n * @param {Function} props.onToggleOpen\n * @param {bool} [props.loading]\n * @returns {React.Component}\n */\n\nexport const DisabledSelectionLabel = _ref => {\n  let {\n    children,\n    loading,\n    onToggleOpen\n  } = _ref;\n  return /*#__PURE__*/React.createElement(SingleSelectionLabel, {\n    checked: false,\n    loading: loading,\n    onChange: onToggleOpen\n  }, children);\n};\nDisabledSelectionLabel.propTypes = {\n  children: PropTypes.any.isRequired,\n  onToggleOpen: PropTypes.func.isRequired,\n  loading: PropTypes.bool\n};","import _JSXStyle from \"styled-jsx/style\";\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport const IconEmpty = _ref => {\n  let {\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: \"18px\",\n    version: \"1.1\",\n    viewBox: \"0 0 18 18\",\n    width: \"18px\",\n    \"data-test\": \"\".concat(dataTest, \"-iconempty\"),\n    className: \"jsx-3201893673\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"none\",\n    fillRule: \"evenodd\",\n    id: \"icon/empty\",\n    stroke: \"none\",\n    strokeWidth: \"1\",\n    className: \"jsx-3201893673\"\n  }), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3201893673\"\n  }, [\"svg.jsx-3201893673{display:block;margin:3px 0;}\"]));\n};\nIconEmpty.propTypes = {\n  dataTest: PropTypes.string.isRequired\n};","import _JSXStyle from \"styled-jsx/style\";\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport const IconFolderClosed = _ref => {\n  let {\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    width: \"18px\",\n    height: \"18px\",\n    viewBox: \"0 0 18 18\",\n    version: \"1.1\",\n    \"data-test\": \"\".concat(dataTest, \"-iconfolderclosed\"),\n    className: \"jsx-3201893673\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"icon/folder/closed\",\n    stroke: \"none\",\n    strokeWidth: \"1\",\n    fill: \"none\",\n    fillRule: \"evenodd\",\n    className: \"jsx-3201893673\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M2,3.5 C1.17157288,3.5 0.5,4.17157288 0.5,5 L0.5,13 C0.5,13.8284271 1.17157288,14.5 2,14.5 L12,14.5 C12.8284271,14.5 13.5,13.8284271 13.5,13 L13.5,7 C13.5,6.17157288 12.8284271,5.5 12,5.5 L6.69098301,5.5 L5.82917961,3.7763932 C5.7444836,3.60700119 5.57135204,3.5 5.38196601,3.5 L2,3.5 Z\",\n    id: \"Path-2\",\n    stroke: \"#6C7787\",\n    fill: \"#D5DDE5\",\n    className: \"jsx-3201893673\"\n  })), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3201893673\"\n  }, [\"svg.jsx-3201893673{display:block;margin:3px 0;}\"]));\n};\nIconFolderClosed.propTypes = {\n  dataTest: PropTypes.string.isRequired\n};","import _JSXStyle from \"styled-jsx/style\";\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport const IconFolderOpen = _ref => {\n  let {\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    width: \"18px\",\n    height: \"18px\",\n    viewBox: \"0 0 18 18\",\n    version: \"1.1\",\n    \"data-test\": \"\".concat(dataTest, \"-iconfolderopen\"),\n    className: \"jsx-2091325045\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"icon/folder/open\",\n    stroke: \"none\",\n    strokeWidth: \"1\",\n    fill: \"none\",\n    fillRule: \"evenodd\",\n    className: \"jsx-2091325045\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Group\",\n    transform: \"translate(0.000000, 3.000000)\",\n    stroke: \"#6C7787\",\n    className: \"jsx-2091325045\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M2,0.5 C1.17157288,0.5 0.5,1.17157288 0.5,2 L0.5,10 C0.5,10.8284271 1.17157288,11.5 2,11.5 L12,11.5 C12.8284271,11.5 13.5,10.8284271 13.5,10 L13.5,4 C13.5,3.17157288 12.8284271,2.5 12,2.5 L6.69098301,2.5 L5.82917961,0.776393202 C5.7444836,0.607001188 5.57135204,0.5 5.38196601,0.5 L2,0.5 Z\",\n    id: \"Path-2\",\n    fill: \"#A0ADBA\",\n    className: \"jsx-2091325045\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M1.53632259,10.7093809 C1.47575089,10.7941813 1.44318932,10.8957885 1.44318932,11 C1.44318932,11.2761424 1.66704695,11.5 1.94318932,11.5 L12.4853821,11.5 C12.6468577,11.5 12.7983931,11.4220172 12.8922488,11.2906191 L16.4636774,6.2906191 C16.5242491,6.20581872 16.5568107,6.10421149 16.5568107,6 C16.5568107,5.72385763 16.3329531,5.5 16.0568107,5.5 L5.5146179,5.5 C5.35314234,5.5 5.20160692,5.57798284 5.10775116,5.7093809 L1.53632259,10.7093809 Z\",\n    id: \"Path-3\",\n    fill: \"#FBFCFD\",\n    className: \"jsx-2091325045\"\n  }))), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2091325045\"\n  }, [\"svg.jsx-2091325045{margin:3px 0;display:block;}\"]));\n};\nIconFolderOpen.propTypes = {\n  dataTest: PropTypes.string.isRequired\n};","import _JSXStyle from \"styled-jsx/style\";\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport const IconSingle = _ref => {\n  let {\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: \"18px\",\n    version: \"1.1\",\n    viewBox: \"0 0 18 18\",\n    width: \"18px\",\n    \"data-test\": \"\".concat(dataTest, \"-iconsingle\"),\n    className: \"jsx-3201893673\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"none\",\n    fillRule: \"evenodd\",\n    id: \"icon/single\",\n    stroke: \"none\",\n    strokeWidth: \"1\",\n    className: \"jsx-3201893673\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    fill: \"#A0ADBA\",\n    height: \"4\",\n    id: \"Rectangle\",\n    rx: \"1\",\n    width: \"4\",\n    x: \"7\",\n    y: \"7\",\n    className: \"jsx-3201893673\"\n  })), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3201893673\"\n  }, [\"svg.jsx-3201893673{display:block;margin:3px 0;}\"]));\n};\nIconSingle.propTypes = {\n  dataTest: PropTypes.string.isRequired\n};","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { IconEmpty } from './icon-empty.js';\nimport { IconFolderClosed } from './icon-folder-closed.js';\nimport { IconFolderOpen } from './icon-folder-open.js';\nimport { IconSingle } from './icon-single.js';\n/**\n * @param {Object} props\n * @param {bool} props.hasChildren\n * @param {bool} props.open\n * @returns {React.Component}\n */\n\nexport const Icon = _ref => {\n  let {\n    loading,\n    hasChildren,\n    open,\n    dataTest\n  } = _ref;\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(IconEmpty, {\n      dataTest: dataTest\n    });\n  }\n\n  if (!hasChildren) {\n    return /*#__PURE__*/React.createElement(IconSingle, {\n      dataTest: dataTest\n    });\n  }\n\n  if (open) {\n    return /*#__PURE__*/React.createElement(IconFolderOpen, {\n      dataTest: dataTest\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(IconFolderClosed, {\n    dataTest: dataTest\n  });\n};\nIcon.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  hasChildren: PropTypes.bool,\n  loading: PropTypes.bool,\n  open: PropTypes.bool\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { Checkbox } from '@dhis2-ui/checkbox';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Icon } from './icon.js';\nexport const IconizedCheckbox = _ref => {\n  let {\n    checked,\n    dataTest,\n    hasChildren,\n    indeterminate,\n    children,\n    loading,\n    name,\n    open,\n    value,\n    onChange\n  } = _ref;\n  const icon = /*#__PURE__*/React.createElement(Icon, {\n    loading: loading,\n    open: open,\n    hasChildren: hasChildren,\n    dataTest: dataTest\n  });\n  const checkboxLabel = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"jsx-3097236308\"\n  }, icon), children, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3097236308\"\n  }, [\"span.jsx-3097236308{display:inline-block;margin-right:4px;}\"]));\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Checkbox, {\n    dense: true,\n    checked: checked,\n    name: name,\n    value: value,\n    label: checkboxLabel,\n    indeterminate: indeterminate,\n    onChange: onChange\n  }));\n};\nIconizedCheckbox.propTypes = {\n  checked: PropTypes.bool.isRequired,\n  children: PropTypes.any.isRequired,\n  dataTest: PropTypes.string.isRequired,\n  hasChildren: PropTypes.bool.isRequired,\n  indeterminate: PropTypes.bool.isRequired,\n  loading: PropTypes.bool.isRequired,\n  name: PropTypes.string.isRequired,\n  open: PropTypes.bool.isRequired,\n  value: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { colors } from '@dhis2/ui-constants';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n/**\n * @param {Object} props\n * @param {bool} props.highlighted\n * @param {React.Component|React.Component[]} props.children\n * @returns {React.Component}\n */\n\nexport const LabelContainer = _ref => {\n  let {\n    highlighted,\n    children\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"495975020\", [colors.teal200]]]) + \" \" + (cx({\n      highlighted\n    }) || \"\")\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: _JSXStyle.dynamic([[\"495975020\", [colors.teal200]]])\n  }, children), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"495975020\",\n    dynamic: [colors.teal200]\n  }, [\"div.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}\", \"span.__jsx-style-dynamic-selector{display:block;}\", \".highlighted.__jsx-style-dynamic-selector{background:\".concat(colors.teal200, \";padding-right:4px;}\")]));\n};\nLabelContainer.propTypes = {\n  children: PropTypes.node,\n  highlighted: PropTypes.bool\n};","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { orgUnitPathPropType } from '../../prop-types.js';\nimport { DisabledSelectionLabel } from './disabled-selection-label.js';\nimport { IconizedCheckbox } from './iconized-checkbox.js';\nimport { LabelContainer } from './label-container.js';\nimport { SingleSelectionLabel } from './single-selection-label.js';\n\nconst createNewSelected = _ref => {\n  let {\n    selected,\n    path,\n    checked,\n    singleSelection\n  } = _ref;\n  const pathIndex = selected.indexOf(path);\n\n  if (checked && pathIndex !== -1) {\n    return selected;\n  }\n\n  if (singleSelection && checked) {\n    return [path];\n  }\n\n  if (checked) {\n    return [...selected, path];\n  }\n\n  if (pathIndex === -1) {\n    return selected;\n  }\n\n  if (singleSelection) {\n    return [];\n  }\n\n  if (selected.indexOf(path) === 0) {\n    return selected.slice(1);\n  }\n\n  const prevSlice = selected.slice(0, pathIndex);\n  const nextSlice = selected.slice(pathIndex + 1);\n  return [...prevSlice, ...nextSlice];\n};\n\nconst Label = _ref2 => {\n  let {\n    checked,\n    children,\n    dataTest,\n    disableSelection,\n    fullPath,\n    hasChildren,\n    hasSelectedDescendants,\n    highlighted,\n    loading,\n    node,\n    onChange,\n    onToggleOpen,\n    open,\n    rootId,\n    selected,\n    singleSelection\n  } = _ref2;\n\n  const onClick = (_ref3, event) => {\n    let {\n      checked\n    } = _ref3;\n    const newSelected = createNewSelected({\n      path: fullPath,\n      selected,\n      checked,\n      singleSelection,\n      rootId\n    }); // @TODO: It'd make more sense to pass the node as an object\n    // instead of spread it. But that'd be a breaking change\n\n    const payload = { ...node,\n      path: fullPath,\n      checked,\n      selected: newSelected\n    };\n    onChange(payload, event);\n  };\n\n  if (disableSelection) {\n    return /*#__PURE__*/React.createElement(LabelContainer, {\n      highlighted: highlighted\n    }, /*#__PURE__*/React.createElement(DisabledSelectionLabel, {\n      loading: loading,\n      onToggleOpen: onToggleOpen\n    }, children));\n  }\n\n  if (singleSelection) {\n    return /*#__PURE__*/React.createElement(LabelContainer, {\n      highlighted: highlighted\n    }, /*#__PURE__*/React.createElement(SingleSelectionLabel, {\n      checked: checked,\n      onChange: onClick,\n      loading: loading\n    }, children));\n  }\n\n  return /*#__PURE__*/React.createElement(LabelContainer, {\n    highlighted: highlighted\n  }, /*#__PURE__*/React.createElement(IconizedCheckbox, {\n    dataTest: dataTest,\n    checked: checked,\n    name: \"org-unit\",\n    value: node.id,\n    loading: loading,\n    indeterminate: !checked && hasSelectedDescendants,\n    onChange: onClick,\n    open: open,\n    hasChildren: hasChildren\n  }, children));\n};\n\nLabel.propTypes = {\n  // This is `any` so it can be customized by the app\n  children: PropTypes.any.isRequired,\n  dataTest: PropTypes.string.isRequired,\n  fullPath: PropTypes.string.isRequired,\n  hasChildren: PropTypes.bool.isRequired,\n  loading: PropTypes.bool.isRequired,\n  node: PropTypes.shape({\n    displayName: PropTypes.string.isRequired,\n    id: PropTypes.string.isRequired,\n    children: PropTypes.number,\n    path: PropTypes.string\n  }).isRequired,\n  open: PropTypes.bool.isRequired,\n  rootId: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n  onToggleOpen: PropTypes.func.isRequired,\n  checked: PropTypes.bool,\n  disableSelection: PropTypes.bool,\n  hasSelectedDescendants: PropTypes.bool,\n  highlighted: PropTypes.bool,\n  selected: PropTypes.arrayOf(orgUnitPathPropType),\n  singleSelection: PropTypes.bool\n};\nexport { Label };","import _JSXStyle from \"styled-jsx/style\";\nimport { CircularLoader } from '@dhis2-ui/loader';\nimport React from 'react';\nconst loadingSpinnerStyles = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"358163430\"\n  }, [\".extrasmall.jsx-358163430{display:block;margin:3px 0;}\"]),\n  className: \"jsx-358163430\"\n};\nexport const LoadingSpinner = () => /*#__PURE__*/React.createElement(\"div\", {\n  className: \"jsx-2503342345\"\n}, /*#__PURE__*/React.createElement(CircularLoader, {\n  extrasmall: true,\n  className: loadingSpinnerStyles.className\n}), /*#__PURE__*/React.createElement(\"style\", null, loadingSpinnerStyles.styles), /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"2503342345\"\n}, [\"div.jsx-2503342345{width:24px;}\"]));","/**\n * @param {string[]} includedPaths\n * @param {string} path\n * @returns {bool}\n */\nexport const isPathIncluded = (includedPaths, path) => {\n  const isIncluded = includedPaths.some(includedPath => {\n    if (path === includedPath) {\n      return true;\n    }\n\n    return includedPath.startsWith(\"\".concat(path, \"/\"));\n  });\n  return isIncluded;\n};","import { useDataQuery } from '@dhis2/app-runtime';\nimport { useMemo, useEffect, useRef } from 'react';\nimport { sortNodeChildrenAlphabetically } from '../helpers/index.js';\nconst ORG_DATA_QUERY = {\n  orgUnit: {\n    resource: \"organisationUnits\",\n    id: _ref => {\n      let {\n        id\n      } = _ref;\n      return id;\n    },\n    params: {\n      fields: 'children[id,path,displayName]'\n    }\n  }\n};\n/**\n * @param {string[]} ids\n * @param {Object} options\n * @param {string} options.displayName\n * @param {boolean} [options.withChildren]\n * @returns {Object}\n */\n\nexport const useOrgChildren = _ref2 => {\n  let {\n    node,\n    suppressAlphabeticalSorting,\n    onComplete\n  } = _ref2;\n  const onCompleteCalledRef = useRef(false);\n  const {\n    called,\n    loading,\n    error,\n    data\n  } = useDataQuery(ORG_DATA_QUERY, {\n    variables: {\n      id: node.id\n    }\n  });\n  const orgChildren = useMemo(() => {\n    if (!data) {\n      return undefined;\n    } // undefined or zero\n\n\n    if (!node.children) {\n      return [];\n    }\n\n    const {\n      orgUnit\n    } = data;\n    return suppressAlphabeticalSorting ? orgUnit.children : sortNodeChildrenAlphabetically(orgUnit.children);\n  }, [data, suppressAlphabeticalSorting]);\n  useEffect(() => {\n    if (onComplete && orgChildren && !onCompleteCalledRef.current) {\n      // For backwards compatibility: Pass entire node incl. children\n      onComplete({ ...node,\n        children: orgChildren\n      });\n      onCompleteCalledRef.current = true;\n    }\n  }, [onComplete, orgChildren, onCompleteCalledRef]);\n  return {\n    called,\n    loading,\n    error: error || null,\n    data: orgChildren\n  };\n};","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { isPathIncluded } from '../helpers/index.js';\nimport i18n from '../locales/index.js';\nimport { orgUnitPathPropType } from '../prop-types.js';\nimport { LoadingSpinner } from './loading-spinner.js';\nimport { useOrgChildren } from './use-org-children.js';\n\nconst getFilteredChildren = _ref => {\n  let {\n    orgChildren,\n    filter,\n    node\n  } = _ref;\n\n  if (!(filter !== null && filter !== void 0 && filter.length)) {\n    return orgChildren;\n  }\n\n  return orgChildren.filter(child => {\n    return isPathIncluded(filter, \"\".concat(node.path, \"/\").concat(child.id));\n  });\n};\n\nexport const OrganisationUnitNodeChildren = _ref2 => {\n  let {\n    node,\n    autoExpandLoadingError,\n    dataTest,\n    disableSelection,\n    expanded,\n    filter,\n    highlighted,\n    isUserDataViewFallback,\n    onChange,\n    onChildrenLoaded,\n    onCollapse,\n    onExpand,\n    parentPath,\n    renderNodeLabel,\n    rootId,\n    selected,\n    singleSelection,\n    suppressAlphabeticalSorting,\n    OrganisationUnitNode\n  } = _ref2;\n  const orgChildren = useOrgChildren({\n    node,\n    isUserDataViewFallback,\n    suppressAlphabeticalSorting,\n    onComplete: onChildrenLoaded\n  });\n  const displayChildren = orgChildren.called && !orgChildren.loading && !orgChildren.error;\n  const filteredChildren = displayChildren ? getFilteredChildren({\n    orgChildren: orgChildren.data,\n    filter,\n    node\n  }) : [];\n  return /*#__PURE__*/React.createElement(React.Fragment, null, orgChildren.loading && /*#__PURE__*/React.createElement(LoadingSpinner, null), orgChildren.error && \"Error: \".concat(orgChildren.error), displayChildren && !filteredChildren.length && i18n.t('No children match filter'), !!filteredChildren.length && filteredChildren.map(child => {\n    const childPath = \"\".concat(parentPath, \"/\").concat(child.id);\n    return /*#__PURE__*/React.createElement(OrganisationUnitNode, {\n      autoExpandLoadingError: autoExpandLoadingError,\n      dataTest: dataTest,\n      disableSelection: disableSelection,\n      displayName: child.displayName,\n      expanded: expanded,\n      filter: filter,\n      highlighted: highlighted,\n      id: child.id,\n      isUserDataViewFallback: isUserDataViewFallback,\n      key: childPath,\n      onChange: onChange,\n      onChildrenLoaded: onChildrenLoaded,\n      onCollapse: onCollapse,\n      onExpand: onExpand,\n      path: childPath,\n      renderNodeLabel: renderNodeLabel,\n      rootId: rootId,\n      selected: selected,\n      singleSelection: singleSelection,\n      suppressAlphabeticalSorting: suppressAlphabeticalSorting\n    });\n  }));\n};\nOrganisationUnitNodeChildren.propTypes = {\n  // Prevent cirular imports\n  OrganisationUnitNode: PropTypes.func.isRequired,\n  dataTest: PropTypes.string.isRequired,\n  node: PropTypes.object.isRequired,\n  parentPath: PropTypes.string.isRequired,\n  renderNodeLabel: PropTypes.func.isRequired,\n  rootId: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n  autoExpandLoadingError: PropTypes.bool,\n  disableSelection: PropTypes.bool,\n  expanded: PropTypes.arrayOf(orgUnitPathPropType),\n  filter: PropTypes.arrayOf(orgUnitPathPropType),\n  highlighted: PropTypes.arrayOf(orgUnitPathPropType),\n  isUserDataViewFallback: PropTypes.bool,\n  selected: PropTypes.arrayOf(orgUnitPathPropType),\n  singleSelection: PropTypes.bool,\n  suppressAlphabeticalSorting: PropTypes.bool,\n  onChildrenLoaded: PropTypes.func,\n  onCollapse: PropTypes.func,\n  onExpand: PropTypes.func\n};","// sort mutates the original\nexport const sortNodeChildrenAlphabetically = children => [...children].sort((left, right) => left.displayName.localeCompare(right.displayName));","import { useEffect, useState } from 'react';\n/**\n * @param {Object} args\n * @param {string} args.path\n * @param {string} [args.errorMessage]\n * @param {string} [args.autoExpandLoadingError]\n * @param {string[]} args.expanded\n * @param {Function} [args.onExpand]\n * @param {Function} [args.onCollapse]\n * @returns {Object}\n */\n\nexport const useOpenState = _ref => {\n  let {\n    path,\n    expanded,\n    onExpand,\n    onCollapse,\n    errorMessage,\n    autoExpandLoadingError\n  } = _ref;\n  const autoExpand = autoExpandLoadingError && !!errorMessage;\n  const [openedOnceDueToError, setOpenedOnce] = useState(!!errorMessage);\n  useEffect(() => {\n    if (autoExpand && !openedOnceDueToError) {\n      onExpand({\n        path\n      });\n      setOpenedOnce(true);\n    }\n  }, [autoExpand, openedOnceDueToError]);\n  const open = autoExpand && !openedOnceDueToError || !!expanded.includes(path);\n\n  const onToggleOpen = () => !open ? onExpand({\n    path\n  }) : onCollapse({\n    path\n  });\n\n  return {\n    open,\n    onToggleOpen,\n    openedOnceDueToError\n  };\n};","import { useDataQuery } from '@dhis2/app-runtime';\nconst ORG_DATA_QUERY = {\n  orgUnit: {\n    resource: \"organisationUnits\",\n    id: _ref => {\n      let {\n        id\n      } = _ref;\n      return id;\n    },\n    params: _ref2 => {\n      let {\n        isUserDataViewFallback\n      } = _ref2;\n      return {\n        isUserDataViewFallback,\n        fields: ['path', 'children::size']\n      };\n    }\n  }\n};\n/**\n * @param {string[]} ids\n * @param {Object} options\n * @param {string} options.displayName\n * @param {bool} options.isUserDataViewFallback\n * @returns {Object}\n */\n\nexport const useOrgData = (id, _ref3) => {\n  let {\n    displayName,\n    isUserDataViewFallback\n  } = _ref3;\n\n  if (!displayName) {\n    throw new Error('\"displayName\" is required');\n  }\n\n  const variables = {\n    id,\n    isUserDataViewFallback\n  };\n  const {\n    loading,\n    error,\n    data = {}\n  } = useDataQuery(ORG_DATA_QUERY, {\n    variables\n  });\n  return {\n    loading,\n    error: error || null,\n    data: {\n      id,\n      displayName,\n      ...data.orgUnit\n    }\n  };\n};","import { Node } from '@dhis2-ui/node';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { leftTrimToRootId } from '../helpers/index.js';\nimport i18n from '../locales/index.js';\nimport { orgUnitPathPropType } from '../prop-types.js';\nimport { ErrorMessage } from './error-message.js';\nimport { hasDescendantSelectedPaths } from './has-descendant-selected-paths.js';\nimport { Label } from './label/index.js';\nimport { LoadingSpinner } from './loading-spinner.js';\nimport { OrganisationUnitNodeChildren } from './organisation-unit-node-children.js';\nimport { useOpenState } from './use-open-state.js';\nimport { useOrgData } from './use-org-data/index.js';\nexport const OrganisationUnitNode = _ref => {\n  let {\n    autoExpandLoadingError,\n    dataTest,\n    disableSelection,\n    displayName,\n    expanded,\n    highlighted,\n    id,\n    isUserDataViewFallback,\n    path,\n    renderNodeLabel,\n    rootId,\n    selected,\n    singleSelection,\n    filter,\n    suppressAlphabeticalSorting,\n    onChange,\n    onChildrenLoaded,\n    onCollapse,\n    onExpand\n  } = _ref;\n  const orgData = useOrgData(id, {\n    isUserDataViewFallback,\n    displayName\n  });\n  const strippedPath = leftTrimToRootId(path, rootId);\n  const node = {\n    // guarantee that displayName and id are avaiable before data loaded\n    displayName,\n    id,\n    ...(orgData.data || {}),\n    // do not override strippedPath with path from loaded data\n    path: strippedPath\n  };\n  const hasChildren = !!node.children && node.children > 0;\n  const hasSelectedDescendants = hasDescendantSelectedPaths(strippedPath, selected, rootId);\n  const isHighlighted = highlighted.includes(path);\n  const {\n    open,\n    onToggleOpen\n  } = useOpenState({\n    autoExpandLoadingError,\n    errorMessage: orgData.error && orgData.error.toString(),\n    path: strippedPath,\n    expanded,\n    onExpand,\n    onCollapse\n  });\n  const isSelected = !!selected.find(curPath => curPath.match(new RegExp(\"\".concat(strippedPath, \"$\"))));\n  const labelContent = renderNodeLabel({\n    disableSelection,\n    hasChildren,\n    hasSelectedDescendants,\n    loading: orgData.loading,\n    error: orgData.error,\n    selected,\n    open,\n    path,\n    singleSelection,\n    node,\n    label: displayName,\n    checked: isSelected,\n    highlighted: isHighlighted\n  });\n  const label = /*#__PURE__*/React.createElement(Label, {\n    node: node,\n    fullPath: path,\n    open: open,\n    loading: orgData.loading,\n    checked: isSelected,\n    rootId: rootId,\n    onChange: onChange,\n    dataTest: \"\".concat(dataTest, \"-label\"),\n    selected: selected,\n    hasChildren: hasChildren,\n    highlighted: isHighlighted,\n    onToggleOpen: onToggleOpen,\n    disableSelection: disableSelection,\n    singleSelection: singleSelection,\n    hasSelectedDescendants: hasSelectedDescendants\n  }, labelContent);\n  /**\n   * No children means no arrow, therefore we have to provide something.\n   * While \"loading\" is true, \"hasChildren\" is false\n   * There are some possible children variants as content of this node:\n   *\n   * 1. Nothing; There are no children\n   * 2. Placeholder: There are children, but the Node is closed (show arrow)\n   * 3. Error: There are children and loading information somehow failed\n   * 4. Child nodes: There are children and the node is open\n   */\n\n  const showPlaceholder = hasChildren && !open && !orgData.error;\n  const showChildNodes = hasChildren && open && !orgData.error;\n  return /*#__PURE__*/React.createElement(Node, {\n    dataTest: \"\".concat(dataTest, \"-node\"),\n    open: open,\n    onOpen: onToggleOpen,\n    onClose: onToggleOpen,\n    component: label,\n    icon: orgData.loading && /*#__PURE__*/React.createElement(LoadingSpinner, null)\n  }, orgData.error && /*#__PURE__*/React.createElement(ErrorMessage, {\n    dataTest: dataTest\n  }, i18n.t('Could not load children')), showPlaceholder && /*#__PURE__*/React.createElement(\"span\", {\n    \"data-test\": \"\".concat(dataTest, \"-placeholder\")\n  }), showChildNodes && /*#__PURE__*/React.createElement(OrganisationUnitNodeChildren // Prevent cirular imports\n  , {\n    OrganisationUnitNode: OrganisationUnitNode,\n    node: node,\n    autoExpandLoadingError: autoExpandLoadingError,\n    dataTest: dataTest,\n    disableSelection: disableSelection,\n    expanded: expanded,\n    filter: filter,\n    highlighted: highlighted,\n    isUserDataViewFallback: isUserDataViewFallback,\n    onChange: onChange,\n    onChildrenLoaded: onChildrenLoaded,\n    onCollapse: onCollapse,\n    onExpand: onExpand,\n    parentPath: path,\n    renderNodeLabel: renderNodeLabel,\n    rootId: rootId,\n    selected: selected,\n    singleSelection: singleSelection,\n    suppressAlphabeticalSorting: suppressAlphabeticalSorting\n  }));\n};\nOrganisationUnitNode.propTypes = {\n  dataTest: PropTypes.string.isRequired,\n  id: PropTypes.string.isRequired,\n  renderNodeLabel: PropTypes.func.isRequired,\n  rootId: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n  autoExpandLoadingError: PropTypes.bool,\n  disableSelection: PropTypes.bool,\n  displayName: PropTypes.string,\n  expanded: PropTypes.arrayOf(orgUnitPathPropType),\n  filter: PropTypes.arrayOf(orgUnitPathPropType),\n  highlighted: PropTypes.arrayOf(orgUnitPathPropType),\n  isUserDataViewFallback: PropTypes.bool,\n  path: orgUnitPathPropType,\n  selected: PropTypes.arrayOf(orgUnitPathPropType),\n  singleSelection: PropTypes.bool,\n  suppressAlphabeticalSorting: PropTypes.bool,\n  onChildrenLoaded: PropTypes.func,\n  onCollapse: PropTypes.func,\n  onExpand: PropTypes.func\n};","export const leftTrimToRootId = (path, rootId) => {\n  return path.replace(new RegExp(\"^.*(/\".concat(rootId, \")\")), '$1');\n};","export const defaultRenderNodeLabel = _ref => {\n  let {\n    label\n  } = _ref;\n  return label;\n};","import PropTypes from 'prop-types';\nimport React from 'react';\nimport i18n from '../locales/index.js';\nexport const RootError = _ref => {\n  let {\n    dataTest,\n    error\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest\n  }, i18n.t('Error: {{ ERRORMESSAGE }}', {\n    ERRORMESSAGE: error,\n    nsSeparator: '>'\n  }));\n};\nRootError.defaultProps = {\n  dataTest: 'dhis2-uiwidgets-orgunittree-error'\n};\nRootError.propTypes = {\n  error: PropTypes.string.isRequired,\n  dataTest: PropTypes.string\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { CircularLoader } from '@dhis2-ui/loader';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport const RootLoading = _ref => {\n  let {\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    className: \"jsx-814846266\"\n  }, /*#__PURE__*/React.createElement(CircularLoader, {\n    small: true\n  }), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"814846266\"\n  }, [\"div.jsx-814846266{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}\"]));\n};\nRootLoading.defaultProps = {\n  dataTest: 'dhis2-uiwidgets-orgunittree-loading'\n};\nRootLoading.propTypes = {\n  dataTest: PropTypes.string\n};","/**\n * @template T\n * @param {Array.<T>} arr\n * @returns {Array.<T>}\n */\nconst removeDuplicates = arr => Array.from(new Set(arr));\n/**\n * @param {string} path\n * @returns {string[]}\n */\n\n\nconst extractAllPathsFromPath = path => {\n  // remove leading slash and split by path delimiter/slashes\n  const segments = path.replace(/^\\//, '').split('/');\n  const withSubPaths = segments.map((segment, index) => {\n    // take all segments from 0 to index and join them with the delimiter\n    return \"/\".concat(segments.slice(0, index + 1).join('/'));\n  });\n  return removeDuplicates(withSubPaths);\n};\n/**\n * @param {string[]} initiallyExpanded\n * @returns {string[]}\n */\n\n\nexport const getAllExpandedPaths = initiallyExpanded => initiallyExpanded.reduce((all, curPath) => {\n  const allPathsInCurPath = extractAllPathsFromPath(curPath);\n  return [...all, ...allPathsInCurPath];\n}, []);","import { useState } from 'react';\nimport { getAllExpandedPaths } from '../../get-all-expanded-paths/index.js';\nimport { createExpandHandlers } from './create-expand-handlers.js';\n/**\n * @param {string[]} initiallyExpanded\n * @param {Function} [onExpand]\n * @param {Function} [onCollapse]\n * @returns {{ expanded: string[], handleExpand: Function, handleCollapse: Function }}\n */\n\nexport const useExpanded = _ref => {\n  let {\n    initiallyExpanded,\n    onExpand,\n    onCollapse,\n    expandedControlled,\n    handleExpandControlled,\n    handleCollapseControlled\n  } = _ref;\n  const isControlled = !!expandedControlled;\n  const allInitiallyExpandedPaths = isControlled ? [] : getAllExpandedPaths(initiallyExpanded);\n  const [expanded, setExpanded] = useState(allInitiallyExpandedPaths);\n\n  if (isControlled) {\n    return {\n      expanded: expandedControlled,\n      handleExpand: handleExpandControlled,\n      handleCollapse: handleCollapseControlled\n    };\n  }\n\n  const {\n    handleExpand,\n    handleCollapse\n  } = createExpandHandlers({\n    expanded,\n    setExpanded,\n    onExpand,\n    onCollapse\n  });\n  return {\n    expanded,\n    handleExpand,\n    handleCollapse\n  };\n};","/**\n * @param {Object} args\n * @param {string[]} args.expanded\n * @param {Function} args.setExpanded\n * @param {Function} [args.onExpand]\n * @param {Function} [args.onCollapse]\n * @returns {{ handleExpand: Function, handleCollapse: Function }}\n */\nexport const createExpandHandlers = _ref => {\n  let {\n    expanded,\n    setExpanded,\n    onExpand,\n    onCollapse\n  } = _ref;\n\n  const handleExpand = _ref2 => {\n    let {\n      path,\n      ...rest\n    } = _ref2;\n\n    if (!expanded.includes(path)) {\n      setExpanded([...expanded, path]);\n\n      if (onExpand) {\n        onExpand({\n          path,\n          ...rest\n        });\n      }\n    }\n  };\n\n  const handleCollapse = _ref3 => {\n    let {\n      path,\n      ...rest\n    } = _ref3;\n    const pathIndex = expanded.indexOf(path);\n\n    if (pathIndex !== -1) {\n      const updatedExpanded = pathIndex === 0 ? expanded.slice(1) : [...expanded.slice(0, pathIndex), ...expanded.slice(pathIndex + 1)];\n      setExpanded(updatedExpanded);\n\n      if (onCollapse) {\n        onCollapse({\n          path,\n          ...rest\n        });\n      }\n    }\n  };\n\n  return {\n    handleExpand,\n    handleCollapse\n  };\n};","import { useDataQuery } from '@dhis2/app-runtime';\nimport { useMemo } from 'react';\nimport { patchMissingDisplayName } from './patch-missing-display-name.js';\nexport const createRootQuery = ids => ids.reduce((query, id) => ({ ...query,\n  [id]: {\n    id,\n    resource: \"organisationUnits\",\n    params: _ref => {\n      let {\n        isUserDataViewFallback\n      } = _ref;\n      return {\n        isUserDataViewFallback,\n        fields: ['displayName', 'path', 'id']\n      };\n    }\n  }\n}), {});\n/**\n * @param {string[]} ids\n * @param {Object} [options]\n * @param {boolean} [options.withChildren]\n * @param {boolean} [options.isUserDataViewFallback]\n * @returns {Object}\n */\n\nexport const useRootOrgData = function (ids) {\n  let {\n    isUserDataViewFallback\n  } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const query = useMemo(() => createRootQuery(ids), [ids]);\n  const variables = {\n    isUserDataViewFallback\n  };\n  const rootOrgUnits = useDataQuery(query, {\n    variables\n  });\n  const {\n    called,\n    loading,\n    error,\n    data,\n    refetch\n  } = rootOrgUnits;\n  const patchedData = useMemo(() => {\n    return data ? patchMissingDisplayName(data) : data;\n  }, [data]);\n  return {\n    called,\n    loading,\n    error: error || null,\n    data: patchedData || null,\n    refetch\n  };\n};","/**\n * Note by JGS: I can't recall why this is necessary,\n * but it's there.. So I guess it's better to leave it in for now\n * and investigate why this is necessary in the first place!\n * Maybe we can omit this completely and remove the state from\n * the useRootOrgData hook entirely\n * @TODO: Investigate if this could be removed\n *\n * @param {Object[]} nodes\n * @returns {}\n */\nexport const patchMissingDisplayName = nodes => {\n  const nodeEntries = Object.entries(nodes);\n  const nodesWithDisplayName = nodeEntries.map(_ref => {\n    let [id, node] = _ref;\n    const displayName = node.displayName || '';\n    return [id, { ...node,\n      displayName\n    }];\n  });\n  return Object.fromEntries(nodesWithDisplayName);\n};","import { requiredIf } from '@dhis2/prop-types';\nimport PropTypes from 'prop-types';\nimport React, { useEffect, useState } from 'react';\nimport { OrganisationUnitNode } from '../organisation-unit-node/index.js';\nimport { orgUnitPathPropType } from '../prop-types.js';\nimport { defaultRenderNodeLabel } from './default-render-node-label/index.js';\nimport { filterRootIds } from './filter-root-ids.js';\nimport { RootError } from './root-error.js';\nimport { RootLoading } from './root-loading.js';\nimport { useExpanded } from './use-expanded/index.js';\nimport { useForceReload } from './use-force-reload.js';\nimport { useRootOrgData } from './use-root-org-data/index.js';\n\nconst OrganisationUnitTree = _ref => {\n  let {\n    onChange,\n    roots,\n    autoExpandLoadingError,\n    dataTest,\n    disableSelection,\n    forceReload,\n    highlighted,\n    isUserDataViewFallback,\n    initiallyExpanded,\n    filter,\n    renderNodeLabel,\n    selected,\n    singleSelection,\n    suppressAlphabeticalSorting,\n    expanded: expandedControlled,\n    handleExpand: handleExpandControlled,\n    handleCollapse: handleCollapseControlled,\n    onExpand,\n    onCollapse,\n    onChildrenLoaded\n  } = _ref;\n  const rootIds = filterRootIds(filter, Array.isArray(roots) ? roots : [roots]);\n  const reloadId = useForceReload(forceReload);\n  const [prevReloadId, setPrevReloadId] = useState(reloadId);\n  const {\n    called,\n    loading,\n    error,\n    data,\n    refetch\n  } = useRootOrgData(rootIds, {\n    isUserDataViewFallback,\n    suppressAlphabeticalSorting\n  });\n  const {\n    expanded,\n    handleExpand,\n    handleCollapse\n  } = useExpanded({\n    initiallyExpanded,\n    onExpand,\n    onCollapse,\n    expandedControlled,\n    handleExpandControlled,\n    handleCollapseControlled\n  });\n  useEffect(() => {\n    // do not refetch on initial render\n    if (refetch && reloadId > 0 && reloadId !== prevReloadId) {\n      refetch();\n      setPrevReloadId(reloadId);\n    }\n\n    return () => console.warn('@TODO: Why does this component unmount after a force reload?');\n  }, [reloadId, prevReloadId, refetch]);\n  const isLoading = !called || loading;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest\n  }, isLoading && /*#__PURE__*/React.createElement(RootLoading, null), error && /*#__PURE__*/React.createElement(RootError, {\n    error: error\n  }), !error && !isLoading && rootIds.map(rootId => {\n    const rootNode = data[rootId];\n    return /*#__PURE__*/React.createElement(OrganisationUnitNode, {\n      key: rootNode.path,\n      rootId: rootId,\n      autoExpandLoadingError: autoExpandLoadingError,\n      dataTest: dataTest,\n      disableSelection: disableSelection,\n      displayName: rootNode.displayName,\n      expanded: expanded,\n      highlighted: highlighted,\n      id: rootId,\n      isUserDataViewFallback: isUserDataViewFallback,\n      filter: filter,\n      path: rootNode.path,\n      renderNodeLabel: renderNodeLabel,\n      selected: selected,\n      singleSelection: singleSelection,\n      suppressAlphabeticalSorting: suppressAlphabeticalSorting,\n      onChange: onChange,\n      onChildrenLoaded: onChildrenLoaded,\n      onCollapse: handleCollapse,\n      onExpand: handleExpand\n    });\n  }));\n};\n\nOrganisationUnitTree.propTypes = {\n  /** Root org unit ID(s) */\n  roots: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]).isRequired,\n\n  /** Will be called with the following object:\n   * `{ id: string, displayName: string, path: string, checked: boolean, selected: string[] }` */\n  onChange: PropTypes.func.isRequired,\n\n  /** When set, the error when loading children fails will be shown automatically */\n  autoExpandLoadingError: PropTypes.bool,\n  dataTest: PropTypes.string,\n\n  /** When set to true, no unit can be selected */\n  disableSelection: PropTypes.bool,\n  expanded: requiredIf(props => !!props.handleExpand || !!props.handleCollapse, PropTypes.arrayOf(PropTypes.string)),\n\n  /**\n   * All organisation units with a path that includes the provided paths will be shown.\n   * All others will not be rendered. When not provided, all org units will be shown.\n   */\n  filter: PropTypes.arrayOf(orgUnitPathPropType),\n\n  /** When true, everything will be reloaded. In order to load it again after reloading, `forceReload` has to be set to `false` and then to `true` again */\n  forceReload: PropTypes.bool,\n  handleCollapse: requiredIf(props => !!props.expanded || !!props.handleExpand, PropTypes.func),\n  handleExpand: requiredIf(props => !!props.expanded || !!props.handleCollapse, PropTypes.func),\n\n  /**\n   * All units provided to \"highlighted\" as path will be visually\n   * highlighted.\n   * Note:\n   * The d2-ui component used two props for this:\n   * * searchResults\n   * * highlightSearchResults\n   */\n  highlighted: PropTypes.arrayOf(orgUnitPathPropType),\n\n  /**\n   * An array of OU paths that will be expanded automatically\n   * as soon as they are encountered.\n   * The path of an OU is the UIDs of the OU\n   * and all its parent OUs separated by slashes (/)\n   * Note: This replaces \"openFirstLevel\" as that's redundant\n   */\n  initiallyExpanded: PropTypes.arrayOf(orgUnitPathPropType),\n\n  /** When provided, the 'isUserDataViewFallback' option will be sent when requesting the org units */\n  isUserDataViewFallback: PropTypes.bool,\n\n  /** Renders the actual node component for each leaf, can be used to\n   * customize the node. The default function just returns the node's\n   * displayName\n   *\n   * Shape of the object passed to the callback:\n   * ```\n   * {\n   *    label: string,\n   *    node: {\n   *      displayName: string,\n   *      id: string,\n   *      // Only provided once `loading` is false\n   *      path?: string,\n   *      // Only provided once `loading` is false\n   *      children?: Array.<{\n   *        id: string,\n   *        path: string,\n   *        displayName: string\n   *      }>\n   *    },\n   *    loading: boolean,\n   *    error: string,\n   *    open: boolean,\n   *    selected: string[],\n   *    singleSelection: boolean,\n   *    disableSelection: boolean,\n   * }\n   * ``` */\n  renderNodeLabel: PropTypes.func,\n\n  /** An array of paths of selected OUs. The path of an OU is the UIDs of the OU and all its parent OUs separated by slashes (`/`) */\n  selected: PropTypes.arrayOf(orgUnitPathPropType),\n\n  /** When set, no checkboxes will be displayed and only the first selected path in `selected` will be highlighted */\n  singleSelection: PropTypes.bool,\n\n  /** Turns off alphabetical sorting of units */\n  suppressAlphabeticalSorting: PropTypes.bool,\n\n  /** Called with the children's data that was loaded */\n  onChildrenLoaded: PropTypes.func,\n\n  /** Called with `{ path: string }` with the path of the parent of the level closed */\n  onCollapse: PropTypes.func,\n\n  /** Called with `{ path: string }` with the path of the parent of the level opened */\n  onExpand: PropTypes.func\n  /**\n   * All units with ids (not paths!) provided\n   * to \"idsThatShouldBeReloaded\" will be reloaded\n   * In order to reload an id twice, the array must be changed\n   * while keeping the id to reload in the array\n   *\n   * NOTE: This is currently not working due to a limitation\n   * of the data engine (we can't force specific resource to reload,\n   * we'd have to reload the sibling nodes currently as well)\n   */\n  //idsThatShouldBeReloaded: propTypes.arrayOf(orgUnitIdPropType),\n\n};\nOrganisationUnitTree.defaultProps = {\n  dataTest: 'dhis2-uiwidgets-orgunittree',\n  filter: [],\n  highlighted: [],\n  initiallyExpanded: [],\n  selected: [],\n  renderNodeLabel: defaultRenderNodeLabel\n};\nexport { OrganisationUnitTree };","import { isPathIncluded } from '../helpers/index.js';\nexport const filterRootIds = (filter, rootIds) => {\n  if (!(filter !== null && filter !== void 0 && filter.length)) {\n    return rootIds;\n  }\n\n  return rootIds.filter(rootId => isPathIncluded(filter, \"/\".concat(rootId)));\n};","import { useEffect, useState } from 'react';\n/**\n * This will create a new reloadId everytime \"forceReload\" changes to true,\n * which can be used as the \"key\" prop on the org unit tree.\n * When that id changes, the whole tree rerenders\n * and therefore triggers all \"useDataQuery\"s to\n * run the query again\n *\n * @param {bool} forceReload\n * @returns {Int}\n */\n\nexport const useForceReload = forceReload => {\n  const [reloadId, setReloadId] = useState(0);\n  useEffect(() => {\n    const nextReloadId = reloadId + 1;\n    forceReload === true && setReloadId(nextReloadId);\n  }, [forceReload]);\n  return reloadId;\n};","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nfunction SvgWarningFilled16(_ref) {\n  let {\n    color,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 16,\n    viewBox: \"0 0 15 16\",\n    width: 15,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8.85 1.839l.056.103 5.43 11.635a1 1 0 01-.79 1.416L13.43 15H2.57a1 1 0 01-.95-1.314l.044-.109 5.43-11.635a1 1 0 011.757-.103zM8 11a1 1 0 100 2 1 1 0 000-2zm1-6H7v5h2z\",\n    fill: \"currentColor\"\n  }));\n}\n\nSvgWarningFilled16.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default SvgWarningFilled16;","import { onError } from './index.js';\nconst orgUnitLevelsQuery = {\n  resource: 'organisationUnitLevels',\n  params: function () {\n    let {\n      displayNameProp = 'displayName'\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return {\n      fields: `id,level,${displayNameProp}~rename(displayName),name`,\n      paging: false\n    };\n  }\n};\nconst orgUnitGroupsQuery = {\n  resource: 'organisationUnitGroups',\n  params: function () {\n    let {\n      displayNameProp = 'displayName'\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return {\n      fields: `id,${displayNameProp}~rename(displayName),name`,\n      paging: false\n    };\n  }\n};\nconst orgUnitRootsQuery = {\n  resource: 'organisationUnits',\n  params: {\n    fields: 'id,displayName,name',\n    userDataViewFallback: true,\n    paging: false\n  }\n};\nconst orgUnitsQuery = {\n  resource: 'organisationUnits',\n  params: _ref => {\n    let {\n      displayNameProp\n    } = _ref;\n    return {\n      fields: `id,path,${displayNameProp}~rename(displayName),children::isNotEmpty`,\n      level: 1,\n      userDataViewFallback: true,\n      paging: false\n    };\n  }\n};\nconst orgUnitQuery = {\n  resource: 'organisationUnits',\n  id: _ref2 => {\n    let {\n      id\n    } = _ref2;\n    return id;\n  },\n  params: {\n    fields: 'id,level,displayName~rename(name),path,parent[id,displayName~rename(name)],children[level]',\n    userDataViewFallback: true,\n    paging: false\n  }\n};\nexport const apiFetchOrganisationUnitLevels = async dataEngine => {\n  const orgUnitLevelsData = await dataEngine.query({\n    orgUnitLevels: orgUnitLevelsQuery\n  }, {\n    onError\n  });\n  return orgUnitLevelsData.orgUnitLevels.organisationUnitLevels;\n};\nexport const apiFetchOrganisationUnitGroups = async (dataEngine, displayNameProp) => {\n  const orgUnitGroupsData = await dataEngine.query({\n    orgUnitGroups: orgUnitGroupsQuery\n  }, {\n    variables: {\n      displayNameProp\n    },\n    onError\n  });\n  return orgUnitGroupsData.orgUnitGroups.organisationUnitGroups;\n};\nexport const apiFetchOrganisationUnitRoots = async dataEngine => {\n  const orgUnitRootsData = await dataEngine.query({\n    orgUnitRoots: orgUnitRootsQuery\n  }, {\n    onError\n  });\n  return orgUnitRootsData.orgUnitRoots.organisationUnits;\n};\n\n// TODO: Unused, previously used to load all org units for the tree, but that is done by the ui component internally now, remove?\nexport const apiFetchOrganisationUnits = async (dataEngine, displayNameProp) => {\n  const orgUnitsData = await dataEngine.query({\n    orgUnits: orgUnitsQuery\n  }, {\n    variables: {\n      displayNameProp\n    },\n    onError\n  });\n  return orgUnitsData.orgUnits.organisationUnits;\n};\nexport const apiFetchOrganisationUnit = async (dataEngine, id) => {\n  const orgUnitData = await dataEngine.query({\n    orgUnit: orgUnitQuery\n  }, {\n    variables: {\n      id\n    },\n    onError\n  });\n  return orgUnitData.orgUnit;\n};","import i18n from '../locales/index.js';\nexport const formatList = items => {\n  // Wrap Intl.ListFormat in try/catch as DHIS2 locales are not always ISO 639 compliant\n  try {\n    const formatter = new Intl.ListFormat(i18n.language, {\n      style: 'long',\n      type: 'conjunction'\n    });\n    return formatter.format(items);\n  } catch (error) {\n    return items.join(', ');\n  }\n};","const LEVEL_ID_PREFIX = 'LEVEL';\nconst GROUP_ID_PREFIX = 'OU_GROUP';\nexport const USER_ORG_UNIT = 'USER_ORGUNIT';\nexport const USER_ORG_UNIT_CHILDREN = 'USER_ORGUNIT_CHILDREN';\nexport const USER_ORG_UNIT_GRANDCHILDREN = 'USER_ORGUNIT_GRANDCHILDREN';\nconst hasGroupPrefix = id => id.substr(0, GROUP_ID_PREFIX.length) === GROUP_ID_PREFIX;\nconst hasLevelPrefix = id => id.substr(0, LEVEL_ID_PREFIX.length) === LEVEL_ID_PREFIX;\nconst stripLevelPrefix = id => hasLevelPrefix(id) ? id.substr(LEVEL_ID_PREFIX.length + 1) : id;\nconst stripGroupPrefix = id => hasGroupPrefix(id) ? id.substr(GROUP_ID_PREFIX.length + 1) : id;\nconst removePrefix = id => stripGroupPrefix(stripLevelPrefix(id));\nexport const ouIdHelper = Object.freeze({\n  addLevelPrefix: id => `${LEVEL_ID_PREFIX}-${removePrefix(id)}`,\n  addGroupPrefix: id => `${GROUP_ID_PREFIX}-${removePrefix(id)}`,\n  removePrefix,\n  hasGroupPrefix,\n  hasLevelPrefix\n});","import { colors, spacers } from '@dhis2/ui';\nconst _defaultExport = [\".container.jsx-2348205733{height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}\", \".orgUnitTreeWrapper.jsx-2348205733{height:382px;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;overflow:auto;}\", \".orgUnitTreeWrapper.jsx-2348205733>*{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}\", \".disabled.jsx-2348205733{cursor:not-allowed;opacity:0.5;}\", \".disabled.jsx-2348205733>*{pointer-events:none;}\", `.userOrgUnitsWrapper.jsx-2348205733{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;background:${colors.grey200};padding:${spacers.dp8} ${spacers.dp8} ${spacers.dp8} ${spacers.dp24};margin-bottom:${spacers.dp12};}`, `.userOrgUnitsWrapper.jsx-2348205733>*{margin-right:${spacers.dp48};}`, `.selectsWrapper.jsx-2348205733{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;gap:${spacers.dp8};margin-top:${spacers.dp12};}`, \".selectsWrapper.hidden.jsx-2348205733{display:none;}\", \".selectsWrapper.jsx-2348205733>*{width:50%;}\", `.summaryWrapper.jsx-2348205733{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-top:${spacers.dp8};}`, \".warningWrapper.jsx-2348205733{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}\", `.warningText.jsx-2348205733{margin-left:${spacers.dp8};font-size:14px;line-height:18px;color:${colors.red600};}`, `.summaryText.jsx-2348205733{font-size:14px;line-height:18px;color:${colors.grey700};}`, `.deselectButton.jsx-2348205733{display:inline-block;margin-left:${spacers.dp8};}`];\n_defaultExport.__hash = \"2348205733\";\nexport default _defaultExport;","import _JSXStyle from \"styled-jsx/style\";\nimport { useDataEngine } from '@dhis2/app-runtime';\nimport { OrganisationUnitTree, Checkbox, MultiSelect, MultiSelectOption, Button, IconWarningFilled16, colors } from '@dhis2/ui';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { useEffect, useState } from 'react';\nimport { apiFetchOrganisationUnitGroups, apiFetchOrganisationUnitLevels } from '../../api/organisationUnits.js';\nimport i18n from '../../locales/index.js';\nimport { formatList } from '../../modules/list.js';\nimport { ouIdHelper, USER_ORG_UNIT, USER_ORG_UNIT_CHILDREN, USER_ORG_UNIT_GRANDCHILDREN } from '../../modules/ouIdHelper/index.js';\nimport { DIMENSION_ID_ORGUNIT } from '../../modules/predefinedDimensions.js';\nimport styles from './styles/OrgUnitDimension.style.js';\nconst DYNAMIC_ORG_UNITS = [USER_ORG_UNIT, USER_ORG_UNIT_CHILDREN, USER_ORG_UNIT_GRANDCHILDREN];\nconst OrgUnitDimension = _ref => {\n  let {\n    roots,\n    selected,\n    onSelect,\n    hideGroupSelect,\n    hideLevelSelect,\n    hideUserOrgUnits,\n    warning\n  } = _ref;\n  const [ouLevels, setOuLevels] = useState([]);\n  const [ouGroups, setOuGroups] = useState([]);\n  const dataEngine = useDataEngine();\n  const onSelectItems = selectedItem => {\n    const {\n      id,\n      checked,\n      displayName,\n      path\n    } = selectedItem;\n    let result = [...selected];\n    if (checked && DYNAMIC_ORG_UNITS.includes(id)) {\n      result = [...result.filter(item => DYNAMIC_ORG_UNITS.includes(item.id)), {\n        id,\n        displayName\n      }];\n    } else if (checked) {\n      result.push({\n        id,\n        path,\n        name: displayName\n      });\n    } else {\n      result = [...result.filter(item => item.id !== id)];\n    }\n    onSelect({\n      dimensionId: DIMENSION_ID_ORGUNIT,\n      items: result\n    });\n  };\n  const clearSelection = () => onSelect({\n    dimensionId: DIMENSION_ID_ORGUNIT,\n    items: []\n  });\n  useEffect(() => {\n    const doFetchOuLevels = async () => {\n      const result = await apiFetchOrganisationUnitLevels(dataEngine);\n      result.sort((a, b) => a.level > b.level ? 1 : -1);\n      setOuLevels(result);\n    };\n    const doFetchOuGroups = async () => {\n      const result = await apiFetchOrganisationUnitGroups(dataEngine);\n      setOuGroups(result);\n    };\n    !hideLevelSelect && doFetchOuLevels();\n    !hideGroupSelect && doFetchOuGroups();\n  }, [dataEngine, hideLevelSelect, hideGroupSelect]);\n  const onLevelChange = ids => {\n    const items = ids.map(id => ({\n      id: ouIdHelper.addLevelPrefix(id),\n      name: ouLevels.find(level => level.id === id).displayName\n    }));\n    onSelect({\n      dimensionId: DIMENSION_ID_ORGUNIT,\n      items: [...selected.filter(ou => !ouIdHelper.hasLevelPrefix(ou.id)), ...items]\n    });\n  };\n  const onGroupChange = ids => {\n    const items = ids.map(id => ({\n      id: ouIdHelper.addGroupPrefix(id),\n      name: ouGroups.find(group => group.id === id).displayName\n    }));\n    onSelect({\n      dimensionId: DIMENSION_ID_ORGUNIT,\n      items: [...selected.filter(ou => !ouIdHelper.hasGroupPrefix(ou.id)), ...items]\n    });\n  };\n  const getSummary = () => {\n    let summary;\n    if (selected.length) {\n      const numberOfOrgUnits = selected.filter(item => !DYNAMIC_ORG_UNITS.includes(item.id) && !ouIdHelper.hasLevelPrefix(item.id) && !ouIdHelper.hasGroupPrefix(item.id)).length;\n      const numberOfLevels = selected.filter(item => ouIdHelper.hasLevelPrefix(item.id)).length;\n      const numberOfGroups = selected.filter(item => ouIdHelper.hasGroupPrefix(item.id)).length;\n      const userOrgUnits = selected.filter(item => DYNAMIC_ORG_UNITS.includes(item.id));\n      const parts = [];\n      if (numberOfOrgUnits) {\n        parts.push(i18n.t('{{count}} org units', {\n          count: numberOfOrgUnits,\n          defaultValue: '{{count}} org unit',\n          defaultValue_plural: '{{count}} org units'\n        }));\n      }\n      if (numberOfLevels) {\n        parts.push(i18n.t('{{count}} levels', {\n          count: numberOfLevels,\n          defaultValue: '{{count}} level',\n          defaultValue_plural: '{{count}} levels'\n        }));\n      }\n      if (numberOfGroups) {\n        parts.push(i18n.t('{{count}} groups', {\n          count: numberOfGroups,\n          defaultValue: '{{count}} group',\n          defaultValue_plural: '{{count}} groups'\n        }));\n      }\n      userOrgUnits.forEach(orgUnit => {\n        parts.push(orgUnit.name || orgUnit.displayName);\n      });\n      summary = i18n.t('Selected: {{commaSeparatedListOfOrganisationUnits}}', {\n        keySeparator: '>',\n        nsSeparator: '|',\n        commaSeparatedListOfOrganisationUnits: formatList(parts)\n      });\n    } else {\n      summary = i18n.t('Nothing selected');\n    }\n    return summary;\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"container\"\n  }, !hideUserOrgUnits && /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"userOrgUnitsWrapper\"\n  }, /*#__PURE__*/React.createElement(Checkbox, {\n    label: i18n.t('User organisation unit'),\n    checked: selected.some(item => item.id === USER_ORG_UNIT),\n    onChange: _ref2 => {\n      let {\n        checked\n      } = _ref2;\n      return onSelectItems({\n        id: USER_ORG_UNIT,\n        checked,\n        displayName: i18n.t('User organisation unit')\n      });\n    },\n    dense: true\n  }), /*#__PURE__*/React.createElement(Checkbox, {\n    label: i18n.t('User sub-units'),\n    checked: selected.some(item => item.id === USER_ORG_UNIT_CHILDREN),\n    onChange: _ref3 => {\n      let {\n        checked\n      } = _ref3;\n      return onSelectItems({\n        id: USER_ORG_UNIT_CHILDREN,\n        checked,\n        displayName: i18n.t('User sub-units')\n      });\n    },\n    dense: true\n  }), /*#__PURE__*/React.createElement(Checkbox, {\n    label: i18n.t('User sub-x2-units'),\n    checked: selected.some(item => item.id === USER_ORG_UNIT_GRANDCHILDREN),\n    onChange: _ref4 => {\n      let {\n        checked\n      } = _ref4;\n      return onSelectItems({\n        id: USER_ORG_UNIT_GRANDCHILDREN,\n        checked,\n        displayName: i18n.t('User sub-x2-units')\n      });\n    },\n    dense: true\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + (cx('orgUnitTreeWrapper', {\n      disabled: selected.some(item => DYNAMIC_ORG_UNITS.includes(item.id))\n    }) || \"\")\n  }, /*#__PURE__*/React.createElement(OrganisationUnitTree, {\n    roots: roots,\n    initiallyExpanded: [...(roots.length === 1 ? [`/${roots[0]}`] : []), ...selected.filter(item => !DYNAMIC_ORG_UNITS.includes(item.id) && !ouIdHelper.hasLevelPrefix(item.id) && !ouIdHelper.hasGroupPrefix(item.id)).map(item => item.path.substring(0, item.path.lastIndexOf('/'))).filter(path => path)],\n    selected: selected.filter(item => !DYNAMIC_ORG_UNITS.includes(item.id) && !ouIdHelper.hasLevelPrefix(item.id) && !ouIdHelper.hasGroupPrefix(item.id)).map(item => item.path),\n    onChange: onSelectItems,\n    dataTest: 'org-unit-tree'\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + (cx('selectsWrapper', {\n      disabled: selected.some(item => DYNAMIC_ORG_UNITS.includes(item.id)),\n      hidden: hideLevelSelect && hideGroupSelect\n    }) || \"\")\n  }, !hideLevelSelect && /*#__PURE__*/React.createElement(MultiSelect, {\n    selected: ouLevels.length ? selected.filter(item => ouIdHelper.hasLevelPrefix(item.id)).map(item => ouIdHelper.removePrefix(item.id)) : [],\n    onChange: _ref5 => {\n      let {\n        selected\n      } = _ref5;\n      return onLevelChange(selected);\n    },\n    placeholder: i18n.t('Select a level'),\n    loading: !ouLevels.length,\n    dense: true,\n    dataTest: 'org-unit-level-select'\n  }, ouLevels.map(level => /*#__PURE__*/React.createElement(MultiSelectOption, {\n    key: level.id,\n    value: level.id,\n    label: level.displayName,\n    dataTest: `org-unit-level-select-option-${level.id}`\n  }))), !hideGroupSelect && /*#__PURE__*/React.createElement(MultiSelect, {\n    selected: ouGroups.length ? selected.filter(item => ouIdHelper.hasGroupPrefix(item.id)).map(item => ouIdHelper.removePrefix(item.id)) : [],\n    onChange: _ref6 => {\n      let {\n        selected\n      } = _ref6;\n      return onGroupChange(selected);\n    },\n    placeholder: i18n.t('Select a group'),\n    loading: !ouGroups.length,\n    dense: true,\n    dataTest: 'org-unit-group-select'\n  }, ouGroups.map(group => /*#__PURE__*/React.createElement(MultiSelectOption, {\n    key: group.id,\n    value: group.id,\n    label: group.displayName,\n    dataTest: `org-unit-group-select-option-${group.id}`\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"summaryWrapper\"\n  }, warning ? /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"warningWrapper\"\n  }, /*#__PURE__*/React.createElement(IconWarningFilled16, {\n    color: colors.red500\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"warningText\"\n  }, warning)) : /*#__PURE__*/React.createElement(\"span\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"summaryText\"\n  }, getSummary()), /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"deselectButton\"\n  }, /*#__PURE__*/React.createElement(Button, {\n    secondary: true,\n    small: true,\n    onClick: clearSelection,\n    disabled: !selected.length\n  }, i18n.t('Deselect all')))), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: styles.__hash\n  }, styles));\n};\nOrgUnitDimension.defaultProps = {\n  hideGroupSelect: false,\n  hideLevelSelect: false,\n  hideUserOrgUnits: false\n};\nOrgUnitDimension.propTypes = {\n  hideGroupSelect: PropTypes.bool,\n  hideLevelSelect: PropTypes.bool,\n  hideUserOrgUnits: PropTypes.bool,\n  roots: PropTypes.arrayOf(PropTypes.string),\n  selected: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    name: PropTypes.string.isRequired,\n    path: PropTypes.string\n  })),\n  warning: PropTypes.string,\n  onSelect: PropTypes.func\n};\nexport default OrgUnitDimension;","// https://lingohub.com/academy/best-practices/rtl-language-list\nconst rtlLocales = new Set(['ar',\n// Arabic\n'arc',\n// Aramaic\n'dv',\n// Divehi\n'fa',\n// Persian\n'ha',\n// Hausa\n'he',\n// Hebrew\n'khw',\n// Khowar\n'ks',\n// Kashmiri\n'ku',\n// Kurdish\n'ps',\n// Pashto\n'ur',\n// Urdu\n'yi' // Yiddish\n]);\n\n/**\n * A hook to return the direction (left-to-right or right-to-left) based on the language\n *\n * if a \"dir\" is passed to the hook, then that will be used as a direction\n * otherwise it will check if the language (localeIdentifier) is a right-to-left language and return rtl\n * otherwise it defaults to \"ltr\"\n * @param dir\n * @param localeIdentifier\n * @returns\n */\nexport const useResolvedDirection = (dir, localeIdentifier) => {\n  if (dir && ['ltr', 'rtl'].includes(dir)) {\n    return dir;\n  }\n  if (!localeIdentifier) {\n    return 'ltr';\n  }\n  const isRtlLocale = rtlLocales.has(localeIdentifier.split('-')[0]);\n  return isRtlLocale ? 'rtl' : 'ltr';\n};","import type JSBI from 'jsbi';\nimport type { Temporal } from '..';\n\nimport { DEBUG } from './debug';\n\ntype OmitConstructor<T> = { [P in keyof T as T[P] extends new (...args: any[]) => any ? P : never]: T[P] };\n\ntype TemporalIntrinsics = Omit<typeof Temporal, 'Now' | 'Instant' | 'ZonedDateTime'> & {\n  Instant: OmitConstructor<Temporal.Instant> &\n    (new (epochNanoseconds: JSBI) => Temporal.Instant) & { prototype: typeof Temporal.Instant.prototype };\n  ZonedDateTime: OmitConstructor<Temporal.ZonedDateTime> &\n    (new (\n      epochNanoseconds: JSBI,\n      timeZone: string | Temporal.TimeZoneProtocol,\n      calendar?: string | Temporal.CalendarProtocol\n    ) => Temporal.ZonedDateTime) & {\n      prototype: typeof Temporal.ZonedDateTime.prototype;\n      from: typeof Temporal.ZonedDateTime.from;\n      compare: typeof Temporal.ZonedDateTime.compare;\n    };\n};\ntype TemporalIntrinsicRegistrations = {\n  [key in keyof TemporalIntrinsics as `Temporal.${key}`]: TemporalIntrinsics[key];\n};\ntype TemporalIntrinsicPrototypeRegistrations = {\n  [key in keyof TemporalIntrinsics as `Temporal.${key}.prototype`]: TemporalIntrinsics[key]['prototype'];\n};\ntype TemporalIntrinsicRegisteredKeys = {\n  [key in keyof TemporalIntrinsicRegistrations as `%${key}%`]: TemporalIntrinsicRegistrations[key];\n};\ntype TemporalIntrinsicPrototypeRegisteredKeys = {\n  [key in keyof TemporalIntrinsicPrototypeRegistrations as `%${key}%`]: TemporalIntrinsicPrototypeRegistrations[key];\n};\n\ntype CalendarPrototypeKeys = keyof Omit<Temporal.Calendar, typeof Symbol.toStringTag>;\ntype TemporalCalendarIntrinsicRegistrations = {\n  [key in CalendarPrototypeKeys as `Temporal.Calendar.prototype.${key}`]: Temporal.Calendar[key];\n} & {\n  'Temporal.Calendar.from': typeof Temporal.Calendar.from;\n};\ntype TemporalCalendarIntrinsicRegisteredKeys = {\n  [key in keyof TemporalCalendarIntrinsicRegistrations as `%${key}%`]: TemporalCalendarIntrinsicRegistrations[key];\n};\n\ntype TimeZonePrototypeKeys = 'getOffsetNanosecondsFor' | 'getPossibleInstantsFor';\ntype TemporalTimeZoneIntrinsicRegistrations = {\n  [key in TimeZonePrototypeKeys as `Temporal.TimeZone.prototype.${key}`]: Temporal.TimeZone[key];\n} & {\n  'Temporal.TimeZone.from': typeof Temporal.TimeZone.from;\n};\ntype TemporalTimeZoneIntrinsicRegisteredKeys = {\n  [key in keyof TemporalTimeZoneIntrinsicRegistrations as `%${key}%`]: TemporalTimeZoneIntrinsicRegistrations[key];\n};\n\nconst INTRINSICS = {} as TemporalIntrinsicRegisteredKeys &\n  TemporalIntrinsicPrototypeRegisteredKeys &\n  TemporalTimeZoneIntrinsicRegisteredKeys &\n  TemporalCalendarIntrinsicRegisteredKeys;\n\ntype customFormatFunction<T> = (\n  this: T,\n  depth: number,\n  options: { stylize: (value: unknown, type: 'number' | 'special') => string }\n) => string;\nconst customUtilInspectFormatters: Partial<{\n  [key in keyof TemporalIntrinsicRegistrations]: customFormatFunction<\n    InstanceType<TemporalIntrinsicRegistrations[key]>\n  >;\n}> = {\n  ['Temporal.Duration'](depth, options) {\n    const descr = options.stylize(`${this[Symbol.toStringTag]} <${this}>`, 'special');\n    if (depth < 1) return descr;\n    const entries = [];\n    for (const prop of [\n      'years',\n      'months',\n      'weeks',\n      'days',\n      'hours',\n      'minutes',\n      'seconds',\n      'milliseconds',\n      'microseconds',\n      'nanoseconds'\n    ] as const) {\n      if (this[prop] !== 0) entries.push(`  ${prop}: ${options.stylize(this[prop], 'number')}`);\n    }\n    return descr + ' {\\n' + entries.join(',\\n') + '\\n}';\n  }\n};\n\ntype InspectFormatterOptions = { stylize: (str: string, styleType: string) => string };\nfunction defaultUtilInspectFormatter(this: any, depth: number, options: InspectFormatterOptions) {\n  return options.stylize(`${this[Symbol.toStringTag]} <${this}>`, 'special');\n}\n\nexport function MakeIntrinsicClass(\n  Class: TemporalIntrinsicRegistrations[typeof name],\n  name: keyof TemporalIntrinsicRegistrations\n) {\n  Object.defineProperty(Class.prototype, Symbol.toStringTag, {\n    value: name,\n    writable: false,\n    enumerable: false,\n    configurable: true\n  });\n  if (DEBUG) {\n    Object.defineProperty(Class.prototype, Symbol.for('nodejs.util.inspect.custom'), {\n      value: customUtilInspectFormatters[name] || defaultUtilInspectFormatter,\n      writable: false,\n      enumerable: false,\n      configurable: true\n    });\n  }\n  for (const prop of Object.getOwnPropertyNames(Class)) {\n    // we know that `prop` is present, so the descriptor is never undefined\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const desc = Object.getOwnPropertyDescriptor(Class, prop)!;\n    if (!desc.configurable || !desc.enumerable) continue;\n    desc.enumerable = false;\n    Object.defineProperty(Class, prop, desc);\n  }\n  for (const prop of Object.getOwnPropertyNames(Class.prototype)) {\n    // we know that `prop` is present, so the descriptor is never undefined\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const desc = Object.getOwnPropertyDescriptor(Class.prototype, prop)!;\n    if (!desc.configurable || !desc.enumerable) continue;\n    desc.enumerable = false;\n    Object.defineProperty(Class.prototype, prop, desc);\n  }\n\n  DefineIntrinsic(name, Class);\n  DefineIntrinsic(`${name}.prototype`, Class.prototype);\n}\n\ntype IntrinsicDefinitionKeys =\n  | keyof TemporalIntrinsicRegistrations\n  | keyof TemporalIntrinsicPrototypeRegistrations\n  | keyof TemporalCalendarIntrinsicRegistrations\n  | keyof TemporalTimeZoneIntrinsicRegistrations;\nexport function DefineIntrinsic<KeyT extends keyof TemporalIntrinsicRegistrations>(\n  name: KeyT,\n  value: TemporalIntrinsicRegistrations[KeyT]\n): void;\nexport function DefineIntrinsic<KeyT extends keyof TemporalIntrinsicPrototypeRegistrations>(\n  name: KeyT,\n  value: TemporalIntrinsicPrototypeRegistrations[KeyT]\n): void;\nexport function DefineIntrinsic<KeyT extends keyof TemporalCalendarIntrinsicRegistrations>(\n  name: KeyT,\n  value: TemporalCalendarIntrinsicRegistrations[KeyT]\n): void;\nexport function DefineIntrinsic<KeyT extends keyof TemporalTimeZoneIntrinsicRegistrations>(\n  name: KeyT,\n  value: TemporalTimeZoneIntrinsicRegistrations[KeyT]\n): void;\nexport function DefineIntrinsic<KeyT>(name: KeyT, value: never): void;\nexport function DefineIntrinsic<KeyT extends IntrinsicDefinitionKeys>(name: KeyT, value: unknown): void {\n  const key: `%${IntrinsicDefinitionKeys}%` = `%${name}%`;\n  if (INTRINSICS[key] !== undefined) throw new Error(`intrinsic ${name} already exists`);\n  INTRINSICS[key] = value;\n}\nexport function GetIntrinsic<KeyT extends keyof typeof INTRINSICS>(intrinsic: KeyT): typeof INTRINSICS[KeyT] {\n  return INTRINSICS[intrinsic];\n}\n","import type JSBI from 'jsbi';\nimport type { Temporal } from '..';\nimport type { BuiltinCalendarId, AnyTemporalType, CalendarSlot, TimeZoneSlot } from './internaltypes';\n\n// Instant\nexport const EPOCHNANOSECONDS = 'slot-epochNanoSeconds';\n\n// TimeZone\nexport const TIMEZONE_ID = 'slot-timezone-identifier';\n\n// DateTime, Date, Time, YearMonth, MonthDay\nexport const ISO_YEAR = 'slot-year';\nexport const ISO_MONTH = 'slot-month';\nexport const ISO_DAY = 'slot-day';\nexport const ISO_HOUR = 'slot-hour';\nexport const ISO_MINUTE = 'slot-minute';\nexport const ISO_SECOND = 'slot-second';\nexport const ISO_MILLISECOND = 'slot-millisecond';\nexport const ISO_MICROSECOND = 'slot-microsecond';\nexport const ISO_NANOSECOND = 'slot-nanosecond';\nexport const CALENDAR = 'slot-calendar';\n// Date, YearMonth, and MonthDay all have the same slots, disambiguation needed:\nexport const DATE_BRAND = 'slot-date-brand';\nexport const YEAR_MONTH_BRAND = 'slot-year-month-brand';\nexport const MONTH_DAY_BRAND = 'slot-month-day-brand';\n\n// ZonedDateTime\nexport const INSTANT = 'slot-cached-instant';\nexport const TIME_ZONE = 'slot-time-zone';\n\n// Duration\nexport const YEARS = 'slot-years';\nexport const MONTHS = 'slot-months';\nexport const WEEKS = 'slot-weeks';\nexport const DAYS = 'slot-days';\nexport const HOURS = 'slot-hours';\nexport const MINUTES = 'slot-minutes';\nexport const SECONDS = 'slot-seconds';\nexport const MILLISECONDS = 'slot-milliseconds';\nexport const MICROSECONDS = 'slot-microseconds';\nexport const NANOSECONDS = 'slot-nanoseconds';\n\n// Calendar\nexport const CALENDAR_ID = 'slot-calendar-identifier';\n\ninterface SlotInfo<ValueType, UsedByType extends AnyTemporalType> {\n  value: ValueType;\n  usedBy: UsedByType;\n}\n\ninterface SlotInfoRecord {\n  [k: string]: SlotInfo<unknown, AnyTemporalType>;\n}\n\ninterface Slots extends SlotInfoRecord {\n  // Instant\n  [EPOCHNANOSECONDS]: SlotInfo<JSBI, Temporal.Instant | Temporal.ZonedDateTime>; // number? JSBI?\n\n  // TimeZone\n  [TIMEZONE_ID]: SlotInfo<string, Temporal.TimeZone>;\n\n  // DateTime, Date, Time, YearMonth, MonthDay\n  [ISO_YEAR]: SlotInfo<number, TypesWithCalendarUnits>;\n  [ISO_MONTH]: SlotInfo<number, TypesWithCalendarUnits>;\n  [ISO_DAY]: SlotInfo<number, TypesWithCalendarUnits>;\n  [ISO_HOUR]: SlotInfo<number, TypesWithCalendarUnits>;\n  [ISO_MINUTE]: SlotInfo<number, TypesWithCalendarUnits>;\n  [ISO_SECOND]: SlotInfo<number, TypesWithCalendarUnits>;\n  [ISO_MILLISECOND]: SlotInfo<number, TypesWithCalendarUnits>;\n  [ISO_MICROSECOND]: SlotInfo<number, TypesWithCalendarUnits>;\n  [ISO_NANOSECOND]: SlotInfo<number, TypesWithCalendarUnits>;\n  [CALENDAR]: SlotInfo<CalendarSlot, TypesWithCalendarUnits>;\n\n  // Date, YearMonth, MonthDay common slots\n  [DATE_BRAND]: SlotInfo<true, Temporal.PlainDate>;\n  [YEAR_MONTH_BRAND]: SlotInfo<true, Temporal.PlainYearMonth>;\n  [MONTH_DAY_BRAND]: SlotInfo<true, Temporal.PlainMonthDay>;\n\n  // ZonedDateTime\n  [INSTANT]: SlotInfo<Temporal.Instant, Temporal.ZonedDateTime>;\n  [TIME_ZONE]: SlotInfo<TimeZoneSlot, Temporal.ZonedDateTime>;\n\n  // Duration\n  [YEARS]: SlotInfo<number, Temporal.Duration>;\n  [MONTHS]: SlotInfo<number, Temporal.Duration>;\n  [WEEKS]: SlotInfo<number, Temporal.Duration>;\n  [DAYS]: SlotInfo<number, Temporal.Duration>;\n  [HOURS]: SlotInfo<number, Temporal.Duration>;\n  [MINUTES]: SlotInfo<number, Temporal.Duration>;\n  [SECONDS]: SlotInfo<number, Temporal.Duration>;\n  [MILLISECONDS]: SlotInfo<number, Temporal.Duration>;\n  [MICROSECONDS]: SlotInfo<number, Temporal.Duration>;\n  [NANOSECONDS]: SlotInfo<number, Temporal.Duration>;\n\n  // Calendar\n  [CALENDAR_ID]: SlotInfo<BuiltinCalendarId, Temporal.Calendar>;\n}\n\ntype TypesWithCalendarUnits =\n  | Temporal.PlainDateTime\n  | Temporal.PlainDate\n  | Temporal.PlainTime\n  | Temporal.PlainYearMonth\n  | Temporal.PlainMonthDay\n  | Temporal.ZonedDateTime;\n\ninterface SlotsToTypes {\n  // Instant\n  [EPOCHNANOSECONDS]: Temporal.Instant;\n\n  // TimeZone\n  [TIMEZONE_ID]: Temporal.TimeZone;\n\n  // DateTime, Date, Time, YearMonth, MonthDay\n  [ISO_YEAR]: TypesWithCalendarUnits;\n  [ISO_MONTH]: TypesWithCalendarUnits;\n  [ISO_DAY]: TypesWithCalendarUnits;\n  [ISO_HOUR]: TypesWithCalendarUnits;\n  [ISO_MINUTE]: TypesWithCalendarUnits;\n  [ISO_SECOND]: TypesWithCalendarUnits;\n  [ISO_MILLISECOND]: TypesWithCalendarUnits;\n  [ISO_MICROSECOND]: TypesWithCalendarUnits;\n  [ISO_NANOSECOND]: TypesWithCalendarUnits;\n  [CALENDAR]: TypesWithCalendarUnits;\n\n  // Date, YearMonth, MonthDay common slots\n  [DATE_BRAND]: Temporal.PlainDate;\n  [YEAR_MONTH_BRAND]: Temporal.PlainYearMonth;\n  [MONTH_DAY_BRAND]: Temporal.PlainMonthDay;\n\n  // ZonedDateTime\n  [INSTANT]: Temporal.ZonedDateTime;\n  [TIME_ZONE]: Temporal.ZonedDateTime;\n\n  // Duration\n  [YEARS]: Temporal.Duration;\n  [MONTHS]: Temporal.Duration;\n  [WEEKS]: Temporal.Duration;\n  [DAYS]: Temporal.Duration;\n  [HOURS]: Temporal.Duration;\n  [MINUTES]: Temporal.Duration;\n  [SECONDS]: Temporal.Duration;\n  [MILLISECONDS]: Temporal.Duration;\n  [MICROSECONDS]: Temporal.Duration;\n  [NANOSECONDS]: Temporal.Duration;\n\n  // Calendar\n  [CALENDAR_ID]: Temporal.Calendar;\n}\n\ntype SlotKey = keyof SlotsToTypes;\n\nconst globalSlots = new WeakMap<Slots[keyof Slots]['usedBy'], Record<keyof Slots, Slots[keyof Slots]['value']>>();\n\nfunction _GetSlots(container: Slots[keyof Slots]['usedBy']) {\n  return globalSlots.get(container);\n}\n\nconst GetSlotsSymbol = Symbol.for('@@Temporal__GetSlots');\n\n// expose GetSlots to avoid dual package hazards\n(globalThis as any)[GetSlotsSymbol] ||= _GetSlots;\n\nconst GetSlots = (globalThis as any)[GetSlotsSymbol] as typeof _GetSlots;\n\nfunction _CreateSlots(container: Slots[keyof Slots]['usedBy']): void {\n  globalSlots.set(container, Object.create(null));\n}\n\nconst CreateSlotsSymbol = Symbol.for('@@Temporal__CreateSlots');\n\n// expose CreateSlots to avoid dual package hazards\n(globalThis as any)[CreateSlotsSymbol] ||= _CreateSlots;\n\nexport const CreateSlots = (globalThis as any)[CreateSlotsSymbol] as typeof _CreateSlots;\n\n// TODO: is there a better way than 9 overloads to make HasSlot into a type\n// guard that takes a variable number of parameters?\nexport function HasSlot<ID1 extends SlotKey>(container: unknown, id1: ID1): container is Slots[ID1]['usedBy'];\nexport function HasSlot<ID1 extends SlotKey, ID2 extends SlotKey>(\n  container: unknown,\n  id1: ID1,\n  id2: ID2\n): container is Slots[ID1]['usedBy'] | Slots[ID2]['usedBy'];\nexport function HasSlot<ID1 extends SlotKey, ID2 extends SlotKey, ID3 extends SlotKey>(\n  container: unknown,\n  id1: ID1,\n  id2: ID2,\n  id3: ID3\n): container is Slots[ID1]['usedBy'] | Slots[ID2]['usedBy'] | Slots[ID3]['usedBy'];\nexport function HasSlot<ID1 extends SlotKey, ID2 extends SlotKey, ID3 extends SlotKey, ID4 extends SlotKey>(\n  container: unknown,\n  id1: ID1,\n  id2: ID2,\n  id3: ID3,\n  id4: ID4\n): container is Slots[ID1 | ID2 | ID3 | ID4]['usedBy'];\nexport function HasSlot<\n  ID1 extends SlotKey,\n  ID2 extends SlotKey,\n  ID3 extends SlotKey,\n  ID4 extends SlotKey,\n  ID5 extends SlotKey\n>(\n  container: unknown,\n  id1: ID1,\n  id2: ID2,\n  id3: ID3,\n  id4: ID4,\n  id5: ID5\n): container is Slots[ID1 | ID2 | ID3 | ID4 | ID5]['usedBy'];\nexport function HasSlot<\n  ID1 extends SlotKey,\n  ID2 extends SlotKey,\n  ID3 extends SlotKey,\n  ID4 extends SlotKey,\n  ID5 extends SlotKey,\n  ID6 extends SlotKey\n>(\n  container: unknown,\n  id1: ID1,\n  id2: ID2,\n  id3: ID3,\n  id4: ID4,\n  id5: ID5,\n  id6: ID6\n): container is Slots[ID1 | ID2 | ID3 | ID4 | ID5 | ID6]['usedBy'];\nexport function HasSlot<\n  ID1 extends SlotKey,\n  ID2 extends SlotKey,\n  ID3 extends SlotKey,\n  ID4 extends SlotKey,\n  ID5 extends SlotKey,\n  ID6 extends SlotKey,\n  ID7 extends SlotKey\n>(\n  container: unknown,\n  id1: ID1,\n  id2: ID2,\n  id3: ID3,\n  id4: ID4,\n  id5: ID5,\n  id6: ID6,\n  id7: ID7\n): container is Slots[ID1 | ID2 | ID3 | ID4 | ID5 | ID6 | ID7]['usedBy'];\nexport function HasSlot<\n  ID1 extends SlotKey,\n  ID2 extends SlotKey,\n  ID3 extends SlotKey,\n  ID4 extends SlotKey,\n  ID5 extends SlotKey,\n  ID6 extends SlotKey,\n  ID7 extends SlotKey,\n  ID8 extends SlotKey\n>(\n  container: unknown,\n  id1: ID1,\n  id2: ID2,\n  id3: ID3,\n  id4: ID4,\n  id5: ID5,\n  id6: ID6,\n  id7: ID7,\n  id8: ID8\n): container is Slots[ID1 | ID2 | ID3 | ID4 | ID5 | ID6 | ID7 | ID8]['usedBy'];\nexport function HasSlot<\n  ID1 extends SlotKey,\n  ID2 extends SlotKey,\n  ID3 extends SlotKey,\n  ID4 extends SlotKey,\n  ID5 extends SlotKey,\n  ID6 extends SlotKey,\n  ID7 extends SlotKey,\n  ID8 extends SlotKey,\n  ID9 extends SlotKey\n>(\n  container: unknown,\n  id1: ID1,\n  id2: ID2,\n  id3: ID3,\n  id4: ID4,\n  id5: ID5,\n  id6: ID6,\n  id7: ID7,\n  id8: ID8,\n  id9: ID9\n): container is Slots[ID1 | ID2 | ID3 | ID4 | ID5 | ID6 | ID7 | ID8 | ID9]['usedBy'];\nexport function HasSlot(container: unknown, ...ids: (keyof Slots)[]): boolean {\n  if (!container || 'object' !== typeof container) return false;\n  const myslots = GetSlots(container as AnyTemporalType);\n  return !!myslots && ids.every((id) => id in myslots);\n}\nexport function GetSlot<KeyT extends keyof Slots>(\n  container: Slots[typeof id]['usedBy'],\n  id: KeyT\n): Slots[KeyT]['value'] {\n  const value = GetSlots(container)?.[id];\n  if (value === undefined) throw new TypeError(`Missing internal slot ${id}`);\n  return value;\n}\nexport function SetSlot<KeyT extends SlotKey>(\n  container: Slots[KeyT]['usedBy'],\n  id: KeyT,\n  value: Slots[KeyT]['value']\n): void {\n  const slots = GetSlots(container);\n\n  if (slots === undefined) throw new TypeError('Missing slots for the given container');\n\n  const existingSlot = slots[id];\n\n  if (existingSlot) throw new TypeError(`${id} already has set`);\n\n  slots[id] = value;\n}\n","const tzComponent = /\\.[-A-Za-z_]|\\.\\.[-A-Za-z._]{1,12}|\\.[-A-Za-z_][-A-Za-z._]{0,12}|[A-Za-z_][-A-Za-z._]{0,13}/;\nconst offsetNoCapture = /(?:[+\\u2212-][0-2][0-9](?::?[0-5][0-9](?::?[0-5][0-9](?:[.,]\\d{1,9})?)?)?)/;\nexport const timeZoneID = new RegExp(\n  '(?:' +\n    [\n      `(?:${tzComponent.source})(?:\\\\/(?:${tzComponent.source}))*`,\n      'Etc/GMT(?:0|[-+]\\\\d{1,2})',\n      'GMT[-+]?0',\n      'EST5EDT',\n      'CST6CDT',\n      'MST7MDT',\n      'PST8PDT',\n      offsetNoCapture.source\n    ].join('|') +\n    ')'\n);\n\nconst yearpart = /(?:[+\\u2212-]\\d{6}|\\d{4})/;\nconst monthpart = /(?:0[1-9]|1[0-2])/;\nconst daypart = /(?:0[1-9]|[12]\\d|3[01])/;\nconst datesplit = new RegExp(\n  `(${yearpart.source})(?:-(${monthpart.source})-(${daypart.source})|(${monthpart.source})(${daypart.source}))`\n);\nconst timesplit = /(\\d{2})(?::(\\d{2})(?::(\\d{2})(?:[.,](\\d{1,9}))?)?|(\\d{2})(?:(\\d{2})(?:[.,](\\d{1,9}))?)?)?/;\nexport const offset = /([+\\u2212-])([01][0-9]|2[0-3])(?::?([0-5][0-9])(?::?([0-5][0-9])(?:[.,](\\d{1,9}))?)?)?/;\nconst offsetpart = new RegExp(`([zZ])|${offset.source}?`);\nexport const annotation = /\\[(!)?([a-z_][a-z0-9_-]*)=([A-Za-z0-9]+(?:-[A-Za-z0-9]+)*)\\]/g;\n\nexport const zoneddatetime = new RegExp(\n  [\n    `^${datesplit.source}`,\n    `(?:(?:T|\\\\s+)${timesplit.source}(?:${offsetpart.source})?)?`,\n    `(?:\\\\[!?(${timeZoneID.source})\\\\])?`,\n    `((?:${annotation.source})*)$`\n  ].join(''),\n  'i'\n);\n\nexport const time = new RegExp(\n  [\n    `^T?${timesplit.source}`,\n    `(?:${offsetpart.source})?`,\n    `(?:\\\\[!?${timeZoneID.source}\\\\])?`,\n    `((?:${annotation.source})*)$`\n  ].join(''),\n  'i'\n);\n\n// The short forms of YearMonth and MonthDay are only for the ISO calendar, but\n// annotations are still allowed, and will throw if the calendar annotation is\n// not ISO.\n// Non-ISO calendar YearMonth and MonthDay have to parse as a Temporal.PlainDate,\n// with the reference fields.\n// YYYYMM forbidden by ISO 8601 because ambiguous with YYMMDD, but allowed by\n// RFC 3339 and we don't allow 2-digit years, so we allow it.\n// Not ambiguous with HHMMSS because that requires a 'T' prefix\n// UTC offsets are not allowed, because they are not allowed with any date-only\n// format; also, YYYY-MM-UU is ambiguous with YYYY-MM-DD\nexport const yearmonth = new RegExp(\n  `^(${yearpart.source})-?(${monthpart.source})(?:\\\\[!?${timeZoneID.source}\\\\])?((?:${annotation.source})*)$`\n);\nexport const monthday = new RegExp(\n  `^(?:--)?(${monthpart.source})-?(${daypart.source})(?:\\\\[!?${timeZoneID.source}\\\\])?((?:${annotation.source})*)$`\n);\n\nconst fraction = /(\\d+)(?:[.,](\\d{1,9}))?/;\n\nconst durationDate = /(?:(\\d+)Y)?(?:(\\d+)M)?(?:(\\d+)W)?(?:(\\d+)D)?/;\nconst durationTime = new RegExp(`(?:${fraction.source}H)?(?:${fraction.source}M)?(?:${fraction.source}S)?`);\nexport const duration = new RegExp(`^([+\\u2212-])?P${durationDate.source}(?:T(?!$)${durationTime.source})?$`, 'i');\n","const ArrayIncludes = Array.prototype.includes;\nconst ArrayPrototypePush = Array.prototype.push;\nconst IntlDateTimeFormat = globalThis.Intl.DateTimeFormat;\nconst MathMin = Math.min;\nconst MathMax = Math.max;\nconst MathAbs = Math.abs;\nconst MathFloor = Math.floor;\nconst MathSign = Math.sign;\nconst MathTrunc = Math.trunc;\nconst NumberIsNaN = Number.isNaN;\nconst NumberIsFinite = Number.isFinite;\nconst NumberCtor = Number;\nconst StringCtor = String;\nconst NumberMaxSafeInteger = Number.MAX_SAFE_INTEGER;\nconst ObjectCreate = Object.create;\nconst ObjectDefineProperty = Object.defineProperty;\nconst ObjectGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nconst ReflectApply = Reflect.apply;\nconst ReflectOwnKeys = Reflect.ownKeys;\n\nimport { DEBUG } from './debug';\nimport JSBI from 'jsbi';\n\nimport type { Temporal } from '..';\nimport type {\n  AnyTemporalLikeType,\n  UnitSmallerThanOrEqualTo,\n  CalendarProtocolParams,\n  TimeZoneProtocolParams,\n  InstantParams,\n  PlainMonthDayParams,\n  ZonedDateTimeParams,\n  CalendarParams,\n  TimeZoneParams,\n  PlainDateParams,\n  PlainTimeParams,\n  DurationParams,\n  PlainDateTimeParams,\n  PlainYearMonthParams,\n  PrimitiveFieldsOf,\n  BuiltinCalendarId,\n  Keys,\n  AnyTemporalKey,\n  CalendarSlot,\n  TimeZoneSlot\n} from './internaltypes';\nimport { GetIntrinsic } from './intrinsicclass';\nimport {\n  CreateSlots,\n  GetSlot,\n  HasSlot,\n  SetSlot,\n  EPOCHNANOSECONDS,\n  TIMEZONE_ID,\n  CALENDAR_ID,\n  INSTANT,\n  ISO_YEAR,\n  ISO_MONTH,\n  ISO_DAY,\n  ISO_HOUR,\n  ISO_MINUTE,\n  ISO_SECOND,\n  ISO_MILLISECOND,\n  ISO_MICROSECOND,\n  ISO_NANOSECOND,\n  DATE_BRAND,\n  YEAR_MONTH_BRAND,\n  MONTH_DAY_BRAND,\n  TIME_ZONE,\n  CALENDAR,\n  YEARS,\n  MONTHS,\n  WEEKS,\n  DAYS,\n  HOURS,\n  MINUTES,\n  SECONDS,\n  MILLISECONDS,\n  MICROSECONDS,\n  NANOSECONDS\n} from './slots';\n\nexport const ZERO = JSBI.BigInt(0);\nconst ONE = JSBI.BigInt(1);\nconst SIXTY = JSBI.BigInt(60);\nconst TWENTY_FOUR = JSBI.BigInt(24);\nexport const THOUSAND = JSBI.BigInt(1e3);\nexport const MILLION = JSBI.BigInt(1e6);\nexport const BILLION = JSBI.BigInt(1e9);\nconst NEGATIVE_ONE = JSBI.BigInt(-1);\nconst HOUR_SECONDS = 3600;\nexport const HOUR_NANOS = JSBI.multiply(JSBI.BigInt(HOUR_SECONDS), BILLION);\nconst MINUTE_NANOS = JSBI.multiply(SIXTY, BILLION);\nconst DAY_NANOS = JSBI.multiply(HOUR_NANOS, TWENTY_FOUR);\nconst NS_MIN = JSBI.multiply(JSBI.BigInt(-86400), JSBI.BigInt(1e17));\nconst NS_MAX = JSBI.multiply(JSBI.BigInt(86400), JSBI.BigInt(1e17));\nconst YEAR_MIN = -271821;\nconst YEAR_MAX = 275760;\nconst BEFORE_FIRST_OFFSET_TRANSITION = JSBI.multiply(JSBI.BigInt(-388152), JSBI.BigInt(1e13)); // 1847-01-01T00:00:00Z\nconst ABOUT_TEN_YEARS_NANOS = JSBI.multiply(DAY_NANOS, JSBI.BigInt(366 * 10));\nconst ABOUT_ONE_YEAR_NANOS = JSBI.multiply(DAY_NANOS, JSBI.BigInt(366 * 1));\nconst TWO_WEEKS_NANOS = JSBI.multiply(DAY_NANOS, JSBI.BigInt(2 * 7));\n\nconst BUILTIN_CALENDAR_IDS = [\n  'iso8601',\n  'hebrew',\n  'islamic',\n  'islamic-umalqura',\n  'islamic-tbla',\n  'islamic-civil',\n  'islamic-rgsa',\n  'islamicc',\n  'persian',\n  'ethiopic',\n  'ethioaa',\n  'coptic',\n  'chinese',\n  'dangi',\n  'roc',\n  'indian',\n  'buddhist',\n  'japanese',\n  'gregory'\n];\n\n/* eslint-disable @typescript-eslint/no-unused-vars, @typescript-eslint/no-empty-function */\n/**\n * uncheckedAssertNarrowedType forces TypeScript to change the type of the argument to the one given in\n * the type parameter. This should only be used to help TS understand when variables change types,\n * but TS can't or won't infer this automatically. They should be used sparingly, because\n * if used incorrectly can lead to difficult-to-diagnose problems.\n * */\nexport function uncheckedAssertNarrowedType<T = unknown>(\n  arg: unknown,\n  justification: string\n): asserts arg is T extends typeof arg ? T : never {}\n/* eslint-enable */\n\ntype ArrayElement<ArrayType> = ArrayType extends readonly (infer ElementType)[] ? ElementType : never;\ntype ArrayWithNewKeys<T, Keys> = Array<ArrayElement<T> | Keys>;\n\n/**\n * In debug builds, this function verifies that the given argument \"exists\" (is not\n * null or undefined). This function becomes a no-op in the final bundles distributed via NPM.\n * @param arg\n */\nexport function assertExists<A>(arg: A): asserts arg is NonNullable<A> {\n  if (DEBUG) {\n    if (arg != null) {\n      throw new Error('Expected arg to be set.');\n    }\n  }\n}\n\nfunction isZero(value: JSBI): boolean {\n  return JSBI.equal(value, ZERO);\n}\n\ntype Stringless<T> = Exclude<T, string>;\n\nfunction GetMethod<T extends { [s in M]?: (...args: any[]) => unknown }, M extends string & keyof T>(\n  obj: T,\n  methodName: M\n): T[M];\nfunction GetMethod<\n  T extends string | { [s in M]?: (...args: any[]) => unknown },\n  M extends string & keyof Stringless<T>\n>(obj: T, methodName: M): Stringless<T>[M] | undefined;\nfunction GetMethod<\n  T extends string | { [s in M]?: undefined | ((...args: any[]) => unknown) },\n  M extends string & keyof T\n>(obj: T, methodName: M): T[M] | undefined {\n  const result = obj[methodName];\n  if (result === undefined) return undefined;\n  if (DEBUG) {\n    if (typeof result !== 'function') throw new TypeError(`'${methodName}' must be a function`);\n  }\n  return result;\n}\n\nexport function Call<T, A extends readonly any[], R>(\n  target: (this: T, ...args: A) => R,\n  thisArgument: T,\n  argumentsList: Readonly<A>\n): R {\n  const args = arguments.length > 2 ? argumentsList : [];\n  if (DEBUG) {\n    if (!Array.isArray(argumentsList)) {\n      throw new TypeError('Assertion failed: optional `argumentsList`, if provided, must be an array');\n    }\n  }\n  return ReflectApply(target, thisArgument, args);\n}\n\n// For unknown values, this narrows the result to a Record. But for union types\n// like `Temporal.DurationLike | string`, it'll strip the primitive types while\n// leaving the object type(s) unchanged.\nexport function IsObject<T>(\n  value: T\n): value is Exclude<T, string | null | undefined | number | bigint | symbol | boolean>;\nexport function IsObject(value: unknown): value is Record<string | number | symbol, unknown> {\n  return (typeof value === 'object' && value !== null) || typeof value === 'function';\n}\n\nexport function ToNumber(value: unknown): number {\n  // ES 2022's es-abstract made minor changes to ToNumber, but polyfilling these\n  // changes adds zero benefit to Temporal and brings in a lot of extra code. So\n  // we'll leave ToNumber as-is.\n  // See https://github.com/ljharb/es-abstract/blob/main/2022/ToNumber.js\n  if (typeof value === 'bigint') throw new TypeError('Cannot convert BigInt to number');\n  return NumberCtor(value);\n}\n\nfunction ToIntegerOrInfinity(value: unknown) {\n  const number = ToNumber(value);\n  if (NumberIsNaN(number) || number === 0) {\n    return 0;\n  }\n  if (!NumberIsFinite(number)) {\n    return number;\n  }\n  const integer = MathFloor(MathAbs(number));\n  if (integer === 0) {\n    return 0;\n  }\n  return MathSign(number) * integer;\n}\n\nfunction IsIntegralNumber(argument: unknown) {\n  if (typeof argument !== 'number' || NumberIsNaN(argument) || !NumberIsFinite(argument)) {\n    return false;\n  }\n  const absValue = MathAbs(argument);\n  return MathFloor(absValue) === absValue;\n}\n\nexport function ToString(value: unknown): string {\n  if (typeof value === 'symbol') {\n    throw new TypeError('Cannot convert a Symbol value to a String');\n  }\n  return StringCtor(value);\n}\n\nexport function ToIntegerWithTruncation(value: unknown): number {\n  const number = ToNumber(value);\n  if (number === 0) return 0;\n  if (NumberIsNaN(number) || !NumberIsFinite(number)) {\n    throw new RangeError('invalid number value');\n  }\n  const integer = MathTrunc(number);\n  if (integer === 0) return 0; // ℝ(value) in spec text; converts -0 to 0\n  return integer;\n}\n\nfunction ToPositiveIntegerWithTruncation(valueParam: unknown, property?: string): number {\n  const integer = ToIntegerWithTruncation(valueParam);\n  if (integer <= 0) {\n    if (property !== undefined) {\n      throw new RangeError(`property '${property}' cannot be a a number less than one`);\n    }\n    throw new RangeError('Cannot convert a number less than one to a positive integer');\n  }\n  return integer;\n}\n\nexport function ToIntegerIfIntegral(valueParam: unknown): number {\n  const number = ToNumber(valueParam);\n  if (!NumberIsFinite(number)) throw new RangeError('infinity is out of range');\n  if (!IsIntegralNumber(number)) throw new RangeError(`unsupported fractional value ${valueParam}`);\n  if (number === 0) return 0; // ℝ(value) in spec text; converts -0 to 0\n  return number;\n}\n\nfunction divmod(x: JSBI, y: JSBI): { quotient: JSBI; remainder: JSBI } {\n  const quotient = JSBI.divide(x, y);\n  const remainder = JSBI.remainder(x, y);\n  return { quotient, remainder };\n}\n\nfunction isNegativeJSBI(value: JSBI): boolean {\n  return JSBI.lessThan(value, ZERO);\n}\n\nfunction signJSBI(value: JSBI): 1 | 0 | -1 {\n  if (isZero(value)) return 0;\n  if (isNegativeJSBI(value)) return -1;\n  return 1;\n}\nfunction abs(x: JSBI): JSBI {\n  if (JSBI.lessThan(x, ZERO)) return JSBI.multiply(x, NEGATIVE_ONE);\n  return x;\n}\n\ntype BuiltinCastFunction = (v: unknown) => string | number;\nconst BUILTIN_CASTS = new Map<AnyTemporalKey, BuiltinCastFunction>([\n  ['year', ToIntegerWithTruncation],\n  ['month', ToPositiveIntegerWithTruncation],\n  ['monthCode', ToString],\n  ['day', ToPositiveIntegerWithTruncation],\n  ['hour', ToIntegerWithTruncation],\n  ['minute', ToIntegerWithTruncation],\n  ['second', ToIntegerWithTruncation],\n  ['millisecond', ToIntegerWithTruncation],\n  ['microsecond', ToIntegerWithTruncation],\n  ['nanosecond', ToIntegerWithTruncation],\n  ['years', ToIntegerIfIntegral],\n  ['months', ToIntegerIfIntegral],\n  ['weeks', ToIntegerIfIntegral],\n  ['days', ToIntegerIfIntegral],\n  ['hours', ToIntegerIfIntegral],\n  ['minutes', ToIntegerIfIntegral],\n  ['seconds', ToIntegerIfIntegral],\n  ['milliseconds', ToIntegerIfIntegral],\n  ['microseconds', ToIntegerIfIntegral],\n  ['nanoseconds', ToIntegerIfIntegral],\n  ['era', ToString],\n  ['eraYear', ToIntegerOrInfinity],\n  ['offset', ToString]\n]);\n\nconst BUILTIN_DEFAULTS = new Map([\n  ['hour', 0],\n  ['minute', 0],\n  ['second', 0],\n  ['millisecond', 0],\n  ['microsecond', 0],\n  ['nanosecond', 0]\n]);\n\n// each item is [plural, singular, category]\nconst SINGULAR_PLURAL_UNITS = [\n  ['years', 'year', 'date'],\n  ['months', 'month', 'date'],\n  ['weeks', 'week', 'date'],\n  ['days', 'day', 'date'],\n  ['hours', 'hour', 'time'],\n  ['minutes', 'minute', 'time'],\n  ['seconds', 'second', 'time'],\n  ['milliseconds', 'millisecond', 'time'],\n  ['microseconds', 'microsecond', 'time'],\n  ['nanoseconds', 'nanosecond', 'time']\n] as const;\nconst SINGULAR_FOR = new Map(SINGULAR_PLURAL_UNITS.map((e) => [e[0], e[1]] as const));\nconst PLURAL_FOR = new Map(SINGULAR_PLURAL_UNITS.map(([p, s]) => [s, p]));\nconst UNITS_DESCENDING = SINGULAR_PLURAL_UNITS.map(([, s]) => s);\n\nconst DURATION_FIELDS = Array.from(SINGULAR_FOR.keys()).sort();\n\nimport * as PARSE from './regex';\n\nconst IntlDateTimeFormatEnUsCache = new Map<string, Intl.DateTimeFormat>();\n\nfunction getIntlDateTimeFormatEnUsForTimeZone(timeZoneIdentifier: string) {\n  let instance = IntlDateTimeFormatEnUsCache.get(timeZoneIdentifier);\n  if (instance === undefined) {\n    instance = new IntlDateTimeFormat('en-us', {\n      timeZone: StringCtor(timeZoneIdentifier),\n      hour12: false,\n      era: 'short',\n      year: 'numeric',\n      month: 'numeric',\n      day: 'numeric',\n      hour: 'numeric',\n      minute: 'numeric',\n      second: 'numeric'\n    });\n    IntlDateTimeFormatEnUsCache.set(timeZoneIdentifier, instance);\n  }\n  return instance;\n}\n\nexport function ToObject<T>(value: T): T extends Record<string, unknown> ? T : object {\n  if (typeof value === 'undefined' || value === null) {\n    throw new TypeError(`Expected object not ${value}`);\n  }\n  return Object(value);\n}\n\n// Adapted from https://github.com/ljharb/es-abstract/blob/main/2022/CopyDataProperties.js\n// but simplified (e.g. removed assertions) for this polyfill to reduce bundle size.\nexport function CopyDataProperties<K extends string | symbol, T extends Record<K, unknown>>(\n  target: T,\n  source: T | undefined,\n  excludedKeys: K[],\n  excludedValues?: unknown[]\n) {\n  if (typeof source === 'undefined' || source === null) return;\n\n  const keys = ReflectOwnKeys(source) as (keyof T)[];\n  for (const nextKey of keys) {\n    if (excludedKeys.some((e) => Object.is(e, nextKey))) continue;\n    if (Object.prototype.propertyIsEnumerable.call(source, nextKey)) {\n      const propValue = source[nextKey];\n      if (excludedValues && excludedValues.some((e) => Object.is(e, propValue))) continue;\n\n      target[nextKey] = propValue;\n    }\n  }\n}\n\nexport function IsTemporalInstant(item: unknown): item is Temporal.Instant {\n  return HasSlot(item, EPOCHNANOSECONDS) && !HasSlot(item, TIME_ZONE, CALENDAR);\n}\n\nexport function IsTemporalTimeZone(item: unknown): item is Temporal.TimeZone {\n  return HasSlot(item, TIMEZONE_ID);\n}\nexport function IsTemporalCalendar(item: unknown): item is Temporal.Calendar {\n  return HasSlot(item, CALENDAR_ID);\n}\nexport function IsTemporalDuration(item: unknown): item is Temporal.Duration {\n  return HasSlot(item, YEARS, MONTHS, DAYS, HOURS, MINUTES, SECONDS, MILLISECONDS, MICROSECONDS, NANOSECONDS);\n}\nexport function IsTemporalDate(item: unknown): item is Temporal.PlainDate {\n  return HasSlot(item, DATE_BRAND);\n}\nexport function IsTemporalTime(item: unknown): item is Temporal.PlainTime {\n  return (\n    HasSlot(item, ISO_HOUR, ISO_MINUTE, ISO_SECOND, ISO_MILLISECOND, ISO_MICROSECOND, ISO_NANOSECOND) &&\n    !HasSlot(item, ISO_YEAR, ISO_MONTH, ISO_DAY)\n  );\n}\nexport function IsTemporalDateTime(item: unknown): item is Temporal.PlainDateTime {\n  return HasSlot(\n    item,\n    ISO_YEAR,\n    ISO_MONTH,\n    ISO_DAY,\n    ISO_HOUR,\n    ISO_MINUTE,\n    ISO_SECOND,\n    ISO_MILLISECOND,\n    ISO_MICROSECOND,\n    ISO_NANOSECOND\n  );\n}\nexport function IsTemporalYearMonth(item: unknown): item is Temporal.PlainYearMonth {\n  return HasSlot(item, YEAR_MONTH_BRAND);\n}\nexport function IsTemporalMonthDay(item: unknown): item is Temporal.PlainMonthDay {\n  return HasSlot(item, MONTH_DAY_BRAND);\n}\nexport function IsTemporalZonedDateTime(item: unknown): item is Temporal.ZonedDateTime {\n  return HasSlot(item, EPOCHNANOSECONDS, TIME_ZONE, CALENDAR);\n}\nexport function RejectTemporalLikeObject(item: AnyTemporalLikeType) {\n  if (HasSlot(item, CALENDAR) || HasSlot(item, TIME_ZONE)) {\n    throw new TypeError('with() does not support a calendar or timeZone property');\n  }\n  if (IsTemporalTime(item)) {\n    throw new TypeError('with() does not accept Temporal.PlainTime, use withPlainTime() instead');\n  }\n  if ((item as { calendar: unknown }).calendar !== undefined) {\n    throw new TypeError('with() does not support a calendar property');\n  }\n  if ((item as { timeZone: unknown }).timeZone !== undefined) {\n    throw new TypeError('with() does not support a timeZone property');\n  }\n}\nfunction ParseTemporalTimeZone(stringIdent: string) {\n  const { ianaName, offset, z } = ParseTemporalTimeZoneString(stringIdent);\n  if (ianaName) return GetCanonicalTimeZoneIdentifier(ianaName);\n  if (z) return 'UTC';\n  // if !ianaName && !z then offset must be present\n  assertExists(offset);\n  const offsetNs = ParseTimeZoneOffsetString(offset);\n  return FormatTimeZoneOffsetString(offsetNs);\n}\n\nfunction MaybeFormatCalendarAnnotation(\n  calendar: CalendarSlot,\n  showCalendar: Temporal.ShowCalendarOption['calendarName']\n): string {\n  if (showCalendar === 'never') return '';\n  return FormatCalendarAnnotation(ToTemporalCalendarIdentifier(calendar), showCalendar);\n}\n\nfunction FormatCalendarAnnotation(id: string, showCalendar: Temporal.ShowCalendarOption['calendarName']) {\n  if (showCalendar === 'never') return '';\n  if (showCalendar === 'auto' && id === 'iso8601') return '';\n  const flag = showCalendar === 'critical' ? '!' : '';\n  return `[${flag}u-ca=${id}]`;\n}\n\nfunction ParseISODateTime(isoString: string) {\n  // ZDT is the superset of fields for every other Temporal type\n  const match = PARSE.zoneddatetime.exec(isoString);\n  if (!match) throw new RangeError(`invalid ISO 8601 string: ${isoString}`);\n  let yearString = match[1];\n  if (yearString[0] === '\\u2212') yearString = `-${yearString.slice(1)}`;\n  if (yearString === '-000000') throw new RangeError(`invalid ISO 8601 string: ${isoString}`);\n  const year = ToIntegerOrInfinity(yearString);\n  const month = ToIntegerOrInfinity(match[2] || match[4]);\n  const day = ToIntegerOrInfinity(match[3] || match[5]);\n  const hour = ToIntegerOrInfinity(match[6]);\n  const hasTime = match[6] !== undefined;\n  const minute = ToIntegerOrInfinity(match[7] || match[10]);\n  let second = ToIntegerOrInfinity(match[8] || match[11]);\n  if (second === 60) second = 59;\n  const fraction = (match[9] || match[12]) + '000000000';\n  const millisecond = ToIntegerOrInfinity(fraction.slice(0, 3));\n  const microsecond = ToIntegerOrInfinity(fraction.slice(3, 6));\n  const nanosecond = ToIntegerOrInfinity(fraction.slice(6, 9));\n  let offset;\n  let z = false;\n  if (match[13]) {\n    offset = undefined;\n    z = true;\n  } else if (match[14] && match[15]) {\n    const offsetSign = match[14] === '-' || match[14] === '\\u2212' ? '-' : '+';\n    const offsetHours = match[15] || '00';\n    const offsetMinutes = match[16] || '00';\n    const offsetSeconds = match[17] || '00';\n    let offsetFraction = match[18] || '0';\n    offset = `${offsetSign}${offsetHours}:${offsetMinutes}`;\n    if (+offsetFraction) {\n      while (offsetFraction.endsWith('0')) offsetFraction = offsetFraction.slice(0, -1);\n      offset += `:${offsetSeconds}.${offsetFraction}`;\n    } else if (+offsetSeconds) {\n      offset += `:${offsetSeconds}`;\n    }\n    if (offset === '-00:00') offset = '+00:00';\n  }\n  const ianaName = match[19];\n  const annotations = match[20];\n  let calendar;\n  for (const [, critical, key, value] of annotations.matchAll(PARSE.annotation)) {\n    if (key === 'u-ca') {\n      if (calendar === undefined) calendar = value;\n    } else if (critical === '!') {\n      throw new RangeError(`Unrecognized annotation: !${key}=${value}`);\n    }\n  }\n  RejectDateTime(year, month, day, hour, minute, second, millisecond, microsecond, nanosecond);\n  return {\n    year,\n    month,\n    day,\n    hasTime,\n    hour,\n    minute,\n    second,\n    millisecond,\n    microsecond,\n    nanosecond,\n    ianaName,\n    offset,\n    z,\n    calendar\n  };\n}\n\n// ts-prune-ignore-next TODO: remove if test/validStrings is converted to TS.\nexport function ParseTemporalInstantString(isoString: string) {\n  const result = ParseISODateTime(isoString);\n  if (!result.z && !result.offset) throw new RangeError('Temporal.Instant requires a time zone offset');\n  return result;\n}\n\n// ts-prune-ignore-next TODO: remove if test/validStrings is converted to TS.\nexport function ParseTemporalZonedDateTimeString(isoString: string) {\n  const result = ParseISODateTime(isoString);\n  if (!result.ianaName) throw new RangeError('Temporal.ZonedDateTime requires a time zone ID in brackets');\n  return result;\n}\n\n// ts-prune-ignore-next TODO: remove if test/validStrings is converted to TS.\nexport function ParseTemporalDateTimeString(isoString: string) {\n  return ParseISODateTime(isoString);\n}\n\n// ts-prune-ignore-next TODO: remove if test/validStrings is converted to TS.\nexport function ParseTemporalDateString(isoString: string) {\n  return ParseISODateTime(isoString);\n}\n\n// ts-prune-ignore-next TODO: remove if test/validStrings is converted to TS.\nexport function ParseTemporalTimeString(isoString: string) {\n  const match = PARSE.time.exec(isoString);\n  let hour, minute, second, millisecond, microsecond, nanosecond, annotations;\n  if (match) {\n    hour = ToIntegerOrInfinity(match[1]);\n    minute = ToIntegerOrInfinity(match[2] || match[5]);\n    second = ToIntegerOrInfinity(match[3] || match[6]);\n    if (second === 60) second = 59;\n    const fraction = (match[4] || match[7]) + '000000000';\n    millisecond = ToIntegerOrInfinity(fraction.slice(0, 3));\n    microsecond = ToIntegerOrInfinity(fraction.slice(3, 6));\n    nanosecond = ToIntegerOrInfinity(fraction.slice(6, 9));\n    annotations = match[14];\n    for (const [, critical, key, value] of annotations.matchAll(PARSE.annotation)) {\n      if (key !== 'u-ca' && critical === '!') {\n        throw new RangeError(`Unrecognized annotation: !${key}=${value}`);\n      }\n    }\n    if (match[8]) throw new RangeError('Z designator not supported for PlainTime');\n  } else {\n    let z, hasTime;\n    ({ hasTime, hour, minute, second, millisecond, microsecond, nanosecond, z } = ParseISODateTime(isoString));\n    if (!hasTime) throw new RangeError(`time is missing in string: ${isoString}`);\n    if (z) throw new RangeError('Z designator not supported for PlainTime');\n  }\n  // if it's a date-time string, OK\n  if (/[tT ][0-9][0-9]/.test(isoString)) {\n    return { hour, minute, second, millisecond, microsecond, nanosecond };\n  }\n  try {\n    const { month, day } = ParseTemporalMonthDayString(isoString);\n    RejectISODate(1972, month, day);\n  } catch {\n    try {\n      const { year, month } = ParseTemporalYearMonthString(isoString);\n      RejectISODate(year, month, 1);\n    } catch {\n      return { hour, minute, second, millisecond, microsecond, nanosecond };\n    }\n  }\n  throw new RangeError(`invalid ISO 8601 time-only string ${isoString}; may need a T prefix`);\n}\n\n// ts-prune-ignore-next TODO: remove if test/validStrings is converted to TS.\nexport function ParseTemporalYearMonthString(isoString: string) {\n  const match = PARSE.yearmonth.exec(isoString);\n  let year, month, calendar, referenceISODay;\n  if (match) {\n    let yearString = match[1];\n    if (yearString[0] === '\\u2212') yearString = `-${yearString.slice(1)}`;\n    if (yearString === '-000000') throw new RangeError(`invalid ISO 8601 string: ${isoString}`);\n    year = ToIntegerOrInfinity(yearString);\n    month = ToIntegerOrInfinity(match[2]);\n    const annotations = match[3];\n    for (const [, critical, key, value] of annotations.matchAll(PARSE.annotation)) {\n      if (key === 'u-ca') {\n        if (calendar === undefined) calendar = value;\n      } else if (critical === '!') {\n        throw new RangeError(`Unrecognized annotation: !${key}=${value}`);\n      }\n    }\n    if (calendar !== undefined && calendar !== 'iso8601') {\n      throw new RangeError('YYYY-MM format is only valid with iso8601 calendar');\n    }\n  } else {\n    let z;\n    ({ year, month, calendar, day: referenceISODay, z } = ParseISODateTime(isoString));\n    if (z) throw new RangeError('Z designator not supported for PlainYearMonth');\n  }\n  return { year, month, calendar, referenceISODay };\n}\n\n// ts-prune-ignore-next TODO: remove if test/validStrings is converted to TS.\nexport function ParseTemporalMonthDayString(isoString: string) {\n  const match = PARSE.monthday.exec(isoString);\n  let month, day, calendar, referenceISOYear;\n  if (match) {\n    month = ToIntegerOrInfinity(match[1]);\n    day = ToIntegerOrInfinity(match[2]);\n    const annotations = match[3];\n    for (const [, critical, key, value] of annotations.matchAll(PARSE.annotation)) {\n      if (key === 'u-ca') {\n        if (calendar === undefined) calendar = value;\n      } else if (critical === '!') {\n        throw new RangeError(`Unrecognized annotation: !${key}=${value}`);\n      }\n    }\n    if (calendar !== undefined && calendar !== 'iso8601') {\n      throw new RangeError('MM-DD format is only valid with iso8601 calendar');\n    }\n  } else {\n    let z;\n    ({ month, day, calendar, year: referenceISOYear, z } = ParseISODateTime(isoString));\n    if (z) throw new RangeError('Z designator not supported for PlainMonthDay');\n  }\n  return { month, day, calendar, referenceISOYear };\n}\n\n// ts-prune-ignore-next TODO: remove if test/validStrings is converted to TS.\nexport function ParseTemporalTimeZoneString(stringIdent: string): Partial<{\n  ianaName: string | undefined;\n  offset: string | undefined;\n  z: boolean | undefined;\n}> {\n  const bareID = new RegExp(`^${PARSE.timeZoneID.source}$`, 'i');\n  if (bareID.test(stringIdent)) return { ianaName: stringIdent };\n  try {\n    // Try parsing ISO string instead\n    const result = ParseISODateTime(stringIdent);\n    if (result.z || result.offset || result.ianaName) {\n      return result;\n    }\n  } catch {\n    // fall through\n  }\n  throw new RangeError(`Invalid time zone: ${stringIdent}`);\n}\n\n// ts-prune-ignore-next TODO: remove if test/validStrings is converted to TS.\nexport function ParseTemporalDurationString(isoString: string) {\n  const match = PARSE.duration.exec(isoString);\n  if (!match) throw new RangeError(`invalid duration: ${isoString}`);\n  if (match.slice(2).every((element) => element === undefined)) {\n    throw new RangeError(`invalid duration: ${isoString}`);\n  }\n  const sign = match[1] === '-' || match[1] === '\\u2212' ? -1 : 1;\n  const years = match[2] === undefined ? 0 : ToIntegerWithTruncation(match[2]) * sign;\n  const months = match[3] === undefined ? 0 : ToIntegerWithTruncation(match[3]) * sign;\n  const weeks = match[4] === undefined ? 0 : ToIntegerWithTruncation(match[4]) * sign;\n  const days = match[5] === undefined ? 0 : ToIntegerWithTruncation(match[5]) * sign;\n  const hours = match[6] === undefined ? 0 : ToIntegerWithTruncation(match[6]) * sign;\n  const fHours = match[7];\n  const minutesStr = match[8];\n  const fMinutes = match[9];\n  const secondsStr = match[10];\n  const fSeconds = match[11];\n  let minutes = 0;\n  let seconds = 0;\n  // fractional hours, minutes, or seconds, expressed in whole nanoseconds:\n  let excessNanoseconds = 0;\n\n  if (fHours !== undefined) {\n    if (minutesStr ?? fMinutes ?? secondsStr ?? fSeconds ?? false) {\n      throw new RangeError('only the smallest unit can be fractional');\n    }\n    excessNanoseconds = ToIntegerOrInfinity((fHours + '000000000').slice(0, 9)) * 3600 * sign;\n  } else {\n    minutes = minutesStr === undefined ? 0 : ToIntegerWithTruncation(minutesStr) * sign;\n    if (fMinutes !== undefined) {\n      if (secondsStr ?? fSeconds ?? false) {\n        throw new RangeError('only the smallest unit can be fractional');\n      }\n      excessNanoseconds = ToIntegerOrInfinity((fMinutes + '000000000').slice(0, 9)) * 60 * sign;\n    } else {\n      seconds = secondsStr === undefined ? 0 : ToIntegerWithTruncation(secondsStr) * sign;\n      if (fSeconds !== undefined) {\n        excessNanoseconds = ToIntegerOrInfinity((fSeconds + '000000000').slice(0, 9)) * sign;\n      }\n    }\n  }\n\n  const nanoseconds = excessNanoseconds % 1000;\n  const microseconds = MathTrunc(excessNanoseconds / 1000) % 1000;\n  const milliseconds = MathTrunc(excessNanoseconds / 1e6) % 1000;\n  seconds += MathTrunc(excessNanoseconds / 1e9) % 60;\n  minutes += MathTrunc(excessNanoseconds / 6e10);\n\n  RejectDuration(years, months, weeks, days, hours, minutes, seconds, milliseconds, microseconds, nanoseconds);\n  return { years, months, weeks, days, hours, minutes, seconds, milliseconds, microseconds, nanoseconds };\n}\n\n// ts-prune-ignore-next TODO: remove if test/validStrings is converted to TS.\nexport function ParseTemporalInstant(isoString: string) {\n  let { year, month, day, hour, minute, second, millisecond, microsecond, nanosecond, offset, z } =\n    ParseTemporalInstantString(isoString);\n\n  if (!z && !offset) throw new RangeError('Temporal.Instant requires a time zone offset');\n  // At least one of z or offset is defined, but TS doesn't seem to understand\n  // that we only use offset if z is not defined (and thus offset must be defined).\n  // eslint-disable-next-line @typescript-eslint/no-non-null-assertion, @typescript-eslint/no-unnecessary-type-assertion\n  const offsetNs = z ? 0 : ParseTimeZoneOffsetString(offset!);\n  ({ year, month, day, hour, minute, second, millisecond, microsecond, nanosecond } = BalanceISODateTime(\n    year,\n    month,\n    day,\n    hour,\n    minute,\n    second,\n    millisecond,\n    microsecond,\n    nanosecond - offsetNs\n  ));\n\n  const epochNs = GetUTCEpochNanoseconds(year, month, day, hour, minute, second, millisecond, microsecond, nanosecond);\n  if (epochNs === null) throw new RangeError('DateTime outside of supported range');\n  return epochNs;\n}\n\nexport function RegulateISODate(\n  yearParam: number,\n  monthParam: number,\n  dayParam: number,\n  overflow: Temporal.ArithmeticOptions['overflow']\n) {\n  let year = yearParam;\n  let month = monthParam;\n  let day = dayParam;\n  switch (overflow) {\n    case 'reject':\n      RejectISODate(year, month, day);\n      break;\n    case 'constrain':\n      ({ year, month, day } = ConstrainISODate(year, month, day));\n      break;\n  }\n  return { year, month, day };\n}\n\nexport function RegulateTime(\n  hourParam: number,\n  minuteParam: number,\n  secondParam: number,\n  millisecondParam: number,\n  microsecondParam: number,\n  nanosecondParam: number,\n  overflow: Temporal.ArithmeticOptions['overflow']\n) {\n  let hour = hourParam;\n  let minute = minuteParam;\n  let second = secondParam;\n  let millisecond = millisecondParam;\n  let microsecond = microsecondParam;\n  let nanosecond = nanosecondParam;\n\n  switch (overflow) {\n    case 'reject':\n      RejectTime(hour, minute, second, millisecond, microsecond, nanosecond);\n      break;\n    case 'constrain':\n      ({ hour, minute, second, millisecond, microsecond, nanosecond } = ConstrainTime(\n        hour,\n        minute,\n        second,\n        millisecond,\n        microsecond,\n        nanosecond\n      ));\n      break;\n  }\n  return { hour, minute, second, millisecond, microsecond, nanosecond };\n}\n\nexport function RegulateISOYearMonth(\n  yearParam: number,\n  monthParam: number,\n  overflow: Temporal.ArithmeticOptions['overflow']\n) {\n  let year = yearParam;\n  let month = monthParam;\n  const referenceISODay = 1;\n  switch (overflow) {\n    case 'reject':\n      RejectISODate(year, month, referenceISODay);\n      break;\n    case 'constrain':\n      ({ year, month } = ConstrainISODate(year, month));\n      break;\n  }\n  return { year, month };\n}\n\nfunction ToTemporalDurationRecord(item: Temporal.DurationLike | string) {\n  if (!IsObject(item)) {\n    return ParseTemporalDurationString(ToString(item));\n  }\n  if (IsTemporalDuration(item)) {\n    return {\n      years: GetSlot(item, YEARS),\n      months: GetSlot(item, MONTHS),\n      weeks: GetSlot(item, WEEKS),\n      days: GetSlot(item, DAYS),\n      hours: GetSlot(item, HOURS),\n      minutes: GetSlot(item, MINUTES),\n      seconds: GetSlot(item, SECONDS),\n      milliseconds: GetSlot(item, MILLISECONDS),\n      microseconds: GetSlot(item, MICROSECONDS),\n      nanoseconds: GetSlot(item, NANOSECONDS)\n    };\n  }\n  const result = {\n    years: 0,\n    months: 0,\n    weeks: 0,\n    days: 0,\n    hours: 0,\n    minutes: 0,\n    seconds: 0,\n    milliseconds: 0,\n    microseconds: 0,\n    nanoseconds: 0\n  };\n  let partial = ToTemporalPartialDurationRecord(item);\n  for (const property of DURATION_FIELDS) {\n    const value = partial[property];\n    if (value !== undefined) {\n      result[property] = value;\n    }\n  }\n  let { years, months, weeks, days, hours, minutes, seconds, milliseconds, microseconds, nanoseconds } = result;\n  RejectDuration(years, months, weeks, days, hours, minutes, seconds, milliseconds, microseconds, nanoseconds);\n  return { years, months, weeks, days, hours, minutes, seconds, milliseconds, microseconds, nanoseconds };\n}\n\nfunction ToTemporalPartialDurationRecord(temporalDurationLike: Temporal.DurationLike | string) {\n  if (!IsObject(temporalDurationLike)) {\n    throw new TypeError('invalid duration-like');\n  }\n  const result: Record<typeof DURATION_FIELDS[number], number | undefined> = {\n    years: undefined,\n    months: undefined,\n    weeks: undefined,\n    days: undefined,\n    hours: undefined,\n    minutes: undefined,\n    seconds: undefined,\n    milliseconds: undefined,\n    microseconds: undefined,\n    nanoseconds: undefined\n  };\n  let any = false;\n  for (const property of DURATION_FIELDS) {\n    const value = temporalDurationLike[property];\n    if (value !== undefined) {\n      any = true;\n      result[property] = ToIntegerIfIntegral(value);\n    }\n  }\n  if (!any) {\n    throw new TypeError('invalid duration-like');\n  }\n  return result;\n}\n\nfunction ToLimitedTemporalDuration(\n  item: Temporal.DurationLike | string,\n  disallowedProperties: (keyof Temporal.DurationLike)[]\n) {\n  let record = ToTemporalDurationRecord(item);\n  for (const property of disallowedProperties) {\n    if (record[property] !== 0) {\n      throw new RangeError(\n        `Duration field ${property} not supported by Temporal.Instant. Try Temporal.ZonedDateTime instead.`\n      );\n    }\n  }\n  return record;\n}\n\nexport function ToTemporalOverflow(options: Temporal.AssignmentOptions | undefined) {\n  if (options === undefined) return 'constrain';\n  return GetOption(options, 'overflow', ['constrain', 'reject'], 'constrain');\n}\n\nexport function ToTemporalDisambiguation(options: Temporal.ToInstantOptions | undefined) {\n  if (options === undefined) return 'compatible';\n  return GetOption(options, 'disambiguation', ['compatible', 'earlier', 'later', 'reject'], 'compatible');\n}\n\nexport function ToTemporalRoundingMode(\n  options: { roundingMode?: Temporal.RoundingMode },\n  fallback: Temporal.RoundingMode\n) {\n  return GetOption(\n    options,\n    'roundingMode',\n    ['ceil', 'floor', 'expand', 'trunc', 'halfCeil', 'halfFloor', 'halfExpand', 'halfTrunc', 'halfEven'],\n    fallback\n  );\n}\n\nfunction NegateTemporalRoundingMode(roundingMode: Temporal.RoundingMode) {\n  switch (roundingMode) {\n    case 'ceil':\n      return 'floor';\n    case 'floor':\n      return 'ceil';\n    case 'halfCeil':\n      return 'halfFloor';\n    case 'halfFloor':\n      return 'halfCeil';\n    default:\n      return roundingMode;\n  }\n}\n\nexport function ToTemporalOffset(\n  options: Temporal.OffsetDisambiguationOptions | undefined,\n  fallback: Required<Temporal.OffsetDisambiguationOptions>['offset']\n) {\n  if (options === undefined) return fallback;\n  return GetOption(options, 'offset', ['prefer', 'use', 'ignore', 'reject'], fallback);\n}\n\nexport function ToCalendarNameOption(options: Temporal.ShowCalendarOption) {\n  return GetOption(options, 'calendarName', ['auto', 'always', 'never', 'critical'], 'auto');\n}\n\nexport function ToTimeZoneNameOption(options: Temporal.ZonedDateTimeToStringOptions) {\n  return GetOption(options, 'timeZoneName', ['auto', 'never', 'critical'], 'auto');\n}\n\nexport function ToShowOffsetOption(options: Temporal.ZonedDateTimeToStringOptions) {\n  return GetOption(options, 'offset', ['auto', 'never'], 'auto');\n}\n\nexport function ToTemporalRoundingIncrement(options: { roundingIncrement?: number }) {\n  let increment = options.roundingIncrement;\n  if (increment === undefined) return 1;\n  increment = ToNumber(increment);\n  if (!NumberIsFinite(increment)) {\n    throw new RangeError('roundingIncrement must be finite');\n  }\n  const integerIncrement = MathTrunc(increment);\n  if (integerIncrement < 1 || integerIncrement > 1e9) {\n    throw new RangeError(`roundingIncrement must be at least 1 and at most 1e9, not ${increment}`);\n  }\n  return integerIncrement;\n}\nexport function ValidateTemporalRoundingIncrement(increment: number, dividend: number, inclusive: boolean) {\n  const maximum = inclusive ? dividend : dividend - 1;\n  if (increment > maximum) {\n    throw new RangeError(`roundingIncrement must be at least 1 and less than ${maximum}, not ${increment}`);\n  }\n  if (dividend % increment !== 0) {\n    throw new RangeError(`Rounding increment must divide evenly into ${dividend}`);\n  }\n}\n\nexport function ToFractionalSecondDigits(\n  normalizedOptions: Temporal.ToStringPrecisionOptions\n): Temporal.ToStringPrecisionOptions['fractionalSecondDigits'] {\n  const digitsValue = normalizedOptions.fractionalSecondDigits;\n  if (digitsValue === undefined) return 'auto';\n  if (typeof digitsValue !== 'number') {\n    if (ToString(digitsValue) !== 'auto') {\n      throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${digitsValue}`);\n    }\n    return 'auto';\n  }\n  const digitCount = MathFloor(digitsValue);\n  if (!NumberIsFinite(digitCount) || digitCount < 0 || digitCount > 9) {\n    throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${digitsValue}`);\n  }\n  return digitCount as Exclude<Temporal.ToStringPrecisionOptions['fractionalSecondDigits'], 'auto'>;\n}\n\nexport function ToSecondsStringPrecisionRecord(\n  smallestUnit: Temporal.ToStringPrecisionOptions['smallestUnit'],\n  precision: Temporal.ToStringPrecisionOptions['fractionalSecondDigits']\n): {\n  precision: Temporal.ToStringPrecisionOptions['fractionalSecondDigits'] | 'minute';\n  unit: UnitSmallerThanOrEqualTo<'minute'>;\n  increment: number;\n} {\n  switch (smallestUnit) {\n    case 'minute':\n      return { precision: 'minute', unit: 'minute', increment: 1 };\n    case 'second':\n      return { precision: 0, unit: 'second', increment: 1 };\n    case 'millisecond':\n      return { precision: 3, unit: 'millisecond', increment: 1 };\n    case 'microsecond':\n      return { precision: 6, unit: 'microsecond', increment: 1 };\n    case 'nanosecond':\n      return { precision: 9, unit: 'nanosecond', increment: 1 };\n    default: // fall through if option not given\n  }\n  switch (precision) {\n    case 'auto':\n      return { precision, unit: 'nanosecond', increment: 1 };\n    case 0:\n      return { precision, unit: 'second', increment: 1 };\n    case 1:\n    case 2:\n    case 3:\n      return { precision, unit: 'millisecond', increment: 10 ** (3 - precision) };\n    case 4:\n    case 5:\n    case 6:\n      return { precision, unit: 'microsecond', increment: 10 ** (6 - precision) };\n    case 7:\n    case 8:\n    case 9:\n      return { precision, unit: 'nanosecond', increment: 10 ** (9 - precision) };\n    default:\n      throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${precision}`);\n  }\n}\n\nexport const REQUIRED = Symbol('~required~');\n\ninterface TemporalUnitOptionsBag {\n  smallestUnit?: Temporal.PluralUnit<Temporal.DateTimeUnit> | Temporal.DateTimeUnit;\n  largestUnit?: Temporal.PluralUnit<Temporal.DateTimeUnit> | Temporal.DateTimeUnit | 'auto';\n  unit?: Temporal.PluralUnit<Temporal.DateTimeUnit> | Temporal.DateTimeUnit;\n}\ntype UnitTypeMapping = {\n  date: Temporal.DateUnit;\n  time: Temporal.TimeUnit;\n  datetime: Temporal.DateTimeUnit;\n};\n// This type specifies the allowed defaults for each unit key type.\ntype AllowedGetTemporalUnitDefaultValues = {\n  smallestUnit: undefined;\n  largestUnit: 'auto' | undefined;\n  unit: undefined;\n};\n\nexport function GetTemporalUnit<\n  U extends keyof TemporalUnitOptionsBag,\n  T extends keyof UnitTypeMapping,\n  D extends typeof REQUIRED | UnitTypeMapping[T] | AllowedGetTemporalUnitDefaultValues[U],\n  R extends Exclude<D, typeof REQUIRED> | UnitTypeMapping[T]\n>(options: TemporalUnitOptionsBag, key: U, unitGroup: T, requiredOrDefault: D): R;\nexport function GetTemporalUnit<\n  U extends keyof TemporalUnitOptionsBag,\n  T extends keyof UnitTypeMapping,\n  D extends typeof REQUIRED | UnitTypeMapping[T] | AllowedGetTemporalUnitDefaultValues[U],\n  E extends 'auto' | Temporal.DateTimeUnit,\n  R extends UnitTypeMapping[T] | Exclude<D, typeof REQUIRED> | E\n>(options: TemporalUnitOptionsBag, key: U, unitGroup: T, requiredOrDefault: D, extraValues: ReadonlyArray<E>): R;\n// This signature of the function is NOT used in type-checking, so restricting\n// the default value via generic binding like the other overloads isn't\n// necessary.\nexport function GetTemporalUnit<\n  T extends keyof UnitTypeMapping,\n  D extends typeof REQUIRED | UnitTypeMapping[T] | 'auto' | undefined,\n  E extends 'auto' | Temporal.DateTimeUnit,\n  R extends UnitTypeMapping[T] | Exclude<D, typeof REQUIRED> | E\n>(\n  options: TemporalUnitOptionsBag,\n  key: keyof typeof options,\n  unitGroup: T,\n  requiredOrDefault: D,\n  extraValues: ReadonlyArray<E> | never[] = []\n): R {\n  const allowedSingular: Array<Temporal.DateTimeUnit | 'auto'> = [];\n  for (const [, singular, category] of SINGULAR_PLURAL_UNITS) {\n    if (unitGroup === 'datetime' || unitGroup === category) {\n      allowedSingular.push(singular);\n    }\n  }\n  allowedSingular.push(...extraValues);\n  let defaultVal: typeof REQUIRED | Temporal.DateTimeUnit | 'auto' | undefined = requiredOrDefault;\n  if (defaultVal === REQUIRED) {\n    defaultVal = undefined;\n  } else if (defaultVal !== undefined) {\n    allowedSingular.push(defaultVal);\n  }\n  const allowedValues: Array<Temporal.DateTimeUnit | Temporal.PluralUnit<Temporal.DateTimeUnit> | 'auto'> = [\n    ...allowedSingular\n  ];\n  for (const singular of allowedSingular) {\n    const plural = PLURAL_FOR.get(singular as Parameters<typeof PLURAL_FOR.get>[0]);\n    if (plural !== undefined) allowedValues.push(plural);\n  }\n  let retval = GetOption(options, key, allowedValues, defaultVal);\n  if (retval === undefined && requiredOrDefault === REQUIRED) {\n    throw new RangeError(`${key} is required`);\n  }\n  // Coerce any plural units into their singular form\n  if (SINGULAR_FOR.has(retval as Temporal.PluralUnit<Temporal.DateTimeUnit>)) {\n    // We just has-checked this, but tsc doesn't understand that.\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    return SINGULAR_FOR.get(retval as Temporal.PluralUnit<Temporal.DateTimeUnit>)! as R;\n  }\n  return retval as R;\n}\n\nexport function ToRelativeTemporalObject(options: {\n  relativeTo?:\n    | Temporal.ZonedDateTime\n    | Temporal.PlainDateTime\n    | Temporal.ZonedDateTimeLike\n    | Temporal.PlainDateTimeLike\n    | string\n    | undefined;\n}): Temporal.ZonedDateTime | Temporal.PlainDate | undefined {\n  const relativeTo = options.relativeTo;\n  if (relativeTo === undefined) return relativeTo;\n\n  let offsetBehaviour: OffsetBehaviour = 'option';\n  let matchMinutes = false;\n  let year, month, day, hour, minute, second, millisecond, microsecond, nanosecond, calendar, timeZone, offset;\n  if (IsObject(relativeTo)) {\n    if (IsTemporalZonedDateTime(relativeTo) || IsTemporalDate(relativeTo)) return relativeTo;\n    if (IsTemporalDateTime(relativeTo)) return TemporalDateTimeToDate(relativeTo);\n    calendar = GetTemporalCalendarSlotValueWithISODefault(relativeTo);\n    const fieldNames = CalendarFields(calendar, [\n      'day',\n      'hour',\n      'microsecond',\n      'millisecond',\n      'minute',\n      'month',\n      'monthCode',\n      'nanosecond',\n      'second',\n      'year'\n    ] as const);\n    type FieldNamesWithTimeZoneAndOffset = ArrayWithNewKeys<typeof fieldNames, 'timeZone' | 'offset'>;\n    (fieldNames as FieldNamesWithTimeZoneAndOffset).push('timeZone', 'offset');\n    const fields = PrepareTemporalFields(relativeTo, fieldNames, []);\n    const dateOptions = ObjectCreate(null) as Temporal.AssignmentOptions;\n    dateOptions.overflow = 'constrain';\n    ({ year, month, day, hour, minute, second, millisecond, microsecond, nanosecond } = InterpretTemporalDateTimeFields(\n      calendar,\n      fields,\n      dateOptions\n    ));\n    offset = fields.offset;\n    if (offset === undefined) offsetBehaviour = 'wall';\n    timeZone = fields.timeZone;\n    if (timeZone !== undefined) timeZone = ToTemporalTimeZoneSlotValue(timeZone);\n  } else {\n    let ianaName, z;\n    ({ year, month, day, hour, minute, second, millisecond, microsecond, nanosecond, calendar, ianaName, offset, z } =\n      ParseISODateTime(ToString(relativeTo)));\n    if (ianaName) {\n      timeZone = ToTemporalTimeZoneSlotValue(ianaName);\n      if (z) {\n        offsetBehaviour = 'exact';\n      } else if (!offset) {\n        offsetBehaviour = 'wall';\n      }\n      matchMinutes = true;\n    } else if (z) {\n      throw new RangeError(\n        'Z designator not supported for PlainDate relativeTo; either remove the Z or add a bracketed time zone'\n      );\n    }\n    if (!calendar) calendar = 'iso8601';\n    if (!IsBuiltinCalendar(calendar)) throw new RangeError(`invalid calendar identifier ${calendar}`);\n    calendar = ASCIILowercase(calendar);\n  }\n  if (timeZone === undefined) return CreateTemporalDate(year, month, day, calendar);\n  // If offset is missing here, then offsetBehavior will never be be 'option'.\n  assertExists(offset);\n  const offsetNs = offsetBehaviour === 'option' ? ParseTimeZoneOffsetString(offset) : 0;\n  const epochNanoseconds = InterpretISODateTimeOffset(\n    year,\n    month,\n    day,\n    hour,\n    minute,\n    second,\n    millisecond,\n    microsecond,\n    nanosecond,\n    offsetBehaviour,\n    offsetNs,\n    timeZone,\n    'compatible',\n    'reject',\n    matchMinutes\n  );\n  return CreateTemporalZonedDateTime(epochNanoseconds, timeZone, calendar);\n}\n\nexport function DefaultTemporalLargestUnit(\n  years: number,\n  months: number,\n  weeks: number,\n  days: number,\n  hours: number,\n  minutes: number,\n  seconds: number,\n  milliseconds: number,\n  microseconds: number,\n  nanoseconds: number\n): Temporal.DateTimeUnit {\n  for (const [prop, v] of [\n    ['years', years],\n    ['months', months],\n    ['weeks', weeks],\n    ['days', days],\n    ['hours', hours],\n    ['minutes', minutes],\n    ['seconds', seconds],\n    ['milliseconds', milliseconds],\n    ['microseconds', microseconds],\n    ['nanoseconds', nanoseconds]\n  ] as const) {\n    if (v !== 0) {\n      // All the above keys are definitely in SINGULAR_FOR\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      return SINGULAR_FOR.get(prop)!;\n    }\n  }\n  return 'nanosecond';\n}\n\nexport function LargerOfTwoTemporalUnits<T1 extends Temporal.DateTimeUnit, T2 extends Temporal.DateTimeUnit>(\n  unit1: T1,\n  unit2: T2\n) {\n  if (UNITS_DESCENDING.indexOf(unit1) > UNITS_DESCENDING.indexOf(unit2)) return unit2;\n  return unit1;\n}\n\ntype FieldCompleteness = 'complete' | 'partial';\ninterface FieldPrepareOptions {\n  emptySourceErrorMessage: string;\n}\n\n// Returns all potential owners from all Temporal Like-types for a given union\n// of keys in K.\n// e.g.\n// Owner<'nanosecond'> => PlainDateTimeLike | ZonedDateTimeLike | PlainDateTimeLike | ZonedDateTimeLike\n// Owner<'nanoseconds'> => Duration (the only type with plural keys)\ntype Owner<K extends AnyTemporalKey> =\n  // Conditional typing maps over all of the types given in AnyTemporalLikeType\n  // union\n  K extends unknown ? OwnerOf<K, AnyTemporalLikeType> : 'ThisShouldNeverHappen';\n\n// Returns T iff T has K as all of the key(s) (even if those keys are optional\n// in T), never otherwise. This is a private type for use only in the Owner type\n// above.\ntype OwnerOf<K extends AnyTemporalKey, T> =\n  // Distribute the union before passing to Required\n  // Without distributing, this is\n  // Required<ZonedDateTimeLike | DurationLike> extends Record\n  // vs (with distribution)\n  // Required<ZonedDateTimeLike> extends Record<....> | Required<DurationLike> extends Record<....>\n  T extends unknown\n    ? // All the keys in the Like-types are optional, so in order for them to\n      // 'extend Record<K,...>', where K indicates the required fields, we pass T\n      // through Required to make all the keys non-optional.\n      // Note this doesn't work the other way around: using Partial<Record<K, ..>>\n      // will always be extended by any object (as all the keys are optional).\n      Required<T> extends Record<K, unknown>\n      ? T\n      : // never is the 'identity' type for unions - nothing will be added or\n        // removed from the union.\n        never\n    : 'ThisShouldNeverHappen';\n\ntype Prop<T, K> = T extends unknown ? (K extends keyof T ? T[K] : undefined) : 'ThisShouldNeverHappen';\n\n// Resolve copies the keys and values of a given object type so that TS will\n// stop using type names in error messages / autocomplete. Generally, those\n// names can be more useful, but sometimes having the primitive object shape is\n// significantly easier to reason about (e.g. deeply-nested types).\n// Resolve is an identity function for function types.\ntype Resolve<T> =\n  // Re-mapping doesn't work very well for functions, so exclude them\n  T extends (...args: never[]) => unknown\n    ? T\n    : // Re-map all the keys in T to the same value. This forces TS into no longer\n      // using type aliases, etc.\n      { [K in keyof T]: T[K] };\n\ntype FieldObjectFromOwners<OwnerT, FieldKeys extends AnyTemporalKey> = Resolve<\n  // The resulting object type contains:\n  // - All keys in FieldKeys, which are required properties and their values\n  //   don't include undefined.\n  // - All the other keys in OwnerT that aren't in FieldKeys, which are optional\n  //   properties and their value types explicitly include undefined.\n  {\n    -readonly [k in FieldKeys]: Exclude<Prop<OwnerT, k>, undefined>;\n  } & {\n    -readonly [k in Exclude<Keys<OwnerT>, FieldKeys>]?: Prop<OwnerT, k> | undefined;\n  }\n>;\n\ntype PrepareTemporalFieldsReturn<\n  FieldKeys extends AnyTemporalKey,\n  RequiredFieldsOpt extends ReadonlyArray<FieldKeys> | FieldCompleteness,\n  OwnerT extends Owner<FieldKeys>\n> = RequiredFieldsOpt extends 'partial' ? Partial<OwnerT> : FieldObjectFromOwners<OwnerT, FieldKeys>;\nexport function PrepareTemporalFields<\n  FieldKeys extends AnyTemporalKey,\n  // Constrains the Required keys to be a subset of the given field keys\n  // This could have been written directly into the parameter type, but that\n  // causes an unintended effect where the required fields are added to the list\n  // of field keys, even if that key isn't present in 'fields'.\n  // RequiredFieldKeys extends FieldKeys,\n  RequiredFields extends ReadonlyArray<FieldKeys> | FieldCompleteness\n>(\n  bag: Partial<Record<FieldKeys, unknown>>,\n  fields: Array<FieldKeys>,\n  requiredFields: RequiredFields,\n  { emptySourceErrorMessage }: FieldPrepareOptions = { emptySourceErrorMessage: 'no supported properties found' }\n): PrepareTemporalFieldsReturn<FieldKeys, RequiredFields, Owner<FieldKeys>> {\n  const result: Partial<Record<AnyTemporalKey, unknown>> = ObjectCreate(null);\n  let any = false;\n  fields.sort();\n  for (const property of fields) {\n    let value = bag[property];\n    if (value !== undefined) {\n      any = true;\n      if (BUILTIN_CASTS.has(property)) {\n        // We just has-checked this map access, so there will definitely be a\n        // value.\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        value = BUILTIN_CASTS.get(property)!(value);\n      }\n      result[property] = value;\n    } else if (requiredFields !== 'partial') {\n      // TODO: using .call in this way is not correctly type-checked by tsc.\n      // We might need a type-safe Call wrapper?\n      if (ArrayIncludes.call(requiredFields, property)) {\n        throw new TypeError(`required property '${property}' missing or undefined`);\n      }\n      value = BUILTIN_DEFAULTS.get(property);\n      result[property] = value;\n    }\n  }\n  if (requiredFields === 'partial' && !any) {\n    throw new TypeError(emptySourceErrorMessage);\n  }\n  return result as unknown as PrepareTemporalFieldsReturn<FieldKeys, RequiredFields, Owner<FieldKeys>>;\n}\n\ninterface TimeRecord {\n  hour?: number;\n  minute?: number;\n  second?: number;\n  microsecond?: number;\n  millisecond?: number;\n  nanosecond?: number;\n}\nexport function ToTemporalTimeRecord(bag: Partial<Record<keyof TimeRecord, string | number>>): Required<TimeRecord>;\nexport function ToTemporalTimeRecord(\n  bag: Partial<Record<keyof TimeRecord, string | number | undefined>>,\n  completeness: 'partial'\n): Partial<TimeRecord>;\nexport function ToTemporalTimeRecord(\n  bag: Partial<Record<keyof TimeRecord, string | number>>,\n  completeness: 'complete'\n): Required<TimeRecord>;\nexport function ToTemporalTimeRecord(\n  bag: Partial<Record<keyof TimeRecord, string | number | undefined>>,\n  completeness: FieldCompleteness = 'complete'\n): Partial<TimeRecord> {\n  // NOTE: Field order is sorted to make the sort in PrepareTemporalFields more efficient.\n  const fields: (keyof TimeRecord)[] = ['hour', 'microsecond', 'millisecond', 'minute', 'nanosecond', 'second'];\n  const partial = PrepareTemporalFields(bag, fields, 'partial', { emptySourceErrorMessage: 'invalid time-like' });\n  const result: Partial<TimeRecord> = {};\n  for (const field of fields) {\n    const valueDesc = ObjectGetOwnPropertyDescriptor(partial, field);\n    if (valueDesc !== undefined) {\n      result[field] = valueDesc.value;\n    } else if (completeness === 'complete') {\n      result[field] = 0;\n    }\n  }\n  return result;\n}\n\nexport function ToTemporalDate(\n  itemParam: PlainDateParams['from'][0],\n  options?: PlainDateParams['from'][1]\n): Temporal.PlainDate {\n  let item = itemParam;\n  if (IsObject(item)) {\n    if (IsTemporalDate(item)) return item;\n    if (IsTemporalZonedDateTime(item)) {\n      ToTemporalOverflow(options); // validate and ignore\n      item = GetPlainDateTimeFor(GetSlot(item, TIME_ZONE), GetSlot(item, INSTANT), GetSlot(item, CALENDAR));\n    }\n    if (IsTemporalDateTime(item)) {\n      ToTemporalOverflow(options); // validate and ignore\n      return CreateTemporalDate(\n        GetSlot(item, ISO_YEAR),\n        GetSlot(item, ISO_MONTH),\n        GetSlot(item, ISO_DAY),\n        GetSlot(item, CALENDAR)\n      );\n    }\n    const calendar = GetTemporalCalendarSlotValueWithISODefault(item);\n    const fieldNames = CalendarFields(calendar, ['day', 'month', 'monthCode', 'year'] as const);\n    const fields = PrepareTemporalFields(item, fieldNames, []);\n    return CalendarDateFromFields(calendar, fields, options);\n  }\n  ToTemporalOverflow(options); // validate and ignore\n  let { year, month, day, calendar, z } = ParseTemporalDateString(ToString(item));\n  if (z) throw new RangeError('Z designator not supported for PlainDate');\n  if (!calendar) calendar = 'iso8601';\n  if (!IsBuiltinCalendar(calendar)) throw new RangeError(`invalid calendar identifier ${calendar}`);\n  calendar = ASCIILowercase(calendar);\n  return CreateTemporalDate(year, month, day, calendar);\n}\n\nexport function InterpretTemporalDateTimeFields(\n  calendar: CalendarSlot,\n  fields: PrimitiveFieldsOf<Temporal.PlainDateTimeLike> & Parameters<typeof CalendarDateFromFields>[1],\n  options?: Temporal.AssignmentOptions\n) {\n  let { hour, minute, second, millisecond, microsecond, nanosecond } = ToTemporalTimeRecord(fields);\n  const overflow = ToTemporalOverflow(options);\n  const date = CalendarDateFromFields(calendar, fields, options);\n  const year = GetSlot(date, ISO_YEAR);\n  const month = GetSlot(date, ISO_MONTH);\n  const day = GetSlot(date, ISO_DAY);\n  ({ hour, minute, second, millisecond, microsecond, nanosecond } = RegulateTime(\n    hour,\n    minute,\n    second,\n    millisecond,\n    microsecond,\n    nanosecond,\n    overflow\n  ));\n  return { year, month, day, hour, minute, second, millisecond, microsecond, nanosecond };\n}\n\nexport function ToTemporalDateTime(item: PlainDateTimeParams['from'][0], options?: PlainDateTimeParams['from'][1]) {\n  let year: number,\n    month: number,\n    day: number,\n    hour: number,\n    minute: number,\n    second: number,\n    millisecond: number,\n    microsecond: number,\n    nanosecond: number,\n    calendar;\n  if (IsObject(item)) {\n    if (IsTemporalDateTime(item)) return item;\n    if (IsTemporalZonedDateTime(item)) {\n      ToTemporalOverflow(options); // validate and ignore\n      return GetPlainDateTimeFor(GetSlot(item, TIME_ZONE), GetSlot(item, INSTANT), GetSlot(item, CALENDAR));\n    }\n    if (IsTemporalDate(item)) {\n      ToTemporalOverflow(options); // validate and ignore\n      return CreateTemporalDateTime(\n        GetSlot(item, ISO_YEAR),\n        GetSlot(item, ISO_MONTH),\n        GetSlot(item, ISO_DAY),\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        GetSlot(item, CALENDAR)\n      );\n    }\n\n    calendar = GetTemporalCalendarSlotValueWithISODefault(item);\n    const fieldNames = CalendarFields(calendar, [\n      'day',\n      'hour',\n      'microsecond',\n      'millisecond',\n      'minute',\n      'month',\n      'monthCode',\n      'nanosecond',\n      'second',\n      'year'\n    ] as const);\n    const fields = PrepareTemporalFields(item, fieldNames, []);\n    ({ year, month, day, hour, minute, second, millisecond, microsecond, nanosecond } = InterpretTemporalDateTimeFields(\n      calendar,\n      fields,\n      options\n    ));\n  } else {\n    ToTemporalOverflow(options); // validate and ignore\n    let z;\n    ({ year, month, day, hour, minute, second, millisecond, microsecond, nanosecond, calendar, z } =\n      ParseTemporalDateTimeString(ToString(item)));\n    if (z) throw new RangeError('Z designator not supported for PlainDateTime');\n    RejectDateTime(year, month, day, hour, minute, second, millisecond, microsecond, nanosecond);\n    if (!calendar) calendar = 'iso8601';\n    if (!IsBuiltinCalendar(calendar)) throw new RangeError(`invalid calendar identifier ${calendar}`);\n    calendar = ASCIILowercase(calendar);\n  }\n  return CreateTemporalDateTime(year, month, day, hour, minute, second, millisecond, microsecond, nanosecond, calendar);\n}\n\nexport function ToTemporalDuration(item: DurationParams['from'][0]) {\n  if (IsTemporalDuration(item)) return item;\n  let { years, months, weeks, days, hours, minutes, seconds, milliseconds, microseconds, nanoseconds } =\n    ToTemporalDurationRecord(item);\n  const TemporalDuration = GetIntrinsic('%Temporal.Duration%');\n  return new TemporalDuration(\n    years,\n    months,\n    weeks,\n    days,\n    hours,\n    minutes,\n    seconds,\n    milliseconds,\n    microseconds,\n    nanoseconds\n  );\n}\n\nexport function ToTemporalInstant(item: InstantParams['from'][0]) {\n  if (IsTemporalInstant(item)) return item;\n  if (IsTemporalZonedDateTime(item)) {\n    const TemporalInstant = GetIntrinsic('%Temporal.Instant%');\n    return new TemporalInstant(GetSlot(item, EPOCHNANOSECONDS));\n  }\n  const ns = ParseTemporalInstant(ToString(item));\n  const TemporalInstant = GetIntrinsic('%Temporal.Instant%');\n  return new TemporalInstant(ns);\n}\n\nexport function ToTemporalMonthDay(\n  itemParam: PlainMonthDayParams['from'][0],\n  options?: PlainMonthDayParams['from'][1]\n) {\n  let item = itemParam;\n  if (IsObject(item)) {\n    if (IsTemporalMonthDay(item)) return item;\n    let calendar: CalendarSlot, calendarAbsent: boolean;\n    if (HasSlot(item, CALENDAR)) {\n      calendar = GetSlot(item, CALENDAR);\n      calendarAbsent = false;\n    } else {\n      let calendarFromItem = item.calendar;\n      calendarAbsent = calendarFromItem === undefined;\n      if (calendarFromItem === undefined) calendarFromItem = 'iso8601';\n      calendar = ToTemporalCalendarSlotValue(calendarFromItem);\n    }\n    // HasSlot above adjusts the type of 'item' to include\n    // TypesWithCalendarUnits, which causes type-inference failures below.\n    // This is probably indicative of problems with HasSlot's typing.\n    const fieldNames = CalendarFields(calendar, ['day', 'month', 'monthCode', 'year'] as const);\n    const fields = PrepareTemporalFields(item, fieldNames, []);\n    // Callers who omit the calendar are not writing calendar-independent\n    // code. In that case, `monthCode`/`year` can be omitted; `month` and\n    // `day` are sufficient. Add a `year` to satisfy calendar validation.\n    if (calendarAbsent && fields.month !== undefined && fields.monthCode === undefined && fields.year === undefined) {\n      fields.year = 1972;\n    }\n    return CalendarMonthDayFromFields(calendar, fields, options);\n  }\n\n  ToTemporalOverflow(options); // validate and ignore\n  let { month, day, referenceISOYear, calendar } = ParseTemporalMonthDayString(ToString(item));\n  if (calendar === undefined) calendar = 'iso8601';\n  if (!IsBuiltinCalendar(calendar)) throw new RangeError(`invalid calendar identifier ${calendar}`);\n  calendar = ASCIILowercase(calendar);\n\n  if (referenceISOYear === undefined) {\n    RejectISODate(1972, month, day);\n    return CreateTemporalMonthDay(month, day, calendar);\n  }\n  const result = CreateTemporalMonthDay(month, day, calendar, referenceISOYear);\n  return CalendarMonthDayFromFields(calendar, result);\n}\n\nexport function ToTemporalTime(\n  itemParam: PlainTimeParams['from'][0],\n  overflow: NonNullable<PlainTimeParams['from'][1]>['overflow'] = 'constrain'\n) {\n  let item = itemParam;\n  let hour, minute, second, millisecond, microsecond, nanosecond;\n  if (IsObject(item)) {\n    if (IsTemporalTime(item)) return item;\n    if (IsTemporalZonedDateTime(item)) {\n      item = GetPlainDateTimeFor(GetSlot(item, TIME_ZONE), GetSlot(item, INSTANT), GetSlot(item, CALENDAR));\n    }\n    if (IsTemporalDateTime(item)) {\n      const TemporalPlainTime = GetIntrinsic('%Temporal.PlainTime%');\n      return new TemporalPlainTime(\n        GetSlot(item, ISO_HOUR),\n        GetSlot(item, ISO_MINUTE),\n        GetSlot(item, ISO_SECOND),\n        GetSlot(item, ISO_MILLISECOND),\n        GetSlot(item, ISO_MICROSECOND),\n        GetSlot(item, ISO_NANOSECOND)\n      );\n    }\n    ({ hour, minute, second, millisecond, microsecond, nanosecond } = ToTemporalTimeRecord(item));\n    ({ hour, minute, second, millisecond, microsecond, nanosecond } = RegulateTime(\n      hour,\n      minute,\n      second,\n      millisecond,\n      microsecond,\n      nanosecond,\n      overflow\n    ));\n  } else {\n    ({ hour, minute, second, millisecond, microsecond, nanosecond } = ParseTemporalTimeString(ToString(item)));\n    RejectTime(hour, minute, second, millisecond, microsecond, nanosecond);\n  }\n  const TemporalPlainTime = GetIntrinsic('%Temporal.PlainTime%');\n  return new TemporalPlainTime(hour, minute, second, millisecond, microsecond, nanosecond);\n}\n\nexport function ToTemporalYearMonth(\n  item: PlainYearMonthParams['from'][0],\n  options?: PlainYearMonthParams['from'][1]\n): Temporal.PlainYearMonth {\n  if (IsObject(item)) {\n    if (IsTemporalYearMonth(item)) return item;\n    const calendar = GetTemporalCalendarSlotValueWithISODefault(item);\n    const fieldNames = CalendarFields(calendar, ['month', 'monthCode', 'year'] as const);\n    const fields = PrepareTemporalFields(item, fieldNames, []);\n    return CalendarYearMonthFromFields(calendar, fields, options);\n  }\n\n  ToTemporalOverflow(options); // validate and ignore\n  let { year, month, referenceISODay, calendar } = ParseTemporalYearMonthString(ToString(item));\n  if (calendar === undefined) calendar = 'iso8601';\n  if (!IsBuiltinCalendar(calendar)) throw new RangeError(`invalid calendar identifier ${calendar}`);\n  calendar = ASCIILowercase(calendar);\n\n  if (referenceISODay === undefined) {\n    RejectISODate(year, month, 1);\n    return CreateTemporalYearMonth(year, month, calendar);\n  }\n  const result = CreateTemporalYearMonth(year, month, calendar, referenceISODay);\n  return CalendarYearMonthFromFields(calendar, result);\n}\n\ntype OffsetBehaviour = 'wall' | 'exact' | 'option';\n\nexport function InterpretISODateTimeOffset(\n  year: number,\n  month: number,\n  day: number,\n  hour: number,\n  minute: number,\n  second: number,\n  millisecond: number,\n  microsecond: number,\n  nanosecond: number,\n  offsetBehaviour: OffsetBehaviour,\n  offsetNs: number,\n  timeZone: string | Temporal.TimeZoneProtocol,\n  disambiguation: NonNullable<Temporal.ToInstantOptions['disambiguation']>,\n  offsetOpt: Temporal.OffsetDisambiguationOptions['offset'],\n  matchMinute: boolean\n) {\n  const DateTime = GetIntrinsic('%Temporal.PlainDateTime%');\n  const dt = new DateTime(year, month, day, hour, minute, second, millisecond, microsecond, nanosecond);\n\n  if (offsetBehaviour === 'wall' || offsetOpt === 'ignore') {\n    // Simple case: ISO string without a TZ offset (or caller wants to ignore\n    // the offset), so just convert DateTime to Instant in the given time zone\n    const instant = GetInstantFor(timeZone, dt, disambiguation);\n    return GetSlot(instant, EPOCHNANOSECONDS);\n  }\n\n  // The caller wants the offset to always win ('use') OR the caller is OK\n  // with the offset winning ('prefer' or 'reject') as long as it's valid\n  // for this timezone and date/time.\n  if (offsetBehaviour === 'exact' || offsetOpt === 'use') {\n    // Calculate the instant for the input's date/time and offset\n    const epochNs = GetUTCEpochNanoseconds(\n      year,\n      month,\n      day,\n      hour,\n      minute,\n      second,\n      millisecond,\n      microsecond,\n      nanosecond\n    );\n    if (epochNs === null) throw new RangeError('ZonedDateTime outside of supported range');\n    return JSBI.subtract(epochNs, JSBI.BigInt(offsetNs));\n  }\n\n  // \"prefer\" or \"reject\"\n  const possibleInstants = GetPossibleInstantsFor(timeZone, dt);\n  for (const candidate of possibleInstants) {\n    const candidateOffset = GetOffsetNanosecondsFor(timeZone, candidate);\n    const roundedCandidateOffset = JSBI.toNumber(\n      RoundNumberToIncrement(JSBI.BigInt(candidateOffset), MINUTE_NANOS, 'halfExpand')\n    );\n    if (candidateOffset === offsetNs || (matchMinute && roundedCandidateOffset === offsetNs)) {\n      return GetSlot(candidate, EPOCHNANOSECONDS);\n    }\n  }\n\n  // the user-provided offset doesn't match any instants for this time\n  // zone and date/time.\n  if (offsetOpt === 'reject') {\n    const offsetStr = FormatTimeZoneOffsetString(offsetNs);\n    const timeZoneString = IsTemporalTimeZone(timeZone) ? GetSlot(timeZone, TIMEZONE_ID) : 'time zone';\n    // The tsc emit for this line rewrites to invoke the PlainDateTime's valueOf method, NOT\n    // toString (which is invoked by Node when using template literals directly).\n    // See https://github.com/microsoft/TypeScript/issues/39744 for the proposed fix in tsc emit\n    throw new RangeError(`Offset ${offsetStr} is invalid for ${dt.toString()} in ${timeZoneString}`);\n  }\n  // fall through: offsetOpt === 'prefer', but the offset doesn't match\n  // so fall back to use the time zone instead.\n  const instant = DisambiguatePossibleInstants(possibleInstants, timeZone, dt, disambiguation);\n  return GetSlot(instant, EPOCHNANOSECONDS);\n}\n\nexport function ToTemporalZonedDateTime(\n  item: ZonedDateTimeParams['from'][0],\n  options?: ZonedDateTimeParams['from'][1]\n) {\n  let year: number,\n    month: number,\n    day: number,\n    hour: number,\n    minute: number,\n    second: number,\n    millisecond: number,\n    microsecond: number,\n    nanosecond: number,\n    timeZone,\n    offset: string | undefined,\n    calendar: string | Temporal.CalendarProtocol | undefined;\n  let disambiguation: NonNullable<Temporal.ToInstantOptions['disambiguation']>;\n  let offsetOpt: NonNullable<Temporal.OffsetDisambiguationOptions['offset']>;\n  let matchMinute = false;\n  let offsetBehaviour: OffsetBehaviour = 'option';\n  if (IsObject(item)) {\n    if (IsTemporalZonedDateTime(item)) return item;\n    calendar = GetTemporalCalendarSlotValueWithISODefault(item);\n    const fieldNames: (keyof Temporal.ZonedDateTimeLike)[] = CalendarFields(calendar, [\n      'day',\n      'hour',\n      'microsecond',\n      'millisecond',\n      'minute',\n      'month',\n      'monthCode',\n      'nanosecond',\n      'second',\n      'year'\n    ] as const);\n    fieldNames.push('timeZone', 'offset');\n    const fields = PrepareTemporalFields(item, fieldNames, ['timeZone']);\n    timeZone = ToTemporalTimeZoneSlotValue(fields.timeZone);\n    offset = fields.offset;\n    if (offset === undefined) {\n      offsetBehaviour = 'wall';\n    }\n    disambiguation = ToTemporalDisambiguation(options);\n    offsetOpt = ToTemporalOffset(options, 'reject');\n    ({ year, month, day, hour, minute, second, millisecond, microsecond, nanosecond } = InterpretTemporalDateTimeFields(\n      calendar,\n      fields,\n      options\n    ));\n  } else {\n    let ianaName, z;\n    ({ year, month, day, hour, minute, second, millisecond, microsecond, nanosecond, ianaName, offset, z, calendar } =\n      ParseTemporalZonedDateTimeString(ToString(item)));\n    timeZone = ToTemporalTimeZoneSlotValue(ianaName);\n    if (z) {\n      offsetBehaviour = 'exact';\n    } else if (!offset) {\n      offsetBehaviour = 'wall';\n    }\n    if (!calendar) calendar = 'iso8601';\n    if (!IsBuiltinCalendar(calendar)) throw new RangeError(`invalid calendar identifier ${calendar}`);\n    calendar = ASCIILowercase(calendar);\n    matchMinute = true; // ISO strings may specify offset with less precision\n    disambiguation = ToTemporalDisambiguation(options);\n    offsetOpt = ToTemporalOffset(options, 'reject');\n    ToTemporalOverflow(options); // validate and ignore\n  }\n  let offsetNs = 0;\n  // The code above guarantees that if offsetBehaviour === 'option', then\n  // `offset` is not undefined.\n  if (offsetBehaviour === 'option') offsetNs = ParseTimeZoneOffsetString(offset as string);\n  const epochNanoseconds = InterpretISODateTimeOffset(\n    year,\n    month,\n    day,\n    hour,\n    minute,\n    second,\n    millisecond,\n    microsecond,\n    nanosecond,\n    offsetBehaviour,\n    offsetNs,\n    timeZone,\n    disambiguation,\n    offsetOpt,\n    matchMinute\n  );\n  return CreateTemporalZonedDateTime(epochNanoseconds, timeZone, calendar);\n}\n\nexport function CreateTemporalDateSlots(\n  result: Temporal.PlainDate,\n  isoYear: number,\n  isoMonth: number,\n  isoDay: number,\n  calendar: CalendarSlot\n) {\n  RejectISODate(isoYear, isoMonth, isoDay);\n  RejectDateRange(isoYear, isoMonth, isoDay);\n\n  CreateSlots(result);\n  SetSlot(result, ISO_YEAR, isoYear);\n  SetSlot(result, ISO_MONTH, isoMonth);\n  SetSlot(result, ISO_DAY, isoDay);\n  SetSlot(result, CALENDAR, calendar);\n  SetSlot(result, DATE_BRAND, true);\n\n  if (DEBUG) {\n    ObjectDefineProperty(result, '_repr_', {\n      value: `${result[Symbol.toStringTag]} <${TemporalDateToString(result)}>`,\n      writable: false,\n      enumerable: false,\n      configurable: false\n    });\n  }\n}\n\nexport function CreateTemporalDate(\n  isoYear: number,\n  isoMonth: number,\n  isoDay: number,\n  calendar: CalendarSlot = 'iso8601'\n) {\n  const TemporalPlainDate = GetIntrinsic('%Temporal.PlainDate%');\n  const result = ObjectCreate(TemporalPlainDate.prototype);\n  CreateTemporalDateSlots(result, isoYear, isoMonth, isoDay, calendar);\n  return result;\n}\n\nexport function CreateTemporalDateTimeSlots(\n  result: Temporal.PlainDateTime,\n  isoYear: number,\n  isoMonth: number,\n  isoDay: number,\n  h: number,\n  min: number,\n  s: number,\n  ms: number,\n  µs: number,\n  ns: number,\n  calendar: CalendarSlot\n) {\n  RejectDateTime(isoYear, isoMonth, isoDay, h, min, s, ms, µs, ns);\n  RejectDateTimeRange(isoYear, isoMonth, isoDay, h, min, s, ms, µs, ns);\n\n  CreateSlots(result);\n  SetSlot(result, ISO_YEAR, isoYear);\n  SetSlot(result, ISO_MONTH, isoMonth);\n  SetSlot(result, ISO_DAY, isoDay);\n  SetSlot(result, ISO_HOUR, h);\n  SetSlot(result, ISO_MINUTE, min);\n  SetSlot(result, ISO_SECOND, s);\n  SetSlot(result, ISO_MILLISECOND, ms);\n  SetSlot(result, ISO_MICROSECOND, µs);\n  SetSlot(result, ISO_NANOSECOND, ns);\n  SetSlot(result, CALENDAR, calendar);\n\n  if (DEBUG) {\n    Object.defineProperty(result, '_repr_', {\n      value: `${result[Symbol.toStringTag]} <${TemporalDateTimeToString(result, 'auto')}>`,\n      writable: false,\n      enumerable: false,\n      configurable: false\n    });\n  }\n}\n\nexport function CreateTemporalDateTime(\n  isoYear: number,\n  isoMonth: number,\n  isoDay: number,\n  h: number,\n  min: number,\n  s: number,\n  ms: number,\n  µs: number,\n  ns: number,\n  calendar: CalendarSlot = 'iso8601'\n) {\n  const TemporalPlainDateTime = GetIntrinsic('%Temporal.PlainDateTime%');\n  const result = ObjectCreate(TemporalPlainDateTime.prototype);\n  CreateTemporalDateTimeSlots(result, isoYear, isoMonth, isoDay, h, min, s, ms, µs, ns, calendar);\n  return result as Temporal.PlainDateTime;\n}\n\nexport function CreateTemporalMonthDaySlots(\n  result: Temporal.PlainMonthDay,\n  isoMonth: number,\n  isoDay: number,\n  calendar: CalendarSlot,\n  referenceISOYear: number\n) {\n  RejectISODate(referenceISOYear, isoMonth, isoDay);\n  RejectDateRange(referenceISOYear, isoMonth, isoDay);\n\n  CreateSlots(result);\n  SetSlot(result, ISO_MONTH, isoMonth);\n  SetSlot(result, ISO_DAY, isoDay);\n  SetSlot(result, ISO_YEAR, referenceISOYear);\n  SetSlot(result, CALENDAR, calendar);\n  SetSlot(result, MONTH_DAY_BRAND, true);\n\n  if (DEBUG) {\n    Object.defineProperty(result, '_repr_', {\n      value: `${result[Symbol.toStringTag]} <${TemporalMonthDayToString(result)}>`,\n      writable: false,\n      enumerable: false,\n      configurable: false\n    });\n  }\n}\n\nexport function CreateTemporalMonthDay(\n  isoMonth: number,\n  isoDay: number,\n  calendar: CalendarSlot = 'iso8601',\n  referenceISOYear = 1972\n) {\n  const TemporalPlainMonthDay = GetIntrinsic('%Temporal.PlainMonthDay%');\n  const result = ObjectCreate(TemporalPlainMonthDay.prototype);\n  CreateTemporalMonthDaySlots(result, isoMonth, isoDay, calendar, referenceISOYear);\n  return result;\n}\n\nexport function CreateTemporalYearMonthSlots(\n  result: Temporal.PlainYearMonth,\n  isoYear: number,\n  isoMonth: number,\n  calendar: CalendarSlot,\n  referenceISODay: number\n) {\n  RejectISODate(isoYear, isoMonth, referenceISODay);\n  RejectYearMonthRange(isoYear, isoMonth);\n\n  CreateSlots(result);\n  SetSlot(result, ISO_YEAR, isoYear);\n  SetSlot(result, ISO_MONTH, isoMonth);\n  SetSlot(result, ISO_DAY, referenceISODay);\n  SetSlot(result, CALENDAR, calendar);\n  SetSlot(result, YEAR_MONTH_BRAND, true);\n\n  if (DEBUG) {\n    Object.defineProperty(result, '_repr_', {\n      value: `${result[Symbol.toStringTag]} <${TemporalYearMonthToString(result)}>`,\n      writable: false,\n      enumerable: false,\n      configurable: false\n    });\n  }\n}\n\nexport function CreateTemporalYearMonth(\n  isoYear: number,\n  isoMonth: number,\n  calendar: CalendarSlot = 'iso8601',\n  referenceISODay = 1\n) {\n  const TemporalPlainYearMonth = GetIntrinsic('%Temporal.PlainYearMonth%');\n  const result = ObjectCreate(TemporalPlainYearMonth.prototype);\n  CreateTemporalYearMonthSlots(result, isoYear, isoMonth, calendar, referenceISODay);\n  return result;\n}\n\nexport function CreateTemporalZonedDateTimeSlots(\n  result: Temporal.ZonedDateTime,\n  epochNanoseconds: JSBI,\n  timeZone: string | Temporal.TimeZoneProtocol,\n  calendar: CalendarSlot\n) {\n  ValidateEpochNanoseconds(epochNanoseconds);\n\n  CreateSlots(result);\n  SetSlot(result, EPOCHNANOSECONDS, epochNanoseconds);\n  SetSlot(result, TIME_ZONE, timeZone);\n  SetSlot(result, CALENDAR, calendar);\n\n  const TemporalInstant = GetIntrinsic('%Temporal.Instant%');\n  const instant = new TemporalInstant(GetSlot(result, EPOCHNANOSECONDS));\n  SetSlot(result, INSTANT, instant);\n\n  if (DEBUG) {\n    Object.defineProperty(result, '_repr_', {\n      value: `${result[Symbol.toStringTag]} <${TemporalZonedDateTimeToString(result, 'auto')}>`,\n      writable: false,\n      enumerable: false,\n      configurable: false\n    });\n  }\n}\n\nexport function CreateTemporalZonedDateTime(\n  epochNanoseconds: JSBI,\n  timeZone: string | Temporal.TimeZoneProtocol,\n  calendar: CalendarSlot = 'iso8601'\n) {\n  const TemporalZonedDateTime = GetIntrinsic('%Temporal.ZonedDateTime%');\n  const result = ObjectCreate(TemporalZonedDateTime.prototype);\n  CreateTemporalZonedDateTimeSlots(result, epochNanoseconds, timeZone, calendar);\n  return result;\n}\n\n// TODO: should (can?) we make this generic so the field names are checked\n// against the type that the calendar is a property of?\nexport function CalendarFields<K extends AnyTemporalKey>(calendar: CalendarSlot, fieldNamesParam: ReadonlyArray<K>) {\n  if (typeof calendar === 'string') {\n    const TemporalCalendar = GetIntrinsic('%Temporal.Calendar%');\n    const calendarObj = new TemporalCalendar(calendar);\n    return Call(GetIntrinsic('%Temporal.Calendar.prototype.fields%'), calendarObj, [fieldNamesParam]) as K[];\n  }\n  const fields = GetMethod(calendar, 'fields');\n  const fieldNames = Call(fields, calendar, [fieldNamesParam]);\n  const result: K[] = [];\n  for (const name of fieldNames) {\n    if (typeof name !== 'string') throw new TypeError('bad return from calendar.fields()');\n    ArrayPrototypePush.call(result, name);\n  }\n  return result;\n}\n\nexport function CalendarMergeFields<Base extends Record<string, unknown>, ToAdd extends Record<string, unknown>>(\n  calendar: CalendarSlot,\n  fields: Base,\n  additionalFields: ToAdd\n) {\n  if (typeof calendar === 'string') {\n    const TemporalCalendar = GetIntrinsic('%Temporal.Calendar%');\n    const calendarObj = new TemporalCalendar(calendar);\n    return Call(GetIntrinsic('%Temporal.Calendar.prototype.mergeFields%'), calendarObj, [\n      fields,\n      additionalFields\n    ]) as Base & ToAdd;\n  }\n  const mergeFields = GetMethod(calendar, 'mergeFields');\n  const result = Call(mergeFields, calendar, [fields, additionalFields]);\n  if (!IsObject(result)) throw new TypeError('bad return from calendar.mergeFields()');\n  return result as Base & ToAdd;\n}\n\nexport function CalendarDateAdd(\n  calendar: CalendarSlot,\n  date: CalendarProtocolParams['dateAdd'][0],\n  duration: CalendarProtocolParams['dateAdd'][1],\n  options: CalendarProtocolParams['dateAdd'][2],\n  dateAddParam?: Temporal.CalendarProtocol['dateAdd'] | undefined\n) {\n  let dateAdd = dateAddParam;\n  if (typeof calendar === 'string') {\n    const TemporalCalendar = GetIntrinsic('%Temporal.Calendar%');\n    const calendarObj = new TemporalCalendar(calendar);\n    return Call(GetIntrinsic('%Temporal.Calendar.prototype.dateAdd%'), calendarObj, [date, duration, options]);\n  }\n  if (dateAdd === undefined) {\n    dateAdd = GetMethod(calendar, 'dateAdd');\n  }\n  const result = ReflectApply(dateAdd, calendar, [date, duration, options]);\n  if (!IsTemporalDate(result)) throw new TypeError('invalid result');\n  return result;\n}\n\nfunction CalendarDateUntil(\n  calendar: CalendarSlot,\n  date: CalendarProtocolParams['dateUntil'][0],\n  otherDate: CalendarProtocolParams['dateUntil'][1],\n  options: CalendarProtocolParams['dateUntil'][2],\n  dateUntilParam?: Temporal.CalendarProtocol['dateUntil'] | undefined\n) {\n  let dateUntil = dateUntilParam;\n  if (typeof calendar === 'string') {\n    const TemporalCalendar = GetIntrinsic('%Temporal.Calendar%');\n    const calendarObj = new TemporalCalendar(calendar);\n    return Call(GetIntrinsic('%Temporal.Calendar.prototype.dateUntil%'), calendarObj, [date, otherDate, options]);\n  }\n  if (dateUntil === undefined) {\n    dateUntil = GetMethod(calendar, 'dateUntil');\n  }\n  const result = ReflectApply(dateUntil, calendar, [date, otherDate, options]);\n  if (!IsTemporalDuration(result)) throw new TypeError('invalid result');\n  return result;\n}\n\nexport function CalendarYear(calendar: CalendarSlot, dateLike: CalendarProtocolParams['year'][0]) {\n  if (typeof calendar === 'string') {\n    const TemporalCalendar = GetIntrinsic('%Temporal.Calendar%');\n    const calendarObj = new TemporalCalendar(calendar);\n    return Call(GetIntrinsic('%Temporal.Calendar.prototype.year%'), calendarObj, [dateLike]);\n  }\n  const year = GetMethod(calendar, 'year');\n  let result = Call(year, calendar, [dateLike]);\n  if (typeof result !== 'number') {\n    throw new TypeError('calendar year result must be an integer');\n  }\n  if (!IsIntegralNumber(result)) {\n    throw new RangeError('calendar year result must be an integer');\n  }\n  return result;\n}\n\nexport function CalendarMonth(calendar: CalendarSlot, dateLike: CalendarProtocolParams['month'][0]) {\n  if (typeof calendar === 'string') {\n    const TemporalCalendar = GetIntrinsic('%Temporal.Calendar%');\n    const calendarObj = new TemporalCalendar(calendar);\n    return Call(GetIntrinsic('%Temporal.Calendar.prototype.month%'), calendarObj, [dateLike]);\n  }\n  const month = GetMethod(calendar, 'month');\n  let result = Call(month, calendar, [dateLike]);\n  if (typeof result !== 'number') {\n    throw new TypeError('calendar month result must be a positive integer');\n  }\n  if (!IsIntegralNumber(result) || result < 1) {\n    throw new RangeError('calendar month result must be a positive integer');\n  }\n  return result;\n}\n\nexport function CalendarMonthCode(calendar: CalendarSlot, dateLike: CalendarProtocolParams['monthCode'][0]) {\n  if (typeof calendar === 'string') {\n    const TemporalCalendar = GetIntrinsic('%Temporal.Calendar%');\n    const calendarObj = new TemporalCalendar(calendar);\n    return Call(GetIntrinsic('%Temporal.Calendar.prototype.monthCode%'), calendarObj, [dateLike]);\n  }\n  const monthCode = GetMethod(calendar, 'monthCode');\n  let result = Call(monthCode, calendar, [dateLike]);\n  if (typeof result !== 'string') {\n    throw new TypeError('calendar monthCode result must be a string');\n  }\n  return result;\n}\n\nexport function CalendarDay(calendar: CalendarSlot, dateLike: CalendarProtocolParams['era'][0]) {\n  if (typeof calendar === 'string') {\n    const TemporalCalendar = GetIntrinsic('%Temporal.Calendar%');\n    const calendarObj = new TemporalCalendar(calendar);\n    return Call(GetIntrinsic('%Temporal.Calendar.prototype.day%'), calendarObj, [dateLike]);\n  }\n  const day = GetMethod(calendar, 'day');\n  const result = Call(day, calendar, [dateLike]);\n  if (typeof result !== 'number') {\n    throw new TypeError('calendar day result must be a positive integer');\n  }\n  if (!IsIntegralNumber(result) || result < 1) {\n    throw new RangeError('calendar day result must be a positive integer');\n  }\n  return result;\n}\n\nexport function CalendarEra(calendar: CalendarSlot, dateLike: CalendarProtocolParams['era'][0]) {\n  if (typeof calendar === 'string') {\n    const TemporalCalendar = GetIntrinsic('%Temporal.Calendar%');\n    const calendarObj = new TemporalCalendar(calendar);\n    return Call(GetIntrinsic('%Temporal.Calendar.prototype.era%'), calendarObj, [dateLike]);\n  }\n  const era = GetMethod(calendar, 'era');\n  let result = Call(era, calendar, [dateLike]);\n  if (result === undefined) {\n    return result;\n  }\n  if (typeof result !== 'string') {\n    throw new TypeError('calendar era result must be a string or undefined');\n  }\n  return result;\n}\n\nexport function CalendarEraYear(calendar: CalendarSlot, dateLike: CalendarProtocolParams['era'][0]) {\n  if (typeof calendar === 'string') {\n    const TemporalCalendar = GetIntrinsic('%Temporal.Calendar%');\n    const calendarObj = new TemporalCalendar(calendar);\n    return Call(GetIntrinsic('%Temporal.Calendar.prototype.eraYear%'), calendarObj, [dateLike]);\n  }\n  const eraYear = GetMethod(calendar, 'eraYear');\n  let result = Call(eraYear, calendar, [dateLike]);\n  if (result === undefined) {\n    return result;\n  }\n  if (typeof result !== 'number') {\n    throw new TypeError('calendar eraYear result must be an integer or undefined');\n  }\n  if (!IsIntegralNumber(result)) {\n    throw new RangeError('calendar eraYear result must be an integer or undefined');\n  }\n  return result;\n}\n\nexport function CalendarDayOfWeek(calendar: CalendarSlot, dateLike: CalendarProtocolParams['era'][0]) {\n  if (typeof calendar === 'string') {\n    const TemporalCalendar = GetIntrinsic('%Temporal.Calendar%');\n    const calendarObj = new TemporalCalendar(calendar);\n    return Call(GetIntrinsic('%Temporal.Calendar.prototype.dayOfWeek%'), calendarObj, [dateLike]);\n  }\n  const dayOfWeek = GetMethod(calendar, 'dayOfWeek');\n  const result = Call(dayOfWeek, calendar, [dateLike]);\n  if (typeof result !== 'number') {\n    throw new TypeError('calendar dayOfWeek result must be a positive integer');\n  }\n  if (!IsIntegralNumber(result) || result < 1) {\n    throw new RangeError('calendar dayOfWeek result must be a positive integer');\n  }\n  return result;\n}\n\nexport function CalendarDayOfYear(calendar: CalendarSlot, dateLike: CalendarProtocolParams['era'][0]) {\n  if (typeof calendar === 'string') {\n    const TemporalCalendar = GetIntrinsic('%Temporal.Calendar%');\n    const calendarObj = new TemporalCalendar(calendar);\n    return Call(GetIntrinsic('%Temporal.Calendar.prototype.dayOfYear%'), calendarObj, [dateLike]);\n  }\n  const dayOfYear = GetMethod(calendar, 'dayOfYear');\n  const result = Call(dayOfYear, calendar, [dateLike]);\n  if (typeof result !== 'number') {\n    throw new TypeError('calendar dayOfYear result must be a positive integer');\n  }\n  if (!IsIntegralNumber(result) || result < 1) {\n    throw new RangeError('calendar dayOfYear result must be a positive integer');\n  }\n  return result;\n}\n\nexport function CalendarWeekOfYear(calendar: CalendarSlot, dateLike: CalendarProtocolParams['era'][0]) {\n  if (typeof calendar === 'string') {\n    const TemporalCalendar = GetIntrinsic('%Temporal.Calendar%');\n    const calendarObj = new TemporalCalendar(calendar);\n    return Call(GetIntrinsic('%Temporal.Calendar.prototype.weekOfYear%'), calendarObj, [dateLike]);\n  }\n  const weekOfYear = GetMethod(calendar, 'weekOfYear');\n  const result = Call(weekOfYear, calendar, [dateLike]);\n  if (typeof result !== 'number') {\n    throw new TypeError('calendar weekOfYear result must be a positive integer');\n  }\n  if (!IsIntegralNumber(result) || result < 1) {\n    throw new RangeError('calendar weekOfYear result must be a positive integer');\n  }\n  return result;\n}\n\nexport function CalendarYearOfWeek(calendar: CalendarSlot, dateLike: CalendarProtocolParams['era'][0]) {\n  if (typeof calendar === 'string') {\n    const TemporalCalendar = GetIntrinsic('%Temporal.Calendar%');\n    const calendarObj = new TemporalCalendar(calendar);\n    return Call(GetIntrinsic('%Temporal.Calendar.prototype.yearOfWeek%'), calendarObj, [dateLike]);\n  }\n  const yearOfWeek = GetMethod(calendar, 'yearOfWeek');\n  const result = Call(yearOfWeek, calendar, [dateLike]);\n  if (typeof result !== 'number') {\n    throw new TypeError('calendar yearOfWeek result must be an integer');\n  }\n  if (!IsIntegralNumber(result)) {\n    throw new RangeError('calendar yearOfWeek result must be an integer');\n  }\n  return result;\n}\n\nexport function CalendarDaysInWeek(calendar: CalendarSlot, dateLike: CalendarProtocolParams['era'][0]) {\n  if (typeof calendar === 'string') {\n    const TemporalCalendar = GetIntrinsic('%Temporal.Calendar%');\n    const calendarObj = new TemporalCalendar(calendar);\n    return Call(GetIntrinsic('%Temporal.Calendar.prototype.daysInWeek%'), calendarObj, [dateLike]);\n  }\n  const daysInWeek = GetMethod(calendar, 'daysInWeek');\n  const result = Call(daysInWeek, calendar, [dateLike]);\n  if (typeof result !== 'number') {\n    throw new TypeError('calendar daysInWeek result must be a positive integer');\n  }\n  if (!IsIntegralNumber(result) || result < 1) {\n    throw new RangeError('calendar daysInWeek result must be a positive integer');\n  }\n  return result;\n}\n\nexport function CalendarDaysInMonth(calendar: CalendarSlot, dateLike: CalendarProtocolParams['era'][0]) {\n  if (typeof calendar === 'string') {\n    const TemporalCalendar = GetIntrinsic('%Temporal.Calendar%');\n    const calendarObj = new TemporalCalendar(calendar);\n    return Call(GetIntrinsic('%Temporal.Calendar.prototype.daysInMonth%'), calendarObj, [dateLike]);\n  }\n  const daysInMonth = GetMethod(calendar, 'daysInMonth');\n  const result = Call(daysInMonth, calendar, [dateLike]);\n  if (typeof result !== 'number') {\n    throw new TypeError('calendar daysInMonth result must be a positive integer');\n  }\n  if (!IsIntegralNumber(result) || result < 1) {\n    throw new RangeError('calendar daysInMonth result must be a positive integer');\n  }\n  return result;\n}\n\nexport function CalendarDaysInYear(calendar: CalendarSlot, dateLike: CalendarProtocolParams['era'][0]) {\n  if (typeof calendar === 'string') {\n    const TemporalCalendar = GetIntrinsic('%Temporal.Calendar%');\n    const calendarObj = new TemporalCalendar(calendar);\n    return Call(GetIntrinsic('%Temporal.Calendar.prototype.daysInYear%'), calendarObj, [dateLike]);\n  }\n  const daysInYear = GetMethod(calendar, 'daysInYear');\n  const result = Call(daysInYear, calendar, [dateLike]);\n  if (typeof result !== 'number') {\n    throw new TypeError('calendar daysInYear result must be a positive integer');\n  }\n  if (!IsIntegralNumber(result) || result < 1) {\n    throw new RangeError('calendar daysInYear result must be a positive integer');\n  }\n  return result;\n}\n\nexport function CalendarMonthsInYear(calendar: CalendarSlot, dateLike: CalendarProtocolParams['era'][0]) {\n  if (typeof calendar === 'string') {\n    const TemporalCalendar = GetIntrinsic('%Temporal.Calendar%');\n    const calendarObj = new TemporalCalendar(calendar);\n    return Call(GetIntrinsic('%Temporal.Calendar.prototype.monthsInYear%'), calendarObj, [dateLike]);\n  }\n  const monthsInYear = GetMethod(calendar, 'monthsInYear');\n  const result = Call(monthsInYear, calendar, [dateLike]);\n  if (typeof result !== 'number') {\n    throw new TypeError('calendar monthsInYear result must be a positive integer');\n  }\n  if (!IsIntegralNumber(result) || result < 1) {\n    throw new RangeError('calendar monthsInYear result must be a positive integer');\n  }\n  return result;\n}\n\nexport function CalendarInLeapYear(calendar: CalendarSlot, dateLike: CalendarProtocolParams['era'][0]) {\n  if (typeof calendar === 'string') {\n    const TemporalCalendar = GetIntrinsic('%Temporal.Calendar%');\n    const calendarObj = new TemporalCalendar(calendar);\n    return Call(GetIntrinsic('%Temporal.Calendar.prototype.inLeapYear%'), calendarObj, [dateLike]);\n  }\n  const inLeapYear = GetMethod(calendar, 'inLeapYear');\n  const result = Call(inLeapYear, calendar, [dateLike]);\n  if (typeof result !== 'boolean') {\n    throw new TypeError('calendar inLeapYear result must be a boolean');\n  }\n  return result;\n}\n\ntype MaybeCalendarProtocol = Partial<Omit<Temporal.CalendarProtocol, 'toString' | 'toJSON'>>;\nfunction ObjectImplementsTemporalCalendarProtocol(object: MaybeCalendarProtocol) {\n  if (IsTemporalCalendar(object)) return true;\n  return (\n    'dateAdd' in object &&\n    'dateFromFields' in object &&\n    'dateUntil' in object &&\n    'day' in object &&\n    'dayOfWeek' in object &&\n    'dayOfYear' in object &&\n    'daysInMonth' in object &&\n    'daysInWeek' in object &&\n    'daysInYear' in object &&\n    'fields' in object &&\n    'id' in object &&\n    'inLeapYear' in object &&\n    'mergeFields' in object &&\n    'month' in object &&\n    'monthCode' in object &&\n    'monthDayFromFields' in object &&\n    'monthsInYear' in object &&\n    'weekOfYear' in object &&\n    'year' in object &&\n    'yearMonthFromFields' in object &&\n    'yearOfWeek' in object\n  );\n}\n\nexport function ToTemporalCalendarSlotValue(calendarLike: string): string;\nexport function ToTemporalCalendarSlotValue(calendarLike: Temporal.CalendarProtocol): Temporal.CalendarProtocol;\nexport function ToTemporalCalendarSlotValue(calendarLike: Temporal.CalendarLike): string | Temporal.CalendarProtocol;\nexport function ToTemporalCalendarSlotValue(calendarLike: CalendarParams['from'][0]) {\n  if (IsObject(calendarLike)) {\n    if (HasSlot(calendarLike, CALENDAR)) return GetSlot(calendarLike, CALENDAR);\n    if (!ObjectImplementsTemporalCalendarProtocol(calendarLike)) {\n      throw new TypeError('expected a Temporal.Calendar or object implementing the Temporal.Calendar protocol');\n    }\n    return calendarLike;\n  }\n  const identifier = ToString(calendarLike);\n  if (IsBuiltinCalendar(identifier)) return ASCIILowercase(identifier);\n  let calendar;\n  try {\n    ({ calendar } = ParseISODateTime(identifier));\n  } catch {\n    try {\n      ({ calendar } = ParseTemporalYearMonthString(identifier));\n    } catch {\n      ({ calendar } = ParseTemporalMonthDayString(identifier));\n    }\n  }\n  if (!calendar) calendar = 'iso8601';\n  if (!IsBuiltinCalendar(calendar)) throw new RangeError(`invalid calendar identifier ${calendar}`);\n  return ASCIILowercase(calendar);\n}\n\nfunction GetTemporalCalendarSlotValueWithISODefault(item: { calendar?: Temporal.CalendarLike }): CalendarSlot {\n  if (HasSlot(item, CALENDAR)) return GetSlot(item, CALENDAR);\n  const { calendar } = item;\n  if (calendar === undefined) return 'iso8601';\n  return ToTemporalCalendarSlotValue(calendar);\n}\n\nexport function ToTemporalCalendarIdentifier(slotValue: CalendarSlot) {\n  if (typeof slotValue === 'string') return slotValue;\n  const result = slotValue.id;\n  if (typeof result !== 'string') throw new TypeError('calendar.id should be a string');\n  return result;\n}\n\nexport function ToTemporalCalendarObject(slotValue: CalendarSlot) {\n  if (IsObject(slotValue)) return slotValue;\n  const TemporalCalendar = GetIntrinsic('%Temporal.Calendar%');\n  return new TemporalCalendar(slotValue);\n}\n\nexport function CalendarEquals(one: CalendarSlot, two: CalendarSlot) {\n  if (one === two) return true;\n  const cal1 = ToTemporalCalendarIdentifier(one);\n  const cal2 = ToTemporalCalendarIdentifier(two);\n  return cal1 === cal2;\n}\n\n// This operation is not in the spec, it implements the following:\n// \"If ? CalendarEquals(one, two) is false, throw a RangeError exception.\"\n// This is so that we can build an informative error message without\n// re-getting the .id properties.\nfunction ThrowIfCalendarsNotEqual(one: CalendarSlot, two: CalendarSlot, errorMessageAction: string) {\n  if (one === two) return;\n  const cal1 = ToTemporalCalendarIdentifier(one);\n  const cal2 = ToTemporalCalendarIdentifier(two);\n  if (cal1 !== cal2) {\n    throw new RangeError(`cannot ${errorMessageAction} of ${cal1} and ${cal2} calendars`);\n  }\n}\n\nexport function ConsolidateCalendars(one: CalendarSlot, two: CalendarSlot) {\n  if (one === two) return two;\n  const sOne = ToTemporalCalendarIdentifier(one);\n  const sTwo = ToTemporalCalendarIdentifier(two);\n  if (sOne === sTwo || sOne === 'iso8601') {\n    return two;\n  } else if (sTwo === 'iso8601') {\n    return one;\n  } else {\n    throw new RangeError('irreconcilable calendars');\n  }\n}\n\nexport function CalendarDateFromFields(\n  calendar: CalendarSlot,\n  fields: CalendarProtocolParams['dateFromFields'][0],\n  options?: Partial<CalendarProtocolParams['dateFromFields'][1]>,\n  dateFromFieldsParam?: Temporal.CalendarProtocol['dateFromFields']\n) {\n  if (typeof calendar === 'string') {\n    const TemporalCalendar = GetIntrinsic('%Temporal.Calendar%');\n    const calendarObj = new TemporalCalendar(calendar);\n    return Call(GetIntrinsic('%Temporal.Calendar.prototype.dateFromFields%'), calendarObj, [fields, options]);\n  }\n  const dateFromFields = dateFromFieldsParam ?? GetMethod(calendar, 'dateFromFields');\n  const result = Call(dateFromFields, calendar, [fields, options]);\n  if (!IsTemporalDate(result)) throw new TypeError('invalid result');\n  return result;\n}\n\nexport function CalendarYearMonthFromFields(\n  calendar: CalendarSlot,\n  fields: CalendarProtocolParams['yearMonthFromFields'][0],\n  options?: CalendarProtocolParams['yearMonthFromFields'][1]\n) {\n  if (typeof calendar === 'string') {\n    const TemporalCalendar = GetIntrinsic('%Temporal.Calendar%');\n    const calendarObj = new TemporalCalendar(calendar);\n    return Call(GetIntrinsic('%Temporal.Calendar.prototype.yearMonthFromFields%'), calendarObj, [fields, options]);\n  }\n  const yearMonthFromFields = GetMethod(calendar, 'yearMonthFromFields');\n  let result = Call(yearMonthFromFields, calendar, [fields, options]);\n  if (!IsTemporalYearMonth(result)) throw new TypeError('invalid result');\n  return result;\n}\n\nexport function CalendarMonthDayFromFields(\n  calendar: CalendarSlot,\n  fields: CalendarProtocolParams['monthDayFromFields'][0],\n  options?: CalendarProtocolParams['monthDayFromFields'][1]\n) {\n  if (typeof calendar === 'string') {\n    const TemporalCalendar = GetIntrinsic('%Temporal.Calendar%');\n    const calendarObj = new TemporalCalendar(calendar);\n    return Call(GetIntrinsic('%Temporal.Calendar.prototype.monthDayFromFields%'), calendarObj, [fields, options]);\n  }\n  const monthDayFromFields = GetMethod(calendar, 'monthDayFromFields');\n  let result = Call(monthDayFromFields, calendar, [fields, options]);\n  if (!IsTemporalMonthDay(result)) throw new TypeError('invalid result');\n  return result;\n}\n\ntype MaybeTimeZoneProtocol = Partial<\n  Pick<Temporal.TimeZoneProtocol, 'getOffsetNanosecondsFor' | 'getPossibleInstantsFor'>\n>;\nfunction ObjectImplementsTemporalTimeZoneProtocol(object: MaybeTimeZoneProtocol) {\n  if (IsTemporalTimeZone(object)) return true;\n  return 'getOffsetNanosecondsFor' in object && 'getPossibleInstantsFor' in object && 'id' in object;\n}\n\nexport function ToTemporalTimeZoneSlotValue(temporalTimeZoneLike: string): string;\nexport function ToTemporalTimeZoneSlotValue(temporalTimeZoneLike: Temporal.TimeZoneProtocol): Temporal.TimeZoneProtocol;\nexport function ToTemporalTimeZoneSlotValue(\n  temporalTimeZoneLike: Temporal.TimeZoneLike\n): string | Temporal.TimeZoneProtocol;\nexport function ToTemporalTimeZoneSlotValue(temporalTimeZoneLike: TimeZoneParams['from'][0]) {\n  if (IsObject(temporalTimeZoneLike)) {\n    if (IsTemporalZonedDateTime(temporalTimeZoneLike)) return GetSlot(temporalTimeZoneLike, TIME_ZONE);\n    if (!ObjectImplementsTemporalTimeZoneProtocol(temporalTimeZoneLike)) {\n      throw new TypeError('expected a Temporal.TimeZone or object implementing the Temporal.TimeZone protocol');\n    }\n    return temporalTimeZoneLike;\n  }\n  const identifier = ToString(temporalTimeZoneLike);\n  return ParseTemporalTimeZone(identifier);\n}\n\nexport function ToTemporalTimeZoneIdentifier(slotValue: TimeZoneSlot) {\n  if (typeof slotValue === 'string') return slotValue;\n  const result = slotValue.id;\n  if (typeof result !== 'string') throw new TypeError('timeZone.id should be a string');\n  return result;\n}\n\nexport function ToTemporalTimeZoneObject(slotValue: TimeZoneSlot) {\n  if (IsObject(slotValue)) return slotValue;\n  const TemporalTimeZone = GetIntrinsic('%Temporal.TimeZone%');\n  return new TemporalTimeZone(slotValue);\n}\n\nexport function TimeZoneEquals(one: string | Temporal.TimeZoneProtocol, two: string | Temporal.TimeZoneProtocol) {\n  if (one === two) return true;\n  const tz1 = ToTemporalTimeZoneIdentifier(one);\n  const tz2 = ToTemporalTimeZoneIdentifier(two);\n  return tz1 === tz2;\n}\n\nexport function TemporalDateTimeToDate(dateTime: Temporal.PlainDateTime) {\n  return CreateTemporalDate(\n    GetSlot(dateTime, ISO_YEAR),\n    GetSlot(dateTime, ISO_MONTH),\n    GetSlot(dateTime, ISO_DAY),\n    GetSlot(dateTime, CALENDAR)\n  );\n}\n\nexport function TemporalDateTimeToTime(dateTime: Temporal.PlainDateTime) {\n  const Time = GetIntrinsic('%Temporal.PlainTime%');\n  return new Time(\n    GetSlot(dateTime, ISO_HOUR),\n    GetSlot(dateTime, ISO_MINUTE),\n    GetSlot(dateTime, ISO_SECOND),\n    GetSlot(dateTime, ISO_MILLISECOND),\n    GetSlot(dateTime, ISO_MICROSECOND),\n    GetSlot(dateTime, ISO_NANOSECOND)\n  );\n}\n\nexport function GetOffsetNanosecondsFor(\n  timeZone: string | Temporal.TimeZoneProtocol,\n  instant: TimeZoneProtocolParams['getOffsetNanosecondsFor'][0],\n  getOffsetNanosecondsForParam?: Temporal.TimeZoneProtocol['getOffsetNanosecondsFor']\n) {\n  if (typeof timeZone === 'string') {\n    const TemporalTimeZone = GetIntrinsic('%Temporal.TimeZone%');\n    const timeZoneObject = new TemporalTimeZone(timeZone);\n    return Call(GetIntrinsic('%Temporal.TimeZone.prototype.getOffsetNanosecondsFor%'), timeZoneObject, [instant]);\n  }\n  const getOffsetNanosecondsFor = getOffsetNanosecondsForParam ?? GetMethod(timeZone, 'getOffsetNanosecondsFor');\n  const offsetNs = Call(getOffsetNanosecondsFor, timeZone, [instant]);\n  if (typeof offsetNs !== 'number') {\n    throw new TypeError('bad return from getOffsetNanosecondsFor');\n  }\n  if (!IsIntegralNumber(offsetNs) || MathAbs(offsetNs) >= 86400e9) {\n    throw new RangeError('out-of-range return from getOffsetNanosecondsFor');\n  }\n  return offsetNs;\n}\n\nexport function GetOffsetStringFor(timeZone: string | Temporal.TimeZoneProtocol, instant: Temporal.Instant) {\n  const offsetNs = GetOffsetNanosecondsFor(timeZone, instant);\n  return FormatTimeZoneOffsetString(offsetNs);\n}\n\nexport function GetPlainDateTimeFor(\n  timeZone: string | Temporal.TimeZoneProtocol,\n  instant: Temporal.Instant,\n  calendar: CalendarSlot\n) {\n  const ns = GetSlot(instant, EPOCHNANOSECONDS);\n  const offsetNs = GetOffsetNanosecondsFor(timeZone, instant);\n  let { year, month, day, hour, minute, second, millisecond, microsecond, nanosecond } = GetISOPartsFromEpoch(ns);\n  ({ year, month, day, hour, minute, second, millisecond, microsecond, nanosecond } = BalanceISODateTime(\n    year,\n    month,\n    day,\n    hour,\n    minute,\n    second,\n    millisecond,\n    microsecond,\n    nanosecond + offsetNs\n  ));\n  return CreateTemporalDateTime(year, month, day, hour, minute, second, millisecond, microsecond, nanosecond, calendar);\n}\n\nexport function GetInstantFor(\n  timeZone: string | Temporal.TimeZoneProtocol,\n  dateTime: Temporal.PlainDateTime,\n  disambiguation: NonNullable<Temporal.ToInstantOptions['disambiguation']>\n) {\n  const possibleInstants = GetPossibleInstantsFor(timeZone, dateTime);\n  return DisambiguatePossibleInstants(possibleInstants, timeZone, dateTime, disambiguation);\n}\n\nfunction DisambiguatePossibleInstants(\n  possibleInstants: Temporal.Instant[],\n  timeZone: string | Temporal.TimeZoneProtocol,\n  dateTime: Temporal.PlainDateTime,\n  disambiguation: NonNullable<Temporal.ToInstantOptions['disambiguation']>\n) {\n  const Instant = GetIntrinsic('%Temporal.Instant%');\n  const numInstants = possibleInstants.length;\n\n  if (numInstants === 1) return possibleInstants[0];\n  if (numInstants) {\n    switch (disambiguation) {\n      case 'compatible':\n      // fall through because 'compatible' means 'earlier' for \"fall back\" transitions\n      case 'earlier':\n        return possibleInstants[0];\n      case 'later':\n        return possibleInstants[numInstants - 1];\n      case 'reject': {\n        throw new RangeError('multiple instants found');\n      }\n    }\n  }\n\n  const year = GetSlot(dateTime, ISO_YEAR);\n  const month = GetSlot(dateTime, ISO_MONTH);\n  const day = GetSlot(dateTime, ISO_DAY);\n  const hour = GetSlot(dateTime, ISO_HOUR);\n  const minute = GetSlot(dateTime, ISO_MINUTE);\n  const second = GetSlot(dateTime, ISO_SECOND);\n  const millisecond = GetSlot(dateTime, ISO_MILLISECOND);\n  const microsecond = GetSlot(dateTime, ISO_MICROSECOND);\n  const nanosecond = GetSlot(dateTime, ISO_NANOSECOND);\n  const utcns = GetUTCEpochNanoseconds(year, month, day, hour, minute, second, millisecond, microsecond, nanosecond);\n  if (utcns === null) throw new RangeError('DateTime outside of supported range');\n  const dayBefore = new Instant(JSBI.subtract(utcns, DAY_NANOS));\n  const dayAfter = new Instant(JSBI.add(utcns, DAY_NANOS));\n  const offsetBefore = GetOffsetNanosecondsFor(timeZone, dayBefore);\n  const offsetAfter = GetOffsetNanosecondsFor(timeZone, dayAfter);\n  const nanoseconds = offsetAfter - offsetBefore;\n  switch (disambiguation) {\n    case 'earlier': {\n      const calendar = GetSlot(dateTime, CALENDAR);\n      const PlainDateTime = GetIntrinsic('%Temporal.PlainDateTime%');\n      const earlier = AddDateTime(\n        year,\n        month,\n        day,\n        hour,\n        minute,\n        second,\n        millisecond,\n        microsecond,\n        nanosecond,\n        calendar,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        -nanoseconds,\n        undefined\n      );\n      const earlierPlainDateTime = new PlainDateTime(\n        earlier.year,\n        earlier.month,\n        earlier.day,\n        earlier.hour,\n        earlier.minute,\n        earlier.second,\n        earlier.millisecond,\n        earlier.microsecond,\n        earlier.nanosecond,\n        calendar\n      );\n      return GetPossibleInstantsFor(timeZone, earlierPlainDateTime)[0];\n    }\n    case 'compatible':\n    // fall through because 'compatible' means 'later' for \"spring forward\" transitions\n    case 'later': {\n      const calendar = GetSlot(dateTime, CALENDAR);\n      const PlainDateTime = GetIntrinsic('%Temporal.PlainDateTime%');\n      const later = AddDateTime(\n        year,\n        month,\n        day,\n        hour,\n        minute,\n        second,\n        millisecond,\n        microsecond,\n        nanosecond,\n        calendar,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        nanoseconds,\n        undefined\n      );\n      const laterPlainDateTime = new PlainDateTime(\n        later.year,\n        later.month,\n        later.day,\n        later.hour,\n        later.minute,\n        later.second,\n        later.millisecond,\n        later.microsecond,\n        later.nanosecond,\n        calendar\n      );\n      const possible = GetPossibleInstantsFor(timeZone, laterPlainDateTime);\n      return possible[possible.length - 1];\n    }\n    case 'reject': {\n      throw new RangeError('no such instant found');\n    }\n  }\n}\n\nfunction GetPossibleInstantsFor(\n  timeZone: string | Temporal.TimeZoneProtocol,\n  dateTime: TimeZoneProtocolParams['getPossibleInstantsFor'][0],\n  getPossibleInstantsForParam?: Temporal.TimeZoneProtocol['getPossibleInstantsFor']\n) {\n  if (typeof timeZone === 'string') {\n    const TemporalTimeZone = GetIntrinsic('%Temporal.TimeZone%');\n    const timeZoneObject = new TemporalTimeZone(timeZone);\n    return Call(GetIntrinsic('%Temporal.TimeZone.prototype.getPossibleInstantsFor%'), timeZoneObject, [dateTime]);\n  }\n  const getPossibleInstantsFor = getPossibleInstantsForParam ?? GetMethod(timeZone, 'getPossibleInstantsFor');\n  const possibleInstants = Call(getPossibleInstantsFor, timeZone, [dateTime]);\n  const result: Temporal.Instant[] = [];\n  for (const instant of possibleInstants) {\n    if (!IsTemporalInstant(instant)) {\n      throw new TypeError('bad return from getPossibleInstantsFor');\n    }\n    ArrayPrototypePush.call(result, instant);\n  }\n  return result;\n}\n\nexport function ISOYearString(year: number) {\n  let yearString;\n  if (year < 0 || year > 9999) {\n    const sign = year < 0 ? '-' : '+';\n    const yearNumber = MathAbs(year);\n    yearString = sign + `000000${yearNumber}`.slice(-6);\n  } else {\n    yearString = `0000${year}`.slice(-4);\n  }\n  return yearString;\n}\n\nexport function ISODateTimePartString(part: number) {\n  return `00${part}`.slice(-2);\n}\nexport function FormatSecondsStringPart(\n  second: number,\n  millisecond: number,\n  microsecond: number,\n  nanosecond: number,\n  precision: ReturnType<typeof ToSecondsStringPrecisionRecord>['precision']\n) {\n  if (precision === 'minute') return '';\n\n  const secs = `:${ISODateTimePartString(second)}`;\n  let fractionNumber = millisecond * 1e6 + microsecond * 1e3 + nanosecond;\n  let fraction: string;\n\n  if (precision === 'auto') {\n    if (fractionNumber === 0) return secs;\n    fraction = `${fractionNumber}`.padStart(9, '0');\n    while (fraction[fraction.length - 1] === '0') fraction = fraction.slice(0, -1);\n  } else {\n    if (precision === 0) return secs;\n    fraction = `${fractionNumber}`.padStart(9, '0').slice(0, precision);\n  }\n  return `${secs}.${fraction}`;\n}\n\nexport function TemporalInstantToString(\n  instant: Temporal.Instant,\n  timeZone: string | Temporal.TimeZoneProtocol | undefined,\n  precision: ReturnType<typeof ToSecondsStringPrecisionRecord>['precision']\n) {\n  let outputTimeZone = timeZone;\n  if (outputTimeZone === undefined) outputTimeZone = 'UTC';\n  const dateTime = GetPlainDateTimeFor(outputTimeZone, instant, 'iso8601');\n  const year = ISOYearString(GetSlot(dateTime, ISO_YEAR));\n  const month = ISODateTimePartString(GetSlot(dateTime, ISO_MONTH));\n  const day = ISODateTimePartString(GetSlot(dateTime, ISO_DAY));\n  const hour = ISODateTimePartString(GetSlot(dateTime, ISO_HOUR));\n  const minute = ISODateTimePartString(GetSlot(dateTime, ISO_MINUTE));\n  const seconds = FormatSecondsStringPart(\n    GetSlot(dateTime, ISO_SECOND),\n    GetSlot(dateTime, ISO_MILLISECOND),\n    GetSlot(dateTime, ISO_MICROSECOND),\n    GetSlot(dateTime, ISO_NANOSECOND),\n    precision\n  );\n  let timeZoneString = 'Z';\n  if (timeZone !== undefined) {\n    const offsetNs = GetOffsetNanosecondsFor(outputTimeZone, instant);\n    timeZoneString = FormatISOTimeZoneOffsetString(offsetNs);\n  }\n  return `${year}-${month}-${day}T${hour}:${minute}${seconds}${timeZoneString}`;\n}\n\ninterface ToStringOptions {\n  unit: ReturnType<typeof ToSecondsStringPrecisionRecord>['unit'];\n  increment: number;\n  roundingMode: ReturnType<typeof ToTemporalRoundingMode>;\n}\n\nexport function TemporalDurationToString(\n  duration: Temporal.Duration,\n  precision: Temporal.ToStringPrecisionOptions['fractionalSecondDigits'] = 'auto',\n  options: ToStringOptions | undefined = undefined\n) {\n  function formatNumber(num: number) {\n    if (num <= NumberMaxSafeInteger) return num.toString(10);\n    return JSBI.BigInt(num).toString(10);\n  }\n\n  const years = GetSlot(duration, YEARS);\n  const months = GetSlot(duration, MONTHS);\n  const weeks = GetSlot(duration, WEEKS);\n  const days = GetSlot(duration, DAYS);\n  const hours = GetSlot(duration, HOURS);\n  const minutes = GetSlot(duration, MINUTES);\n  let seconds = GetSlot(duration, SECONDS);\n  let ms = GetSlot(duration, MILLISECONDS);\n  let µs = GetSlot(duration, MICROSECONDS);\n  let ns = GetSlot(duration, NANOSECONDS);\n  const sign = DurationSign(years, months, weeks, days, hours, minutes, seconds, ms, µs, ns);\n\n  if (options) {\n    const { unit, increment, roundingMode } = options;\n    ({\n      seconds,\n      milliseconds: ms,\n      microseconds: µs,\n      nanoseconds: ns\n    } = RoundDuration(0, 0, 0, 0, 0, 0, seconds, ms, µs, ns, increment, unit, roundingMode));\n  }\n\n  const dateParts: string[] = [];\n  if (years) dateParts.push(`${formatNumber(MathAbs(years))}Y`);\n  if (months) dateParts.push(`${formatNumber(MathAbs(months))}M`);\n  if (weeks) dateParts.push(`${formatNumber(MathAbs(weeks))}W`);\n  if (days) dateParts.push(`${formatNumber(MathAbs(days))}D`);\n\n  const timeParts: string[] = [];\n  if (hours) timeParts.push(`${formatNumber(MathAbs(hours))}H`);\n  if (minutes) timeParts.push(`${formatNumber(MathAbs(minutes))}M`);\n\n  const secondParts: string[] = [];\n  let total = TotalDurationNanoseconds(0, 0, 0, seconds, ms, µs, ns, 0);\n  let nsBigInt: JSBI, µsBigInt: JSBI, msBigInt: JSBI, secondsBigInt: JSBI;\n  ({ quotient: total, remainder: nsBigInt } = divmod(total, THOUSAND));\n  ({ quotient: total, remainder: µsBigInt } = divmod(total, THOUSAND));\n  ({ quotient: secondsBigInt, remainder: msBigInt } = divmod(total, THOUSAND));\n  const fraction =\n    MathAbs(JSBI.toNumber(msBigInt)) * 1e6 + MathAbs(JSBI.toNumber(µsBigInt)) * 1e3 + MathAbs(JSBI.toNumber(nsBigInt));\n  let decimalPart;\n  if (precision === 'auto') {\n    if (fraction !== 0) {\n      decimalPart = `${fraction}`.padStart(9, '0');\n      while (decimalPart[decimalPart.length - 1] === '0') {\n        decimalPart = decimalPart.slice(0, -1);\n      }\n    }\n  } else if (precision !== 0) {\n    decimalPart = `${fraction}`.padStart(9, '0').slice(0, precision);\n  }\n  if (decimalPart) secondParts.unshift('.', decimalPart);\n  if (!JSBI.equal(secondsBigInt, ZERO) || secondParts.length || precision !== 'auto') {\n    secondParts.unshift(abs(secondsBigInt).toString());\n  }\n  if (secondParts.length) timeParts.push(`${secondParts.join('')}S`);\n  if (timeParts.length) timeParts.unshift('T');\n  if (!dateParts.length && !timeParts.length) return 'PT0S';\n  return `${sign < 0 ? '-' : ''}P${dateParts.join('')}${timeParts.join('')}`;\n}\n\nexport function TemporalDateToString(\n  date: Temporal.PlainDate,\n  showCalendar: Temporal.ShowCalendarOption['calendarName'] = 'auto'\n) {\n  const year = ISOYearString(GetSlot(date, ISO_YEAR));\n  const month = ISODateTimePartString(GetSlot(date, ISO_MONTH));\n  const day = ISODateTimePartString(GetSlot(date, ISO_DAY));\n  const calendar = MaybeFormatCalendarAnnotation(GetSlot(date, CALENDAR), showCalendar);\n  return `${year}-${month}-${day}${calendar}`;\n}\n\nexport function TemporalDateTimeToString(\n  dateTime: Temporal.PlainDateTime,\n  precision: ReturnType<typeof ToSecondsStringPrecisionRecord>['precision'],\n  showCalendar: ReturnType<typeof ToCalendarNameOption> = 'auto',\n  options: ToStringOptions | undefined = undefined\n) {\n  let year = GetSlot(dateTime, ISO_YEAR);\n  let month = GetSlot(dateTime, ISO_MONTH);\n  let day = GetSlot(dateTime, ISO_DAY);\n  let hour = GetSlot(dateTime, ISO_HOUR);\n  let minute = GetSlot(dateTime, ISO_MINUTE);\n  let second = GetSlot(dateTime, ISO_SECOND);\n  let millisecond = GetSlot(dateTime, ISO_MILLISECOND);\n  let microsecond = GetSlot(dateTime, ISO_MICROSECOND);\n  let nanosecond = GetSlot(dateTime, ISO_NANOSECOND);\n\n  if (options) {\n    const { unit, increment, roundingMode } = options;\n    ({ year, month, day, hour, minute, second, millisecond, microsecond, nanosecond } = RoundISODateTime(\n      year,\n      month,\n      day,\n      hour,\n      minute,\n      second,\n      millisecond,\n      microsecond,\n      nanosecond,\n      increment,\n      unit,\n      roundingMode\n    ));\n  }\n\n  const yearString = ISOYearString(year);\n  const monthString = ISODateTimePartString(month);\n  const dayString = ISODateTimePartString(day);\n  const hourString = ISODateTimePartString(hour);\n  const minuteString = ISODateTimePartString(minute);\n  const secondsString = FormatSecondsStringPart(second, millisecond, microsecond, nanosecond, precision);\n  const calendar = MaybeFormatCalendarAnnotation(GetSlot(dateTime, CALENDAR), showCalendar);\n  return `${yearString}-${monthString}-${dayString}T${hourString}:${minuteString}${secondsString}${calendar}`;\n}\n\nexport function TemporalMonthDayToString(\n  monthDay: Temporal.PlainMonthDay,\n  showCalendar: Temporal.ShowCalendarOption['calendarName'] = 'auto'\n) {\n  const month = ISODateTimePartString(GetSlot(monthDay, ISO_MONTH));\n  const day = ISODateTimePartString(GetSlot(monthDay, ISO_DAY));\n  let resultString = `${month}-${day}`;\n  const calendar = GetSlot(monthDay, CALENDAR);\n  const calendarID = ToTemporalCalendarIdentifier(calendar);\n  if (showCalendar === 'always' || showCalendar === 'critical' || calendarID !== 'iso8601') {\n    const year = ISOYearString(GetSlot(monthDay, ISO_YEAR));\n    resultString = `${year}-${resultString}`;\n  }\n  const calendarString = FormatCalendarAnnotation(calendarID, showCalendar);\n  if (calendarString) resultString += calendarString;\n  return resultString;\n}\n\nexport function TemporalYearMonthToString(\n  yearMonth: Temporal.PlainYearMonth,\n  showCalendar: Temporal.ShowCalendarOption['calendarName'] = 'auto'\n) {\n  const year = ISOYearString(GetSlot(yearMonth, ISO_YEAR));\n  const month = ISODateTimePartString(GetSlot(yearMonth, ISO_MONTH));\n  let resultString = `${year}-${month}`;\n  const calendar = GetSlot(yearMonth, CALENDAR);\n  const calendarID = ToTemporalCalendarIdentifier(calendar);\n  if (showCalendar === 'always' || showCalendar === 'critical' || calendarID !== 'iso8601') {\n    const day = ISODateTimePartString(GetSlot(yearMonth, ISO_DAY));\n    resultString += `-${day}`;\n  }\n  const calendarString = FormatCalendarAnnotation(calendarID, showCalendar);\n  if (calendarString) resultString += calendarString;\n  return resultString;\n}\n\nexport function TemporalZonedDateTimeToString(\n  zdt: Temporal.ZonedDateTime,\n  precision: ReturnType<typeof ToSecondsStringPrecisionRecord>['precision'],\n  showCalendar: ReturnType<typeof ToCalendarNameOption> = 'auto',\n  showTimeZone: ReturnType<typeof ToTimeZoneNameOption> = 'auto',\n  showOffset: ReturnType<typeof ToShowOffsetOption> = 'auto',\n  options: ToStringOptions | undefined = undefined\n) {\n  let instant = GetSlot(zdt, INSTANT);\n\n  if (options) {\n    const { unit, increment, roundingMode } = options;\n    const ns = RoundInstant(GetSlot(zdt, EPOCHNANOSECONDS), increment, unit, roundingMode);\n    const TemporalInstant = GetIntrinsic('%Temporal.Instant%');\n    instant = new TemporalInstant(ns);\n  }\n\n  const tz = GetSlot(zdt, TIME_ZONE);\n  const dateTime = GetPlainDateTimeFor(tz, instant, 'iso8601');\n\n  const year = ISOYearString(GetSlot(dateTime, ISO_YEAR));\n  const month = ISODateTimePartString(GetSlot(dateTime, ISO_MONTH));\n  const day = ISODateTimePartString(GetSlot(dateTime, ISO_DAY));\n  const hour = ISODateTimePartString(GetSlot(dateTime, ISO_HOUR));\n  const minute = ISODateTimePartString(GetSlot(dateTime, ISO_MINUTE));\n  const seconds = FormatSecondsStringPart(\n    GetSlot(dateTime, ISO_SECOND),\n    GetSlot(dateTime, ISO_MILLISECOND),\n    GetSlot(dateTime, ISO_MICROSECOND),\n    GetSlot(dateTime, ISO_NANOSECOND),\n    precision\n  );\n  let result = `${year}-${month}-${day}T${hour}:${minute}${seconds}`;\n  if (showOffset !== 'never') {\n    const offsetNs = GetOffsetNanosecondsFor(tz, instant);\n    result += FormatISOTimeZoneOffsetString(offsetNs);\n  }\n  if (showTimeZone !== 'never') {\n    const identifier = ToTemporalTimeZoneIdentifier(tz);\n    const flag = showTimeZone === 'critical' ? '!' : '';\n    result += `[${flag}${identifier}]`;\n  }\n  result += MaybeFormatCalendarAnnotation(GetSlot(zdt, CALENDAR), showCalendar);\n  return result;\n}\n\nexport function IsTimeZoneOffsetString(string: string) {\n  return OFFSET.test(StringCtor(string));\n}\n\nexport function ParseTimeZoneOffsetString(string: string): number {\n  const match = OFFSET.exec(StringCtor(string));\n  if (!match) {\n    throw new RangeError(`invalid time zone offset: ${string}`);\n  }\n  const sign = match[1] === '-' || match[1] === '\\u2212' ? -1 : +1;\n  const hours = +match[2];\n  const minutes = +(match[3] || 0);\n  const seconds = +(match[4] || 0);\n  const nanoseconds = +((match[5] || 0) + '000000000').slice(0, 9);\n  return sign * (((hours * 60 + minutes) * 60 + seconds) * 1e9 + nanoseconds);\n}\n\nexport function GetCanonicalTimeZoneIdentifier(timeZoneIdentifier: string): string {\n  if (IsTimeZoneOffsetString(timeZoneIdentifier)) {\n    const offsetNs = ParseTimeZoneOffsetString(timeZoneIdentifier);\n    return FormatTimeZoneOffsetString(offsetNs);\n  }\n  const formatter = getIntlDateTimeFormatEnUsForTimeZone(StringCtor(timeZoneIdentifier));\n  return formatter.resolvedOptions().timeZone;\n}\n\nexport function GetNamedTimeZoneOffsetNanoseconds(id: string, epochNanoseconds: JSBI) {\n  const { year, month, day, hour, minute, second, millisecond, microsecond, nanosecond } =\n    GetNamedTimeZoneDateTimeParts(id, epochNanoseconds);\n\n  // The pattern of leap years in the ISO 8601 calendar repeats every 400\n  // years. To avoid overflowing at the edges of the range, we reduce the year\n  // to the remainder after dividing by 400, and then add back all the\n  // nanoseconds from the multiples of 400 years at the end.\n  const reducedYear = year % 400;\n  const yearCycles = (year - reducedYear) / 400;\n  const nsIn400YearCycle = JSBI.multiply(JSBI.BigInt(400 * 365 + 97), DAY_NANOS);\n\n  const reducedUTC = GetUTCEpochNanoseconds(\n    reducedYear,\n    month,\n    day,\n    hour,\n    minute,\n    second,\n    millisecond,\n    microsecond,\n    nanosecond\n  );\n  assertExists(reducedUTC);\n  const utc = JSBI.add(reducedUTC, JSBI.multiply(nsIn400YearCycle, JSBI.BigInt(yearCycles)));\n  return JSBI.toNumber(JSBI.subtract(utc, epochNanoseconds));\n}\n\nfunction FormatTimeZoneOffsetString(offsetNanosecondsParam: number): string {\n  const sign = offsetNanosecondsParam < 0 ? '-' : '+';\n  const offsetNanoseconds = MathAbs(offsetNanosecondsParam);\n  const nanoseconds = offsetNanoseconds % 1e9;\n  const seconds = MathFloor(offsetNanoseconds / 1e9) % 60;\n  const minutes = MathFloor(offsetNanoseconds / 60e9) % 60;\n  const hours = MathFloor(offsetNanoseconds / 3600e9);\n\n  const hourString = ISODateTimePartString(hours);\n  const minuteString = ISODateTimePartString(minutes);\n  const secondString = ISODateTimePartString(seconds);\n  let post = '';\n  if (nanoseconds) {\n    let fraction = `${nanoseconds}`.padStart(9, '0');\n    while (fraction[fraction.length - 1] === '0') fraction = fraction.slice(0, -1);\n    post = `:${secondString}.${fraction}`;\n  } else if (seconds) {\n    post = `:${secondString}`;\n  }\n  return `${sign}${hourString}:${minuteString}${post}`;\n}\n\nfunction FormatISOTimeZoneOffsetString(offsetNanosecondsParam: number): string {\n  let offsetNanoseconds = JSBI.toNumber(\n    RoundNumberToIncrement(JSBI.BigInt(offsetNanosecondsParam), MINUTE_NANOS, 'halfExpand')\n  );\n  const sign = offsetNanoseconds < 0 ? '-' : '+';\n  offsetNanoseconds = MathAbs(offsetNanoseconds);\n  const minutes = (offsetNanoseconds / 60e9) % 60;\n  const hours = MathFloor(offsetNanoseconds / 3600e9);\n\n  const hourString = ISODateTimePartString(hours);\n  const minuteString = ISODateTimePartString(minutes);\n  return `${sign}${hourString}:${minuteString}`;\n}\nexport function GetUTCEpochNanoseconds(\n  year: number,\n  month: number,\n  day: number,\n  hour: number,\n  minute: number,\n  second: number,\n  millisecond: number,\n  microsecond: number,\n  nanosecond: number\n) {\n  // Note: Date.UTC() interprets one and two-digit years as being in the\n  // 20th century, so don't use it\n  const legacyDate = new Date();\n  legacyDate.setUTCHours(hour, minute, second, millisecond);\n  legacyDate.setUTCFullYear(year, month - 1, day);\n  const ms = legacyDate.getTime();\n  if (NumberIsNaN(ms)) return null;\n  let ns = JSBI.multiply(JSBI.BigInt(ms), MILLION);\n  ns = JSBI.add(ns, JSBI.multiply(JSBI.BigInt(microsecond), THOUSAND));\n  ns = JSBI.add(ns, JSBI.BigInt(nanosecond));\n  if (JSBI.lessThan(ns, NS_MIN) || JSBI.greaterThan(ns, NS_MAX)) return null;\n  return ns;\n}\n\nfunction GetISOPartsFromEpoch(epochNanoseconds: JSBI) {\n  const { quotient, remainder } = divmod(epochNanoseconds, MILLION);\n  let epochMilliseconds = JSBI.toNumber(quotient);\n  let nanos = JSBI.toNumber(remainder);\n  if (nanos < 0) {\n    nanos += 1e6;\n    epochMilliseconds -= 1;\n  }\n  const microsecond = MathFloor(nanos / 1e3) % 1e3;\n  const nanosecond = nanos % 1e3;\n\n  const item = new Date(epochMilliseconds);\n  const year = item.getUTCFullYear();\n  const month = item.getUTCMonth() + 1;\n  const day = item.getUTCDate();\n  const hour = item.getUTCHours();\n  const minute = item.getUTCMinutes();\n  const second = item.getUTCSeconds();\n  const millisecond = item.getUTCMilliseconds();\n\n  return { epochMilliseconds, year, month, day, hour, minute, second, millisecond, microsecond, nanosecond };\n}\n\n// ts-prune-ignore-next TODO: remove this after tests are converted to TS\nexport function GetNamedTimeZoneDateTimeParts(id: string, epochNanoseconds: JSBI) {\n  const { epochMilliseconds, millisecond, microsecond, nanosecond } = GetISOPartsFromEpoch(epochNanoseconds);\n  const { year, month, day, hour, minute, second } = GetFormatterParts(id, epochMilliseconds);\n  return BalanceISODateTime(year, month, day, hour, minute, second, millisecond, microsecond, nanosecond);\n}\n\nfunction maxJSBI(one: JSBI, two: JSBI) {\n  return JSBI.lessThan(one, two) ? two : one;\n}\n\n/**\n * Our best guess at how far in advance new rules will be put into the TZDB for\n * future offset transitions. We'll pick 10 years but can always revise it if\n * we find that countries are being unusually proactive in their announcing\n * of offset changes.\n */\nfunction afterLatestPossibleTzdbRuleChange() {\n  return JSBI.add(SystemUTCEpochNanoSeconds(), ABOUT_TEN_YEARS_NANOS);\n}\n\nexport function GetNamedTimeZoneNextTransition(id: string, epochNanoseconds: JSBI): JSBI | null {\n  if (JSBI.lessThan(epochNanoseconds, BEFORE_FIRST_OFFSET_TRANSITION)) {\n    return GetNamedTimeZoneNextTransition(id, BEFORE_FIRST_OFFSET_TRANSITION);\n  }\n  // Decide how far in the future after `epochNanoseconds` we'll look for an\n  // offset change. There are two cases:\n  // 1. If it's a past date (or a date in the near future) then it's possible\n  //    that the time zone may have newly added DST in the next few years. So\n  //    we'll have to look from the provided time until a few years after the\n  //    current system time. (Changes to DST policy are usually announced a few\n  //    years in the future.) Note that the first DST anywhere started in 1847,\n  //    so we'll start checks in 1847 instead of wasting cycles on years where\n  //    there will never be transitions.\n  // 2. If it's a future date beyond the next few years, then we'll just assume\n  //    that the latest DST policy in TZDB will still be in effect.  In this\n  //    case, we only need to look one year in the future to see if there are\n  //    any DST transitions.  We actually only need to look 9-10 months because\n  //    DST has two transitions per year, but we'll use a year just to be safe.\n  const oneYearLater = JSBI.add(epochNanoseconds, ABOUT_ONE_YEAR_NANOS);\n  const uppercap = maxJSBI(afterLatestPossibleTzdbRuleChange(), oneYearLater);\n  // The first transition (in any timezone) recorded in the TZDB was in 1847, so\n  // start there if an earlier date is supplied.\n  let leftNanos = maxJSBI(BEFORE_FIRST_OFFSET_TRANSITION, epochNanoseconds);\n  const leftOffsetNs = GetNamedTimeZoneOffsetNanoseconds(id, leftNanos);\n  let rightNanos = leftNanos;\n  let rightOffsetNs = leftOffsetNs;\n  while (leftOffsetNs === rightOffsetNs && JSBI.lessThan(JSBI.BigInt(leftNanos), uppercap)) {\n    rightNanos = JSBI.add(leftNanos, TWO_WEEKS_NANOS);\n    if (JSBI.greaterThan(rightNanos, NS_MAX)) return null;\n    rightOffsetNs = GetNamedTimeZoneOffsetNanoseconds(id, rightNanos);\n    if (leftOffsetNs === rightOffsetNs) {\n      leftNanos = rightNanos;\n    }\n  }\n  if (leftOffsetNs === rightOffsetNs) return null;\n  const result = bisect(\n    (epochNs: JSBI) => GetNamedTimeZoneOffsetNanoseconds(id, epochNs),\n    leftNanos,\n    rightNanos,\n    leftOffsetNs,\n    rightOffsetNs\n  );\n  return result;\n}\n\nexport function GetNamedTimeZonePreviousTransition(id: string, epochNanoseconds: JSBI): JSBI | null {\n  // If a time zone uses DST (at the time of `epochNanoseconds`), then we only\n  // have to look back one year to find a transition. But if it doesn't use DST,\n  // then we need to look all the way back to 1847 (the earliest rule in the\n  // TZDB) to see if it had other offset transitions in the past. Looping back\n  // from a far-future date to 1847 is very slow (minutes of 100% CPU!), and is\n  // also unnecessary because DST rules aren't put into the TZDB more than a few\n  // years in the future because the political changes in time zones happen with\n  // only a few years' warning. Therefore, if a far-future date is provided,\n  // then we'll run the check in two parts:\n  // 1. First, we'll look back for up to one year to see if the latest TZDB\n  //    rules have DST.\n  // 2. If not, then we'll \"fast-reverse\" back to a few years later than the\n  //    current system time, and then look back to 1847. This reduces the\n  //    worst-case loop from 273K years to 175 years, for a ~1500x improvement\n  //    in worst-case perf.\n  const afterLatestRule = afterLatestPossibleTzdbRuleChange();\n  const isFarFuture = JSBI.greaterThan(epochNanoseconds, afterLatestRule);\n  const lowercap = isFarFuture ? JSBI.subtract(epochNanoseconds, ABOUT_ONE_YEAR_NANOS) : BEFORE_FIRST_OFFSET_TRANSITION;\n\n  // TODO: proposal-temporal polyfill has different code for very similar\n  // optimizations as above, as well as in GetNamedTimeZonePreviousTransition.\n  // We should figure out if we should change one polyfill to match the other.\n\n  // We assume most time zones either have regular DST rules that extend\n  // indefinitely into the future, or they have no DST transitions between now\n  // and next year. Africa/Casablanca and Africa/El_Aaiun are unique cases\n  // that fit neither of these. Their irregular DST transitions are\n  // precomputed until 2087 in the current time zone database, so requesting\n  // the previous transition for an instant far in the future may take an\n  // extremely long time as it loops backward 2 weeks at a time.\n  if (id === 'Africa/Casablanca' || id === 'Africa/El_Aaiun') {\n    const lastPrecomputed = GetSlot(ToTemporalInstant('2088-01-01T00Z'), EPOCHNANOSECONDS);\n    if (JSBI.lessThan(lastPrecomputed, epochNanoseconds)) {\n      return GetNamedTimeZonePreviousTransition(id, lastPrecomputed);\n    }\n  }\n\n  let rightNanos = JSBI.subtract(epochNanoseconds, ONE);\n  if (JSBI.lessThan(rightNanos, BEFORE_FIRST_OFFSET_TRANSITION)) return null;\n  const rightOffsetNs = GetNamedTimeZoneOffsetNanoseconds(id, rightNanos);\n  let leftNanos = rightNanos;\n  let leftOffsetNs = rightOffsetNs;\n  while (rightOffsetNs === leftOffsetNs && JSBI.greaterThan(rightNanos, lowercap)) {\n    leftNanos = JSBI.subtract(rightNanos, TWO_WEEKS_NANOS);\n    if (JSBI.lessThan(leftNanos, BEFORE_FIRST_OFFSET_TRANSITION)) return null;\n    leftOffsetNs = GetNamedTimeZoneOffsetNanoseconds(id, leftNanos);\n    if (rightOffsetNs === leftOffsetNs) {\n      rightNanos = leftNanos;\n    }\n  }\n  if (rightOffsetNs === leftOffsetNs) {\n    if (isFarFuture) {\n      // There was no DST after looking back one year, which means that the most\n      // recent TZDB rules don't have any recurring transitions. To check for\n      // transitions in older rules, back up to a few years after the current\n      // date and then look all the way back to 1847. Note that we move back one\n      // day from the latest possible rule so that when the recursion runs it\n      // won't consider the new time to be \"far future\" because the system clock\n      // has advanced in the meantime.\n      const newTimeToCheck = JSBI.subtract(afterLatestRule, DAY_NANOS);\n      return GetNamedTimeZonePreviousTransition(id, newTimeToCheck);\n    }\n    return null;\n  }\n  const result = bisect(\n    (epochNs: JSBI) => GetNamedTimeZoneOffsetNanoseconds(id, epochNs),\n    leftNanos,\n    rightNanos,\n    leftOffsetNs,\n    rightOffsetNs\n  );\n  return result;\n}\n\n// ts-prune-ignore-next TODO: remove this after tests are converted to TS\nexport function parseFromEnUsFormat(datetime: string) {\n  const parts = datetime.split(/[^\\w]+/);\n\n  if (parts.length !== 7) {\n    throw new RangeError(`expected 7 parts in \"${datetime}`);\n  }\n\n  const month = +parts[0];\n  const day = +parts[1];\n  let year = +parts[2];\n  const era = parts[3].toUpperCase();\n  if (era === 'B' || era === 'BC') {\n    year = -year + 1;\n  } else if (era !== 'A' && era !== 'AD') {\n    throw new RangeError(`Unknown era ${era} in \"${datetime}`);\n  }\n  let hour = +parts[4];\n  if (hour === 24) {\n    // bugs.chromium.org/p/chromium/issues/detail?id=1045791\n    hour = 0;\n  }\n  const minute = +parts[5];\n  const second = +parts[6];\n\n  if (\n    !NumberIsFinite(year) ||\n    !NumberIsFinite(month) ||\n    !NumberIsFinite(day) ||\n    !NumberIsFinite(hour) ||\n    !NumberIsFinite(minute) ||\n    !NumberIsFinite(second)\n  ) {\n    throw new RangeError(`Invalid number in \"${datetime}`);\n  }\n\n  return { year, month, day, hour, minute, second };\n}\n\n// ts-prune-ignore-next TODO: remove this after tests are converted to TS\nexport function GetFormatterParts(timeZone: string, epochMilliseconds: number) {\n  const formatter = getIntlDateTimeFormatEnUsForTimeZone(timeZone);\n  // Using `format` instead of `formatToParts` for compatibility with older clients\n  const datetime = formatter.format(new Date(epochMilliseconds));\n  return parseFromEnUsFormat(datetime);\n}\n\nexport function GetNamedTimeZoneEpochNanoseconds(\n  id: string,\n  year: number,\n  month: number,\n  day: number,\n  hour: number,\n  minute: number,\n  second: number,\n  millisecond: number,\n  microsecond: number,\n  nanosecond: number\n) {\n  const ns = GetUTCEpochNanoseconds(year, month, day, hour, minute, second, millisecond, microsecond, nanosecond);\n  if (ns === null) throw new RangeError('DateTime outside of supported range');\n  let nsEarlier = JSBI.subtract(ns, DAY_NANOS);\n  if (JSBI.lessThan(nsEarlier, NS_MIN)) nsEarlier = ns;\n  let nsLater = JSBI.add(ns, DAY_NANOS);\n  if (JSBI.greaterThan(nsLater, NS_MAX)) nsLater = ns;\n  const earliest = GetNamedTimeZoneOffsetNanoseconds(id, nsEarlier);\n  const latest = GetNamedTimeZoneOffsetNanoseconds(id, nsLater);\n  const found = earliest === latest ? [earliest] : [earliest, latest];\n  return found\n    .map((offsetNanoseconds) => {\n      const epochNanoseconds = JSBI.subtract(ns, JSBI.BigInt(offsetNanoseconds));\n      const parts = GetNamedTimeZoneDateTimeParts(id, epochNanoseconds);\n      if (\n        year !== parts.year ||\n        month !== parts.month ||\n        day !== parts.day ||\n        hour !== parts.hour ||\n        minute !== parts.minute ||\n        second !== parts.second ||\n        millisecond !== parts.millisecond ||\n        microsecond !== parts.microsecond ||\n        nanosecond !== parts.nanosecond\n      ) {\n        return undefined;\n      }\n      return epochNanoseconds;\n    })\n    .filter((x) => x !== undefined) as JSBI[];\n}\n\nexport function LeapYear(year: number) {\n  if (undefined === year) return false;\n  const isDiv4 = year % 4 === 0;\n  const isDiv100 = year % 100 === 0;\n  const isDiv400 = year % 400 === 0;\n  return isDiv4 && (!isDiv100 || isDiv400);\n}\n\nexport function ISODaysInMonth(year: number, month: number) {\n  const DoM = {\n    standard: [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],\n    leapyear: [31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]\n  };\n  return DoM[LeapYear(year) ? 'leapyear' : 'standard'][month - 1];\n}\n\nexport function DayOfWeek(year: number, month: number, day: number) {\n  const m = month + (month < 3 ? 10 : -2);\n  const Y = year - (month < 3 ? 1 : 0);\n\n  const c = MathFloor(Y / 100);\n  const y = Y - c * 100;\n  const d = day;\n\n  const pD = d;\n  const pM = MathFloor(2.6 * m - 0.2);\n  const pY = y + MathFloor(y / 4);\n  const pC = MathFloor(c / 4) - 2 * c;\n\n  const dow = (pD + pM + pY + pC) % 7;\n\n  return dow + (dow <= 0 ? 7 : 0);\n}\n\nexport function DayOfYear(year: number, month: number, day: number) {\n  let days = day;\n  for (let m = month - 1; m > 0; m--) {\n    days += ISODaysInMonth(year, m);\n  }\n  return days;\n}\n\nexport function WeekOfYear(year: number, month: number, day: number) {\n  const doy = DayOfYear(year, month, day);\n  const dow = DayOfWeek(year, month, day) || 7;\n  const doj = DayOfWeek(year, 1, 1);\n\n  const week = MathFloor((doy - dow + 10) / 7);\n\n  if (week < 1) {\n    if (doj === 5 || (doj === 6 && LeapYear(year - 1))) {\n      return { week: 53, year: year - 1 };\n    } else {\n      return { week: 52, year: year - 1 };\n    }\n  }\n  if (week === 53) {\n    if ((LeapYear(year) ? 366 : 365) - doy < 4 - dow) {\n      return { week: 1, year: year + 1 };\n    }\n  }\n\n  return { week, year };\n}\n\nexport function DurationSign(\n  y: number,\n  mon: number,\n  w: number,\n  d: number,\n  h: number,\n  min: number,\n  s: number,\n  ms: number,\n  µs: number,\n  ns: number\n) {\n  for (const prop of [y, mon, w, d, h, min, s, ms, µs, ns]) {\n    if (prop !== 0) return prop < 0 ? -1 : 1;\n  }\n  return 0;\n}\n\nfunction BalanceISOYearMonth(yearParam: number, monthParam: number) {\n  let year = yearParam;\n  let month = monthParam;\n  if (!NumberIsFinite(year) || !NumberIsFinite(month)) throw new RangeError('infinity is out of range');\n  month -= 1;\n  year += MathFloor(month / 12);\n  month %= 12;\n  if (month < 0) month += 12;\n  month += 1;\n  return { year, month };\n}\n\nfunction BalanceISODate(yearParam: number, monthParam: number, dayParam: number) {\n  let year = yearParam;\n  let month = monthParam;\n  let day = dayParam;\n  if (!NumberIsFinite(day)) throw new RangeError('infinity is out of range');\n  ({ year, month } = BalanceISOYearMonth(year, month));\n\n  // The pattern of leap years in the ISO 8601 calendar repeats every 400\n  // years. So if we have more than 400 years in days, there's no need to\n  // convert days to a year 400 times. We can convert a multiple of 400 all at\n  // once.\n  const daysIn400YearCycle = 400 * 365 + 97;\n  if (MathAbs(day) > daysIn400YearCycle) {\n    const nCycles = MathTrunc(day / daysIn400YearCycle);\n    year += 400 * nCycles;\n    day -= nCycles * daysIn400YearCycle;\n  }\n\n  let daysInYear = 0;\n  let testYear = month > 2 ? year : year - 1;\n  while (((daysInYear = LeapYear(testYear) ? 366 : 365), day < -daysInYear)) {\n    year -= 1;\n    testYear -= 1;\n    day += daysInYear;\n  }\n  testYear += 1;\n  while (((daysInYear = LeapYear(testYear) ? 366 : 365), day > daysInYear)) {\n    year += 1;\n    testYear += 1;\n    day -= daysInYear;\n  }\n\n  while (day < 1) {\n    ({ year, month } = BalanceISOYearMonth(year, month - 1));\n    day += ISODaysInMonth(year, month);\n  }\n  while (day > ISODaysInMonth(year, month)) {\n    day -= ISODaysInMonth(year, month);\n    ({ year, month } = BalanceISOYearMonth(year, month + 1));\n  }\n\n  return { year, month, day };\n}\n\nfunction BalanceISODateTime(\n  yearParam: number,\n  monthParam: number,\n  dayParam: number,\n  hourParam: number,\n  minuteParam: number,\n  secondParam: number,\n  millisecondParam: number,\n  microsecondParam: number,\n  nanosecondParam: number\n) {\n  const { deltaDays, hour, minute, second, millisecond, microsecond, nanosecond } = BalanceTime(\n    hourParam,\n    minuteParam,\n    secondParam,\n    millisecondParam,\n    microsecondParam,\n    nanosecondParam\n  );\n  const { year, month, day } = BalanceISODate(yearParam, monthParam, dayParam + deltaDays);\n  return { year, month, day, hour, minute, second, millisecond, microsecond, nanosecond };\n}\n\nfunction BalanceTime(\n  hourParam: number,\n  minuteParam: number,\n  secondParam: number,\n  millisecondParam: number,\n  microsecondParam: number,\n  nanosecondParam: number\n) {\n  let hour = JSBI.BigInt(hourParam);\n  let minute = JSBI.BigInt(minuteParam);\n  let second = JSBI.BigInt(secondParam);\n  let millisecond = JSBI.BigInt(millisecondParam);\n  let microsecond = JSBI.BigInt(microsecondParam);\n  let nanosecond = JSBI.BigInt(nanosecondParam);\n  let quotient;\n\n  ({ quotient, remainder: nanosecond } = NonNegativeBigIntDivmod(nanosecond, THOUSAND));\n  microsecond = JSBI.add(microsecond, quotient);\n\n  ({ quotient, remainder: microsecond } = NonNegativeBigIntDivmod(microsecond, THOUSAND));\n  millisecond = JSBI.add(millisecond, quotient);\n\n  ({ quotient, remainder: millisecond } = NonNegativeBigIntDivmod(millisecond, THOUSAND));\n  second = JSBI.add(second, quotient);\n\n  ({ quotient, remainder: second } = NonNegativeBigIntDivmod(second, SIXTY));\n  minute = JSBI.add(minute, quotient);\n\n  ({ quotient, remainder: minute } = NonNegativeBigIntDivmod(minute, SIXTY));\n  hour = JSBI.add(hour, quotient);\n\n  ({ quotient, remainder: hour } = NonNegativeBigIntDivmod(hour, TWENTY_FOUR));\n\n  return {\n    deltaDays: JSBI.toNumber(quotient),\n    hour: JSBI.toNumber(hour),\n    minute: JSBI.toNumber(minute),\n    second: JSBI.toNumber(second),\n    millisecond: JSBI.toNumber(millisecond),\n    microsecond: JSBI.toNumber(microsecond),\n    nanosecond: JSBI.toNumber(nanosecond)\n  };\n}\n\nexport function TotalDurationNanoseconds(\n  daysParam: number,\n  hoursParam: number | JSBI,\n  minutesParam: number | JSBI,\n  secondsParam: number | JSBI,\n  millisecondsParam: number | JSBI,\n  microsecondsParam: number | JSBI,\n  nanosecondsParam: number | JSBI,\n  offsetShift: number\n) {\n  const days: JSBI = JSBI.BigInt(daysParam);\n  let nanoseconds: JSBI = JSBI.BigInt(nanosecondsParam);\n  if (daysParam !== 0) nanoseconds = JSBI.subtract(JSBI.BigInt(nanosecondsParam), JSBI.BigInt(offsetShift));\n  const hours = JSBI.add(JSBI.BigInt(hoursParam), JSBI.multiply(days, JSBI.BigInt(24)));\n  const minutes = JSBI.add(JSBI.BigInt(minutesParam), JSBI.multiply(hours, SIXTY));\n  const seconds = JSBI.add(JSBI.BigInt(secondsParam), JSBI.multiply(minutes, SIXTY));\n  const milliseconds = JSBI.add(JSBI.BigInt(millisecondsParam), JSBI.multiply(seconds, THOUSAND));\n  const microseconds = JSBI.add(JSBI.BigInt(microsecondsParam), JSBI.multiply(milliseconds, THOUSAND));\n  return JSBI.add(JSBI.BigInt(nanoseconds), JSBI.multiply(microseconds, THOUSAND));\n}\n\nfunction NanosecondsToDays(nanosecondsParam: JSBI, relativeTo: ReturnType<typeof ToRelativeTemporalObject>) {\n  const TemporalInstant = GetIntrinsic('%Temporal.Instant%');\n  const sign = MathSign(JSBI.toNumber(nanosecondsParam));\n  let nanoseconds = JSBI.BigInt(nanosecondsParam);\n  let dayLengthNs = 86400e9;\n  if (sign === 0) return { days: 0, nanoseconds: ZERO, dayLengthNs };\n  if (!IsTemporalZonedDateTime(relativeTo)) {\n    let days: JSBI;\n    ({ quotient: days, remainder: nanoseconds } = divmod(nanoseconds, JSBI.BigInt(dayLengthNs)));\n    return { days: JSBI.toNumber(days), nanoseconds, dayLengthNs };\n  }\n\n  const startNs = GetSlot(relativeTo, EPOCHNANOSECONDS);\n  const start = GetSlot(relativeTo, INSTANT);\n  const endNs = JSBI.add(startNs, nanoseconds);\n  const end = new TemporalInstant(endNs);\n  const timeZone = GetSlot(relativeTo, TIME_ZONE);\n  const calendar = GetSlot(relativeTo, CALENDAR);\n\n  // Find the difference in days only.\n  const dtStart = GetPlainDateTimeFor(timeZone, start, calendar);\n  const dtEnd = GetPlainDateTimeFor(timeZone, end, calendar);\n  let { days: daysNumber } = DifferenceISODateTime(\n    GetSlot(dtStart, ISO_YEAR),\n    GetSlot(dtStart, ISO_MONTH),\n    GetSlot(dtStart, ISO_DAY),\n    GetSlot(dtStart, ISO_HOUR),\n    GetSlot(dtStart, ISO_MINUTE),\n    GetSlot(dtStart, ISO_SECOND),\n    GetSlot(dtStart, ISO_MILLISECOND),\n    GetSlot(dtStart, ISO_MICROSECOND),\n    GetSlot(dtStart, ISO_NANOSECOND),\n    GetSlot(dtEnd, ISO_YEAR),\n    GetSlot(dtEnd, ISO_MONTH),\n    GetSlot(dtEnd, ISO_DAY),\n    GetSlot(dtEnd, ISO_HOUR),\n    GetSlot(dtEnd, ISO_MINUTE),\n    GetSlot(dtEnd, ISO_SECOND),\n    GetSlot(dtEnd, ISO_MILLISECOND),\n    GetSlot(dtEnd, ISO_MICROSECOND),\n    GetSlot(dtEnd, ISO_NANOSECOND),\n    calendar,\n    'day',\n    ObjectCreate(null) as Temporal.DifferenceOptions<Temporal.DateTimeUnit>\n  );\n  let intermediateNs = AddZonedDateTime(start, timeZone, calendar, 0, 0, 0, daysNumber, 0, 0, 0, 0, 0, 0);\n  // may disambiguate\n\n  // If clock time after addition was in the middle of a skipped period, the\n  // endpoint was disambiguated to a later clock time. So it's possible that\n  // the resulting disambiguated result is later than endNs. If so, then back\n  // up one day and try again. Repeat if necessary (some transitions are\n  // > 24 hours) until either there's zero days left or the date duration is\n  // back inside the period where it belongs. Note that this case only can\n  // happen for positive durations because the only direction that\n  // `disambiguation: 'compatible'` can change clock time is forwards.\n  let daysBigInt = JSBI.BigInt(daysNumber);\n  if (sign === 1) {\n    while (JSBI.greaterThan(daysBigInt, ZERO) && JSBI.greaterThan(intermediateNs, endNs)) {\n      daysBigInt = JSBI.subtract(daysBigInt, ONE);\n      intermediateNs = AddZonedDateTime(\n        start,\n        timeZone,\n        calendar,\n        0,\n        0,\n        0,\n        JSBI.toNumber(daysBigInt),\n        0,\n        0,\n        0,\n        0,\n        0,\n        0\n      );\n      // may do disambiguation\n    }\n  }\n  nanoseconds = JSBI.subtract(endNs, intermediateNs);\n\n  let isOverflow = false;\n  let relativeInstant = new TemporalInstant(intermediateNs);\n  do {\n    // calculate length of the next day (day that contains the time remainder)\n    const oneDayFartherNs = AddZonedDateTime(relativeInstant, timeZone, calendar, 0, 0, 0, sign, 0, 0, 0, 0, 0, 0);\n    const relativeNs = GetSlot(relativeInstant, EPOCHNANOSECONDS);\n    dayLengthNs = JSBI.toNumber(JSBI.subtract(oneDayFartherNs, relativeNs));\n    isOverflow = JSBI.greaterThanOrEqual(\n      JSBI.multiply(JSBI.subtract(nanoseconds, JSBI.BigInt(dayLengthNs)), JSBI.BigInt(sign)),\n      ZERO\n    );\n    if (isOverflow) {\n      nanoseconds = JSBI.subtract(nanoseconds, JSBI.BigInt(dayLengthNs));\n      relativeInstant = new TemporalInstant(oneDayFartherNs);\n      daysBigInt = JSBI.add(daysBigInt, JSBI.BigInt(sign));\n    }\n  } while (isOverflow);\n  if (!isZero(daysBigInt) && signJSBI(daysBigInt) !== sign) {\n    throw new RangeError('Time zone or calendar converted nanoseconds into a number of days with the opposite sign');\n  }\n  if (!isZero(nanoseconds) && signJSBI(nanoseconds) !== sign) {\n    if (isNegativeJSBI(nanoseconds) && sign === 1) {\n      throw new Error('assert not reached');\n    }\n    throw new RangeError('Time zone or calendar ended up with a remainder of nanoseconds with the opposite sign');\n  }\n  if (JSBI.greaterThanOrEqual(abs(nanoseconds), abs(JSBI.BigInt(dayLengthNs)))) {\n    throw new Error('assert not reached');\n  }\n  return { days: JSBI.toNumber(daysBigInt), nanoseconds, dayLengthNs: MathAbs(dayLengthNs) };\n}\n\nexport function BalanceDuration(\n  daysParam: number,\n  hoursParam: number | JSBI,\n  minutesParam: number | JSBI,\n  secondsParam: number | JSBI,\n  millisecondsParam: number | JSBI,\n  microsecondsParam: number | JSBI,\n  nanosecondsParam: number | JSBI,\n  largestUnit: Temporal.DateTimeUnit,\n  relativeTo: ReturnType<typeof ToRelativeTemporalObject> = undefined\n) {\n  let result = BalancePossiblyInfiniteDuration(\n    daysParam,\n    hoursParam,\n    minutesParam,\n    secondsParam,\n    millisecondsParam,\n    microsecondsParam,\n    nanosecondsParam,\n    largestUnit,\n    relativeTo\n  );\n  if (result === 'positive overflow' || result === 'negative overflow') {\n    throw new RangeError('Duration out of range');\n  } else {\n    return result;\n  }\n}\n\nexport function BalancePossiblyInfiniteDuration(\n  daysParam: number,\n  hoursParam: number | JSBI,\n  minutesParam: number | JSBI,\n  secondsParam: number | JSBI,\n  millisecondsParam: number | JSBI,\n  microsecondsParam: number | JSBI,\n  nanosecondsParam: number | JSBI,\n  largestUnit: Temporal.DateTimeUnit,\n  relativeTo: ReturnType<typeof ToRelativeTemporalObject> = undefined\n) {\n  let days = daysParam;\n  let nanosecondsBigInt: JSBI,\n    microsecondsBigInt: JSBI,\n    millisecondsBigInt: JSBI,\n    secondsBigInt: JSBI,\n    minutesBigInt: JSBI,\n    hoursBigInt: JSBI;\n  if (IsTemporalZonedDateTime(relativeTo)) {\n    const endNs = AddZonedDateTime(\n      GetSlot(relativeTo, INSTANT),\n      GetSlot(relativeTo, TIME_ZONE),\n      GetSlot(relativeTo, CALENDAR),\n      0,\n      0,\n      0,\n      days,\n      hoursParam,\n      minutesParam,\n      secondsParam,\n      millisecondsParam,\n      microsecondsParam,\n      nanosecondsParam\n    );\n    const startNs = GetSlot(relativeTo, EPOCHNANOSECONDS);\n    nanosecondsBigInt = JSBI.subtract(endNs, startNs);\n  } else {\n    nanosecondsBigInt = TotalDurationNanoseconds(\n      days,\n      hoursParam,\n      minutesParam,\n      secondsParam,\n      millisecondsParam,\n      microsecondsParam,\n      nanosecondsParam,\n      0\n    );\n  }\n  if (largestUnit === 'year' || largestUnit === 'month' || largestUnit === 'week' || largestUnit === 'day') {\n    ({ days, nanoseconds: nanosecondsBigInt } = NanosecondsToDays(nanosecondsBigInt, relativeTo));\n  } else {\n    days = 0;\n  }\n\n  const sign = JSBI.lessThan(nanosecondsBigInt, ZERO) ? -1 : 1;\n  nanosecondsBigInt = abs(nanosecondsBigInt);\n  microsecondsBigInt = millisecondsBigInt = secondsBigInt = minutesBigInt = hoursBigInt = ZERO;\n\n  switch (largestUnit) {\n    case 'year':\n    case 'month':\n    case 'week':\n    case 'day':\n    case 'hour':\n      ({ quotient: microsecondsBigInt, remainder: nanosecondsBigInt } = divmod(nanosecondsBigInt, THOUSAND));\n      ({ quotient: millisecondsBigInt, remainder: microsecondsBigInt } = divmod(microsecondsBigInt, THOUSAND));\n      ({ quotient: secondsBigInt, remainder: millisecondsBigInt } = divmod(millisecondsBigInt, THOUSAND));\n      ({ quotient: minutesBigInt, remainder: secondsBigInt } = divmod(secondsBigInt, SIXTY));\n      ({ quotient: hoursBigInt, remainder: minutesBigInt } = divmod(minutesBigInt, SIXTY));\n      break;\n    case 'minute':\n      ({ quotient: microsecondsBigInt, remainder: nanosecondsBigInt } = divmod(nanosecondsBigInt, THOUSAND));\n      ({ quotient: millisecondsBigInt, remainder: microsecondsBigInt } = divmod(microsecondsBigInt, THOUSAND));\n      ({ quotient: secondsBigInt, remainder: millisecondsBigInt } = divmod(millisecondsBigInt, THOUSAND));\n      ({ quotient: minutesBigInt, remainder: secondsBigInt } = divmod(secondsBigInt, SIXTY));\n      break;\n    case 'second':\n      ({ quotient: microsecondsBigInt, remainder: nanosecondsBigInt } = divmod(nanosecondsBigInt, THOUSAND));\n      ({ quotient: millisecondsBigInt, remainder: microsecondsBigInt } = divmod(microsecondsBigInt, THOUSAND));\n      ({ quotient: secondsBigInt, remainder: millisecondsBigInt } = divmod(millisecondsBigInt, THOUSAND));\n      break;\n    case 'millisecond':\n      ({ quotient: microsecondsBigInt, remainder: nanosecondsBigInt } = divmod(nanosecondsBigInt, THOUSAND));\n      ({ quotient: millisecondsBigInt, remainder: microsecondsBigInt } = divmod(microsecondsBigInt, THOUSAND));\n      break;\n    case 'microsecond':\n      ({ quotient: microsecondsBigInt, remainder: nanosecondsBigInt } = divmod(nanosecondsBigInt, THOUSAND));\n      break;\n    case 'nanosecond':\n      break;\n    default:\n      throw new Error('assert not reached');\n  }\n\n  const hours = JSBI.toNumber(hoursBigInt) * sign;\n  const minutes = JSBI.toNumber(minutesBigInt) * sign;\n  const seconds = JSBI.toNumber(secondsBigInt) * sign;\n  const milliseconds = JSBI.toNumber(millisecondsBigInt) * sign;\n  const microseconds = JSBI.toNumber(microsecondsBigInt) * sign;\n  const nanoseconds = JSBI.toNumber(nanosecondsBigInt) * sign;\n\n  for (const prop of [days, hours, minutes, seconds, milliseconds, microseconds, nanoseconds]) {\n    if (!NumberIsFinite(prop)) {\n      if (sign === 1) {\n        return 'positive overflow' as const;\n      } else {\n        return 'negative overflow' as const;\n      }\n    }\n  }\n\n  return { days, hours, minutes, seconds, milliseconds, microseconds, nanoseconds };\n}\n\nexport function UnbalanceDurationRelative(\n  yearsParam: number,\n  monthsParam: number,\n  weeksParam: number,\n  daysParam: number,\n  largestUnit: Temporal.DateTimeUnit,\n  relativeToParam: ReturnType<typeof ToRelativeTemporalObject>\n): {\n  years: number;\n  months: number;\n  weeks: number;\n  days: number;\n} {\n  const TemporalDuration = GetIntrinsic('%Temporal.Duration%');\n  const sign = DurationSign(yearsParam, monthsParam, weeksParam, daysParam, 0, 0, 0, 0, 0, 0);\n  if (sign === 0) return { years: yearsParam, months: monthsParam, weeks: weeksParam, days: daysParam };\n  const signBI = JSBI.BigInt(sign);\n\n  let years = JSBI.BigInt(yearsParam);\n  let months = JSBI.BigInt(monthsParam);\n  let weeks = JSBI.BigInt(weeksParam);\n  let days = JSBI.BigInt(daysParam);\n\n  let calendar;\n  let relativeTo: Temporal.PlainDate | undefined;\n  if (relativeToParam) {\n    relativeTo = ToTemporalDate(relativeToParam);\n    calendar = GetSlot(relativeTo, CALENDAR);\n  }\n\n  const oneYear = new TemporalDuration(sign);\n  const oneMonth = new TemporalDuration(0, sign);\n  const oneWeek = new TemporalDuration(0, 0, sign);\n\n  switch (largestUnit) {\n    case 'year':\n      // no-op\n      break;\n    case 'month':\n      {\n        if (!calendar) throw new RangeError('a starting point is required for months balancing');\n        assertExists(relativeTo);\n        // balance years down to months\n        let dateAdd, dateUntil;\n        if (typeof calendar !== 'string') {\n          dateAdd = GetMethod(calendar, 'dateAdd');\n          dateUntil = GetMethod(calendar, 'dateUntil');\n        }\n        while (!isZero(years)) {\n          const newRelativeTo = CalendarDateAdd(calendar, relativeTo, oneYear, undefined, dateAdd);\n          const untilOptions = ObjectCreate(null) as Temporal.DifferenceOptions<typeof largestUnit>;\n          untilOptions.largestUnit = 'month';\n          const untilResult = CalendarDateUntil(calendar, relativeTo, newRelativeTo, untilOptions, dateUntil);\n          const oneYearMonths = JSBI.BigInt(GetSlot(untilResult, MONTHS));\n          relativeTo = newRelativeTo;\n          months = JSBI.add(months, oneYearMonths);\n          years = JSBI.subtract(years, signBI);\n        }\n      }\n      break;\n    case 'week': {\n      if (!calendar) throw new RangeError('a starting point is required for weeks balancing');\n      assertExists(relativeTo);\n      const dateAdd = typeof calendar !== 'string' ? GetMethod(calendar, 'dateAdd') : undefined;\n      // balance years down to days\n      while (!isZero(years)) {\n        let oneYearDays;\n        ({ relativeTo, days: oneYearDays } = MoveRelativeDate(calendar, relativeTo, oneYear, dateAdd));\n        days = JSBI.add(days, JSBI.BigInt(oneYearDays));\n        years = JSBI.subtract(years, signBI);\n      }\n\n      // balance months down to days\n      while (!isZero(months)) {\n        let oneMonthDays;\n        ({ relativeTo, days: oneMonthDays } = MoveRelativeDate(calendar, relativeTo, oneMonth, dateAdd));\n        days = JSBI.add(days, JSBI.BigInt(oneMonthDays));\n        months = JSBI.subtract(months, signBI);\n      }\n      break;\n    }\n    default: {\n      // balance years down to days\n      if (isZero(years) && isZero(months) && isZero(weeks)) break;\n      if (!calendar) throw new RangeError('a starting point is required for balancing calendar units');\n      const dateAdd = typeof calendar !== 'string' ? GetMethod(calendar, 'dateAdd') : undefined;\n      while (!isZero(years)) {\n        assertExists(relativeTo);\n        let oneYearDays;\n        ({ relativeTo, days: oneYearDays } = MoveRelativeDate(calendar, relativeTo, oneYear, dateAdd));\n        days = JSBI.add(days, JSBI.BigInt(oneYearDays));\n        years = JSBI.subtract(years, signBI);\n      }\n\n      // balance months down to days\n      while (!isZero(months)) {\n        assertExists(relativeTo);\n        let oneMonthDays;\n        ({ relativeTo, days: oneMonthDays } = MoveRelativeDate(calendar, relativeTo, oneMonth, dateAdd));\n        days = JSBI.add(days, JSBI.BigInt(oneMonthDays));\n        months = JSBI.subtract(months, signBI);\n      }\n\n      // balance weeks down to days\n      while (!isZero(weeks)) {\n        assertExists(relativeTo);\n        let oneWeekDays;\n        ({ relativeTo, days: oneWeekDays } = MoveRelativeDate(calendar, relativeTo, oneWeek, dateAdd));\n        days = JSBI.add(days, JSBI.BigInt(oneWeekDays));\n        weeks = JSBI.subtract(weeks, signBI);\n      }\n      break;\n    }\n  }\n\n  return {\n    years: JSBI.toNumber(years),\n    months: JSBI.toNumber(months),\n    weeks: JSBI.toNumber(weeks),\n    days: JSBI.toNumber(days)\n  };\n}\n\nexport function BalanceDurationRelative(\n  yearsParam: number,\n  monthsParam: number,\n  weeksParam: number,\n  daysParam: number,\n  largestUnit: Temporal.DateTimeUnit,\n  relativeToParam: ReturnType<typeof ToRelativeTemporalObject>\n): {\n  years: number;\n  months: number;\n  weeks: number;\n  days: number;\n} {\n  const TemporalDuration = GetIntrinsic('%Temporal.Duration%');\n  const sign = DurationSign(yearsParam, monthsParam, weeksParam, daysParam, 0, 0, 0, 0, 0, 0);\n  if (sign === 0) return { years: yearsParam, months: monthsParam, weeks: weeksParam, days: daysParam };\n  const signBI = JSBI.BigInt(sign);\n\n  let years = JSBI.BigInt(yearsParam);\n  let months = JSBI.BigInt(monthsParam);\n  let weeks = JSBI.BigInt(weeksParam);\n  let days = JSBI.BigInt(daysParam);\n\n  let calendar;\n  let relativeTo: Temporal.PlainDate | undefined;\n  if (relativeToParam) {\n    relativeTo = ToTemporalDate(relativeToParam);\n    calendar = GetSlot(relativeTo, CALENDAR);\n  }\n\n  const oneYear = new TemporalDuration(sign);\n  const oneMonth = new TemporalDuration(0, sign);\n  const oneWeek = new TemporalDuration(0, 0, sign);\n\n  switch (largestUnit) {\n    case 'year': {\n      if (!calendar) throw new RangeError('a starting point is required for years balancing');\n      assertExists(relativeTo);\n      const dateAdd = typeof calendar !== 'string' ? GetMethod(calendar, 'dateAdd') : undefined;\n      // balance days up to years\n      let newRelativeTo, oneYearDays;\n      ({ relativeTo: newRelativeTo, days: oneYearDays } = MoveRelativeDate(calendar, relativeTo, oneYear, dateAdd));\n      while (JSBI.greaterThanOrEqual(abs(days), JSBI.BigInt(MathAbs(oneYearDays)))) {\n        days = JSBI.subtract(days, JSBI.BigInt(oneYearDays));\n        years = JSBI.add(years, signBI);\n        relativeTo = newRelativeTo;\n        ({ relativeTo: newRelativeTo, days: oneYearDays } = MoveRelativeDate(calendar, relativeTo, oneYear, dateAdd));\n      }\n\n      // balance days up to months\n      let oneMonthDays;\n      ({ relativeTo: newRelativeTo, days: oneMonthDays } = MoveRelativeDate(calendar, relativeTo, oneMonth, dateAdd));\n      while (JSBI.greaterThanOrEqual(abs(days), JSBI.BigInt(MathAbs(oneMonthDays)))) {\n        days = JSBI.subtract(days, JSBI.BigInt(oneMonthDays));\n        months = JSBI.add(months, signBI);\n        relativeTo = newRelativeTo;\n        ({ relativeTo: newRelativeTo, days: oneMonthDays } = MoveRelativeDate(calendar, relativeTo, oneMonth, dateAdd));\n      }\n\n      // balance months up to years\n      newRelativeTo = CalendarDateAdd(calendar, relativeTo, oneYear, undefined, dateAdd);\n      const dateUntil = typeof calendar !== 'string' ? GetMethod(calendar, 'dateUntil') : undefined;\n      const untilOptions = ObjectCreate(null) as Temporal.DifferenceOptions<'month'>;\n      untilOptions.largestUnit = 'month';\n      let untilResult = CalendarDateUntil(calendar, relativeTo, newRelativeTo, untilOptions, dateUntil);\n      let oneYearMonths = GetSlot(untilResult, MONTHS);\n      while (JSBI.greaterThanOrEqual(abs(months), JSBI.BigInt(MathAbs(oneYearMonths)))) {\n        months = JSBI.subtract(months, JSBI.BigInt(oneYearMonths));\n        years = JSBI.add(years, signBI);\n        relativeTo = newRelativeTo;\n        newRelativeTo = CalendarDateAdd(calendar, relativeTo, oneYear, undefined, dateAdd);\n        const untilOptions = ObjectCreate(null) as Temporal.DifferenceOptions<'month'>;\n        untilOptions.largestUnit = 'month';\n        untilResult = CalendarDateUntil(calendar, relativeTo, newRelativeTo, untilOptions, dateUntil);\n        oneYearMonths = GetSlot(untilResult, MONTHS);\n      }\n      break;\n    }\n    case 'month': {\n      if (!calendar) throw new RangeError('a starting point is required for months balancing');\n      assertExists(relativeTo);\n      const dateAdd = typeof calendar !== 'string' ? GetMethod(calendar, 'dateAdd') : undefined;\n      // balance days up to months\n      let newRelativeTo, oneMonthDays;\n      ({ relativeTo: newRelativeTo, days: oneMonthDays } = MoveRelativeDate(calendar, relativeTo, oneMonth, dateAdd));\n      while (JSBI.greaterThanOrEqual(abs(days), JSBI.BigInt(MathAbs(oneMonthDays)))) {\n        days = JSBI.subtract(days, JSBI.BigInt(oneMonthDays));\n        months = JSBI.add(months, signBI);\n        relativeTo = newRelativeTo;\n        ({ relativeTo: newRelativeTo, days: oneMonthDays } = MoveRelativeDate(calendar, relativeTo, oneMonth, dateAdd));\n      }\n      break;\n    }\n    case 'week': {\n      if (!calendar) throw new RangeError('a starting point is required for weeks balancing');\n      assertExists(relativeTo);\n      const dateAdd = typeof calendar !== 'string' ? GetMethod(calendar, 'dateAdd') : undefined;\n      // balance days up to weeks\n      let newRelativeTo, oneWeekDays;\n      ({ relativeTo: newRelativeTo, days: oneWeekDays } = MoveRelativeDate(calendar, relativeTo, oneWeek, dateAdd));\n      while (JSBI.greaterThanOrEqual(abs(days), JSBI.BigInt(MathAbs(oneWeekDays)))) {\n        days = JSBI.subtract(days, JSBI.BigInt(oneWeekDays));\n        weeks = JSBI.add(weeks, signBI);\n        relativeTo = newRelativeTo;\n        ({ relativeTo: newRelativeTo, days: oneWeekDays } = MoveRelativeDate(calendar, relativeTo, oneWeek, dateAdd));\n      }\n      break;\n    }\n    default:\n      // no-op\n      break;\n  }\n\n  return {\n    years: JSBI.toNumber(years),\n    months: JSBI.toNumber(months),\n    weeks: JSBI.toNumber(weeks),\n    days: JSBI.toNumber(days)\n  };\n}\n\nexport function CalculateOffsetShift(\n  relativeTo: ReturnType<typeof ToRelativeTemporalObject>,\n  y: number,\n  mon: number,\n  w: number,\n  d: number\n) {\n  if (IsTemporalZonedDateTime(relativeTo)) {\n    const instant = GetSlot(relativeTo, INSTANT);\n    const timeZone = GetSlot(relativeTo, TIME_ZONE);\n    const calendar = GetSlot(relativeTo, CALENDAR);\n    const offsetBefore = GetOffsetNanosecondsFor(timeZone, instant);\n    const after = AddZonedDateTime(instant, timeZone, calendar, y, mon, w, d, 0, 0, 0, 0, 0, 0);\n    const TemporalInstant = GetIntrinsic('%Temporal.Instant%');\n    const instantAfter = new TemporalInstant(after);\n    const offsetAfter = GetOffsetNanosecondsFor(timeZone, instantAfter);\n    return offsetAfter - offsetBefore;\n  }\n  return 0;\n}\n\nexport function CreateNegatedTemporalDuration(duration: Temporal.Duration) {\n  const TemporalDuration = GetIntrinsic('%Temporal.Duration%');\n  return new TemporalDuration(\n    -GetSlot(duration, YEARS),\n    -GetSlot(duration, MONTHS),\n    -GetSlot(duration, WEEKS),\n    -GetSlot(duration, DAYS),\n    -GetSlot(duration, HOURS),\n    -GetSlot(duration, MINUTES),\n    -GetSlot(duration, SECONDS),\n    -GetSlot(duration, MILLISECONDS),\n    -GetSlot(duration, MICROSECONDS),\n    -GetSlot(duration, NANOSECONDS)\n  );\n}\n\nexport function ConstrainToRange(value: number | undefined, min: number, max: number) {\n  // Math.Max accepts undefined values and returns NaN. Undefined values are\n  // used for optional params in the method below.\n  return MathMin(max, MathMax(min, value as number));\n}\nfunction ConstrainISODate(year: number, monthParam: number, dayParam?: number) {\n  const month = ConstrainToRange(monthParam, 1, 12);\n  const day = ConstrainToRange(dayParam, 1, ISODaysInMonth(year, month));\n  return { year, month, day };\n}\n\nfunction ConstrainTime(\n  hourParam: number,\n  minuteParam: number,\n  secondParam: number,\n  millisecondParam: number,\n  microsecondParam: number,\n  nanosecondParam: number\n) {\n  const hour = ConstrainToRange(hourParam, 0, 23);\n  const minute = ConstrainToRange(minuteParam, 0, 59);\n  const second = ConstrainToRange(secondParam, 0, 59);\n  const millisecond = ConstrainToRange(millisecondParam, 0, 999);\n  const microsecond = ConstrainToRange(microsecondParam, 0, 999);\n  const nanosecond = ConstrainToRange(nanosecondParam, 0, 999);\n  return { hour, minute, second, millisecond, microsecond, nanosecond };\n}\n\nexport function RejectToRange(value: number, min: number, max: number) {\n  if (value < min || value > max) throw new RangeError(`value out of range: ${min} <= ${value} <= ${max}`);\n}\n\nfunction RejectISODate(year: number, month: number, day: number) {\n  RejectToRange(month, 1, 12);\n  RejectToRange(day, 1, ISODaysInMonth(year, month));\n}\n\nfunction RejectDateRange(year: number, month: number, day: number) {\n  // Noon avoids trouble at edges of DateTime range (excludes midnight)\n  RejectDateTimeRange(year, month, day, 12, 0, 0, 0, 0, 0);\n}\n\nexport function RejectTime(\n  hour: number,\n  minute: number,\n  second: number,\n  millisecond: number,\n  microsecond: number,\n  nanosecond: number\n) {\n  RejectToRange(hour, 0, 23);\n  RejectToRange(minute, 0, 59);\n  RejectToRange(second, 0, 59);\n  RejectToRange(millisecond, 0, 999);\n  RejectToRange(microsecond, 0, 999);\n  RejectToRange(nanosecond, 0, 999);\n}\n\nfunction RejectDateTime(\n  year: number,\n  month: number,\n  day: number,\n  hour: number,\n  minute: number,\n  second: number,\n  millisecond: number,\n  microsecond: number,\n  nanosecond: number\n) {\n  RejectISODate(year, month, day);\n  RejectTime(hour, minute, second, millisecond, microsecond, nanosecond);\n}\n\nfunction RejectDateTimeRange(\n  year: number,\n  month: number,\n  day: number,\n  hour: number,\n  minute: number,\n  second: number,\n  millisecond: number,\n  microsecond: number,\n  nanosecond: number\n) {\n  RejectToRange(year, YEAR_MIN, YEAR_MAX);\n  // Reject any DateTime 24 hours or more outside the Instant range\n  if (\n    (year === YEAR_MIN &&\n      null ==\n        GetUTCEpochNanoseconds(year, month, day + 1, hour, minute, second, millisecond, microsecond, nanosecond - 1)) ||\n    (year === YEAR_MAX &&\n      null ==\n        GetUTCEpochNanoseconds(year, month, day - 1, hour, minute, second, millisecond, microsecond, nanosecond + 1))\n  ) {\n    throw new RangeError('DateTime outside of supported range');\n  }\n}\n\nexport function ValidateEpochNanoseconds(epochNanoseconds: JSBI) {\n  if (JSBI.lessThan(epochNanoseconds, NS_MIN) || JSBI.greaterThan(epochNanoseconds, NS_MAX)) {\n    throw new RangeError('Instant outside of supported range');\n  }\n}\n\nfunction RejectYearMonthRange(year: number, month: number) {\n  RejectToRange(year, YEAR_MIN, YEAR_MAX);\n  if (year === YEAR_MIN) {\n    RejectToRange(month, 4, 12);\n  } else if (year === YEAR_MAX) {\n    RejectToRange(month, 1, 9);\n  }\n}\n\nexport function RejectDuration(\n  y: number,\n  mon: number,\n  w: number,\n  d: number,\n  h: number,\n  min: number,\n  s: number,\n  ms: number,\n  µs: number,\n  ns: number\n) {\n  const sign = DurationSign(y, mon, w, d, h, min, s, ms, µs, ns);\n  for (const prop of [y, mon, w, d, h, min, s, ms, µs, ns]) {\n    if (!NumberIsFinite(prop)) throw new RangeError('infinite values not allowed as duration fields');\n    const propSign = MathSign(prop);\n    if (propSign !== 0 && propSign !== sign) throw new RangeError('mixed-sign values not allowed as duration fields');\n  }\n}\n\nexport function DifferenceISODate<Allowed extends Temporal.DateTimeUnit>(\n  y1: number,\n  m1: number,\n  d1: number,\n  y2: number,\n  m2: number,\n  d2: number,\n  largestUnit: Allowed\n) {\n  switch (largestUnit) {\n    case 'year':\n    case 'month': {\n      const sign = -CompareISODate(y1, m1, d1, y2, m2, d2);\n      if (sign === 0) return { years: 0, months: 0, weeks: 0, days: 0 };\n\n      const start = { year: y1, month: m1, day: d1 };\n      const end = { year: y2, month: m2, day: d2 };\n\n      let years = end.year - start.year;\n      let mid = AddISODate(y1, m1, d1, years, 0, 0, 0, 'constrain');\n      let midSign = -CompareISODate(mid.year, mid.month, mid.day, y2, m2, d2);\n      if (midSign === 0) {\n        return largestUnit === 'year'\n          ? { years, months: 0, weeks: 0, days: 0 }\n          : { years: 0, months: years * 12, weeks: 0, days: 0 };\n      }\n      let months = end.month - start.month;\n      if (midSign !== sign) {\n        years -= sign;\n        months += sign * 12;\n      }\n      mid = AddISODate(y1, m1, d1, years, months, 0, 0, 'constrain');\n      midSign = -CompareISODate(mid.year, mid.month, mid.day, y2, m2, d2);\n      if (midSign === 0) {\n        return largestUnit === 'year'\n          ? { years, months, weeks: 0, days: 0 }\n          : { years: 0, months: months + years * 12, weeks: 0, days: 0 };\n      }\n      if (midSign !== sign) {\n        // The end date is later in the month than mid date (or earlier for\n        // negative durations). Back up one month.\n        months -= sign;\n        if (months === -sign) {\n          years -= sign;\n          months = 11 * sign;\n        }\n        mid = AddISODate(y1, m1, d1, years, months, 0, 0, 'constrain');\n      }\n\n      let days = 0;\n      // If we get here, months and years are correct (no overflow), and `mid`\n      // is within the range from `start` to `end`. To count the days between\n      // `mid` and `end`, there are 3 cases:\n      // 1) same month: use simple subtraction\n      // 2) end is previous month from intermediate (negative duration)\n      // 3) end is next month from intermediate (positive duration)\n      if (mid.month === end.month) {\n        // 1) same month: use simple subtraction\n        days = end.day - mid.day;\n      } else if (sign < 0) {\n        // 2) end is previous month from intermediate (negative duration)\n        // Example: intermediate: Feb 1, end: Jan 30, DaysInMonth = 31, days = -2\n        days = -mid.day - (ISODaysInMonth(end.year, end.month) - end.day);\n      } else {\n        // 3) end is next month from intermediate (positive duration)\n        // Example: intermediate: Jan 29, end: Feb 1, DaysInMonth = 31, days = 3\n        days = end.day + (ISODaysInMonth(mid.year, mid.month) - mid.day);\n      }\n\n      if (largestUnit === 'month') {\n        months += years * 12;\n        years = 0;\n      }\n      return { years, months, weeks: 0, days };\n    }\n    case 'week':\n    case 'day': {\n      let larger, smaller, sign;\n      if (CompareISODate(y1, m1, d1, y2, m2, d2) < 0) {\n        smaller = { year: y1, month: m1, day: d1 };\n        larger = { year: y2, month: m2, day: d2 };\n        sign = 1;\n      } else {\n        smaller = { year: y2, month: m2, day: d2 };\n        larger = { year: y1, month: m1, day: d1 };\n        sign = -1;\n      }\n      let days = DayOfYear(larger.year, larger.month, larger.day) - DayOfYear(smaller.year, smaller.month, smaller.day);\n      for (let year = smaller.year; year < larger.year; ++year) {\n        days += LeapYear(year) ? 366 : 365;\n      }\n      let weeks = 0;\n      if (largestUnit === 'week') {\n        weeks = MathFloor(days / 7);\n        days %= 7;\n      }\n      weeks *= sign;\n      days *= sign;\n      return { years: 0, months: 0, weeks, days };\n    }\n    default:\n      throw new Error('assert not reached');\n  }\n}\n\nfunction DifferenceTime(\n  h1: number,\n  min1: number,\n  s1: number,\n  ms1: number,\n  µs1: number,\n  ns1: number,\n  h2: number,\n  min2: number,\n  s2: number,\n  ms2: number,\n  µs2: number,\n  ns2: number\n) {\n  let hours = h2 - h1;\n  let minutes = min2 - min1;\n  let seconds = s2 - s1;\n  let milliseconds = ms2 - ms1;\n  let microseconds = µs2 - µs1;\n  let nanoseconds = ns2 - ns1;\n\n  const sign = DurationSign(0, 0, 0, 0, hours, minutes, seconds, milliseconds, microseconds, nanoseconds);\n  hours *= sign;\n  minutes *= sign;\n  seconds *= sign;\n  milliseconds *= sign;\n  microseconds *= sign;\n  nanoseconds *= sign;\n\n  let deltaDays = 0;\n  ({\n    deltaDays,\n    hour: hours,\n    minute: minutes,\n    second: seconds,\n    millisecond: milliseconds,\n    microsecond: microseconds,\n    nanosecond: nanoseconds\n  } = BalanceTime(hours, minutes, seconds, milliseconds, microseconds, nanoseconds));\n\n  if (deltaDays != 0) throw new Error('assertion failure in DifferenceTime: _bt_.[[Days]] should be 0');\n  hours *= sign;\n  minutes *= sign;\n  seconds *= sign;\n  milliseconds *= sign;\n  microseconds *= sign;\n  nanoseconds *= sign;\n\n  return { hours, minutes, seconds, milliseconds, microseconds, nanoseconds };\n}\n\nfunction DifferenceInstant(\n  ns1: JSBI,\n  ns2: JSBI,\n  increment: number,\n  smallestUnit: keyof typeof nsPerTimeUnit,\n  largestUnit: keyof typeof nsPerTimeUnit,\n  roundingMode: Temporal.RoundingMode\n) {\n  const diff = JSBI.subtract(ns2, ns1);\n\n  let hours = 0;\n  let minutes = 0;\n  let nanoseconds = JSBI.toNumber(JSBI.remainder(diff, THOUSAND));\n  let microseconds = JSBI.toNumber(JSBI.remainder(JSBI.divide(diff, THOUSAND), THOUSAND));\n  let milliseconds = JSBI.toNumber(JSBI.remainder(JSBI.divide(diff, MILLION), THOUSAND));\n  let seconds = JSBI.toNumber(JSBI.divide(diff, BILLION));\n\n  ({ hours, minutes, seconds, milliseconds, microseconds, nanoseconds } = RoundDuration(\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    seconds,\n    milliseconds,\n    microseconds,\n    nanoseconds,\n    increment,\n    smallestUnit,\n    roundingMode\n  ));\n  return BalanceDuration(0, hours, minutes, seconds, milliseconds, microseconds, nanoseconds, largestUnit);\n}\n\nfunction DifferenceISODateTime(\n  y1Param: number,\n  mon1Param: number,\n  d1Param: number,\n  h1: number,\n  min1: number,\n  s1: number,\n  ms1: number,\n  µs1: number,\n  ns1: number,\n  y2: number,\n  mon2: number,\n  d2: number,\n  h2: number,\n  min2: number,\n  s2: number,\n  ms2: number,\n  µs2: number,\n  ns2: number,\n  calendar: CalendarSlot,\n  largestUnit: Temporal.DateTimeUnit,\n  options: Temporal.DifferenceOptions<Temporal.DateTimeUnit> | undefined\n) {\n  let y1 = y1Param;\n  let mon1 = mon1Param;\n  let d1 = d1Param;\n\n  let { hours, minutes, seconds, milliseconds, microseconds, nanoseconds } = DifferenceTime(\n    h1,\n    min1,\n    s1,\n    ms1,\n    µs1,\n    ns1,\n    h2,\n    min2,\n    s2,\n    ms2,\n    µs2,\n    ns2\n  );\n\n  const timeSign = DurationSign(0, 0, 0, 0, hours, minutes, seconds, milliseconds, microseconds, nanoseconds);\n  const dateSign = CompareISODate(y2, mon2, d2, y1, mon1, d1);\n  if (dateSign === -timeSign) {\n    ({ year: y1, month: mon1, day: d1 } = BalanceISODate(y1, mon1, d1 - timeSign));\n    ({ hours, minutes, seconds, milliseconds, microseconds, nanoseconds } = BalanceDuration(\n      -timeSign,\n      hours,\n      minutes,\n      seconds,\n      milliseconds,\n      microseconds,\n      nanoseconds,\n      largestUnit\n    ));\n  }\n\n  const date1 = CreateTemporalDate(y1, mon1, d1, calendar);\n  const date2 = CreateTemporalDate(y2, mon2, d2, calendar);\n  const dateLargestUnit = LargerOfTwoTemporalUnits('day', largestUnit);\n  const untilOptions = CopyOptions(options);\n  untilOptions.largestUnit = dateLargestUnit;\n  // TODO untilOptions doesn't want to compile as it seems that smallestUnit is not clamped?\n  // Type 'SmallestUnit<DateTimeUnit> | undefined' is not assignable to type\n  //      'SmallestUnit<\"year\" | \"month\" | \"day\" | \"week\"> | undefined'.\n  // Type '\"hour\"' is not assignable to type\n  //      'SmallestUnit<\"year\" | \"month\" | \"day\" | \"week\"> | undefined'.ts(2345)\n  let { years, months, weeks, days } = CalendarDateUntil(calendar, date1, date2, untilOptions as any);\n  // Signs of date part and time part may not agree; balance them together\n  ({ days, hours, minutes, seconds, milliseconds, microseconds, nanoseconds } = BalanceDuration(\n    days,\n    hours,\n    minutes,\n    seconds,\n    milliseconds,\n    microseconds,\n    nanoseconds,\n    largestUnit\n  ));\n  return { years, months, weeks, days, hours, minutes, seconds, milliseconds, microseconds, nanoseconds };\n}\n\nfunction DifferenceZonedDateTime(\n  ns1: JSBI,\n  ns2: JSBI,\n  timeZone: string | Temporal.TimeZoneProtocol,\n  calendar: CalendarSlot,\n  largestUnit: Temporal.DateTimeUnit,\n  options: Temporal.DifferenceOptions<Temporal.DateTimeUnit>\n) {\n  const nsDiff = JSBI.subtract(ns2, ns1);\n  if (JSBI.equal(nsDiff, ZERO)) {\n    return {\n      years: 0,\n      months: 0,\n      weeks: 0,\n      days: 0,\n      hours: 0,\n      minutes: 0,\n      seconds: 0,\n      milliseconds: 0,\n      microseconds: 0,\n      nanoseconds: 0\n    };\n  }\n\n  // Find the difference in dates only.\n  const TemporalInstant = GetIntrinsic('%Temporal.Instant%');\n  const start = new TemporalInstant(ns1);\n  const end = new TemporalInstant(ns2);\n  const dtStart = GetPlainDateTimeFor(timeZone, start, calendar);\n  const dtEnd = GetPlainDateTimeFor(timeZone, end, calendar);\n  let { years, months, weeks, days } = DifferenceISODateTime(\n    GetSlot(dtStart, ISO_YEAR),\n    GetSlot(dtStart, ISO_MONTH),\n    GetSlot(dtStart, ISO_DAY),\n    GetSlot(dtStart, ISO_HOUR),\n    GetSlot(dtStart, ISO_MINUTE),\n    GetSlot(dtStart, ISO_SECOND),\n    GetSlot(dtStart, ISO_MILLISECOND),\n    GetSlot(dtStart, ISO_MICROSECOND),\n    GetSlot(dtStart, ISO_NANOSECOND),\n    GetSlot(dtEnd, ISO_YEAR),\n    GetSlot(dtEnd, ISO_MONTH),\n    GetSlot(dtEnd, ISO_DAY),\n    GetSlot(dtEnd, ISO_HOUR),\n    GetSlot(dtEnd, ISO_MINUTE),\n    GetSlot(dtEnd, ISO_SECOND),\n    GetSlot(dtEnd, ISO_MILLISECOND),\n    GetSlot(dtEnd, ISO_MICROSECOND),\n    GetSlot(dtEnd, ISO_NANOSECOND),\n    calendar,\n    largestUnit,\n    options\n  );\n  const intermediateNs = AddZonedDateTime(start, timeZone, calendar, years, months, weeks, 0, 0, 0, 0, 0, 0, 0);\n  // may disambiguate\n  let timeRemainderNs = JSBI.subtract(ns2, intermediateNs);\n  const intermediate = CreateTemporalZonedDateTime(intermediateNs, timeZone, calendar);\n  ({ nanoseconds: timeRemainderNs, days } = NanosecondsToDays(timeRemainderNs, intermediate));\n\n  // Finally, merge the date and time durations and return the merged result.\n  const { hours, minutes, seconds, milliseconds, microseconds, nanoseconds } = BalanceDuration(\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    JSBI.toNumber(timeRemainderNs),\n    'hour'\n  );\n  return { years, months, weeks, days, hours, minutes, seconds, milliseconds, microseconds, nanoseconds };\n}\n\ntype DifferenceOperation = 'since' | 'until';\n\nfunction GetDifferenceSettings<T extends Temporal.DateTimeUnit>(\n  op: DifferenceOperation,\n  options: Temporal.DifferenceOptions<T>,\n  group: 'datetime' | 'date' | 'time',\n  disallowed: (Temporal.DateTimeUnit | 'auto')[],\n  fallbackSmallest: T,\n  smallestLargestDefaultUnit: T\n) {\n  const ALLOWED_UNITS = SINGULAR_PLURAL_UNITS.reduce((allowed, unitInfo) => {\n    const p = unitInfo[0];\n    const s = unitInfo[1];\n    const c = unitInfo[2];\n    if ((group === 'datetime' || c === group) && !disallowed.includes(s)) {\n      allowed.push(s, p);\n    }\n    return allowed;\n  }, [] as (Temporal.DateTimeUnit | Temporal.PluralUnit<Temporal.DateTimeUnit>)[]);\n\n  let largestUnit = GetTemporalUnit(options, 'largestUnit', group, 'auto');\n  if (disallowed.includes(largestUnit)) {\n    throw new RangeError(`largestUnit must be one of ${ALLOWED_UNITS.join(', ')}, not ${largestUnit}`);\n  }\n\n  const roundingIncrement = ToTemporalRoundingIncrement(options);\n\n  let roundingMode = ToTemporalRoundingMode(options, 'trunc');\n  if (op === 'since') roundingMode = NegateTemporalRoundingMode(roundingMode);\n\n  const smallestUnit = GetTemporalUnit(options, 'smallestUnit', group, fallbackSmallest);\n  if (disallowed.includes(smallestUnit)) {\n    throw new RangeError(`smallestUnit must be one of ${ALLOWED_UNITS.join(', ')}, not ${smallestUnit}`);\n  }\n\n  const defaultLargestUnit = LargerOfTwoTemporalUnits(smallestLargestDefaultUnit, smallestUnit);\n  if (largestUnit === 'auto') largestUnit = defaultLargestUnit;\n  if (LargerOfTwoTemporalUnits(largestUnit, smallestUnit) !== largestUnit) {\n    throw new RangeError(`largestUnit ${largestUnit} cannot be smaller than smallestUnit ${smallestUnit}`);\n  }\n  const MAX_DIFFERENCE_INCREMENTS: { [k in Temporal.DateTimeUnit]?: number } = {\n    hour: 24,\n    minute: 60,\n    second: 60,\n    millisecond: 1000,\n    microsecond: 1000,\n    nanosecond: 1000\n  };\n  const maximum = MAX_DIFFERENCE_INCREMENTS[smallestUnit];\n  if (maximum !== undefined) ValidateTemporalRoundingIncrement(roundingIncrement, maximum, false);\n\n  return { largestUnit: largestUnit as T, roundingIncrement, roundingMode, smallestUnit: smallestUnit as T };\n}\n\nexport function DifferenceTemporalInstant(\n  operation: DifferenceOperation,\n  instant: Temporal.Instant,\n  otherParam: InstantParams['until'][0],\n  options: InstantParams['until'][1] | undefined\n): Temporal.Duration {\n  const sign = operation === 'since' ? -1 : 1;\n  const other = ToTemporalInstant(otherParam);\n\n  const resolvedOptions = CopyOptions(options);\n  const settings = GetDifferenceSettings(operation, resolvedOptions, 'time', [], 'nanosecond', 'second');\n\n  const onens = GetSlot(instant, EPOCHNANOSECONDS);\n  const twons = GetSlot(other, EPOCHNANOSECONDS);\n  let { hours, minutes, seconds, milliseconds, microseconds, nanoseconds } = DifferenceInstant(\n    onens,\n    twons,\n    settings.roundingIncrement,\n    settings.smallestUnit,\n    settings.largestUnit,\n    settings.roundingMode\n  );\n  const Duration = GetIntrinsic('%Temporal.Duration%');\n  return new Duration(\n    0,\n    0,\n    0,\n    0,\n    sign * hours,\n    sign * minutes,\n    sign * seconds,\n    sign * milliseconds,\n    sign * microseconds,\n    sign * nanoseconds\n  );\n}\n\nexport function DifferenceTemporalPlainDate(\n  operation: DifferenceOperation,\n  plainDate: Temporal.PlainDate,\n  otherParam: PlainDateParams['until'][0],\n  options: PlainDateParams['until'][1]\n): Temporal.Duration {\n  const sign = operation === 'since' ? -1 : 1;\n  const other = ToTemporalDate(otherParam);\n  const calendar = GetSlot(plainDate, CALENDAR);\n  const otherCalendar = GetSlot(other, CALENDAR);\n  ThrowIfCalendarsNotEqual(calendar, otherCalendar, 'compute difference between dates');\n\n  const resolvedOptions = CopyOptions(options);\n  const settings = GetDifferenceSettings(operation, resolvedOptions, 'date', [], 'day', 'day');\n  resolvedOptions.largestUnit = settings.largestUnit;\n\n  let { years, months, weeks, days } = CalendarDateUntil(calendar, plainDate, other, resolvedOptions);\n\n  if (settings.smallestUnit !== 'day' || settings.roundingIncrement !== 1) {\n    ({ years, months, weeks, days } = RoundDuration(\n      years,\n      months,\n      weeks,\n      days,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      settings.roundingIncrement,\n      settings.smallestUnit,\n      settings.roundingMode,\n      plainDate\n    ));\n  }\n\n  const Duration = GetIntrinsic('%Temporal.Duration%');\n  return new Duration(sign * years, sign * months, sign * weeks, sign * days, 0, 0, 0, 0, 0, 0);\n}\n\nexport function DifferenceTemporalPlainDateTime(\n  operation: DifferenceOperation,\n  plainDateTime: Temporal.PlainDateTime,\n  otherParam: PlainDateTimeParams['until'][0],\n  options: PlainDateTimeParams['until'][1]\n): Temporal.Duration {\n  const sign = operation === 'since' ? -1 : 1;\n  const other = ToTemporalDateTime(otherParam);\n  const calendar = GetSlot(plainDateTime, CALENDAR);\n  const otherCalendar = GetSlot(other, CALENDAR);\n  ThrowIfCalendarsNotEqual(calendar, otherCalendar, 'compute difference between dates');\n\n  const resolvedOptions = CopyOptions(options);\n  const settings = GetDifferenceSettings(operation, resolvedOptions, 'datetime', [], 'nanosecond', 'day');\n\n  let { years, months, weeks, days, hours, minutes, seconds, milliseconds, microseconds, nanoseconds } =\n    DifferenceISODateTime(\n      GetSlot(plainDateTime, ISO_YEAR),\n      GetSlot(plainDateTime, ISO_MONTH),\n      GetSlot(plainDateTime, ISO_DAY),\n      GetSlot(plainDateTime, ISO_HOUR),\n      GetSlot(plainDateTime, ISO_MINUTE),\n      GetSlot(plainDateTime, ISO_SECOND),\n      GetSlot(plainDateTime, ISO_MILLISECOND),\n      GetSlot(plainDateTime, ISO_MICROSECOND),\n      GetSlot(plainDateTime, ISO_NANOSECOND),\n      GetSlot(other, ISO_YEAR),\n      GetSlot(other, ISO_MONTH),\n      GetSlot(other, ISO_DAY),\n      GetSlot(other, ISO_HOUR),\n      GetSlot(other, ISO_MINUTE),\n      GetSlot(other, ISO_SECOND),\n      GetSlot(other, ISO_MILLISECOND),\n      GetSlot(other, ISO_MICROSECOND),\n      GetSlot(other, ISO_NANOSECOND),\n      calendar,\n      settings.largestUnit,\n      resolvedOptions\n    );\n\n  const relativeTo = TemporalDateTimeToDate(plainDateTime);\n  ({ years, months, weeks, days, hours, minutes, seconds, milliseconds, microseconds, nanoseconds } = RoundDuration(\n    years,\n    months,\n    weeks,\n    days,\n    hours,\n    minutes,\n    seconds,\n    milliseconds,\n    microseconds,\n    nanoseconds,\n    settings.roundingIncrement,\n    settings.smallestUnit,\n    settings.roundingMode,\n    relativeTo\n  ));\n  ({ days, hours, minutes, seconds, milliseconds, microseconds, nanoseconds } = BalanceDuration(\n    days,\n    hours,\n    minutes,\n    seconds,\n    milliseconds,\n    microseconds,\n    nanoseconds,\n    settings.largestUnit\n  ));\n\n  const Duration = GetIntrinsic('%Temporal.Duration%');\n  return new Duration(\n    sign * years,\n    sign * months,\n    sign * weeks,\n    sign * days,\n    sign * hours,\n    sign * minutes,\n    sign * seconds,\n    sign * milliseconds,\n    sign * microseconds,\n    sign * nanoseconds\n  );\n}\n\nexport function DifferenceTemporalPlainTime(\n  operation: DifferenceOperation,\n  plainTime: Temporal.PlainTime,\n  otherParam: PlainTimeParams['until'][0],\n  options: PlainTimeParams['until'][1]\n): Temporal.Duration {\n  const sign = operation === 'since' ? -1 : 1;\n  const other = ToTemporalTime(otherParam);\n\n  const resolvedOptions = CopyOptions(options);\n  const settings = GetDifferenceSettings(operation, resolvedOptions, 'time', [], 'nanosecond', 'hour');\n\n  let { hours, minutes, seconds, milliseconds, microseconds, nanoseconds } = DifferenceTime(\n    GetSlot(plainTime, ISO_HOUR),\n    GetSlot(plainTime, ISO_MINUTE),\n    GetSlot(plainTime, ISO_SECOND),\n    GetSlot(plainTime, ISO_MILLISECOND),\n    GetSlot(plainTime, ISO_MICROSECOND),\n    GetSlot(plainTime, ISO_NANOSECOND),\n    GetSlot(other, ISO_HOUR),\n    GetSlot(other, ISO_MINUTE),\n    GetSlot(other, ISO_SECOND),\n    GetSlot(other, ISO_MILLISECOND),\n    GetSlot(other, ISO_MICROSECOND),\n    GetSlot(other, ISO_NANOSECOND)\n  );\n  ({ hours, minutes, seconds, milliseconds, microseconds, nanoseconds } = RoundDuration(\n    0,\n    0,\n    0,\n    0,\n    hours,\n    minutes,\n    seconds,\n    milliseconds,\n    microseconds,\n    nanoseconds,\n    settings.roundingIncrement,\n    settings.smallestUnit,\n    settings.roundingMode\n  ));\n  ({ hours, minutes, seconds, milliseconds, microseconds, nanoseconds } = BalanceDuration(\n    0,\n    hours,\n    minutes,\n    seconds,\n    milliseconds,\n    microseconds,\n    nanoseconds,\n    settings.largestUnit\n  ));\n  const Duration = GetIntrinsic('%Temporal.Duration%');\n  return new Duration(\n    0,\n    0,\n    0,\n    0,\n    sign * hours,\n    sign * minutes,\n    sign * seconds,\n    sign * milliseconds,\n    sign * microseconds,\n    sign * nanoseconds\n  );\n}\n\nexport function DifferenceTemporalPlainYearMonth(\n  operation: DifferenceOperation,\n  yearMonth: Temporal.PlainYearMonth,\n  otherParam: PlainYearMonthParams['until'][0],\n  options: PlainYearMonthParams['until'][1]\n): Temporal.Duration {\n  const sign = operation === 'since' ? -1 : 1;\n  const other = ToTemporalYearMonth(otherParam);\n  const calendar = GetSlot(yearMonth, CALENDAR);\n  const otherCalendar = GetSlot(other, CALENDAR);\n  ThrowIfCalendarsNotEqual(calendar, otherCalendar, 'compute difference between months');\n\n  const resolvedOptions = CopyOptions(options);\n  const settings = GetDifferenceSettings(operation, resolvedOptions, 'date', ['week', 'day'], 'month', 'year');\n  resolvedOptions.largestUnit = settings.largestUnit;\n\n  const fieldNames = CalendarFields(calendar, ['monthCode', 'year']) as AnyTemporalKey[];\n  const thisFields = PrepareTemporalFields(yearMonth, fieldNames, []);\n  thisFields.day = 1;\n  const thisDate = CalendarDateFromFields(calendar, thisFields);\n  const otherFields = PrepareTemporalFields(other, fieldNames, []);\n  otherFields.day = 1;\n  const otherDate = CalendarDateFromFields(calendar, otherFields);\n\n  let { years, months } = CalendarDateUntil(calendar, thisDate, otherDate, resolvedOptions);\n\n  if (settings.smallestUnit !== 'month' || settings.roundingIncrement !== 1) {\n    ({ years, months } = RoundDuration(\n      years,\n      months,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      settings.roundingIncrement,\n      settings.smallestUnit,\n      settings.roundingMode,\n      thisDate\n    ));\n  }\n\n  const Duration = GetIntrinsic('%Temporal.Duration%');\n  return new Duration(sign * years, sign * months, 0, 0, 0, 0, 0, 0, 0, 0);\n}\n\nexport function DifferenceTemporalZonedDateTime(\n  operation: DifferenceOperation,\n  zonedDateTime: Temporal.ZonedDateTime,\n  otherParam: ZonedDateTimeParams['until'][0],\n  options: ZonedDateTimeParams['until'][1]\n): Temporal.Duration {\n  const sign = operation === 'since' ? -1 : 1;\n  const other = ToTemporalZonedDateTime(otherParam);\n  const calendar = GetSlot(zonedDateTime, CALENDAR);\n  const otherCalendar = GetSlot(other, CALENDAR);\n  ThrowIfCalendarsNotEqual(calendar, otherCalendar, 'compute difference between dates');\n\n  const resolvedOptions = CopyOptions(options);\n  const settings = GetDifferenceSettings(operation, resolvedOptions, 'datetime', [], 'nanosecond', 'hour');\n  resolvedOptions.largestUnit = settings.largestUnit;\n\n  const ns1 = GetSlot(zonedDateTime, EPOCHNANOSECONDS);\n  const ns2 = GetSlot(other, EPOCHNANOSECONDS);\n  let years, months, weeks, days, hours, minutes, seconds, milliseconds, microseconds, nanoseconds;\n  if (\n    settings.largestUnit !== 'year' &&\n    settings.largestUnit !== 'month' &&\n    settings.largestUnit !== 'week' &&\n    settings.largestUnit !== 'day'\n  ) {\n    // The user is only asking for a time difference, so return difference of instants.\n    years = 0;\n    months = 0;\n    weeks = 0;\n    days = 0;\n    ({ hours, minutes, seconds, milliseconds, microseconds, nanoseconds } = DifferenceInstant(\n      ns1,\n      ns2,\n      settings.roundingIncrement,\n      settings.smallestUnit as Temporal.TimeUnit,\n      settings.largestUnit as Temporal.TimeUnit,\n      settings.roundingMode\n    ));\n  } else {\n    const timeZone = GetSlot(zonedDateTime, TIME_ZONE);\n    if (!TimeZoneEquals(timeZone, GetSlot(other, TIME_ZONE))) {\n      throw new RangeError(\n        \"When calculating difference between time zones, largestUnit must be 'hours' \" +\n          'or smaller because day lengths can vary between time zones due to DST or time zone offset changes.'\n      );\n    }\n    ({ years, months, weeks, days, hours, minutes, seconds, milliseconds, microseconds, nanoseconds } =\n      DifferenceZonedDateTime(ns1, ns2, timeZone, calendar, settings.largestUnit, resolvedOptions));\n    ({ years, months, weeks, days, hours, minutes, seconds, milliseconds, microseconds, nanoseconds } = RoundDuration(\n      years,\n      months,\n      weeks,\n      days,\n      hours,\n      minutes,\n      seconds,\n      milliseconds,\n      microseconds,\n      nanoseconds,\n      settings.roundingIncrement,\n      settings.smallestUnit,\n      settings.roundingMode,\n      zonedDateTime\n    ));\n    ({ years, months, weeks, days, hours, minutes, seconds, milliseconds, microseconds, nanoseconds } =\n      AdjustRoundedDurationDays(\n        years,\n        months,\n        weeks,\n        days,\n        hours,\n        minutes,\n        seconds,\n        milliseconds,\n        microseconds,\n        nanoseconds,\n        settings.roundingIncrement,\n        settings.smallestUnit,\n        settings.roundingMode,\n        zonedDateTime\n      ));\n  }\n\n  const Duration = GetIntrinsic('%Temporal.Duration%');\n  return new Duration(\n    sign * years,\n    sign * months,\n    sign * weeks,\n    sign * days,\n    sign * hours,\n    sign * minutes,\n    sign * seconds,\n    sign * milliseconds,\n    sign * microseconds,\n    sign * nanoseconds\n  );\n}\n\nexport function AddISODate(\n  yearParam: number,\n  monthParam: number,\n  dayParam: number,\n  yearsParam: number,\n  monthsParam: number,\n  weeksParam: number,\n  daysParam: number,\n  overflow: Temporal.ArithmeticOptions['overflow']\n) {\n  let year = yearParam;\n  let month = monthParam;\n  let day = dayParam;\n  let years = yearsParam;\n  let months = monthsParam;\n  let weeks = weeksParam;\n  let days = daysParam;\n\n  year += years;\n  month += months;\n  ({ year, month } = BalanceISOYearMonth(year, month));\n  ({ year, month, day } = RegulateISODate(year, month, day, overflow));\n  days += 7 * weeks;\n  day += days;\n  ({ year, month, day } = BalanceISODate(year, month, day));\n  return { year, month, day };\n}\n\nfunction AddTime(\n  hourParam: number,\n  minuteParam: number,\n  secondParam: number,\n  millisecondParam: number,\n  microsecondParam: number,\n  nanosecondParam: number,\n  hours: number,\n  minutes: number,\n  seconds: number,\n  milliseconds: number,\n  microseconds: number,\n  nanoseconds: number\n) {\n  let hour = hourParam;\n  let minute = minuteParam;\n  let second = secondParam;\n  let millisecond = millisecondParam;\n  let microsecond = microsecondParam;\n  let nanosecond = nanosecondParam;\n\n  hour += hours;\n  minute += minutes;\n  second += seconds;\n  millisecond += milliseconds;\n  microsecond += microseconds;\n  nanosecond += nanoseconds;\n  let deltaDays = 0;\n  ({ deltaDays, hour, minute, second, millisecond, microsecond, nanosecond } = BalanceTime(\n    hour,\n    minute,\n    second,\n    millisecond,\n    microsecond,\n    nanosecond\n  ));\n  return { deltaDays, hour, minute, second, millisecond, microsecond, nanosecond };\n}\n\nfunction AddDuration(\n  y1: number,\n  mon1: number,\n  w1: number,\n  d1: number,\n  h1: number,\n  min1: number,\n  s1: number,\n  ms1: number,\n  µs1: number,\n  ns1: number,\n  y2: number,\n  mon2: number,\n  w2: number,\n  d2: number,\n  h2: number,\n  min2: number,\n  s2: number,\n  ms2: number,\n  µs2: number,\n  ns2: number,\n  relativeTo: ReturnType<typeof ToRelativeTemporalObject>\n) {\n  const largestUnit1 = DefaultTemporalLargestUnit(y1, mon1, w1, d1, h1, min1, s1, ms1, µs1, ns1);\n  const largestUnit2 = DefaultTemporalLargestUnit(y2, mon2, w2, d2, h2, min2, s2, ms2, µs2, ns2);\n  const largestUnit = LargerOfTwoTemporalUnits(largestUnit1, largestUnit2);\n\n  let years, months, weeks, days, hours, minutes, seconds, milliseconds, microseconds, nanoseconds;\n  if (!relativeTo) {\n    if (largestUnit === 'year' || largestUnit === 'month' || largestUnit === 'week') {\n      throw new RangeError('relativeTo is required for years, months, or weeks arithmetic');\n    }\n    years = months = weeks = 0;\n    ({ days, hours, minutes, seconds, milliseconds, microseconds, nanoseconds } = BalanceDuration(\n      d1 + d2,\n      JSBI.add(JSBI.BigInt(h1), JSBI.BigInt(h2)),\n      JSBI.add(JSBI.BigInt(min1), JSBI.BigInt(min2)),\n      JSBI.add(JSBI.BigInt(s1), JSBI.BigInt(s2)),\n      JSBI.add(JSBI.BigInt(ms1), JSBI.BigInt(ms2)),\n      JSBI.add(JSBI.BigInt(µs1), JSBI.BigInt(µs2)),\n      JSBI.add(JSBI.BigInt(ns1), JSBI.BigInt(ns2)),\n      largestUnit\n    ));\n  } else if (IsTemporalDate(relativeTo)) {\n    const TemporalDuration = GetIntrinsic('%Temporal.Duration%');\n    const calendar = GetSlot(relativeTo, CALENDAR);\n\n    const dateDuration1 = new TemporalDuration(y1, mon1, w1, d1, 0, 0, 0, 0, 0, 0);\n    const dateDuration2 = new TemporalDuration(y2, mon2, w2, d2, 0, 0, 0, 0, 0, 0);\n    const dateAdd = typeof calendar !== 'string' ? GetMethod(calendar, 'dateAdd') : undefined;\n    const intermediate = CalendarDateAdd(calendar, relativeTo, dateDuration1, undefined, dateAdd);\n    const end = CalendarDateAdd(calendar, intermediate, dateDuration2, undefined, dateAdd);\n\n    const dateLargestUnit = LargerOfTwoTemporalUnits('day', largestUnit) as Temporal.DateUnit;\n    const differenceOptions = ObjectCreate(null) as Temporal.DifferenceOptions<Temporal.DateUnit>;\n    differenceOptions.largestUnit = dateLargestUnit;\n    ({ years, months, weeks, days } = CalendarDateUntil(calendar, relativeTo, end, differenceOptions));\n    // Signs of date part and time part may not agree; balance them together\n    ({ days, hours, minutes, seconds, milliseconds, microseconds, nanoseconds } = BalanceDuration(\n      days,\n      JSBI.add(JSBI.BigInt(h1), JSBI.BigInt(h2)),\n      JSBI.add(JSBI.BigInt(min1), JSBI.BigInt(min2)),\n      JSBI.add(JSBI.BigInt(s1), JSBI.BigInt(s2)),\n      JSBI.add(JSBI.BigInt(ms1), JSBI.BigInt(ms2)),\n      JSBI.add(JSBI.BigInt(µs1), JSBI.BigInt(µs2)),\n      JSBI.add(JSBI.BigInt(ns1), JSBI.BigInt(ns2)),\n      largestUnit\n    ));\n  } else {\n    // relativeTo is a ZonedDateTime\n    const TemporalInstant = GetIntrinsic('%Temporal.Instant%');\n    const timeZone = GetSlot(relativeTo, TIME_ZONE);\n    const calendar = GetSlot(relativeTo, CALENDAR);\n    const intermediateNs = AddZonedDateTime(\n      GetSlot(relativeTo, INSTANT),\n      timeZone,\n      calendar,\n      y1,\n      mon1,\n      w1,\n      d1,\n      h1,\n      min1,\n      s1,\n      ms1,\n      µs1,\n      ns1\n    );\n    const endNs = AddZonedDateTime(\n      new TemporalInstant(intermediateNs),\n      timeZone,\n      calendar,\n      y2,\n      mon2,\n      w2,\n      d2,\n      h2,\n      min2,\n      s2,\n      ms2,\n      µs2,\n      ns2\n    );\n    if (largestUnit !== 'year' && largestUnit !== 'month' && largestUnit !== 'week' && largestUnit !== 'day') {\n      // The user is only asking for a time difference, so return difference of instants.\n      years = 0;\n      months = 0;\n      weeks = 0;\n      days = 0;\n      ({ hours, minutes, seconds, milliseconds, microseconds, nanoseconds } = DifferenceInstant(\n        GetSlot(relativeTo, EPOCHNANOSECONDS),\n        endNs,\n        1,\n        'nanosecond',\n        largestUnit,\n        'halfExpand'\n      ));\n    } else {\n      ({ years, months, weeks, days, hours, minutes, seconds, milliseconds, microseconds, nanoseconds } =\n        DifferenceZonedDateTime(\n          GetSlot(relativeTo, EPOCHNANOSECONDS),\n          endNs,\n          timeZone,\n          calendar,\n          largestUnit,\n          ObjectCreate(null) as Temporal.DifferenceOptions<Temporal.DateTimeUnit>\n        ));\n    }\n  }\n\n  RejectDuration(years, months, weeks, days, hours, minutes, seconds, milliseconds, microseconds, nanoseconds);\n  return { years, months, weeks, days, hours, minutes, seconds, milliseconds, microseconds, nanoseconds };\n}\n\nfunction AddInstant(\n  epochNanoseconds: JSBI,\n  h: number | JSBI,\n  min: number | JSBI,\n  s: number | JSBI,\n  ms: number | JSBI,\n  µs: number | JSBI,\n  ns: number | JSBI\n) {\n  let sum = ZERO;\n  sum = JSBI.add(sum, JSBI.BigInt(ns));\n  sum = JSBI.add(sum, JSBI.multiply(JSBI.BigInt(µs), THOUSAND));\n  sum = JSBI.add(sum, JSBI.multiply(JSBI.BigInt(ms), MILLION));\n  sum = JSBI.add(sum, JSBI.multiply(JSBI.BigInt(s), BILLION));\n  sum = JSBI.add(sum, JSBI.multiply(JSBI.BigInt(min), JSBI.BigInt(60 * 1e9)));\n  sum = JSBI.add(sum, JSBI.multiply(JSBI.BigInt(h), JSBI.BigInt(60 * 60 * 1e9)));\n\n  const result = JSBI.add(epochNanoseconds, sum);\n  ValidateEpochNanoseconds(result);\n  return result;\n}\n\nfunction AddDateTime(\n  year: number,\n  month: number,\n  day: number,\n  hourParam: number,\n  minuteParam: number,\n  secondParam: number,\n  millisecondParam: number,\n  microsecondParam: number,\n  nanosecondParam: number,\n  calendar: CalendarSlot,\n  years: number,\n  months: number,\n  weeks: number,\n  daysParam: number,\n  hours: number,\n  minutes: number,\n  seconds: number,\n  milliseconds: number,\n  microseconds: number,\n  nanoseconds: number,\n  options?: Temporal.ArithmeticOptions\n) {\n  let days = daysParam;\n  // Add the time part\n  let { deltaDays, hour, minute, second, millisecond, microsecond, nanosecond } = AddTime(\n    hourParam,\n    minuteParam,\n    secondParam,\n    millisecondParam,\n    microsecondParam,\n    nanosecondParam,\n    hours,\n    minutes,\n    seconds,\n    milliseconds,\n    microseconds,\n    nanoseconds\n  );\n  days += deltaDays;\n\n  // Delegate the date part addition to the calendar\n  const TemporalDuration = GetIntrinsic('%Temporal.Duration%');\n  const datePart = CreateTemporalDate(year, month, day, calendar);\n  const dateDuration = new TemporalDuration(years, months, weeks, days, 0, 0, 0, 0, 0, 0);\n  const addedDate = CalendarDateAdd(calendar, datePart, dateDuration, options);\n\n  return {\n    year: GetSlot(addedDate, ISO_YEAR),\n    month: GetSlot(addedDate, ISO_MONTH),\n    day: GetSlot(addedDate, ISO_DAY),\n    hour,\n    minute,\n    second,\n    millisecond,\n    microsecond,\n    nanosecond\n  };\n}\n\nexport function AddZonedDateTime(\n  instant: Temporal.Instant,\n  timeZone: string | Temporal.TimeZoneProtocol,\n  calendar: CalendarSlot,\n  years: number,\n  months: number,\n  weeks: number,\n  days: number,\n  h: number | JSBI,\n  min: number | JSBI,\n  s: number | JSBI,\n  ms: number | JSBI,\n  µs: number | JSBI,\n  ns: number | JSBI,\n  options?: Temporal.ArithmeticOptions\n) {\n  // If only time is to be added, then use Instant math. It's not OK to fall\n  // through to the date/time code below because compatible disambiguation in\n  // the PlainDateTime=>Instant conversion will change the offset of any\n  // ZonedDateTime in the repeated clock time after a backwards transition.\n  // When adding/subtracting time units and not dates, this disambiguation is\n  // not expected and so is avoided below via a fast path for time-only\n  // arithmetic.\n  // BTW, this behavior is similar in spirit to offset: 'prefer' in `with`.\n  const TemporalDuration = GetIntrinsic('%Temporal.Duration%');\n  if (DurationSign(years, months, weeks, days, 0, 0, 0, 0, 0, 0) === 0) {\n    return AddInstant(GetSlot(instant, EPOCHNANOSECONDS), h, min, s, ms, µs, ns);\n  }\n\n  // RFC 5545 requires the date portion to be added in calendar days and the\n  // time portion to be added in exact time.\n  const dt = GetPlainDateTimeFor(timeZone, instant, calendar);\n  const datePart = CreateTemporalDate(GetSlot(dt, ISO_YEAR), GetSlot(dt, ISO_MONTH), GetSlot(dt, ISO_DAY), calendar);\n  const dateDuration = new TemporalDuration(years, months, weeks, days, 0, 0, 0, 0, 0, 0);\n  const addedDate = CalendarDateAdd(calendar, datePart, dateDuration, options);\n  const dtIntermediate = CreateTemporalDateTime(\n    GetSlot(addedDate, ISO_YEAR),\n    GetSlot(addedDate, ISO_MONTH),\n    GetSlot(addedDate, ISO_DAY),\n    GetSlot(dt, ISO_HOUR),\n    GetSlot(dt, ISO_MINUTE),\n    GetSlot(dt, ISO_SECOND),\n    GetSlot(dt, ISO_MILLISECOND),\n    GetSlot(dt, ISO_MICROSECOND),\n    GetSlot(dt, ISO_NANOSECOND),\n    calendar\n  );\n\n  // Note that 'compatible' is used below because this disambiguation behavior\n  // is required by RFC 5545.\n  const instantIntermediate = GetInstantFor(timeZone, dtIntermediate, 'compatible');\n  return AddInstant(GetSlot(instantIntermediate, EPOCHNANOSECONDS), h, min, s, ms, µs, ns);\n}\n\ntype AddSubtractOperation = 'add' | 'subtract';\n\nexport function AddDurationToOrSubtractDurationFromDuration(\n  operation: AddSubtractOperation,\n  duration: Temporal.Duration,\n  other: DurationParams['add'][0],\n  optionsParam: DurationParams['add'][1]\n): Temporal.Duration {\n  const sign = operation === 'subtract' ? -1 : 1;\n  let { years, months, weeks, days, hours, minutes, seconds, milliseconds, microseconds, nanoseconds } =\n    ToTemporalDurationRecord(other);\n  const options = GetOptionsObject(optionsParam);\n  const relativeTo = ToRelativeTemporalObject(options);\n  ({ years, months, weeks, days, hours, minutes, seconds, milliseconds, microseconds, nanoseconds } = AddDuration(\n    GetSlot(duration, YEARS),\n    GetSlot(duration, MONTHS),\n    GetSlot(duration, WEEKS),\n    GetSlot(duration, DAYS),\n    GetSlot(duration, HOURS),\n    GetSlot(duration, MINUTES),\n    GetSlot(duration, SECONDS),\n    GetSlot(duration, MILLISECONDS),\n    GetSlot(duration, MICROSECONDS),\n    GetSlot(duration, NANOSECONDS),\n    sign * years,\n    sign * months,\n    sign * weeks,\n    sign * days,\n    sign * hours,\n    sign * minutes,\n    sign * seconds,\n    sign * milliseconds,\n    sign * microseconds,\n    sign * nanoseconds,\n    relativeTo\n  ));\n  const Duration = GetIntrinsic('%Temporal.Duration%');\n  return new Duration(years, months, weeks, days, hours, minutes, seconds, milliseconds, microseconds, nanoseconds);\n}\n\nexport function AddDurationToOrSubtractDurationFromInstant(\n  operation: AddSubtractOperation,\n  instant: Temporal.Instant,\n  durationLike: InstantParams['add'][0]\n): Temporal.Instant {\n  const sign = operation === 'subtract' ? -1 : 1;\n  const { hours, minutes, seconds, milliseconds, microseconds, nanoseconds } = ToLimitedTemporalDuration(durationLike, [\n    'years',\n    'months',\n    'weeks',\n    'days'\n  ]);\n  const ns = AddInstant(\n    GetSlot(instant, EPOCHNANOSECONDS),\n    sign * hours,\n    sign * minutes,\n    sign * seconds,\n    sign * milliseconds,\n    sign * microseconds,\n    sign * nanoseconds\n  );\n  const Instant = GetIntrinsic('%Temporal.Instant%');\n  return new Instant(ns);\n}\n\nexport function AddDurationToOrSubtractDurationFromPlainDateTime(\n  operation: AddSubtractOperation,\n  dateTime: Temporal.PlainDateTime,\n  durationLike: PlainDateTimeParams['add'][0],\n  optionsParam: PlainDateTimeParams['add'][1]\n): Temporal.PlainDateTime {\n  const sign = operation === 'subtract' ? -1 : 1;\n  const { years, months, weeks, days, hours, minutes, seconds, milliseconds, microseconds, nanoseconds } =\n    ToTemporalDurationRecord(durationLike);\n  const options = GetOptionsObject(optionsParam);\n  const calendar = GetSlot(dateTime, CALENDAR);\n  const { year, month, day, hour, minute, second, millisecond, microsecond, nanosecond } = AddDateTime(\n    GetSlot(dateTime, ISO_YEAR),\n    GetSlot(dateTime, ISO_MONTH),\n    GetSlot(dateTime, ISO_DAY),\n    GetSlot(dateTime, ISO_HOUR),\n    GetSlot(dateTime, ISO_MINUTE),\n    GetSlot(dateTime, ISO_SECOND),\n    GetSlot(dateTime, ISO_MILLISECOND),\n    GetSlot(dateTime, ISO_MICROSECOND),\n    GetSlot(dateTime, ISO_NANOSECOND),\n    calendar,\n    sign * years,\n    sign * months,\n    sign * weeks,\n    sign * days,\n    sign * hours,\n    sign * minutes,\n    sign * seconds,\n    sign * milliseconds,\n    sign * microseconds,\n    sign * nanoseconds,\n    options\n  );\n  return CreateTemporalDateTime(year, month, day, hour, minute, second, millisecond, microsecond, nanosecond, calendar);\n}\n\nexport function AddDurationToOrSubtractDurationFromPlainTime(\n  operation: AddSubtractOperation,\n  temporalTime: Temporal.PlainTime,\n  durationLike: PlainTimeParams['add'][0]\n): Temporal.PlainTime {\n  const sign = operation === 'subtract' ? -1 : 1;\n  const { hours, minutes, seconds, milliseconds, microseconds, nanoseconds } = ToTemporalDurationRecord(durationLike);\n  let { hour, minute, second, millisecond, microsecond, nanosecond } = AddTime(\n    GetSlot(temporalTime, ISO_HOUR),\n    GetSlot(temporalTime, ISO_MINUTE),\n    GetSlot(temporalTime, ISO_SECOND),\n    GetSlot(temporalTime, ISO_MILLISECOND),\n    GetSlot(temporalTime, ISO_MICROSECOND),\n    GetSlot(temporalTime, ISO_NANOSECOND),\n    sign * hours,\n    sign * minutes,\n    sign * seconds,\n    sign * milliseconds,\n    sign * microseconds,\n    sign * nanoseconds\n  );\n  ({ hour, minute, second, millisecond, microsecond, nanosecond } = RegulateTime(\n    hour,\n    minute,\n    second,\n    millisecond,\n    microsecond,\n    nanosecond,\n    'reject'\n  ));\n  const PlainTime = GetIntrinsic('%Temporal.PlainTime%');\n  return new PlainTime(hour, minute, second, millisecond, microsecond, nanosecond);\n}\n\nexport function AddDurationToOrSubtractDurationFromPlainYearMonth(\n  operation: AddSubtractOperation,\n  yearMonth: Temporal.PlainYearMonth,\n  durationLike: PlainYearMonthParams['add'][0],\n  optionsParam: PlainYearMonthParams['add'][1]\n): Temporal.PlainYearMonth {\n  let duration = ToTemporalDurationRecord(durationLike);\n  if (operation === 'subtract') {\n    duration = {\n      years: -duration.years,\n      months: -duration.months,\n      weeks: -duration.weeks,\n      days: -duration.days,\n      hours: -duration.hours,\n      minutes: -duration.minutes,\n      seconds: -duration.seconds,\n      milliseconds: -duration.milliseconds,\n      microseconds: -duration.microseconds,\n      nanoseconds: -duration.nanoseconds\n    };\n  }\n  let { years, months, weeks, days, hours, minutes, seconds, milliseconds, microseconds, nanoseconds } = duration;\n  ({ days } = BalanceDuration(days, hours, minutes, seconds, milliseconds, microseconds, nanoseconds, 'day'));\n\n  const options = GetOptionsObject(optionsParam);\n\n  const calendar = GetSlot(yearMonth, CALENDAR);\n  const fieldNames = CalendarFields(calendar, ['monthCode', 'year'] as const);\n  const fields = PrepareTemporalFields(yearMonth, fieldNames, []);\n  const fieldsCopy = ObjectCreate(null);\n  CopyDataProperties(fieldsCopy, fields, []);\n  fields.day = 1;\n  // PrepareTemporalFields returns a type where 'day' is potentially undefined,\n  // but TS doesn't narrow the type as a result of the assignment above.\n  uncheckedAssertNarrowedType<typeof fields & { day: number }>(fields, '`day` is guaranteed to be non-undefined');\n  let startDate = CalendarDateFromFields(calendar, fields);\n  const sign = DurationSign(years, months, weeks, days, 0, 0, 0, 0, 0, 0);\n  const dateAdd = GetMethod(calendar, 'dateAdd');\n  const Duration = GetIntrinsic('%Temporal.Duration%');\n  if (sign < 0) {\n    const oneMonthDuration = new Duration(0, 1, 0, 0, 0, 0, 0, 0, 0, 0);\n    const nextMonth = CalendarDateAdd(calendar, startDate, oneMonthDuration, undefined, dateAdd);\n    const minusDayDuration = new Duration(0, 0, 0, -1, 0, 0, 0, 0, 0, 0);\n    const endOfMonth = CalendarDateAdd(calendar, nextMonth, minusDayDuration, undefined, dateAdd);\n    fieldsCopy.day = CalendarDay(calendar, endOfMonth);\n    startDate = CalendarDateFromFields(calendar, fieldsCopy);\n  }\n  const durationToAdd = new Duration(years, months, weeks, days, 0, 0, 0, 0, 0, 0);\n  const optionsCopy = CopyOptions(options);\n  const addedDate = CalendarDateAdd(calendar, startDate, durationToAdd, options, dateAdd);\n  const addedDateFields = PrepareTemporalFields(addedDate, fieldNames, []);\n\n  return CalendarYearMonthFromFields(calendar, addedDateFields, optionsCopy);\n}\n\nexport function AddDurationToOrSubtractDurationFromZonedDateTime(\n  operation: AddSubtractOperation,\n  zonedDateTime: Temporal.ZonedDateTime,\n  durationLike: ZonedDateTimeParams['add'][0],\n  optionsParam: ZonedDateTimeParams['add'][1]\n): Temporal.ZonedDateTime {\n  const sign = operation === 'subtract' ? -1 : 1;\n  const { years, months, weeks, days, hours, minutes, seconds, milliseconds, microseconds, nanoseconds } =\n    ToTemporalDurationRecord(durationLike);\n  const options = GetOptionsObject(optionsParam);\n  const timeZone = GetSlot(zonedDateTime, TIME_ZONE);\n  const calendar = GetSlot(zonedDateTime, CALENDAR);\n  const epochNanoseconds = AddZonedDateTime(\n    GetSlot(zonedDateTime, INSTANT),\n    timeZone,\n    calendar,\n    sign * years,\n    sign * months,\n    sign * weeks,\n    sign * days,\n    sign * hours,\n    sign * minutes,\n    sign * seconds,\n    sign * milliseconds,\n    sign * microseconds,\n    sign * nanoseconds,\n    options\n  );\n  return CreateTemporalZonedDateTime(epochNanoseconds, timeZone, calendar);\n}\n\nfunction RoundNumberToIncrement(quantity: JSBI, increment: JSBI, mode: Temporal.RoundingMode) {\n  if (JSBI.equal(increment, ONE)) return quantity;\n  let { quotient, remainder } = divmod(quantity, increment);\n  if (JSBI.equal(remainder, ZERO)) return quantity;\n  const sign = JSBI.lessThan(remainder, ZERO) ? -1 : 1;\n  const tiebreaker = abs(JSBI.multiply(remainder, JSBI.BigInt(2)));\n  const tie = JSBI.equal(tiebreaker, increment);\n  const expandIsNearer = JSBI.greaterThan(tiebreaker, increment);\n  switch (mode) {\n    case 'ceil':\n      if (sign > 0) quotient = JSBI.add(quotient, JSBI.BigInt(sign));\n      break;\n    case 'floor':\n      if (sign < 0) quotient = JSBI.add(quotient, JSBI.BigInt(sign));\n      break;\n    case 'expand':\n      // always expand if there is a remainder\n      quotient = JSBI.add(quotient, JSBI.BigInt(sign));\n      break;\n    case 'trunc':\n      // no change needed, because divmod is a truncation\n      break;\n    case 'halfCeil':\n      if (expandIsNearer || (tie && sign > 0)) {\n        quotient = JSBI.add(quotient, JSBI.BigInt(sign));\n      }\n      break;\n    case 'halfFloor':\n      if (expandIsNearer || (tie && sign < 0)) {\n        quotient = JSBI.add(quotient, JSBI.BigInt(sign));\n      }\n      break;\n    case 'halfExpand':\n      // \"half up away from zero\"\n      if (expandIsNearer || tie) {\n        quotient = JSBI.add(quotient, JSBI.BigInt(sign));\n      }\n      break;\n    case 'halfTrunc':\n      if (expandIsNearer) {\n        quotient = JSBI.add(quotient, JSBI.BigInt(sign));\n      }\n      break;\n    case 'halfEven':\n      if (expandIsNearer || (tie && JSBI.toNumber(JSBI.remainder(abs(quotient), JSBI.BigInt(2))) === 1)) {\n        quotient = JSBI.add(quotient, JSBI.BigInt(sign));\n      }\n      break;\n  }\n  return JSBI.multiply(quotient, increment);\n}\n\nexport function RoundInstant(\n  epochNs: JSBI,\n  increment: number,\n  unit: keyof typeof nsPerTimeUnit,\n  roundingMode: Temporal.RoundingMode\n) {\n  let { remainder } = NonNegativeBigIntDivmod(epochNs, DAY_NANOS);\n  const wholeDays = JSBI.subtract(epochNs, remainder);\n  const roundedRemainder = RoundNumberToIncrement(\n    remainder,\n    JSBI.BigInt(nsPerTimeUnit[unit] * increment),\n    roundingMode\n  );\n  return JSBI.add(wholeDays, roundedRemainder);\n}\n\nexport function RoundISODateTime(\n  yearParam: number,\n  monthParam: number,\n  dayParam: number,\n  hourParam: number,\n  minuteParam: number,\n  secondParam: number,\n  millisecondParam: number,\n  microsecondParam: number,\n  nanosecondParam: number,\n  increment: number,\n  unit: UnitSmallerThanOrEqualTo<'day'>,\n  roundingMode: Temporal.RoundingMode,\n  dayLengthNs = 86400e9\n) {\n  const { deltaDays, hour, minute, second, millisecond, microsecond, nanosecond } = RoundTime(\n    hourParam,\n    minuteParam,\n    secondParam,\n    millisecondParam,\n    microsecondParam,\n    nanosecondParam,\n    increment,\n    unit,\n    roundingMode,\n    dayLengthNs\n  );\n  const { year, month, day } = BalanceISODate(yearParam, monthParam, dayParam + deltaDays);\n  return { year, month, day, hour, minute, second, millisecond, microsecond, nanosecond };\n}\n\nexport function RoundTime(\n  hour: number,\n  minute: number,\n  second: number,\n  millisecond: number,\n  microsecond: number,\n  nanosecond: number,\n  increment: number,\n  unit: keyof typeof nsPerTimeUnit | 'day',\n  roundingMode: Temporal.RoundingMode,\n  dayLengthNs = 86400e9\n) {\n  let quantity = ZERO;\n  switch (unit) {\n    case 'day':\n    case 'hour':\n      quantity = JSBI.BigInt(hour);\n    // fall through\n    case 'minute':\n      quantity = JSBI.add(JSBI.multiply(quantity, SIXTY), JSBI.BigInt(minute));\n    // fall through\n    case 'second':\n      quantity = JSBI.add(JSBI.multiply(quantity, SIXTY), JSBI.BigInt(second));\n    // fall through\n    case 'millisecond':\n      quantity = JSBI.add(JSBI.multiply(quantity, THOUSAND), JSBI.BigInt(millisecond));\n    // fall through\n    case 'microsecond':\n      quantity = JSBI.add(JSBI.multiply(quantity, THOUSAND), JSBI.BigInt(microsecond));\n    // fall through\n    case 'nanosecond':\n      quantity = JSBI.add(JSBI.multiply(quantity, THOUSAND), JSBI.BigInt(nanosecond));\n  }\n  const nsPerUnit = unit === 'day' ? dayLengthNs : nsPerTimeUnit[unit];\n  const rounded = RoundNumberToIncrement(quantity, JSBI.BigInt(nsPerUnit * increment), roundingMode);\n  const result = JSBI.toNumber(JSBI.divide(rounded, JSBI.BigInt(nsPerUnit)));\n  switch (unit) {\n    case 'day':\n      return { deltaDays: result, hour: 0, minute: 0, second: 0, millisecond: 0, microsecond: 0, nanosecond: 0 };\n    case 'hour':\n      return BalanceTime(result, 0, 0, 0, 0, 0);\n    case 'minute':\n      return BalanceTime(hour, result, 0, 0, 0, 0);\n    case 'second':\n      return BalanceTime(hour, minute, result, 0, 0, 0);\n    case 'millisecond':\n      return BalanceTime(hour, minute, second, result, 0, 0);\n    case 'microsecond':\n      return BalanceTime(hour, minute, second, millisecond, result, 0);\n    case 'nanosecond':\n      return BalanceTime(hour, minute, second, millisecond, microsecond, result);\n    default:\n      throw new Error(`Invalid unit ${unit}`);\n  }\n}\n\nfunction DaysUntil(\n  earlier: Temporal.PlainDate | Temporal.PlainDateTime | Temporal.ZonedDateTime,\n  later: Temporal.PlainDate | Temporal.PlainDateTime | Temporal.ZonedDateTime\n) {\n  return DifferenceISODate(\n    GetSlot(earlier, ISO_YEAR),\n    GetSlot(earlier, ISO_MONTH),\n    GetSlot(earlier, ISO_DAY),\n    GetSlot(later, ISO_YEAR),\n    GetSlot(later, ISO_MONTH),\n    GetSlot(later, ISO_DAY),\n    'day'\n  ).days;\n}\n\nfunction MoveRelativeDate(\n  calendar: CalendarSlot,\n  relativeToParam: NonNullable<ReturnType<typeof ToRelativeTemporalObject>>,\n  duration: Temporal.Duration,\n  dateAdd: Temporal.CalendarProtocol['dateAdd'] | undefined\n) {\n  const later = CalendarDateAdd(calendar, relativeToParam, duration, undefined, dateAdd);\n  const days = DaysUntil(relativeToParam, later);\n  return { relativeTo: later, days };\n}\n\nexport function MoveRelativeZonedDateTime(\n  relativeTo: Temporal.ZonedDateTime,\n  years: number,\n  months: number,\n  weeks: number,\n  days: number\n) {\n  const timeZone = GetSlot(relativeTo, TIME_ZONE);\n  const calendar = GetSlot(relativeTo, CALENDAR);\n  const intermediateNs = AddZonedDateTime(\n    GetSlot(relativeTo, INSTANT),\n    timeZone,\n    calendar,\n    years,\n    months,\n    weeks,\n    days,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0\n  );\n  return CreateTemporalZonedDateTime(intermediateNs, timeZone, calendar);\n}\n\nexport function AdjustRoundedDurationDays(\n  yearsParam: number,\n  monthsParam: number,\n  weeksParam: number,\n  daysParam: number,\n  hoursParam: number,\n  minutesParam: number,\n  secondsParam: number,\n  millisecondsParam: number,\n  microsecondsParam: number,\n  nanosecondsParam: number,\n  increment: number,\n  unit: Temporal.DateTimeUnit,\n  roundingMode: Temporal.RoundingMode,\n  relativeTo: ReturnType<typeof ToRelativeTemporalObject>\n) {\n  let years = yearsParam;\n  let months = monthsParam;\n  let weeks = weeksParam;\n  let days = daysParam;\n  let hours = hoursParam;\n  let minutes = minutesParam;\n  let seconds = secondsParam;\n  let milliseconds = millisecondsParam;\n  let microseconds = microsecondsParam;\n  let nanoseconds = nanosecondsParam;\n  if (\n    !IsTemporalZonedDateTime(relativeTo) ||\n    unit === 'year' ||\n    unit === 'month' ||\n    unit === 'week' ||\n    unit === 'day' ||\n    (unit === 'nanosecond' && increment === 1)\n  ) {\n    return { years, months, weeks, days, hours, minutes, seconds, milliseconds, microseconds, nanoseconds };\n  }\n\n  // There's one more round of rounding possible: if relativeTo is a\n  // ZonedDateTime, the time units could have rounded up into enough hours\n  // to exceed the day length. If this happens, grow the date part by a\n  // single day and re-run exact time rounding on the smaller remainder. DO\n  // NOT RECURSE, because once the extra hours are sucked up into the date\n  // duration, there's no way for another full day to come from the next\n  // round of rounding. And if it were possible (e.g. contrived calendar\n  // with 30-minute-long \"days\") then it'd risk an infinite loop.\n  let timeRemainderNs = TotalDurationNanoseconds(\n    0,\n    hours,\n    minutes,\n    seconds,\n    milliseconds,\n    microseconds,\n    nanoseconds,\n    0\n  );\n  const direction = MathSign(JSBI.toNumber(timeRemainderNs));\n\n  const timeZone = GetSlot(relativeTo, TIME_ZONE);\n  const calendar = GetSlot(relativeTo, CALENDAR);\n  const dayStart = AddZonedDateTime(\n    GetSlot(relativeTo, INSTANT),\n    timeZone,\n    calendar,\n    years,\n    months,\n    weeks,\n    days,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0\n  );\n  const TemporalInstant = GetIntrinsic('%Temporal.Instant%');\n  const dayEnd = AddZonedDateTime(\n    new TemporalInstant(dayStart),\n    timeZone,\n    calendar,\n    0,\n    0,\n    0,\n    direction,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0\n  );\n  const dayLengthNs = JSBI.subtract(dayEnd, dayStart);\n\n  if (\n    JSBI.greaterThanOrEqual(JSBI.multiply(JSBI.subtract(timeRemainderNs, dayLengthNs), JSBI.BigInt(direction)), ZERO)\n  ) {\n    ({ years, months, weeks, days } = AddDuration(\n      years,\n      months,\n      weeks,\n      days,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      direction,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      relativeTo\n    ));\n    timeRemainderNs = RoundInstant(JSBI.subtract(timeRemainderNs, dayLengthNs), increment, unit, roundingMode);\n    ({ hours, minutes, seconds, milliseconds, microseconds, nanoseconds } = BalanceDuration(\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      JSBI.toNumber(timeRemainderNs),\n      'hour'\n    ));\n  }\n  return { years, months, weeks, days, hours, minutes, seconds, milliseconds, microseconds, nanoseconds };\n}\n\nexport function RoundDuration(\n  yearsParam: number,\n  monthsParam: number,\n  weeksParam: number,\n  daysParam: number,\n  hoursParam: number,\n  minutesParam: number,\n  secondsParam: number,\n  millisecondsParam: number,\n  microsecondsParam: number,\n  nanosecondsParam: number,\n  increment: number,\n  unit: Temporal.DateTimeUnit,\n  roundingMode: Temporal.RoundingMode,\n  relativeToParam: ReturnType<typeof ToRelativeTemporalObject> = undefined\n) {\n  let years = yearsParam;\n  let months = monthsParam;\n  let weeks = weeksParam;\n  let days = daysParam;\n  let hours = hoursParam;\n  let minutes = minutesParam;\n  let seconds = secondsParam;\n  let milliseconds = millisecondsParam;\n  let microseconds = microsecondsParam;\n  let nanoseconds = JSBI.BigInt(nanosecondsParam);\n  const TemporalDuration = GetIntrinsic('%Temporal.Duration%');\n  let calendar, zdtRelative;\n  // A cast is used below because relativeTo will be either PlainDate or\n  // undefined for the rest of this long method (after any ZDT=>PlainDate\n  // conversion below), and TS isn't smart enough to know that the type has\n  // changed. See https://github.com/microsoft/TypeScript/issues/27706.\n  let relativeTo = relativeToParam as Temporal.PlainDate | undefined;\n  if (relativeTo) {\n    if (IsTemporalZonedDateTime(relativeTo)) {\n      zdtRelative = relativeTo;\n      relativeTo = ToTemporalDate(relativeTo);\n    } else if (!IsTemporalDate(relativeTo)) {\n      throw new TypeError('starting point must be PlainDate or ZonedDateTime');\n    }\n    calendar = GetSlot(relativeTo, CALENDAR);\n  }\n\n  // First convert time units up to days, if rounding to days or higher units.\n  // If rounding relative to a ZonedDateTime, then some days may not be 24h.\n  // TS doesn't know that `dayLengthNs` is only used if the unit is day or\n  // larger. We'll cast away `undefined` when it's used lower down below.\n  let dayLengthNs: JSBI | undefined;\n  if (unit === 'year' || unit === 'month' || unit === 'week' || unit === 'day') {\n    nanoseconds = TotalDurationNanoseconds(0, hours, minutes, seconds, milliseconds, microseconds, nanosecondsParam, 0);\n    let intermediate;\n    if (zdtRelative) {\n      intermediate = MoveRelativeZonedDateTime(zdtRelative, years, months, weeks, days);\n    }\n    let deltaDays;\n    let dayLength: number;\n    ({ days: deltaDays, nanoseconds, dayLengthNs: dayLength } = NanosecondsToDays(nanoseconds, intermediate));\n    dayLengthNs = JSBI.BigInt(dayLength);\n    days += deltaDays;\n    hours = minutes = seconds = milliseconds = microseconds = 0;\n  }\n\n  let total: number;\n  switch (unit) {\n    case 'year': {\n      if (!calendar) throw new RangeError('A starting point is required for years rounding');\n      assertExists(relativeTo);\n\n      // convert months and weeks to days by calculating difference(\n      // relativeTo + years, relativeTo + { years, months, weeks })\n      const yearsDuration = new TemporalDuration(years);\n      const dateAdd = typeof calendar !== 'string' ? GetMethod(calendar, 'dateAdd') : undefined;\n      const yearsLater = CalendarDateAdd(calendar, relativeTo, yearsDuration, undefined, dateAdd);\n      const yearsMonthsWeeks = new TemporalDuration(years, months, weeks);\n      const yearsMonthsWeeksLater = CalendarDateAdd(calendar, relativeTo, yearsMonthsWeeks, undefined, dateAdd);\n      const monthsWeeksInDays = DaysUntil(yearsLater, yearsMonthsWeeksLater);\n      relativeTo = yearsLater;\n      days += monthsWeeksInDays;\n\n      const wholeDays = new TemporalDuration(0, 0, 0, days);\n      const wholeDaysLater = CalendarDateAdd(calendar, relativeTo, wholeDays, undefined, dateAdd);\n      const untilOptions = ObjectCreate(null) as Temporal.DifferenceOptions<typeof unit>;\n      untilOptions.largestUnit = 'year';\n      const yearsPassed = CalendarDateUntil(calendar, relativeTo, wholeDaysLater, untilOptions).years;\n      years += yearsPassed;\n      const oldRelativeTo = relativeTo;\n      const yearsPassedDuration = new TemporalDuration(yearsPassed);\n      relativeTo = CalendarDateAdd(calendar, relativeTo, yearsPassedDuration, undefined, dateAdd);\n      const daysPassed = DaysUntil(oldRelativeTo, relativeTo);\n      days -= daysPassed;\n      const oneYear = new TemporalDuration(days < 0 ? -1 : 1);\n      let { days: oneYearDays } = MoveRelativeDate(calendar, relativeTo, oneYear, dateAdd);\n\n      // Note that `nanoseconds` below (here and in similar code for months,\n      // weeks, and days further below) isn't actually nanoseconds for the\n      // full date range.  Instead, it's a BigInt representation of total\n      // days multiplied by the number of nanoseconds in the last day of\n      // the duration. This lets us do days-or-larger rounding using BigInt\n      // math which reduces precision loss.\n      oneYearDays = MathAbs(oneYearDays);\n      // dayLengthNs is never undefined if unit is `day` or larger.\n      assertExists(dayLengthNs);\n      const divisor = JSBI.multiply(JSBI.BigInt(oneYearDays), dayLengthNs);\n      nanoseconds = JSBI.add(\n        JSBI.add(JSBI.multiply(divisor, JSBI.BigInt(years)), JSBI.multiply(JSBI.BigInt(days), dayLengthNs)),\n        nanoseconds\n      );\n      const rounded = RoundNumberToIncrement(nanoseconds, JSBI.multiply(divisor, JSBI.BigInt(increment)), roundingMode);\n      total = BigIntDivideToNumber(nanoseconds, divisor);\n      years = JSBI.toNumber(JSBI.divide(rounded, divisor));\n      nanoseconds = ZERO;\n      months = weeks = days = 0;\n      break;\n    }\n    case 'month': {\n      if (!calendar) throw new RangeError('A starting point is required for months rounding');\n      assertExists(relativeTo);\n\n      // convert weeks to days by calculating difference(relativeTo +\n      //   { years, months }, relativeTo + { years, months, weeks })\n      const yearsMonths = new TemporalDuration(years, months);\n      const dateAdd = typeof calendar !== 'string' ? GetMethod(calendar, 'dateAdd') : undefined;\n      const yearsMonthsLater = CalendarDateAdd(calendar, relativeTo, yearsMonths, undefined, dateAdd);\n      const yearsMonthsWeeks = new TemporalDuration(years, months, weeks);\n      const yearsMonthsWeeksLater = CalendarDateAdd(calendar, relativeTo, yearsMonthsWeeks, undefined, dateAdd);\n      const weeksInDays = DaysUntil(yearsMonthsLater, yearsMonthsWeeksLater);\n      relativeTo = yearsMonthsLater;\n      days += weeksInDays;\n\n      // Months may be different lengths of days depending on the calendar,\n      // convert days to months in a loop as described above under 'years'.\n      const sign = MathSign(days);\n      const oneMonth = new TemporalDuration(0, days < 0 ? -1 : 1);\n      let oneMonthDays: number;\n      ({ relativeTo, days: oneMonthDays } = MoveRelativeDate(calendar, relativeTo, oneMonth, dateAdd));\n      while (MathAbs(days) >= MathAbs(oneMonthDays)) {\n        months += sign;\n        days -= oneMonthDays;\n        ({ relativeTo, days: oneMonthDays } = MoveRelativeDate(calendar, relativeTo, oneMonth, dateAdd));\n      }\n      oneMonthDays = MathAbs(oneMonthDays);\n      // dayLengthNs is never undefined if unit is `day` or larger.\n      assertExists(dayLengthNs);\n      const divisor = JSBI.multiply(JSBI.BigInt(oneMonthDays), dayLengthNs);\n      nanoseconds = JSBI.add(\n        JSBI.add(JSBI.multiply(divisor, JSBI.BigInt(months)), JSBI.multiply(JSBI.BigInt(days), dayLengthNs)),\n        nanoseconds\n      );\n      const rounded = RoundNumberToIncrement(nanoseconds, JSBI.multiply(divisor, JSBI.BigInt(increment)), roundingMode);\n      total = BigIntDivideToNumber(nanoseconds, divisor);\n      months = JSBI.toNumber(JSBI.divide(rounded, divisor));\n      nanoseconds = ZERO;\n      weeks = days = 0;\n      break;\n    }\n    case 'week': {\n      if (!calendar) throw new RangeError('A starting point is required for weeks rounding');\n      assertExists(relativeTo);\n\n      // Weeks may be different lengths of days depending on the calendar,\n      // convert days to weeks in a loop as described above under 'years'.\n      const sign = MathSign(days);\n      const oneWeek = new TemporalDuration(0, 0, days < 0 ? -1 : 1);\n      const dateAdd = typeof calendar !== 'string' ? GetMethod(calendar, 'dateAdd') : undefined;\n      let oneWeekDays;\n      ({ relativeTo, days: oneWeekDays } = MoveRelativeDate(calendar, relativeTo, oneWeek, dateAdd));\n      while (MathAbs(days) >= MathAbs(oneWeekDays)) {\n        weeks += sign;\n        days -= oneWeekDays;\n        ({ relativeTo, days: oneWeekDays } = MoveRelativeDate(calendar, relativeTo, oneWeek, dateAdd));\n      }\n      oneWeekDays = MathAbs(oneWeekDays);\n      // dayLengthNs is never undefined if unit is `day` or larger.\n      assertExists(dayLengthNs);\n      const divisor = JSBI.multiply(JSBI.BigInt(oneWeekDays), dayLengthNs);\n      nanoseconds = JSBI.add(\n        JSBI.add(JSBI.multiply(divisor, JSBI.BigInt(weeks)), JSBI.multiply(JSBI.BigInt(days), dayLengthNs)),\n        nanoseconds\n      );\n      const rounded = RoundNumberToIncrement(nanoseconds, JSBI.multiply(divisor, JSBI.BigInt(increment)), roundingMode);\n      total = BigIntDivideToNumber(nanoseconds, divisor);\n      weeks = JSBI.toNumber(JSBI.divide(rounded, divisor));\n      nanoseconds = ZERO;\n      days = 0;\n      break;\n    }\n    case 'day': {\n      // dayLengthNs is never undefined if unit is `day` or larger.\n      assertExists(dayLengthNs);\n      const divisor = dayLengthNs;\n      nanoseconds = JSBI.add(JSBI.multiply(divisor, JSBI.BigInt(days)), nanoseconds);\n      const rounded = RoundNumberToIncrement(nanoseconds, JSBI.multiply(divisor, JSBI.BigInt(increment)), roundingMode);\n      total = BigIntDivideToNumber(nanoseconds, divisor);\n      days = JSBI.toNumber(JSBI.divide(rounded, divisor));\n      nanoseconds = ZERO;\n      break;\n    }\n    case 'hour': {\n      const divisor = 3600e9;\n      let allNanoseconds = JSBI.multiply(JSBI.BigInt(hours), JSBI.BigInt(3600e9));\n      allNanoseconds = JSBI.add(allNanoseconds, JSBI.multiply(JSBI.BigInt(minutes), JSBI.BigInt(60e9)));\n      allNanoseconds = JSBI.add(allNanoseconds, JSBI.multiply(JSBI.BigInt(seconds), BILLION));\n      allNanoseconds = JSBI.add(allNanoseconds, JSBI.multiply(JSBI.BigInt(milliseconds), MILLION));\n      allNanoseconds = JSBI.add(allNanoseconds, JSBI.multiply(JSBI.BigInt(microseconds), THOUSAND));\n      allNanoseconds = JSBI.add(allNanoseconds, nanoseconds);\n      total = BigIntDivideToNumber(allNanoseconds, JSBI.BigInt(divisor));\n      const rounded = RoundNumberToIncrement(allNanoseconds, JSBI.BigInt(divisor * increment), roundingMode);\n      hours = JSBI.toNumber(JSBI.divide(rounded, JSBI.BigInt(divisor)));\n      nanoseconds = ZERO;\n      minutes = seconds = milliseconds = microseconds = 0;\n      break;\n    }\n    case 'minute': {\n      const divisor = 60e9;\n      let allNanoseconds = JSBI.multiply(JSBI.BigInt(minutes), JSBI.BigInt(60e9));\n      allNanoseconds = JSBI.add(allNanoseconds, JSBI.multiply(JSBI.BigInt(seconds), BILLION));\n      allNanoseconds = JSBI.add(allNanoseconds, JSBI.multiply(JSBI.BigInt(milliseconds), MILLION));\n      allNanoseconds = JSBI.add(allNanoseconds, JSBI.multiply(JSBI.BigInt(microseconds), THOUSAND));\n      allNanoseconds = JSBI.add(allNanoseconds, nanoseconds);\n      total = BigIntDivideToNumber(allNanoseconds, JSBI.BigInt(divisor));\n      const rounded = RoundNumberToIncrement(allNanoseconds, JSBI.BigInt(divisor * increment), roundingMode);\n      minutes = JSBI.toNumber(JSBI.divide(rounded, JSBI.BigInt(divisor)));\n      nanoseconds = ZERO;\n      seconds = milliseconds = microseconds = 0;\n      break;\n    }\n    case 'second': {\n      const divisor = 1e9;\n      let allNanoseconds = JSBI.multiply(JSBI.BigInt(seconds), BILLION);\n      allNanoseconds = JSBI.add(allNanoseconds, JSBI.multiply(JSBI.BigInt(milliseconds), MILLION));\n      allNanoseconds = JSBI.add(allNanoseconds, JSBI.multiply(JSBI.BigInt(microseconds), THOUSAND));\n      allNanoseconds = JSBI.add(allNanoseconds, nanoseconds);\n      total = BigIntDivideToNumber(allNanoseconds, JSBI.BigInt(divisor));\n      const rounded = RoundNumberToIncrement(allNanoseconds, JSBI.BigInt(divisor * increment), roundingMode);\n      seconds = JSBI.toNumber(JSBI.divide(rounded, JSBI.BigInt(divisor)));\n      nanoseconds = ZERO;\n      milliseconds = microseconds = 0;\n      break;\n    }\n    case 'millisecond': {\n      const divisor = 1e6;\n      let allNanoseconds = JSBI.multiply(JSBI.BigInt(milliseconds), MILLION);\n      allNanoseconds = JSBI.add(allNanoseconds, JSBI.multiply(JSBI.BigInt(microseconds), THOUSAND));\n      allNanoseconds = JSBI.add(allNanoseconds, nanoseconds);\n      total = BigIntDivideToNumber(allNanoseconds, JSBI.BigInt(divisor));\n      const rounded = RoundNumberToIncrement(allNanoseconds, JSBI.BigInt(divisor * increment), roundingMode);\n      milliseconds = JSBI.toNumber(JSBI.divide(rounded, JSBI.BigInt(divisor)));\n      nanoseconds = ZERO;\n      microseconds = 0;\n      break;\n    }\n    case 'microsecond': {\n      const divisor = 1e3;\n      let allNanoseconds = JSBI.multiply(JSBI.BigInt(microseconds), THOUSAND);\n      allNanoseconds = JSBI.add(allNanoseconds, nanoseconds);\n      total = BigIntDivideToNumber(allNanoseconds, JSBI.BigInt(divisor));\n      const rounded = RoundNumberToIncrement(allNanoseconds, JSBI.BigInt(divisor * increment), roundingMode);\n      microseconds = JSBI.toNumber(JSBI.divide(rounded, JSBI.BigInt(divisor)));\n      nanoseconds = ZERO;\n      break;\n    }\n    case 'nanosecond': {\n      total = JSBI.toNumber(nanoseconds);\n      nanoseconds = RoundNumberToIncrement(JSBI.BigInt(nanoseconds), JSBI.BigInt(increment), roundingMode);\n      break;\n    }\n  }\n  return {\n    years,\n    months,\n    weeks,\n    days,\n    hours,\n    minutes,\n    seconds,\n    milliseconds,\n    microseconds,\n    nanoseconds: JSBI.toNumber(nanoseconds),\n    total\n  };\n}\n\nexport function CompareISODate(y1: number, m1: number, d1: number, y2: number, m2: number, d2: number) {\n  for (const [x, y] of [\n    [y1, y2],\n    [m1, m2],\n    [d1, d2]\n  ]) {\n    if (x !== y) return ComparisonResult(x - y);\n  }\n  return 0;\n}\n\n// Not abstract operations from the spec\n\nfunction NonNegativeBigIntDivmod(x: JSBI, y: JSBI) {\n  let { quotient, remainder } = divmod(x, y);\n  if (JSBI.lessThan(remainder, ZERO)) {\n    quotient = JSBI.subtract(quotient, ONE);\n    remainder = JSBI.add(remainder, y);\n  }\n  return { quotient, remainder };\n}\n\nexport function BigIntFloorDiv(left: JSBI, right: JSBI) {\n  const { quotient, remainder } = divmod(left, right);\n  if (!isZero(remainder) && !isNegativeJSBI(left) != !isNegativeJSBI(right)) {\n    return JSBI.subtract(quotient, ONE);\n  }\n  return quotient;\n}\n\n/** Divide two JSBIs, and return the result as a Number, including the remainder. */\nexport function BigIntDivideToNumber(dividend: JSBI, divisor: JSBI) {\n  const { quotient, remainder } = divmod(dividend, divisor);\n  const result = JSBI.toNumber(quotient) + JSBI.toNumber(remainder) / JSBI.toNumber(divisor);\n  return result;\n}\n\n// Defaults to native bigint, or something \"native bigint-like\".\n// For users of Temporal that are running in environments without native BigInt,\n// the only guarantee we should give is that the returned object's toString will\n// return a string containing an accurate base 10 value of this bigint. This\n// form factor should correctly interop with other bigint compat libraries\n// easily.\ntype ExternalBigInt = bigint;\n\nexport function ToBigIntExternal(arg: unknown): ExternalBigInt {\n  const jsbiBI = ToBigInt(arg);\n  if (typeof (globalThis as any).BigInt !== 'undefined') return (globalThis as any).BigInt(jsbiBI.toString(10));\n  return jsbiBI as unknown as ExternalBigInt;\n}\n\nexport function ToBigInt(arg: unknown): JSBI {\n  let prim = arg;\n  if (typeof arg === 'object') {\n    const toPrimFn = (arg as { [Symbol.toPrimitive]: unknown })[Symbol.toPrimitive];\n    if (toPrimFn && typeof toPrimFn === 'function') {\n      prim = ReflectApply(toPrimFn, arg, ['number']);\n    }\n  }\n\n  // The AO ToBigInt throws on numbers because it does not allow implicit\n  // conversion between number and bigint (unlike the bigint constructor).\n  if (typeof prim === 'number') {\n    throw new TypeError('cannot convert number to bigint');\n  }\n  if (typeof prim === 'bigint') {\n    // JSBI doesn't know anything about the bigint type, and intentionally\n    // assumes it doesn't exist. Passing one to the BigInt function will throw\n    // an error.\n    return JSBI.BigInt(prim.toString(10));\n  }\n  // JSBI will properly coerce types into a BigInt the same as the native BigInt\n  // constructor will, with the exception of native bigint which is handled\n  // above.\n  // As of 2023-04-07, the only runtime type that neither of those can handle is\n  // 'symbol', and both native bigint and the JSBI.BigInt function will throw an\n  // error if they are given a Symbol.\n  return JSBI.BigInt(prim as string | boolean | object);\n}\n\n// Note: This method returns values with bogus nanoseconds based on the previous iteration's\n// milliseconds. That way there is a guarantee that the full nanoseconds are always going to be\n// increasing at least and that the microsecond and nanosecond fields are likely to be non-zero.\nexport const SystemUTCEpochNanoSeconds: () => JSBI = (() => {\n  let ns = JSBI.BigInt(Date.now() % 1e6);\n  return () => {\n    const ms = JSBI.BigInt(Date.now());\n    const result = JSBI.add(JSBI.multiply(ms, MILLION), ns);\n    ns = JSBI.remainder(ms, MILLION);\n    if (JSBI.greaterThan(result, NS_MAX)) return NS_MAX;\n    if (JSBI.lessThan(result, NS_MIN)) return NS_MIN;\n    return result;\n  };\n})();\n\nexport function DefaultTimeZone() {\n  return new IntlDateTimeFormat().resolvedOptions().timeZone;\n}\n\nexport function ComparisonResult(value: number) {\n  return value < 0 ? -1 : value > 0 ? 1 : (value as 0);\n}\n\nexport function GetOptionsObject<T>(options: T) {\n  if (options === undefined) return ObjectCreate(null) as NonNullable<T>;\n  if (IsObject(options) && options !== null) return options;\n  throw new TypeError(`Options parameter must be an object, not ${options === null ? 'null' : `${typeof options}`}`);\n}\n\nexport function CreateOnePropObject<K extends string, V>(propName: K, propValue: V): { [k in K]: V } {\n  const o = ObjectCreate(null);\n  o[propName] = propValue;\n  return o;\n}\n\nfunction CopyOptions<T extends { [s in K]?: unknown }, K extends string & keyof T>(options: T | undefined) {\n  const optionsCopy = ObjectCreate(null) as T;\n  CopyDataProperties(optionsCopy, GetOptionsObject(options), []);\n  return optionsCopy;\n}\n\ntype StringlyTypedKeys<T> = Exclude<keyof T, symbol | number>;\nfunction GetOption<P extends StringlyTypedKeys<O>, O extends Partial<Record<P, unknown>>>(\n  options: O,\n  property: P,\n  allowedValues: ReadonlyArray<O[P]>,\n  fallback: undefined\n): O[P];\nfunction GetOption<\n  P extends StringlyTypedKeys<O>,\n  O extends Partial<Record<P, unknown>>,\n  Fallback extends Required<O>[P] | undefined\n>(\n  options: O,\n  property: P,\n  allowedValues: ReadonlyArray<O[P]>,\n  fallback: Fallback\n): Fallback extends undefined ? O[P] | undefined : Required<O>[P];\nfunction GetOption<\n  P extends StringlyTypedKeys<O>,\n  O extends Partial<Record<P, unknown>>,\n  Fallback extends Required<O>[P] | undefined\n>(\n  options: O,\n  property: P,\n  allowedValues: ReadonlyArray<O[P]>,\n  fallback: O[P]\n): Fallback extends undefined ? O[P] | undefined : Required<O>[P] {\n  let value = options[property];\n  if (value !== undefined) {\n    value = ToString(value) as O[P];\n    if (!allowedValues.includes(value)) {\n      throw new RangeError(`${property} must be one of ${allowedValues.join(', ')}, not ${value}`);\n    }\n    return value;\n  }\n  return fallback;\n}\n\nexport function IsBuiltinCalendar(id: string): id is BuiltinCalendarId {\n  return BUILTIN_CALENDAR_IDS.includes(ASCIILowercase(id));\n}\n\nexport function ASCIILowercase<T extends string>(str: T): T {\n  // The spec defines this operation distinct from String.prototype.lowercase,\n  // so we'll follow the spec here. Note that nasty security issues that can\n  // happen for some use cases if you're comparing case-modified non-ASCII\n  // values. For example, Turkish's \"I\" character was the source of a security\n  // issue involving \"file://\" URLs. See\n  // https://haacked.com/archive/2012/07/05/turkish-i-problem-and-why-you-should-care.aspx/.\n  return str.replace(/[A-Z]/g, (l) => {\n    const code = l.charCodeAt(0);\n    return String.fromCharCode(code + 0x20);\n  }) as T;\n}\n\nconst OFFSET = new RegExp(`^${PARSE.offset.source}$`);\n\nfunction bisect(\n  getState: (epochNs: JSBI) => number,\n  leftParam: JSBI,\n  rightParam: JSBI,\n  lstateParam: number = getState(leftParam),\n  rstateParam: number = getState(rightParam)\n) {\n  // This doesn't make much sense - why do these get converted unnecessarily?\n  let left = JSBI.BigInt(leftParam);\n  let right = JSBI.BigInt(rightParam);\n  let lstate = lstateParam;\n  let rstate = rstateParam;\n  while (JSBI.greaterThan(JSBI.subtract(right, left), ONE)) {\n    const middle = JSBI.divide(JSBI.add(left, right), JSBI.BigInt(2));\n    const mstate = getState(middle);\n    if (mstate === lstate) {\n      left = middle;\n      lstate = mstate;\n    } else if (mstate === rstate) {\n      right = middle;\n      rstate = mstate;\n    } else {\n      throw new Error(`invalid state in bisection ${lstate} - ${mstate} - ${rstate}`);\n    }\n  }\n  return right;\n}\n\nconst nsPerTimeUnit = {\n  hour: 3600e9,\n  minute: 60e9,\n  second: 1e9,\n  millisecond: 1e6,\n  microsecond: 1e3,\n  nanosecond: 1\n};\n","import * as ES from './ecmascript';\nimport { GetIntrinsic } from './intrinsicclass';\nimport {\n  GetSlot,\n  ISO_YEAR,\n  ISO_MONTH,\n  ISO_DAY,\n  ISO_HOUR,\n  ISO_MINUTE,\n  ISO_SECOND,\n  ISO_MILLISECOND,\n  ISO_MICROSECOND,\n  ISO_NANOSECOND,\n  CALENDAR\n} from './slots';\nimport type { Temporal, Intl } from '..';\nimport type { DateTimeFormatParams as Params, DateTimeFormatReturn as Return } from './internaltypes';\n\nconst DATE = Symbol('date');\nconst YM = Symbol('ym');\nconst MD = Symbol('md');\nconst TIME = Symbol('time');\nconst DATETIME = Symbol('datetime');\nconst INST = Symbol('instant');\nconst ORIGINAL = Symbol('original');\nconst TZ_RESOLVED = Symbol('timezone');\nconst CAL_ID = Symbol('calendar-id');\nconst LOCALE = Symbol('locale');\nconst OPTIONS = Symbol('options');\n\nconst descriptor = <T extends (...args: any[]) => any>(value: T) => {\n  return {\n    value,\n    enumerable: true,\n    writable: false,\n    configurable: true\n  };\n};\n\nconst IntlDateTimeFormat = globalThis.Intl.DateTimeFormat;\nconst ObjectAssign = Object.assign;\nconst ObjectHasOwnProperty = Object.prototype.hasOwnProperty;\nconst ReflectApply = Reflect.apply;\n\ninterface CustomFormatters {\n  [DATE]: typeof dateAmend | globalThis.Intl.DateTimeFormat;\n  [YM]: typeof yearMonthAmend | typeof globalThis.Intl.DateTimeFormat;\n  [MD]: typeof monthDayAmend | typeof globalThis.Intl.DateTimeFormat;\n  [TIME]: typeof timeAmend | typeof globalThis.Intl.DateTimeFormat;\n  [DATETIME]: typeof datetimeAmend | typeof globalThis.Intl.DateTimeFormat;\n  [INST]: typeof instantAmend | typeof globalThis.Intl.DateTimeFormat;\n}\n\ninterface PrivateProps extends CustomFormatters {\n  [ORIGINAL]: globalThis.Intl.DateTimeFormat;\n  [TZ_RESOLVED]: string | Temporal.TimeZoneProtocol;\n  [CAL_ID]: globalThis.Intl.ResolvedDateTimeFormatOptions['calendar'];\n  [LOCALE]: globalThis.Intl.ResolvedDateTimeFormatOptions['locale'];\n  [OPTIONS]: Intl.DateTimeFormatOptions;\n}\n\ntype OptionsAmenderFunction = (options: Intl.DateTimeFormatOptions) => globalThis.Intl.DateTimeFormatOptions;\ntype FormatterOrAmender = globalThis.Intl.DateTimeFormat | OptionsAmenderFunction;\n\n// Construction of built-in Intl.DateTimeFormat objects is sloooooow,\n// so we'll only create those instances when we need them.\n// See https://bugs.chromium.org/p/v8/issues/detail?id=6528\nfunction getPropLazy<T extends PrivateProps, P extends keyof CustomFormatters>(\n  obj: T,\n  prop: P\n): globalThis.Intl.DateTimeFormat {\n  let val = obj[prop] as FormatterOrAmender;\n  if (typeof val === 'function') {\n    // If we get here, `val` is an \"amender function\". It will take the user's\n    // options and transform them into suitable options to be passed into the\n    // built-in (non-polyfill) Intl.DateTimeFormat constructor. These options\n    // will vary depending on the Temporal type, so that's why we store separate\n    // formatters in separate props on the polyfill's DateTimeFormat instances.\n    // The efficiency happens because we don't create an (expensive) formatter\n    // until the user calls toLocaleString for that Temporal type.\n    val = new IntlDateTimeFormat(obj[LOCALE], val(obj[OPTIONS]));\n    // TODO: can this be typed more cleanly?\n    (obj[prop] as globalThis.Intl.DateTimeFormat) = val;\n  }\n  return val;\n}\n\ntype DateTimeFormatImpl = Intl.DateTimeFormat & PrivateProps;\n\nfunction DateTimeFormatImpl(\n  this: Intl.DateTimeFormat & PrivateProps,\n  locale: Params['constructor'][0] = undefined,\n  optionsParam: Params['constructor'][1] = {}\n) {\n  if (!(this instanceof DateTimeFormatImpl)) {\n    type Construct = new (\n      locale: Params['constructor'][0],\n      optionsParam: Params['constructor'][1]\n    ) => Intl.DateTimeFormat;\n    return new (DateTimeFormatImpl as unknown as Construct)(locale, optionsParam);\n  }\n  const hasOptions = typeof optionsParam !== 'undefined';\n  const options = hasOptions ? ObjectAssign({}, optionsParam) : {};\n  // TODO: remove type assertion after Temporal types land in TS lib types\n  const original = new IntlDateTimeFormat(locale, options as globalThis.Intl.DateTimeFormatOptions);\n  const ro = original.resolvedOptions();\n\n  // DateTimeFormat instances are very expensive to create. Therefore, they will\n  // be lazily created only when needed, using the locale and options provided.\n  // But it's possible for callers to mutate those inputs before lazy creation\n  // happens. For this reason, we clone the inputs instead of caching the\n  // original objects. To avoid the complexity of deep cloning any inputs that\n  // are themselves objects (e.g. the locales array, or options property values\n  // that will be coerced to strings), we rely on `resolvedOptions()` to do the\n  // coercion and cloning for us. Unfortunately, we can't just use the resolved\n  // options as-is because our options-amending logic adds additional fields if\n  // the user doesn't supply any unit fields like year, month, day, hour, etc.\n  // Therefore, we limit the properties in the clone to properties that were\n  // present in the original input.\n  if (hasOptions) {\n    const clonedResolved = ObjectAssign({}, ro);\n    for (const prop in clonedResolved) {\n      if (!ReflectApply(ObjectHasOwnProperty, options, [prop])) {\n        delete clonedResolved[prop as keyof typeof clonedResolved];\n      }\n    }\n    this[OPTIONS] = clonedResolved as Intl.DateTimeFormatOptions;\n  } else {\n    this[OPTIONS] = options;\n  }\n\n  this[LOCALE] = ro.locale;\n  this[ORIGINAL] = original;\n  this[TZ_RESOLVED] = ro.timeZone;\n  this[CAL_ID] = ro.calendar;\n  this[DATE] = dateAmend;\n  this[YM] = yearMonthAmend;\n  this[MD] = monthDayAmend;\n  this[TIME] = timeAmend;\n  this[DATETIME] = datetimeAmend;\n  this[INST] = instantAmend;\n  return undefined; // TODO: I couldn't satisfy TS without adding this. Is there another way?\n}\n\nObject.defineProperty(DateTimeFormatImpl, 'name', {\n  writable: true,\n  value: 'DateTimeFormat'\n});\n\nDateTimeFormatImpl.supportedLocalesOf = function (\n  locales: Params['supportedLocalesOf'][0],\n  options: Params['supportedLocalesOf'][1]\n) {\n  return IntlDateTimeFormat.supportedLocalesOf(locales, options as globalThis.Intl.DateTimeFormatOptions);\n};\n\nconst propertyDescriptors: Partial<Record<keyof Intl.DateTimeFormat, PropertyDescriptor>> = {\n  resolvedOptions: descriptor(resolvedOptions),\n  format: descriptor(format),\n  formatRange: descriptor(formatRange)\n};\n\nif ('formatToParts' in IntlDateTimeFormat.prototype) {\n  propertyDescriptors.formatToParts = descriptor(formatToParts);\n}\n\nif ('formatRangeToParts' in IntlDateTimeFormat.prototype) {\n  propertyDescriptors.formatRangeToParts = descriptor(formatRangeToParts);\n}\n\nDateTimeFormatImpl.prototype = Object.create(IntlDateTimeFormat.prototype, propertyDescriptors);\n\n// Ensure that the prototype isn't writeable.\nObject.defineProperty(DateTimeFormatImpl, 'prototype', {\n  writable: false,\n  enumerable: false,\n  configurable: false\n});\n\nexport const DateTimeFormat = DateTimeFormatImpl as unknown as typeof Intl.DateTimeFormat;\n\nfunction resolvedOptions(this: DateTimeFormatImpl): Return['resolvedOptions'] {\n  return this[ORIGINAL].resolvedOptions();\n}\n\n// TODO: investigate why there's a rest parameter here. Does this function really need to accept extra params?\n// And if so, why doesn't formatRange also accept extra params?\nfunction format<P extends readonly unknown[]>(\n  this: DateTimeFormatImpl,\n  datetime: Params['format'][0],\n  ...rest: P\n): Return['format'] {\n  let { instant, formatter } = extractOverrides(datetime, this);\n  if (instant && formatter) {\n    return formatter.format(instant.epochMilliseconds);\n  }\n  // Support spreading additional args for future expansion of this Intl method\n  type AllowExtraParams = (datetime: Parameters<Intl.DateTimeFormat['format']>[0], ...rest: P) => Return['format'];\n  return (this[ORIGINAL].format as unknown as AllowExtraParams)(datetime, ...rest);\n}\n\nfunction formatToParts<P extends readonly unknown[]>(\n  this: DateTimeFormatImpl,\n  datetime: Params['formatToParts'][0],\n  ...rest: P\n): Return['formatToParts'] {\n  let { instant, formatter } = extractOverrides(datetime, this);\n  if (instant && formatter) {\n    return formatter.formatToParts(instant.epochMilliseconds);\n  }\n  // Support spreading additional args for future expansion of this Intl method\n  type AllowExtraParams = (\n    datetime: Parameters<Intl.DateTimeFormat['formatToParts']>[0],\n    ...rest: P\n  ) => Return['formatToParts'];\n  return (this[ORIGINAL].formatToParts as unknown as AllowExtraParams)(datetime, ...rest);\n}\n\nfunction formatRange(this: DateTimeFormatImpl, a: Params['formatRange'][0], b: Params['formatRange'][1]) {\n  if (isTemporalObject(a) || isTemporalObject(b)) {\n    if (!sameTemporalType(a, b)) {\n      throw new TypeError('Intl.DateTimeFormat.formatRange accepts two values of the same type');\n    }\n    const { instant: aa, formatter: aformatter } = extractOverrides(a as unknown as TypesWithToLocaleString, this);\n    const { instant: bb, formatter: bformatter } = extractOverrides(b as unknown as TypesWithToLocaleString, this);\n    if (aa && bb && aformatter && bformatter && aformatter === bformatter) {\n      // TODO: Remove type assertion after this method lands in TS lib types\n      return (aformatter as Intl.DateTimeFormat).formatRange(aa.epochMilliseconds, bb.epochMilliseconds);\n    }\n  }\n  // TODO: Remove type assertion after this method lands in TS lib types\n  return (this[ORIGINAL] as Intl.DateTimeFormat).formatRange(a, b);\n}\n\nfunction formatRangeToParts(\n  this: DateTimeFormatImpl,\n  a: Params['formatRangeToParts'][0],\n  b: Params['formatRangeToParts'][1]\n) {\n  if (isTemporalObject(a) || isTemporalObject(b)) {\n    if (!sameTemporalType(a, b)) {\n      throw new TypeError('Intl.DateTimeFormat.formatRangeToParts accepts two values of the same type');\n    }\n    const { instant: aa, formatter: aformatter } = extractOverrides(a, this);\n    const { instant: bb, formatter: bformatter } = extractOverrides(b, this);\n    if (aa && bb && aformatter && bformatter && aformatter === bformatter) {\n      // TODO: Remove type assertion after this method lands in TS lib types\n      return (aformatter as Intl.DateTimeFormat).formatRangeToParts(aa.epochMilliseconds, bb.epochMilliseconds);\n    }\n  }\n  // TODO: Remove type assertion after this method lands in TS lib types\n  return (this[ORIGINAL] as Intl.DateTimeFormat).formatRangeToParts(a, b);\n}\n\n// \"false\" is a signal to delete this option\ntype MaybeFalseOptions = {\n  [K in keyof Intl.DateTimeFormatOptions]?: Intl.DateTimeFormatOptions[K] | false;\n};\n\nfunction amend(optionsParam: Intl.DateTimeFormatOptions = {}, amended: MaybeFalseOptions = {}) {\n  const options = ObjectAssign({}, optionsParam);\n  for (const opt of [\n    'year',\n    'month',\n    'day',\n    'hour',\n    'minute',\n    'second',\n    'weekday',\n    'dayPeriod',\n    'timeZoneName',\n    'dateStyle',\n    'timeStyle'\n  ] as const) {\n    // TODO: can this be typed more cleanly?\n    type OptionMaybeFalse = typeof options[typeof opt] | false;\n    (options[opt] as OptionMaybeFalse) = opt in amended ? amended[opt] : options[opt];\n    if ((options[opt] as OptionMaybeFalse) === false || options[opt] === undefined) delete options[opt];\n  }\n  return options as globalThis.Intl.DateTimeFormatOptions;\n}\n\ntype OptionsType<T extends TypesWithToLocaleString> = NonNullable<Parameters<T['toLocaleString']>[1]>;\n\nfunction timeAmend(optionsParam: OptionsType<Temporal.PlainTime>) {\n  let options = amend(optionsParam, {\n    year: false,\n    month: false,\n    day: false,\n    weekday: false,\n    timeZoneName: false,\n    dateStyle: false\n  });\n  if (!hasTimeOptions(options)) {\n    options = ObjectAssign({}, options, {\n      hour: 'numeric',\n      minute: 'numeric',\n      second: 'numeric'\n    });\n  }\n  return options;\n}\n\nfunction yearMonthAmend(optionsParam: OptionsType<Temporal.PlainYearMonth>) {\n  let options = amend(optionsParam, {\n    day: false,\n    hour: false,\n    minute: false,\n    second: false,\n    weekday: false,\n    dayPeriod: false,\n    timeZoneName: false,\n    dateStyle: false,\n    timeStyle: false\n  });\n  if (!('year' in options || 'month' in options)) {\n    options = ObjectAssign(options, { year: 'numeric', month: 'numeric' });\n  }\n  return options;\n}\n\nfunction monthDayAmend(optionsParam: OptionsType<Temporal.PlainMonthDay>) {\n  let options = amend(optionsParam, {\n    year: false,\n    hour: false,\n    minute: false,\n    second: false,\n    weekday: false,\n    dayPeriod: false,\n    timeZoneName: false,\n    dateStyle: false,\n    timeStyle: false\n  });\n  if (!('month' in options || 'day' in options)) {\n    options = ObjectAssign({}, options, { month: 'numeric', day: 'numeric' });\n  }\n  return options;\n}\n\nfunction dateAmend(optionsParam: OptionsType<Temporal.PlainDate>) {\n  let options = amend(optionsParam, {\n    hour: false,\n    minute: false,\n    second: false,\n    dayPeriod: false,\n    timeZoneName: false,\n    timeStyle: false\n  });\n  if (!hasDateOptions(options)) {\n    options = ObjectAssign({}, options, {\n      year: 'numeric',\n      month: 'numeric',\n      day: 'numeric'\n    });\n  }\n  return options;\n}\n\nfunction datetimeAmend(optionsParam: OptionsType<Temporal.PlainDateTime>) {\n  let options = amend(optionsParam, { timeZoneName: false });\n  if (!hasTimeOptions(options) && !hasDateOptions(options)) {\n    options = ObjectAssign({}, options, {\n      year: 'numeric',\n      month: 'numeric',\n      day: 'numeric',\n      hour: 'numeric',\n      minute: 'numeric',\n      second: 'numeric'\n    });\n  }\n  return options;\n}\n\nfunction instantAmend(optionsParam: OptionsType<Temporal.Instant>) {\n  let options = optionsParam;\n  if (!hasTimeOptions(options) && !hasDateOptions(options)) {\n    options = ObjectAssign({}, options, {\n      year: 'numeric',\n      month: 'numeric',\n      day: 'numeric',\n      hour: 'numeric',\n      minute: 'numeric',\n      second: 'numeric'\n    });\n  }\n  return options;\n}\n\nfunction hasDateOptions(options: OptionsType<TypesWithToLocaleString>) {\n  return 'year' in options || 'month' in options || 'day' in options || 'weekday' in options || 'dateStyle' in options;\n}\n\nfunction hasTimeOptions(options: OptionsType<TypesWithToLocaleString>) {\n  return (\n    'hour' in options || 'minute' in options || 'second' in options || 'timeStyle' in options || 'dayPeriod' in options\n  );\n}\n\nfunction isTemporalObject(\n  obj: unknown\n): obj is\n  | Temporal.PlainDate\n  | Temporal.PlainTime\n  | Temporal.PlainDateTime\n  | Temporal.ZonedDateTime\n  | Temporal.PlainYearMonth\n  | Temporal.PlainMonthDay\n  | Temporal.Instant {\n  return (\n    ES.IsTemporalDate(obj) ||\n    ES.IsTemporalTime(obj) ||\n    ES.IsTemporalDateTime(obj) ||\n    ES.IsTemporalZonedDateTime(obj) ||\n    ES.IsTemporalYearMonth(obj) ||\n    ES.IsTemporalMonthDay(obj) ||\n    ES.IsTemporalInstant(obj)\n  );\n}\n\nfunction sameTemporalType(x: unknown, y: unknown) {\n  if (!isTemporalObject(x) || !isTemporalObject(y)) return false;\n  if (ES.IsTemporalTime(x) && !ES.IsTemporalTime(y)) return false;\n  if (ES.IsTemporalDate(x) && !ES.IsTemporalDate(y)) return false;\n  if (ES.IsTemporalDateTime(x) && !ES.IsTemporalDateTime(y)) return false;\n  if (ES.IsTemporalZonedDateTime(x) && !ES.IsTemporalZonedDateTime(y)) return false;\n  if (ES.IsTemporalYearMonth(x) && !ES.IsTemporalYearMonth(y)) return false;\n  if (ES.IsTemporalMonthDay(x) && !ES.IsTemporalMonthDay(y)) return false;\n  if (ES.IsTemporalInstant(x) && !ES.IsTemporalInstant(y)) return false;\n  return true;\n}\n\ntype TypesWithToLocaleString =\n  | Temporal.PlainDateTime\n  | Temporal.PlainDate\n  | Temporal.PlainTime\n  | Temporal.PlainYearMonth\n  | Temporal.PlainMonthDay\n  | Temporal.ZonedDateTime\n  | Temporal.Instant;\n\nfunction extractOverrides(temporalObj: Params['format'][0], main: DateTimeFormatImpl) {\n  const DateTime = GetIntrinsic('%Temporal.PlainDateTime%');\n\n  if (ES.IsTemporalTime(temporalObj)) {\n    const hour = GetSlot(temporalObj, ISO_HOUR);\n    const minute = GetSlot(temporalObj, ISO_MINUTE);\n    const second = GetSlot(temporalObj, ISO_SECOND);\n    const millisecond = GetSlot(temporalObj, ISO_MILLISECOND);\n    const microsecond = GetSlot(temporalObj, ISO_MICROSECOND);\n    const nanosecond = GetSlot(temporalObj, ISO_NANOSECOND);\n    const datetime = new DateTime(1970, 1, 1, hour, minute, second, millisecond, microsecond, nanosecond, main[CAL_ID]);\n    return {\n      instant: ES.GetInstantFor(main[TZ_RESOLVED], datetime, 'compatible'),\n      formatter: getPropLazy(main, TIME)\n    };\n  }\n\n  if (ES.IsTemporalYearMonth(temporalObj)) {\n    const isoYear = GetSlot(temporalObj, ISO_YEAR);\n    const isoMonth = GetSlot(temporalObj, ISO_MONTH);\n    const referenceISODay = GetSlot(temporalObj, ISO_DAY);\n    const calendar = ES.ToTemporalCalendarIdentifier(GetSlot(temporalObj, CALENDAR));\n    if (calendar !== main[CAL_ID]) {\n      throw new RangeError(\n        `cannot format PlainYearMonth with calendar ${calendar} in locale with calendar ${main[CAL_ID]}`\n      );\n    }\n    const datetime = new DateTime(isoYear, isoMonth, referenceISODay, 12, 0, 0, 0, 0, 0, calendar);\n    return {\n      instant: ES.GetInstantFor(main[TZ_RESOLVED], datetime, 'compatible'),\n      formatter: getPropLazy(main, YM)\n    };\n  }\n\n  if (ES.IsTemporalMonthDay(temporalObj)) {\n    const referenceISOYear = GetSlot(temporalObj, ISO_YEAR);\n    const isoMonth = GetSlot(temporalObj, ISO_MONTH);\n    const isoDay = GetSlot(temporalObj, ISO_DAY);\n    const calendar = ES.ToTemporalCalendarIdentifier(GetSlot(temporalObj, CALENDAR));\n    if (calendar !== main[CAL_ID]) {\n      throw new RangeError(\n        `cannot format PlainMonthDay with calendar ${calendar} in locale with calendar ${main[CAL_ID]}`\n      );\n    }\n    const datetime = new DateTime(referenceISOYear, isoMonth, isoDay, 12, 0, 0, 0, 0, 0, calendar);\n    return {\n      instant: ES.GetInstantFor(main[TZ_RESOLVED], datetime, 'compatible'),\n      formatter: getPropLazy(main, MD)\n    };\n  }\n\n  if (ES.IsTemporalDate(temporalObj)) {\n    const isoYear = GetSlot(temporalObj, ISO_YEAR);\n    const isoMonth = GetSlot(temporalObj, ISO_MONTH);\n    const isoDay = GetSlot(temporalObj, ISO_DAY);\n    const calendar = ES.ToTemporalCalendarIdentifier(GetSlot(temporalObj, CALENDAR));\n    if (calendar !== 'iso8601' && calendar !== main[CAL_ID]) {\n      throw new RangeError(`cannot format PlainDate with calendar ${calendar} in locale with calendar ${main[CAL_ID]}`);\n    }\n    const datetime = new DateTime(isoYear, isoMonth, isoDay, 12, 0, 0, 0, 0, 0, main[CAL_ID]);\n    return {\n      instant: ES.GetInstantFor(main[TZ_RESOLVED], datetime, 'compatible'),\n      formatter: getPropLazy(main, DATE)\n    };\n  }\n\n  if (ES.IsTemporalDateTime(temporalObj)) {\n    const isoYear = GetSlot(temporalObj, ISO_YEAR);\n    const isoMonth = GetSlot(temporalObj, ISO_MONTH);\n    const isoDay = GetSlot(temporalObj, ISO_DAY);\n    const hour = GetSlot(temporalObj, ISO_HOUR);\n    const minute = GetSlot(temporalObj, ISO_MINUTE);\n    const second = GetSlot(temporalObj, ISO_SECOND);\n    const millisecond = GetSlot(temporalObj, ISO_MILLISECOND);\n    const microsecond = GetSlot(temporalObj, ISO_MICROSECOND);\n    const nanosecond = GetSlot(temporalObj, ISO_NANOSECOND);\n    const calendar = ES.ToTemporalCalendarIdentifier(GetSlot(temporalObj, CALENDAR));\n    if (calendar !== 'iso8601' && calendar !== main[CAL_ID]) {\n      throw new RangeError(\n        `cannot format PlainDateTime with calendar ${calendar} in locale with calendar ${main[CAL_ID]}`\n      );\n    }\n    let datetime = temporalObj;\n    if (calendar === 'iso8601') {\n      datetime = new DateTime(\n        isoYear,\n        isoMonth,\n        isoDay,\n        hour,\n        minute,\n        second,\n        millisecond,\n        microsecond,\n        nanosecond,\n        main[CAL_ID]\n      );\n    }\n    return {\n      instant: ES.GetInstantFor(main[TZ_RESOLVED], datetime, 'compatible'),\n      formatter: getPropLazy(main, DATETIME)\n    };\n  }\n\n  if (ES.IsTemporalZonedDateTime(temporalObj)) {\n    throw new TypeError(\n      'Temporal.ZonedDateTime not supported in DateTimeFormat methods. Use toLocaleString() instead.'\n    );\n  }\n\n  if (ES.IsTemporalInstant(temporalObj)) {\n    return {\n      instant: temporalObj,\n      formatter: getPropLazy(main, INST)\n    };\n  }\n\n  return {};\n}\n","import { DEBUG } from './debug';\nimport * as ES from './ecmascript';\nimport { MakeIntrinsicClass } from './intrinsicclass';\nimport { EPOCHNANOSECONDS, CreateSlots, GetSlot, SetSlot } from './slots';\nimport type { Temporal } from '..';\nimport { DateTimeFormat } from './intl';\nimport type { InstantParams as Params, InstantReturn as Return } from './internaltypes';\n\nimport JSBI from 'jsbi';\nimport { BILLION, MILLION, THOUSAND } from './ecmascript';\n\nexport class Instant implements Temporal.Instant {\n  constructor(epochNanoseconds: bigint | JSBI) {\n    // Note: if the argument is not passed, ToBigInt(undefined) will throw. This check exists only\n    //       to improve the error message.\n    if (arguments.length < 1) {\n      throw new TypeError('missing argument: epochNanoseconds is required');\n    }\n\n    const ns = ES.ToBigInt(epochNanoseconds);\n    ES.ValidateEpochNanoseconds(ns);\n    CreateSlots(this);\n    SetSlot(this, EPOCHNANOSECONDS, ns);\n\n    if (DEBUG) {\n      const repr = ES.TemporalInstantToString(this, undefined, 'auto');\n      Object.defineProperty(this, '_repr_', {\n        value: `${this[Symbol.toStringTag]} <${repr}>`,\n        writable: false,\n        enumerable: false,\n        configurable: false\n      });\n    }\n  }\n\n  get epochSeconds(): Return['epochSeconds'] {\n    if (!ES.IsTemporalInstant(this)) throw new TypeError('invalid receiver');\n    const value = GetSlot(this, EPOCHNANOSECONDS);\n    return JSBI.toNumber(ES.BigIntFloorDiv(value, BILLION));\n  }\n  get epochMilliseconds(): Return['epochMilliseconds'] {\n    if (!ES.IsTemporalInstant(this)) throw new TypeError('invalid receiver');\n    const value = JSBI.BigInt(GetSlot(this, EPOCHNANOSECONDS));\n    return JSBI.toNumber(ES.BigIntFloorDiv(value, MILLION));\n  }\n  get epochMicroseconds(): Return['epochMicroseconds'] {\n    if (!ES.IsTemporalInstant(this)) throw new TypeError('invalid receiver');\n    const value = JSBI.BigInt(GetSlot(this, EPOCHNANOSECONDS));\n    return ES.ToBigIntExternal(ES.BigIntFloorDiv(value, THOUSAND));\n  }\n  get epochNanoseconds(): Return['epochNanoseconds'] {\n    if (!ES.IsTemporalInstant(this)) throw new TypeError('invalid receiver');\n    return ES.ToBigIntExternal(JSBI.BigInt(GetSlot(this, EPOCHNANOSECONDS)));\n  }\n\n  add(temporalDurationLike: Params['add'][0]): Return['add'] {\n    if (!ES.IsTemporalInstant(this)) throw new TypeError('invalid receiver');\n    return ES.AddDurationToOrSubtractDurationFromInstant('add', this, temporalDurationLike);\n  }\n  subtract(temporalDurationLike: Params['subtract'][0]): Return['subtract'] {\n    if (!ES.IsTemporalInstant(this)) throw new TypeError('invalid receiver');\n    return ES.AddDurationToOrSubtractDurationFromInstant('subtract', this, temporalDurationLike);\n  }\n  until(other: Params['until'][0], options: Params['until'][1] = undefined): Return['until'] {\n    if (!ES.IsTemporalInstant(this)) throw new TypeError('invalid receiver');\n    return ES.DifferenceTemporalInstant('until', this, other, options);\n  }\n  since(other: Params['since'][0], options: Params['since'][1] = undefined): Return['since'] {\n    if (!ES.IsTemporalInstant(this)) throw new TypeError('invalid receiver');\n    return ES.DifferenceTemporalInstant('since', this, other, options);\n  }\n  round(roundToParam: Params['round'][0]): Return['round'] {\n    if (!ES.IsTemporalInstant(this)) throw new TypeError('invalid receiver');\n    if (roundToParam === undefined) throw new TypeError('options parameter is required');\n    const roundTo =\n      typeof roundToParam === 'string'\n        ? (ES.CreateOnePropObject('smallestUnit', roundToParam) as Exclude<typeof roundToParam, string>)\n        : ES.GetOptionsObject(roundToParam);\n    const roundingIncrement = ES.ToTemporalRoundingIncrement(roundTo);\n    const roundingMode = ES.ToTemporalRoundingMode(roundTo, 'halfExpand');\n    const smallestUnit = ES.GetTemporalUnit(roundTo, 'smallestUnit', 'time', ES.REQUIRED);\n    const maximumIncrements = {\n      hour: 24,\n      minute: 1440,\n      second: 86400,\n      millisecond: 86400e3,\n      microsecond: 86400e6,\n      nanosecond: 86400e9\n    };\n    ES.ValidateTemporalRoundingIncrement(roundingIncrement, maximumIncrements[smallestUnit], true);\n    const ns = GetSlot(this, EPOCHNANOSECONDS);\n    const roundedNs = ES.RoundInstant(ns, roundingIncrement, smallestUnit, roundingMode);\n    return new Instant(roundedNs);\n  }\n  equals(otherParam: Params['equals'][0]): Return['equals'] {\n    if (!ES.IsTemporalInstant(this)) throw new TypeError('invalid receiver');\n    const other = ES.ToTemporalInstant(otherParam);\n    const one = GetSlot(this, EPOCHNANOSECONDS);\n    const two = GetSlot(other, EPOCHNANOSECONDS);\n    return JSBI.equal(JSBI.BigInt(one), JSBI.BigInt(two));\n  }\n  toString(optionsParam: Params['toString'][0] = undefined): string {\n    if (!ES.IsTemporalInstant(this)) throw new TypeError('invalid receiver');\n    const options = ES.GetOptionsObject(optionsParam);\n    const digits = ES.ToFractionalSecondDigits(options);\n    const roundingMode = ES.ToTemporalRoundingMode(options, 'trunc');\n    const smallestUnit = ES.GetTemporalUnit(options, 'smallestUnit', 'time', undefined);\n    if (smallestUnit === 'hour') throw new RangeError('smallestUnit must be a time unit other than \"hour\"');\n    let timeZone = options.timeZone;\n    if (timeZone !== undefined) timeZone = ES.ToTemporalTimeZoneSlotValue(timeZone);\n    const { precision, unit, increment } = ES.ToSecondsStringPrecisionRecord(smallestUnit, digits);\n    const ns = GetSlot(this, EPOCHNANOSECONDS);\n    const roundedNs = ES.RoundInstant(ns, increment, unit, roundingMode);\n    const roundedInstant = new Instant(roundedNs);\n    return ES.TemporalInstantToString(roundedInstant, timeZone as Temporal.TimeZoneProtocol, precision);\n  }\n  toJSON(): string {\n    if (!ES.IsTemporalInstant(this)) throw new TypeError('invalid receiver');\n    return ES.TemporalInstantToString(this, undefined, 'auto');\n  }\n  toLocaleString(\n    locales: Params['toLocaleString'][0] = undefined,\n    options: Params['toLocaleString'][1] = undefined\n  ): string {\n    if (!ES.IsTemporalInstant(this)) throw new TypeError('invalid receiver');\n    return new DateTimeFormat(locales, options).format(this);\n  }\n  valueOf(): never {\n    throw new TypeError('use compare() or equals() to compare Temporal.Instant');\n  }\n  toZonedDateTime(item: Params['toZonedDateTime'][0]): Return['toZonedDateTime'] {\n    if (!ES.IsTemporalInstant(this)) throw new TypeError('invalid receiver');\n    if (!ES.IsObject(item)) {\n      throw new TypeError('invalid argument in toZonedDateTime');\n    }\n    const calendarLike = item.calendar;\n    if (calendarLike === undefined) {\n      throw new TypeError('missing calendar property in toZonedDateTime');\n    }\n    const calendar = ES.ToTemporalCalendarSlotValue(calendarLike);\n    const temporalTimeZoneLike = item.timeZone;\n    if (temporalTimeZoneLike === undefined) {\n      throw new TypeError('missing timeZone property in toZonedDateTime');\n    }\n    const timeZone = ES.ToTemporalTimeZoneSlotValue(temporalTimeZoneLike);\n    return ES.CreateTemporalZonedDateTime(GetSlot(this, EPOCHNANOSECONDS), timeZone, calendar);\n  }\n  toZonedDateTimeISO(timeZoneParam: Params['toZonedDateTimeISO'][0]): Return['toZonedDateTimeISO'] {\n    if (!ES.IsTemporalInstant(this)) throw new TypeError('invalid receiver');\n    const timeZone = ES.ToTemporalTimeZoneSlotValue(timeZoneParam);\n    return ES.CreateTemporalZonedDateTime(GetSlot(this, EPOCHNANOSECONDS), timeZone, 'iso8601');\n  }\n\n  static fromEpochSeconds(epochSecondsParam: Params['fromEpochSeconds'][0]): Return['fromEpochSeconds'] {\n    const epochSeconds = ES.ToNumber(epochSecondsParam);\n    const epochNanoseconds = JSBI.multiply(JSBI.BigInt(epochSeconds), BILLION);\n    ES.ValidateEpochNanoseconds(epochNanoseconds);\n    return new Instant(epochNanoseconds);\n  }\n  static fromEpochMilliseconds(\n    epochMillisecondsParam: Params['fromEpochMilliseconds'][0]\n  ): Return['fromEpochMilliseconds'] {\n    const epochMilliseconds = ES.ToNumber(epochMillisecondsParam);\n    const epochNanoseconds = JSBI.multiply(JSBI.BigInt(epochMilliseconds), MILLION);\n    ES.ValidateEpochNanoseconds(epochNanoseconds);\n    return new Instant(epochNanoseconds);\n  }\n  static fromEpochMicroseconds(\n    epochMicrosecondsParam: Params['fromEpochMicroseconds'][0]\n  ): Return['fromEpochMicroseconds'] {\n    const epochMicroseconds = ES.ToBigInt(epochMicrosecondsParam);\n    const epochNanoseconds = JSBI.multiply(epochMicroseconds, THOUSAND);\n    ES.ValidateEpochNanoseconds(epochNanoseconds);\n    return new Instant(epochNanoseconds);\n  }\n  static fromEpochNanoseconds(\n    epochNanosecondsParam: Params['fromEpochNanoseconds'][0]\n  ): Return['fromEpochNanoseconds'] {\n    const epochNanoseconds = ES.ToBigInt(epochNanosecondsParam);\n    ES.ValidateEpochNanoseconds(epochNanoseconds);\n    return new Instant(epochNanoseconds);\n  }\n  static from(item: Params['from'][0]): Return['from'] {\n    if (ES.IsTemporalInstant(item)) {\n      return new Instant(GetSlot(item, EPOCHNANOSECONDS));\n    }\n    return ES.ToTemporalInstant(item);\n  }\n  static compare(oneParam: Params['compare'][0], twoParam: Params['compare'][1]): Return['compare'] {\n    const one = ES.ToTemporalInstant(oneParam);\n    const two = ES.ToTemporalInstant(twoParam);\n    const oneNs = GetSlot(one, EPOCHNANOSECONDS);\n    const twoNs = GetSlot(two, EPOCHNANOSECONDS);\n    if (JSBI.lessThan(oneNs, twoNs)) return -1;\n    if (JSBI.greaterThan(oneNs, twoNs)) return 1;\n    return 0;\n  }\n  [Symbol.toStringTag]!: 'Temporal.Instant';\n}\n\nMakeIntrinsicClass(Instant, 'Temporal.Instant');\n","import { DEBUG } from './debug';\nimport * as ES from './ecmascript';\nimport { GetIntrinsic, MakeIntrinsicClass, DefineIntrinsic } from './intrinsicclass';\nimport {\n  CALENDAR_ID,\n  ISO_YEAR,\n  ISO_MONTH,\n  ISO_DAY,\n  YEARS,\n  MONTHS,\n  WEEKS,\n  DAYS,\n  HOURS,\n  MINUTES,\n  SECONDS,\n  MILLISECONDS,\n  MICROSECONDS,\n  NANOSECONDS,\n  CreateSlots,\n  GetSlot,\n  HasSlot,\n  SetSlot\n} from './slots';\nimport type { Temporal } from '..';\nimport type {\n  BuiltinCalendarId,\n  CalendarParams as Params,\n  CalendarReturn as Return,\n  AnyTemporalKey,\n  CalendarSlot\n} from './internaltypes';\n\nconst ArrayIncludes = Array.prototype.includes;\nconst ArrayPrototypePush = Array.prototype.push;\nconst IntlDateTimeFormat = globalThis.Intl.DateTimeFormat;\nconst ArraySort = Array.prototype.sort;\nconst MathAbs = Math.abs;\nconst MathFloor = Math.floor;\nconst ObjectCreate = Object.create;\nconst ObjectEntries = Object.entries;\nconst OriginalSet = Set;\nconst ReflectOwnKeys = Reflect.ownKeys;\nconst SetPrototypeAdd = Set.prototype.add;\nconst SetPrototypeValues = Set.prototype.values;\n\n/**\n * Shape of internal implementation of each built-in calendar. Note that\n * parameter types are simpler than CalendarProtocol because the `Calendar`\n * class performs validation and parameter normalization before handing control\n * over to CalendarImpl.\n *\n * There are two instances of this interface: one for the ISO calendar and\n * another that handles logic that's the same across all non-ISO calendars. The\n * latter is cloned for each non-ISO calendar at the end of this file.\n */\ninterface CalendarImpl {\n  year(date: Temporal.PlainDate | Temporal.PlainYearMonth): number;\n  month(date: Temporal.PlainDate | Temporal.PlainYearMonth | Temporal.PlainMonthDay): number;\n  monthCode(date: Temporal.PlainDate | Temporal.PlainYearMonth | Temporal.PlainMonthDay): string;\n  day(date: Temporal.PlainDate | Temporal.PlainMonthDay): number;\n  era(date: Temporal.PlainDate | Temporal.PlainYearMonth): string | undefined;\n  eraYear(date: Temporal.PlainDate | Temporal.PlainYearMonth): number | undefined;\n  dayOfWeek(date: Temporal.PlainDate): number;\n  dayOfYear(date: Temporal.PlainDate): number;\n  weekOfYear(date: Temporal.PlainDate): number;\n  yearOfWeek(date: Temporal.PlainDate): number;\n  daysInWeek(date: Temporal.PlainDate): number;\n  daysInMonth(date: Temporal.PlainDate | Temporal.PlainYearMonth): number;\n  daysInYear(date: Temporal.PlainDate | Temporal.PlainYearMonth): number;\n  monthsInYear(date: Temporal.PlainDate | Temporal.PlainYearMonth): number;\n  inLeapYear(date: Temporal.PlainDate | Temporal.PlainYearMonth): boolean;\n  dateFromFields(\n    fields: Params['dateFromFields'][0],\n    options: NonNullable<Params['dateFromFields'][1]>,\n    calendar: string\n  ): Temporal.PlainDate;\n  yearMonthFromFields(\n    fields: Params['yearMonthFromFields'][0],\n    options: NonNullable<Params['yearMonthFromFields'][1]>,\n    calendar: string\n  ): Temporal.PlainYearMonth;\n  monthDayFromFields(\n    fields: Params['monthDayFromFields'][0],\n    options: NonNullable<Params['monthDayFromFields'][1]>,\n    calendar: string\n  ): Temporal.PlainMonthDay;\n  dateAdd(\n    date: Temporal.PlainDate,\n    years: number,\n    months: number,\n    weeks: number,\n    days: number,\n    overflow: Overflow,\n    calendar: string\n  ): Temporal.PlainDate;\n  dateUntil(\n    one: Temporal.PlainDate,\n    two: Temporal.PlainDate,\n    largestUnit: 'year' | 'month' | 'week' | 'day'\n  ): { years: number; months: number; weeks: number; days: number };\n  fields(fields: string[]): string[];\n  fieldKeysToIgnore(keys: string[]): string[];\n}\n\ntype CalendarImplementations = {\n  [k in BuiltinCalendarId]: CalendarImpl;\n};\n\n/**\n * Implementations for each calendar.\n * Registration for each of these calendars happens throughout this file. The ISO and non-ISO calendars are registered\n * separately - look for 'iso8601' for the ISO calendar registration, and all non-ISO calendar registrations happens\n * at the bottom of the file.\n */\nconst impl: CalendarImplementations = {} as unknown as CalendarImplementations;\n\n/**\n * Thin wrapper around the implementation of each built-in calendar. This\n * class's methods follow a similar pattern:\n * 1. Validate parameters\n * 2. Fill in default options (for methods where options are present)\n * 3. Simplify and/or normalize parameters. For example, some methods accept\n *    PlainDate, PlainDateTime, ZonedDateTime, etc. and these are normalized to\n *    PlainDate.\n * 4. Look up the ID of the built-in calendar\n * 5. Fetch the implementation object for that ID.\n * 6. Call the corresponding method in the implementation object.\n */\nexport class Calendar implements Temporal.Calendar {\n  constructor(idParam: Params['constructor'][0]) {\n    // Note: if the argument is not passed, IsBuiltinCalendar(\"undefined\") will fail. This check\n    //       exists only to improve the error message.\n    if (arguments.length < 1) {\n      throw new RangeError('missing argument: id is required');\n    }\n\n    const id = ES.ToString(idParam);\n    if (!ES.IsBuiltinCalendar(id)) throw new RangeError(`invalid calendar identifier ${id}`);\n    CreateSlots(this);\n    SetSlot(this, CALENDAR_ID, ES.ASCIILowercase(id));\n\n    if (DEBUG) {\n      Object.defineProperty(this, '_repr_', {\n        value: `${this[Symbol.toStringTag]} <${id}>`,\n        writable: false,\n        enumerable: false,\n        configurable: false\n      });\n    }\n  }\n  get id(): Return['id'] {\n    if (!ES.IsTemporalCalendar(this)) throw new TypeError('invalid receiver');\n    return GetSlot(this, CALENDAR_ID);\n  }\n  dateFromFields(\n    fields: Params['dateFromFields'][0],\n    optionsParam: Params['dateFromFields'][1] = undefined\n  ): Return['dateFromFields'] {\n    if (!ES.IsTemporalCalendar(this)) throw new TypeError('invalid receiver');\n    if (!ES.IsObject(fields)) throw new TypeError('invalid fields');\n    const options = ES.GetOptionsObject(optionsParam);\n    const id = GetSlot(this, CALENDAR_ID);\n    return impl[id].dateFromFields(fields, options, id);\n  }\n  yearMonthFromFields(\n    fields: Params['yearMonthFromFields'][0],\n    optionsParam: Params['yearMonthFromFields'][1] = undefined\n  ): Return['yearMonthFromFields'] {\n    if (!ES.IsTemporalCalendar(this)) throw new TypeError('invalid receiver');\n    if (!ES.IsObject(fields)) throw new TypeError('invalid fields');\n    const options = ES.GetOptionsObject(optionsParam);\n    const id = GetSlot(this, CALENDAR_ID);\n    return impl[id].yearMonthFromFields(fields, options, id);\n  }\n  monthDayFromFields(\n    fields: Params['monthDayFromFields'][0],\n    optionsParam: Params['monthDayFromFields'][1] = undefined\n  ): Return['monthDayFromFields'] {\n    if (!ES.IsTemporalCalendar(this)) throw new TypeError('invalid receiver');\n    if (!ES.IsObject(fields)) throw new TypeError('invalid fields');\n    const options = ES.GetOptionsObject(optionsParam);\n    const id = GetSlot(this, CALENDAR_ID);\n    return impl[id].monthDayFromFields(fields, options, id);\n  }\n  fields(fields: Params['fields'][0]): Return['fields'] {\n    if (!ES.IsTemporalCalendar(this)) throw new TypeError('invalid receiver');\n    const fieldsArray = [] as string[];\n    const allowed = new Set([\n      'year',\n      'month',\n      'monthCode',\n      'day',\n      'hour',\n      'minute',\n      'second',\n      'millisecond',\n      'microsecond',\n      'nanosecond'\n    ]);\n    for (const name of fields) {\n      if (typeof name !== 'string') throw new TypeError('invalid fields');\n      if (!allowed.has(name)) throw new RangeError(`invalid field name ${name}`);\n      allowed.delete(name);\n      ArrayPrototypePush.call(fieldsArray, name);\n    }\n    return impl[GetSlot(this, CALENDAR_ID)].fields(fieldsArray);\n  }\n  mergeFields(\n    fieldsParam: Params['mergeFields'][0],\n    additionalFieldsParam: Params['mergeFields'][1]\n  ): Return['mergeFields'] {\n    if (!ES.IsTemporalCalendar(this)) throw new TypeError('invalid receiver');\n    const fields = ES.ToObject(fieldsParam);\n    const fieldsCopy = ObjectCreate(null);\n    ES.CopyDataProperties(fieldsCopy, fields, [], [undefined]);\n    const additionalFields = ES.ToObject(additionalFieldsParam);\n    const additionalFieldsCopy = ObjectCreate(null);\n    ES.CopyDataProperties(additionalFieldsCopy, additionalFields, [], [undefined]);\n    const additionalKeys = ReflectOwnKeys(additionalFieldsCopy) as (keyof typeof additionalFields)[];\n    const overriddenKeys = impl[GetSlot(this, CALENDAR_ID)].fieldKeysToIgnore(additionalKeys);\n    const merged = ObjectCreate(null);\n    const fieldsKeys = ReflectOwnKeys(fieldsCopy);\n    for (const key of fieldsKeys) {\n      let propValue = undefined;\n      if (ES.Call(ArrayIncludes, overriddenKeys, [key])) propValue = additionalFieldsCopy[key];\n      else propValue = fieldsCopy[key];\n      if (propValue !== undefined) merged[key] = propValue;\n    }\n    ES.CopyDataProperties(merged, additionalFieldsCopy, []);\n    return merged;\n  }\n  dateAdd(\n    dateParam: Params['dateAdd'][0],\n    durationParam: Params['dateAdd'][1],\n    optionsParam: Params['dateAdd'][2] = undefined\n  ): Return['dateAdd'] {\n    if (!ES.IsTemporalCalendar(this)) throw new TypeError('invalid receiver');\n    const date = ES.ToTemporalDate(dateParam);\n    const duration = ES.ToTemporalDuration(durationParam);\n    const options = ES.GetOptionsObject(optionsParam);\n    const overflow = ES.ToTemporalOverflow(options);\n    const { days } = ES.BalanceDuration(\n      GetSlot(duration, DAYS),\n      GetSlot(duration, HOURS),\n      GetSlot(duration, MINUTES),\n      GetSlot(duration, SECONDS),\n      GetSlot(duration, MILLISECONDS),\n      GetSlot(duration, MICROSECONDS),\n      GetSlot(duration, NANOSECONDS),\n      'day'\n    );\n    const id = GetSlot(this, CALENDAR_ID);\n    return impl[id].dateAdd(\n      date,\n      GetSlot(duration, YEARS),\n      GetSlot(duration, MONTHS),\n      GetSlot(duration, WEEKS),\n      days,\n      overflow,\n      id\n    );\n  }\n  dateUntil(\n    oneParam: Params['dateUntil'][0],\n    twoParam: Params['dateUntil'][1],\n    optionsParam: Params['dateUntil'][2] = undefined\n  ): Return['dateUntil'] {\n    if (!ES.IsTemporalCalendar(this)) throw new TypeError('invalid receiver');\n    const one = ES.ToTemporalDate(oneParam);\n    const two = ES.ToTemporalDate(twoParam);\n    const options = ES.GetOptionsObject(optionsParam);\n    let largestUnit = ES.GetTemporalUnit(options, 'largestUnit', 'date', 'auto');\n    if (largestUnit === 'auto') largestUnit = 'day';\n    const { years, months, weeks, days } = impl[GetSlot(this, CALENDAR_ID)].dateUntil(one, two, largestUnit);\n    const Duration = GetIntrinsic('%Temporal.Duration%');\n    return new Duration(years, months, weeks, days, 0, 0, 0, 0, 0, 0);\n  }\n  year(dateParam: Params['year'][0]): Return['year'] {\n    let date = dateParam;\n    if (!ES.IsTemporalCalendar(this)) throw new TypeError('invalid receiver');\n    if (!ES.IsTemporalYearMonth(date)) date = ES.ToTemporalDate(date);\n    return impl[GetSlot(this, CALENDAR_ID)].year(date as Temporal.PlainDate | Temporal.PlainYearMonth);\n  }\n  month(dateParam: Params['month'][0]): Return['month'] {\n    let date = dateParam;\n    if (!ES.IsTemporalCalendar(this)) throw new TypeError('invalid receiver');\n    if (ES.IsTemporalMonthDay(date)) throw new TypeError('use monthCode on PlainMonthDay instead');\n    if (!ES.IsTemporalYearMonth(date)) date = ES.ToTemporalDate(date);\n    return impl[GetSlot(this, CALENDAR_ID)].month(date as Temporal.PlainDate | Temporal.PlainYearMonth);\n  }\n  monthCode(dateParam: Params['monthCode'][0]): Return['monthCode'] {\n    let date = dateParam;\n    if (!ES.IsTemporalCalendar(this)) throw new TypeError('invalid receiver');\n    if (!ES.IsTemporalYearMonth(date) && !ES.IsTemporalMonthDay(date)) date = ES.ToTemporalDate(date);\n    return impl[GetSlot(this, CALENDAR_ID)].monthCode(\n      date as Temporal.PlainDate | Temporal.PlainMonthDay | Temporal.PlainYearMonth\n    );\n  }\n  day(dateParam: Params['day'][0]): Return['day'] {\n    let date = dateParam;\n    if (!ES.IsTemporalCalendar(this)) throw new TypeError('invalid receiver');\n    if (!ES.IsTemporalMonthDay(date)) date = ES.ToTemporalDate(date);\n    return impl[GetSlot(this, CALENDAR_ID)].day(date as Temporal.PlainDate | Temporal.PlainMonthDay);\n  }\n  era(dateParam: Params['era'][0]): Return['era'] {\n    let date = dateParam;\n    if (!ES.IsTemporalCalendar(this)) throw new TypeError('invalid receiver');\n    if (!ES.IsTemporalYearMonth(date)) date = ES.ToTemporalDate(date);\n    return impl[GetSlot(this, CALENDAR_ID)].era(date as Temporal.PlainDate | Temporal.PlainYearMonth);\n  }\n  eraYear(dateParam: Params['eraYear'][0]): Return['eraYear'] {\n    let date = dateParam;\n    if (!ES.IsTemporalCalendar(this)) throw new TypeError('invalid receiver');\n    if (!ES.IsTemporalYearMonth(date)) date = ES.ToTemporalDate(date);\n    return impl[GetSlot(this, CALENDAR_ID)].eraYear(date as Temporal.PlainDate | Temporal.PlainYearMonth);\n  }\n  dayOfWeek(dateParam: Params['dayOfWeek'][0]): Return['dayOfWeek'] {\n    if (!ES.IsTemporalCalendar(this)) throw new TypeError('invalid receiver');\n    const date = ES.ToTemporalDate(dateParam);\n    return impl[GetSlot(this, CALENDAR_ID)].dayOfWeek(date);\n  }\n  dayOfYear(dateParam: Params['dayOfYear'][0]): Return['dayOfYear'] {\n    if (!ES.IsTemporalCalendar(this)) throw new TypeError('invalid receiver');\n    const date = ES.ToTemporalDate(dateParam);\n    return impl[GetSlot(this, CALENDAR_ID)].dayOfYear(date);\n  }\n  weekOfYear(dateParam: Params['weekOfYear'][0]): Return['weekOfYear'] {\n    if (!ES.IsTemporalCalendar(this)) throw new TypeError('invalid receiver');\n    const date = ES.ToTemporalDate(dateParam);\n    return impl[GetSlot(this, CALENDAR_ID)].weekOfYear(date);\n  }\n  yearOfWeek(dateParam: Params['yearOfWeek'][0]): Return['yearOfWeek'] {\n    if (!ES.IsTemporalCalendar(this)) throw new TypeError('invalid receiver');\n    const date = ES.ToTemporalDate(dateParam);\n    return impl[GetSlot(this, CALENDAR_ID)].yearOfWeek(date);\n  }\n  daysInWeek(dateParam: Params['daysInWeek'][0]): Return['daysInWeek'] {\n    if (!ES.IsTemporalCalendar(this)) throw new TypeError('invalid receiver');\n    const date = ES.ToTemporalDate(dateParam);\n    return impl[GetSlot(this, CALENDAR_ID)].daysInWeek(date);\n  }\n  daysInMonth(dateParam: Params['daysInMonth'][0]): Return['daysInMonth'] {\n    let date = dateParam;\n    if (!ES.IsTemporalCalendar(this)) throw new TypeError('invalid receiver');\n    if (!ES.IsTemporalYearMonth(date)) date = ES.ToTemporalDate(date);\n    return impl[GetSlot(this, CALENDAR_ID)].daysInMonth(date as Temporal.PlainDate | Temporal.PlainYearMonth);\n  }\n  daysInYear(dateParam: Params['daysInYear'][0]): Return['daysInYear'] {\n    let date = dateParam;\n    if (!ES.IsTemporalCalendar(this)) throw new TypeError('invalid receiver');\n    if (!ES.IsTemporalYearMonth(date)) date = ES.ToTemporalDate(date);\n    return impl[GetSlot(this, CALENDAR_ID)].daysInYear(date as Temporal.PlainDate | Temporal.PlainYearMonth);\n  }\n  monthsInYear(dateParam: Params['monthsInYear'][0]): Return['monthsInYear'] {\n    let date = dateParam;\n    if (!ES.IsTemporalCalendar(this)) throw new TypeError('invalid receiver');\n    if (!ES.IsTemporalYearMonth(date)) date = ES.ToTemporalDate(date);\n    return impl[GetSlot(this, CALENDAR_ID)].monthsInYear(date as Temporal.PlainDate | Temporal.PlainYearMonth);\n  }\n  inLeapYear(dateParam: Params['inLeapYear'][0]): Return['inLeapYear'] {\n    let date = dateParam;\n    if (!ES.IsTemporalCalendar(this)) throw new TypeError('invalid receiver');\n    if (!ES.IsTemporalYearMonth(date)) date = ES.ToTemporalDate(date);\n    return impl[GetSlot(this, CALENDAR_ID)].inLeapYear(date as Temporal.PlainDate | Temporal.PlainYearMonth);\n  }\n  toString(): string {\n    if (!ES.IsTemporalCalendar(this)) throw new TypeError('invalid receiver');\n    return GetSlot(this, CALENDAR_ID);\n  }\n  toJSON(): Return['toJSON'] {\n    if (!ES.IsTemporalCalendar(this)) throw new TypeError('invalid receiver');\n    return GetSlot(this, CALENDAR_ID);\n  }\n  static from(item: Params['from'][0]): Return['from'] {\n    const calendarSlotValue = ES.ToTemporalCalendarSlotValue(item);\n    return ES.ToTemporalCalendarObject(calendarSlotValue);\n  }\n  [Symbol.toStringTag]!: 'Temporal.Calendar';\n}\n\nMakeIntrinsicClass(Calendar, 'Temporal.Calendar');\nDefineIntrinsic('Temporal.Calendar.from', Calendar.from);\nDefineIntrinsic('Temporal.Calendar.prototype.dateAdd', Calendar.prototype.dateAdd);\nDefineIntrinsic('Temporal.Calendar.prototype.dateFromFields', Calendar.prototype.dateFromFields);\nDefineIntrinsic('Temporal.Calendar.prototype.dateUntil', Calendar.prototype.dateUntil);\nDefineIntrinsic('Temporal.Calendar.prototype.day', Calendar.prototype.day);\nDefineIntrinsic('Temporal.Calendar.prototype.dayOfWeek', Calendar.prototype.dayOfWeek);\nDefineIntrinsic('Temporal.Calendar.prototype.dayOfYear', Calendar.prototype.dayOfYear);\nDefineIntrinsic('Temporal.Calendar.prototype.daysInMonth', Calendar.prototype.daysInMonth);\nDefineIntrinsic('Temporal.Calendar.prototype.daysInWeek', Calendar.prototype.daysInWeek);\nDefineIntrinsic('Temporal.Calendar.prototype.daysInYear', Calendar.prototype.daysInYear);\nDefineIntrinsic('Temporal.Calendar.prototype.era', Calendar.prototype.era);\nDefineIntrinsic('Temporal.Calendar.prototype.eraYear', Calendar.prototype.eraYear);\nDefineIntrinsic('Temporal.Calendar.prototype.fields', Calendar.prototype.fields);\nDefineIntrinsic('Temporal.Calendar.prototype.inLeapYear', Calendar.prototype.inLeapYear);\nDefineIntrinsic('Temporal.Calendar.prototype.mergeFields', Calendar.prototype.mergeFields);\nDefineIntrinsic('Temporal.Calendar.prototype.month', Calendar.prototype.month);\nDefineIntrinsic('Temporal.Calendar.prototype.monthCode', Calendar.prototype.monthCode);\nDefineIntrinsic('Temporal.Calendar.prototype.monthDayFromFields', Calendar.prototype.monthDayFromFields);\nDefineIntrinsic('Temporal.Calendar.prototype.monthsInYear', Calendar.prototype.monthsInYear);\nDefineIntrinsic('Temporal.Calendar.prototype.weekOfYear', Calendar.prototype.weekOfYear);\nDefineIntrinsic('Temporal.Calendar.prototype.year', Calendar.prototype.year);\nDefineIntrinsic('Temporal.Calendar.prototype.yearMonthFromFields', Calendar.prototype.yearMonthFromFields);\nDefineIntrinsic('Temporal.Calendar.prototype.yearOfWeek', Calendar.prototype.yearOfWeek);\n\n/**\n * Implementation for the ISO 8601 calendar. This is the only calendar that's\n * guaranteed to be supported by all ECMAScript implementations, including those\n * without Intl (ECMA-402) support.\n */\nimpl['iso8601'] = {\n  dateFromFields(fieldsParam, options, calendarSlotValue) {\n    let fields = ES.PrepareTemporalFields(fieldsParam, ['day', 'month', 'monthCode', 'year'], ['year', 'day']);\n    const overflow = ES.ToTemporalOverflow(options);\n    fields = resolveNonLunisolarMonth(fields);\n    let { year, month, day } = fields;\n    ({ year, month, day } = ES.RegulateISODate(year, month, day, overflow));\n    return ES.CreateTemporalDate(year, month, day, calendarSlotValue);\n  },\n  yearMonthFromFields(fieldsParam, options, calendarSlotValue) {\n    let fields = ES.PrepareTemporalFields(fieldsParam, ['month', 'monthCode', 'year'], ['year']);\n    const overflow = ES.ToTemporalOverflow(options);\n    fields = resolveNonLunisolarMonth(fields);\n    let { year, month } = fields;\n    ({ year, month } = ES.RegulateISOYearMonth(year, month, overflow));\n    return ES.CreateTemporalYearMonth(year, month, calendarSlotValue, /* referenceISODay = */ 1);\n  },\n  monthDayFromFields(fieldsParam, options, calendarSlotValue) {\n    let fields = ES.PrepareTemporalFields(fieldsParam, ['day', 'month', 'monthCode', 'year'], ['day']);\n    const overflow = ES.ToTemporalOverflow(options);\n    if (fields.month !== undefined && fields.year === undefined && fields.monthCode === undefined) {\n      throw new TypeError('either year or monthCode required with month');\n    }\n    const useYear = fields.monthCode === undefined;\n    const referenceISOYear = 1972;\n    fields = resolveNonLunisolarMonth(fields);\n    let { month, day, year } = fields;\n    ({ month, day } = ES.RegulateISODate(useYear ? year : referenceISOYear, month, day, overflow));\n    return ES.CreateTemporalMonthDay(month, day, calendarSlotValue, referenceISOYear);\n  },\n  fields(fields) {\n    return fields;\n  },\n  fieldKeysToIgnore(keys) {\n    const result = new OriginalSet();\n    for (let ix = 0; ix < keys.length; ix++) {\n      const key = keys[ix];\n      ES.Call(SetPrototypeAdd, result, [key]);\n      if (key === 'month') {\n        ES.Call(SetPrototypeAdd, result, ['monthCode']);\n      } else if (key === 'monthCode') {\n        ES.Call(SetPrototypeAdd, result, ['month']);\n      }\n    }\n    return [...ES.Call(SetPrototypeValues, result, [])];\n  },\n  dateAdd(date, years, months, weeks, days, overflow, calendarSlotValue) {\n    let year = GetSlot(date, ISO_YEAR);\n    let month = GetSlot(date, ISO_MONTH);\n    let day = GetSlot(date, ISO_DAY);\n    ({ year, month, day } = ES.AddISODate(year, month, day, years, months, weeks, days, overflow));\n    return ES.CreateTemporalDate(year, month, day, calendarSlotValue);\n  },\n  dateUntil(one, two, largestUnit) {\n    return ES.DifferenceISODate(\n      GetSlot(one, ISO_YEAR),\n      GetSlot(one, ISO_MONTH),\n      GetSlot(one, ISO_DAY),\n      GetSlot(two, ISO_YEAR),\n      GetSlot(two, ISO_MONTH),\n      GetSlot(two, ISO_DAY),\n      largestUnit\n    );\n  },\n  year(date) {\n    return GetSlot(date, ISO_YEAR);\n  },\n  era() {\n    return undefined;\n  },\n  eraYear() {\n    return undefined;\n  },\n  month(date) {\n    return GetSlot(date, ISO_MONTH);\n  },\n  monthCode(date) {\n    return buildMonthCode(GetSlot(date, ISO_MONTH));\n  },\n  day(date) {\n    return GetSlot(date, ISO_DAY);\n  },\n  dayOfWeek(date) {\n    return ES.DayOfWeek(GetSlot(date, ISO_YEAR), GetSlot(date, ISO_MONTH), GetSlot(date, ISO_DAY));\n  },\n  dayOfYear(date) {\n    return ES.DayOfYear(GetSlot(date, ISO_YEAR), GetSlot(date, ISO_MONTH), GetSlot(date, ISO_DAY));\n  },\n  weekOfYear(date) {\n    return ES.WeekOfYear(GetSlot(date, ISO_YEAR), GetSlot(date, ISO_MONTH), GetSlot(date, ISO_DAY)).week;\n  },\n  yearOfWeek(date) {\n    return ES.WeekOfYear(GetSlot(date, ISO_YEAR), GetSlot(date, ISO_MONTH), GetSlot(date, ISO_DAY)).year;\n  },\n  daysInWeek() {\n    return 7;\n  },\n  daysInMonth(date) {\n    return ES.ISODaysInMonth(GetSlot(date, ISO_YEAR), GetSlot(date, ISO_MONTH));\n  },\n  daysInYear(dateParam) {\n    let date = dateParam;\n    if (!HasSlot(date, ISO_YEAR)) date = ES.ToTemporalDate(date);\n    return ES.LeapYear(GetSlot(date, ISO_YEAR)) ? 366 : 365;\n  },\n  monthsInYear() {\n    return 12;\n  },\n  inLeapYear(dateParam) {\n    let date = dateParam;\n    if (!HasSlot(date, ISO_YEAR)) date = ES.ToTemporalDate(date);\n    return ES.LeapYear(GetSlot(date, ISO_YEAR));\n  }\n};\n\n// Note: Built-in calendars other than iso8601 are not part of the Temporal\n// proposal for ECMA-262. These calendars will be standardized as part of\n// ECMA-402. Code below here includes an implementation of these calendars to\n// validate the Temporal API and to get feedback. However, native non-ISO\n// calendar behavior is at least somewhat implementation-defined, so may not\n// match this polyfill's output exactly.\n//\n// Some ES implementations don't include ECMA-402. For this reason, it's helpful\n// to ensure a clean separation between the ISO calendar implementation which is\n// a part of ECMA-262 and the non-ISO calendar implementation which requires\n// ECMA-402.\n//\n// To ensure this separation, the implementation is split. A `CalendarImpl`\n// interface defines the common operations between both ISO and non-ISO\n// calendars.\n\n/**\n * This type is passed through from Calendar#dateFromFields().\n * `monthExtra` is additional information used internally to identify lunisolar leap months.\n */\ntype CalendarDateFields = Params['dateFromFields'][0] & { monthExtra?: string };\n\n/**\n * This is a \"fully populated\" calendar date record. It's only lacking\n * `era`/`eraYear` (which may not be present in all calendars) and `monthExtra`\n * which is only used in some cases.\n */\ntype FullCalendarDate = {\n  era?: string;\n  eraYear?: number;\n  year: number;\n  month: number;\n  monthCode: string;\n  day: number;\n  monthExtra?: string;\n};\n\n// The types below are various subsets of calendar dates\ntype CalendarYMD = { year: number; month: number; day: number };\ntype CalendarYM = { year: number; month: number };\ntype CalendarYearOnly = { year: number };\ntype EraAndEraYear = { era: string; eraYear: number };\n\n/** Record representing YMD of an ISO calendar date */\ntype IsoYMD = { year: number; month: number; day: number };\n\ntype Overflow = NonNullable<Temporal.AssignmentOptions['overflow']>;\n\nfunction monthCodeNumberPart(monthCode: string) {\n  if (!monthCode.startsWith('M')) {\n    throw new RangeError(`Invalid month code: ${monthCode}.  Month codes must start with M.`);\n  }\n  const month = +monthCode.slice(1);\n  if (isNaN(month)) throw new RangeError(`Invalid month code: ${monthCode}`);\n  return month;\n}\n\nfunction buildMonthCode(month: number | string, leap = false) {\n  return `M${month.toString().padStart(2, '0')}${leap ? 'L' : ''}`;\n}\n\n/**\n * Safely merge a month, monthCode pair into an integer month.\n * If both are present, make sure they match.\n * This logic doesn't work for lunisolar calendars!\n * */\nfunction resolveNonLunisolarMonth<T extends { monthCode?: string; month?: number }>(\n  calendarDate: T,\n  overflow: Overflow | undefined = undefined,\n  monthsPerYear = 12\n) {\n  let { month, monthCode } = calendarDate;\n  if (monthCode === undefined) {\n    if (month === undefined) throw new TypeError('Either month or monthCode are required');\n    // The ISO calendar uses the default (undefined) value because it does\n    // constrain/reject after this method returns. Non-ISO calendars, however,\n    // rely on this function to constrain/reject out-of-range `month` values.\n    if (overflow === 'reject') ES.RejectToRange(month, 1, monthsPerYear);\n    if (overflow === 'constrain') month = ES.ConstrainToRange(month, 1, monthsPerYear);\n    monthCode = buildMonthCode(month);\n  } else {\n    const numberPart = monthCodeNumberPart(monthCode);\n    if (month !== undefined && month !== numberPart) {\n      throw new RangeError(`monthCode ${monthCode} and month ${month} must match if both are present`);\n    }\n    if (monthCode !== buildMonthCode(numberPart)) {\n      throw new RangeError(`Invalid month code: ${monthCode}`);\n    }\n    month = numberPart;\n    if (month < 1 || month > monthsPerYear) throw new RangeError(`Invalid monthCode: ${monthCode}`);\n  }\n  return { ...calendarDate, month, monthCode };\n}\n\ntype CachedTypes = Temporal.PlainYearMonth | Temporal.PlainDate | Temporal.PlainMonthDay;\n\n/**\n * This prototype implementation of non-ISO calendars makes many repeated calls\n * to Intl APIs which may be slow (e.g. >0.2ms). This trivial cache will speed\n * up these repeat accesses. Each cache instance is associated (via a WeakMap)\n * to a specific Temporal object, which speeds up multiple calendar calls on the\n * same Temporal object instance.  No invalidation or pruning is necessary\n * because each object's cache is thrown away when the object is GC-ed.\n */\nclass OneObjectCache {\n  map = new Map();\n  calls = 0;\n  now: number;\n  hits = 0;\n  misses = 0;\n  constructor(cacheToClone?: OneObjectCache) {\n    this.now = globalThis.performance ? globalThis.performance.now() : Date.now();\n    if (cacheToClone !== undefined) {\n      let i = 0;\n      for (const entry of cacheToClone.map.entries()) {\n        if (++i > OneObjectCache.MAX_CACHE_ENTRIES) break;\n        this.map.set(...entry);\n      }\n    }\n  }\n  get(key: string) {\n    const result = this.map.get(key);\n    if (result) {\n      this.hits++;\n      this.report();\n    }\n    this.calls++;\n    return result;\n  }\n  set(key: string, value: unknown) {\n    this.map.set(key, value);\n    this.misses++;\n    this.report();\n  }\n  report() {\n    /*\n    if (this.calls === 0) return;\n    const ms = (globalThis.performance ? globalThis.performance.now() : Date.now()) - this.now;\n    const hitRate = ((100 * this.hits) / this.calls).toFixed(0);\n    console.log(`${this.calls} calls in ${ms.toFixed(2)}ms. Hits: ${this.hits} (${hitRate}%). Misses: ${this.misses}.`);\n    */\n  }\n  setObject(obj: CachedTypes) {\n    if (OneObjectCache.objectMap.get(obj)) throw new RangeError('object already cached');\n    OneObjectCache.objectMap.set(obj, this);\n    this.report();\n  }\n\n  static objectMap = new WeakMap();\n  static MAX_CACHE_ENTRIES = 1000;\n\n  /**\n   * Returns a WeakMap-backed cache that's used to store expensive results\n   * that are associated with a particular Temporal object instance.\n   *\n   * @param obj - object to associate with the cache\n   */\n  static getCacheForObject(obj: CachedTypes) {\n    let cache = OneObjectCache.objectMap.get(obj);\n    if (!cache) {\n      cache = new OneObjectCache();\n      OneObjectCache.objectMap.set(obj, cache);\n    }\n    return cache;\n  }\n}\n\nfunction toUtcIsoDateString({ isoYear, isoMonth, isoDay }: { isoYear: number; isoMonth: number; isoDay: number }) {\n  const yearString = ES.ISOYearString(isoYear);\n  const monthString = ES.ISODateTimePartString(isoMonth);\n  const dayString = ES.ISODateTimePartString(isoDay);\n  return `${yearString}-${monthString}-${dayString}T00:00Z`;\n}\n\nfunction simpleDateDiff(one: CalendarYMD, two: CalendarYMD) {\n  return {\n    years: one.year - two.year,\n    months: one.month - two.month,\n    days: one.day - two.day\n  };\n}\n\n/**\n * Implementation helper that's common to all non-ISO calendars\n */\nabstract class HelperBase {\n  abstract id: BuiltinCalendarId;\n  abstract monthsInYear(calendarDate: CalendarYearOnly, cache?: OneObjectCache): number;\n  abstract maximumMonthLength(calendarDate?: CalendarYM): number;\n  abstract minimumMonthLength(calendarDate?: CalendarYM): number;\n  abstract estimateIsoDate(calendarDate: CalendarYMD): IsoYMD;\n  abstract inLeapYear(calendarDate: CalendarYearOnly, cache?: OneObjectCache): boolean;\n  abstract calendarType: 'solar' | 'lunar' | 'lunisolar';\n  reviseIntlEra?<T extends Partial<EraAndEraYear>>(calendarDate: T, isoDate: IsoYMD): T;\n  constantEra?: string;\n  checkIcuBugs?(isoDate: IsoYMD): void;\n  private formatter?: globalThis.Intl.DateTimeFormat;\n  getFormatter() {\n    // `new Intl.DateTimeFormat()` is amazingly slow and chews up RAM. Per\n    // https://bugs.chromium.org/p/v8/issues/detail?id=6528#c4, we cache one\n    // DateTimeFormat instance per calendar. Caching is lazy so we only pay for\n    // calendars that are used. Note that the nonIsoHelperBase object is spread\n    // into each each calendar's implementation before any cache is created, so\n    // each calendar gets its own separate cached formatter.\n    if (typeof this.formatter === 'undefined') {\n      this.formatter = new IntlDateTimeFormat(`en-US-u-ca-${this.id}`, {\n        day: 'numeric',\n        month: 'numeric',\n        year: 'numeric',\n        era: this.eraLength,\n        timeZone: 'UTC'\n      });\n    }\n    return this.formatter;\n  }\n  isoToCalendarDate(isoDate: IsoYMD, cache: OneObjectCache): FullCalendarDate {\n    const { year: isoYear, month: isoMonth, day: isoDay } = isoDate;\n    const key = JSON.stringify({ func: 'isoToCalendarDate', isoYear, isoMonth, isoDay, id: this.id });\n    const cached = cache.get(key);\n    if (cached) return cached;\n\n    const dateTimeFormat = this.getFormatter();\n    let parts, isoString;\n    try {\n      isoString = toUtcIsoDateString({ isoYear, isoMonth, isoDay });\n      parts = dateTimeFormat.formatToParts(new Date(isoString));\n    } catch (e: unknown) {\n      throw new RangeError(`Invalid ISO date: ${JSON.stringify({ isoYear, isoMonth, isoDay })}`);\n    }\n    const result: Partial<FullCalendarDate> = {};\n    for (let { type, value } of parts) {\n      if (type === 'year') result.eraYear = +value;\n      // TODO: remove this type annotation when `relatedYear` gets into TS lib types\n      if (type === ('relatedYear' as Intl.DateTimeFormatPartTypes)) result.eraYear = +value;\n      if (type === 'month') {\n        const matches = /^([0-9]*)(.*?)$/.exec(value);\n        if (!matches || matches.length != 3 || (!matches[1] && !matches[2])) {\n          throw new RangeError(`Unexpected month: ${value}`);\n        }\n        // If the month has no numeric part (should only see this for the Hebrew\n        // calendar with newer FF / Chromium versions; see\n        // https://bugzilla.mozilla.org/show_bug.cgi?id=1751833) then set a\n        // placeholder month index of `1` and rely on the derived class to\n        // calculate the correct month index from the month name stored in\n        // `monthExtra`.\n        result.month = matches[1] ? +matches[1] : 1;\n        if (result.month < 1) {\n          throw new RangeError(\n            `Invalid month ${value} from ${isoString}[u-ca-${this.id}]` +\n              ' (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10527)'\n          );\n        }\n        if (result.month > 13) {\n          throw new RangeError(\n            `Invalid month ${value} from ${isoString}[u-ca-${this.id}]` +\n              ' (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10529)'\n          );\n        }\n\n        // The ICU formats for the Hebrew calendar no longer support a numeric\n        // month format. So we'll rely on the derived class to interpret it.\n        // `monthExtra` is also used on the Chinese calendar to handle a suffix\n        // \"bis\" indicating a leap month.\n        if (matches[2]) result.monthExtra = matches[2];\n      }\n      if (type === 'day') result.day = +value;\n      if (this.hasEra && type === 'era' && value != null && value !== '') {\n        // The convention for Temporal era values is lowercase, so following\n        // that convention in this prototype. Punctuation is removed, accented\n        // letters are normalized, and spaces are replaced with dashes.\n        // E.g.: \"ERA0\" => \"era0\", \"Before R.O.C.\" => \"before-roc\", \"En’ō\" => \"eno\"\n        // The call to normalize() and the replacement regex deals with era\n        // names that contain non-ASCII characters like Japanese eras. Also\n        // ignore extra content in parentheses like JPN era date ranges.\n        value = value.split(' (')[0];\n        result.era = value\n          .normalize('NFD')\n          .replace(/[^-0-9 \\p{L}]/gu, '')\n          .replace(' ', '-')\n          .toLowerCase();\n      }\n    }\n    if (result.eraYear === undefined) {\n      // Node 12 has outdated ICU data that lacks the `relatedYear` field in the\n      // output of Intl.DateTimeFormat.formatToParts.\n      throw new RangeError(\n        `Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`\n      );\n    }\n    // Translate eras that may be handled differently by Temporal vs. by Intl\n    // (e.g. Japanese pre-Meiji eras). See https://github.com/tc39/proposal-temporal/issues/526.\n    if (this.reviseIntlEra) {\n      const { era, eraYear } = this.reviseIntlEra(result, isoDate);\n      result.era = era;\n      result.eraYear = eraYear;\n    }\n    if (this.checkIcuBugs) this.checkIcuBugs(isoDate);\n\n    const calendarDate = this.adjustCalendarDate(result, cache, 'constrain', true);\n    if (calendarDate.year === undefined) throw new RangeError(`Missing year converting ${JSON.stringify(isoDate)}`);\n    if (calendarDate.month === undefined) throw new RangeError(`Missing month converting ${JSON.stringify(isoDate)}`);\n    if (calendarDate.day === undefined) throw new RangeError(`Missing day converting ${JSON.stringify(isoDate)}`);\n    cache.set(key, calendarDate);\n    // Also cache the reverse mapping\n    ['constrain', 'reject'].forEach((overflow) => {\n      const keyReverse = JSON.stringify({\n        func: 'calendarToIsoDate',\n        year: calendarDate.year,\n        month: calendarDate.month,\n        day: calendarDate.day,\n        overflow,\n        id: this.id\n      });\n      cache.set(keyReverse, isoDate);\n    });\n    return calendarDate;\n  }\n  validateCalendarDate(calendarDate: Partial<FullCalendarDate>): asserts calendarDate is FullCalendarDate {\n    const { era, month, year, day, eraYear, monthCode, monthExtra } = calendarDate;\n    // When there's a suffix (e.g. \"5bis\" for a leap month in Chinese calendar)\n    // the derived class must deal with it.\n    if (monthExtra !== undefined) throw new RangeError('Unexpected `monthExtra` value');\n    if (year === undefined && eraYear === undefined) throw new TypeError('year or eraYear is required');\n    if (month === undefined && monthCode === undefined) throw new TypeError('month or monthCode is required');\n    if (day === undefined) throw new RangeError('Missing day');\n    if (monthCode !== undefined) {\n      if (typeof monthCode !== 'string') {\n        throw new RangeError(`monthCode must be a string, not ${typeof monthCode}`);\n      }\n      if (!/^M([01]?\\d)(L?)$/.test(monthCode)) throw new RangeError(`Invalid monthCode: ${monthCode}`);\n    }\n    if (this.constantEra) {\n      if (era !== undefined && era !== this.constantEra) {\n        throw new RangeError(`era must be ${this.constantEra}, not ${era}`);\n      }\n      if (eraYear !== undefined && year !== undefined && eraYear !== year) {\n        throw new RangeError(`eraYear ${eraYear} does not match year ${year}`);\n      }\n    }\n    if (this.hasEra) {\n      if ((calendarDate['era'] === undefined) !== (calendarDate['eraYear'] === undefined)) {\n        throw new RangeError(\"properties 'era' and 'eraYear' must be provided together\");\n      }\n    }\n  }\n  /**\n   * Allows derived calendars to add additional fields and/or to make\n   * adjustments e.g. to set the era based on the date or to revise the month\n   * number in lunisolar calendars per\n   * https://github.com/tc39/proposal-temporal/issues/1203.\n   *\n   * The base implementation fills in missing values by assuming the simplest\n   * possible calendar:\n   * - no eras or a constant era defined in `.constantEra`\n   * - non-lunisolar calendar (no leap months)\n   * */\n  adjustCalendarDate(\n    calendarDateParam: Partial<FullCalendarDate>,\n    cache: OneObjectCache | undefined = undefined,\n    overflow: Overflow = 'constrain',\n    // This param is only used by derived classes\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    fromLegacyDate = false\n  ): FullCalendarDate {\n    if (this.calendarType === 'lunisolar') throw new RangeError('Override required for lunisolar calendars');\n    let calendarDate = calendarDateParam;\n    this.validateCalendarDate(calendarDate);\n    // For calendars that always use the same era, set it here so that derived\n    // calendars won't need to implement this method simply to set the era.\n    if (this.constantEra) {\n      // year and eraYear always match when there's only one possible era\n      const { year, eraYear } = calendarDate;\n      calendarDate = {\n        ...calendarDate,\n        era: this.constantEra,\n        year: year !== undefined ? year : eraYear,\n        eraYear: eraYear !== undefined ? eraYear : year\n      };\n    }\n\n    const largestMonth = this.monthsInYear(calendarDate as CalendarYearOnly, cache);\n    let { month, monthCode } = calendarDate;\n\n    ({ month, monthCode } = resolveNonLunisolarMonth(calendarDate, overflow, largestMonth));\n    return { ...(calendarDate as typeof calendarDate & CalendarYMD), month, monthCode };\n  }\n  regulateMonthDayNaive(calendarDate: FullCalendarDate, overflow: Overflow, cache: OneObjectCache): FullCalendarDate {\n    const largestMonth = this.monthsInYear(calendarDate, cache);\n    let { month, day } = calendarDate;\n    if (overflow === 'reject') {\n      ES.RejectToRange(month, 1, largestMonth);\n      ES.RejectToRange(day, 1, this.maximumMonthLength(calendarDate));\n    } else {\n      month = ES.ConstrainToRange(month, 1, largestMonth);\n      day = ES.ConstrainToRange(day, 1, this.maximumMonthLength({ ...calendarDate, month }));\n    }\n    return { ...calendarDate, month, day };\n  }\n  calendarToIsoDate(dateParam: CalendarDateFields, overflow: Overflow = 'constrain', cache: OneObjectCache): IsoYMD {\n    const originalDate = dateParam as Partial<FullCalendarDate>;\n    // First, normalize the calendar date to ensure that (year, month, day)\n    // are all present, converting monthCode and eraYear if needed.\n    let date = this.adjustCalendarDate(dateParam, cache, overflow, false);\n\n    // Fix obviously out-of-bounds values. Values that are valid generally, but\n    // not in this particular year, may not be caught here for some calendars.\n    // If so, these will be handled lower below.\n    date = this.regulateMonthDayNaive(date, overflow, cache);\n\n    const { year, month, day } = date;\n    const key = JSON.stringify({ func: 'calendarToIsoDate', year, month, day, overflow, id: this.id });\n    let cached = cache.get(key);\n    if (cached) return cached;\n    // If YMD are present in the input but the input has been constrained\n    // already, then cache both the original value and the constrained value.\n    let keyOriginal;\n    if (\n      originalDate.year !== undefined &&\n      originalDate.month !== undefined &&\n      originalDate.day !== undefined &&\n      (originalDate.year !== date.year || originalDate.month !== date.month || originalDate.day !== date.day)\n    ) {\n      keyOriginal = JSON.stringify({\n        func: 'calendarToIsoDate',\n        year: originalDate.year,\n        month: originalDate.month,\n        day: originalDate.day,\n        overflow,\n        id: this.id\n      });\n      cached = cache.get(keyOriginal);\n      if (cached) return cached;\n    }\n\n    // First, try to roughly guess the result\n    let isoEstimate = this.estimateIsoDate({ year, month, day });\n    const calculateSameMonthResult = (diffDays: number) => {\n      // If the estimate is in the same year & month as the target, then we can\n      // calculate the result exactly and short-circuit any additional logic.\n      // This optimization assumes that months are continuous. It would break if\n      // a calendar skipped days, like the Julian->Gregorian switchover. But the\n      // only ICU calendars that currently skip days (japanese/roc/buddhist) is\n      // a bug (https://bugs.chromium.org/p/chromium/issues/detail?id=1173158)\n      // that's currently detected by `checkIcuBugs()` which will throw. So\n      // this optimization should be safe for all ICU calendars.\n      let testIsoEstimate = this.addDaysIso(isoEstimate, diffDays);\n      if (date.day > this.minimumMonthLength(date)) {\n        // There's a chance that the calendar date is out of range. Throw or\n        // constrain if so.\n        let testCalendarDate = this.isoToCalendarDate(testIsoEstimate, cache);\n        while (testCalendarDate.month !== month || testCalendarDate.year !== year) {\n          if (overflow === 'reject') {\n            throw new RangeError(`day ${day} does not exist in month ${month} of year ${year}`);\n          }\n          // Back up a day at a time until we're not hanging over the month end\n          testIsoEstimate = this.addDaysIso(testIsoEstimate, -1);\n          testCalendarDate = this.isoToCalendarDate(testIsoEstimate, cache);\n        }\n      }\n      return testIsoEstimate;\n    };\n    let sign = 0;\n    let roundtripEstimate = this.isoToCalendarDate(isoEstimate, cache);\n    let diff = simpleDateDiff(date, roundtripEstimate);\n    if (diff.years !== 0 || diff.months !== 0 || diff.days !== 0) {\n      const diffTotalDaysEstimate = diff.years * 365 + diff.months * 30 + diff.days;\n      isoEstimate = this.addDaysIso(isoEstimate, diffTotalDaysEstimate);\n      roundtripEstimate = this.isoToCalendarDate(isoEstimate, cache);\n      diff = simpleDateDiff(date, roundtripEstimate);\n      if (diff.years === 0 && diff.months === 0) {\n        isoEstimate = calculateSameMonthResult(diff.days);\n      } else {\n        sign = this.compareCalendarDates(date, roundtripEstimate);\n      }\n    }\n    // If the initial guess is not in the same month, then then bisect the\n    // distance to the target, starting with 8 days per step.\n    let increment = 8;\n    while (sign) {\n      isoEstimate = this.addDaysIso(isoEstimate, sign * increment);\n      const oldRoundtripEstimate = roundtripEstimate;\n      roundtripEstimate = this.isoToCalendarDate(isoEstimate, cache);\n      const oldSign = sign;\n      sign = this.compareCalendarDates(date, roundtripEstimate);\n      if (sign) {\n        diff = simpleDateDiff(date, roundtripEstimate);\n        if (diff.years === 0 && diff.months === 0) {\n          isoEstimate = calculateSameMonthResult(diff.days);\n          // Signal the loop condition that there's a match.\n          sign = 0;\n        } else if (oldSign && sign !== oldSign) {\n          if (increment > 1) {\n            // If the estimate overshot the target, try again with a smaller increment\n            // in the reverse direction.\n            increment /= 2;\n          } else {\n            // Increment is 1, and neither the previous estimate nor the new\n            // estimate is correct. The only way that can happen is if the\n            // original date was an invalid value that will be constrained or\n            // rejected here.\n            if (overflow === 'reject') {\n              throw new RangeError(`Can't find ISO date from calendar date: ${JSON.stringify({ ...originalDate })}`);\n            } else {\n              // To constrain, pick the earliest value\n              const order = this.compareCalendarDates(roundtripEstimate, oldRoundtripEstimate);\n              // If current value is larger, then back up to the previous value.\n              if (order > 0) isoEstimate = this.addDaysIso(isoEstimate, -1);\n              sign = 0;\n            }\n          }\n        }\n      }\n    }\n    cache.set(key, isoEstimate);\n    if (keyOriginal) cache.set(keyOriginal, isoEstimate);\n    if (\n      date.year === undefined ||\n      date.month === undefined ||\n      date.day === undefined ||\n      date.monthCode === undefined ||\n      (this.hasEra && (date.era === undefined || date.eraYear === undefined))\n    ) {\n      throw new RangeError('Unexpected missing property');\n    }\n    return isoEstimate;\n  }\n  temporalToCalendarDate(\n    date: Temporal.PlainDate | Temporal.PlainMonthDay | Temporal.PlainYearMonth,\n    cache: OneObjectCache\n  ): FullCalendarDate {\n    const isoDate = { year: GetSlot(date, ISO_YEAR), month: GetSlot(date, ISO_MONTH), day: GetSlot(date, ISO_DAY) };\n    const result = this.isoToCalendarDate(isoDate, cache);\n    return result;\n  }\n  compareCalendarDates(date1Param: Partial<CalendarYMD>, date2Param: Partial<CalendarYMD>): 0 | 1 | -1 {\n    // `date1` and `date2` are already records. The calls below simply validate\n    // that all three required fields are present.\n    const date1 = ES.PrepareTemporalFields(date1Param, ['day', 'month', 'year'], ['day', 'month', 'year']);\n    const date2 = ES.PrepareTemporalFields(date2Param, ['day', 'month', 'year'], ['day', 'month', 'year']);\n    if (date1.year !== date2.year) return ES.ComparisonResult(date1.year - date2.year);\n    if (date1.month !== date2.month) return ES.ComparisonResult(date1.month - date2.month);\n    if (date1.day !== date2.day) return ES.ComparisonResult(date1.day - date2.day);\n    return 0;\n  }\n  /** Ensure that a calendar date actually exists. If not, return the closest earlier date. */\n  regulateDate(calendarDate: CalendarYMD, overflow: Overflow = 'constrain', cache: OneObjectCache): FullCalendarDate {\n    const isoDate = this.calendarToIsoDate(calendarDate, overflow, cache);\n    return this.isoToCalendarDate(isoDate, cache);\n  }\n  addDaysIso(isoDate: IsoYMD, days: number): IsoYMD {\n    const added = ES.AddISODate(isoDate.year, isoDate.month, isoDate.day, 0, 0, 0, days, 'constrain');\n    return added;\n  }\n  addDaysCalendar(calendarDate: CalendarYMD, days: number, cache: OneObjectCache): FullCalendarDate {\n    const isoDate = this.calendarToIsoDate(calendarDate, 'constrain', cache);\n    const addedIso = this.addDaysIso(isoDate, days);\n    const addedCalendar = this.isoToCalendarDate(addedIso, cache);\n    return addedCalendar;\n  }\n  addMonthsCalendar(\n    calendarDateParam: CalendarYMD,\n    months: number,\n    overflow: Overflow,\n    cache: OneObjectCache\n  ): CalendarYMD {\n    let calendarDate = calendarDateParam;\n    const { day } = calendarDate;\n    for (let i = 0, absMonths = MathAbs(months); i < absMonths; i++) {\n      const { month } = calendarDate;\n      const oldCalendarDate = calendarDate;\n      const days =\n        months < 0\n          ? -Math.max(day, this.daysInPreviousMonth(calendarDate, cache))\n          : this.daysInMonth(calendarDate, cache);\n      const isoDate = this.calendarToIsoDate(calendarDate, 'constrain', cache);\n      let addedIso = this.addDaysIso(isoDate, days);\n      calendarDate = this.isoToCalendarDate(addedIso, cache);\n\n      // Normally, we can advance one month by adding the number of days in the\n      // current month. However, if we're at the end of the current month and\n      // the next month has fewer days, then we rolled over to the after-next\n      // month. Below we detect this condition and back up until we're back in\n      // the desired month.\n      if (months > 0) {\n        const monthsInOldYear = this.monthsInYear(oldCalendarDate, cache);\n        while (calendarDate.month - 1 !== month % monthsInOldYear) {\n          addedIso = this.addDaysIso(addedIso, -1);\n          calendarDate = this.isoToCalendarDate(addedIso, cache);\n        }\n      }\n\n      if (calendarDate.day !== day) {\n        // try to retain the original day-of-month, if possible\n        calendarDate = this.regulateDate({ ...calendarDate, day }, 'constrain', cache);\n      }\n    }\n    if (overflow === 'reject' && calendarDate.day !== day) {\n      throw new RangeError(`Day ${day} does not exist in resulting calendar month`);\n    }\n    return calendarDate;\n  }\n  addCalendar(\n    calendarDate: CalendarYMD & { monthCode: string },\n    { years = 0, months = 0, weeks = 0, days = 0 },\n    overflow: Overflow,\n    cache: OneObjectCache\n  ): FullCalendarDate {\n    const { year, day, monthCode } = calendarDate;\n    const addedYears = this.adjustCalendarDate({ year: year + years, monthCode, day }, cache);\n    const addedMonths = this.addMonthsCalendar(addedYears, months, overflow, cache);\n    const initialDays = days + weeks * 7;\n    const addedDays = this.addDaysCalendar(addedMonths, initialDays, cache);\n    return addedDays;\n  }\n  untilCalendar(\n    calendarOne: FullCalendarDate,\n    calendarTwo: FullCalendarDate,\n    largestUnit: Temporal.DateUnit,\n    cache: OneObjectCache\n  ): { years: number; months: number; weeks: number; days: number } {\n    let days = 0;\n    let weeks = 0;\n    let months = 0;\n    let years = 0;\n    switch (largestUnit) {\n      case 'day':\n        days = this.calendarDaysUntil(calendarOne, calendarTwo, cache);\n        break;\n      case 'week': {\n        const totalDays = this.calendarDaysUntil(calendarOne, calendarTwo, cache);\n        days = totalDays % 7;\n        weeks = (totalDays - days) / 7;\n        break;\n      }\n      case 'month':\n      case 'year': {\n        const sign = this.compareCalendarDates(calendarTwo, calendarOne);\n        if (!sign) {\n          return { years: 0, months: 0, weeks: 0, days: 0 };\n        }\n        const diffYears = calendarTwo.year - calendarOne.year;\n        const diffDays = calendarTwo.day - calendarOne.day;\n        if (largestUnit === 'year' && diffYears) {\n          let diffInYearSign = 0;\n          if (calendarTwo.monthCode > calendarOne.monthCode) diffInYearSign = 1;\n          if (calendarTwo.monthCode < calendarOne.monthCode) diffInYearSign = -1;\n          if (!diffInYearSign) diffInYearSign = Math.sign(diffDays);\n          const isOneFurtherInYear = diffInYearSign * sign < 0;\n          years = isOneFurtherInYear ? diffYears - sign : diffYears;\n        }\n        const yearsAdded = years ? this.addCalendar(calendarOne, { years }, 'constrain', cache) : calendarOne;\n        // Now we have less than one year remaining. Add one month at a time\n        // until we go over the target, then back up one month and calculate\n        // remaining days and weeks.\n        let current;\n        let next: CalendarYMD = yearsAdded;\n        do {\n          months += sign;\n          current = next;\n          next = this.addMonthsCalendar(current, sign, 'constrain', cache);\n          if (next.day !== calendarOne.day) {\n            // In case the day was constrained down, try to un-constrain it\n            next = this.regulateDate({ ...next, day: calendarOne.day }, 'constrain', cache);\n          }\n        } while (this.compareCalendarDates(calendarTwo, next) * sign >= 0);\n        months -= sign; // correct for loop above which overshoots by 1\n        const remainingDays = this.calendarDaysUntil(current, calendarTwo, cache);\n        days = remainingDays;\n        break;\n      }\n    }\n    return { years, months, weeks, days };\n  }\n  daysInMonth(calendarDate: CalendarYMD, cache: OneObjectCache): number {\n    // Add enough days to roll over to the next month. One we're in the next\n    // month, we can calculate the length of the current month. NOTE: This\n    // algorithm assumes that months are continuous. It would break if a\n    // calendar skipped days, like the Julian->Gregorian switchover. But the\n    // only ICU calendars that currently skip days (japanese/roc/buddhist) is a\n    // bug (https://bugs.chromium.org/p/chromium/issues/detail?id=1173158)\n    // that's currently detected by `checkIcuBugs()` which will throw. So this\n    // code should be safe for all ICU calendars.\n    const { day } = calendarDate;\n    const max = this.maximumMonthLength(calendarDate);\n    const min = this.minimumMonthLength(calendarDate);\n    // easiest case: we already know the month length if min and max are the same.\n    if (min === max) return min;\n\n    // Add enough days to get into the next month, without skipping it\n    const increment = day <= max - min ? max : min;\n    const isoDate = this.calendarToIsoDate(calendarDate, 'constrain', cache);\n    const addedIsoDate = this.addDaysIso(isoDate, increment);\n    const addedCalendarDate = this.isoToCalendarDate(addedIsoDate, cache);\n\n    // Now back up to the last day of the original month\n    const endOfMonthIso = this.addDaysIso(addedIsoDate, -addedCalendarDate.day);\n    const endOfMonthCalendar = this.isoToCalendarDate(endOfMonthIso, cache);\n    return endOfMonthCalendar.day;\n  }\n  daysInPreviousMonth(calendarDate: CalendarYMD, cache: OneObjectCache): number {\n    const { day, month, year } = calendarDate;\n\n    // Check to see if we already know the month length, and return it if so\n    const previousMonthYear = month > 1 ? year : year - 1;\n    let previousMonthDate = { year: previousMonthYear, month, day: 1 };\n    const previousMonth = month > 1 ? month - 1 : this.monthsInYear(previousMonthDate, cache);\n    previousMonthDate = { ...previousMonthDate, month: previousMonth };\n    const min = this.minimumMonthLength(previousMonthDate);\n    const max = this.maximumMonthLength(previousMonthDate);\n    if (min === max) return max;\n\n    const isoDate = this.calendarToIsoDate(calendarDate, 'constrain', cache);\n    const lastDayOfPreviousMonthIso = this.addDaysIso(isoDate, -day);\n    const lastDayOfPreviousMonthCalendar = this.isoToCalendarDate(lastDayOfPreviousMonthIso, cache);\n    return lastDayOfPreviousMonthCalendar.day;\n  }\n  startOfCalendarYear(calendarDate: CalendarYearOnly): CalendarYMD & { monthCode: string } {\n    return { year: calendarDate.year, month: 1, monthCode: 'M01', day: 1 };\n  }\n  startOfCalendarMonth(calendarDate: CalendarYM): CalendarYMD {\n    return { year: calendarDate.year, month: calendarDate.month, day: 1 };\n  }\n  calendarDaysUntil(calendarOne: CalendarYMD, calendarTwo: CalendarYMD, cache: OneObjectCache): number {\n    const oneIso = this.calendarToIsoDate(calendarOne, 'constrain', cache);\n    const twoIso = this.calendarToIsoDate(calendarTwo, 'constrain', cache);\n    return this.isoDaysUntil(oneIso, twoIso);\n  }\n  isoDaysUntil(oneIso: IsoYMD, twoIso: IsoYMD): number {\n    const duration = ES.DifferenceISODate(\n      oneIso.year,\n      oneIso.month,\n      oneIso.day,\n      twoIso.year,\n      twoIso.month,\n      twoIso.day,\n      'day'\n    );\n    return duration.days;\n  }\n  // The short era format works for all calendars except Japanese, which will\n  // override.\n  eraLength: Intl.DateTimeFormatOptions['era'] = 'short';\n  // All built-in calendars except Chinese/Dangi and Hebrew use an era\n  hasEra = true;\n  // See https://github.com/tc39/proposal-temporal/issues/1784\n  erasBeginMidYear = false;\n  monthDayFromFields(fields: FullCalendarDate, overflow: Overflow, cache: OneObjectCache): IsoYMD {\n    let { monthCode, day } = fields;\n    if (monthCode === undefined) {\n      let { year, era, eraYear } = fields;\n      if (year === undefined && (era === undefined || eraYear === undefined)) {\n        throw new TypeError('when `monthCode` is omitted, `year` (or `era` and `eraYear`) and `month` are required');\n      }\n      // Apply overflow behaviour to year/month/day, to get correct monthCode/day\n      ({ monthCode, day } = this.isoToCalendarDate(this.calendarToIsoDate(fields, overflow, cache), cache));\n    }\n\n    let isoYear, isoMonth, isoDay;\n    let closestCalendar, closestIso;\n    // Look backwards starting from one of the calendar years spanning ISO year\n    // 1972, up to 100 calendar years prior, to find a year that has this month\n    // and day. Normal months and days will match immediately, but for leap days\n    // and leap months we may have to look for a while.\n    const startDateIso = { year: 1972, month: 12, day: 31 };\n    const calendarOfStartDateIso = this.isoToCalendarDate(startDateIso, cache);\n    // Note: relies on lexicographical ordering of monthCodes\n    const calendarYear =\n      calendarOfStartDateIso.monthCode > monthCode ||\n      (calendarOfStartDateIso.monthCode === monthCode && calendarOfStartDateIso.day >= day)\n        ? calendarOfStartDateIso.year\n        : calendarOfStartDateIso.year - 1;\n    for (let i = 0; i < 100; i++) {\n      const testCalendarDate: FullCalendarDate = this.adjustCalendarDate(\n        { day, monthCode, year: calendarYear - i },\n        cache\n      );\n      const isoDate = this.calendarToIsoDate(testCalendarDate, 'constrain', cache);\n      const roundTripCalendarDate = this.isoToCalendarDate(isoDate, cache);\n      ({ year: isoYear, month: isoMonth, day: isoDay } = isoDate);\n      if (roundTripCalendarDate.monthCode === monthCode && roundTripCalendarDate.day === day) {\n        return { month: isoMonth, day: isoDay, year: isoYear };\n      } else if (overflow === 'constrain') {\n        // non-ISO constrain algorithm tries to find the closest date in a matching month\n        if (\n          closestCalendar === undefined ||\n          (roundTripCalendarDate.monthCode === closestCalendar.monthCode &&\n            roundTripCalendarDate.day > closestCalendar.day)\n        ) {\n          closestCalendar = roundTripCalendarDate;\n          closestIso = isoDate;\n        }\n      }\n    }\n    if (overflow === 'constrain' && closestIso !== undefined) return closestIso;\n    throw new RangeError(`No recent ${this.id} year with monthCode ${monthCode} and day ${day}`);\n  }\n}\n\ninterface HebrewMonthInfo {\n  [m: string]: (\n    | {\n        leap: undefined;\n        regular: number;\n      }\n    | {\n        leap: number;\n        regular: undefined;\n      }\n    | {\n        leap: number;\n        regular: number;\n      }\n  ) & {\n    monthCode: string;\n    days:\n      | number\n      | {\n          min: number;\n          max: number;\n        };\n  };\n}\n\nclass HebrewHelper extends HelperBase {\n  id = 'hebrew' as const;\n  calendarType = 'lunisolar' as const;\n  inLeapYear(calendarDate: CalendarYearOnly) {\n    const { year } = calendarDate;\n    // FYI: In addition to adding a month in leap years, the Hebrew calendar\n    // also has per-year changes to the number of days of Heshvan and Kislev.\n    // Given that these can be calculated by counting the number of days in\n    // those months, I assume that these DO NOT need to be exposed as\n    // Hebrew-only prototype fields or methods.\n    return (7 * year + 1) % 19 < 7;\n  }\n  monthsInYear(calendarDate: CalendarYearOnly) {\n    return this.inLeapYear(calendarDate) ? 13 : 12;\n  }\n  minimumMonthLength(calendarDate: CalendarYM) {\n    return this.minMaxMonthLength(calendarDate, 'min');\n  }\n  maximumMonthLength(calendarDate: CalendarYM) {\n    return this.minMaxMonthLength(calendarDate, 'max');\n  }\n  minMaxMonthLength(calendarDate: CalendarYM, minOrMax: 'min' | 'max') {\n    const { month, year } = calendarDate;\n    const monthCode = this.getMonthCode(year, month);\n    const monthInfo = ObjectEntries(this.months).find((m) => m[1].monthCode === monthCode);\n    if (monthInfo === undefined) throw new RangeError(`unmatched Hebrew month: ${month}`);\n    const daysInMonth = monthInfo[1].days;\n    return typeof daysInMonth === 'number' ? daysInMonth : daysInMonth[minOrMax];\n  }\n  /** Take a guess at what ISO date a particular calendar date corresponds to */\n  estimateIsoDate(calendarDate: CalendarYMD) {\n    const { year } = calendarDate;\n    return { year: year - 3760, month: 1, day: 1 };\n  }\n  months: HebrewMonthInfo = {\n    Tishri: { leap: 1, regular: 1, monthCode: 'M01', days: 30 },\n    Heshvan: { leap: 2, regular: 2, monthCode: 'M02', days: { min: 29, max: 30 } },\n    Kislev: { leap: 3, regular: 3, monthCode: 'M03', days: { min: 29, max: 30 } },\n    Tevet: { leap: 4, regular: 4, monthCode: 'M04', days: 29 },\n    Shevat: { leap: 5, regular: 5, monthCode: 'M05', days: 30 },\n    Adar: { leap: undefined, regular: 6, monthCode: 'M06', days: 29 },\n    'Adar I': { leap: 6, regular: undefined, monthCode: 'M05L', days: 30 },\n    'Adar II': { leap: 7, regular: undefined, monthCode: 'M06', days: 29 },\n    Nisan: { leap: 8, regular: 7, monthCode: 'M07', days: 30 },\n    Iyar: { leap: 9, regular: 8, monthCode: 'M08', days: 29 },\n    Sivan: { leap: 10, regular: 9, monthCode: 'M09', days: 30 },\n    Tamuz: { leap: 11, regular: 10, monthCode: 'M10', days: 29 },\n    Av: { leap: 12, regular: 11, monthCode: 'M11', days: 30 },\n    Elul: { leap: 13, regular: 12, monthCode: 'M12', days: 29 }\n  };\n  getMonthCode(year: number, month: number) {\n    if (this.inLeapYear({ year })) {\n      return month === 6 ? buildMonthCode(5, true) : buildMonthCode(month < 6 ? month : month - 1);\n    } else {\n      return buildMonthCode(month);\n    }\n  }\n  override adjustCalendarDate(\n    calendarDate: Partial<FullCalendarDate>,\n    cache?: OneObjectCache,\n    overflow: Overflow = 'constrain',\n    fromLegacyDate = false\n  ): FullCalendarDate {\n    // The incoming type is actually CalendarDate (same as args to\n    // Calendar.dateFromParams) but TS isn't smart enough to follow all the\n    // reassignments below, so as an alternative to 10+ type casts, we'll lie\n    // here and claim that the type has `day` and `year` filled in already.\n    let { year, eraYear, month, monthCode, day, monthExtra } = calendarDate as Omit<\n      typeof calendarDate,\n      'year' | 'day'\n    > & { year: number; day: number };\n    if (year === undefined && eraYear !== undefined) year = eraYear;\n    if (eraYear === undefined && year !== undefined) eraYear = year;\n    if (fromLegacyDate) {\n      // In Pre Node-14 V8, DateTimeFormat.formatToParts `month: 'numeric'`\n      // output returns the numeric equivalent of `month` as a string, meaning\n      // that `'6'` in a leap year is Adar I, while `'6'` in a non-leap year\n      // means Adar. In this case, `month` will already be correct and no action\n      // is needed. However, in Node 14 and later formatToParts returns the name\n      // of the Hebrew month (e.g. \"Tevet\"), so we'll need to look up the\n      // correct `month` using the string name as a key.\n      if (monthExtra) {\n        const monthInfo = this.months[monthExtra];\n        if (!monthInfo) throw new RangeError(`Unrecognized month from formatToParts: ${monthExtra}`);\n        month = this.inLeapYear({ year }) ? monthInfo.leap : monthInfo.regular;\n      }\n      // Because we're getting data from legacy Date, then `month` will always be present\n      monthCode = this.getMonthCode(year, month as number);\n      const result = { year, month: month as number, day, era: undefined as string | undefined, eraYear, monthCode };\n      return result;\n    } else {\n      // When called without input coming from legacy Date output, simply ensure\n      // that all fields are present.\n      this.validateCalendarDate(calendarDate);\n      if (month === undefined) {\n        if ((monthCode as string).endsWith('L')) {\n          if (monthCode !== 'M05L') {\n            throw new RangeError(`Hebrew leap month must have monthCode M05L, not ${monthCode}`);\n          }\n          month = 6;\n          if (!this.inLeapYear({ year })) {\n            if (overflow === 'reject') {\n              throw new RangeError(`Hebrew monthCode M05L is invalid in year ${year} which is not a leap year`);\n            } else {\n              // constrain to same day of next month (Adar)\n              month = 6;\n              monthCode = 'M06';\n            }\n          }\n        } else {\n          month = monthCodeNumberPart(monthCode as string);\n          // if leap month is before this one, the month index is one more than the month code\n          if (this.inLeapYear({ year }) && month >= 6) month++;\n          const largestMonth = this.monthsInYear({ year });\n          if (month < 1 || month > largestMonth) throw new RangeError(`Invalid monthCode: ${monthCode}`);\n        }\n      } else {\n        if (overflow === 'reject') {\n          ES.RejectToRange(month, 1, this.monthsInYear({ year }));\n          ES.RejectToRange(day, 1, this.maximumMonthLength({ year, month }));\n        } else {\n          month = ES.ConstrainToRange(month, 1, this.monthsInYear({ year }));\n          day = ES.ConstrainToRange(day, 1, this.maximumMonthLength({ year, month }));\n        }\n        if (monthCode === undefined) {\n          monthCode = this.getMonthCode(year, month);\n        } else {\n          const calculatedMonthCode = this.getMonthCode(year, month);\n          if (calculatedMonthCode !== monthCode) {\n            throw new RangeError(`monthCode ${monthCode} doesn't correspond to month ${month} in Hebrew year ${year}`);\n          }\n        }\n      }\n      return { ...calendarDate, day, month, monthCode: monthCode as string, year, eraYear };\n    }\n  }\n  // All built-in calendars except Chinese/Dangi and Hebrew use an era\n  override hasEra = false;\n}\n\n/**\n * For Temporal purposes, the Islamic calendar is simple because it's always the\n * same 12 months in the same order.\n */\nabstract class IslamicBaseHelper extends HelperBase {\n  abstract override id: BuiltinCalendarId;\n  calendarType = 'lunar' as const;\n  inLeapYear(calendarDate: CalendarYearOnly, cache: OneObjectCache) {\n    // In leap years, the 12th month has 30 days. In non-leap years: 29.\n    const days = this.daysInMonth({ year: calendarDate.year, month: 12, day: 1 }, cache);\n    return days === 30;\n  }\n  monthsInYear(/* calendarYear, cache */) {\n    return 12;\n  }\n  minimumMonthLength(/* calendarDate */) {\n    return 29;\n  }\n  maximumMonthLength(/* calendarDate */) {\n    return 30;\n  }\n  DAYS_PER_ISLAMIC_YEAR = 354 + 11 / 30;\n  DAYS_PER_ISO_YEAR = 365.2425;\n  override constantEra = 'ah';\n  estimateIsoDate(calendarDate: CalendarYMD) {\n    const { year } = this.adjustCalendarDate(calendarDate);\n    return { year: MathFloor((year * this.DAYS_PER_ISLAMIC_YEAR) / this.DAYS_PER_ISO_YEAR) + 622, month: 1, day: 1 };\n  }\n}\n\n// There are 6 Islamic calendars with the same implementation in this polyfill.\n// They vary only in their ID. They do emit different output from the underlying\n// Intl implementation, but our code for each of them is identical.\nclass IslamicHelper extends IslamicBaseHelper {\n  id = 'islamic' as const;\n}\nclass IslamicUmalquraHelper extends IslamicBaseHelper {\n  id = 'islamic-umalqura' as const;\n}\nclass IslamicTblaHelper extends IslamicBaseHelper {\n  id = 'islamic-tbla' as const;\n}\nclass IslamicCivilHelper extends IslamicBaseHelper {\n  id = 'islamic-civil' as const;\n}\nclass IslamicRgsaHelper extends IslamicBaseHelper {\n  id = 'islamic-rgsa' as const;\n}\nclass IslamicCcHelper extends IslamicBaseHelper {\n  id = 'islamicc' as const;\n}\n\nclass PersianHelper extends HelperBase {\n  id = 'persian' as const;\n  calendarType = 'solar' as const;\n  inLeapYear(calendarDate: CalendarYearOnly, cache: OneObjectCache) {\n    // Same logic (count days in the last month) for Persian as for Islamic,\n    // even though Persian is solar and Islamic is lunar.\n    return IslamicHelper.prototype.inLeapYear.call(this, calendarDate, cache);\n  }\n  monthsInYear(/* calendarYear, cache */) {\n    return 12;\n  }\n  minimumMonthLength(calendarDate: CalendarYM) {\n    const { month } = calendarDate;\n    if (month === 12) return 29;\n    return month <= 6 ? 31 : 30;\n  }\n  maximumMonthLength(calendarDate: CalendarYM) {\n    const { month } = calendarDate;\n    if (month === 12) return 30;\n    return month <= 6 ? 31 : 30;\n  }\n  override constantEra = 'ap';\n  estimateIsoDate(calendarDate: CalendarYMD) {\n    const { year } = this.adjustCalendarDate(calendarDate);\n    return { year: year + 621, month: 1, day: 1 };\n  }\n}\n\ninterface IndianMonthInfo {\n  [month: number]: {\n    length: number;\n    month: number;\n    day: number;\n    leap?: {\n      length: number;\n      month: number;\n      day: number;\n    };\n    nextYear?: true | undefined;\n  };\n}\n\nclass IndianHelper extends HelperBase {\n  id = 'indian' as const;\n  calendarType = 'solar' as const;\n  inLeapYear(calendarDate: CalendarYearOnly) {\n    // From https://en.wikipedia.org/wiki/Indian_national_calendar:\n    // Years are counted in the Saka era, which starts its year 0 in the year 78\n    // of the Common Era. To determine leap years, add 78 to the Saka year – if\n    // the result is a leap year in the Gregorian calendar, then the Saka year\n    // is a leap year as well.\n    return isGregorianLeapYear(calendarDate.year + 78);\n  }\n  monthsInYear(/* calendarYear, cache */) {\n    return 12;\n  }\n  minimumMonthLength(calendarDate: CalendarYM) {\n    return this.getMonthInfo(calendarDate).length;\n  }\n  maximumMonthLength(calendarDate: CalendarYM) {\n    return this.getMonthInfo(calendarDate).length;\n  }\n  override constantEra = 'saka';\n  // Indian months always start at the same well-known Gregorian month and\n  // day. So this conversion is easy and fast. See\n  // https://en.wikipedia.org/wiki/Indian_national_calendar\n  months: IndianMonthInfo = {\n    1: { length: 30, month: 3, day: 22, leap: { length: 31, month: 3, day: 21 } },\n    2: { length: 31, month: 4, day: 21 },\n    3: { length: 31, month: 5, day: 22 },\n    4: { length: 31, month: 6, day: 22 },\n    5: { length: 31, month: 7, day: 23 },\n    6: { length: 31, month: 8, day: 23 },\n    7: { length: 30, month: 9, day: 23 },\n    8: { length: 30, month: 10, day: 23 },\n    9: { length: 30, month: 11, day: 22 },\n    10: { length: 30, month: 12, day: 22 },\n    11: { length: 30, month: 1, nextYear: true, day: 21 },\n    12: { length: 30, month: 2, nextYear: true, day: 20 }\n  };\n  getMonthInfo(calendarDate: CalendarYM) {\n    const { month } = calendarDate;\n    let monthInfo = this.months[month];\n    if (monthInfo === undefined) throw new RangeError(`Invalid month: ${month}`);\n    if (this.inLeapYear(calendarDate) && monthInfo.leap) monthInfo = monthInfo.leap;\n    return monthInfo;\n  }\n  estimateIsoDate(calendarDateParam: CalendarYMD) {\n    // FYI, this \"estimate\" is always the exact ISO date, which makes the Indian\n    // calendar fast!\n    const calendarDate = this.adjustCalendarDate(calendarDateParam);\n    const monthInfo = this.getMonthInfo(calendarDate);\n    const isoYear = calendarDate.year + 78 + (monthInfo.nextYear ? 1 : 0);\n    const isoMonth = monthInfo.month;\n    const isoDay = monthInfo.day;\n    const isoDate = ES.AddISODate(isoYear, isoMonth, isoDay, 0, 0, 0, calendarDate.day - 1, 'constrain');\n    return isoDate;\n  }\n  // https://bugs.chromium.org/p/v8/issues/detail?id=10529 causes Intl's Indian\n  // calendar output to fail for all dates before 0001-01-01 ISO.  For example,\n  // in Node 12 0000-01-01 is calculated as 6146/12/-583 instead of 10/11/-79 as\n  // expected.\n  vulnerableToBceBug =\n    new Date('0000-01-01T00:00Z').toLocaleDateString('en-US-u-ca-indian', { timeZone: 'UTC' }) !== '10/11/-79 Saka';\n  override checkIcuBugs(isoDate: IsoYMD) {\n    if (this.vulnerableToBceBug && isoDate.year < 1) {\n      throw new RangeError(\n        `calendar '${this.id}' is broken for ISO dates before 0001-01-01` +\n          ' (see https://bugs.chromium.org/p/v8/issues/detail?id=10529)'\n      );\n    }\n  }\n}\n\n/**\n * Era metadata defined for each calendar.\n * TODO: instead of optional properties, this should really have rules\n * encoded in the type, e.g. isoEpoch is required unless reverseOf is present.\n *  */\ninterface InputEra {\n  /** name of the era */\n  name: string;\n\n  /**\n   * Signed calendar year where this era begins.Will be\n   * 1 (or 0 for zero-based eras) for the anchor era assuming that `year`\n   * numbering starts at the beginning of the anchor era, which is true\n   * for all ICU calendars except Japanese. If an era starts mid-year\n   * then a calendar month and day are included. Otherwise\n   * `{ month: 1, day: 1 }` is assumed.\n   */\n  anchorEpoch?: CalendarYearOnly | CalendarYMD;\n\n  /** ISO date of the first day of this era */\n  isoEpoch?: { year: number; month: number; day: number };\n\n  /**\n   * If present, then this era counts years backwards like BC\n   * and this property points to the forward era. This must be\n   * the last (oldest) era in the array.\n   * */\n  reverseOf?: string;\n\n  /**\n   * If true, the era's years are 0-based. If omitted or false,\n   * then the era's years are 1-based.\n   * */\n  hasYearZero?: boolean;\n\n  /**\n   * Override if this era is the anchor. Not normally used because\n   * anchor eras are inferred.\n   * */\n  isAnchor?: boolean;\n}\n/**\n * Transformation of the `InputEra` type with all fields filled in by\n * `adjustEras()`\n * */\ninterface Era {\n  /** name of the era */\n  name: string;\n\n  /**\n   * alternate name of the era used in old versions of ICU data\n   * format is `era{n}` where n is the zero-based index of the era\n   * with the oldest era being 0.\n   * */\n  genericName: string;\n\n  /**\n   * Signed calendar year where this era begins. Will be 1 (or 0 for zero-based\n   * eras) for the anchor era assuming that `year` numbering starts at the\n   * beginning of the anchor era, which is true for all ICU calendars except\n   * Japanese. For input, the month and day are optional. If an era starts\n   * mid-year then a calendar month and day are included.\n   * Otherwise `{ month: 1, day: 1 }` is assumed.\n   */\n  anchorEpoch: CalendarYMD;\n\n  /** ISO date of the first day of this era */\n  isoEpoch: IsoYMD;\n\n  /**\n   * If present, then this era counts years backwards like BC\n   * and this property points to the forward era. This must be\n   * the last (oldest) era in the array.\n   * */\n  reverseOf?: Era;\n\n  /**\n   * If true, the era's years are 0-based. If omitted or false,\n   * then the era's years are 1-based.\n   * */\n  hasYearZero?: boolean;\n\n  /**\n   * Override if this era is the anchor. Not normally used because\n   * anchor eras are inferred.\n   * */\n  isAnchor?: boolean;\n}\n\n/**\n * This function adds additional metadata that makes it easier to work with\n * eras. Note that it mutates and normalizes the original era objects, which is\n * OK because this is non-observable, internal-only metadata.\n *\n * The result is an array of eras with the shape defined above.\n * */\nfunction adjustEras(erasParam: InputEra[]): { eras: Era[]; anchorEra: Era } {\n  let eras: (InputEra | Era)[] = erasParam;\n  if (eras.length === 0) {\n    throw new RangeError('Invalid era data: eras are required');\n  }\n  if (eras.length === 1 && eras[0].reverseOf) {\n    throw new RangeError('Invalid era data: anchor era cannot count years backwards');\n  }\n  if (eras.length === 1 && !eras[0].name) {\n    throw new RangeError('Invalid era data: at least one named era is required');\n  }\n  if (eras.filter((e) => e.reverseOf != null).length > 1) {\n    throw new RangeError('Invalid era data: only one era can count years backwards');\n  }\n\n  // Find the \"anchor era\" which is the era used for (era-less) `year`. Reversed\n  // eras can never be anchors. The era without an `anchorEpoch` property is the\n  // anchor.\n  let anchorEra: Era | InputEra | undefined;\n  eras.forEach((e) => {\n    if (e.isAnchor || (!e.anchorEpoch && !e.reverseOf)) {\n      if (anchorEra) throw new RangeError('Invalid era data: cannot have multiple anchor eras');\n      anchorEra = e;\n      e.anchorEpoch = { year: e.hasYearZero ? 0 : 1 };\n    } else if (!e.name) {\n      throw new RangeError('If era name is blank, it must be the anchor era');\n    }\n  });\n\n  // If the era name is undefined, then it's an anchor that doesn't interact\n  // with eras at all. For example, Japanese `year` is always the same as ISO\n  // `year`.  So this \"era\" is the anchor era but isn't used for era matching.\n  // Strip it from the list that's returned.\n  eras = eras.filter((e) => e.name);\n\n  eras.forEach((e) => {\n    // Some eras are mirror images of another era e.g. B.C. is the reverse of A.D.\n    // Replace the string-valued \"reverseOf\" property with the actual era object\n    // that's reversed.\n    const { reverseOf } = e;\n    if (reverseOf) {\n      const reversedEra = eras.find((era) => era.name === reverseOf);\n      if (reversedEra === undefined) throw new RangeError(`Invalid era data: unmatched reverseOf era: ${reverseOf}`);\n      e.reverseOf = reversedEra as Era;\n      e.anchorEpoch = reversedEra.anchorEpoch;\n      e.isoEpoch = reversedEra.isoEpoch;\n    }\n    type YMD = {\n      year: number;\n      month: number;\n      day: number;\n    };\n    if ((e.anchorEpoch as YMD).month === undefined) (e.anchorEpoch as YMD).month = 1;\n    if ((e.anchorEpoch as YMD).day === undefined) (e.anchorEpoch as YMD).day = 1;\n  });\n\n  // Ensure that the latest epoch is first in the array. This lets us try to\n  // match eras in index order, with the last era getting the remaining older\n  // years. Any reverse-signed era must be at the end.\n  ArraySort.call(eras, (e1, e2) => {\n    if (e1.reverseOf) return 1;\n    if (e2.reverseOf) return -1;\n    if (!e1.isoEpoch || !e2.isoEpoch) throw new RangeError('Invalid era data: missing ISO epoch');\n    return e2.isoEpoch.year - e1.isoEpoch.year;\n  });\n\n  // If there's a reversed era, then the one before it must be the era that's\n  // being reversed.\n  const lastEraReversed = eras[eras.length - 1].reverseOf;\n  if (lastEraReversed) {\n    if (lastEraReversed !== eras[eras.length - 2]) throw new RangeError('Invalid era data: invalid reverse-sign era');\n  }\n\n  // Finally, add a \"genericName\" property in the format \"era{n} where `n` is\n  // zero-based index, with the oldest era being zero. This format is used by\n  // older versions of ICU data.\n  eras.forEach((e, i) => {\n    (e as Era).genericName = `era${eras.length - 1 - i}`;\n  });\n\n  return { eras: eras as Era[], anchorEra: (anchorEra || eras[0]) as Era };\n}\n\nfunction isGregorianLeapYear(year: number) {\n  return year % 4 === 0 && (year % 100 !== 0 || year % 400 === 0);\n}\n\n/** Base for all Gregorian-like calendars. */\nabstract class GregorianBaseHelper extends HelperBase {\n  id: BuiltinCalendarId;\n  eras: Era[];\n  anchorEra: Era;\n\n  constructor(id: BuiltinCalendarId, originalEras: InputEra[]) {\n    super();\n    this.id = id;\n    const { eras, anchorEra } = adjustEras(originalEras);\n    this.anchorEra = anchorEra;\n    this.eras = eras;\n  }\n  calendarType = 'solar' as const;\n  inLeapYear(calendarDate: CalendarYearOnly) {\n    // Calendars that don't override this method use the same months and leap\n    // years as Gregorian. Once we know the ISO year corresponding to the\n    // calendar year, we'll know if it's a leap year or not.\n    const { year } = this.estimateIsoDate({ month: 1, day: 1, year: calendarDate.year });\n    return isGregorianLeapYear(year);\n  }\n  monthsInYear(/* calendarDate */) {\n    return 12;\n  }\n  minimumMonthLength(calendarDate: CalendarYM): number {\n    const { month } = calendarDate;\n    if (month === 2) return this.inLeapYear(calendarDate) ? 29 : 28;\n    return [4, 6, 9, 11].indexOf(month) >= 0 ? 30 : 31;\n  }\n  maximumMonthLength(calendarDate: CalendarYM): number {\n    return this.minimumMonthLength(calendarDate);\n  }\n  /** Fill in missing parts of the (year, era, eraYear) tuple */\n  completeEraYear(calendarDate: Partial<FullCalendarDate>) {\n    const checkField = (name: keyof FullCalendarDate, value: string | number | undefined) => {\n      const currentValue = calendarDate[name];\n      if (currentValue != null && currentValue != value) {\n        throw new RangeError(`Input ${name} ${currentValue} doesn't match calculated value ${value}`);\n      }\n    };\n    const eraFromYear = (year: number) => {\n      let eraYear;\n      const adjustedCalendarDate = { ...calendarDate, year };\n      const matchingEra = this.eras.find((e, i) => {\n        if (i === this.eras.length - 1) {\n          if (e.reverseOf) {\n            // This is a reverse-sign era (like BCE) which must be the oldest\n            // era. Count years backwards.\n            if (year > 0) throw new RangeError(`Signed year ${year} is invalid for era ${e.name}`);\n            eraYear = e.anchorEpoch.year - year;\n            return true;\n          }\n          // last era always gets all \"leftover\" (older than epoch) years,\n          // so no need for a comparison like below.\n          eraYear = year - e.anchorEpoch.year + (e.hasYearZero ? 0 : 1);\n          return true;\n        }\n        const comparison = this.compareCalendarDates(adjustedCalendarDate, e.anchorEpoch);\n        if (comparison >= 0) {\n          eraYear = year - e.anchorEpoch.year + (e.hasYearZero ? 0 : 1);\n          return true;\n        }\n        return false;\n      });\n      if (!matchingEra) throw new RangeError(`Year ${year} was not matched by any era`);\n      return { eraYear: eraYear as unknown as number, era: matchingEra.name };\n    };\n\n    let { year, eraYear, era } = calendarDate;\n    if (year != null) {\n      ({ eraYear, era } = eraFromYear(year));\n      checkField('era', era);\n      checkField('eraYear', eraYear);\n    } else if (eraYear != null) {\n      const matchingEra =\n        era === undefined ? undefined : this.eras.find((e) => e.name === era || e.genericName === era);\n      if (!matchingEra) throw new RangeError(`Era ${era} (ISO year ${eraYear}) was not matched by any era`);\n      if (eraYear < 1 && matchingEra.reverseOf) {\n        throw new RangeError(`Years in ${era} era must be positive, not ${year}`);\n      }\n      if (matchingEra.reverseOf) {\n        year = matchingEra.anchorEpoch.year - eraYear;\n      } else {\n        year = eraYear + matchingEra.anchorEpoch.year - (matchingEra.hasYearZero ? 0 : 1);\n      }\n      checkField('year', year);\n      // We'll accept dates where the month/day is earlier than the start of\n      // the era or after its end as long as it's in the same year. If that\n      // happens, we'll adjust the era/eraYear pair to be the correct era for\n      // the `year`.\n      ({ eraYear, era } = eraFromYear(year));\n    } else {\n      throw new RangeError('Either `year` or `eraYear` and `era` are required');\n    }\n    return { ...calendarDate, year, eraYear, era };\n  }\n  override adjustCalendarDate(\n    calendarDateParam: Partial<FullCalendarDate>,\n    cache?: OneObjectCache,\n    overflow: Overflow = 'constrain'\n  ): FullCalendarDate {\n    let calendarDate = calendarDateParam;\n    // Because this is not a lunisolar calendar, it's safe to convert monthCode to a number\n    const { month, monthCode } = calendarDate;\n    if (month === undefined) calendarDate = { ...calendarDate, month: monthCodeNumberPart(monthCode as string) };\n    this.validateCalendarDate(calendarDate);\n    calendarDate = this.completeEraYear(calendarDate);\n    return super.adjustCalendarDate(calendarDate, cache, overflow);\n  }\n  estimateIsoDate(calendarDateParam: CalendarYMD) {\n    const calendarDate = this.adjustCalendarDate(calendarDateParam);\n    const { year, month, day } = calendarDate;\n    const { anchorEra } = this;\n    const isoYearEstimate = year + anchorEra.isoEpoch.year - (anchorEra.hasYearZero ? 0 : 1);\n    return ES.RegulateISODate(isoYearEstimate, month, day, 'constrain');\n  }\n  // Several calendars based on the Gregorian calendar use Julian dates (not\n  // proleptic Gregorian dates) before the Julian switchover in Oct 1582. See\n  // https://bugs.chromium.org/p/chromium/issues/detail?id=1173158.\n  v8IsVulnerableToJulianBug = new Date('+001001-01-01T00:00Z')\n    .toLocaleDateString('en-US-u-ca-japanese', { timeZone: 'UTC' })\n    .startsWith('12');\n  calendarIsVulnerableToJulianBug = false;\n  override checkIcuBugs(isoDate: IsoYMD) {\n    if (this.calendarIsVulnerableToJulianBug && this.v8IsVulnerableToJulianBug) {\n      const beforeJulianSwitch = ES.CompareISODate(isoDate.year, isoDate.month, isoDate.day, 1582, 10, 15) < 0;\n      if (beforeJulianSwitch) {\n        throw new RangeError(\n          `calendar '${this.id}' is broken for ISO dates before 1582-10-15` +\n            ' (see https://bugs.chromium.org/p/chromium/issues/detail?id=1173158)'\n        );\n      }\n    }\n  }\n}\n\nabstract class OrthodoxBaseHelper extends GregorianBaseHelper {\n  constructor(id: BuiltinCalendarId, originalEras: InputEra[]) {\n    super(id, originalEras);\n  }\n  override inLeapYear(calendarDate: CalendarYearOnly) {\n    // Leap years happen one year before the Julian leap year. Note that this\n    // calendar is based on the Julian calendar which has a leap year every 4\n    // years, unlike the Gregorian calendar which doesn't have leap years on\n    // years divisible by 100 except years divisible by 400.\n    //\n    // Note that we're assuming that leap years in before-epoch times match\n    // how leap years are defined now. This is probably not accurate but I'm\n    // not sure how better to do it.\n    const { year } = calendarDate;\n    return (year + 1) % 4 === 0;\n  }\n  override monthsInYear(/* calendarDate */) {\n    return 13;\n  }\n  override minimumMonthLength(calendarDate: CalendarYM) {\n    const { month } = calendarDate;\n    // Ethiopian/Coptic calendars have 12 30-day months and an extra 5-6 day 13th month.\n    if (month === 13) return this.inLeapYear(calendarDate) ? 6 : 5;\n    return 30;\n  }\n  override maximumMonthLength(calendarDate: CalendarYM) {\n    return this.minimumMonthLength(calendarDate);\n  }\n}\n\n// `coptic` and `ethiopic` calendars are very similar to `ethioaa` calendar,\n// with the following differences:\n// - Coptic uses BCE-like positive numbers for years before its epoch (the other\n//   two use negative year numbers before epoch)\n// - Coptic has a different epoch date\n// - Ethiopic has an additional second era that starts at the same date as the\n//   zero era of ethioaa.\nclass EthioaaHelper extends OrthodoxBaseHelper {\n  constructor() {\n    super('ethioaa', [{ name: 'era0', isoEpoch: { year: -5492, month: 7, day: 17 } }]);\n  }\n}\nclass CopticHelper extends OrthodoxBaseHelper {\n  constructor() {\n    super('coptic', [\n      { name: 'era1', isoEpoch: { year: 284, month: 8, day: 29 } },\n      { name: 'era0', reverseOf: 'era1' }\n    ]);\n  }\n}\n\n// Anchor is currently the older era to match ethioaa, but should it be the newer era?\n// See https://github.com/tc39/ecma402/issues/534 for discussion.\nclass EthiopicHelper extends OrthodoxBaseHelper {\n  constructor() {\n    super('ethiopic', [\n      { name: 'era0', isoEpoch: { year: -5492, month: 7, day: 17 } },\n      { name: 'era1', isoEpoch: { year: 8, month: 8, day: 27 }, anchorEpoch: { year: 5501 } }\n    ]);\n  }\n}\n\nclass RocHelper extends GregorianBaseHelper {\n  constructor() {\n    super('roc', [\n      { name: 'minguo', isoEpoch: { year: 1912, month: 1, day: 1 } },\n      { name: 'before-roc', reverseOf: 'minguo' }\n    ]);\n  }\n  override calendarIsVulnerableToJulianBug = true;\n}\n\nclass BuddhistHelper extends GregorianBaseHelper {\n  constructor() {\n    super('buddhist', [{ name: 'be', hasYearZero: true, isoEpoch: { year: -543, month: 1, day: 1 } }]);\n  }\n  override calendarIsVulnerableToJulianBug = true;\n}\n\nclass GregoryHelper extends GregorianBaseHelper {\n  constructor() {\n    super('gregory', [\n      { name: 'ce', isoEpoch: { year: 1, month: 1, day: 1 } },\n      { name: 'bce', reverseOf: 'ce' }\n    ]);\n  }\n  override reviseIntlEra<T extends Partial<EraAndEraYear>>(calendarDate: T /*, isoDate: IsoDate*/): T {\n    let { era, eraYear } = calendarDate;\n    // Firefox 96 introduced a bug where the `'short'` format of the era\n    // option mistakenly returns the one-letter (narrow) format instead. The\n    // code below handles either the correct or Firefox-buggy format. See\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=1752253\n    if (era === 'bc' || era === 'b') era = 'bce';\n    if (era === 'ad' || era === 'a') era = 'ce';\n    return { era, eraYear } as T;\n  }\n}\n\n// NOTE: Only the 5 modern eras (Meiji and later) are included. For dates\n// before Meiji 1, the `ce` and `bce` eras are used. Challenges with pre-Meiji\n// eras include:\n// - Start/end dates of older eras are not precisely defined, which is\n//   challenging given Temporal's need for precision\n// - Some era dates and/or names are disputed by historians\n// - As historical research proceeds, new eras are discovered and existing era\n//   dates are modified, leading to considerable churn which is not good for\n//   Temporal use.\n//  - The earliest era (in 645 CE) may not end up being the earliest depending\n//    on future historical scholarship\n//  - Before Meiji, Japan used a lunar (or lunisolar?) calendar but AFAIK\n//    that's not reflected in the ICU implementation.\n//\n// For more discussion: https://github.com/tc39/proposal-temporal/issues/526.\n//\n// Here's a full list of CLDR/ICU eras:\n// https://github.com/unicode-org/icu/blob/master/icu4c/source/data/locales/root.txt#L1582-L1818\n// https://github.com/unicode-org/cldr/blob/master/common/supplemental/supplementalData.xml#L4310-L4546\n//\n// NOTE: Japan started using the Gregorian calendar in 6 Meiji, replacing a\n// lunisolar calendar. So the day before January 1 of 6 Meiji (1873) was not\n// December 31, but December 2, of 5 Meiji (1872). The existing Ecma-402\n// Japanese calendar doesn't seem to take this into account, so neither do we:\n// > args = ['en-ca-u-ca-japanese', { era: 'short' }]\n// > new Date('1873-01-01T12:00').toLocaleString(...args)\n// '1 1, 6 Meiji, 12:00:00 PM'\n// > new Date('1872-12-31T12:00').toLocaleString(...args)\n// '12 31, 5 Meiji, 12:00:00 PM'\nclass JapaneseHelper extends GregorianBaseHelper {\n  constructor() {\n    super('japanese', [\n      // The Japanese calendar `year` is just the ISO year, because (unlike other\n      // ICU calendars) there's no obvious \"default era\", we use the ISO year.\n      { name: 'reiwa', isoEpoch: { year: 2019, month: 5, day: 1 }, anchorEpoch: { year: 2019, month: 5, day: 1 } },\n      { name: 'heisei', isoEpoch: { year: 1989, month: 1, day: 8 }, anchorEpoch: { year: 1989, month: 1, day: 8 } },\n      { name: 'showa', isoEpoch: { year: 1926, month: 12, day: 25 }, anchorEpoch: { year: 1926, month: 12, day: 25 } },\n      { name: 'taisho', isoEpoch: { year: 1912, month: 7, day: 30 }, anchorEpoch: { year: 1912, month: 7, day: 30 } },\n      { name: 'meiji', isoEpoch: { year: 1868, month: 9, day: 8 }, anchorEpoch: { year: 1868, month: 9, day: 8 } },\n      { name: 'ce', isoEpoch: { year: 1, month: 1, day: 1 } },\n      { name: 'bce', reverseOf: 'ce' }\n    ]);\n  }\n  override calendarIsVulnerableToJulianBug = true;\n\n  // The last 3 Japanese eras confusingly return only one character in the\n  // default \"short\" era, so need to use the long format.\n  override eraLength = 'long' as const;\n\n  override erasBeginMidYear = true;\n\n  override reviseIntlEra<T extends Partial<EraAndEraYear>>(calendarDate: T, isoDate: IsoYMD): T {\n    const { era, eraYear } = calendarDate;\n    const { year: isoYear } = isoDate;\n    if (this.eras.find((e) => e.name === era)) return { era, eraYear } as T;\n    return (isoYear < 1 ? { era: 'bce', eraYear: 1 - isoYear } : { era: 'ce', eraYear: isoYear }) as T;\n  }\n}\n\ninterface ChineseMonthInfo {\n  [key: string]: { monthIndex: number; daysInMonth: number };\n}\ninterface ChineseDraftMonthInfo {\n  [key: string]: { monthIndex: number; daysInMonth?: number };\n}\n\nabstract class ChineseBaseHelper extends HelperBase {\n  abstract override id: BuiltinCalendarId;\n  calendarType = 'lunisolar' as const;\n  inLeapYear(calendarDate: CalendarYearOnly, cache: OneObjectCache) {\n    const months = this.getMonthList(calendarDate.year, cache);\n    return ObjectEntries(months).length === 13;\n  }\n  monthsInYear(calendarDate: CalendarYearOnly, cache: OneObjectCache) {\n    return this.inLeapYear(calendarDate, cache) ? 13 : 12;\n  }\n  minimumMonthLength(/* calendarDate */) {\n    return 29;\n  }\n  maximumMonthLength(/* calendarDate */) {\n    return 30;\n  }\n  getMonthList(calendarYear: number, cache: OneObjectCache): ChineseMonthInfo {\n    if (calendarYear === undefined) {\n      throw new TypeError('Missing year');\n    }\n    const key = JSON.stringify({ func: 'getMonthList', calendarYear, id: this.id });\n    const cached = cache.get(key);\n    if (cached) return cached;\n    const dateTimeFormat = this.getFormatter();\n    const getCalendarDate = (isoYear: number, daysPastFeb1: number) => {\n      const isoStringFeb1 = toUtcIsoDateString({ isoYear, isoMonth: 2, isoDay: 1 });\n      const legacyDate = new Date(isoStringFeb1);\n      // Now add the requested number of days, which may wrap to the next month.\n      legacyDate.setUTCDate(daysPastFeb1 + 1);\n      const newYearGuess = dateTimeFormat.formatToParts(legacyDate);\n      const calendarMonthString = (newYearGuess.find((tv) => tv.type === 'month') as Intl.DateTimeFormatPart).value;\n      const calendarDay = +(newYearGuess.find((tv) => tv.type === 'day') as Intl.DateTimeFormatPart).value;\n      let calendarYearToVerify: globalThis.Intl.DateTimeFormatPart | number | undefined = newYearGuess.find(\n        (tv) => (tv.type as string) === 'relatedYear'\n      );\n      if (calendarYearToVerify !== undefined) {\n        calendarYearToVerify = +calendarYearToVerify.value;\n      } else {\n        // Node 12 has outdated ICU data that lacks the `relatedYear` field in the\n        // output of Intl.DateTimeFormat.formatToParts.\n        throw new RangeError(\n          `Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`\n        );\n      }\n      return { calendarMonthString, calendarDay, calendarYearToVerify };\n    };\n\n    // First, find a date close to Chinese New Year. Feb 17 will either be in\n    // the first month or near the end of the last month of the previous year.\n    let isoDaysDelta = 17;\n    let { calendarMonthString, calendarDay, calendarYearToVerify } = getCalendarDate(calendarYear, isoDaysDelta);\n\n    // If we didn't guess the first month correctly, add (almost in some months)\n    // a lunar month\n    if (calendarMonthString !== '1') {\n      isoDaysDelta += 29;\n      ({ calendarMonthString, calendarDay } = getCalendarDate(calendarYear, isoDaysDelta));\n    }\n\n    // Now back up to near the start of the first month, but not too near that\n    // off-by-one issues matter.\n    isoDaysDelta -= calendarDay - 5;\n    const result = {} as ChineseDraftMonthInfo;\n    let monthIndex = 1;\n    let oldCalendarDay: number | undefined;\n    let oldMonthString: string | undefined;\n    let done = false;\n    do {\n      ({ calendarMonthString, calendarDay, calendarYearToVerify } = getCalendarDate(calendarYear, isoDaysDelta));\n      if (oldCalendarDay) {\n        result[oldMonthString as string].daysInMonth = oldCalendarDay + 30 - calendarDay;\n      }\n      if (calendarYearToVerify !== calendarYear) {\n        done = true;\n      } else {\n        result[calendarMonthString] = { monthIndex: monthIndex++ };\n        // Move to the next month. Because months are sometimes 29 days, the day of the\n        // calendar month will move forward slowly but not enough to flip over to a new\n        // month before the loop ends at 12-13 months.\n        isoDaysDelta += 30;\n      }\n      oldCalendarDay = calendarDay;\n      oldMonthString = calendarMonthString;\n    } while (!done);\n    result[oldMonthString].daysInMonth = oldCalendarDay + 30 - calendarDay;\n\n    cache.set(key, result);\n    return result as ChineseMonthInfo;\n  }\n  estimateIsoDate(calendarDate: CalendarYMD) {\n    const { year, month } = calendarDate;\n    return { year, month: month >= 12 ? 12 : month + 1, day: 1 };\n  }\n  override adjustCalendarDate(\n    calendarDate: Partial<FullCalendarDate>,\n    cache: OneObjectCache,\n    overflow: Overflow = 'constrain',\n    fromLegacyDate = false\n  ): FullCalendarDate {\n    let { year, month, monthExtra, day, monthCode, eraYear } = calendarDate;\n    if (fromLegacyDate) {\n      // Legacy Date output returns a string that's an integer with an optional\n      // \"bis\" suffix used only by the Chinese/Dangi calendar to indicate a leap\n      // month. Below we'll normalize the output.\n      year = eraYear;\n      if (monthExtra && monthExtra !== 'bis') throw new RangeError(`Unexpected leap month suffix: ${monthExtra}`);\n      const monthCode = buildMonthCode(month as number, monthExtra !== undefined);\n      const monthString = `${month}${monthExtra || ''}`;\n      const months = this.getMonthList(year as number, cache);\n      const monthInfo = months[monthString];\n      if (monthInfo === undefined) throw new RangeError(`Unmatched month ${monthString} in Chinese year ${year}`);\n      month = monthInfo.monthIndex;\n      return { year: year as number, month, day: day as number, era: undefined, eraYear, monthCode };\n    } else {\n      // When called without input coming from legacy Date output,\n      // simply ensure that all fields are present.\n      this.validateCalendarDate(calendarDate);\n      if (year === undefined) year = eraYear;\n      if (eraYear === undefined) eraYear = year;\n      if (month === undefined) {\n        ES.assertExists(monthCode);\n        const months = this.getMonthList(year as number, cache);\n        let numberPart = monthCode.replace('L', 'bis').slice(1);\n        if (numberPart[0] === '0') numberPart = numberPart.slice(1);\n        let monthInfo = months[numberPart];\n        month = monthInfo && monthInfo.monthIndex;\n\n        // If this leap month isn't present in this year, constrain to the same\n        // day of the previous month.\n        if (month === undefined && monthCode.endsWith('L') && monthCode != 'M13L' && overflow === 'constrain') {\n          let withoutML = monthCode.slice(1, -1);\n          if (withoutML[0] === '0') withoutML = withoutML.slice(1);\n          monthInfo = months[withoutML];\n          if (monthInfo) {\n            month = monthInfo.monthIndex;\n            monthCode = buildMonthCode(withoutML);\n          }\n        }\n        if (month === undefined) {\n          throw new RangeError(`Unmatched month ${monthCode} in Chinese year ${year}`);\n        }\n      } else if (monthCode === undefined) {\n        const months = this.getMonthList(year as number, cache);\n        const monthEntries = ObjectEntries(months);\n        const largestMonth = monthEntries.length;\n        if (overflow === 'reject') {\n          ES.RejectToRange(month, 1, largestMonth);\n          ES.RejectToRange(day as number, 1, this.maximumMonthLength());\n        } else {\n          month = ES.ConstrainToRange(month, 1, largestMonth);\n          day = ES.ConstrainToRange(day, 1, this.maximumMonthLength());\n        }\n        const matchingMonthEntry = monthEntries.find(([, v]) => v.monthIndex === month);\n        if (matchingMonthEntry === undefined) {\n          throw new RangeError(`Invalid month ${month} in Chinese year ${year}`);\n        }\n        monthCode = buildMonthCode(\n          matchingMonthEntry[0].replace('bis', ''),\n          matchingMonthEntry[0].indexOf('bis') !== -1\n        );\n      } else {\n        // Both month and monthCode are present. Make sure they don't conflict.\n        const months = this.getMonthList(year as number, cache);\n        let numberPart = monthCode.replace('L', 'bis').slice(1);\n        if (numberPart[0] === '0') numberPart = numberPart.slice(1);\n        const monthInfo = months[numberPart];\n        if (!monthInfo) throw new RangeError(`Unmatched monthCode ${monthCode} in Chinese year ${year}`);\n        if (month !== monthInfo.monthIndex) {\n          throw new RangeError(`monthCode ${monthCode} doesn't correspond to month ${month} in Chinese year ${year}`);\n        }\n      }\n      return {\n        ...calendarDate,\n        year: year as number,\n        eraYear,\n        month,\n        monthCode: monthCode,\n        day: day as number\n      };\n    }\n  }\n  // All built-in calendars except Chinese/Dangi and Hebrew use an era\n  override hasEra = false;\n}\n\nclass ChineseHelper extends ChineseBaseHelper {\n  id = 'chinese' as const;\n}\n\n// Dangi (Korean) calendar has same implementation as Chinese\nclass DangiHelper extends ChineseBaseHelper {\n  id = 'dangi' as const;\n}\n\n/**\n * Common implementation of all non-ISO calendars.\n * Per-calendar id and logic live in `id` and `helper` properties attached later.\n * This split allowed an easy separation between code that was similar between\n * ISO and non-ISO implementations vs. code that was very different.\n */\nclass NonIsoCalendar implements CalendarImpl {\n  constructor(private readonly helper: HelperBase) {}\n  dateFromFields(\n    fieldsParam: Params['dateFromFields'][0],\n    options: NonNullable<Params['dateFromFields'][1]>,\n    calendarSlotValue: string\n  ): Temporal.PlainDate {\n    const cache = new OneObjectCache();\n    const fieldNames = this.fields(['day', 'month', 'monthCode', 'year']) as AnyTemporalKey[];\n    const fields = ES.PrepareTemporalFields(fieldsParam, fieldNames, []);\n    const overflow = ES.ToTemporalOverflow(options);\n    const { year, month, day } = this.helper.calendarToIsoDate(fields, overflow, cache);\n    const result = ES.CreateTemporalDate(year, month, day, calendarSlotValue);\n    cache.setObject(result);\n    return result;\n  }\n  yearMonthFromFields(\n    fieldsParam: Params['yearMonthFromFields'][0],\n    options: NonNullable<Params['yearMonthFromFields'][1]>,\n    calendarSlotValue: CalendarSlot\n  ): Temporal.PlainYearMonth {\n    const cache = new OneObjectCache();\n    const fieldNames = this.fields(['month', 'monthCode', 'year']) as AnyTemporalKey[];\n    const fields = ES.PrepareTemporalFields(fieldsParam, fieldNames, []);\n    const overflow = ES.ToTemporalOverflow(options);\n    const { year, month, day } = this.helper.calendarToIsoDate({ ...fields, day: 1 }, overflow, cache);\n    const result = ES.CreateTemporalYearMonth(year, month, calendarSlotValue, /* referenceISODay = */ day);\n    cache.setObject(result);\n    return result;\n  }\n  monthDayFromFields(\n    fieldsParam: Params['monthDayFromFields'][0],\n    options: NonNullable<Params['monthDayFromFields'][1]>,\n    calendarSlotValue: CalendarSlot\n  ): Temporal.PlainMonthDay {\n    const cache = new OneObjectCache();\n    // For lunisolar calendars, either `monthCode` or `year` must be provided\n    // because `month` is ambiguous without a year or a code.\n    const fieldNames = this.fields(['day', 'month', 'monthCode', 'year']) as AnyTemporalKey[];\n    const fields = ES.PrepareTemporalFields(fieldsParam, fieldNames, []);\n    const overflow = ES.ToTemporalOverflow(options);\n    const { year, month, day } = this.helper.monthDayFromFields(fields, overflow, cache);\n    // `year` is a reference year where this month/day exists in this calendar\n    const result = ES.CreateTemporalMonthDay(month, day, calendarSlotValue, /* referenceISOYear = */ year);\n    cache.setObject(result);\n    return result;\n  }\n  fields(fieldsParam: string[]): string[] {\n    let fields = fieldsParam;\n    if (ArrayIncludes.call(fields, 'year')) fields = [...fields, 'era', 'eraYear'];\n    return fields;\n  }\n  fieldKeysToIgnore(\n    keys: Exclude<keyof Temporal.PlainDateLike, 'calendar'>[]\n  ): Exclude<keyof Temporal.PlainDateLike, 'calendar'>[] {\n    const result = new OriginalSet();\n    for (let ix = 0; ix < keys.length; ix++) {\n      const key = keys[ix];\n      ES.Call(SetPrototypeAdd, result, [key]);\n      switch (key) {\n        case 'era':\n          ES.Call(SetPrototypeAdd, result, ['eraYear']);\n          ES.Call(SetPrototypeAdd, result, ['year']);\n          break;\n        case 'eraYear':\n          ES.Call(SetPrototypeAdd, result, ['era']);\n          ES.Call(SetPrototypeAdd, result, ['year']);\n          break;\n        case 'year':\n          ES.Call(SetPrototypeAdd, result, ['era']);\n          ES.Call(SetPrototypeAdd, result, ['eraYear']);\n          break;\n        case 'month':\n          ES.Call(SetPrototypeAdd, result, ['monthCode']);\n          // See https://github.com/tc39/proposal-temporal/issues/1784\n          if (this.helper.erasBeginMidYear) {\n            ES.Call(SetPrototypeAdd, result, ['era']);\n            ES.Call(SetPrototypeAdd, result, ['eraYear']);\n          }\n          break;\n        case 'monthCode':\n          ES.Call(SetPrototypeAdd, result, ['month']);\n          if (this.helper.erasBeginMidYear) {\n            ES.Call(SetPrototypeAdd, result, ['era']);\n            ES.Call(SetPrototypeAdd, result, ['eraYear']);\n          }\n          break;\n        case 'day':\n          if (this.helper.erasBeginMidYear) {\n            ES.Call(SetPrototypeAdd, result, ['era']);\n            ES.Call(SetPrototypeAdd, result, ['eraYear']);\n          }\n          break;\n      }\n    }\n    return [...ES.Call(SetPrototypeValues, result, [])];\n  }\n  dateAdd(\n    date: Temporal.PlainDate,\n    years: number,\n    months: number,\n    weeks: number,\n    days: number,\n    overflow: Overflow,\n    calendarSlotValue: CalendarSlot\n  ): Temporal.PlainDate {\n    const cache = OneObjectCache.getCacheForObject(date);\n    const calendarDate = this.helper.temporalToCalendarDate(date, cache);\n    const added = this.helper.addCalendar(calendarDate, { years, months, weeks, days }, overflow, cache);\n    const isoAdded = this.helper.calendarToIsoDate(added, 'constrain', cache);\n    const { year, month, day } = isoAdded;\n    const newTemporalObject = ES.CreateTemporalDate(year, month, day, calendarSlotValue);\n    // The new object's cache starts with the cache of the old object\n    const newCache = new OneObjectCache(cache);\n    newCache.setObject(newTemporalObject);\n    return newTemporalObject;\n  }\n  dateUntil(one: Temporal.PlainDate, two: Temporal.PlainDate, largestUnit: Temporal.DateUnit) {\n    const cacheOne = OneObjectCache.getCacheForObject(one);\n    const cacheTwo = OneObjectCache.getCacheForObject(two);\n    const calendarOne = this.helper.temporalToCalendarDate(one, cacheOne);\n    const calendarTwo = this.helper.temporalToCalendarDate(two, cacheTwo);\n    const result = this.helper.untilCalendar(calendarOne, calendarTwo, largestUnit, cacheOne);\n    return result;\n  }\n  year(date: Temporal.PlainDate | Temporal.PlainYearMonth): number {\n    const cache = OneObjectCache.getCacheForObject(date);\n    const calendarDate = this.helper.temporalToCalendarDate(date, cache);\n    return calendarDate.year;\n  }\n  month(date: Temporal.PlainDate | Temporal.PlainYearMonth | Temporal.PlainMonthDay): number {\n    const cache = OneObjectCache.getCacheForObject(date);\n    const calendarDate = this.helper.temporalToCalendarDate(date, cache);\n    return calendarDate.month;\n  }\n  day(date: Temporal.PlainDate | Temporal.PlainMonthDay): number {\n    const cache = OneObjectCache.getCacheForObject(date);\n    const calendarDate = this.helper.temporalToCalendarDate(date, cache);\n    return calendarDate.day;\n  }\n  era(date: Temporal.PlainDate | Temporal.PlainYearMonth): string | undefined {\n    if (!this.helper.hasEra) return undefined;\n    const cache = OneObjectCache.getCacheForObject(date);\n    const calendarDate = this.helper.temporalToCalendarDate(date, cache);\n    return calendarDate.era;\n  }\n  eraYear(date: Temporal.PlainDate | Temporal.PlainYearMonth): number | undefined {\n    if (!this.helper.hasEra) return undefined;\n    const cache = OneObjectCache.getCacheForObject(date);\n    const calendarDate = this.helper.temporalToCalendarDate(date, cache);\n    return calendarDate.eraYear;\n  }\n  monthCode(date: Temporal.PlainDate | Temporal.PlainYearMonth | Temporal.PlainMonthDay): string {\n    const cache = OneObjectCache.getCacheForObject(date);\n    const calendarDate = this.helper.temporalToCalendarDate(date, cache);\n    return calendarDate.monthCode;\n  }\n  dayOfWeek(date: Temporal.PlainDate): number {\n    return impl['iso8601'].dayOfWeek(date);\n  }\n  dayOfYear(date: Temporal.PlainDate): number {\n    const cache = OneObjectCache.getCacheForObject(date);\n    const calendarDate = this.helper.isoToCalendarDate(date, cache);\n    const startOfYear = this.helper.startOfCalendarYear(calendarDate);\n    const diffDays = this.helper.calendarDaysUntil(startOfYear, calendarDate, cache);\n    return diffDays + 1;\n  }\n  weekOfYear(date: Temporal.PlainDate): number {\n    return impl['iso8601'].weekOfYear(date);\n  }\n  yearOfWeek(date: Temporal.PlainDate): number {\n    return impl['iso8601'].yearOfWeek(date);\n  }\n  daysInWeek(date: Temporal.PlainDate): number {\n    return impl['iso8601'].daysInWeek(date);\n  }\n  daysInMonth(date: Temporal.PlainDate | Temporal.PlainYearMonth): number {\n    const cache = OneObjectCache.getCacheForObject(date);\n    const calendarDate = this.helper.temporalToCalendarDate(date, cache);\n\n    // Easy case: if the helper knows the length without any heavy calculation.\n    const max = this.helper.maximumMonthLength(calendarDate);\n    const min = this.helper.minimumMonthLength(calendarDate);\n    if (max === min) return max;\n\n    // The harder case is where months vary every year, e.g. islamic calendars.\n    // Find the answer by calculating the difference in days between the first\n    // day of the current month and the first day of the next month.\n    const startOfMonthCalendar = this.helper.startOfCalendarMonth(calendarDate);\n    const startOfNextMonthCalendar = this.helper.addMonthsCalendar(startOfMonthCalendar, 1, 'constrain', cache);\n    const result = this.helper.calendarDaysUntil(startOfMonthCalendar, startOfNextMonthCalendar, cache);\n    return result;\n  }\n  daysInYear(dateParam: Temporal.PlainDate | Temporal.PlainYearMonth): number {\n    let date = dateParam;\n    if (!HasSlot(date, ISO_YEAR)) date = ES.ToTemporalDate(date);\n    const cache = OneObjectCache.getCacheForObject(date);\n    const calendarDate = this.helper.temporalToCalendarDate(date, cache);\n    const startOfYearCalendar = this.helper.startOfCalendarYear(calendarDate);\n    const startOfNextYearCalendar = this.helper.addCalendar(startOfYearCalendar, { years: 1 }, 'constrain', cache);\n    const result = this.helper.calendarDaysUntil(startOfYearCalendar, startOfNextYearCalendar, cache);\n    return result;\n  }\n  monthsInYear(date: Temporal.PlainDate | Temporal.PlainYearMonth): number {\n    const cache = OneObjectCache.getCacheForObject(date);\n    const calendarDate = this.helper.temporalToCalendarDate(date, cache);\n    const result = this.helper.monthsInYear(calendarDate, cache);\n    return result;\n  }\n  inLeapYear(dateParam: Temporal.PlainDate | Temporal.PlainYearMonth): boolean {\n    let date = dateParam;\n    if (!HasSlot(date, ISO_YEAR)) date = ES.ToTemporalDate(date);\n    const cache = OneObjectCache.getCacheForObject(date);\n    const calendarDate = this.helper.temporalToCalendarDate(date, cache);\n    const result = this.helper.inLeapYear(calendarDate, cache);\n    return result;\n  }\n}\n\nfor (const Helper of [\n  HebrewHelper,\n  PersianHelper,\n  EthiopicHelper,\n  EthioaaHelper,\n  CopticHelper,\n  ChineseHelper,\n  DangiHelper,\n  RocHelper,\n  IndianHelper,\n  BuddhistHelper,\n  GregoryHelper,\n  JapaneseHelper,\n  IslamicHelper,\n  IslamicUmalquraHelper,\n  IslamicTblaHelper,\n  IslamicCivilHelper,\n  IslamicRgsaHelper,\n  IslamicCcHelper\n]) {\n  const helper = new Helper();\n  // Construct a new NonIsoCalendar instance with the given Helper implementation that contains\n  // per-calendar logic.\n  impl[helper.id] = new NonIsoCalendar(helper);\n}\n","import * as ES from './ecmascript';\nimport { MakeIntrinsicClass } from './intrinsicclass';\nimport {\n  ISO_YEAR,\n  ISO_MONTH,\n  ISO_DAY,\n  ISO_HOUR,\n  ISO_MINUTE,\n  ISO_SECOND,\n  ISO_MILLISECOND,\n  ISO_MICROSECOND,\n  ISO_NANOSECOND,\n  CALENDAR,\n  EPOCHNANOSECONDS,\n  GetSlot\n} from './slots';\nimport type { Temporal } from '..';\nimport { DateTimeFormat } from './intl';\nimport type { PlainDateParams as Params, PlainDateReturn as Return } from './internaltypes';\n\nexport class PlainDate implements Temporal.PlainDate {\n  constructor(\n    isoYearParam: Params['constructor'][0],\n    isoMonthParam: Params['constructor'][1],\n    isoDayParam: Params['constructor'][2],\n    calendarParam: Params['constructor'][3] = 'iso8601'\n  ) {\n    const isoYear = ES.ToIntegerWithTruncation(isoYearParam);\n    const isoMonth = ES.ToIntegerWithTruncation(isoMonthParam);\n    const isoDay = ES.ToIntegerWithTruncation(isoDayParam);\n    const calendar = ES.ToTemporalCalendarSlotValue(calendarParam);\n\n    ES.CreateTemporalDateSlots(this, isoYear, isoMonth, isoDay, calendar);\n  }\n  get calendarId(): Return['calendarId'] {\n    if (!ES.IsTemporalDate(this)) throw new TypeError('invalid receiver');\n    return ES.ToTemporalCalendarIdentifier(GetSlot(this, CALENDAR));\n  }\n  get era(): Return['era'] {\n    if (!ES.IsTemporalDate(this)) throw new TypeError('invalid receiver');\n    return ES.CalendarEra(GetSlot(this, CALENDAR), this);\n  }\n  get eraYear(): Return['eraYear'] {\n    if (!ES.IsTemporalDate(this)) throw new TypeError('invalid receiver');\n    return ES.CalendarEraYear(GetSlot(this, CALENDAR), this);\n  }\n  get year(): Return['year'] {\n    if (!ES.IsTemporalDate(this)) throw new TypeError('invalid receiver');\n    return ES.CalendarYear(GetSlot(this, CALENDAR), this);\n  }\n  get month(): Return['month'] {\n    if (!ES.IsTemporalDate(this)) throw new TypeError('invalid receiver');\n    return ES.CalendarMonth(GetSlot(this, CALENDAR), this);\n  }\n  get monthCode(): Return['monthCode'] {\n    if (!ES.IsTemporalDate(this)) throw new TypeError('invalid receiver');\n    return ES.CalendarMonthCode(GetSlot(this, CALENDAR), this);\n  }\n  get day(): Return['day'] {\n    if (!ES.IsTemporalDate(this)) throw new TypeError('invalid receiver');\n    return ES.CalendarDay(GetSlot(this, CALENDAR), this);\n  }\n  get dayOfWeek(): Return['dayOfWeek'] {\n    if (!ES.IsTemporalDate(this)) throw new TypeError('invalid receiver');\n    return ES.CalendarDayOfWeek(GetSlot(this, CALENDAR), this);\n  }\n  get dayOfYear(): Return['dayOfYear'] {\n    if (!ES.IsTemporalDate(this)) throw new TypeError('invalid receiver');\n    return ES.CalendarDayOfYear(GetSlot(this, CALENDAR), this);\n  }\n  get weekOfYear(): Return['weekOfYear'] {\n    if (!ES.IsTemporalDate(this)) throw new TypeError('invalid receiver');\n    return ES.CalendarWeekOfYear(GetSlot(this, CALENDAR), this);\n  }\n  get yearOfWeek(): Return['weekOfYear'] {\n    if (!ES.IsTemporalDate(this)) throw new TypeError('invalid receiver');\n    return ES.CalendarYearOfWeek(GetSlot(this, CALENDAR), this);\n  }\n  get daysInWeek(): Return['daysInWeek'] {\n    if (!ES.IsTemporalDate(this)) throw new TypeError('invalid receiver');\n    return ES.CalendarDaysInWeek(GetSlot(this, CALENDAR), this);\n  }\n  get daysInMonth(): Return['daysInMonth'] {\n    if (!ES.IsTemporalDate(this)) throw new TypeError('invalid receiver');\n    return ES.CalendarDaysInMonth(GetSlot(this, CALENDAR), this);\n  }\n  get daysInYear(): Return['daysInYear'] {\n    if (!ES.IsTemporalDate(this)) throw new TypeError('invalid receiver');\n    return ES.CalendarDaysInYear(GetSlot(this, CALENDAR), this);\n  }\n  get monthsInYear(): Return['monthsInYear'] {\n    if (!ES.IsTemporalDate(this)) throw new TypeError('invalid receiver');\n    return ES.CalendarMonthsInYear(GetSlot(this, CALENDAR), this);\n  }\n  get inLeapYear(): Return['inLeapYear'] {\n    if (!ES.IsTemporalDate(this)) throw new TypeError('invalid receiver');\n    return ES.CalendarInLeapYear(GetSlot(this, CALENDAR), this);\n  }\n  with(temporalDateLike: Params['with'][0], optionsParam: Params['with'][1] = undefined): Return['with'] {\n    if (!ES.IsTemporalDate(this)) throw new TypeError('invalid receiver');\n    if (!ES.IsObject(temporalDateLike)) {\n      throw new TypeError('invalid argument');\n    }\n    ES.RejectTemporalLikeObject(temporalDateLike);\n    const options = ES.GetOptionsObject(optionsParam);\n\n    const calendar = GetSlot(this, CALENDAR);\n    const fieldNames = ES.CalendarFields(calendar, ['day', 'month', 'monthCode', 'year'] as const);\n    let fields = ES.PrepareTemporalFields(this, fieldNames, []);\n    const partialDate = ES.PrepareTemporalFields(temporalDateLike, fieldNames, 'partial');\n    fields = ES.CalendarMergeFields(calendar, fields, partialDate);\n    fields = ES.PrepareTemporalFields(fields, fieldNames, []);\n\n    return ES.CalendarDateFromFields(calendar, fields, options);\n  }\n  withCalendar(calendarParam: Params['withCalendar'][0]): Return['withCalendar'] {\n    if (!ES.IsTemporalDate(this)) throw new TypeError('invalid receiver');\n    const calendar = ES.ToTemporalCalendarSlotValue(calendarParam);\n    return new PlainDate(GetSlot(this, ISO_YEAR), GetSlot(this, ISO_MONTH), GetSlot(this, ISO_DAY), calendar);\n  }\n  add(temporalDurationLike: Params['add'][0], optionsParam: Params['add'][1] = undefined): Return['add'] {\n    if (!ES.IsTemporalDate(this)) throw new TypeError('invalid receiver');\n\n    const duration = ES.ToTemporalDuration(temporalDurationLike);\n    const options = ES.GetOptionsObject(optionsParam);\n\n    return ES.CalendarDateAdd(GetSlot(this, CALENDAR), this, duration, options);\n  }\n  subtract(\n    temporalDurationLike: Params['subtract'][0],\n    optionsParam: Params['subtract'][1] = undefined\n  ): Return['subtract'] {\n    if (!ES.IsTemporalDate(this)) throw new TypeError('invalid receiver');\n\n    const duration = ES.CreateNegatedTemporalDuration(ES.ToTemporalDuration(temporalDurationLike));\n    const options = ES.GetOptionsObject(optionsParam);\n\n    return ES.CalendarDateAdd(GetSlot(this, CALENDAR), this, duration, options);\n  }\n  until(other: Params['until'][0], options: Params['until'][1] = undefined): Return['until'] {\n    if (!ES.IsTemporalDate(this)) throw new TypeError('invalid receiver');\n    return ES.DifferenceTemporalPlainDate('until', this, other, options);\n  }\n  since(other: Params['since'][0], options: Params['since'][1] = undefined): Return['since'] {\n    if (!ES.IsTemporalDate(this)) throw new TypeError('invalid receiver');\n    return ES.DifferenceTemporalPlainDate('since', this, other, options);\n  }\n  equals(otherParam: Params['equals'][0]): Return['equals'] {\n    if (!ES.IsTemporalDate(this)) throw new TypeError('invalid receiver');\n    const other = ES.ToTemporalDate(otherParam);\n    for (const slot of [ISO_YEAR, ISO_MONTH, ISO_DAY]) {\n      const val1 = GetSlot(this, slot);\n      const val2 = GetSlot(other, slot);\n      if (val1 !== val2) return false;\n    }\n    return ES.CalendarEquals(GetSlot(this, CALENDAR), GetSlot(other, CALENDAR));\n  }\n  toString(optionsParam: Params['toString'][0] = undefined): string {\n    if (!ES.IsTemporalDate(this)) throw new TypeError('invalid receiver');\n    const options = ES.GetOptionsObject(optionsParam);\n    const showCalendar = ES.ToCalendarNameOption(options);\n    return ES.TemporalDateToString(this, showCalendar);\n  }\n  toJSON(): Return['toJSON'] {\n    if (!ES.IsTemporalDate(this)) throw new TypeError('invalid receiver');\n    return ES.TemporalDateToString(this);\n  }\n  toLocaleString(\n    locales: Params['toLocaleString'][0] = undefined,\n    options: Params['toLocaleString'][1] = undefined\n  ): string {\n    if (!ES.IsTemporalDate(this)) throw new TypeError('invalid receiver');\n    return new DateTimeFormat(locales, options).format(this);\n  }\n  valueOf(): never {\n    throw new TypeError('use compare() or equals() to compare Temporal.PlainDate');\n  }\n  toPlainDateTime(temporalTimeParam: Params['toPlainDateTime'][0] = undefined): Return['toPlainDateTime'] {\n    if (!ES.IsTemporalDate(this)) throw new TypeError('invalid receiver');\n    const year = GetSlot(this, ISO_YEAR);\n    const month = GetSlot(this, ISO_MONTH);\n    const day = GetSlot(this, ISO_DAY);\n    const calendar = GetSlot(this, CALENDAR);\n\n    if (temporalTimeParam === undefined) return ES.CreateTemporalDateTime(year, month, day, 0, 0, 0, 0, 0, 0, calendar);\n\n    const temporalTime = ES.ToTemporalTime(temporalTimeParam);\n    const hour = GetSlot(temporalTime, ISO_HOUR);\n    const minute = GetSlot(temporalTime, ISO_MINUTE);\n    const second = GetSlot(temporalTime, ISO_SECOND);\n    const millisecond = GetSlot(temporalTime, ISO_MILLISECOND);\n    const microsecond = GetSlot(temporalTime, ISO_MICROSECOND);\n    const nanosecond = GetSlot(temporalTime, ISO_NANOSECOND);\n\n    return ES.CreateTemporalDateTime(\n      year,\n      month,\n      day,\n      hour,\n      minute,\n      second,\n      millisecond,\n      microsecond,\n      nanosecond,\n      calendar\n    );\n  }\n  toZonedDateTime(item: Params['toZonedDateTime'][0]): Return['toZonedDateTime'] {\n    if (!ES.IsTemporalDate(this)) throw new TypeError('invalid receiver');\n\n    type TimeZoneAndPlainTimeProps = Exclude<typeof item, string | Temporal.TimeZoneProtocol>;\n    let timeZone: Temporal.TimeZoneLike, temporalTime: TimeZoneAndPlainTimeProps['plainTime'];\n    if (ES.IsObject(item)) {\n      if (ES.IsTemporalTimeZone(item)) {\n        timeZone = item;\n      } else {\n        const timeZoneLike = (item as TimeZoneAndPlainTimeProps).timeZone;\n        if (timeZoneLike === undefined) {\n          ES.uncheckedAssertNarrowedType<Temporal.TimeZoneProtocol>(\n            item,\n            \"if no timeZone property, then assume it's a custom time zone object\"\n          );\n          timeZone = ES.ToTemporalTimeZoneSlotValue(item);\n        } else {\n          timeZone = ES.ToTemporalTimeZoneSlotValue(timeZoneLike);\n          ES.uncheckedAssertNarrowedType<TimeZoneAndPlainTimeProps>(\n            item,\n            \"it's a property bag with a timeZone and optional plainTime\"\n          );\n          temporalTime = item.plainTime;\n        }\n      }\n    } else {\n      timeZone = ES.ToTemporalTimeZoneSlotValue(item);\n    }\n\n    const year = GetSlot(this, ISO_YEAR);\n    const month = GetSlot(this, ISO_MONTH);\n    const day = GetSlot(this, ISO_DAY);\n    const calendar = GetSlot(this, CALENDAR);\n\n    let hour = 0,\n      minute = 0,\n      second = 0,\n      millisecond = 0,\n      microsecond = 0,\n      nanosecond = 0;\n    if (temporalTime !== undefined) {\n      temporalTime = ES.ToTemporalTime(temporalTime);\n      ES.uncheckedAssertNarrowedType<Temporal.PlainTime>(\n        temporalTime,\n        'ToTemporalTime above always returns a PlainTime'\n      );\n      hour = GetSlot(temporalTime, ISO_HOUR);\n      minute = GetSlot(temporalTime, ISO_MINUTE);\n      second = GetSlot(temporalTime, ISO_SECOND);\n      millisecond = GetSlot(temporalTime, ISO_MILLISECOND);\n      microsecond = GetSlot(temporalTime, ISO_MICROSECOND);\n      nanosecond = GetSlot(temporalTime, ISO_NANOSECOND);\n    }\n\n    const dt = ES.CreateTemporalDateTime(\n      year,\n      month,\n      day,\n      hour,\n      minute,\n      second,\n      millisecond,\n      microsecond,\n      nanosecond,\n      calendar\n    );\n    const instant = ES.GetInstantFor(timeZone, dt, 'compatible');\n    return ES.CreateTemporalZonedDateTime(GetSlot(instant, EPOCHNANOSECONDS), timeZone, calendar);\n  }\n  toPlainYearMonth(): Return['toPlainYearMonth'] {\n    if (!ES.IsTemporalDate(this)) throw new TypeError('invalid receiver');\n    const calendar = GetSlot(this, CALENDAR);\n    const fieldNames = ES.CalendarFields(calendar, ['monthCode', 'year'] as const);\n    const fields = ES.PrepareTemporalFields(this, fieldNames, []);\n    return ES.CalendarYearMonthFromFields(calendar, fields);\n  }\n  toPlainMonthDay(): Return['toPlainMonthDay'] {\n    if (!ES.IsTemporalDate(this)) throw new TypeError('invalid receiver');\n    const calendar = GetSlot(this, CALENDAR);\n    const fieldNames = ES.CalendarFields(calendar, ['day', 'monthCode'] as const);\n    const fields = ES.PrepareTemporalFields(this, fieldNames, []);\n    return ES.CalendarMonthDayFromFields(calendar, fields);\n  }\n  getISOFields(): Return['getISOFields'] {\n    if (!ES.IsTemporalDate(this)) throw new TypeError('invalid receiver');\n    return {\n      calendar: GetSlot(this, CALENDAR),\n      isoDay: GetSlot(this, ISO_DAY),\n      isoMonth: GetSlot(this, ISO_MONTH),\n      isoYear: GetSlot(this, ISO_YEAR)\n    };\n  }\n  getCalendar(): Return['getCalendar'] {\n    if (!ES.IsTemporalDate(this)) throw new TypeError('invalid receiver');\n    return ES.ToTemporalCalendarObject(GetSlot(this, CALENDAR));\n  }\n\n  static from(item: Params['from'][0], optionsParam: Params['from'][1] = undefined): Return['from'] {\n    const options = ES.GetOptionsObject(optionsParam);\n    if (ES.IsTemporalDate(item)) {\n      ES.ToTemporalOverflow(options); // validate and ignore\n      return ES.CreateTemporalDate(\n        GetSlot(item, ISO_YEAR),\n        GetSlot(item, ISO_MONTH),\n        GetSlot(item, ISO_DAY),\n        GetSlot(item, CALENDAR)\n      );\n    }\n    return ES.ToTemporalDate(item, options);\n  }\n  static compare(oneParam: Params['compare'][0], twoParam: Params['compare'][1]): Return['compare'] {\n    const one = ES.ToTemporalDate(oneParam);\n    const two = ES.ToTemporalDate(twoParam);\n    return ES.CompareISODate(\n      GetSlot(one, ISO_YEAR),\n      GetSlot(one, ISO_MONTH),\n      GetSlot(one, ISO_DAY),\n      GetSlot(two, ISO_YEAR),\n      GetSlot(two, ISO_MONTH),\n      GetSlot(two, ISO_DAY)\n    );\n  }\n  [Symbol.toStringTag]!: 'Temporal.PlainDate';\n}\n\nMakeIntrinsicClass(PlainDate, 'Temporal.PlainDate');\n","import * as ES from './ecmascript';\nimport { MakeIntrinsicClass } from './intrinsicclass';\n\nimport {\n  ISO_YEAR,\n  ISO_MONTH,\n  ISO_DAY,\n  ISO_HOUR,\n  ISO_MINUTE,\n  ISO_SECOND,\n  ISO_MILLISECOND,\n  ISO_MICROSECOND,\n  ISO_NANOSECOND,\n  CALENDAR,\n  EPOCHNANOSECONDS,\n  GetSlot\n} from './slots';\nimport type { Temporal } from '..';\nimport { DateTimeFormat } from './intl';\nimport type { PlainDateTimeParams as Params, PlainDateTimeReturn as Return } from './internaltypes';\n\nexport class PlainDateTime implements Temporal.PlainDateTime {\n  constructor(\n    isoYearParam: Params['constructor'][0],\n    isoMonthParam: Params['constructor'][1],\n    isoDayParam: Params['constructor'][2],\n    hourParam: Params['constructor'][3] = 0,\n    minuteParam: Params['constructor'][4] = 0,\n    secondParam: Params['constructor'][5] = 0,\n    millisecondParam: Params['constructor'][6] = 0,\n    microsecondParam: Params['constructor'][7] = 0,\n    nanosecondParam: Params['constructor'][8] = 0,\n    calendarParam: Params['constructor'][9] = 'iso8601'\n  ) {\n    const isoYear = ES.ToIntegerWithTruncation(isoYearParam);\n    const isoMonth = ES.ToIntegerWithTruncation(isoMonthParam);\n    const isoDay = ES.ToIntegerWithTruncation(isoDayParam);\n    const hour = hourParam === undefined ? 0 : ES.ToIntegerWithTruncation(hourParam);\n    const minute = minuteParam === undefined ? 0 : ES.ToIntegerWithTruncation(minuteParam);\n    const second = secondParam === undefined ? 0 : ES.ToIntegerWithTruncation(secondParam);\n    const millisecond = millisecondParam === undefined ? 0 : ES.ToIntegerWithTruncation(millisecondParam);\n    const microsecond = microsecondParam === undefined ? 0 : ES.ToIntegerWithTruncation(microsecondParam);\n    const nanosecond = nanosecondParam === undefined ? 0 : ES.ToIntegerWithTruncation(nanosecondParam);\n    const calendar = ES.ToTemporalCalendarSlotValue(calendarParam);\n\n    ES.CreateTemporalDateTimeSlots(\n      this,\n      isoYear,\n      isoMonth,\n      isoDay,\n      hour,\n      minute,\n      second,\n      millisecond,\n      microsecond,\n      nanosecond,\n      calendar\n    );\n  }\n  get calendarId(): Return['calendarId'] {\n    if (!ES.IsTemporalDateTime(this)) throw new TypeError('invalid receiver');\n    return ES.ToTemporalCalendarIdentifier(GetSlot(this, CALENDAR));\n  }\n  get year(): Return['year'] {\n    if (!ES.IsTemporalDateTime(this)) throw new TypeError('invalid receiver');\n    return ES.CalendarYear(GetSlot(this, CALENDAR), this);\n  }\n  get month(): Return['month'] {\n    if (!ES.IsTemporalDateTime(this)) throw new TypeError('invalid receiver');\n    return ES.CalendarMonth(GetSlot(this, CALENDAR), this);\n  }\n  get monthCode(): Return['monthCode'] {\n    if (!ES.IsTemporalDateTime(this)) throw new TypeError('invalid receiver');\n    return ES.CalendarMonthCode(GetSlot(this, CALENDAR), this);\n  }\n  get day(): Return['day'] {\n    if (!ES.IsTemporalDateTime(this)) throw new TypeError('invalid receiver');\n    return ES.CalendarDay(GetSlot(this, CALENDAR), this);\n  }\n  get hour(): Return['hour'] {\n    if (!ES.IsTemporalDateTime(this)) throw new TypeError('invalid receiver');\n    return GetSlot(this, ISO_HOUR);\n  }\n  get minute(): Return['minute'] {\n    if (!ES.IsTemporalDateTime(this)) throw new TypeError('invalid receiver');\n    return GetSlot(this, ISO_MINUTE);\n  }\n  get second(): Return['second'] {\n    if (!ES.IsTemporalDateTime(this)) throw new TypeError('invalid receiver');\n    return GetSlot(this, ISO_SECOND);\n  }\n  get millisecond(): Return['millisecond'] {\n    if (!ES.IsTemporalDateTime(this)) throw new TypeError('invalid receiver');\n    return GetSlot(this, ISO_MILLISECOND);\n  }\n  get microsecond(): Return['microsecond'] {\n    if (!ES.IsTemporalDateTime(this)) throw new TypeError('invalid receiver');\n    return GetSlot(this, ISO_MICROSECOND);\n  }\n  get nanosecond(): Return['nanosecond'] {\n    if (!ES.IsTemporalDateTime(this)) throw new TypeError('invalid receiver');\n    return GetSlot(this, ISO_NANOSECOND);\n  }\n  get era(): Return['era'] {\n    if (!ES.IsTemporalDateTime(this)) throw new TypeError('invalid receiver');\n    return ES.CalendarEra(GetSlot(this, CALENDAR), this);\n  }\n  get eraYear(): Return['eraYear'] {\n    if (!ES.IsTemporalDateTime(this)) throw new TypeError('invalid receiver');\n    return ES.CalendarEraYear(GetSlot(this, CALENDAR), this);\n  }\n  get dayOfWeek(): Return['dayOfWeek'] {\n    if (!ES.IsTemporalDateTime(this)) throw new TypeError('invalid receiver');\n    return ES.CalendarDayOfWeek(GetSlot(this, CALENDAR), this);\n  }\n  get dayOfYear(): Return['dayOfYear'] {\n    if (!ES.IsTemporalDateTime(this)) throw new TypeError('invalid receiver');\n    return ES.CalendarDayOfYear(GetSlot(this, CALENDAR), this);\n  }\n  get weekOfYear(): Return['weekOfYear'] {\n    if (!ES.IsTemporalDateTime(this)) throw new TypeError('invalid receiver');\n    return ES.CalendarWeekOfYear(GetSlot(this, CALENDAR), this);\n  }\n  get yearOfWeek(): Return['yearOfWeek'] {\n    if (!ES.IsTemporalDateTime(this)) throw new TypeError('invalid receiver');\n    return ES.CalendarYearOfWeek(GetSlot(this, CALENDAR), this);\n  }\n  get daysInWeek(): Return['daysInWeek'] {\n    if (!ES.IsTemporalDateTime(this)) throw new TypeError('invalid receiver');\n    return ES.CalendarDaysInWeek(GetSlot(this, CALENDAR), this);\n  }\n  get daysInYear(): Return['daysInYear'] {\n    if (!ES.IsTemporalDateTime(this)) throw new TypeError('invalid receiver');\n    return ES.CalendarDaysInYear(GetSlot(this, CALENDAR), this);\n  }\n  get daysInMonth(): Return['daysInMonth'] {\n    if (!ES.IsTemporalDateTime(this)) throw new TypeError('invalid receiver');\n    return ES.CalendarDaysInMonth(GetSlot(this, CALENDAR), this);\n  }\n  get monthsInYear(): Return['monthsInYear'] {\n    if (!ES.IsTemporalDateTime(this)) throw new TypeError('invalid receiver');\n    return ES.CalendarMonthsInYear(GetSlot(this, CALENDAR), this);\n  }\n  get inLeapYear(): Return['inLeapYear'] {\n    if (!ES.IsTemporalDateTime(this)) throw new TypeError('invalid receiver');\n    return ES.CalendarInLeapYear(GetSlot(this, CALENDAR), this);\n  }\n  with(temporalDateTimeLike: Params['with'][0], optionsParam: Params['with'][1] = undefined): Return['with'] {\n    if (!ES.IsTemporalDateTime(this)) throw new TypeError('invalid receiver');\n    if (!ES.IsObject(temporalDateTimeLike)) {\n      throw new TypeError('invalid argument');\n    }\n    ES.RejectTemporalLikeObject(temporalDateTimeLike);\n\n    const options = ES.GetOptionsObject(optionsParam);\n    const calendar = GetSlot(this, CALENDAR);\n    const fieldNames = ES.CalendarFields(calendar, [\n      'day',\n      'hour',\n      'microsecond',\n      'millisecond',\n      'minute',\n      'month',\n      'monthCode',\n      'nanosecond',\n      'second',\n      'year'\n    ] as const);\n    let fields = ES.PrepareTemporalFields(this, fieldNames, []);\n    const partialDateTime = ES.PrepareTemporalFields(temporalDateTimeLike, fieldNames, 'partial');\n    fields = ES.CalendarMergeFields(calendar, fields, partialDateTime);\n    fields = ES.PrepareTemporalFields(fields, fieldNames, []);\n    const { year, month, day, hour, minute, second, millisecond, microsecond, nanosecond } =\n      ES.InterpretTemporalDateTimeFields(calendar, fields, options);\n\n    return ES.CreateTemporalDateTime(\n      year,\n      month,\n      day,\n      hour,\n      minute,\n      second,\n      millisecond,\n      microsecond,\n      nanosecond,\n      calendar\n    );\n  }\n  withPlainTime(temporalTimeParam: Params['withPlainTime'][0] = undefined): Return['withPlainTime'] {\n    if (!ES.IsTemporalDateTime(this)) throw new TypeError('invalid receiver');\n    const year = GetSlot(this, ISO_YEAR);\n    const month = GetSlot(this, ISO_MONTH);\n    const day = GetSlot(this, ISO_DAY);\n    const calendar = GetSlot(this, CALENDAR);\n\n    if (temporalTimeParam === undefined) return ES.CreateTemporalDateTime(year, month, day, 0, 0, 0, 0, 0, 0, calendar);\n\n    const temporalTime = ES.ToTemporalTime(temporalTimeParam);\n    const hour = GetSlot(temporalTime, ISO_HOUR);\n    const minute = GetSlot(temporalTime, ISO_MINUTE);\n    const second = GetSlot(temporalTime, ISO_SECOND);\n    const millisecond = GetSlot(temporalTime, ISO_MILLISECOND);\n    const microsecond = GetSlot(temporalTime, ISO_MICROSECOND);\n    const nanosecond = GetSlot(temporalTime, ISO_NANOSECOND);\n\n    return ES.CreateTemporalDateTime(\n      year,\n      month,\n      day,\n      hour,\n      minute,\n      second,\n      millisecond,\n      microsecond,\n      nanosecond,\n      calendar\n    );\n  }\n  withPlainDate(temporalDateParam: Params['withPlainDate'][0]): Return['withPlainDate'] {\n    if (!ES.IsTemporalDateTime(this)) throw new TypeError('invalid receiver');\n\n    const temporalDate = ES.ToTemporalDate(temporalDateParam);\n    const year = GetSlot(temporalDate, ISO_YEAR);\n    const month = GetSlot(temporalDate, ISO_MONTH);\n    const day = GetSlot(temporalDate, ISO_DAY);\n    let calendar = GetSlot(temporalDate, CALENDAR);\n\n    const hour = GetSlot(this, ISO_HOUR);\n    const minute = GetSlot(this, ISO_MINUTE);\n    const second = GetSlot(this, ISO_SECOND);\n    const millisecond = GetSlot(this, ISO_MILLISECOND);\n    const microsecond = GetSlot(this, ISO_MICROSECOND);\n    const nanosecond = GetSlot(this, ISO_NANOSECOND);\n\n    calendar = ES.ConsolidateCalendars(GetSlot(this, CALENDAR), calendar);\n    return ES.CreateTemporalDateTime(\n      year,\n      month,\n      day,\n      hour,\n      minute,\n      second,\n      millisecond,\n      microsecond,\n      nanosecond,\n      calendar\n    );\n  }\n  withCalendar(calendarParam: Params['withCalendar'][0]): Return['withCalendar'] {\n    if (!ES.IsTemporalDateTime(this)) throw new TypeError('invalid receiver');\n    const calendar = ES.ToTemporalCalendarSlotValue(calendarParam);\n    return new PlainDateTime(\n      GetSlot(this, ISO_YEAR),\n      GetSlot(this, ISO_MONTH),\n      GetSlot(this, ISO_DAY),\n      GetSlot(this, ISO_HOUR),\n      GetSlot(this, ISO_MINUTE),\n      GetSlot(this, ISO_SECOND),\n      GetSlot(this, ISO_MILLISECOND),\n      GetSlot(this, ISO_MICROSECOND),\n      GetSlot(this, ISO_NANOSECOND),\n      calendar\n    );\n  }\n  add(temporalDurationLike: Params['add'][0], options: Params['add'][1] = undefined): Return['add'] {\n    if (!ES.IsTemporalDateTime(this)) throw new TypeError('invalid receiver');\n    return ES.AddDurationToOrSubtractDurationFromPlainDateTime('add', this, temporalDurationLike, options);\n  }\n  subtract(\n    temporalDurationLike: Params['subtract'][0],\n    options: Params['subtract'][1] = undefined\n  ): Return['subtract'] {\n    if (!ES.IsTemporalDateTime(this)) throw new TypeError('invalid receiver');\n    return ES.AddDurationToOrSubtractDurationFromPlainDateTime('subtract', this, temporalDurationLike, options);\n  }\n  until(other: Params['until'][0], options: Params['until'][1] = undefined): Return['until'] {\n    if (!ES.IsTemporalDateTime(this)) throw new TypeError('invalid receiver');\n    return ES.DifferenceTemporalPlainDateTime('until', this, other, options);\n  }\n  since(other: Params['since'][0], options: Params['since'][1] = undefined): Return['since'] {\n    if (!ES.IsTemporalDateTime(this)) throw new TypeError('invalid receiver');\n    return ES.DifferenceTemporalPlainDateTime('since', this, other, options);\n  }\n  round(roundToParam: Params['round'][0]): Return['round'] {\n    if (!ES.IsTemporalDateTime(this)) throw new TypeError('invalid receiver');\n    if (roundToParam === undefined) throw new TypeError('options parameter is required');\n    const roundTo =\n      typeof roundToParam === 'string'\n        ? (ES.CreateOnePropObject('smallestUnit', roundToParam) as Exclude<typeof roundToParam, string>)\n        : ES.GetOptionsObject(roundToParam);\n    const roundingIncrement = ES.ToTemporalRoundingIncrement(roundTo);\n    const roundingMode = ES.ToTemporalRoundingMode(roundTo, 'halfExpand');\n    const smallestUnit = ES.GetTemporalUnit(roundTo, 'smallestUnit', 'time', ES.REQUIRED, ['day']);\n    const maximumIncrements = {\n      day: 1,\n      hour: 24,\n      minute: 60,\n      second: 60,\n      millisecond: 1000,\n      microsecond: 1000,\n      nanosecond: 1000\n    };\n    const maximum = maximumIncrements[smallestUnit];\n    const inclusive = maximum === 1;\n    ES.ValidateTemporalRoundingIncrement(roundingIncrement, maximum, inclusive);\n\n    let year = GetSlot(this, ISO_YEAR);\n    let month = GetSlot(this, ISO_MONTH);\n    let day = GetSlot(this, ISO_DAY);\n    let hour = GetSlot(this, ISO_HOUR);\n    let minute = GetSlot(this, ISO_MINUTE);\n    let second = GetSlot(this, ISO_SECOND);\n    let millisecond = GetSlot(this, ISO_MILLISECOND);\n    let microsecond = GetSlot(this, ISO_MICROSECOND);\n    let nanosecond = GetSlot(this, ISO_NANOSECOND);\n    ({ year, month, day, hour, minute, second, millisecond, microsecond, nanosecond } = ES.RoundISODateTime(\n      year,\n      month,\n      day,\n      hour,\n      minute,\n      second,\n      millisecond,\n      microsecond,\n      nanosecond,\n      roundingIncrement,\n      smallestUnit,\n      roundingMode\n    ));\n\n    return ES.CreateTemporalDateTime(\n      year,\n      month,\n      day,\n      hour,\n      minute,\n      second,\n      millisecond,\n      microsecond,\n      nanosecond,\n      GetSlot(this, CALENDAR)\n    );\n  }\n  equals(otherParam: Params['equals'][0]): Return['equals'] {\n    if (!ES.IsTemporalDateTime(this)) throw new TypeError('invalid receiver');\n    const other = ES.ToTemporalDateTime(otherParam);\n    for (const slot of [\n      ISO_YEAR,\n      ISO_MONTH,\n      ISO_DAY,\n      ISO_HOUR,\n      ISO_MINUTE,\n      ISO_SECOND,\n      ISO_MILLISECOND,\n      ISO_MICROSECOND,\n      ISO_NANOSECOND\n    ]) {\n      const val1 = GetSlot(this, slot);\n      const val2 = GetSlot(other, slot);\n      if (val1 !== val2) return false;\n    }\n    return ES.CalendarEquals(GetSlot(this, CALENDAR), GetSlot(other, CALENDAR));\n  }\n  toString(optionsParam: Params['toString'][0] = undefined): string {\n    if (!ES.IsTemporalDateTime(this)) throw new TypeError('invalid receiver');\n    const options = ES.GetOptionsObject(optionsParam);\n    const showCalendar = ES.ToCalendarNameOption(options);\n    const digits = ES.ToFractionalSecondDigits(options);\n    const roundingMode = ES.ToTemporalRoundingMode(options, 'trunc');\n    const smallestUnit = ES.GetTemporalUnit(options, 'smallestUnit', 'time', undefined);\n    if (smallestUnit === 'hour') throw new RangeError('smallestUnit must be a time unit other than \"hour\"');\n    const { precision, unit, increment } = ES.ToSecondsStringPrecisionRecord(smallestUnit, digits);\n    return ES.TemporalDateTimeToString(this, precision, showCalendar, { unit, increment, roundingMode });\n  }\n  toJSON(): Return['toJSON'] {\n    if (!ES.IsTemporalDateTime(this)) throw new TypeError('invalid receiver');\n    return ES.TemporalDateTimeToString(this, 'auto');\n  }\n  toLocaleString(\n    locales: Params['toLocaleString'][0] = undefined,\n    options: Params['toLocaleString'][1] = undefined\n  ): string {\n    if (!ES.IsTemporalDateTime(this)) throw new TypeError('invalid receiver');\n    return new DateTimeFormat(locales, options).format(this);\n  }\n  valueOf(): never {\n    throw new TypeError('use compare() or equals() to compare Temporal.PlainDateTime');\n  }\n\n  toZonedDateTime(\n    temporalTimeZoneLike: Params['toZonedDateTime'][0],\n    optionsParam: Params['toZonedDateTime'][1] = undefined\n  ): Return['toZonedDateTime'] {\n    if (!ES.IsTemporalDateTime(this)) throw new TypeError('invalid receiver');\n    const timeZone = ES.ToTemporalTimeZoneSlotValue(temporalTimeZoneLike);\n    const options = ES.GetOptionsObject(optionsParam);\n    const disambiguation = ES.ToTemporalDisambiguation(options);\n    const instant = ES.GetInstantFor(timeZone, this, disambiguation);\n    return ES.CreateTemporalZonedDateTime(GetSlot(instant, EPOCHNANOSECONDS), timeZone, GetSlot(this, CALENDAR));\n  }\n  toPlainDate(): Return['toPlainDate'] {\n    if (!ES.IsTemporalDateTime(this)) throw new TypeError('invalid receiver');\n    return ES.TemporalDateTimeToDate(this);\n  }\n  toPlainYearMonth(): Return['toPlainYearMonth'] {\n    if (!ES.IsTemporalDateTime(this)) throw new TypeError('invalid receiver');\n    const calendar = GetSlot(this, CALENDAR);\n    const fieldNames = ES.CalendarFields(calendar, ['monthCode', 'year'] as const);\n    const fields = ES.PrepareTemporalFields(this, fieldNames, []);\n    return ES.CalendarYearMonthFromFields(calendar, fields);\n  }\n  toPlainMonthDay(): Return['toPlainMonthDay'] {\n    if (!ES.IsTemporalDateTime(this)) throw new TypeError('invalid receiver');\n    const calendar = GetSlot(this, CALENDAR);\n    const fieldNames = ES.CalendarFields(calendar, ['day', 'monthCode'] as const);\n    const fields = ES.PrepareTemporalFields(this, fieldNames, []);\n    return ES.CalendarMonthDayFromFields(calendar, fields);\n  }\n  toPlainTime(): Return['toPlainTime'] {\n    if (!ES.IsTemporalDateTime(this)) throw new TypeError('invalid receiver');\n    return ES.TemporalDateTimeToTime(this);\n  }\n  getISOFields(): Return['getISOFields'] {\n    if (!ES.IsTemporalDateTime(this)) throw new TypeError('invalid receiver');\n    return {\n      calendar: GetSlot(this, CALENDAR),\n      isoDay: GetSlot(this, ISO_DAY),\n      isoHour: GetSlot(this, ISO_HOUR),\n      isoMicrosecond: GetSlot(this, ISO_MICROSECOND),\n      isoMillisecond: GetSlot(this, ISO_MILLISECOND),\n      isoMinute: GetSlot(this, ISO_MINUTE),\n      isoMonth: GetSlot(this, ISO_MONTH),\n      isoNanosecond: GetSlot(this, ISO_NANOSECOND),\n      isoSecond: GetSlot(this, ISO_SECOND),\n      isoYear: GetSlot(this, ISO_YEAR)\n    };\n  }\n  getCalendar(): Return['getCalendar'] {\n    if (!ES.IsTemporalDateTime(this)) throw new TypeError('invalid receiver');\n    return ES.ToTemporalCalendarObject(GetSlot(this, CALENDAR));\n  }\n\n  static from(item: Params['from'][0], optionsParam: Params['from'][1] = undefined): Return['from'] {\n    const options = ES.GetOptionsObject(optionsParam);\n    if (ES.IsTemporalDateTime(item)) {\n      ES.ToTemporalOverflow(options); // validate and ignore\n      return ES.CreateTemporalDateTime(\n        GetSlot(item, ISO_YEAR),\n        GetSlot(item, ISO_MONTH),\n        GetSlot(item, ISO_DAY),\n        GetSlot(item, ISO_HOUR),\n        GetSlot(item, ISO_MINUTE),\n        GetSlot(item, ISO_SECOND),\n        GetSlot(item, ISO_MILLISECOND),\n        GetSlot(item, ISO_MICROSECOND),\n        GetSlot(item, ISO_NANOSECOND),\n        GetSlot(item, CALENDAR)\n      );\n    }\n    return ES.ToTemporalDateTime(item, options);\n  }\n  static compare(oneParam: Params['compare'][0], twoParam: Params['compare'][1]): Return['compare'] {\n    const one = ES.ToTemporalDateTime(oneParam);\n    const two = ES.ToTemporalDateTime(twoParam);\n    for (const slot of [\n      ISO_YEAR,\n      ISO_MONTH,\n      ISO_DAY,\n      ISO_HOUR,\n      ISO_MINUTE,\n      ISO_SECOND,\n      ISO_MILLISECOND,\n      ISO_MICROSECOND,\n      ISO_NANOSECOND\n    ] as const) {\n      const val1 = GetSlot(one, slot);\n      const val2 = GetSlot(two, slot);\n      if (val1 !== val2) return ES.ComparisonResult(val1 - val2);\n    }\n    return 0;\n  }\n  [Symbol.toStringTag]!: 'Temporal.PlainDateTime';\n}\n\nMakeIntrinsicClass(PlainDateTime, 'Temporal.PlainDateTime');\n","import { DEBUG } from './debug';\nimport * as ES from './ecmascript';\nimport { MakeIntrinsicClass } from './intrinsicclass';\nimport {\n  YEARS,\n  MONTHS,\n  WEEKS,\n  DAYS,\n  HOURS,\n  MINUTES,\n  SECONDS,\n  MILLISECONDS,\n  MICROSECONDS,\n  NANOSECONDS,\n  CreateSlots,\n  GetSlot,\n  SetSlot\n} from './slots';\nimport type { Temporal } from '..';\nimport type { DurationParams as Params, DurationReturn as Return } from './internaltypes';\nimport JSBI from 'jsbi';\n\nexport class Duration implements Temporal.Duration {\n  constructor(\n    yearsParam: Params['constructor'][0] = 0,\n    monthsParam: Params['constructor'][1] = 0,\n    weeksParam: Params['constructor'][2] = 0,\n    daysParam: Params['constructor'][3] = 0,\n    hoursParam: Params['constructor'][4] = 0,\n    minutesParam: Params['constructor'][5] = 0,\n    secondsParam: Params['constructor'][6] = 0,\n    millisecondsParam: Params['constructor'][7] = 0,\n    microsecondsParam: Params['constructor'][8] = 0,\n    nanosecondsParam: Params['constructor'][9] = 0\n  ) {\n    const years = yearsParam === undefined ? 0 : ES.ToIntegerIfIntegral(yearsParam);\n    const months = monthsParam === undefined ? 0 : ES.ToIntegerIfIntegral(monthsParam);\n    const weeks = weeksParam === undefined ? 0 : ES.ToIntegerIfIntegral(weeksParam);\n    const days = daysParam === undefined ? 0 : ES.ToIntegerIfIntegral(daysParam);\n    const hours = hoursParam === undefined ? 0 : ES.ToIntegerIfIntegral(hoursParam);\n    const minutes = minutesParam === undefined ? 0 : ES.ToIntegerIfIntegral(minutesParam);\n    const seconds = secondsParam === undefined ? 0 : ES.ToIntegerIfIntegral(secondsParam);\n    const milliseconds = millisecondsParam === undefined ? 0 : ES.ToIntegerIfIntegral(millisecondsParam);\n    const microseconds = microsecondsParam === undefined ? 0 : ES.ToIntegerIfIntegral(microsecondsParam);\n    const nanoseconds = nanosecondsParam === undefined ? 0 : ES.ToIntegerIfIntegral(nanosecondsParam);\n\n    ES.RejectDuration(years, months, weeks, days, hours, minutes, seconds, milliseconds, microseconds, nanoseconds);\n\n    CreateSlots(this);\n    SetSlot(this, YEARS, years);\n    SetSlot(this, MONTHS, months);\n    SetSlot(this, WEEKS, weeks);\n    SetSlot(this, DAYS, days);\n    SetSlot(this, HOURS, hours);\n    SetSlot(this, MINUTES, minutes);\n    SetSlot(this, SECONDS, seconds);\n    SetSlot(this, MILLISECONDS, milliseconds);\n    SetSlot(this, MICROSECONDS, microseconds);\n    SetSlot(this, NANOSECONDS, nanoseconds);\n\n    if (DEBUG) {\n      Object.defineProperty(this, '_repr_', {\n        value: `${this[Symbol.toStringTag]} <${ES.TemporalDurationToString(this)}>`,\n        writable: false,\n        enumerable: false,\n        configurable: false\n      });\n    }\n  }\n  get years(): Return['years'] {\n    if (!ES.IsTemporalDuration(this)) throw new TypeError('invalid receiver');\n    return GetSlot(this, YEARS);\n  }\n  get months(): Return['months'] {\n    if (!ES.IsTemporalDuration(this)) throw new TypeError('invalid receiver');\n    return GetSlot(this, MONTHS);\n  }\n  get weeks(): Return['weeks'] {\n    if (!ES.IsTemporalDuration(this)) throw new TypeError('invalid receiver');\n    return GetSlot(this, WEEKS);\n  }\n  get days(): Return['days'] {\n    if (!ES.IsTemporalDuration(this)) throw new TypeError('invalid receiver');\n    return GetSlot(this, DAYS);\n  }\n  get hours(): Return['hours'] {\n    if (!ES.IsTemporalDuration(this)) throw new TypeError('invalid receiver');\n    return GetSlot(this, HOURS);\n  }\n  get minutes(): Return['minutes'] {\n    if (!ES.IsTemporalDuration(this)) throw new TypeError('invalid receiver');\n    return GetSlot(this, MINUTES);\n  }\n  get seconds(): Return['seconds'] {\n    if (!ES.IsTemporalDuration(this)) throw new TypeError('invalid receiver');\n    return GetSlot(this, SECONDS);\n  }\n  get milliseconds(): Return['milliseconds'] {\n    if (!ES.IsTemporalDuration(this)) throw new TypeError('invalid receiver');\n    return GetSlot(this, MILLISECONDS);\n  }\n  get microseconds(): Return['microseconds'] {\n    if (!ES.IsTemporalDuration(this)) throw new TypeError('invalid receiver');\n    return GetSlot(this, MICROSECONDS);\n  }\n  get nanoseconds(): Return['nanoseconds'] {\n    if (!ES.IsTemporalDuration(this)) throw new TypeError('invalid receiver');\n    return GetSlot(this, NANOSECONDS);\n  }\n  get sign(): Return['sign'] {\n    if (!ES.IsTemporalDuration(this)) throw new TypeError('invalid receiver');\n    return ES.DurationSign(\n      GetSlot(this, YEARS),\n      GetSlot(this, MONTHS),\n      GetSlot(this, WEEKS),\n      GetSlot(this, DAYS),\n      GetSlot(this, HOURS),\n      GetSlot(this, MINUTES),\n      GetSlot(this, SECONDS),\n      GetSlot(this, MILLISECONDS),\n      GetSlot(this, MICROSECONDS),\n      GetSlot(this, NANOSECONDS)\n    );\n  }\n  get blank(): Return['blank'] {\n    if (!ES.IsTemporalDuration(this)) throw new TypeError('invalid receiver');\n    return (\n      ES.DurationSign(\n        GetSlot(this, YEARS),\n        GetSlot(this, MONTHS),\n        GetSlot(this, WEEKS),\n        GetSlot(this, DAYS),\n        GetSlot(this, HOURS),\n        GetSlot(this, MINUTES),\n        GetSlot(this, SECONDS),\n        GetSlot(this, MILLISECONDS),\n        GetSlot(this, MICROSECONDS),\n        GetSlot(this, NANOSECONDS)\n      ) === 0\n    );\n  }\n  with(durationLike: Params['with'][0]): Return['with'] {\n    if (!ES.IsTemporalDuration(this)) throw new TypeError('invalid receiver');\n    const partialDuration = ES.PrepareTemporalFields(\n      durationLike,\n      // NOTE: Field order here is important.\n      [\n        'days',\n        'hours',\n        'microseconds',\n        'milliseconds',\n        'minutes',\n        'months',\n        'nanoseconds',\n        'seconds',\n        'weeks',\n        'years'\n      ],\n      'partial'\n    );\n    const {\n      years = GetSlot(this, YEARS),\n      months = GetSlot(this, MONTHS),\n      weeks = GetSlot(this, WEEKS),\n      days = GetSlot(this, DAYS),\n      hours = GetSlot(this, HOURS),\n      minutes = GetSlot(this, MINUTES),\n      seconds = GetSlot(this, SECONDS),\n      milliseconds = GetSlot(this, MILLISECONDS),\n      microseconds = GetSlot(this, MICROSECONDS),\n      nanoseconds = GetSlot(this, NANOSECONDS)\n    } = partialDuration;\n    return new Duration(years, months, weeks, days, hours, minutes, seconds, milliseconds, microseconds, nanoseconds);\n  }\n  negated(): Return['negated'] {\n    if (!ES.IsTemporalDuration(this)) throw new TypeError('invalid receiver');\n    return ES.CreateNegatedTemporalDuration(this);\n  }\n  abs(): Return['abs'] {\n    if (!ES.IsTemporalDuration(this)) throw new TypeError('invalid receiver');\n    return new Duration(\n      Math.abs(GetSlot(this, YEARS)),\n      Math.abs(GetSlot(this, MONTHS)),\n      Math.abs(GetSlot(this, WEEKS)),\n      Math.abs(GetSlot(this, DAYS)),\n      Math.abs(GetSlot(this, HOURS)),\n      Math.abs(GetSlot(this, MINUTES)),\n      Math.abs(GetSlot(this, SECONDS)),\n      Math.abs(GetSlot(this, MILLISECONDS)),\n      Math.abs(GetSlot(this, MICROSECONDS)),\n      Math.abs(GetSlot(this, NANOSECONDS))\n    );\n  }\n  add(other: Params['add'][0], options: Params['add'][1] = undefined): Return['add'] {\n    if (!ES.IsTemporalDuration(this)) throw new TypeError('invalid receiver');\n    return ES.AddDurationToOrSubtractDurationFromDuration('add', this, other, options);\n  }\n  subtract(other: Params['subtract'][0], options: Params['subtract'][1] = undefined): Return['subtract'] {\n    if (!ES.IsTemporalDuration(this)) throw new TypeError('invalid receiver');\n    return ES.AddDurationToOrSubtractDurationFromDuration('subtract', this, other, options);\n  }\n  round(roundToParam: Params['round'][0]): Return['round'] {\n    if (!ES.IsTemporalDuration(this)) throw new TypeError('invalid receiver');\n    if (roundToParam === undefined) throw new TypeError('options parameter is required');\n    let years = GetSlot(this, YEARS);\n    let months = GetSlot(this, MONTHS);\n    let weeks = GetSlot(this, WEEKS);\n    let days = GetSlot(this, DAYS);\n    let hours = GetSlot(this, HOURS);\n    let minutes = GetSlot(this, MINUTES);\n    let seconds = GetSlot(this, SECONDS);\n    let milliseconds = GetSlot(this, MILLISECONDS);\n    let microseconds = GetSlot(this, MICROSECONDS);\n    let nanoseconds = GetSlot(this, NANOSECONDS);\n\n    let defaultLargestUnit = ES.DefaultTemporalLargestUnit(\n      years,\n      months,\n      weeks,\n      days,\n      hours,\n      minutes,\n      seconds,\n      milliseconds,\n      microseconds,\n      nanoseconds\n    );\n    const roundTo =\n      typeof roundToParam === 'string'\n        ? (ES.CreateOnePropObject('smallestUnit', roundToParam) as Exclude<typeof roundToParam, string>)\n        : ES.GetOptionsObject(roundToParam);\n\n    let largestUnit = ES.GetTemporalUnit(roundTo, 'largestUnit', 'datetime', undefined, ['auto']);\n    let relativeTo = ES.ToRelativeTemporalObject(roundTo);\n    const roundingIncrement = ES.ToTemporalRoundingIncrement(roundTo);\n    const roundingMode = ES.ToTemporalRoundingMode(roundTo, 'halfExpand');\n    let smallestUnit = ES.GetTemporalUnit(roundTo, 'smallestUnit', 'datetime', undefined);\n\n    let smallestUnitPresent = true;\n    if (!smallestUnit) {\n      smallestUnitPresent = false;\n      smallestUnit = 'nanosecond';\n    }\n    defaultLargestUnit = ES.LargerOfTwoTemporalUnits(defaultLargestUnit, smallestUnit);\n    let largestUnitPresent = true;\n    if (!largestUnit) {\n      largestUnitPresent = false;\n      largestUnit = defaultLargestUnit;\n    }\n    if (largestUnit === 'auto') largestUnit = defaultLargestUnit;\n    if (!smallestUnitPresent && !largestUnitPresent) {\n      throw new RangeError('at least one of smallestUnit or largestUnit is required');\n    }\n    if (ES.LargerOfTwoTemporalUnits(largestUnit, smallestUnit) !== largestUnit) {\n      throw new RangeError(`largestUnit ${largestUnit} cannot be smaller than smallestUnit ${smallestUnit}`);\n    }\n\n    const maximumIncrements = {\n      hour: 24,\n      minute: 60,\n      second: 60,\n      millisecond: 1000,\n      microsecond: 1000,\n      nanosecond: 1000\n    } as { [k in Temporal.DateTimeUnit]?: number };\n    const maximum = maximumIncrements[smallestUnit];\n    if (maximum !== undefined) ES.ValidateTemporalRoundingIncrement(roundingIncrement, maximum, false);\n\n    ({ years, months, weeks, days } = ES.UnbalanceDurationRelative(\n      years,\n      months,\n      weeks,\n      days,\n      largestUnit,\n      relativeTo\n    ));\n    ({ years, months, weeks, days, hours, minutes, seconds, milliseconds, microseconds, nanoseconds } =\n      ES.RoundDuration(\n        years,\n        months,\n        weeks,\n        days,\n        hours,\n        minutes,\n        seconds,\n        milliseconds,\n        microseconds,\n        nanoseconds,\n        roundingIncrement,\n        smallestUnit,\n        roundingMode,\n        relativeTo\n      ));\n    ({ years, months, weeks, days, hours, minutes, seconds, milliseconds, microseconds, nanoseconds } =\n      ES.AdjustRoundedDurationDays(\n        years,\n        months,\n        weeks,\n        days,\n        hours,\n        minutes,\n        seconds,\n        milliseconds,\n        microseconds,\n        nanoseconds,\n        roundingIncrement,\n        smallestUnit,\n        roundingMode,\n        relativeTo\n      ));\n    ({ days, hours, minutes, seconds, milliseconds, microseconds, nanoseconds } = ES.BalanceDuration(\n      days,\n      hours,\n      minutes,\n      seconds,\n      milliseconds,\n      microseconds,\n      nanoseconds,\n      largestUnit,\n      relativeTo\n    ));\n    ({ years, months, weeks, days } = ES.BalanceDurationRelative(years, months, weeks, days, largestUnit, relativeTo));\n\n    return new Duration(years, months, weeks, days, hours, minutes, seconds, milliseconds, microseconds, nanoseconds);\n  }\n  total(optionsParam: Params['total'][0]): Return['total'] {\n    if (!ES.IsTemporalDuration(this)) throw new TypeError('invalid receiver');\n    let years = GetSlot(this, YEARS);\n    let months = GetSlot(this, MONTHS);\n    let weeks = GetSlot(this, WEEKS);\n    let days = GetSlot(this, DAYS);\n    let hours = GetSlot(this, HOURS);\n    let minutes = GetSlot(this, MINUTES);\n    let seconds = GetSlot(this, SECONDS);\n    let milliseconds = GetSlot(this, MILLISECONDS);\n    let microseconds = GetSlot(this, MICROSECONDS);\n    let nanoseconds = GetSlot(this, NANOSECONDS);\n\n    if (optionsParam === undefined) throw new TypeError('options argument is required');\n    const options =\n      typeof optionsParam === 'string'\n        ? (ES.CreateOnePropObject('unit', optionsParam) as Exclude<typeof optionsParam, string>)\n        : ES.GetOptionsObject(optionsParam);\n    const relativeTo = ES.ToRelativeTemporalObject(options);\n    const unit = ES.GetTemporalUnit(options, 'unit', 'datetime', ES.REQUIRED);\n\n    // Convert larger units down to days\n    ({ years, months, weeks, days } = ES.UnbalanceDurationRelative(years, months, weeks, days, unit, relativeTo));\n    // If the unit we're totalling is smaller than `days`, convert days down to that unit.\n    let intermediate;\n    if (ES.IsTemporalZonedDateTime(relativeTo)) {\n      intermediate = ES.MoveRelativeZonedDateTime(relativeTo, years, months, weeks, 0);\n    }\n    let balanceResult = ES.BalancePossiblyInfiniteDuration(\n      days,\n      hours,\n      minutes,\n      seconds,\n      milliseconds,\n      microseconds,\n      nanoseconds,\n      unit,\n      intermediate\n    );\n    if (balanceResult === 'positive overflow') {\n      return Infinity;\n    } else if (balanceResult === 'negative overflow') {\n      return -Infinity;\n    }\n    ({ days, hours, minutes, seconds, milliseconds, microseconds, nanoseconds } = balanceResult);\n    // Finally, truncate to the correct unit and calculate remainder\n    const { total } = ES.RoundDuration(\n      years,\n      months,\n      weeks,\n      days,\n      hours,\n      minutes,\n      seconds,\n      milliseconds,\n      microseconds,\n      nanoseconds,\n      1,\n      unit,\n      'trunc',\n      relativeTo\n    );\n    return total;\n  }\n  toString(optionsParam: Params['toString'][0] = undefined): string {\n    if (!ES.IsTemporalDuration(this)) throw new TypeError('invalid receiver');\n    const options = ES.GetOptionsObject(optionsParam);\n    const digits = ES.ToFractionalSecondDigits(options);\n    const roundingMode = ES.ToTemporalRoundingMode(options, 'trunc');\n    const smallestUnit = ES.GetTemporalUnit(options, 'smallestUnit', 'time', undefined);\n    if (smallestUnit === 'hour' || smallestUnit === 'minute') {\n      throw new RangeError('smallestUnit must be a time unit other than \"hours\" or \"minutes\"');\n    }\n    const { precision, unit, increment } = ES.ToSecondsStringPrecisionRecord(smallestUnit, digits);\n    ES.uncheckedAssertNarrowedType<Exclude<typeof precision, 'minute'>>(\n      precision,\n      'Precision cannot be \"minute\" because of RangeError above'\n    );\n    return ES.TemporalDurationToString(this, precision, { unit, increment, roundingMode });\n  }\n  toJSON(): Return['toJSON'] {\n    if (!ES.IsTemporalDuration(this)) throw new TypeError('invalid receiver');\n    return ES.TemporalDurationToString(this);\n  }\n  toLocaleString(\n    locales: Params['toLocaleString'][0] = undefined,\n    options: Params['toLocaleString'][1] = undefined\n  ): string {\n    if (!ES.IsTemporalDuration(this)) throw new TypeError('invalid receiver');\n    if (typeof Intl !== 'undefined' && typeof (Intl as any).DurationFormat !== 'undefined') {\n      return new (Intl as any).DurationFormat(locales, options).format(this);\n    }\n    console.warn('Temporal.Duration.prototype.toLocaleString() requires Intl.DurationFormat.');\n    return ES.TemporalDurationToString(this);\n  }\n  valueOf(): never {\n    throw new TypeError('use compare() to compare Temporal.Duration');\n  }\n  static from(item: Params['from'][0]): Return['from'] {\n    if (ES.IsTemporalDuration(item)) {\n      return new Duration(\n        GetSlot(item, YEARS),\n        GetSlot(item, MONTHS),\n        GetSlot(item, WEEKS),\n        GetSlot(item, DAYS),\n        GetSlot(item, HOURS),\n        GetSlot(item, MINUTES),\n        GetSlot(item, SECONDS),\n        GetSlot(item, MILLISECONDS),\n        GetSlot(item, MICROSECONDS),\n        GetSlot(item, NANOSECONDS)\n      );\n    }\n    return ES.ToTemporalDuration(item);\n  }\n  static compare(\n    oneParam: Params['compare'][0],\n    twoParam: Params['compare'][1],\n    optionsParam: Params['compare'][2] = undefined\n  ) {\n    const one = ES.ToTemporalDuration(oneParam);\n    const two = ES.ToTemporalDuration(twoParam);\n    const options = ES.GetOptionsObject(optionsParam);\n    const relativeTo = ES.ToRelativeTemporalObject(options);\n    const y1 = GetSlot(one, YEARS);\n    const mon1 = GetSlot(one, MONTHS);\n    const w1 = GetSlot(one, WEEKS);\n    let d1 = GetSlot(one, DAYS);\n    const h1 = GetSlot(one, HOURS);\n    const min1 = GetSlot(one, MINUTES);\n    const s1 = GetSlot(one, SECONDS);\n    const ms1 = GetSlot(one, MILLISECONDS);\n    const µs1 = GetSlot(one, MICROSECONDS);\n    let ns1 = GetSlot(one, NANOSECONDS);\n    const y2 = GetSlot(two, YEARS);\n    const mon2 = GetSlot(two, MONTHS);\n    const w2 = GetSlot(two, WEEKS);\n    let d2 = GetSlot(two, DAYS);\n    const h2 = GetSlot(two, HOURS);\n    const min2 = GetSlot(two, MINUTES);\n    const s2 = GetSlot(two, SECONDS);\n    const ms2 = GetSlot(two, MILLISECONDS);\n    const µs2 = GetSlot(two, MICROSECONDS);\n    let ns2 = GetSlot(two, NANOSECONDS);\n    const shift1 = ES.CalculateOffsetShift(relativeTo, y1, mon1, w1, d1);\n    const shift2 = ES.CalculateOffsetShift(relativeTo, y2, mon2, w2, d2);\n    if (y1 !== 0 || y2 !== 0 || mon1 !== 0 || mon2 !== 0 || w1 !== 0 || w2 !== 0) {\n      ({ days: d1 } = ES.UnbalanceDurationRelative(y1, mon1, w1, d1, 'day', relativeTo));\n      ({ days: d2 } = ES.UnbalanceDurationRelative(y2, mon2, w2, d2, 'day', relativeTo));\n    }\n    const totalNs1 = ES.TotalDurationNanoseconds(d1, h1, min1, s1, ms1, µs1, ns1, shift1);\n    const totalNs2 = ES.TotalDurationNanoseconds(d2, h2, min2, s2, ms2, µs2, ns2, shift2);\n    return ES.ComparisonResult(JSBI.toNumber(JSBI.subtract(totalNs1, totalNs2)));\n  }\n  [Symbol.toStringTag]!: 'Temporal.Duration';\n}\n\nMakeIntrinsicClass(Duration, 'Temporal.Duration');\n","import * as ES from './ecmascript';\nimport { MakeIntrinsicClass } from './intrinsicclass';\nimport { ISO_MONTH, ISO_DAY, ISO_YEAR, CALENDAR, GetSlot } from './slots';\nimport type { Temporal } from '..';\nimport { DateTimeFormat } from './intl';\nimport type { PlainMonthDayParams as Params, PlainMonthDayReturn as Return } from './internaltypes';\n\nconst ObjectCreate = Object.create;\n\nexport class PlainMonthDay implements Temporal.PlainMonthDay {\n  constructor(\n    isoMonthParam: Params['constructor'][0],\n    isoDayParam: Params['constructor'][0],\n    calendarParam: string | Temporal.CalendarProtocol = 'iso8601',\n    referenceISOYearParam = 1972\n  ) {\n    const isoMonth = ES.ToIntegerWithTruncation(isoMonthParam);\n    const isoDay = ES.ToIntegerWithTruncation(isoDayParam);\n    const calendar = ES.ToTemporalCalendarSlotValue(calendarParam);\n    const referenceISOYear = ES.ToIntegerWithTruncation(referenceISOYearParam);\n\n    ES.CreateTemporalMonthDaySlots(this, isoMonth, isoDay, calendar, referenceISOYear);\n  }\n\n  get monthCode(): Return['monthCode'] {\n    if (!ES.IsTemporalMonthDay(this)) throw new TypeError('invalid receiver');\n    return ES.CalendarMonthCode(GetSlot(this, CALENDAR), this);\n  }\n  get day(): Return['day'] {\n    if (!ES.IsTemporalMonthDay(this)) throw new TypeError('invalid receiver');\n    return ES.CalendarDay(GetSlot(this, CALENDAR), this);\n  }\n  get calendarId(): Return['calendarId'] {\n    if (!ES.IsTemporalMonthDay(this)) throw new TypeError('invalid receiver');\n    return ES.ToTemporalCalendarIdentifier(GetSlot(this, CALENDAR));\n  }\n\n  with(temporalMonthDayLike: Params['with'][0], optionsParam: Params['with'][1] = undefined): Return['with'] {\n    if (!ES.IsTemporalMonthDay(this)) throw new TypeError('invalid receiver');\n    if (!ES.IsObject(temporalMonthDayLike)) {\n      throw new TypeError('invalid argument');\n    }\n    ES.RejectTemporalLikeObject(temporalMonthDayLike);\n    const options = ES.GetOptionsObject(optionsParam);\n\n    const calendar = GetSlot(this, CALENDAR);\n    const fieldNames = ES.CalendarFields(calendar, ['day', 'month', 'monthCode', 'year'] as const);\n    let fields = ES.PrepareTemporalFields(this, fieldNames, []);\n    const partialMonthDay = ES.PrepareTemporalFields(temporalMonthDayLike, fieldNames, 'partial');\n    fields = ES.CalendarMergeFields(calendar, fields, partialMonthDay);\n    fields = ES.PrepareTemporalFields(fields, fieldNames, []);\n\n    return ES.CalendarMonthDayFromFields(calendar, fields, options);\n  }\n  equals(otherParam: Params['equals'][0]): Return['equals'] {\n    if (!ES.IsTemporalMonthDay(this)) throw new TypeError('invalid receiver');\n    const other = ES.ToTemporalMonthDay(otherParam);\n    for (const slot of [ISO_MONTH, ISO_DAY, ISO_YEAR]) {\n      const val1 = GetSlot(this, slot);\n      const val2 = GetSlot(other, slot);\n      if (val1 !== val2) return false;\n    }\n    return ES.CalendarEquals(GetSlot(this, CALENDAR), GetSlot(other, CALENDAR));\n  }\n  toString(optionsParam: Params['toString'][0] = undefined): string {\n    if (!ES.IsTemporalMonthDay(this)) throw new TypeError('invalid receiver');\n    const options = ES.GetOptionsObject(optionsParam);\n    const showCalendar = ES.ToCalendarNameOption(options);\n    return ES.TemporalMonthDayToString(this, showCalendar);\n  }\n  toJSON(): Return['toJSON'] {\n    if (!ES.IsTemporalMonthDay(this)) throw new TypeError('invalid receiver');\n    return ES.TemporalMonthDayToString(this);\n  }\n  toLocaleString(\n    locales: Params['toLocaleString'][0] = undefined,\n    options: Params['toLocaleString'][1] = undefined\n  ): string {\n    if (!ES.IsTemporalMonthDay(this)) throw new TypeError('invalid receiver');\n    return new DateTimeFormat(locales, options).format(this);\n  }\n  valueOf(): never {\n    throw new TypeError('use equals() to compare Temporal.PlainMonthDay');\n  }\n  toPlainDate(item: Params['toPlainDate'][0]): Return['toPlainDate'] {\n    if (!ES.IsTemporalMonthDay(this)) throw new TypeError('invalid receiver');\n    if (!ES.IsObject(item)) throw new TypeError('argument should be an object');\n    const calendar = GetSlot(this, CALENDAR);\n\n    const receiverFieldNames = ES.CalendarFields(calendar, ['day', 'monthCode'] as const);\n    const fields = ES.PrepareTemporalFields(this, receiverFieldNames, []);\n\n    const inputFieldNames = ES.CalendarFields(calendar, ['year'] as const);\n    const inputFields = ES.PrepareTemporalFields(item, inputFieldNames, []);\n    let mergedFields = ES.CalendarMergeFields(calendar, fields, inputFields);\n\n    // TODO: Use MergeLists abstract operation.\n    const mergedFieldNames = [...new Set([...receiverFieldNames, ...inputFieldNames])];\n    mergedFields = ES.PrepareTemporalFields(mergedFields, mergedFieldNames, []);\n    const options = ObjectCreate(null);\n    options.overflow = 'reject';\n    return ES.CalendarDateFromFields(calendar, mergedFields, options);\n  }\n  getISOFields(): Return['getISOFields'] {\n    if (!ES.IsTemporalMonthDay(this)) throw new TypeError('invalid receiver');\n    return {\n      calendar: GetSlot(this, CALENDAR),\n      isoDay: GetSlot(this, ISO_DAY),\n      isoMonth: GetSlot(this, ISO_MONTH),\n      isoYear: GetSlot(this, ISO_YEAR)\n    };\n  }\n  getCalendar(): Return['getCalendar'] {\n    if (!ES.IsTemporalMonthDay(this)) throw new TypeError('invalid receiver');\n    return ES.ToTemporalCalendarObject(GetSlot(this, CALENDAR));\n  }\n\n  static from(item: Params['from'][0], optionsParam: Params['from'][1] = undefined): Return['from'] {\n    const options = ES.GetOptionsObject(optionsParam);\n    if (ES.IsTemporalMonthDay(item)) {\n      ES.ToTemporalOverflow(options); // validate and ignore\n      return ES.CreateTemporalMonthDay(\n        GetSlot(item, ISO_MONTH),\n        GetSlot(item, ISO_DAY),\n        GetSlot(item, CALENDAR),\n        GetSlot(item, ISO_YEAR)\n      );\n    }\n    return ES.ToTemporalMonthDay(item, options);\n  }\n  [Symbol.toStringTag]!: 'Temporal.PlainMonthDay';\n}\n\nMakeIntrinsicClass(PlainMonthDay, 'Temporal.PlainMonthDay');\n","import * as ES from './ecmascript';\nimport { GetIntrinsic } from './intrinsicclass';\nimport type { Temporal } from '..';\n\nconst instant: typeof Temporal.Now['instant'] = () => {\n  const Instant = GetIntrinsic('%Temporal.Instant%');\n  return new Instant(ES.SystemUTCEpochNanoSeconds());\n};\nconst plainDateTime: typeof Temporal.Now['plainDateTime'] = (\n  calendarLike,\n  temporalTimeZoneLike = ES.DefaultTimeZone()\n) => {\n  const tZ = ES.ToTemporalTimeZoneSlotValue(temporalTimeZoneLike);\n  const calendar = ES.ToTemporalCalendarSlotValue(calendarLike);\n  const inst = instant();\n  return ES.GetPlainDateTimeFor(tZ, inst, calendar);\n};\nconst plainDateTimeISO: typeof Temporal.Now['plainDateTimeISO'] = (temporalTimeZoneLike = ES.DefaultTimeZone()) => {\n  const tZ = ES.ToTemporalTimeZoneSlotValue(temporalTimeZoneLike);\n  const inst = instant();\n  return ES.GetPlainDateTimeFor(tZ, inst, 'iso8601');\n};\nconst zonedDateTime: typeof Temporal.Now['zonedDateTime'] = (\n  calendarLike,\n  temporalTimeZoneLike = ES.DefaultTimeZone()\n) => {\n  const tZ = ES.ToTemporalTimeZoneSlotValue(temporalTimeZoneLike);\n  const calendar = ES.ToTemporalCalendarSlotValue(calendarLike);\n  return ES.CreateTemporalZonedDateTime(ES.SystemUTCEpochNanoSeconds(), tZ, calendar);\n};\nconst zonedDateTimeISO: typeof Temporal.Now['zonedDateTimeISO'] = (temporalTimeZoneLike = ES.DefaultTimeZone()) => {\n  return zonedDateTime('iso8601', temporalTimeZoneLike);\n};\nconst plainDate: typeof Temporal.Now['plainDate'] = (calendarLike, temporalTimeZoneLike = ES.DefaultTimeZone()) => {\n  return ES.TemporalDateTimeToDate(plainDateTime(calendarLike, temporalTimeZoneLike));\n};\nconst plainDateISO: typeof Temporal.Now['plainDateISO'] = (temporalTimeZoneLike = ES.DefaultTimeZone()) => {\n  return ES.TemporalDateTimeToDate(plainDateTimeISO(temporalTimeZoneLike));\n};\nconst plainTimeISO: typeof Temporal.Now['plainTimeISO'] = (temporalTimeZoneLike = ES.DefaultTimeZone()) => {\n  return ES.TemporalDateTimeToTime(plainDateTimeISO(temporalTimeZoneLike));\n};\nconst timeZoneId: typeof Temporal.Now['timeZoneId'] = () => {\n  return ES.DefaultTimeZone();\n};\n\nexport const Now: typeof Temporal.Now = {\n  instant,\n  plainDateTime,\n  plainDateTimeISO,\n  plainDate,\n  plainDateISO,\n  plainTimeISO,\n  timeZoneId,\n  zonedDateTime,\n  zonedDateTimeISO,\n  [Symbol.toStringTag]: 'Temporal.Now'\n};\nObject.defineProperty(Now, Symbol.toStringTag, {\n  value: 'Temporal.Now',\n  writable: false,\n  enumerable: false,\n  configurable: true\n});\n","import { DEBUG } from './debug';\nimport * as ES from './ecmascript';\nimport { GetIntrinsic, MakeIntrinsicClass } from './intrinsicclass';\n\nimport {\n  ISO_YEAR,\n  ISO_MONTH,\n  ISO_DAY,\n  ISO_HOUR,\n  ISO_MINUTE,\n  ISO_SECOND,\n  ISO_MILLISECOND,\n  ISO_MICROSECOND,\n  ISO_NANOSECOND,\n  CALENDAR,\n  EPOCHNANOSECONDS,\n  CreateSlots,\n  GetSlot,\n  SetSlot\n} from './slots';\nimport type { Temporal } from '..';\nimport { DateTimeFormat } from './intl';\nimport type { PlainTimeParams as Params, PlainTimeReturn as Return } from './internaltypes';\n\nconst ObjectAssign = Object.assign;\n\ntype TemporalTimeToStringOptions = {\n  unit: ReturnType<typeof ES.ToSecondsStringPrecisionRecord>['unit'];\n  increment: ReturnType<typeof ES.ToSecondsStringPrecisionRecord>['increment'];\n  roundingMode: Temporal.RoundingMode;\n};\n\nfunction TemporalTimeToString(\n  time: Temporal.PlainTime,\n  precision: ReturnType<typeof ES.ToSecondsStringPrecisionRecord>['precision'],\n  options: TemporalTimeToStringOptions | undefined = undefined\n) {\n  let hour = GetSlot(time, ISO_HOUR);\n  let minute = GetSlot(time, ISO_MINUTE);\n  let second = GetSlot(time, ISO_SECOND);\n  let millisecond = GetSlot(time, ISO_MILLISECOND);\n  let microsecond = GetSlot(time, ISO_MICROSECOND);\n  let nanosecond = GetSlot(time, ISO_NANOSECOND);\n\n  if (options) {\n    const { unit, increment, roundingMode } = options;\n    ({ hour, minute, second, millisecond, microsecond, nanosecond } = ES.RoundTime(\n      hour,\n      minute,\n      second,\n      millisecond,\n      microsecond,\n      nanosecond,\n      increment,\n      unit,\n      roundingMode\n    ));\n  }\n\n  const hourString = ES.ISODateTimePartString(hour);\n  const minuteString = ES.ISODateTimePartString(minute);\n  const seconds = ES.FormatSecondsStringPart(second, millisecond, microsecond, nanosecond, precision);\n  return `${hourString}:${minuteString}${seconds}`;\n}\n\nexport class PlainTime implements Temporal.PlainTime {\n  constructor(\n    isoHourParam = 0,\n    isoMinuteParam = 0,\n    isoSecondParam = 0,\n    isoMillisecondParam = 0,\n    isoMicrosecondParam = 0,\n    isoNanosecondParam = 0\n  ) {\n    const isoHour = isoHourParam === undefined ? 0 : ES.ToIntegerWithTruncation(isoHourParam);\n    const isoMinute = isoMinuteParam === undefined ? 0 : ES.ToIntegerWithTruncation(isoMinuteParam);\n    const isoSecond = isoSecondParam === undefined ? 0 : ES.ToIntegerWithTruncation(isoSecondParam);\n    const isoMillisecond = isoMillisecondParam === undefined ? 0 : ES.ToIntegerWithTruncation(isoMillisecondParam);\n    const isoMicrosecond = isoMicrosecondParam === undefined ? 0 : ES.ToIntegerWithTruncation(isoMicrosecondParam);\n    const isoNanosecond = isoNanosecondParam === undefined ? 0 : ES.ToIntegerWithTruncation(isoNanosecondParam);\n\n    ES.RejectTime(isoHour, isoMinute, isoSecond, isoMillisecond, isoMicrosecond, isoNanosecond);\n    CreateSlots(this);\n    SetSlot(this, ISO_HOUR, isoHour);\n    SetSlot(this, ISO_MINUTE, isoMinute);\n    SetSlot(this, ISO_SECOND, isoSecond);\n    SetSlot(this, ISO_MILLISECOND, isoMillisecond);\n    SetSlot(this, ISO_MICROSECOND, isoMicrosecond);\n    SetSlot(this, ISO_NANOSECOND, isoNanosecond);\n\n    if (DEBUG) {\n      Object.defineProperty(this, '_repr_', {\n        value: `${this[Symbol.toStringTag]} <${TemporalTimeToString(this, 'auto')}>`,\n        writable: false,\n        enumerable: false,\n        configurable: false\n      });\n    }\n  }\n\n  get hour(): Return['hour'] {\n    if (!ES.IsTemporalTime(this)) throw new TypeError('invalid receiver');\n    return GetSlot(this, ISO_HOUR);\n  }\n  get minute(): Return['minute'] {\n    if (!ES.IsTemporalTime(this)) throw new TypeError('invalid receiver');\n    return GetSlot(this, ISO_MINUTE);\n  }\n  get second(): Return['second'] {\n    if (!ES.IsTemporalTime(this)) throw new TypeError('invalid receiver');\n    return GetSlot(this, ISO_SECOND);\n  }\n  get millisecond(): Return['millisecond'] {\n    if (!ES.IsTemporalTime(this)) throw new TypeError('invalid receiver');\n    return GetSlot(this, ISO_MILLISECOND);\n  }\n  get microsecond(): Return['microsecond'] {\n    if (!ES.IsTemporalTime(this)) throw new TypeError('invalid receiver');\n    return GetSlot(this, ISO_MICROSECOND);\n  }\n  get nanosecond(): Return['nanosecond'] {\n    if (!ES.IsTemporalTime(this)) throw new TypeError('invalid receiver');\n    return GetSlot(this, ISO_NANOSECOND);\n  }\n\n  with(temporalTimeLike: Params['with'][0], optionsParam: Params['with'][1] = undefined): Return['with'] {\n    if (!ES.IsTemporalTime(this)) throw new TypeError('invalid receiver');\n    if (!ES.IsObject(temporalTimeLike)) {\n      throw new TypeError('invalid argument');\n    }\n    ES.RejectTemporalLikeObject(temporalTimeLike);\n    const options = ES.GetOptionsObject(optionsParam);\n    const overflow = ES.ToTemporalOverflow(options);\n\n    const partialTime = ES.ToTemporalTimeRecord(temporalTimeLike, 'partial');\n\n    const fields = ES.ToTemporalTimeRecord(this);\n    let { hour, minute, second, millisecond, microsecond, nanosecond } = ObjectAssign(fields, partialTime);\n    ({ hour, minute, second, millisecond, microsecond, nanosecond } = ES.RegulateTime(\n      hour,\n      minute,\n      second,\n      millisecond,\n      microsecond,\n      nanosecond,\n      overflow\n    ));\n    return new PlainTime(hour, minute, second, millisecond, microsecond, nanosecond);\n  }\n  add(temporalDurationLike: Params['add'][0]): Return['add'] {\n    if (!ES.IsTemporalTime(this)) throw new TypeError('invalid receiver');\n    return ES.AddDurationToOrSubtractDurationFromPlainTime('add', this, temporalDurationLike);\n  }\n  subtract(temporalDurationLike: Params['subtract'][0]): Return['subtract'] {\n    if (!ES.IsTemporalTime(this)) throw new TypeError('invalid receiver');\n    return ES.AddDurationToOrSubtractDurationFromPlainTime('subtract', this, temporalDurationLike);\n  }\n  until(other: Params['until'][0], options: Params['until'][1] = undefined): Return['until'] {\n    if (!ES.IsTemporalTime(this)) throw new TypeError('invalid receiver');\n    return ES.DifferenceTemporalPlainTime('until', this, other, options);\n  }\n  since(other: Params['since'][0], options: Params['since'][1] = undefined): Return['since'] {\n    if (!ES.IsTemporalTime(this)) throw new TypeError('invalid receiver');\n    return ES.DifferenceTemporalPlainTime('since', this, other, options);\n  }\n  round(roundToParam: Params['round'][0]): Return['round'] {\n    if (!ES.IsTemporalTime(this)) throw new TypeError('invalid receiver');\n    if (roundToParam === undefined) throw new TypeError('options parameter is required');\n    const roundTo =\n      typeof roundToParam === 'string'\n        ? (ES.CreateOnePropObject('smallestUnit', roundToParam) as Exclude<typeof roundToParam, string>)\n        : ES.GetOptionsObject(roundToParam);\n    const roundingIncrement = ES.ToTemporalRoundingIncrement(roundTo);\n    const roundingMode = ES.ToTemporalRoundingMode(roundTo, 'halfExpand');\n    const smallestUnit = ES.GetTemporalUnit(roundTo, 'smallestUnit', 'time', ES.REQUIRED);\n    const MAX_INCREMENTS = {\n      hour: 24,\n      minute: 60,\n      second: 60,\n      millisecond: 1000,\n      microsecond: 1000,\n      nanosecond: 1000\n    };\n    ES.ValidateTemporalRoundingIncrement(roundingIncrement, MAX_INCREMENTS[smallestUnit], false);\n\n    let hour = GetSlot(this, ISO_HOUR);\n    let minute = GetSlot(this, ISO_MINUTE);\n    let second = GetSlot(this, ISO_SECOND);\n    let millisecond = GetSlot(this, ISO_MILLISECOND);\n    let microsecond = GetSlot(this, ISO_MICROSECOND);\n    let nanosecond = GetSlot(this, ISO_NANOSECOND);\n    ({ hour, minute, second, millisecond, microsecond, nanosecond } = ES.RoundTime(\n      hour,\n      minute,\n      second,\n      millisecond,\n      microsecond,\n      nanosecond,\n      roundingIncrement,\n      smallestUnit,\n      roundingMode\n    ));\n\n    return new PlainTime(hour, minute, second, millisecond, microsecond, nanosecond);\n  }\n  equals(otherParam: Params['equals'][0]): Return['equals'] {\n    if (!ES.IsTemporalTime(this)) throw new TypeError('invalid receiver');\n    const other = ES.ToTemporalTime(otherParam);\n    for (const slot of [ISO_HOUR, ISO_MINUTE, ISO_SECOND, ISO_MILLISECOND, ISO_MICROSECOND, ISO_NANOSECOND]) {\n      const val1 = GetSlot(this, slot);\n      const val2 = GetSlot(other, slot);\n      if (val1 !== val2) return false;\n    }\n    return true;\n  }\n\n  toString(optionsParam: Params['toString'][0] = undefined): string {\n    if (!ES.IsTemporalTime(this)) throw new TypeError('invalid receiver');\n    const options = ES.GetOptionsObject(optionsParam);\n    const digits = ES.ToFractionalSecondDigits(options);\n    const roundingMode = ES.ToTemporalRoundingMode(options, 'trunc');\n    const smallestUnit = ES.GetTemporalUnit(options, 'smallestUnit', 'time', undefined);\n    if (smallestUnit === 'hour') throw new RangeError('smallestUnit must be a time unit other than \"hour\"');\n    const { precision, unit, increment } = ES.ToSecondsStringPrecisionRecord(smallestUnit, digits);\n    return TemporalTimeToString(this, precision, { unit, increment, roundingMode });\n  }\n  toJSON(): Return['toJSON'] {\n    if (!ES.IsTemporalTime(this)) throw new TypeError('invalid receiver');\n    return TemporalTimeToString(this, 'auto');\n  }\n  toLocaleString(\n    locales: Params['toLocaleString'][0] = undefined,\n    options: Params['toLocaleString'][1] = undefined\n  ): string {\n    if (!ES.IsTemporalTime(this)) throw new TypeError('invalid receiver');\n    return new DateTimeFormat(locales, options).format(this);\n  }\n  valueOf(): never {\n    throw new TypeError('use compare() or equals() to compare Temporal.PlainTime');\n  }\n\n  toPlainDateTime(temporalDateParam: Params['toPlainDateTime'][0]): Return['toPlainDateTime'] {\n    if (!ES.IsTemporalTime(this)) throw new TypeError('invalid receiver');\n\n    const temporalDate = ES.ToTemporalDate(temporalDateParam);\n    const year = GetSlot(temporalDate, ISO_YEAR);\n    const month = GetSlot(temporalDate, ISO_MONTH);\n    const day = GetSlot(temporalDate, ISO_DAY);\n    const calendar = GetSlot(temporalDate, CALENDAR);\n\n    const hour = GetSlot(this, ISO_HOUR);\n    const minute = GetSlot(this, ISO_MINUTE);\n    const second = GetSlot(this, ISO_SECOND);\n    const millisecond = GetSlot(this, ISO_MILLISECOND);\n    const microsecond = GetSlot(this, ISO_MICROSECOND);\n    const nanosecond = GetSlot(this, ISO_NANOSECOND);\n\n    return ES.CreateTemporalDateTime(\n      year,\n      month,\n      day,\n      hour,\n      minute,\n      second,\n      millisecond,\n      microsecond,\n      nanosecond,\n      calendar\n    );\n  }\n  toZonedDateTime(item: Params['toZonedDateTime'][0]): Return['toZonedDateTime'] {\n    if (!ES.IsTemporalTime(this)) throw new TypeError('invalid receiver');\n\n    if (!ES.IsObject(item)) {\n      throw new TypeError('invalid argument');\n    }\n\n    const dateLike = item.plainDate;\n    if (dateLike === undefined) {\n      throw new TypeError('missing date property');\n    }\n    const temporalDate = ES.ToTemporalDate(dateLike);\n\n    const timeZoneLike = item.timeZone;\n    if (timeZoneLike === undefined) {\n      throw new TypeError('missing timeZone property');\n    }\n    const timeZone = ES.ToTemporalTimeZoneSlotValue(timeZoneLike);\n\n    const year = GetSlot(temporalDate, ISO_YEAR);\n    const month = GetSlot(temporalDate, ISO_MONTH);\n    const day = GetSlot(temporalDate, ISO_DAY);\n    const calendar = GetSlot(temporalDate, CALENDAR);\n    const hour = GetSlot(this, ISO_HOUR);\n    const minute = GetSlot(this, ISO_MINUTE);\n    const second = GetSlot(this, ISO_SECOND);\n    const millisecond = GetSlot(this, ISO_MILLISECOND);\n    const microsecond = GetSlot(this, ISO_MICROSECOND);\n    const nanosecond = GetSlot(this, ISO_NANOSECOND);\n\n    const PlainDateTime = GetIntrinsic('%Temporal.PlainDateTime%');\n    const dt = new PlainDateTime(\n      year,\n      month,\n      day,\n      hour,\n      minute,\n      second,\n      millisecond,\n      microsecond,\n      nanosecond,\n      calendar\n    );\n    const instant = ES.GetInstantFor(timeZone, dt, 'compatible');\n    return ES.CreateTemporalZonedDateTime(GetSlot(instant, EPOCHNANOSECONDS), timeZone, calendar);\n  }\n  getISOFields(): Return['getISOFields'] {\n    if (!ES.IsTemporalTime(this)) throw new TypeError('invalid receiver');\n    return {\n      isoHour: GetSlot(this, ISO_HOUR),\n      isoMicrosecond: GetSlot(this, ISO_MICROSECOND),\n      isoMillisecond: GetSlot(this, ISO_MILLISECOND),\n      isoMinute: GetSlot(this, ISO_MINUTE),\n      isoNanosecond: GetSlot(this, ISO_NANOSECOND),\n      isoSecond: GetSlot(this, ISO_SECOND)\n    };\n  }\n\n  static from(item: Params['from'][0], optionsParam: Params['from'][1] = undefined): Return['from'] {\n    const options = ES.GetOptionsObject(optionsParam);\n    const overflow = ES.ToTemporalOverflow(options);\n    if (ES.IsTemporalTime(item)) {\n      return new PlainTime(\n        GetSlot(item, ISO_HOUR),\n        GetSlot(item, ISO_MINUTE),\n        GetSlot(item, ISO_SECOND),\n        GetSlot(item, ISO_MILLISECOND),\n        GetSlot(item, ISO_MICROSECOND),\n        GetSlot(item, ISO_NANOSECOND)\n      );\n    }\n    return ES.ToTemporalTime(item, overflow);\n  }\n  static compare(oneParam: Params['compare'][0], twoParam: Params['compare'][1]): Return['compare'] {\n    const one = ES.ToTemporalTime(oneParam);\n    const two = ES.ToTemporalTime(twoParam);\n    for (const slot of [ISO_HOUR, ISO_MINUTE, ISO_SECOND, ISO_MILLISECOND, ISO_MICROSECOND, ISO_NANOSECOND] as const) {\n      const val1 = GetSlot(one, slot);\n      const val2 = GetSlot(two, slot);\n      if (val1 !== val2) return ES.ComparisonResult(val1 - val2);\n    }\n    return 0;\n  }\n  [Symbol.toStringTag]!: 'Temporal.PlainTime';\n}\n\nMakeIntrinsicClass(PlainTime, 'Temporal.PlainTime');\n","import { DEBUG } from './debug';\nimport * as ES from './ecmascript';\nimport { DefineIntrinsic, GetIntrinsic, MakeIntrinsicClass } from './intrinsicclass';\nimport {\n  TIMEZONE_ID,\n  EPOCHNANOSECONDS,\n  ISO_YEAR,\n  ISO_MONTH,\n  ISO_DAY,\n  ISO_HOUR,\n  ISO_MINUTE,\n  ISO_SECOND,\n  ISO_MILLISECOND,\n  ISO_MICROSECOND,\n  ISO_NANOSECOND,\n  CreateSlots,\n  GetSlot,\n  SetSlot\n} from './slots';\nimport JSBI from 'jsbi';\nimport type { Temporal } from '..';\nimport type { TimeZoneParams as Params, TimeZoneReturn as Return } from './internaltypes';\n\nexport class TimeZone implements Temporal.TimeZone {\n  constructor(timeZoneIdentifierParam: string) {\n    // Note: if the argument is not passed, GetCanonicalTimeZoneIdentifier(undefined) will throw.\n    //       This check exists only to improve the error message.\n    if (arguments.length < 1) {\n      throw new RangeError('missing argument: identifier is required');\n    }\n\n    const timeZoneIdentifier = ES.GetCanonicalTimeZoneIdentifier(timeZoneIdentifierParam);\n    CreateSlots(this);\n    SetSlot(this, TIMEZONE_ID, timeZoneIdentifier);\n\n    if (DEBUG) {\n      Object.defineProperty(this, '_repr_', {\n        value: `${this[Symbol.toStringTag]} <${timeZoneIdentifier}>`,\n        writable: false,\n        enumerable: false,\n        configurable: false\n      });\n    }\n  }\n  get id(): Return['id'] {\n    if (!ES.IsTemporalTimeZone(this)) throw new TypeError('invalid receiver');\n    return GetSlot(this, TIMEZONE_ID);\n  }\n  getOffsetNanosecondsFor(instantParam: Params['getOffsetNanosecondsFor'][0]): Return['getOffsetNanosecondsFor'] {\n    if (!ES.IsTemporalTimeZone(this)) throw new TypeError('invalid receiver');\n    const instant = ES.ToTemporalInstant(instantParam);\n    const id = GetSlot(this, TIMEZONE_ID);\n\n    if (ES.IsTimeZoneOffsetString(id)) {\n      return ES.ParseTimeZoneOffsetString(id);\n    }\n\n    return ES.GetNamedTimeZoneOffsetNanoseconds(id, GetSlot(instant, EPOCHNANOSECONDS));\n  }\n  getOffsetStringFor(instantParam: Params['getOffsetStringFor'][0]): Return['getOffsetStringFor'] {\n    if (!ES.IsTemporalTimeZone(this)) throw new TypeError('invalid receiver');\n    const instant = ES.ToTemporalInstant(instantParam);\n    return ES.GetOffsetStringFor(this, instant);\n  }\n  getPlainDateTimeFor(\n    instantParam: Params['getPlainDateTimeFor'][0],\n    calendarParam: Params['getPlainDateTimeFor'][1] = 'iso8601'\n  ): Return['getPlainDateTimeFor'] {\n    if (!ES.IsTemporalTimeZone(this)) throw new TypeError('invalid receiver');\n    const instant = ES.ToTemporalInstant(instantParam);\n    const calendar = ES.ToTemporalCalendarSlotValue(calendarParam);\n    return ES.GetPlainDateTimeFor(this, instant, calendar);\n  }\n  getInstantFor(\n    dateTimeParam: Params['getInstantFor'][0],\n    optionsParam: Params['getInstantFor'][1] = undefined\n  ): Return['getInstantFor'] {\n    if (!ES.IsTemporalTimeZone(this)) throw new TypeError('invalid receiver');\n    const dateTime = ES.ToTemporalDateTime(dateTimeParam);\n    const options = ES.GetOptionsObject(optionsParam);\n    const disambiguation = ES.ToTemporalDisambiguation(options);\n    return ES.GetInstantFor(this, dateTime, disambiguation);\n  }\n  getPossibleInstantsFor(dateTimeParam: Params['getPossibleInstantsFor'][0]): Return['getPossibleInstantsFor'] {\n    if (!ES.IsTemporalTimeZone(this)) throw new TypeError('invalid receiver');\n    const dateTime = ES.ToTemporalDateTime(dateTimeParam);\n    const Instant = GetIntrinsic('%Temporal.Instant%');\n    const id = GetSlot(this, TIMEZONE_ID);\n\n    if (ES.IsTimeZoneOffsetString(id)) {\n      const epochNs = ES.GetUTCEpochNanoseconds(\n        GetSlot(dateTime, ISO_YEAR),\n        GetSlot(dateTime, ISO_MONTH),\n        GetSlot(dateTime, ISO_DAY),\n        GetSlot(dateTime, ISO_HOUR),\n        GetSlot(dateTime, ISO_MINUTE),\n        GetSlot(dateTime, ISO_SECOND),\n        GetSlot(dateTime, ISO_MILLISECOND),\n        GetSlot(dateTime, ISO_MICROSECOND),\n        GetSlot(dateTime, ISO_NANOSECOND)\n      );\n      if (epochNs === null) throw new RangeError('DateTime outside of supported range');\n      const offsetNs = ES.ParseTimeZoneOffsetString(id);\n      return [new Instant(JSBI.subtract(epochNs, JSBI.BigInt(offsetNs)))];\n    }\n\n    const possibleEpochNs = ES.GetNamedTimeZoneEpochNanoseconds(\n      id,\n      GetSlot(dateTime, ISO_YEAR),\n      GetSlot(dateTime, ISO_MONTH),\n      GetSlot(dateTime, ISO_DAY),\n      GetSlot(dateTime, ISO_HOUR),\n      GetSlot(dateTime, ISO_MINUTE),\n      GetSlot(dateTime, ISO_SECOND),\n      GetSlot(dateTime, ISO_MILLISECOND),\n      GetSlot(dateTime, ISO_MICROSECOND),\n      GetSlot(dateTime, ISO_NANOSECOND)\n    );\n    return possibleEpochNs.map((ns) => new Instant(ns));\n  }\n  getNextTransition(startingPointParam: Params['getNextTransition'][0]): Return['getNextTransition'] {\n    if (!ES.IsTemporalTimeZone(this)) throw new TypeError('invalid receiver');\n    const startingPoint = ES.ToTemporalInstant(startingPointParam);\n    const id = GetSlot(this, TIMEZONE_ID);\n\n    // Offset time zones or UTC have no transitions\n    if (ES.IsTimeZoneOffsetString(id) || id === 'UTC') {\n      return null;\n    }\n\n    let epochNanoseconds: JSBI | null = GetSlot(startingPoint, EPOCHNANOSECONDS);\n    const Instant = GetIntrinsic('%Temporal.Instant%');\n    epochNanoseconds = ES.GetNamedTimeZoneNextTransition(id, epochNanoseconds);\n    return epochNanoseconds === null ? null : new Instant(epochNanoseconds);\n  }\n  getPreviousTransition(startingPointParam: Params['getPreviousTransition'][0]): Return['getPreviousTransition'] {\n    if (!ES.IsTemporalTimeZone(this)) throw new TypeError('invalid receiver');\n    const startingPoint = ES.ToTemporalInstant(startingPointParam);\n    const id = GetSlot(this, TIMEZONE_ID);\n\n    // Offset time zones or UTC have no transitions\n    if (ES.IsTimeZoneOffsetString(id) || id === 'UTC') {\n      return null;\n    }\n\n    let epochNanoseconds: JSBI | null = GetSlot(startingPoint, EPOCHNANOSECONDS);\n    const Instant = GetIntrinsic('%Temporal.Instant%');\n    epochNanoseconds = ES.GetNamedTimeZonePreviousTransition(id, epochNanoseconds);\n    return epochNanoseconds === null ? null : new Instant(epochNanoseconds);\n  }\n  toString(): string {\n    if (!ES.IsTemporalTimeZone(this)) throw new TypeError('invalid receiver');\n    return GetSlot(this, TIMEZONE_ID);\n  }\n  toJSON(): Return['toJSON'] {\n    if (!ES.IsTemporalTimeZone(this)) throw new TypeError('invalid receiver');\n    return GetSlot(this, TIMEZONE_ID);\n  }\n  static from(item: Params['from'][0]): Return['from'] {\n    const timeZoneSlotValue = ES.ToTemporalTimeZoneSlotValue(item);\n    return ES.ToTemporalTimeZoneObject(timeZoneSlotValue);\n  }\n  [Symbol.toStringTag]!: 'Temporal.TimeZone';\n}\n\nMakeIntrinsicClass(TimeZone, 'Temporal.TimeZone');\nDefineIntrinsic('Temporal.TimeZone.prototype.getOffsetNanosecondsFor', TimeZone.prototype.getOffsetNanosecondsFor);\nDefineIntrinsic('Temporal.TimeZone.prototype.getPossibleInstantsFor', TimeZone.prototype.getPossibleInstantsFor);\n","import * as ES from './ecmascript';\nimport { MakeIntrinsicClass } from './intrinsicclass';\nimport { ISO_YEAR, ISO_MONTH, ISO_DAY, CALENDAR, GetSlot } from './slots';\nimport type { Temporal } from '..';\nimport { DateTimeFormat } from './intl';\nimport type { PlainYearMonthParams as Params, PlainYearMonthReturn as Return } from './internaltypes';\n\nconst ObjectCreate = Object.create;\n\nexport class PlainYearMonth implements Temporal.PlainYearMonth {\n  constructor(\n    isoYearParam: Params['constructor'][0],\n    isoMonthParam: Params['constructor'][1],\n    calendarParam: Params['constructor'][2] = 'iso8601',\n    referenceISODayParam: Params['constructor'][3] = 1\n  ) {\n    const isoYear = ES.ToIntegerWithTruncation(isoYearParam);\n    const isoMonth = ES.ToIntegerWithTruncation(isoMonthParam);\n    const calendar = ES.ToTemporalCalendarSlotValue(calendarParam);\n    const referenceISODay = ES.ToIntegerWithTruncation(referenceISODayParam);\n\n    ES.CreateTemporalYearMonthSlots(this, isoYear, isoMonth, calendar, referenceISODay);\n  }\n  get year(): Return['year'] {\n    if (!ES.IsTemporalYearMonth(this)) throw new TypeError('invalid receiver');\n    return ES.CalendarYear(GetSlot(this, CALENDAR), this);\n  }\n  get month(): Return['month'] {\n    if (!ES.IsTemporalYearMonth(this)) throw new TypeError('invalid receiver');\n    return ES.CalendarMonth(GetSlot(this, CALENDAR), this);\n  }\n  get monthCode(): Return['monthCode'] {\n    if (!ES.IsTemporalYearMonth(this)) throw new TypeError('invalid receiver');\n    return ES.CalendarMonthCode(GetSlot(this, CALENDAR), this);\n  }\n  get calendarId(): Return['calendarId'] {\n    if (!ES.IsTemporalYearMonth(this)) throw new TypeError('invalid receiver');\n    return ES.ToTemporalCalendarIdentifier(GetSlot(this, CALENDAR));\n  }\n  get era(): Return['era'] {\n    if (!ES.IsTemporalYearMonth(this)) throw new TypeError('invalid receiver');\n    return ES.CalendarEra(GetSlot(this, CALENDAR), this);\n  }\n  get eraYear(): Return['eraYear'] {\n    if (!ES.IsTemporalYearMonth(this)) throw new TypeError('invalid receiver');\n    return ES.CalendarEraYear(GetSlot(this, CALENDAR), this);\n  }\n  get daysInMonth(): Return['daysInMonth'] {\n    if (!ES.IsTemporalYearMonth(this)) throw new TypeError('invalid receiver');\n    return ES.CalendarDaysInMonth(GetSlot(this, CALENDAR), this);\n  }\n  get daysInYear(): Return['daysInYear'] {\n    if (!ES.IsTemporalYearMonth(this)) throw new TypeError('invalid receiver');\n    return ES.CalendarDaysInYear(GetSlot(this, CALENDAR), this);\n  }\n  get monthsInYear(): Return['monthsInYear'] {\n    if (!ES.IsTemporalYearMonth(this)) throw new TypeError('invalid receiver');\n    return ES.CalendarMonthsInYear(GetSlot(this, CALENDAR), this);\n  }\n  get inLeapYear(): Return['inLeapYear'] {\n    if (!ES.IsTemporalYearMonth(this)) throw new TypeError('invalid receiver');\n    return ES.CalendarInLeapYear(GetSlot(this, CALENDAR), this);\n  }\n  with(temporalYearMonthLike: Params['with'][0], optionsParam: Params['with'][1] = undefined): Return['with'] {\n    if (!ES.IsTemporalYearMonth(this)) throw new TypeError('invalid receiver');\n    if (!ES.IsObject(temporalYearMonthLike)) {\n      throw new TypeError('invalid argument');\n    }\n    ES.RejectTemporalLikeObject(temporalYearMonthLike);\n    const options = ES.GetOptionsObject(optionsParam);\n\n    const calendar = GetSlot(this, CALENDAR);\n    const fieldNames = ES.CalendarFields(calendar, ['month', 'monthCode', 'year'] as const);\n    let fields = ES.PrepareTemporalFields(this, fieldNames, []);\n    const partialYearMonth = ES.PrepareTemporalFields(temporalYearMonthLike, fieldNames, 'partial');\n    fields = ES.CalendarMergeFields(calendar, fields, partialYearMonth);\n    fields = ES.PrepareTemporalFields(fields, fieldNames, []);\n\n    return ES.CalendarYearMonthFromFields(calendar, fields, options);\n  }\n  add(temporalDurationLike: Params['add'][0], options: Params['add'][1] = undefined): Return['add'] {\n    if (!ES.IsTemporalYearMonth(this)) throw new TypeError('invalid receiver');\n    return ES.AddDurationToOrSubtractDurationFromPlainYearMonth('add', this, temporalDurationLike, options);\n  }\n  subtract(\n    temporalDurationLike: Params['subtract'][0],\n    options: Params['subtract'][1] = undefined\n  ): Return['subtract'] {\n    if (!ES.IsTemporalYearMonth(this)) throw new TypeError('invalid receiver');\n    return ES.AddDurationToOrSubtractDurationFromPlainYearMonth('subtract', this, temporalDurationLike, options);\n  }\n  until(other: Params['until'][0], options: Params['until'][1] = undefined): Return['until'] {\n    if (!ES.IsTemporalYearMonth(this)) throw new TypeError('invalid receiver');\n    return ES.DifferenceTemporalPlainYearMonth('until', this, other, options);\n  }\n  since(other: Params['since'][0], options: Params['since'][1] = undefined): Return['since'] {\n    if (!ES.IsTemporalYearMonth(this)) throw new TypeError('invalid receiver');\n    return ES.DifferenceTemporalPlainYearMonth('since', this, other, options);\n  }\n  equals(otherParam: Params['equals'][0]): Return['equals'] {\n    if (!ES.IsTemporalYearMonth(this)) throw new TypeError('invalid receiver');\n    const other = ES.ToTemporalYearMonth(otherParam);\n    for (const slot of [ISO_YEAR, ISO_MONTH, ISO_DAY]) {\n      const val1 = GetSlot(this, slot);\n      const val2 = GetSlot(other, slot);\n      if (val1 !== val2) return false;\n    }\n    return ES.CalendarEquals(GetSlot(this, CALENDAR), GetSlot(other, CALENDAR));\n  }\n  toString(optionsParam: Params['toString'][0] = undefined): string {\n    if (!ES.IsTemporalYearMonth(this)) throw new TypeError('invalid receiver');\n    const options = ES.GetOptionsObject(optionsParam);\n    const showCalendar = ES.ToCalendarNameOption(options);\n    return ES.TemporalYearMonthToString(this, showCalendar);\n  }\n  toJSON(): Return['toJSON'] {\n    if (!ES.IsTemporalYearMonth(this)) throw new TypeError('invalid receiver');\n    return ES.TemporalYearMonthToString(this);\n  }\n  toLocaleString(\n    locales: Params['toLocaleString'][0] = undefined,\n    options: Params['toLocaleString'][1] = undefined\n  ): string {\n    if (!ES.IsTemporalYearMonth(this)) throw new TypeError('invalid receiver');\n    return new DateTimeFormat(locales, options).format(this);\n  }\n  valueOf(): never {\n    throw new TypeError('use compare() or equals() to compare Temporal.PlainYearMonth');\n  }\n  toPlainDate(item: Params['toPlainDate'][0]): Return['toPlainDate'] {\n    if (!ES.IsTemporalYearMonth(this)) throw new TypeError('invalid receiver');\n    if (!ES.IsObject(item)) throw new TypeError('argument should be an object');\n    const calendar = GetSlot(this, CALENDAR);\n\n    const receiverFieldNames = ES.CalendarFields(calendar, ['monthCode', 'year'] as const);\n    const fields = ES.PrepareTemporalFields(this, receiverFieldNames, []);\n\n    const inputFieldNames = ES.CalendarFields(calendar, ['day'] as const);\n    const inputFields = ES.PrepareTemporalFields(item, inputFieldNames, []);\n    let mergedFields = ES.CalendarMergeFields(calendar, fields, inputFields);\n\n    // TODO: Use MergeLists abstract operation.\n    const mergedFieldNames = [...new Set([...receiverFieldNames, ...inputFieldNames])];\n    mergedFields = ES.PrepareTemporalFields(mergedFields, mergedFieldNames, []);\n    const options = ObjectCreate(null);\n    options.overflow = 'reject';\n    return ES.CalendarDateFromFields(calendar, mergedFields, options);\n  }\n  getISOFields(): Return['getISOFields'] {\n    if (!ES.IsTemporalYearMonth(this)) throw new TypeError('invalid receiver');\n    return {\n      calendar: GetSlot(this, CALENDAR),\n      isoDay: GetSlot(this, ISO_DAY),\n      isoMonth: GetSlot(this, ISO_MONTH),\n      isoYear: GetSlot(this, ISO_YEAR)\n    };\n  }\n  getCalendar(): Return['getCalendar'] {\n    if (!ES.IsTemporalYearMonth(this)) throw new TypeError('invalid receiver');\n    return ES.ToTemporalCalendarObject(GetSlot(this, CALENDAR));\n  }\n\n  static from(item: Params['from'][0], optionsParam: Params['from'][1] = undefined): Return['from'] {\n    const options = ES.GetOptionsObject(optionsParam);\n    if (ES.IsTemporalYearMonth(item)) {\n      ES.ToTemporalOverflow(options); // validate and ignore\n      return ES.CreateTemporalYearMonth(\n        GetSlot(item, ISO_YEAR),\n        GetSlot(item, ISO_MONTH),\n        GetSlot(item, CALENDAR),\n        GetSlot(item, ISO_DAY)\n      );\n    }\n    return ES.ToTemporalYearMonth(item, options);\n  }\n  static compare(oneParam: Params['compare'][0], twoParam: Params['compare'][1]): Return['compare'] {\n    const one = ES.ToTemporalYearMonth(oneParam);\n    const two = ES.ToTemporalYearMonth(twoParam);\n    return ES.CompareISODate(\n      GetSlot(one, ISO_YEAR),\n      GetSlot(one, ISO_MONTH),\n      GetSlot(one, ISO_DAY),\n      GetSlot(two, ISO_YEAR),\n      GetSlot(two, ISO_MONTH),\n      GetSlot(two, ISO_DAY)\n    );\n  }\n  [Symbol.toStringTag]!: 'Temporal.PlainYearMonth';\n}\n\nMakeIntrinsicClass(PlainYearMonth, 'Temporal.PlainYearMonth');\n","import * as ES from './ecmascript';\nimport { GetIntrinsic, MakeIntrinsicClass } from './intrinsicclass';\nimport {\n  CALENDAR,\n  EPOCHNANOSECONDS,\n  ISO_HOUR,\n  INSTANT,\n  ISO_DAY,\n  ISO_MONTH,\n  ISO_YEAR,\n  ISO_MICROSECOND,\n  ISO_MILLISECOND,\n  ISO_MINUTE,\n  ISO_NANOSECOND,\n  ISO_SECOND,\n  TIME_ZONE,\n  GetSlot\n} from './slots';\nimport type { Temporal } from '..';\nimport { DateTimeFormat } from './intl';\nimport type { ZonedDateTimeParams as Params, ZonedDateTimeReturn as Return } from './internaltypes';\n\nimport JSBI from 'jsbi';\nimport { BILLION, MILLION, THOUSAND, ZERO, HOUR_NANOS } from './ecmascript';\n\nconst customResolvedOptions = DateTimeFormat.prototype.resolvedOptions as Intl.DateTimeFormat['resolvedOptions'];\nconst ObjectCreate = Object.create;\n\nexport class ZonedDateTime implements Temporal.ZonedDateTime {\n  constructor(\n    epochNanosecondsParam: bigint | JSBI,\n    timeZoneParam: string | Temporal.TimeZoneProtocol,\n    calendarParam: string | Temporal.CalendarProtocol = 'iso8601'\n  ) {\n    // Note: if the argument is not passed, ToBigInt(undefined) will throw. This check exists only\n    //       to improve the error message.\n    //       ToTemporalTimeZoneSlotValue(undefined) has a clear enough message.\n    if (arguments.length < 1) {\n      throw new TypeError('missing argument: epochNanoseconds is required');\n    }\n    const epochNanoseconds = ES.ToBigInt(epochNanosecondsParam);\n    const timeZone = ES.ToTemporalTimeZoneSlotValue(timeZoneParam);\n    const calendar = ES.ToTemporalCalendarSlotValue(calendarParam);\n\n    ES.CreateTemporalZonedDateTimeSlots(this, epochNanoseconds, timeZone, calendar);\n  }\n  get calendarId(): Return['calendarId'] {\n    if (!ES.IsTemporalZonedDateTime(this)) throw new TypeError('invalid receiver');\n    return ES.ToTemporalCalendarIdentifier(GetSlot(this, CALENDAR));\n  }\n  get timeZoneId(): Return['timeZoneId'] {\n    if (!ES.IsTemporalZonedDateTime(this)) throw new TypeError('invalid receiver');\n    return ES.ToTemporalTimeZoneIdentifier(GetSlot(this, TIME_ZONE));\n  }\n  get year(): Return['year'] {\n    if (!ES.IsTemporalZonedDateTime(this)) throw new TypeError('invalid receiver');\n    return ES.CalendarYear(GetSlot(this, CALENDAR), dateTime(this));\n  }\n  get month(): Return['month'] {\n    if (!ES.IsTemporalZonedDateTime(this)) throw new TypeError('invalid receiver');\n    return ES.CalendarMonth(GetSlot(this, CALENDAR), dateTime(this));\n  }\n  get monthCode(): Return['monthCode'] {\n    if (!ES.IsTemporalZonedDateTime(this)) throw new TypeError('invalid receiver');\n    return ES.CalendarMonthCode(GetSlot(this, CALENDAR), dateTime(this));\n  }\n  get day(): Return['day'] {\n    if (!ES.IsTemporalZonedDateTime(this)) throw new TypeError('invalid receiver');\n    return ES.CalendarDay(GetSlot(this, CALENDAR), dateTime(this));\n  }\n  get hour(): Return['hour'] {\n    if (!ES.IsTemporalZonedDateTime(this)) throw new TypeError('invalid receiver');\n    return GetSlot(dateTime(this), ISO_HOUR);\n  }\n  get minute(): Return['minute'] {\n    if (!ES.IsTemporalZonedDateTime(this)) throw new TypeError('invalid receiver');\n    return GetSlot(dateTime(this), ISO_MINUTE);\n  }\n  get second(): Return['second'] {\n    if (!ES.IsTemporalZonedDateTime(this)) throw new TypeError('invalid receiver');\n    return GetSlot(dateTime(this), ISO_SECOND);\n  }\n  get millisecond(): Return['millisecond'] {\n    if (!ES.IsTemporalZonedDateTime(this)) throw new TypeError('invalid receiver');\n    return GetSlot(dateTime(this), ISO_MILLISECOND);\n  }\n  get microsecond(): Return['microsecond'] {\n    if (!ES.IsTemporalZonedDateTime(this)) throw new TypeError('invalid receiver');\n    return GetSlot(dateTime(this), ISO_MICROSECOND);\n  }\n  get nanosecond(): Return['nanosecond'] {\n    if (!ES.IsTemporalZonedDateTime(this)) throw new TypeError('invalid receiver');\n    return GetSlot(dateTime(this), ISO_NANOSECOND);\n  }\n  get era(): Return['era'] {\n    if (!ES.IsTemporalZonedDateTime(this)) throw new TypeError('invalid receiver');\n    return ES.CalendarEra(GetSlot(this, CALENDAR), dateTime(this));\n  }\n  get eraYear(): Return['eraYear'] {\n    if (!ES.IsTemporalZonedDateTime(this)) throw new TypeError('invalid receiver');\n    return ES.CalendarEraYear(GetSlot(this, CALENDAR), dateTime(this));\n  }\n  get epochSeconds(): Return['epochSeconds'] {\n    if (!ES.IsTemporalZonedDateTime(this)) throw new TypeError('invalid receiver');\n    const value = GetSlot(this, EPOCHNANOSECONDS);\n    return JSBI.toNumber(ES.BigIntFloorDiv(value, BILLION));\n  }\n  get epochMilliseconds(): Return['epochMilliseconds'] {\n    if (!ES.IsTemporalZonedDateTime(this)) throw new TypeError('invalid receiver');\n    const value = GetSlot(this, EPOCHNANOSECONDS);\n    return JSBI.toNumber(ES.BigIntFloorDiv(value, MILLION));\n  }\n  get epochMicroseconds(): Return['epochMicroseconds'] {\n    if (!ES.IsTemporalZonedDateTime(this)) throw new TypeError('invalid receiver');\n    const value = GetSlot(this, EPOCHNANOSECONDS);\n    return ES.ToBigIntExternal(ES.BigIntFloorDiv(value, THOUSAND));\n  }\n  get epochNanoseconds(): Return['epochNanoseconds'] {\n    if (!ES.IsTemporalZonedDateTime(this)) throw new TypeError('invalid receiver');\n    return ES.ToBigIntExternal(GetSlot(this, EPOCHNANOSECONDS));\n  }\n  get dayOfWeek(): Return['dayOfWeek'] {\n    if (!ES.IsTemporalZonedDateTime(this)) throw new TypeError('invalid receiver');\n    return ES.CalendarDayOfWeek(GetSlot(this, CALENDAR), dateTime(this));\n  }\n  get dayOfYear(): Return['dayOfYear'] {\n    if (!ES.IsTemporalZonedDateTime(this)) throw new TypeError('invalid receiver');\n    return ES.CalendarDayOfYear(GetSlot(this, CALENDAR), dateTime(this));\n  }\n  get weekOfYear(): Return['weekOfYear'] {\n    if (!ES.IsTemporalZonedDateTime(this)) throw new TypeError('invalid receiver');\n    return ES.CalendarWeekOfYear(GetSlot(this, CALENDAR), dateTime(this));\n  }\n  get yearOfWeek(): Return['yearOfWeek'] {\n    if (!ES.IsTemporalZonedDateTime(this)) throw new TypeError('invalid receiver');\n    return ES.CalendarYearOfWeek(GetSlot(this, CALENDAR), dateTime(this));\n  }\n  get hoursInDay(): Return['hoursInDay'] {\n    if (!ES.IsTemporalZonedDateTime(this)) throw new TypeError('invalid receiver');\n    const dt = dateTime(this);\n    const DateTime = GetIntrinsic('%Temporal.PlainDateTime%');\n    const year = GetSlot(dt, ISO_YEAR);\n    const month = GetSlot(dt, ISO_MONTH);\n    const day = GetSlot(dt, ISO_DAY);\n    const today = new DateTime(year, month, day, 0, 0, 0, 0, 0, 0);\n    const tomorrowFields = ES.AddISODate(year, month, day, 0, 0, 0, 1, 'reject');\n    const tomorrow = new DateTime(tomorrowFields.year, tomorrowFields.month, tomorrowFields.day, 0, 0, 0, 0, 0, 0);\n    const timeZone = GetSlot(this, TIME_ZONE);\n    const todayNs = GetSlot(ES.GetInstantFor(timeZone, today, 'compatible'), EPOCHNANOSECONDS);\n    const tomorrowNs = GetSlot(ES.GetInstantFor(timeZone, tomorrow, 'compatible'), EPOCHNANOSECONDS);\n    const diffNs = JSBI.subtract(tomorrowNs, todayNs);\n    return ES.BigIntDivideToNumber(diffNs, HOUR_NANOS);\n  }\n  get daysInWeek(): Return['daysInWeek'] {\n    if (!ES.IsTemporalZonedDateTime(this)) throw new TypeError('invalid receiver');\n    return ES.CalendarDaysInWeek(GetSlot(this, CALENDAR), dateTime(this));\n  }\n  get daysInMonth(): Return['daysInMonth'] {\n    if (!ES.IsTemporalZonedDateTime(this)) throw new TypeError('invalid receiver');\n    return ES.CalendarDaysInMonth(GetSlot(this, CALENDAR), dateTime(this));\n  }\n  get daysInYear(): Return['daysInYear'] {\n    if (!ES.IsTemporalZonedDateTime(this)) throw new TypeError('invalid receiver');\n    return ES.CalendarDaysInYear(GetSlot(this, CALENDAR), dateTime(this));\n  }\n  get monthsInYear(): Return['monthsInYear'] {\n    if (!ES.IsTemporalZonedDateTime(this)) throw new TypeError('invalid receiver');\n    return ES.CalendarMonthsInYear(GetSlot(this, CALENDAR), dateTime(this));\n  }\n  get inLeapYear(): Return['inLeapYear'] {\n    if (!ES.IsTemporalZonedDateTime(this)) throw new TypeError('invalid receiver');\n    return ES.CalendarInLeapYear(GetSlot(this, CALENDAR), dateTime(this));\n  }\n  get offset(): Return['offset'] {\n    if (!ES.IsTemporalZonedDateTime(this)) throw new TypeError('invalid receiver');\n    return ES.GetOffsetStringFor(GetSlot(this, TIME_ZONE), GetSlot(this, INSTANT));\n  }\n  get offsetNanoseconds(): Return['offsetNanoseconds'] {\n    if (!ES.IsTemporalZonedDateTime(this)) throw new TypeError('invalid receiver');\n    return ES.GetOffsetNanosecondsFor(GetSlot(this, TIME_ZONE), GetSlot(this, INSTANT));\n  }\n  with(temporalZonedDateTimeLike: Params['with'][0], optionsParam: Params['with'][1] = undefined): Return['with'] {\n    if (!ES.IsTemporalZonedDateTime(this)) throw new TypeError('invalid receiver');\n    if (!ES.IsObject(temporalZonedDateTimeLike)) {\n      throw new TypeError('invalid zoned-date-time-like');\n    }\n    ES.RejectTemporalLikeObject(temporalZonedDateTimeLike);\n    const options = ES.GetOptionsObject(optionsParam);\n\n    const calendar = GetSlot(this, CALENDAR);\n    let fieldNames: (keyof Temporal.ZonedDateTimeLike)[] = ES.CalendarFields(calendar, [\n      'day',\n      'hour',\n      'microsecond',\n      'millisecond',\n      'minute',\n      'month',\n      'monthCode',\n      'nanosecond',\n      'second',\n      'year'\n    ] as const);\n    fieldNames.push('offset');\n    let fields = ES.PrepareTemporalFields(this, fieldNames, ['offset']);\n    const partialZonedDateTime = ES.PrepareTemporalFields(temporalZonedDateTimeLike, fieldNames, 'partial');\n    fields = ES.CalendarMergeFields(calendar, fields, partialZonedDateTime);\n    fields = ES.PrepareTemporalFields(fields, fieldNames, ['offset']);\n\n    const disambiguation = ES.ToTemporalDisambiguation(options);\n    const offset = ES.ToTemporalOffset(options, 'prefer');\n\n    let { year, month, day, hour, minute, second, millisecond, microsecond, nanosecond } =\n      ES.InterpretTemporalDateTimeFields(calendar, fields, options);\n    const offsetNs = ES.ParseTimeZoneOffsetString(fields.offset);\n    const timeZone = GetSlot(this, TIME_ZONE);\n    const epochNanoseconds = ES.InterpretISODateTimeOffset(\n      year,\n      month,\n      day,\n      hour,\n      minute,\n      second,\n      millisecond,\n      microsecond,\n      nanosecond,\n      'option',\n      offsetNs,\n      timeZone,\n      disambiguation,\n      offset,\n      /* matchMinute = */ false\n    );\n\n    return ES.CreateTemporalZonedDateTime(epochNanoseconds, timeZone, calendar);\n  }\n  withPlainDate(temporalDateParam: Params['withPlainDate'][0]): Return['withPlainDate'] {\n    if (!ES.IsTemporalZonedDateTime(this)) throw new TypeError('invalid receiver');\n\n    const temporalDate = ES.ToTemporalDate(temporalDateParam);\n\n    const year = GetSlot(temporalDate, ISO_YEAR);\n    const month = GetSlot(temporalDate, ISO_MONTH);\n    const day = GetSlot(temporalDate, ISO_DAY);\n    let calendar = GetSlot(temporalDate, CALENDAR);\n    const thisDt = dateTime(this);\n    const hour = GetSlot(thisDt, ISO_HOUR);\n    const minute = GetSlot(thisDt, ISO_MINUTE);\n    const second = GetSlot(thisDt, ISO_SECOND);\n    const millisecond = GetSlot(thisDt, ISO_MILLISECOND);\n    const microsecond = GetSlot(thisDt, ISO_MICROSECOND);\n    const nanosecond = GetSlot(thisDt, ISO_NANOSECOND);\n\n    calendar = ES.ConsolidateCalendars(GetSlot(this, CALENDAR), calendar);\n    const timeZone = GetSlot(this, TIME_ZONE);\n    const PlainDateTime = GetIntrinsic('%Temporal.PlainDateTime%');\n    const dt = new PlainDateTime(\n      year,\n      month,\n      day,\n      hour,\n      minute,\n      second,\n      millisecond,\n      microsecond,\n      nanosecond,\n      calendar\n    );\n    const instant = ES.GetInstantFor(timeZone, dt, 'compatible');\n    return ES.CreateTemporalZonedDateTime(GetSlot(instant, EPOCHNANOSECONDS), timeZone, calendar);\n  }\n  withPlainTime(temporalTimeParam: Params['withPlainTime'][0] = undefined): Return['withPlainTime'] {\n    if (!ES.IsTemporalZonedDateTime(this)) throw new TypeError('invalid receiver');\n\n    const PlainTime = GetIntrinsic('%Temporal.PlainTime%');\n    const temporalTime = temporalTimeParam === undefined ? new PlainTime() : ES.ToTemporalTime(temporalTimeParam);\n\n    const thisDt = dateTime(this);\n    const year = GetSlot(thisDt, ISO_YEAR);\n    const month = GetSlot(thisDt, ISO_MONTH);\n    const day = GetSlot(thisDt, ISO_DAY);\n    const calendar = GetSlot(this, CALENDAR);\n    const hour = GetSlot(temporalTime, ISO_HOUR);\n    const minute = GetSlot(temporalTime, ISO_MINUTE);\n    const second = GetSlot(temporalTime, ISO_SECOND);\n    const millisecond = GetSlot(temporalTime, ISO_MILLISECOND);\n    const microsecond = GetSlot(temporalTime, ISO_MICROSECOND);\n    const nanosecond = GetSlot(temporalTime, ISO_NANOSECOND);\n\n    const timeZone = GetSlot(this, TIME_ZONE);\n    const PlainDateTime = GetIntrinsic('%Temporal.PlainDateTime%');\n    const dt = new PlainDateTime(\n      year,\n      month,\n      day,\n      hour,\n      minute,\n      second,\n      millisecond,\n      microsecond,\n      nanosecond,\n      calendar\n    );\n    const instant = ES.GetInstantFor(timeZone, dt, 'compatible');\n    return ES.CreateTemporalZonedDateTime(GetSlot(instant, EPOCHNANOSECONDS), timeZone, calendar);\n  }\n  withTimeZone(timeZoneParam: Params['withTimeZone'][0]): Return['withTimeZone'] {\n    if (!ES.IsTemporalZonedDateTime(this)) throw new TypeError('invalid receiver');\n    const timeZone = ES.ToTemporalTimeZoneSlotValue(timeZoneParam);\n    return ES.CreateTemporalZonedDateTime(GetSlot(this, EPOCHNANOSECONDS), timeZone, GetSlot(this, CALENDAR));\n  }\n  withCalendar(calendarParam: Params['withCalendar'][0]): Return['withCalendar'] {\n    if (!ES.IsTemporalZonedDateTime(this)) throw new TypeError('invalid receiver');\n    const calendar = ES.ToTemporalCalendarSlotValue(calendarParam);\n    return ES.CreateTemporalZonedDateTime(GetSlot(this, EPOCHNANOSECONDS), GetSlot(this, TIME_ZONE), calendar);\n  }\n  add(temporalDurationLike: Params['add'][0], options: Params['add'][1] = undefined): Return['add'] {\n    if (!ES.IsTemporalZonedDateTime(this)) throw new TypeError('invalid receiver');\n    return ES.AddDurationToOrSubtractDurationFromZonedDateTime('add', this, temporalDurationLike, options);\n  }\n  subtract(\n    temporalDurationLike: Params['subtract'][0],\n    options: Params['subtract'][1] = undefined\n  ): Return['subtract'] {\n    if (!ES.IsTemporalZonedDateTime(this)) throw new TypeError('invalid receiver');\n    return ES.AddDurationToOrSubtractDurationFromZonedDateTime('subtract', this, temporalDurationLike, options);\n  }\n  until(other: Params['until'][0], options: Params['until'][1] = undefined): Return['until'] {\n    if (!ES.IsTemporalZonedDateTime(this)) throw new TypeError('invalid receiver');\n    return ES.DifferenceTemporalZonedDateTime('until', this, other, options);\n  }\n  since(other: Params['since'][0], options: Params['since'][1] = undefined): Return['since'] {\n    if (!ES.IsTemporalZonedDateTime(this)) throw new TypeError('invalid receiver');\n    return ES.DifferenceTemporalZonedDateTime('since', this, other, options);\n  }\n  round(roundToParam: Params['round'][0]): Return['round'] {\n    if (!ES.IsTemporalZonedDateTime(this)) throw new TypeError('invalid receiver');\n    if (roundToParam === undefined) throw new TypeError('options parameter is required');\n    const roundTo =\n      typeof roundToParam === 'string'\n        ? (ES.CreateOnePropObject('smallestUnit', roundToParam) as Exclude<typeof roundToParam, string>)\n        : ES.GetOptionsObject(roundToParam);\n    const roundingIncrement = ES.ToTemporalRoundingIncrement(roundTo);\n    const roundingMode = ES.ToTemporalRoundingMode(roundTo, 'halfExpand');\n    const smallestUnit = ES.GetTemporalUnit(roundTo, 'smallestUnit', 'time', ES.REQUIRED, ['day']);\n    const maximumIncrements = {\n      day: 1,\n      hour: 24,\n      minute: 60,\n      second: 60,\n      millisecond: 1000,\n      microsecond: 1000,\n      nanosecond: 1000\n    };\n    const maximum = maximumIncrements[smallestUnit];\n    const inclusive = maximum === 1;\n    ES.ValidateTemporalRoundingIncrement(roundingIncrement, maximum, inclusive);\n\n    // first, round the underlying DateTime fields\n    const dt = dateTime(this);\n    let year = GetSlot(dt, ISO_YEAR);\n    let month = GetSlot(dt, ISO_MONTH);\n    let day = GetSlot(dt, ISO_DAY);\n    let hour = GetSlot(dt, ISO_HOUR);\n    let minute = GetSlot(dt, ISO_MINUTE);\n    let second = GetSlot(dt, ISO_SECOND);\n    let millisecond = GetSlot(dt, ISO_MILLISECOND);\n    let microsecond = GetSlot(dt, ISO_MICROSECOND);\n    let nanosecond = GetSlot(dt, ISO_NANOSECOND);\n\n    const DateTime = GetIntrinsic('%Temporal.PlainDateTime%');\n    const timeZone = GetSlot(this, TIME_ZONE);\n    const calendar = GetSlot(this, CALENDAR);\n    const dtStart = new DateTime(GetSlot(dt, ISO_YEAR), GetSlot(dt, ISO_MONTH), GetSlot(dt, ISO_DAY), 0, 0, 0, 0, 0, 0);\n    const instantStart = ES.GetInstantFor(timeZone, dtStart, 'compatible');\n    const endNs = ES.AddZonedDateTime(instantStart, timeZone, calendar, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0);\n    const dayLengthNs = JSBI.subtract(endNs, JSBI.BigInt(GetSlot(instantStart, EPOCHNANOSECONDS)));\n    if (JSBI.lessThanOrEqual(dayLengthNs, ZERO)) {\n      throw new RangeError('cannot round a ZonedDateTime in a calendar with zero or negative length days');\n    }\n    ({ year, month, day, hour, minute, second, millisecond, microsecond, nanosecond } = ES.RoundISODateTime(\n      year,\n      month,\n      day,\n      hour,\n      minute,\n      second,\n      millisecond,\n      microsecond,\n      nanosecond,\n      roundingIncrement,\n      smallestUnit,\n      roundingMode,\n      // Days are guaranteed to be shorter than Number.MAX_SAFE_INTEGER\n      // (which can hold up to 104 days in nanoseconds)\n      JSBI.toNumber(dayLengthNs)\n    ));\n\n    // Now reset all DateTime fields but leave the TimeZone. The offset will\n    // also be retained if the new date/time values are still OK with the old\n    // offset. Otherwise the offset will be changed to be compatible with the\n    // new date/time values. If DST disambiguation is required, the `compatible`\n    // disambiguation algorithm will be used.\n    const offsetNs = ES.GetOffsetNanosecondsFor(timeZone, GetSlot(this, INSTANT));\n    const epochNanoseconds = ES.InterpretISODateTimeOffset(\n      year,\n      month,\n      day,\n      hour,\n      minute,\n      second,\n      millisecond,\n      microsecond,\n      nanosecond,\n      'option',\n      offsetNs,\n      timeZone,\n      'compatible',\n      'prefer',\n      /* matchMinute = */ false\n    );\n\n    return ES.CreateTemporalZonedDateTime(epochNanoseconds, timeZone, GetSlot(this, CALENDAR));\n  }\n  equals(otherParam: Params['equals'][0]): Return['equals'] {\n    if (!ES.IsTemporalZonedDateTime(this)) throw new TypeError('invalid receiver');\n    const other = ES.ToTemporalZonedDateTime(otherParam);\n    const one = GetSlot(this, EPOCHNANOSECONDS);\n    const two = GetSlot(other, EPOCHNANOSECONDS);\n    if (!JSBI.equal(JSBI.BigInt(one), JSBI.BigInt(two))) return false;\n    if (!ES.TimeZoneEquals(GetSlot(this, TIME_ZONE), GetSlot(other, TIME_ZONE))) return false;\n    return ES.CalendarEquals(GetSlot(this, CALENDAR), GetSlot(other, CALENDAR));\n  }\n  toString(optionsParam: Params['toString'][0] = undefined): string {\n    if (!ES.IsTemporalZonedDateTime(this)) throw new TypeError('invalid receiver');\n    const options = ES.GetOptionsObject(optionsParam);\n    const showCalendar = ES.ToCalendarNameOption(options);\n    const digits = ES.ToFractionalSecondDigits(options);\n    const showOffset = ES.ToShowOffsetOption(options);\n    const roundingMode = ES.ToTemporalRoundingMode(options, 'trunc');\n    const smallestUnit = ES.GetTemporalUnit(options, 'smallestUnit', 'time', undefined);\n    if (smallestUnit === 'hour') throw new RangeError('smallestUnit must be a time unit other than \"hour\"');\n    const showTimeZone = ES.ToTimeZoneNameOption(options);\n    const { precision, unit, increment } = ES.ToSecondsStringPrecisionRecord(smallestUnit, digits);\n    return ES.TemporalZonedDateTimeToString(this, precision, showCalendar, showTimeZone, showOffset, {\n      unit,\n      increment,\n      roundingMode\n    });\n  }\n  toLocaleString(\n    locales: Params['toLocaleString'][0] = undefined,\n    optionsParam: Params['toLocaleString'][1] = undefined\n  ): string {\n    if (!ES.IsTemporalZonedDateTime(this)) throw new TypeError('invalid receiver');\n    const options = ES.GetOptionsObject(optionsParam);\n\n    const optionsCopy = ObjectCreate(null);\n    // This is not quite per specification, but this polyfill's DateTimeFormat\n    // already doesn't match the InitializeDateTimeFormat operation, and the\n    // access order might change anyway;\n    // see https://github.com/tc39/ecma402/issues/747\n    ES.CopyDataProperties(optionsCopy, options, ['timeZone']);\n\n    if (options.timeZone !== undefined) {\n      throw new TypeError('ZonedDateTime toLocaleString does not accept a timeZone option');\n    }\n\n    if (\n      optionsCopy.year === undefined &&\n      optionsCopy.month === undefined &&\n      optionsCopy.day === undefined &&\n      optionsCopy.weekday === undefined &&\n      optionsCopy.dateStyle === undefined &&\n      optionsCopy.hour === undefined &&\n      optionsCopy.minute === undefined &&\n      optionsCopy.second === undefined &&\n      optionsCopy.timeStyle === undefined &&\n      optionsCopy.dayPeriod === undefined &&\n      optionsCopy.timeZoneName === undefined\n    ) {\n      optionsCopy.timeZoneName = 'short';\n      // The rest of the defaults will be filled in by formatting the Instant\n    }\n\n    let timeZone = ES.ToTemporalTimeZoneIdentifier(GetSlot(this, TIME_ZONE));\n    if (ES.IsTimeZoneOffsetString(timeZone)) {\n      // Note: https://github.com/tc39/ecma402/issues/683 will remove this\n      throw new RangeError('toLocaleString does not support offset string time zones');\n    }\n    timeZone = ES.GetCanonicalTimeZoneIdentifier(timeZone);\n    optionsCopy.timeZone = timeZone;\n\n    const formatter = new DateTimeFormat(locales, optionsCopy);\n\n    const localeCalendarIdentifier = ES.Call(customResolvedOptions, formatter, []).calendar;\n    const calendarIdentifier = ES.ToTemporalCalendarIdentifier(GetSlot(this, CALENDAR));\n    if (\n      calendarIdentifier !== 'iso8601' &&\n      localeCalendarIdentifier !== 'iso8601' &&\n      localeCalendarIdentifier !== calendarIdentifier\n    ) {\n      throw new RangeError(\n        `cannot format ZonedDateTime with calendar ${calendarIdentifier}` +\n          ` in locale with calendar ${localeCalendarIdentifier}`\n      );\n    }\n\n    return formatter.format(GetSlot(this, INSTANT));\n  }\n  toJSON(): Return['toJSON'] {\n    if (!ES.IsTemporalZonedDateTime(this)) throw new TypeError('invalid receiver');\n    return ES.TemporalZonedDateTimeToString(this, 'auto');\n  }\n  valueOf(): never {\n    throw new TypeError('use compare() or equals() to compare Temporal.ZonedDateTime');\n  }\n  startOfDay(): Return['startOfDay'] {\n    if (!ES.IsTemporalZonedDateTime(this)) throw new TypeError('invalid receiver');\n    const dt = dateTime(this);\n    const DateTime = GetIntrinsic('%Temporal.PlainDateTime%');\n    const calendar = GetSlot(this, CALENDAR);\n    const dtStart = new DateTime(\n      GetSlot(dt, ISO_YEAR),\n      GetSlot(dt, ISO_MONTH),\n      GetSlot(dt, ISO_DAY),\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      calendar\n    );\n    const timeZone = GetSlot(this, TIME_ZONE);\n    const instant = ES.GetInstantFor(timeZone, dtStart, 'compatible');\n    return ES.CreateTemporalZonedDateTime(GetSlot(instant, EPOCHNANOSECONDS), timeZone, calendar);\n  }\n  toInstant(): Return['toInstant'] {\n    if (!ES.IsTemporalZonedDateTime(this)) throw new TypeError('invalid receiver');\n    const TemporalInstant = GetIntrinsic('%Temporal.Instant%');\n    return new TemporalInstant(GetSlot(this, EPOCHNANOSECONDS));\n  }\n  toPlainDate(): Return['toPlainDate'] {\n    if (!ES.IsTemporalZonedDateTime(this)) throw new TypeError('invalid receiver');\n    return ES.TemporalDateTimeToDate(dateTime(this));\n  }\n  toPlainTime(): Return['toPlainTime'] {\n    if (!ES.IsTemporalZonedDateTime(this)) throw new TypeError('invalid receiver');\n    return ES.TemporalDateTimeToTime(dateTime(this));\n  }\n  toPlainDateTime(): Return['toPlainDateTime'] {\n    if (!ES.IsTemporalZonedDateTime(this)) throw new TypeError('invalid receiver');\n    return dateTime(this);\n  }\n  toPlainYearMonth(): Return['toPlainYearMonth'] {\n    if (!ES.IsTemporalZonedDateTime(this)) throw new TypeError('invalid receiver');\n    const calendar = GetSlot(this, CALENDAR);\n    const fieldNames = ES.CalendarFields(calendar, ['monthCode', 'year'] as const);\n    const fields = ES.PrepareTemporalFields(this, fieldNames, []);\n    return ES.CalendarYearMonthFromFields(calendar, fields);\n  }\n  toPlainMonthDay(): Return['toPlainMonthDay'] {\n    if (!ES.IsTemporalZonedDateTime(this)) throw new TypeError('invalid receiver');\n    const calendar = GetSlot(this, CALENDAR);\n    const fieldNames = ES.CalendarFields(calendar, ['day', 'monthCode'] as const);\n    const fields = ES.PrepareTemporalFields(this, fieldNames, []);\n    return ES.CalendarMonthDayFromFields(calendar, fields);\n  }\n  getISOFields(): Return['getISOFields'] {\n    if (!ES.IsTemporalZonedDateTime(this)) throw new TypeError('invalid receiver');\n    const dt = dateTime(this);\n    const tz = GetSlot(this, TIME_ZONE);\n    return {\n      calendar: GetSlot(this, CALENDAR),\n      isoDay: GetSlot(dt, ISO_DAY),\n      isoHour: GetSlot(dt, ISO_HOUR),\n      isoMicrosecond: GetSlot(dt, ISO_MICROSECOND),\n      isoMillisecond: GetSlot(dt, ISO_MILLISECOND),\n      isoMinute: GetSlot(dt, ISO_MINUTE),\n      isoMonth: GetSlot(dt, ISO_MONTH),\n      isoNanosecond: GetSlot(dt, ISO_NANOSECOND),\n      isoSecond: GetSlot(dt, ISO_SECOND),\n      isoYear: GetSlot(dt, ISO_YEAR),\n      offset: ES.GetOffsetStringFor(tz, GetSlot(this, INSTANT)),\n      timeZone: tz\n    };\n  }\n  getCalendar(): Return['getCalendar'] {\n    if (!ES.IsTemporalZonedDateTime(this)) throw new TypeError('invalid receiver');\n    return ES.ToTemporalCalendarObject(GetSlot(this, CALENDAR));\n  }\n  getTimeZone(): Return['getTimeZone'] {\n    if (!ES.IsTemporalZonedDateTime(this)) throw new TypeError('invalid receiver');\n    return ES.ToTemporalTimeZoneObject(GetSlot(this, TIME_ZONE));\n  }\n\n  static from(item: Params['from'][0], optionsParam: Params['from'][1] = undefined): Return['from'] {\n    const options = ES.GetOptionsObject(optionsParam);\n    if (ES.IsTemporalZonedDateTime(item)) {\n      ES.ToTemporalDisambiguation(options); // validate and ignore\n      ES.ToTemporalOffset(options, 'reject');\n      ES.ToTemporalOverflow(options);\n      return ES.CreateTemporalZonedDateTime(\n        GetSlot(item, EPOCHNANOSECONDS),\n        GetSlot(item, TIME_ZONE),\n        GetSlot(item, CALENDAR)\n      );\n    }\n    return ES.ToTemporalZonedDateTime(item, options);\n  }\n  static compare(oneParam: Params['compare'][0], twoParam: Params['compare'][1]): Return['compare'] {\n    const one = ES.ToTemporalZonedDateTime(oneParam);\n    const two = ES.ToTemporalZonedDateTime(twoParam);\n    const ns1 = GetSlot(one, EPOCHNANOSECONDS);\n    const ns2 = GetSlot(two, EPOCHNANOSECONDS);\n    if (JSBI.lessThan(JSBI.BigInt(ns1), JSBI.BigInt(ns2))) return -1;\n    if (JSBI.greaterThan(JSBI.BigInt(ns1), JSBI.BigInt(ns2))) return 1;\n    return 0;\n  }\n  [Symbol.toStringTag]!: 'Temporal.ZonedDateTime';\n}\n\nMakeIntrinsicClass(ZonedDateTime, 'Temporal.ZonedDateTime');\n\nfunction dateTime(zdt: Temporal.ZonedDateTime) {\n  return ES.GetPlainDateTimeFor(GetSlot(zdt, TIME_ZONE), GetSlot(zdt, INSTANT), GetSlot(zdt, CALENDAR));\n}\n","// This entry point treats Temporal as a library, and does not polyfill it onto\n// the global object.\n// This is in order to avoid breaking the web in the future, if the polyfill\n// gains wide adoption before the API is finalized. We do not want checks such\n// as `if (typeof Temporal === 'undefined')` in the wild, until browsers start\n// shipping the finalized API.\n\nimport * as Temporal from './temporal';\nimport * as Intl from './intl';\nimport { toTemporalInstant } from './legacydate';\n\n// Work around https://github.com/babel/babel/issues/2025.\nconst types = [\n  Temporal.Instant,\n  Temporal.Calendar,\n  Temporal.PlainDate,\n  Temporal.PlainDateTime,\n  Temporal.Duration,\n  Temporal.PlainMonthDay,\n  // Temporal.Now, // plain object (not a constructor), so no `prototype`\n  Temporal.PlainTime,\n  Temporal.TimeZone,\n  Temporal.PlainYearMonth,\n  Temporal.ZonedDateTime\n];\nfor (const type of types) {\n  const descriptor = Object.getOwnPropertyDescriptor(type, 'prototype') as PropertyDescriptor;\n  if (descriptor.configurable || descriptor.enumerable || descriptor.writable) {\n    descriptor.configurable = false;\n    descriptor.enumerable = false;\n    descriptor.writable = false;\n    Object.defineProperty(type, 'prototype', descriptor);\n  }\n}\n\nexport { Temporal, Intl, toTemporalInstant };\n","/**\n * a map of the IDs used in DHIS2 to the standard identifiers used by Temporal\n */\nexport const dhis2CalendarsMap = {\n  ethiopian: 'ethiopic',\n  coptic: 'coptic',\n  gregorian: 'gregory',\n  islamic: 'islamic',\n  iso8601: 'iso8601',\n  // 'Julian': 'julian', // this is not supported by Temporal\n  nepali: 'nepali',\n  thai: 'buddhist',\n  persian: 'persian'\n};","const calendarLocalisations = {\n  nepali: {\n    // these locales should follow lang-Country (lang from https://icu4c-demos.unicode.org/icu-bin/locexp and countryCode from https://www.iso.org/obp/ui/#search)\n    'ne-NP': {\n      monthNames: ['बैशाख', 'जेठ', 'असार', 'साउन', 'भदौ', 'असोज', 'कार्तिक', 'मंसिर', 'पौष', 'माघ', 'फागुन', 'चैत'],\n      // starting from Monday\n      dayNamesShort: ['सोम', 'मंगल', 'बुध', 'बिही', 'शुक्र', 'शनि', 'आइत'],\n      numbers: ['०', '१', '२', '३', '४', '५', '६', '७', '८', '९', '१०', '११', '१२', '१३', '१४', '१५', '१६', '१७', '१८', '१९', '२०', '२१', '२२', '२३', '२४', '२५', '२६', '२७', '२८', '२९', '३०', '३१']\n    },\n    'en-NP': {\n      monthNames: ['Baisakh', 'Jestha', 'Ashadh', 'Shrawan', 'Bhadra', 'Ashwin', 'Kartik', 'Mangsir', 'Paush', 'Mangh', 'Falgun', 'Chaitra'],\n      dayNamesShort: ['Som', 'Mangl', 'Budha', 'Bihi', 'Shukra', 'Shani', 'Aaita'],\n      monthNamesShort: ['Bai', 'Je', 'As', 'Shra', 'Bha', 'Ash', 'Kar', 'Mang', 'Pau', 'Ma', 'Fal', 'Chai'],\n      dayNames: ['Aaitabaar', 'Sombaar', 'Manglbaar', 'Budhabaar', 'Bihibaar', 'Shukrabaar', 'Shanibaar'],\n      dayNamesMin: ['Aai', 'So', 'Man', 'Bu', 'Bi', 'Shu', 'Sha']\n    }\n  }\n};\nexport default calendarLocalisations;","/**\n * Data for the nepali calendar.\n *\n * - The key (1970...) is the Nepali year.\n * - The first colummn is what day does the year starts on Paush.\n *    - The year always starts in Paush (the 9th month) but it is somewhere between 17 to 19th of Paush.\n * - The other 12 columns show how many days are in each month.\n *\n * The data starts from 1970 (1913 in gregorian calendar) to 2100 (2044 in gregorian calendar)\n */\nexport const NEPALI_CALENDAR_DATA = {\n  // This data are from http://www.ashesh.com.np\n  1970: [18, 31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30],\n  1971: [18, 31, 31, 32, 31, 32, 30, 30, 29, 30, 29, 30, 30],\n  1972: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 30],\n  1973: [19, 30, 32, 31, 32, 31, 30, 30, 30, 29, 30, 29, 31],\n  1974: [19, 31, 31, 32, 30, 31, 31, 30, 29, 30, 29, 30, 30],\n  1975: [18, 31, 31, 32, 32, 30, 31, 30, 29, 30, 29, 30, 30],\n  1976: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 31],\n  1977: [18, 31, 32, 31, 32, 31, 31, 29, 30, 29, 30, 29, 31],\n  1978: [18, 31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30],\n  1979: [18, 31, 31, 32, 32, 31, 30, 30, 29, 30, 29, 30, 30],\n  1980: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 31],\n  1981: [18, 31, 31, 31, 32, 31, 31, 29, 30, 30, 29, 30, 30],\n  1982: [18, 31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30],\n  1983: [18, 31, 31, 32, 32, 31, 30, 30, 29, 30, 29, 30, 30],\n  1984: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 31],\n  1985: [18, 31, 31, 31, 32, 31, 31, 29, 30, 30, 29, 30, 30],\n  1986: [18, 31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30],\n  1987: [18, 31, 32, 31, 32, 31, 30, 30, 29, 30, 29, 30, 30],\n  1988: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 31],\n  1989: [18, 31, 31, 31, 32, 31, 31, 30, 29, 30, 29, 30, 30],\n  1990: [18, 31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30],\n  1991: [18, 31, 32, 31, 32, 31, 30, 30, 29, 30, 29, 30, 30],\n  // These data are from http://nepalicalendar.rat32.com/index.php\n  1992: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 30, 29, 31],\n  1993: [18, 31, 31, 31, 32, 31, 31, 30, 29, 30, 29, 30, 30],\n  1994: [18, 31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30],\n  1995: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 30],\n  1996: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 30, 29, 31],\n  1997: [18, 31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30],\n  1998: [18, 31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30],\n  1999: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 31],\n  2000: [17, 30, 32, 31, 32, 31, 30, 30, 30, 29, 30, 29, 31],\n  2001: [18, 31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30],\n  2002: [18, 31, 31, 32, 32, 31, 30, 30, 29, 30, 29, 30, 30],\n  2003: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 31],\n  2004: [17, 30, 32, 31, 32, 31, 30, 30, 30, 29, 30, 29, 31],\n  2005: [18, 31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30],\n  2006: [18, 31, 31, 32, 32, 31, 30, 30, 29, 30, 29, 30, 30],\n  2007: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 31],\n  2008: [17, 31, 31, 31, 32, 31, 31, 29, 30, 30, 29, 29, 31],\n  2009: [18, 31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30],\n  2010: [18, 31, 31, 32, 32, 31, 30, 30, 29, 30, 29, 30, 30],\n  2011: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 31],\n  2012: [17, 31, 31, 31, 32, 31, 31, 29, 30, 30, 29, 30, 30],\n  2013: [18, 31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30],\n  2014: [18, 31, 31, 32, 32, 31, 30, 30, 29, 30, 29, 30, 30],\n  2015: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 31],\n  2016: [17, 31, 31, 31, 32, 31, 31, 29, 30, 30, 29, 30, 30],\n  2017: [18, 31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30],\n  2018: [18, 31, 32, 31, 32, 31, 30, 30, 29, 30, 29, 30, 30],\n  2019: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 30, 29, 31],\n  2020: [17, 31, 31, 31, 32, 31, 31, 30, 29, 30, 29, 30, 30],\n  2021: [18, 31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30],\n  2022: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 30],\n  2023: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 30, 29, 31],\n  2024: [17, 31, 31, 31, 32, 31, 31, 30, 29, 30, 29, 30, 30],\n  2025: [18, 31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30],\n  2026: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 31],\n  2027: [17, 30, 32, 31, 32, 31, 30, 30, 30, 29, 30, 29, 31],\n  2028: [17, 31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30],\n  2029: [18, 31, 31, 32, 31, 32, 30, 30, 29, 30, 29, 30, 30],\n  2030: [17, 31, 32, 31, 32, 31, 30, 30, 30, 30, 30, 30, 31],\n  2031: [17, 31, 32, 31, 32, 31, 31, 31, 31, 31, 31, 31, 31],\n  2032: [17, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32],\n  2033: [18, 31, 31, 32, 32, 31, 30, 30, 29, 30, 29, 30, 30],\n  2034: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 31],\n  2035: [17, 30, 32, 31, 32, 31, 31, 29, 30, 30, 29, 29, 31],\n  2036: [17, 31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30],\n  2037: [18, 31, 31, 32, 32, 31, 30, 30, 29, 30, 29, 30, 30],\n  2038: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 31],\n  2039: [17, 31, 31, 31, 32, 31, 31, 29, 30, 30, 29, 30, 30],\n  2040: [17, 31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30],\n  2041: [18, 31, 31, 32, 32, 31, 30, 30, 29, 30, 29, 30, 30],\n  2042: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 31],\n  2043: [17, 31, 31, 31, 32, 31, 31, 29, 30, 30, 29, 30, 30],\n  2044: [17, 31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30],\n  2045: [18, 31, 32, 31, 32, 31, 30, 30, 29, 30, 29, 30, 30],\n  2046: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 31],\n  2047: [17, 31, 31, 31, 32, 31, 31, 30, 29, 30, 29, 30, 30],\n  2048: [17, 31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30],\n  2049: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 30],\n  2050: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 30, 29, 31],\n  2051: [17, 31, 31, 31, 32, 31, 31, 30, 29, 30, 29, 30, 30],\n  2052: [17, 31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30],\n  2053: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 30],\n  2054: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 30, 29, 31],\n  2055: [17, 31, 31, 32, 31, 31, 31, 30, 29, 30, 30, 29, 30],\n  2056: [17, 31, 31, 32, 31, 32, 30, 30, 29, 30, 29, 30, 30],\n  2057: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 31],\n  2058: [17, 30, 32, 31, 32, 31, 30, 30, 30, 29, 30, 29, 31],\n  2059: [17, 31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30],\n  2060: [17, 31, 31, 32, 32, 31, 30, 30, 29, 30, 29, 30, 30],\n  2061: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 31],\n  2062: [17, 30, 32, 31, 32, 31, 31, 29, 30, 29, 30, 29, 31],\n  2063: [17, 31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30],\n  2064: [17, 31, 31, 32, 32, 31, 30, 30, 29, 30, 29, 30, 30],\n  2065: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 31],\n  2066: [17, 31, 31, 31, 32, 31, 31, 29, 30, 30, 29, 29, 31],\n  2067: [17, 31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30],\n  2068: [17, 31, 31, 32, 32, 31, 30, 30, 29, 30, 29, 30, 30],\n  2069: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 31],\n  2070: [17, 31, 31, 31, 32, 31, 31, 29, 30, 30, 29, 30, 30],\n  2071: [17, 31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30],\n  2072: [17, 31, 32, 31, 32, 31, 30, 30, 29, 30, 29, 30, 30],\n  2073: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 31],\n  2074: [17, 31, 31, 31, 32, 31, 31, 30, 29, 30, 29, 30, 30],\n  2075: [17, 31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30],\n  2076: [16, 31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 30],\n  2077: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 30, 29, 31],\n  2078: [17, 31, 31, 31, 32, 31, 31, 30, 29, 30, 29, 30, 30],\n  2079: [17, 31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30],\n  2080: [16, 31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 30],\n  // These data are from http://www.ashesh.com.np/nepali-calendar/\n  2081: [17, 31, 31, 32, 32, 31, 30, 30, 30, 29, 30, 30, 30],\n  2082: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 30, 30, 30],\n  2083: [17, 31, 31, 32, 31, 31, 30, 30, 30, 29, 30, 30, 30],\n  2084: [17, 31, 31, 32, 31, 31, 30, 30, 30, 29, 30, 30, 30],\n  2085: [17, 31, 32, 31, 32, 31, 31, 30, 30, 29, 30, 30, 30],\n  2086: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 30, 30, 30],\n  2087: [16, 31, 31, 32, 31, 31, 31, 30, 30, 29, 30, 30, 30],\n  2088: [16, 30, 31, 32, 32, 30, 31, 30, 30, 29, 30, 30, 30],\n  2089: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 30, 30, 30],\n  2090: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 30, 30, 30],\n  2091: [16, 31, 31, 32, 31, 31, 31, 30, 30, 29, 30, 30, 30],\n  2092: [16, 31, 31, 32, 32, 31, 30, 30, 30, 29, 30, 30, 30],\n  2093: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 30, 30, 30],\n  2094: [17, 31, 31, 32, 31, 31, 30, 30, 30, 29, 30, 30, 30],\n  2095: [17, 31, 31, 32, 31, 31, 31, 30, 29, 30, 30, 30, 30],\n  2096: [17, 30, 31, 32, 32, 31, 30, 30, 29, 30, 29, 30, 30],\n  2097: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 30, 30, 30],\n  2098: [17, 31, 31, 32, 31, 31, 31, 29, 30, 29, 30, 30, 31],\n  2099: [17, 31, 31, 32, 31, 31, 31, 30, 29, 29, 30, 30, 30],\n  2100: [17, 31, 32, 31, 32, 30, 31, 30, 29, 30, 29, 30, 30]\n};","import { Temporal } from '@js-temporal/polyfill';\nimport { NEPALI_CALENDAR_DATA } from './nepaliCalendarData';\n/**\n * https://tc39.es/proposal-temporal/docs/calendar.html\n *\n * This implementation is based on World-Calendars library by Keith Wood:\n * https://github.com/kbwood/world-calendars\n */\nclass NepaliCalendar extends Temporal.Calendar {\n  constructor() {\n    super('iso8601');\n  }\n  toString() {\n    return 'nepali';\n  }\n\n  /**\n   * The methods year, month, day return the Nepali date\n   *\n   * A custom implementation of these methods is used to convert the ISO calendar date to the calendar-space arguments.\n   */\n  year(date) {\n    var _isoToNepali2;\n    const {\n      isoYear: year,\n      isoMonth: month,\n      isoDay: day\n    } = date.getISOFields();\n    const nepaliYear = (_isoToNepali2 = _isoToNepali({\n      year,\n      month,\n      day\n    })) === null || _isoToNepali2 === void 0 ? void 0 : _isoToNepali2.year;\n    return nepaliYear;\n  }\n  eraYear(date) {\n    return this.year(date);\n  }\n  daysInMonth(date) {\n    const {\n      year,\n      month\n    } = date;\n    return NEPALI_CALENDAR_DATA[year][month];\n  }\n  month(date) {\n    var _isoToNepali3;\n    const {\n      isoYear: year,\n      isoMonth: month,\n      isoDay: day\n    } = date.getISOFields();\n    return (_isoToNepali3 = _isoToNepali({\n      year,\n      month,\n      day\n    })) === null || _isoToNepali3 === void 0 ? void 0 : _isoToNepali3.month;\n  }\n  monthCode(date) {\n    const {\n      month\n    } = date;\n    return buildMonthCode(month);\n  }\n  day(date) {\n    const {\n      isoYear: year,\n      isoMonth: month,\n      isoDay: day\n    } = date.getISOFields();\n    const {\n      day: nepaliDay\n    } = _isoToNepali({\n      year,\n      month,\n      day\n    });\n    return nepaliDay;\n  }\n  /**\n   * The methods dateFromFields, yearMonthFromFields, monthDayFromFields convert from nepali to iso\n   *\n   * A custom implementation of these methods is used to convert the calendar-space arguments to the ISO calendar.\n   */\n  dateFromFields(fields, options) {\n    const {\n      year,\n      day,\n      month\n    } = _nepaliToIso({\n      year: fields.year,\n      month: fields.month,\n      day: fields.day\n    });\n    return new Temporal.PlainDate(year, month, day, this);\n  }\n  yearMonthFromFields(fields, options) {\n    const {\n      year,\n      day,\n      month\n    } = _nepaliToIso({\n      year: fields.year,\n      month: fields.month,\n      day: fields.day\n    });\n    return new Temporal.PlainYearMonth(year, month, this, day);\n  }\n  monthDayFromFields(fields, options) {\n    const {\n      year,\n      day,\n      month\n    } = _nepaliToIso({\n      year: fields.year,\n      month: fields.month,\n      day: fields.day\n    });\n    return new Temporal.PlainMonthDay(day, month, this, year);\n  }\n}\nconst supportedNepaliYears = Object.keys(NEPALI_CALENDAR_DATA);\nconst firstSupportedNepaliYear = Number(supportedNepaliYears[0]);\nconst lastSupportedNepaliYear = Number(supportedNepaliYears[supportedNepaliYears.length - 1]);\nconst _nepaliToIso = fields => {\n  let {\n    year: nepaliYear\n  } = fields;\n  if (nepaliYear < firstSupportedNepaliYear || nepaliYear > lastSupportedNepaliYear) {\n    throw new Error(`Conversions are only possible between ${firstSupportedNepaliYear} and ${lastSupportedNepaliYear} in Nepali calendar`);\n  }\n  const {\n    month: nepaliMonth,\n    day: nepaliDay = 1\n  } = fields;\n  let gregorianDayOfYear = 0;\n  let monthCounter = nepaliMonth;\n  const gregorianYear = nepaliYear - (nepaliMonth > 9 || monthCounter === 9 && nepaliDay >= NEPALI_CALENDAR_DATA[nepaliYear][0] ? 56 : 57);\n\n  // First we add the amount of days in the actual Nepali month as the day of year in the\n  // Gregorian one because at least these days are gone since the 1st Jan.\n  if (nepaliMonth !== 9) {\n    gregorianDayOfYear = nepaliDay;\n    monthCounter--;\n  }\n\n  // Now we loop through all Nepali months and add the amount of days to gregorianDayOfYear\n  // we do this till we reach Paush (9th month). 1st January always falls in this month.\n  while (monthCounter !== 9) {\n    if (monthCounter <= 0) {\n      monthCounter = 12;\n      nepaliYear--;\n    }\n    gregorianDayOfYear += NEPALI_CALENDAR_DATA[nepaliYear][monthCounter];\n    monthCounter--;\n  }\n\n  // If the date that has to be converted is in Paush (month no. 9) we have to do some other calculation\n  if (nepaliMonth === 9) {\n    // Add the days that are passed since the first day of Paush and substract the\n    // amount of days that lie between 1st Jan and 1st Paush\n    gregorianDayOfYear += nepaliDay - NEPALI_CALENDAR_DATA[nepaliYear][0];\n    // For the first days of Paush we are now in negative values,\n    // because in the end of the Gregorian year we substract\n    // 365 / 366 days (P.S. remember math in school + - gives -)\n    if (gregorianDayOfYear < 0) {\n      gregorianDayOfYear += Temporal.PlainDate.from({\n        year: gregorianYear,\n        day: 1,\n        month: 1\n      }).daysInYear;\n    }\n  } else {\n    gregorianDayOfYear += NEPALI_CALENDAR_DATA[nepaliYear][9] - NEPALI_CALENDAR_DATA[nepaliYear][0];\n  }\n  const result = Temporal.PlainDate.from({\n    year: gregorianYear,\n    month: 1,\n    day: 1\n  }).add({\n    days: gregorianDayOfYear\n  });\n  return {\n    year: result.year,\n    month: result.month,\n    monthCode: buildMonthCode(result.month),\n    day: result.day\n  };\n};\nconst _isoToNepali = isoDate => {\n  // make sure this is iso8601\n  const gregorianDate = Temporal.PlainDate.from({\n    year: isoDate.year,\n    month: isoDate.month,\n    day: isoDate.day\n  });\n  const gregorianYear = gregorianDate.year;\n  const gregorianDayOfYear = gregorianDate.dayOfYear;\n  let nepaliYear = gregorianYear + 56; // this is not final, it could be also +57 but +56 is always true for 1st Jan.\n\n  if (!NEPALI_CALENDAR_DATA[nepaliYear]) {\n    throw new Error(`Conversions are only possible between ${firstSupportedNepaliYear} and ${lastSupportedNepaliYear} in Nepali calendar`);\n  }\n  let nepaliMonth = 9; // Jan 1 always fall in Nepali month Paush which is the 9th month of Nepali calendar.\n  // Get the Nepali day in Paush (month 9) of 1st January\n\n  const dayOfFirstJanInPaush = NEPALI_CALENDAR_DATA[nepaliYear][0];\n  // Check how many days are left of Paush.\n  // Days calculated from 1st Jan till the end of the actual Nepali month,\n  // we use this value to check if the Gregorian date is in the actual Nepali month.\n  let daysSinceJanFirstToEndOfNepaliMonth = NEPALI_CALENDAR_DATA[nepaliYear][nepaliMonth] - dayOfFirstJanInPaush + 1;\n\n  // If the Gregorian day-of-year is smaller than or equal to the sum of days between the 1st January and\n  // the end of the actual Nepali month we have found the correct Nepali month.\n  // Example:\n  // The 4th February 2011 is the gregorianDayOfYear 35 (31 days of January + 4)\n  // 1st January 2011 is in the Nepali year 2067, where 1st January is the 17th day of Paush (9th month).\n  // In 2067 Paush has 30 days, which means (30-17+1=14) there are 14 days between 1st January and end of Paush\n  // (including 17th January).\n  // The gregorianDayOfYear (35) is bigger than 14, so we check the next month.\n  // The next Nepali month (Mangh) has 29 days\n  // 29+14=43, this is bigger than gregorianDayOfYear (35) so, we have found the correct Nepali month.\n  while (gregorianDayOfYear > daysSinceJanFirstToEndOfNepaliMonth) {\n    var _NEPALI_CALENDAR_DATA;\n    nepaliMonth++;\n    if (nepaliMonth > 12) {\n      nepaliMonth = 1;\n      nepaliYear++;\n    }\n    daysSinceJanFirstToEndOfNepaliMonth += (_NEPALI_CALENDAR_DATA = NEPALI_CALENDAR_DATA[nepaliYear]) === null || _NEPALI_CALENDAR_DATA === void 0 ? void 0 : _NEPALI_CALENDAR_DATA[nepaliMonth];\n  }\n  if (!NEPALI_CALENDAR_DATA[nepaliYear]) {\n    throw new Error(`Conversions are only possible between ${firstSupportedNepaliYear} and ${lastSupportedNepaliYear} in Nepali calendar`);\n  }\n  // The last step is to calculate the Nepali day-of-month.\n  // To continue our example from before:\n  // we calculated there are 43 days from 1st January (17 Paush) till end of Mangh (29 days).\n  // When we subtract from this 43 days the day-of-year of the the Gregorian date (35),\n  // we know how far the searched day is away from the end of the Nepali month.\n  // So we simply subtract this number from the amount of days in this month (30).\n  const nepaliDayOfMonth = NEPALI_CALENDAR_DATA[nepaliYear][nepaliMonth] - (daysSinceJanFirstToEndOfNepaliMonth - gregorianDayOfYear);\n  return {\n    year: nepaliYear,\n    month: nepaliMonth,\n    day: nepaliDayOfMonth\n  };\n};\nfunction buildMonthCode(month) {\n  return `M${month.toString().padStart(2, '0')}`;\n}\nexport { NepaliCalendar };","import calendarLocalisations from './calendarLocalisations';\nimport { NepaliCalendar } from './nepaliCalendar';\nexport const customCalendars = {\n  nepali: {\n    calendar: new NepaliCalendar(),\n    locales: calendarLocalisations.nepali,\n    defaultLocale: 'en-NP'\n  }\n};","import { customCalendars } from '../custom-calendars';\nexport const isCustomCalendar = calendar => !!customCalendars[calendar];\nexport const padWithZeroes = function (number) {\n  let count = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n  return String(number).padStart(count, '0');\n};\nexport const formatYyyyMmDD = (date, dayType) => {\n  var _date$eraYear;\n  const year = (_date$eraYear = date.eraYear) !== null && _date$eraYear !== void 0 ? _date$eraYear : date.year;\n  const month = padWithZeroes(date.month);\n  let day = date.day;\n  if (dayType === 'endOfMonth') {\n    day = date.daysInMonth;\n  } else if (dayType === 'startOfMonth') {\n    day = 1;\n  }\n  const dayString = padWithZeroes(day);\n  return `${year}-${month}-${dayString}`;\n};\n\n// capitalize method taking into account locales that have different way of lower/upper case\n// based on https://stackoverflow.com/a/53930826\nexport const capitalize = function (_ref) {\n  let [firstLetter = '', ...rest] = _ref;\n  let locale = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'en';\n  return [firstLetter.toLocaleUpperCase(locale), ...rest].join('');\n};\nexport const getCustomCalendarIfExists = calendar => {\n  var _customCalendars;\n  const isCustom = isCustomCalendar(calendar);\n  if (!isCustom) {\n    return calendar;\n  }\n  const customCalendar = (_customCalendars = customCalendars[calendar]) === null || _customCalendars === void 0 ? void 0 : _customCalendars.calendar;\n  if (!customCalendar) {\n    throw new Error(`No implemenation found for custom calendar ${calendar}`);\n  }\n  return customCalendar;\n};","export const numberingSystems = ['adlm',\n// Adlam digits\n'ahom',\n// Ahom digits\n'arab',\n// Arabic-Indic digits\n'arabext',\n// Extended Arabic-Indic digits\n'armn',\n// Armenian upper case numerals — algorithmic\n'armnlow',\n// Armenian lower case numerals — algorithmic\n'bali',\n// Balinese digits\n'beng',\n// Bengali digits\n'bhks',\n// Bhaiksuki digits\n'brah',\n// Brahmi digits\n'cakm',\n// Chakma digits\n'cham',\n// Cham digits\n'cyrl',\n// Cyrillic numerals — algorithmic\n'deva',\n// Devanagari digits\n'ethi',\n// Ethiopic numerals — algorithmic\n'finance',\n// Financial numerals — may be algorithmic\n'fullwide',\n// Full width digits\n'geor',\n// Georgian numerals — algorithmic\n'gong',\n// Gunjala Gondi digits\n'gonm',\n// Masaram Gondi digits\n'grek',\n// Greek upper case numerals — algorithmic\n'greklow',\n// Greek lower case numerals — algorithmic\n'gujr',\n// Gujarati digits\n'guru',\n// Gurmukhi digits\n'hanidays',\n// Han-character day-of-month numbering for lunar/other traditional calendars\n'hanidec',\n// Positional decimal system using Chinese number ideographs as digits\n'hans',\n// Simplified Chinese numerals — algorithmic\n'hansfin',\n// Simplified Chinese financial numerals — algorithmic\n'hant',\n// Traditional Chinese numerals — algorithmic\n'hantfin',\n// Traditional Chinese financial numerals — algorithmic\n'hebr',\n// Hebrew numerals — algorithmic\n'hmng',\n// Pahawh Hmong digits\n'hmnp',\n// Nyiakeng Puachue Hmong digits\n'java',\n// Javanese digits\n'jpan',\n// Japanese numerals — algorithmic\n'jpanfin',\n// Japanese financial numerals — algorithmic\n'jpanyear',\n// Japanese first-year Gannen numbering for Japanese calendar\n'kali',\n// Kayah Li digits\n'khmr',\n// Khmer digits\n'knda',\n// Kannada digits\n'lana',\n// Tai Tham Hora (secular) digits\n'lanatham',\n// Tai Tham (ecclesiastical) digits\n'laoo',\n// Lao digits\n'latn',\n// Latin digits\n'lepc',\n// Lepcha digits\n'limb',\n// Limbu digits\n'mathbold',\n// Mathematical bold digits\n'mathdbl',\n// Mathematical double-struck digits\n'mathmono',\n// Mathematical monospace digits\n'mathsanb',\n// Mathematical sans-serif bold digits\n'mathsans',\n// Mathematical sans-serif digits\n'mlym',\n// Malayalam digits\n'modi',\n// Modi digits\n'mong',\n// Mongolian digits\n'mroo',\n// Mro digits\n'mtei',\n// Meetei Mayek digits\n'mymr',\n// Myanmar digits\n'mymrshan',\n// Myanmar Shan digits\n'mymrtlng',\n// Myanmar Tai Laing digits\n'native',\n// Native digits\n'newa',\n// Newa digits\n'nkoo',\n// N'Ko digits\n'olck',\n// Ol Chiki digits\n'orya',\n// Oriya digits\n'osma',\n// Osmanya digits\n'rohg',\n// Hanifi Rohingya digits\n'roman',\n// Roman upper case numerals — algorithmic\n'romanlow',\n// Roman lowercase numerals — algorithmic\n'saur',\n// Saurashtra digits\n'shrd',\n// Sharada digits\n'sind',\n// Khudawadi digits\n'sinh',\n// Sinhala Lith digits\n'sora',\n// Sora_Sompeng digits\n'sund',\n// Sundanese digits\n'takr',\n// Takri digits\n'talu',\n// New Tai Lue digits\n'taml',\n// Tamil numerals — algorithmic\n'tamldec',\n// Modern Tamil decimal digits\n'telu',\n// Telugu digits\n'thai',\n// Thai digits\n'tirh',\n// Tirhuta digits\n'tibt',\n// Tibetan digits\n'traditio',\n// Traditional numerals — may be algorithmic\n'vaii',\n// Vai digits\n'wara',\n// Warang Citi digits\n'wcho' // Wancho digits\n];","import { numberingSystems } from '../constants';\nimport { customCalendars } from '../custom-calendars';\nimport { isCustomCalendar } from './helpers';\nconst getCustomCalendarLocale = (calendar, locale) => {\n  var _ref;\n  const customCalendar = customCalendars[calendar];\n  if (!customCalendar) {\n    return undefined;\n  }\n  const customLocalisations = customCalendar.locales || {};\n  const result = (_ref = locale && (customLocalisations === null || customLocalisations === void 0 ? void 0 : customLocalisations[locale])) !== null && _ref !== void 0 ? _ref : customLocalisations === null || customLocalisations === void 0 ? void 0 : customLocalisations[customCalendar.defaultLocale];\n  if (!result) {\n    throw new Error(`no localisation found for custom calendar ${calendar}. Requested locale: ${locale}, Default locale ${customCalendar.defaultLocale}`);\n  }\n  return result;\n};\nconst localiseDateLabel = (selectedDateZdt, localeOptions) => {\n  if (!localeOptions.calendar) {\n    throw new Error('no calendar provided to localise function');\n  }\n  if (!selectedDateZdt) {\n    throw new Error('a date must be provided to localiseDateLabel');\n  }\n  const isCustom = isCustomCalendar(localeOptions.calendar);\n  return isCustom ? `${selectedDateZdt === null || selectedDateZdt === void 0 ? void 0 : selectedDateZdt.day}-${selectedDateZdt === null || selectedDateZdt === void 0 ? void 0 : selectedDateZdt.month}-${selectedDateZdt === null || selectedDateZdt === void 0 ? void 0 : selectedDateZdt.year}` : selectedDateZdt === null || selectedDateZdt === void 0 ? void 0 : selectedDateZdt.toPlainDate().toLocaleString(localeOptions.locale, {\n    calendar: localeOptions.calendar,\n    dateStyle: 'full'\n  }).toString();\n};\nconst localiseWeekLabel = (zdt, localeOptions) => {\n  var _customLocale$numbers;\n  if (!localeOptions.calendar) {\n    throw new Error('no calendar provided to localise function');\n  }\n  const isCustom = isCustomCalendar(localeOptions.calendar);\n  const customLocale = getCustomCalendarLocale(localeOptions.calendar, localeOptions.locale);\n  return isCustom ? (customLocale === null || customLocale === void 0 ? void 0 : (_customLocale$numbers = customLocale.numbers) === null || _customLocale$numbers === void 0 ? void 0 : _customLocale$numbers[zdt.day]) || zdt.day : zdt.toPlainDate().toLocaleString(localeOptions.locale, {\n    calendar: localeOptions.calendar,\n    numberingSystem: numberingSystems.includes(localeOptions.numberingSystem) ? localeOptions.numberingSystem : undefined,\n    day: 'numeric'\n  });\n};\nconst localiseMonth = (zdt, localeOptions, format) => {\n  if (!localeOptions.calendar) {\n    throw new Error('no calendar provided to localise function');\n  }\n  const isCustom = isCustomCalendar(localeOptions.calendar);\n  const customLocale = getCustomCalendarLocale(localeOptions.calendar, localeOptions.locale);\n  return isCustom ? customLocale === null || customLocale === void 0 ? void 0 : customLocale.monthNames[zdt.month - 1] : zdt.toLocaleString(localeOptions.locale, format);\n};\nexport const localiseWeekDayLabel = (zdt, localeOptions) => {\n  if (!localeOptions.calendar) {\n    throw new Error('no calendar provided to localise function');\n  }\n  const isCustom = isCustomCalendar(localeOptions.calendar);\n  const customCalendar = getCustomCalendarLocale(localeOptions.calendar, localeOptions.locale);\n  const customDayString = customCalendar === null || customCalendar === void 0 ? void 0 : customCalendar.dayNamesShort[zdt.dayOfWeek - 1]; // dayOfWeek is 1-based\n\n  return isCustom && customDayString ? customDayString : zdt.toPlainDate().toLocaleString(localeOptions.locale, {\n    weekday: localeOptions.weekDayFormat,\n    calendar: localeOptions.calendar\n  });\n};\nexport const localiseYear = (zdt, localeOptions, format) => {\n  if (!localeOptions.calendar) {\n    throw new Error('no calendar provided to localise function');\n  }\n  const isCustom = isCustomCalendar(localeOptions.calendar);\n  return isCustom ? zdt.year : zdt.toPlainYearMonth().toLocaleString(localeOptions.locale, format);\n};\nconst localisationHelpers = {\n  localiseYear,\n  localiseDateLabel,\n  localiseWeekLabel,\n  localiseMonth,\n  localiseWeekDayLabel\n};\nexport default localisationHelpers;","/**\n * This method ensures that a locale is valid and supported by browser, and returns it if it is.\n *\n * It used Intl.DateTimeFormat.supportedLocalesOf to decide whether the locale is valid or not.\n * Intl.DateTimeFormat.supportedLocalesOf takes a locale (or a list of locales) and returns:\n * - an array with the locale if it's valid\n * - an empty array if it's valid but not supported\n * - throws an error if it's not valid\n * @param locale locale to validate and return\n * @returns the locale if it's valid, otherwise undefined\n */\nconst getValidLocale = function () {\n  let requestedLocale = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  // this \"replace\" is to cater for DHIS2 locales using underscore as Java allows both hyphens and underscores\n  // while JavaScript expects a hyphen (which is the correct way according to RFC-5646 that both rely on)\n  const locale = requestedLocale.replace('_', '-');\n  try {\n    const result = Intl.DateTimeFormat.supportedLocalesOf(locale);\n    if (result && result.length === 1) {\n      return locale;\n    } else {\n      return undefined;\n    }\n  } catch (err) {\n    return undefined;\n  }\n};\nexport default getValidLocale;","import { Temporal } from '@js-temporal/polyfill';\nimport { formatYyyyMmDD } from '../utils/helpers';\nexport const getDailyPeriods = _ref => {\n  let {\n    year,\n    calendar\n  } = _ref;\n  const day = Temporal.PlainDate.from({\n    year,\n    month: 1,\n    day: 1,\n    calendar\n  });\n  const days = [];\n  for (let i = 0; i < day.daysInYear; i++) {\n    const nextDay = day.add({\n      days: i\n    });\n    const value = `${day.year}${String(nextDay.month).padStart(2, '0')}${String(nextDay.day).padStart(2, '0')}`;\n    days.push({\n      id: value,\n      iso: value,\n      name: formatYyyyMmDD(nextDay),\n      startDate: formatYyyyMmDD(nextDay),\n      endDate: formatYyyyMmDD(nextDay)\n    });\n  }\n  return days;\n};","import { Temporal } from '@js-temporal/polyfill';\nimport { capitalize, formatYyyyMmDD, isCustomCalendar, padWithZeroes } from '../utils/helpers';\nimport localisationHelpers from '../utils/localisationHelpers';\nexport const getMonthlyPeriods = _ref => {\n  let {\n    year,\n    calendar,\n    periodType,\n    locale = 'en'\n  } = _ref;\n  let currentMonth = Temporal.PlainDate.from({\n    year,\n    month: getStartingMonth(periodType),\n    day: calendar.toString() === 'nepali' ? 14 : 1,\n    calendar\n  });\n  const months = [];\n  const monthToAdd = getMonthsToAdd(periodType);\n  let index = 1;\n  while (currentMonth.year === year || needsExtraMonth(periodType, months.length)) {\n    const nextMonth = currentMonth.add({\n      months: monthToAdd\n    });\n    if (!ignoreMonth(calendar, currentMonth)) {\n      const id = buildValue({\n        periodType,\n        currentMonth,\n        year,\n        index\n      });\n      months.push({\n        id,\n        iso: id,\n        name: buildLabel({\n          periodType,\n          month: currentMonth,\n          locale,\n          calendar,\n          nextMonth: nextMonth.subtract({\n            months: 1\n          }),\n          // when we display, we want to show the range using previous month\n          index\n        }),\n        ...buildStartAndEndDate(currentMonth, nextMonth)\n      });\n    }\n    currentMonth = Temporal.PlainDate.from(nextMonth);\n    index++;\n  }\n  return months;\n};\n/**\n * special cases where we ignore a month\n */\nconst ignoreMonth = (calendar, date) => {\n  // in Ethiopic calendar, for periods more than bi-weekly, we ignore the 13th month\n  if (calendar === 'ethiopic' && date.month === 13) {\n    return true;\n  }\n  return false;\n};\nconst buildValue = _ref2 => {\n  let {\n    periodType,\n    currentMonth,\n    year,\n    index\n  } = _ref2;\n  if (periodType === 'BIMONTHLY') {\n    return `${year}${padWithZeroes(index)}B`;\n  }\n  if (periodType === 'QUARTERLY') {\n    return `${year}Q${index}`;\n  }\n  if (periodType === 'SIXMONTHLY') {\n    return `${year}S${index}`;\n  }\n  if (periodType.match(/QUARTERLY/)) {\n    var _getMonthInfo;\n    const month = (_getMonthInfo = getMonthInfo(periodType)) === null || _getMonthInfo === void 0 ? void 0 : _getMonthInfo.name;\n    return `${year}${month}Q${index}`;\n  }\n  if (periodType.match(/SIXMONTHLY/)) {\n    var _getMonthInfo2;\n    const month = (_getMonthInfo2 = getMonthInfo(periodType)) === null || _getMonthInfo2 === void 0 ? void 0 : _getMonthInfo2.name;\n    return `${year}${month}S${index}`;\n  }\n  return `${year}${padWithZeroes(currentMonth.month)}`;\n};\nconst buildLabel = options => {\n  const {\n    periodType,\n    month,\n    nextMonth,\n    calendar,\n    locale\n  } = options;\n  if (isCustomCalendar(calendar)) {\n    return buildLabelForCustomCalendar(options);\n  }\n  const withYearFormat = {\n    month: 'long',\n    year: 'numeric',\n    calendar\n  };\n  const monthOnlyFormat = {\n    month: 'long',\n    calendar\n  };\n  let result = '';\n  if (['BIMONTHLY', 'QUARTERLY', 'SIXMONTHLY'].includes(periodType) || periodType.match(/SIXMONTHLY|QUARTERLY/)) {\n    const format = month.year === nextMonth.year ? monthOnlyFormat : withYearFormat;\n    result = `${capitalize(month.toLocaleString(locale, format), locale)} - ${capitalize(nextMonth.toLocaleString(locale, withYearFormat), locale)}`;\n  } else {\n    result = `${capitalize(month.toLocaleString(locale, withYearFormat), locale)}`;\n  }\n\n  // needed for ethiopic calendar - the default formatter adds the era, which is not what we want in DHIS2\n  result = result.replace(/ERA\\d+\\s*/g, '').trim();\n  return result;\n};\nconst buildLabelForCustomCalendar = _ref3 => {\n  let {\n    periodType,\n    month,\n    nextMonth,\n    calendar,\n    locale\n  } = _ref3;\n  let result = '';\n  if (['BIMONTHLY', 'QUARTERLY', 'SIXMONTHLY'].includes(periodType) || periodType.match(/SIXMONTHLY|QUARTERLY/)) {\n    const showYear = month.year !== nextMonth.year;\n    result = `${localisationHelpers.localiseMonth(month, {\n      locale,\n      calendar\n    }, {})}${showYear ? ` ${month.year}` : ''} - ${localisationHelpers.localiseMonth(nextMonth, {\n      locale,\n      calendar\n    }, {})} ${nextMonth.year}`;\n  } else {\n    result = `${localisationHelpers.localiseMonth(month, {\n      locale,\n      calendar\n    }, {})} ${nextMonth.year}`;\n  }\n  return result;\n};\nconst getMonthsToAdd = periodType => {\n  if (periodType !== null && periodType !== void 0 && periodType.match(/SIXMONTHLY/)) {\n    return 6;\n  }\n  if (periodType !== null && periodType !== void 0 && periodType.match(/QUARTERLY/)) {\n    return 3;\n  }\n  if (periodType === 'MONTHLY') {\n    return 1;\n  }\n  if (periodType === 'BIMONTHLY') {\n    return 2;\n  }\n  throw new Error(`unrecognised monthly period type ${periodType}`);\n};\nexport const monthNumbers = {\n  JAN: {\n    value: 1,\n    name: 'January'\n  },\n  FEB: {\n    value: 2,\n    name: 'February'\n  },\n  MAR: {\n    value: 3,\n    name: 'March'\n  },\n  APR: {\n    value: 4,\n    name: 'April'\n  },\n  MAY: {\n    value: 5,\n    name: 'May'\n  },\n  JUN: {\n    value: 6,\n    name: 'June'\n  },\n  JUL: {\n    value: 7,\n    name: 'July'\n  },\n  AUG: {\n    value: 8,\n    name: 'August'\n  },\n  SEP: {\n    value: 9,\n    name: 'September'\n  },\n  OCT: {\n    value: 10,\n    name: 'October'\n  },\n  NOV: {\n    value: 11,\n    name: 'November'\n  },\n  DEC: {\n    value: 12,\n    name: 'December'\n  }\n};\nconst getMonthInfo = periodType => {\n  const monthString = periodType.replace('SIXMONTHLY', '').replace('QUARTERLY', '');\n  return monthNumbers[monthString];\n};\nconst getStartingMonth = periodType => {\n  if (periodType.match(/SIXMONTHLY|QUARTERLY/)) {\n    if (periodType === 'SIXMONTHLY' || periodType === 'QUARTERLY') {\n      return 1;\n    } else {\n      var _getMonthInfo$value, _getMonthInfo3;\n      return (_getMonthInfo$value = (_getMonthInfo3 = getMonthInfo(periodType)) === null || _getMonthInfo3 === void 0 ? void 0 : _getMonthInfo3.value) !== null && _getMonthInfo$value !== void 0 ? _getMonthInfo$value : 1;\n    }\n  } else {\n    return 1;\n  }\n};\nfunction needsExtraMonth(periodType, length) {\n  if (periodType.match(/SIXMONTHLY/)) {\n    return length < 2;\n  }\n  if (periodType.match(/QUARTERLY/)) {\n    return length < 4;\n  }\n  return false;\n}\nconst buildStartAndEndDate = (currentMonth, nextMonth) => {\n  if (currentMonth.calendar === 'ethiopic') {\n    console.warn('todo: confirm the special cases for the 13th month with Abyot, then update the start/end dates for Ethiopic calendar');\n  }\n  const endDate = Temporal.PlainDate.from({\n    year: nextMonth.year,\n    month: nextMonth.month,\n    day: 1,\n    calendar: nextMonth.calendar\n  }).subtract({\n    days: 1\n  });\n  return {\n    startDate: formatYyyyMmDD(currentMonth, 'startOfMonth'),\n    endDate: formatYyyyMmDD(endDate, 'endOfMonth')\n  };\n};","import { Temporal } from '@js-temporal/polyfill';\nimport { formatYyyyMmDD, padWithZeroes } from '../utils/helpers';\nconst Days = {\n  Monday: 1,\n  Tuesday: 2,\n  Wednesday: 3,\n  Thursday: 4,\n  Friday: 5,\n  Saturday: 6,\n  Sunday: 7\n};\nconst getStartingDay = (periodType, startingDay) => {\n  switch (periodType) {\n    case 'WEEKLY':\n    case 'BIWEEKLY':\n      return startingDay || Days.Monday;\n    case 'WEEKLYSAT':\n      return Days.Saturday;\n    case 'WEEKLYSUN':\n      return Days.Sunday;\n    case 'WEEKLYTHU':\n      return Days.Thursday;\n    case 'WEEKLYWED':\n      return Days.Wednesday;\n    default:\n      throw new Error(`unrecoginsed weekly period type: ${periodType}`);\n  }\n};\nexport const getWeeklyPeriods = _ref => {\n  let {\n    year,\n    calendar,\n    periodType,\n    startingDay,\n    locale = 'en-GB'\n  } = _ref;\n  const startingDayToUse = getStartingDay(periodType, startingDay);\n  let date = getStartingDate({\n    year,\n    calendar,\n    periodType,\n    startingDay: startingDayToUse\n  });\n  const days = [];\n  let i = 1;\n  const daysToAdd = periodType === 'BIWEEKLY' ? 13 : 6;\n  do {\n    const endofWeek = date.add({\n      days: daysToAdd\n    });\n    const value = buildValue({\n      periodType,\n      startingDay: startingDayToUse,\n      year,\n      weekIndex: i\n    });\n    if (!(endofWeek.year === year + 1 && endofWeek.day >= 4)) {\n      days.push({\n        id: value,\n        iso: value,\n        name: buildLabel({\n          periodType,\n          date,\n          nextWeek: endofWeek,\n          weekIndex: i\n        }),\n        startDate: formatYyyyMmDD(date),\n        endDate: formatYyyyMmDD(endofWeek)\n      });\n    }\n    date = Temporal.PlainDate.from(endofWeek).add({\n      days: 1\n    });\n    i++;\n  } while (date.year === year); // important to have the condition after since the very first day can be in the previous year\n  return days;\n};\nconst getStartingDate = options => {\n  const {\n    year,\n    calendar,\n    startingDay\n  } = options;\n\n  // first week in every year has the 4th in the first month\n  const fourthOfFirstMonth = Temporal.PlainDate.from({\n    year,\n    month: 1,\n    day: 4,\n    calendar\n  });\n  const dayDiff = fourthOfFirstMonth.dayOfWeek - startingDay;\n  if (dayDiff > 0) {\n    return fourthOfFirstMonth.subtract({\n      days: dayDiff\n    });\n  } else if (dayDiff < 0) {\n    return fourthOfFirstMonth.subtract({\n      days: dayDiff + 7\n    });\n  }\n  return fourthOfFirstMonth;\n};\nconst DaysKeys = {\n  1: '',\n  // Monday is the default and has no key\n  2: 'Tue',\n  3: 'Wed',\n  4: 'Thu',\n  5: 'Fri',\n  6: 'Sat',\n  7: 'Sun'\n};\nconst buildValue = _ref2 => {\n  let {\n    startingDay,\n    periodType,\n    year,\n    weekIndex\n  } = _ref2;\n  const periodKey = periodType === 'BIWEEKLY' ? 'BiW' : 'W';\n  return `${year}${DaysKeys[startingDay]}${periodKey}${weekIndex}`;\n};\nconst buildLabel = _ref3 => {\n  let {\n    periodType,\n    date,\n    nextWeek,\n    weekIndex\n  } = _ref3;\n  const {\n    year,\n    month,\n    day\n  } = date;\n  const {\n    year: nextYear,\n    month: nextMonth,\n    day: nextDay\n  } = nextWeek;\n  const prefix = periodType == 'BIWEEKLY' ? 'Bi-Week' : 'Week';\n  const label = `${prefix} ${weekIndex} - ${year}-${padWithZeroes(month)}-${padWithZeroes(day)} - ${nextYear}-${padWithZeroes(nextMonth)}-${padWithZeroes(nextDay)}`;\n  return label;\n};","import { Temporal } from '@js-temporal/polyfill';\nimport { formatYyyyMmDD, isCustomCalendar } from '../utils/helpers';\nimport localisationHelpers from '../utils/localisationHelpers';\nimport { monthNumbers } from './getMonthlyPeriods';\nexport const getYearlyPeriods = _ref => {\n  let {\n    year,\n    calendar,\n    periodType,\n    yearsCount = 10,\n    locale\n  } = _ref;\n  const month = getMonth(periodType);\n  const currentYear = Temporal.PlainDate.from({\n    year,\n    month,\n    day: calendar.toString() === 'nepali' ? 14 : 1,\n    calendar\n  });\n  const years = [];\n  for (let i = 0; i < yearsCount; i++) {\n    const dateToAdd = currentYear.subtract({\n      years: i\n    });\n    const value = buildValue({\n      periodType,\n      year: dateToAdd.year,\n      month\n    });\n    const year = {\n      id: value,\n      iso: value,\n      name: buildLabel(periodType, dateToAdd, {\n        locale: locale || 'en',\n        calendar\n      }),\n      ...buildStartAndEndDates(dateToAdd)\n    };\n    if (isFinancialYear(periodType)) {\n      delete year.iso;\n    }\n    years.push(year);\n  }\n  return years;\n};\nconst buildStartAndEndDates = date => {\n  const endDate = Temporal.PlainDate.from({\n    year: date.year + 1,\n    month: date.month,\n    day: 1,\n    calendar: date.calendar\n  }).subtract({\n    days: 1\n  });\n  return {\n    startDate: formatYyyyMmDD(date, 'startOfMonth'),\n    endDate: formatYyyyMmDD(endDate, 'endOfMonth')\n  };\n};\nconst getMonth = periodType => {\n  const yearType = periodType.replace('FY', '').toUpperCase();\n  const monthInfo = monthNumbers[yearType];\n  return (monthInfo === null || monthInfo === void 0 ? void 0 : monthInfo.value) || 1;\n};\nconst buildLabel = (periodType, currentYearDate, options) => {\n  if (periodType === 'YEARLY') {\n    return currentYearDate.year.toString();\n  }\n  if (isCustomCalendar(options.calendar)) {\n    return buildLabelForCustomCalendar(currentYearDate, options);\n  }\n  const format = {\n    month: 'long',\n    year: 'numeric',\n    calendar: options.calendar\n  };\n  const fromYear = localisationHelpers.localiseMonth(currentYearDate, options, format);\n  const toYear = localisationHelpers.localiseMonth(currentYearDate.add({\n    months: currentYearDate.monthsInYear - 1\n  }), options, format);\n  let result = `${fromYear} - ${toYear}`;\n\n  // needed for Ethiopic calendar\n  result = result.replace(/ERA\\d+\\s*/g, '').trim();\n  return result;\n};\nconst buildLabelForCustomCalendar = (date, options) => {\n  const localiseMonth = dateToDisplay => `${localisationHelpers.localiseMonth(dateToDisplay, options, {})} ${dateToDisplay.year}`;\n  const nextYearDate = Temporal.PlainDate.from({\n    year: date.year + 1,\n    month: date.month - 1,\n    day: 1,\n    calendar: options.calendar\n  });\n  const result = `${localiseMonth(date)} - ${localiseMonth(nextYearDate)}`;\n  return result;\n};\nconst monthValueKeys = {\n  1: '',\n  2: 'Feb',\n  3: 'March',\n  // some keys are full month-names, some are short ... for some reason\n  4: 'April',\n  5: 'May',\n  6: 'Jun',\n  7: 'July',\n  8: 'Aug',\n  9: 'Sep',\n  10: 'Oct',\n  11: 'Nov',\n  12: 'Dec'\n};\nconst buildValue = _ref2 => {\n  let {\n    periodType,\n    year,\n    month\n  } = _ref2;\n  if (periodType === 'YEARLY') {\n    return year.toString();\n  }\n  // financial year\n  if (isFinancialYear(periodType)) {\n    const yearType = monthValueKeys[month];\n    return `${year}${yearType}`;\n  }\n  throw new Error(`can not build value for unrecognised yearly type \"${periodType}\"`);\n};\nconst isFinancialYear = periodType => {\n  return periodType.startsWith('FY');\n};","import { dhis2CalendarsMap } from '../constants/dhis2CalendarsMap';\nimport getValidLocale from '../utils/getValidLocale';\nimport { getCustomCalendarIfExists } from '../utils/helpers';\nimport { getDailyPeriods } from './getDailyPeriods';\nimport { getMonthlyPeriods } from './getMonthlyPeriods';\nimport { getWeeklyPeriods } from './getWeeklyPeriods';\nimport { getYearlyPeriods } from './getYearlyPeriods';\nconst periodIdentifiers = ['DAILY', 'WEEKLY', 'WEEKLYWED', 'WEEKLYTHU', 'WEEKLYSAT', 'WEEKLYSUN', 'BIWEEKLY', 'MONTHLY', 'BIMONTHLY', 'QUARTERLY', 'QUARTERLYNOV',\n// used in Ethiopia\n'SIXMONTHLY', 'SIXMONTHLYAPR', 'SIXMONTHLYNOV',\n// used in Ethiopia\n'YEARLY', 'FYNOV', 'FYOCT', 'FYJUL', 'FYAPR'];\nconst generateFixedPeriods = _ref => {\n  var _dhis2CalendarsMap$re;\n  let {\n    year: yearString,\n    periodType,\n    calendar: requestedCalendar,\n    locale: requestedLocale = 'en',\n    startingDay = 1\n  } = _ref;\n  let year;\n  if (typeof yearString === 'number') {\n    year = yearString;\n  } else {\n    if (!isNaN(yearString) && !isNaN(parseInt(yearString))) {\n      year = parseInt(yearString);\n    } else {\n      throw new Error('year must be a number');\n    }\n  }\n  const calendar = getCustomCalendarIfExists((_dhis2CalendarsMap$re = dhis2CalendarsMap[requestedCalendar]) !== null && _dhis2CalendarsMap$re !== void 0 ? _dhis2CalendarsMap$re : requestedCalendar);\n  const locale = getValidLocale(requestedLocale);\n  if (periodType !== null && periodType !== void 0 && periodType.match('WEEKLY')) {\n    return getWeeklyPeriods({\n      year,\n      periodType,\n      locale,\n      calendar,\n      startingDay\n    });\n  }\n  if (periodType !== null && periodType !== void 0 && periodType.startsWith('FY') || periodType === 'YEARLY') {\n    // financial year\n    return getYearlyPeriods({\n      year,\n      periodType,\n      locale,\n      calendar\n    });\n  }\n  if (periodType.match(/SIXMONTHLY/) || periodType.match(/QUARTERLY/)) {\n    return getMonthlyPeriods({\n      year,\n      periodType,\n      locale,\n      calendar\n    });\n  }\n  switch (periodType) {\n    case 'MONTHLY':\n    case 'BIMONTHLY':\n    case 'QUARTERLY':\n    case 'SIXMONTHLY':\n    case 'SIXMONTHLYAPR':\n      return getMonthlyPeriods({\n        year,\n        periodType,\n        locale,\n        calendar\n      });\n    case 'DAILY':\n      return getDailyPeriods({\n        year,\n        periodType,\n        locale,\n        calendar\n      });\n    default:\n      throw new Error(`can not generate period for unrecognised period type \"${periodType}\"`);\n  }\n};\nexport default generateFixedPeriods;","import { Temporal } from '@js-temporal/polyfill';\nimport { dhis2CalendarsMap } from '../constants/dhis2CalendarsMap';\nimport { getCustomCalendarIfExists, isCustomCalendar } from '../utils/helpers';\n\n/**\n * Gets the Now DateTime in the specified calendar and timeZone\n *\n * @param calendarToUse the calendar to use\n * @param timeZone the timeZone to use\n * @returns Temporal.ZoneDateTime which can be destructured to .year, .month, .day, .hour etc... (returning the values in the specified calendar) or can .getISOFields() to return the underlying iso8601 date\n */\nconst getNowInCalendar = function () {\n  var _Intl, _Intl$DateTimeFormat, _Intl$DateTimeFormat$, _Intl$DateTimeFormat$2, _Intl$DateTimeFormat$3, _dhis2CalendarsMap;\n  let calendarToUse = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'gregory';\n  let timeZone = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ((_Intl = Intl) === null || _Intl === void 0 ? void 0 : (_Intl$DateTimeFormat = _Intl.DateTimeFormat) === null || _Intl$DateTimeFormat === void 0 ? void 0 : (_Intl$DateTimeFormat$ = (_Intl$DateTimeFormat$2 = _Intl$DateTimeFormat.call(_Intl)).resolvedOptions) === null || _Intl$DateTimeFormat$ === void 0 ? void 0 : (_Intl$DateTimeFormat$3 = _Intl$DateTimeFormat$.call(_Intl$DateTimeFormat$2)) === null || _Intl$DateTimeFormat$3 === void 0 ? void 0 : _Intl$DateTimeFormat$3.timeZone) || 'UTC';\n  const gregorianDate = Temporal.Now.zonedDateTime('gregory', timeZone);\n  let calendar = (_dhis2CalendarsMap = dhis2CalendarsMap[calendarToUse]) !== null && _dhis2CalendarsMap !== void 0 ? _dhis2CalendarsMap : calendarToUse;\n  if (isCustomCalendar(calendar)) {\n    calendar = getCustomCalendarIfExists(calendar);\n  }\n  const result = Temporal.ZonedDateTime.from(gregorianDate).withCalendar(calendar);\n  return result;\n};\nexport default getNowInCalendar;","import React from 'react';\nexport default /*#__PURE__*/React.createElement(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"16\",\n  height: \"16\",\n  viewBox: \"0 0 16 16\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#6E7A8A\",\n  d: \"M8,4 C10.209139,4 12,5.790861 12,8 C12,10.209139 10.209139,12 8,12 C5.790861,12 4,10.209139 4,8 C4,5.790861 5.790861,4 8,4 Z M8,5 C6.34314575,5 5,6.34314575 5,8 C5,9.65685425 6.34314575,11 8,11 C9.65685425,11 11,9.65685425 11,8 C11,6.34314575 9.65685425,5 8,5 Z M8.5,6 L8.5,7.5 L9.5,7.5 L9.5,8.5 L7.5,8.5 L7.5,6 L8.5,6 Z\"\n}));","import { spacers } from '@dhis2/ui';\nconst _defaultExport = [\".leftSection.jsx-2872988609{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}\", \".leftSection.jsx-2872988609>.filterElement,.rightSection.jsx-2872988609>.filterElement{margin:0;}\", `.rightSection.jsx-2872988609{width:120px;margin-left:${spacers.dp8};}`];\n_defaultExport.__hash = \"2872988609\";\nexport default _defaultExport;","export const DAILY = 'DAILY';\nexport const WEEKLY = 'WEEKLY';\nexport const WEEKLYWED = 'WEEKLYWED';\nexport const WEEKLYTHU = 'WEEKLYTHU';\nexport const WEEKLYSAT = 'WEEKLYSAT';\nexport const WEEKLYSUN = 'WEEKLYSUN';\nexport const WEEKS_THIS_YEAR = 'WEEKS_THIS_YEAR';\nexport const BIWEEKLY = 'BIWEEKLY';\nexport const MONTHLY = 'MONTHLY';\nexport const BIMONTHLY = 'BIMONTHLY';\nexport const QUARTERLY = 'QUARTERLY';\nexport const SIXMONTHLY = 'SIXMONTHLY';\nexport const SIXMONTHLYAPR = 'SIXMONTHLYAPR';\nexport const YEARLY = 'YEARLY';\nexport const FINANCIAL = 'FINANCIAL';\nexport const FYNOV = 'FYNOV';\nexport const FYOCT = 'FYOCT';\nexport const FYJUL = 'FYJUL';\nexport const FYAPR = 'FYAPR';\nexport const filterPeriodTypesById = function () {\n  let allPeriodTypes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  let excludedPeriodTypes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return allPeriodTypes.filter(period => !excludedPeriodTypes.includes(period.id));\n};","import { generateFixedPeriods, getNowInCalendar } from '@dhis2/multi-calendar-dates';\nimport i18n from '../../../locales/index.js';\nimport { DAILY, WEEKLY, WEEKLYWED, WEEKLYTHU, WEEKLYSAT, WEEKLYSUN, BIWEEKLY, MONTHLY, BIMONTHLY, QUARTERLY, SIXMONTHLY, SIXMONTHLYAPR, YEARLY, FYNOV, FYOCT, FYJUL, FYAPR } from './index.js';\nconst PERIOD_TYPE_REGEX = {\n  [DAILY]: /^([0-9]{4})([0-9]{2})([0-9]{2})$/,\n  // YYYYMMDD\n  [WEEKLY]: /^([0-9]{4})()W([0-9]{1,2})$/,\n  // YYYY\"W\"[1-53]\n  [BIWEEKLY]: /^([0-9]{4})BiW([0-9]{1,2})$/,\n  // YYYY\"BiW\"[1-27]\n  [WEEKLYWED]: /^([0-9]{4})(Wed)W([0-9]{1,2})$/,\n  // YYYY\"WedW\"[1-53]\n  [WEEKLYTHU]: /^([0-9]{4})(Thu)W([0-9]{1,2})$/,\n  // YYYY\"ThuW\"[1-53]\n  [WEEKLYSAT]: /^([0-9]{4})(Sat)W([0-9]{1,2})$/,\n  // YYYY\"SatW\"[1-53]\n  [WEEKLYSUN]: /^([0-9]{4})(Sun)W([0-9]{1,2})$/,\n  // YYYY\"SunW\"[1-53]\n  [MONTHLY]: /^([0-9]{4})([0-9]{2})$/,\n  // YYYYMM\n  [BIMONTHLY]: /^([0-9]{4})([0-9]{2})B$/,\n  // YYYY0[1-6]\"B\"\n  [QUARTERLY]: /^([0-9]{4})Q([1234])$/,\n  // YYYY\"Q\"[1-4]\n  [SIXMONTHLY]: /^([0-9]{4})S([12])$/,\n  // YYYY\"S\"[1/2]\n  [SIXMONTHLYAPR]: /^([0-9]{4})AprilS([12])$/,\n  // YYYY\"AprilS\"[1/2]\n  // [SIXMONTHLYNOV]: /^([0-9]{4})NovS([12])$/, // YYYY\"NovS\"[1/2] Not supported?\n  [YEARLY]: /^([0-9]{4})$/,\n  // YYYY\n  [FYNOV]: /^([0-9]{4})Nov$/,\n  // YYYY\"Nov\"\n  [FYOCT]: /^([0-9]{4})Oct$/,\n  // YYYY\"Oct\"\n  [FYJUL]: /^([0-9]{4})July$/,\n  // YYYY\"July\"\n  [FYAPR]: /^([0-9]{4})April$/ // YYYY\"April\"\n};\n\nconst getPeriods = _ref => {\n  let {\n    periodType,\n    config,\n    fnFilter,\n    periodSettings = {}\n  } = _ref;\n  const offset = parseInt(config.offset, 10);\n  const isFilter = config.filterFuturePeriods;\n  const isReverse = periodType.match(/^FY|YEARLY/) ? true : config.reversePeriods;\n  const {\n    calendar = 'gregory',\n    locale = 'en'\n  } = periodSettings;\n  const now = getNowInCalendar(calendar);\n  const year = (now.eraYear || now.year) + offset;\n  const params = {\n    periodType,\n    year,\n    calendar,\n    locale,\n    startingDay: config.startDay\n  };\n  let periods = generateFixedPeriods(params);\n  periods = isFilter ? fnFilter(periods) : periods;\n  periods = !isReverse ? periods : periods.reverse();\n  return periods;\n};\nconst getDailyPeriodType = (fnFilter, periodSettings) => {\n  return config => {\n    return getPeriods({\n      periodType: 'DAILY',\n      config,\n      fnFilter,\n      periodSettings\n    });\n  };\n};\nconst getWeeklyPeriodType = (weekObj, fnFilter, periodSettings) => {\n  return config => {\n    return getPeriods({\n      periodType: 'WEEKLY',\n      config: {\n        ...config,\n        startDay: weekObj.startDay\n      },\n      fnFilter,\n      periodSettings\n    });\n  };\n};\nconst getBiWeeklyPeriodType = (fnFilter, periodSettings) => {\n  return config => {\n    return getPeriods({\n      periodType: 'BIWEEKLY',\n      config,\n      fnFilter,\n      periodSettings\n    });\n  };\n};\nconst getMonthlyPeriodType = (fnFilter, periodSettings) => {\n  return config => {\n    return getPeriods({\n      periodType: 'MONTHLY',\n      config,\n      fnFilter,\n      periodSettings\n    });\n  };\n};\nconst getBiMonthlyPeriodType = (fnFilter, periodSettings) => {\n  return config => {\n    return getPeriods({\n      periodType: 'BIMONTHLY',\n      config,\n      fnFilter,\n      periodSettings\n    });\n  };\n};\nconst getQuarterlyPeriodType = (fnFilter, periodSettings) => {\n  return config => {\n    return getPeriods({\n      periodType: 'QUARTERLY',\n      config,\n      fnFilter,\n      periodSettings\n    });\n  };\n};\nconst getSixMonthlyPeriodType = (fnFilter, periodSettings) => {\n  return config => {\n    return getPeriods({\n      periodType: 'SIXMONTHLY',\n      config,\n      fnFilter,\n      periodSettings\n    });\n  };\n};\nconst getSixMonthlyAprilPeriodType = (fnFilter, periodSettings) => {\n  return config => {\n    return getPeriods({\n      periodType: 'SIXMONTHLYAPR',\n      config,\n      fnFilter,\n      periodSettings\n    });\n  };\n};\nconst getYearlyPeriodType = (fnFilter, periodSettings) => {\n  return config => {\n    return getPeriods({\n      periodType: 'YEARLY',\n      config,\n      fnFilter,\n      periodSettings\n    });\n  };\n};\nconst getFinancialOctoberPeriodType = (fnFilter, periodSettings) => {\n  return config => {\n    return getPeriods({\n      periodType: 'FYOCT',\n      config,\n      fnFilter,\n      periodSettings\n    });\n  };\n};\nconst getFinancialNovemberPeriodType = (fnFilter, periodSettings) => {\n  return config => {\n    return getPeriods({\n      periodType: 'FYNOV',\n      config,\n      fnFilter,\n      periodSettings\n    });\n  };\n};\nconst getFinancialJulyPeriodType = (fnFilter, periodSettings) => {\n  return config => {\n    return getPeriods({\n      periodType: 'FYJUL',\n      config,\n      fnFilter,\n      periodSettings\n    });\n  };\n};\nconst getFinancialAprilPeriodType = (fnFilter, periodSettings) => {\n  return config => {\n    return getPeriods({\n      periodType: 'FYAPR',\n      config,\n      fnFilter,\n      periodSettings\n    });\n  };\n};\nconst filterFuturePeriods = periods => {\n  const array = [];\n  const now = new Date(Date.now());\n  for (let i = 0; i < periods.length; i++) {\n    if (new Date(periods[i].startDate) <= now) {\n      array.push(periods[i]);\n    }\n  }\n  return array;\n};\nconst getOptions = periodSettings => {\n  return [{\n    id: DAILY,\n    getPeriods: getDailyPeriodType(filterFuturePeriods, periodSettings),\n    name: i18n.t('Daily')\n  }, {\n    id: WEEKLY,\n    getPeriods: getWeeklyPeriodType({\n      startDay: 1\n    }, filterFuturePeriods, periodSettings),\n    name: i18n.t('Weekly')\n  }, {\n    id: WEEKLYWED,\n    getPeriods: getWeeklyPeriodType({\n      startDay: 3\n    }, filterFuturePeriods, periodSettings),\n    name: i18n.t('Weekly (Start Wednesday)')\n  }, {\n    id: WEEKLYTHU,\n    getPeriods: getWeeklyPeriodType({\n      startDay: 4\n    }, filterFuturePeriods, periodSettings),\n    name: i18n.t('Weekly (Start Thursday)')\n  }, {\n    id: WEEKLYSAT,\n    getPeriods: getWeeklyPeriodType({\n      startDay: 6\n    }, filterFuturePeriods, periodSettings),\n    name: i18n.t('Weekly (Start Saturday)')\n  }, {\n    id: WEEKLYSUN,\n    getPeriods: getWeeklyPeriodType({\n      startDay: 7\n    }, filterFuturePeriods, periodSettings),\n    name: i18n.t('Weekly (Start Sunday)')\n  }, {\n    id: BIWEEKLY,\n    getPeriods: getBiWeeklyPeriodType(filterFuturePeriods, periodSettings),\n    name: i18n.t('Bi-weekly')\n  }, {\n    id: MONTHLY,\n    getPeriods: getMonthlyPeriodType(filterFuturePeriods, periodSettings),\n    name: i18n.t('Monthly')\n  }, {\n    id: BIMONTHLY,\n    getPeriods: getBiMonthlyPeriodType(filterFuturePeriods, periodSettings),\n    name: i18n.t('Bi-monthly')\n  }, {\n    id: QUARTERLY,\n    getPeriods: getQuarterlyPeriodType(filterFuturePeriods, periodSettings),\n    name: i18n.t('Quarterly')\n  }, {\n    id: SIXMONTHLY,\n    getPeriods: getSixMonthlyPeriodType(filterFuturePeriods, periodSettings),\n    name: i18n.t('Six-monthly')\n  }, {\n    id: SIXMONTHLYAPR,\n    getPeriods: getSixMonthlyAprilPeriodType(filterFuturePeriods, periodSettings),\n    name: i18n.t('Six-monthly April')\n  }, {\n    id: YEARLY,\n    getPeriods: getYearlyPeriodType(filterFuturePeriods, periodSettings),\n    name: i18n.t('Yearly')\n  }, {\n    id: FYNOV,\n    getPeriods: getFinancialNovemberPeriodType(filterFuturePeriods, periodSettings),\n    name: i18n.t('Financial year (Start November)')\n  }, {\n    id: FYOCT,\n    getPeriods: getFinancialOctoberPeriodType(filterFuturePeriods, periodSettings),\n    name: i18n.t('Financial year (Start October)')\n  }, {\n    id: FYJUL,\n    getPeriods: getFinancialJulyPeriodType(filterFuturePeriods, periodSettings),\n    name: i18n.t('Financial year (Start July)')\n  }, {\n    id: FYAPR,\n    getPeriods: getFinancialAprilPeriodType(filterFuturePeriods, periodSettings),\n    name: i18n.t('Financial year (Start April)')\n  }];\n};\nexport const getFixedPeriodsOptionsById = (id, periodSettings) => {\n  return getOptions(periodSettings).find(option => option.id === id);\n};\nexport const getFixedPeriodsOptions = () => getOptions();\nexport const getYearOffsetFromNow = yearStr => parseInt(yearStr) - new Date(Date.now()).getFullYear();\nexport const parsePeriodCode = (code, allowedTypes) => {\n  const periodTypes = Object.keys(PERIOD_TYPE_REGEX);\n  let i = 0;\n  let type = undefined;\n  let match = undefined;\n  while (i < periodTypes.length && !match) {\n    type = periodTypes[i];\n    match = code.match(PERIOD_TYPE_REGEX[type]);\n    i++;\n  }\n  if (!match || Array.isArray(allowedTypes) && !allowedTypes.some(t => t === type)) {\n    return undefined;\n  }\n  const period = getFixedPeriodsOptionsById(type);\n  const offset = getYearOffsetFromNow(match[1]);\n  const options = period.getPeriods({\n    offset\n  });\n  return {\n    id: period.id,\n    name: period.name,\n    year: match[1],\n    options\n  };\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { SingleSelectField, InputField, SingleSelectOption } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport styles from './styles/PeriodFilter.style.js';\nimport { getFixedPeriodsOptions } from './utils/fixedPeriods.js';\nimport { filterPeriodTypesById } from './utils/index.js';\nconst FixedPeriodFilter = _ref => {\n  let {\n    allowedPeriodTypes,\n    excludedPeriodTypes,\n    currentPeriodType,\n    currentYear,\n    onSelectPeriodType,\n    onSelectYear,\n    dataTest\n  } = _ref;\n  const onlyAllowedTypeIsSelected = Array.isArray(allowedPeriodTypes) && allowedPeriodTypes.length === 1 && allowedPeriodTypes[0] === currentPeriodType;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"leftSection\"\n  }, /*#__PURE__*/React.createElement(SingleSelectField, {\n    label: i18n.t('Period type'),\n    onChange: _ref2 => {\n      let {\n        selected\n      } = _ref2;\n      return onSelectPeriodType(selected);\n    },\n    dense: true,\n    selected: currentPeriodType,\n    disabled: onlyAllowedTypeIsSelected,\n    className: \"filterElement\",\n    dataTest: `${dataTest}-period-type`\n  }, (allowedPeriodTypes ? getFixedPeriodsOptions().filter(option => allowedPeriodTypes.some(type => type === option.id)) : filterPeriodTypesById(getFixedPeriodsOptions(), excludedPeriodTypes)).map(option => /*#__PURE__*/React.createElement(SingleSelectOption, {\n    key: option.id,\n    value: option.id,\n    label: option.name,\n    dataTest: `${dataTest}-period-type-option-${option.id}`\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"rightSection\"\n  }, /*#__PURE__*/React.createElement(InputField, {\n    label: i18n.t('Year'),\n    className: \"filterElement\",\n    type: \"number\",\n    placeholder: i18n.t('Select year'),\n    value: currentYear,\n    onChange: _ref3 => {\n      let {\n        value\n      } = _ref3;\n      return onSelectYear(value);\n    },\n    dense: true,\n    dataTest: `${dataTest}-year`\n  })), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: styles.__hash\n  }, styles));\n};\nFixedPeriodFilter.defaultProps = {\n  excludedPeriodTypes: []\n};\nFixedPeriodFilter.propTypes = {\n  currentPeriodType: PropTypes.string.isRequired,\n  currentYear: PropTypes.string.isRequired,\n  onSelectPeriodType: PropTypes.func.isRequired,\n  onSelectYear: PropTypes.func.isRequired,\n  allowedPeriodTypes: PropTypes.arrayOf(PropTypes.string),\n  dataTest: PropTypes.string,\n  excludedPeriodTypes: PropTypes.arrayOf(PropTypes.string)\n};\nexport default FixedPeriodFilter;","import i18n from '../../../locales/index.js';\nimport { DAILY, WEEKLY, BIWEEKLY, WEEKS_THIS_YEAR, MONTHLY, BIMONTHLY, QUARTERLY, SIXMONTHLY, FINANCIAL, YEARLY } from './index.js';\nconst getDaysPeriodType = () => [{\n  id: 'TODAY',\n  name: i18n.t('Today')\n}, {\n  id: 'YESTERDAY',\n  name: i18n.t('Yesterday')\n}, {\n  id: 'LAST_3_DAYS',\n  name: i18n.t('Last 3 days')\n}, {\n  id: 'LAST_7_DAYS',\n  name: i18n.t('Last 7 days')\n}, {\n  id: 'LAST_14_DAYS',\n  name: i18n.t('Last 14 days')\n}, {\n  id: 'LAST_30_DAYS',\n  name: i18n.t('Last 30 days')\n}, {\n  id: 'LAST_60_DAYS',\n  name: i18n.t('Last 60 days')\n}, {\n  id: 'LAST_90_DAYS',\n  name: i18n.t('Last 90 days')\n}, {\n  id: 'LAST_180_DAYS',\n  name: i18n.t('Last 180 days')\n}];\nconst getWeeksPeriodType = () => [{\n  id: 'THIS_WEEK',\n  name: i18n.t('This week')\n}, {\n  id: 'LAST_WEEK',\n  name: i18n.t('Last week')\n}, {\n  id: 'LAST_4_WEEKS',\n  name: i18n.t('Last 4 weeks')\n}, {\n  id: 'LAST_12_WEEKS',\n  name: i18n.t('Last 12 weeks')\n}, {\n  id: 'LAST_52_WEEKS',\n  name: i18n.t('Last 52 weeks')\n}, {\n  id: WEEKS_THIS_YEAR,\n  name: i18n.t('Weeks this year')\n}];\nconst getBiWeeksPeriodType = () => [{\n  id: 'THIS_BIWEEK',\n  name: i18n.t('This bi-week')\n}, {\n  id: 'LAST_BIWEEK',\n  name: i18n.t('Last bi-week')\n}, {\n  id: 'LAST_4_BIWEEKS',\n  name: i18n.t('Last 4 bi-weeks')\n}];\nconst getMonthsPeriodType = () => [{\n  id: 'THIS_MONTH',\n  name: i18n.t('This month')\n}, {\n  id: 'LAST_MONTH',\n  name: i18n.t('Last month')\n}, {\n  id: 'LAST_3_MONTHS',\n  name: i18n.t('Last 3 months')\n}, {\n  id: 'LAST_6_MONTHS',\n  name: i18n.t('Last 6 months')\n}, {\n  id: 'LAST_12_MONTHS',\n  name: i18n.t('Last 12 months')\n}, {\n  id: 'MONTHS_THIS_YEAR',\n  name: i18n.t('Months this year')\n}];\nconst getBiMonthsPeriodType = () => [{\n  id: 'THIS_BIMONTH',\n  name: i18n.t('This bi-month')\n}, {\n  id: 'LAST_BIMONTH',\n  name: i18n.t('Last bi-month')\n}, {\n  id: 'LAST_6_BIMONTHS',\n  name: i18n.t('Last 6 bi-months')\n}, {\n  id: 'BIMONTHS_THIS_YEAR',\n  name: i18n.t('Bi-months this year')\n}];\nconst getQuartersPeriodType = () => [{\n  id: 'THIS_QUARTER',\n  name: i18n.t('This quarter')\n}, {\n  id: 'LAST_QUARTER',\n  name: i18n.t('Last quarter')\n}, {\n  id: 'LAST_4_QUARTERS',\n  name: i18n.t('Last 4 quarters')\n}, {\n  id: 'QUARTERS_THIS_YEAR',\n  name: i18n.t('Quarters this year')\n}];\nconst getSixMonthsPeriodType = () => [{\n  id: 'THIS_SIX_MONTH',\n  name: i18n.t('This six-month')\n}, {\n  id: 'LAST_SIX_MONTH',\n  name: i18n.t('Last six-month')\n}, {\n  id: 'LAST_2_SIXMONTHS',\n  name: i18n.t('Last 2 six-month')\n}];\nconst getFinancialYearsPeriodType = () => [{\n  id: 'THIS_FINANCIAL_YEAR',\n  name: i18n.t('This financial year')\n}, {\n  id: 'LAST_FINANCIAL_YEAR',\n  name: i18n.t('Last financial year')\n}, {\n  id: 'LAST_5_FINANCIAL_YEARS',\n  name: i18n.t('Last 5 financial years')\n}];\nconst getYearsPeriodType = () => [{\n  id: 'THIS_YEAR',\n  name: i18n.t('This year')\n}, {\n  id: 'LAST_YEAR',\n  name: i18n.t('Last year')\n}, {\n  id: 'LAST_5_YEARS',\n  name: i18n.t('Last 5 years')\n}, {\n  id: 'LAST_10_YEARS',\n  name: i18n.t('Last 10 years')\n}];\nconst getOptions = () => [{\n  id: DAILY,\n  getPeriods: () => getDaysPeriodType(),\n  name: i18n.t('Days')\n}, {\n  id: WEEKLY,\n  getPeriods: () => getWeeksPeriodType(),\n  name: i18n.t('Weeks')\n}, {\n  id: BIWEEKLY,\n  getPeriods: () => getBiWeeksPeriodType(),\n  name: i18n.t('Bi-weeks')\n}, {\n  id: MONTHLY,\n  getPeriods: () => getMonthsPeriodType(),\n  name: i18n.t('Months')\n}, {\n  id: BIMONTHLY,\n  getPeriods: () => getBiMonthsPeriodType(),\n  name: i18n.t('Bi-months')\n}, {\n  id: QUARTERLY,\n  getPeriods: () => getQuartersPeriodType(),\n  name: i18n.t('Quarters')\n}, {\n  id: SIXMONTHLY,\n  getPeriods: () => getSixMonthsPeriodType(),\n  name: i18n.t('Six-months')\n}, {\n  id: FINANCIAL,\n  getPeriods: () => getFinancialYearsPeriodType(),\n  name: i18n.t('Financial Years')\n}, {\n  id: YEARLY,\n  getPeriods: () => getYearsPeriodType(),\n  name: i18n.t('Years')\n}];\nexport const getRelativePeriodsOptionsById = id => getOptions().find(option => option.id === id);\nexport const getRelativePeriodsOptions = () => getOptions();\nexport const getRelativePeriodIds = () => Object.values(getOptions()).map(option => option.getPeriods().map(period => period.id)).flat();","import _JSXStyle from \"styled-jsx/style\";\nimport { SingleSelectField, SingleSelectOption } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport styles from './styles/PeriodFilter.style.js';\nimport { filterPeriodTypesById } from './utils/index.js';\nimport { getRelativePeriodsOptions } from './utils/relativePeriods.js';\nconst RelativePeriodFilter = _ref => {\n  let {\n    currentFilter,\n    onSelectFilter,\n    dataTest,\n    excludedPeriodTypes\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"leftSection\"\n  }, /*#__PURE__*/React.createElement(SingleSelectField, {\n    label: i18n.t('Period type'),\n    onChange: _ref2 => {\n      let {\n        selected\n      } = _ref2;\n      return onSelectFilter(selected);\n    },\n    dense: true,\n    selected: currentFilter,\n    className: \"filterElement\",\n    dataTest: dataTest\n  }, filterPeriodTypesById(getRelativePeriodsOptions(), excludedPeriodTypes).map(option => /*#__PURE__*/React.createElement(SingleSelectOption, {\n    key: option.id,\n    value: option.id,\n    label: option.name,\n    dataTest: `${dataTest}-option-${option.id}`\n  }))), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: styles.__hash\n  }, styles));\n};\nRelativePeriodFilter.propTypes = {\n  currentFilter: PropTypes.string.isRequired,\n  onSelectFilter: PropTypes.func.isRequired,\n  dataTest: PropTypes.string,\n  excludedPeriodTypes: PropTypes.arrayOf(PropTypes.string)\n};\nexport default RelativePeriodFilter;","import _JSXStyle from \"styled-jsx/style\";\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport { getNowInCalendar } from '@dhis2/multi-calendar-dates';\nimport { TabBar, Tab, Transfer } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport PeriodIcon from '../../assets/DimensionItemIcons/PeriodIcon.js'; //TODO: Reimplement the icon.js\nimport i18n from '../../locales/index.js';\nimport { TRANSFER_HEIGHT, TRANSFER_OPTIONS_WIDTH, TRANSFER_SELECTED_WIDTH } from '../../modules/dimensionSelectorHelper.js';\nimport styles from '../styles/DimensionSelector.style.js';\nimport { TransferOption } from '../TransferOption.js';\nimport FixedPeriodFilter from './FixedPeriodFilter.js';\nimport RelativePeriodFilter from './RelativePeriodFilter.js';\nimport { getFixedPeriodsOptionsById } from './utils/fixedPeriods.js';\nimport { MONTHLY, QUARTERLY } from './utils/index.js';\nimport { getRelativePeriodsOptionsById } from './utils/relativePeriods.js';\nconst PeriodTransfer = _ref => {\n  let {\n    onSelect,\n    dataTest,\n    initialSelectedPeriods,\n    rightFooter,\n    excludedPeriodTypes,\n    periodsSettings\n  } = _ref;\n  const defaultRelativePeriodType = excludedPeriodTypes.includes(MONTHLY) ? getRelativePeriodsOptionsById(QUARTERLY) : getRelativePeriodsOptionsById(MONTHLY);\n  const defaultFixedPeriodType = excludedPeriodTypes.includes(MONTHLY) ? getFixedPeriodsOptionsById(QUARTERLY, periodsSettings) : getFixedPeriodsOptionsById(MONTHLY, periodsSettings);\n  const now = getNowInCalendar(periodsSettings.calendar);\n  // use \".eraYear\" rather than \".year\" because in Ethiopian calendar, eraYear is what our users expect to see (for other calendars, it doesn't matter)\n  // there is still a pending decision in Temporal regarding which era to use by default: https://github.com/js-temporal/temporal-polyfill/blob/9350ee7dd0d29f329fc097debf923a517c32f813/lib/calendar.ts#L1964\n  const defaultFixedPeriodYear = now.eraYear || now.year;\n  const fixedPeriodConfig = year => ({\n    offset: year - defaultFixedPeriodYear,\n    filterFuturePeriods: false,\n    reversePeriods: false\n  });\n  const [allPeriods, setAllPeriods] = useState(defaultRelativePeriodType.getPeriods());\n  const [selectedPeriods, setSelectedPeriods] = useState(initialSelectedPeriods);\n  const [isRelative, setIsRelative] = useState(true);\n  const [relativeFilter, setRelativeFilter] = useState({\n    periodType: defaultRelativePeriodType.id\n  });\n  const [fixedFilter, setFixedFilter] = useState({\n    periodType: defaultFixedPeriodType.id,\n    year: defaultFixedPeriodYear.toString()\n  });\n  const onIsRelativeClick = state => {\n    if (state !== isRelative) {\n      setIsRelative(state);\n      setAllPeriods(state ? getRelativePeriodsOptionsById(relativeFilter.periodType).getPeriods() : getFixedPeriodsOptionsById(fixedFilter.periodType, periodsSettings).getPeriods(fixedPeriodConfig(Number(fixedFilter.year))));\n    }\n  };\n  const renderLeftHeader = () => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(TabBar, null, /*#__PURE__*/React.createElement(Tab, {\n    selected: isRelative,\n    onClick: () => onIsRelativeClick(true),\n    dataTest: `${dataTest}-relative-periods-button`\n  }, i18n.t('Relative periods')), /*#__PURE__*/React.createElement(Tab, {\n    selected: !isRelative,\n    onClick: () => onIsRelativeClick(false),\n    dataTest: `${dataTest}-fixed-periods-button`\n  }, i18n.t('Fixed periods'))), /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"filterContainer\"\n  }, isRelative ? /*#__PURE__*/React.createElement(RelativePeriodFilter, {\n    currentFilter: relativeFilter.periodType,\n    onSelectFilter: filter => {\n      setRelativeFilter({\n        periodType: filter\n      });\n      setAllPeriods(getRelativePeriodsOptionsById(filter).getPeriods());\n    },\n    dataTest: `${dataTest}-relative-period-filter`,\n    excludedPeriodTypes: excludedPeriodTypes\n  }) : /*#__PURE__*/React.createElement(FixedPeriodFilter, {\n    currentPeriodType: fixedFilter.periodType,\n    currentYear: fixedFilter.year,\n    onSelectPeriodType: periodType => {\n      onSelectFixedPeriods({\n        periodType,\n        year: fixedFilter.year\n      });\n    },\n    onSelectYear: year => {\n      onSelectFixedPeriods({\n        periodType: fixedFilter.periodType,\n        year\n      });\n    },\n    dataTest: `${dataTest}-fixed-period-filter`,\n    excludedPeriodTypes: excludedPeriodTypes\n  })), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: styles.__hash\n  }, styles));\n  const renderRightHeader = () => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"p\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"rightHeader\"\n  }, i18n.t('Selected Periods')), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: styles.__hash\n  }, styles));\n  const onSelectFixedPeriods = filter => {\n    setFixedFilter(filter);\n    setAllPeriods(getFixedPeriodsOptionsById(filter.periodType, periodsSettings).getPeriods(fixedPeriodConfig(Number(filter.year)), periodsSettings));\n  };\n  const renderEmptySelection = () => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"p\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"emptyList\"\n  }, i18n.t('No periods selected')), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: styles.__hash\n  }, styles));\n  return /*#__PURE__*/React.createElement(Transfer, {\n    onChange: _ref2 => {\n      let {\n        selected\n      } = _ref2;\n      const formattedItems = selected.map(id => ({\n        id,\n        name: [...allPeriods, ...selectedPeriods].find(item => item.id === id).name\n      }));\n      setSelectedPeriods(formattedItems);\n      onSelect(formattedItems);\n    },\n    selected: selectedPeriods.map(period => period.id),\n    leftHeader: renderLeftHeader(),\n    enableOrderChange: true,\n    height: TRANSFER_HEIGHT,\n    optionsWidth: TRANSFER_OPTIONS_WIDTH,\n    selectedWidth: TRANSFER_SELECTED_WIDTH,\n    selectedEmptyComponent: renderEmptySelection(),\n    rightHeader: renderRightHeader(),\n    rightFooter: rightFooter,\n    options: [...allPeriods, ...selectedPeriods].map(_ref3 => {\n      let {\n        id,\n        name\n      } = _ref3;\n      return {\n        label: name,\n        value: id\n      };\n    }),\n    renderOption: props => /*#__PURE__*/React.createElement(TransferOption, _extends({}, props, {\n      icon: PeriodIcon,\n      dataTest: `${dataTest}-transfer-option`\n    })),\n    dataTest: `${dataTest}-transfer`\n  });\n};\nPeriodTransfer.defaultProps = {\n  initialSelectedPeriods: [],\n  excludedPeriodTypes: [],\n  periodsSettings: {\n    calendar: 'gregory',\n    locale: 'en'\n  }\n};\nPeriodTransfer.propTypes = {\n  onSelect: PropTypes.func.isRequired,\n  dataTest: PropTypes.string,\n  excludedPeriodTypes: PropTypes.arrayOf(PropTypes.string),\n  initialSelectedPeriods: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.string,\n    name: PropTypes.string\n  })),\n  periodsSettings: PropTypes.shape({\n    calendar: PropTypes.string,\n    locale: PropTypes.string\n  }),\n  rightFooter: PropTypes.node\n};\nexport default PeriodTransfer;","import { useConfig, useDataQuery } from '@dhis2/app-runtime';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { DIMENSION_ID_PERIOD } from '../../modules/predefinedDimensions.js';\nimport PeriodTransfer from './PeriodTransfer.js';\nconst userSettingsQuery = {\n  userSettings: {\n    resource: 'userSettings',\n    params: {\n      key: ['keyUiLocale']\n    }\n  }\n};\nconst PeriodDimension = _ref => {\n  let {\n    onSelect,\n    selectedPeriods,\n    rightFooter,\n    excludedPeriodTypes\n  } = _ref;\n  const {\n    systemInfo\n  } = useConfig();\n  const result = useDataQuery(userSettingsQuery);\n  const {\n    calendar = 'gregory'\n  } = systemInfo;\n  const {\n    data: {\n      userSettings: {\n        keyUiLocale: locale\n      } = {}\n    } = {}\n  } = result;\n  const periodsSettings = {\n    calendar,\n    locale\n  };\n  const selectPeriods = periods => {\n    onSelect({\n      dimensionId: DIMENSION_ID_PERIOD,\n      items: periods\n    });\n  };\n  return /*#__PURE__*/React.createElement(PeriodTransfer, {\n    onSelect: selectPeriods,\n    initialSelectedPeriods: selectedPeriods,\n    rightFooter: rightFooter,\n    dataTest: 'period-dimension',\n    excludedPeriodTypes: excludedPeriodTypes,\n    periodsSettings: periodsSettings\n  });\n};\nPeriodDimension.propTypes = {\n  onSelect: PropTypes.func.isRequired,\n  excludedPeriodTypes: PropTypes.arrayOf(PropTypes.string),\n  rightFooter: PropTypes.node,\n  selectedPeriods: PropTypes.array\n};\nPeriodDimension.defaultProps = {\n  selectedPeriods: []\n};\nexport default PeriodDimension;","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nfunction SvgEdit16(_ref) {\n  let {\n    color,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    width: 16,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10.613 2.624l.094.083 2.586 2.586a1 1 0 01.083 1.32l-.083.094L6 14H2v-4l7.293-7.293a1 1 0 011.32-.083zm-.613.79l-6.793 6.792 2.585 2.585L12.586 6z\",\n    fill: \"currentColor\"\n  }));\n}\n\nSvgEdit16.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default SvgEdit16;","import { colors, spacers, theme } from '@dhis2/ui';\nconst _defaultExport = [`.wrapper.jsx-1302852599:last-child{margin-bottom:${spacers.dp4};}`, `.chip.jsx-1302852599{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;background:${colors.grey200};font-size:14px;line-height:16px;padding:2px ${spacers.dp8} 2px ${spacers.dp4};margin:${spacers.dp4} ${spacers.dp8} 0 ${spacers.dp8};border-radius:3px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}`, `.chip.jsx-1302852599:hover{background:${colors.grey300};}`, `.selected.jsx-1302852599{background:${theme.secondary100};color:${theme.secondary900};}`, `.selected.jsx-1302852599 .icon path{fill:${theme.secondary700};}`, \".selected.jsx-1302852599:hover{background:#c9edeb;}\", `.highlighted.jsx-1302852599,.highlighted.jsx-1302852599:hover{background:${theme.secondary800};color:${colors.white};}`, `.highlighted.jsx-1302852599 .icon path{fill:${colors.white};}`, \".disabled.jsx-1302852599{opacity:0.3;cursor:not-allowed;}\", \".inactive.jsx-1302852599{opacity:0.3;}\", \".icon.jsx-1302852599,.label.jsx-1302852599{line-height:18px;}\", `.icon.jsx-1302852599{margin-right:${spacers.dp4};display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;vertical-align:text-bottom;padding-top:1px;}`, \".label.jsx-1302852599{font-size:14px;}\", `.edit.jsx-1302852599{height:16px;margin-top:1px;margin-left:${spacers.dp8};cursor:pointer;}`, \".edit.jsx-1302852599:hover{background-color:rgba(0,0,0,0.12);outline:1px solid rgba(0,0,0,0.12);border-radius:3px;}\", \".highlighted.jsx-1302852599 .edit.jsx-1302852599:hover{background-color:rgba(255,255,255,0.12);outline:1px solid rgba(255,255,255,0.12);}\"];\n_defaultExport.__hash = \"1302852599\";\nexport default _defaultExport;","import _JSXStyle from \"styled-jsx/style\";\nimport { Tooltip, IconEdit16 } from '@dhis2/ui';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './styles/TransferOption.style.js';\nexport const TransferOption = _ref => {\n  let {\n    disabled,\n    label,\n    highlighted,\n    selected,\n    onClick,\n    onDoubleClick,\n    value,\n    icon,\n    active,\n    tooltipText,\n    dataTest,\n    onEditClick\n  } = _ref;\n  const renderContent = () => /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": `${dataTest}-content`,\n    onClick: event => {\n      if (disabled) {\n        return;\n      }\n      onClick({\n        label,\n        value\n      }, event);\n    },\n    onDoubleClick: event => {\n      if (disabled) {\n        return;\n      }\n      onDoubleClick({\n        label,\n        value\n      }, event);\n    },\n    className: `jsx-${styles.__hash}` + \" \" + (cx('chip', {\n      highlighted,\n      disabled,\n      selected,\n      inactive: active !== undefined && !active\n    }) || \"\")\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"icon\"\n  }, icon), /*#__PURE__*/React.createElement(\"span\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"label\"\n  }, label), onEditClick && /*#__PURE__*/React.createElement(\"span\", {\n    onClick: e => {\n      e.stopPropagation();\n      onEditClick();\n    },\n    \"data-test\": `${dataTest}-edit-button`,\n    className: `jsx-${styles.__hash}` + \" \" + \"edit\"\n  }, /*#__PURE__*/React.createElement(IconEdit16, null)), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: styles.__hash\n  }, styles));\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-value\": value,\n    \"data-test\": dataTest,\n    className: \"wrapper\"\n  }, tooltipText ? /*#__PURE__*/React.createElement(Tooltip, {\n    key: `${value}`,\n    content: tooltipText,\n    placement: 'top',\n    openDelay: 750,\n    closeDelay: 150\n  }, renderContent()) : renderContent());\n};\nTransferOption.propTypes = {\n  label: PropTypes.string.isRequired,\n  value: PropTypes.string.isRequired,\n  active: PropTypes.bool,\n  dataTest: PropTypes.string,\n  disabled: PropTypes.bool,\n  highlighted: PropTypes.bool,\n  icon: PropTypes.node,\n  selected: PropTypes.bool,\n  tooltipText: PropTypes.string,\n  onClick: PropTypes.func,\n  onDoubleClick: PropTypes.func,\n  onEditClick: PropTypes.func\n};","import { spacers, colors } from '@dhis2/ui';\nconst _defaultExport = [`.filterContainer.jsx-336728173{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-bottom:${spacers.dp12};margin-top:${spacers.dp8};}`, `.emptyList.jsx-336728173{text-align:center;font-size:14px;line-height:16px;margin:${spacers.dp24} 0 0;color:${colors.grey700};}`, \".rightHeader.jsx-336728173{font-size:14px;font-weight:400;}\", `.leftHeader.jsx-336728173{padding:${spacers.dp12} ${spacers.dp4};}`, `.info-container.jsx-336728173{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-bottom:${spacers.dp8};padding:${spacers.dp8};background-color:${colors.grey200};border-radius:3px;}`, `.info-text.jsx-336728173{padding-left:${spacers.dp8};color:${colors.grey900};font-size:12px;line-height:16px;}`, `.calculation-button.jsx-336728173{margin:${spacers.dp8} 0;}`];\n_defaultExport.__hash = \"336728173\";\nexport default _defaultExport;","//------------------------------------------------------------------------------\n// <auto-generated>\n// This code was generated by d2-i18n-generate.\n//\n// Changes to this file may cause incorrect behavior and will be lost if\n// the code is regenerated.\n// </auto-generated>\n//------------------------------------------------------------------------------\nimport i18n from '@dhis2/d2-i18n';\nimport arTranslations from './ar/translations.json';\nimport ar_EGTranslations from './ar_EG/translations.json';\nimport ar_IQTranslations from './ar_IQ/translations.json';\nimport ckbTranslations from './ckb/translations.json';\nimport csTranslations from './cs/translations.json';\nimport daTranslations from './da/translations.json';\nimport enTranslations from './en/translations.json';\nimport esTranslations from './es/translations.json';\nimport es_419Translations from './es_419/translations.json';\nimport frTranslations from './fr/translations.json';\nimport idTranslations from './id/translations.json';\nimport kmTranslations from './km/translations.json';\nimport loTranslations from './lo/translations.json';\nimport myTranslations from './my/translations.json';\nimport nbTranslations from './nb/translations.json';\nimport nlTranslations from './nl/translations.json';\nimport orTranslations from './or/translations.json';\nimport prsTranslations from './prs/translations.json';\nimport psTranslations from './ps/translations.json';\nimport ptTranslations from './pt/translations.json';\nimport pt_BRTranslations from './pt_BR/translations.json';\nimport roTranslations from './ro/translations.json';\nimport ruTranslations from './ru/translations.json';\nimport siTranslations from './si/translations.json';\nimport svTranslations from './sv/translations.json';\nimport tetTranslations from './tet/translations.json';\nimport tgTranslations from './tg/translations.json';\nimport ukTranslations from './uk/translations.json';\nimport urTranslations from './ur/translations.json';\nimport uz_CyrlTranslations from './uz_Cyrl/translations.json';\nimport uz_LatnTranslations from './uz_Latn/translations.json';\nimport uz_UZ_CyrlTranslations from './uz_UZ_Cyrl/translations.json';\nimport uz_UZ_LatnTranslations from './uz_UZ_Latn/translations.json';\nimport viTranslations from './vi/translations.json';\nimport zhTranslations from './zh/translations.json';\nimport zh_CNTranslations from './zh_CN/translations.json';\nconst namespace = 'default';\ni18n.addResources('ar', namespace, arTranslations);\ni18n.addResources('ar_EG', namespace, ar_EGTranslations);\ni18n.addResources('ar_IQ', namespace, ar_IQTranslations);\ni18n.addResources('ckb', namespace, ckbTranslations);\ni18n.addResources('cs', namespace, csTranslations);\ni18n.addResources('da', namespace, daTranslations);\ni18n.addResources('en', namespace, enTranslations);\ni18n.addResources('es', namespace, esTranslations);\ni18n.addResources('es_419', namespace, es_419Translations);\ni18n.addResources('fr', namespace, frTranslations);\ni18n.addResources('id', namespace, idTranslations);\ni18n.addResources('km', namespace, kmTranslations);\ni18n.addResources('lo', namespace, loTranslations);\ni18n.addResources('my', namespace, myTranslations);\ni18n.addResources('nb', namespace, nbTranslations);\ni18n.addResources('nl', namespace, nlTranslations);\ni18n.addResources('or', namespace, orTranslations);\ni18n.addResources('prs', namespace, prsTranslations);\ni18n.addResources('ps', namespace, psTranslations);\ni18n.addResources('pt', namespace, ptTranslations);\ni18n.addResources('pt_BR', namespace, pt_BRTranslations);\ni18n.addResources('ro', namespace, roTranslations);\ni18n.addResources('ru', namespace, ruTranslations);\ni18n.addResources('si', namespace, siTranslations);\ni18n.addResources('sv', namespace, svTranslations);\ni18n.addResources('tet', namespace, tetTranslations);\ni18n.addResources('tg', namespace, tgTranslations);\ni18n.addResources('uk', namespace, ukTranslations);\ni18n.addResources('ur', namespace, urTranslations);\ni18n.addResources('uz_Cyrl', namespace, uz_CyrlTranslations);\ni18n.addResources('uz_Latn', namespace, uz_LatnTranslations);\ni18n.addResources('uz_UZ_Cyrl', namespace, uz_UZ_CyrlTranslations);\ni18n.addResources('uz_UZ_Latn', namespace, uz_UZ_LatnTranslations);\ni18n.addResources('vi', namespace, viTranslations);\ni18n.addResources('zh', namespace, zhTranslations);\ni18n.addResources('zh_CN', namespace, zh_CNTranslations);\nexport default i18n;","export const TRANSFER_OPTIONS_WIDTH = '420px';\nexport const TRANSFER_SELECTED_WIDTH = '298px';\nexport const TRANSFER_HEIGHT = '512px';","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nfunction SvgDimensionData16(_ref) {\n  let {\n    color,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    width: 16,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12 1a1 1 0 011 1v11a1 1 0 01-1 1H4a1 1 0 01-1-1V2a1 1 0 011-1zm-8 9v3h8v-3zm2 1v1H5v-1zm0-4v1H5V7zm6-5H4v3h8zM6 3v1H5V3zM4 9h8V6H4z\",\n    fill: \"currentColor\"\n  }));\n}\n\nSvgDimensionData16.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default SvgDimensionData16;","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nfunction SvgDimensionOrgUnit16(_ref) {\n  let {\n    color,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    width: 16,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6 1v4H4v2h6V6h4v4h-4V8H4v4h6v-1h4v4h-4v-2H3.5a.5.5 0 01-.492-.41L3 12.5V5H2V1zm7 11h-2v2h2zm0-5h-2v2h2zM5 2H3v2h2z\",\n    fill: \"currentColor\"\n  }));\n}\n\nSvgDimensionOrgUnit16.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default SvgDimensionOrgUnit16;","import React from 'react';\nconst AssignedCategoriesIcon = () => {\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: \"16\",\n    viewBox: \"0 0 16 16\",\n    width: \"16\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"#212934\",\n    fillRule: \"evenodd\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m2 7h11v1h-11z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m2 13h11v1h-11z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m2 2h11v1h-11z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m7 8h1v5h-1z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m12 3h1v10h-1z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m2 3h1v10h-1z\"\n  })));\n};\nexport default AssignedCategoriesIcon;","import { IconClock16, IconDimensionData16, IconDimensionOrgUnit16 } from '@dhis2/ui';\nimport AssignedCategoriesIcon from '../assets/AssignedCategoriesIcon.js';\nimport i18n from '../locales/index.js';\nexport const DIMENSION_ID_DATA = 'dx';\nexport const DIMENSION_ID_PERIOD = 'pe';\nexport const DIMENSION_ID_ORGUNIT = 'ou';\nexport const DIMENSION_ID_ASSIGNED_CATEGORIES = 'co';\nexport const DIMENSION_PROP_NO_ITEMS = 'noItems';\nexport const getFixedDimensions = () => ({\n  [DIMENSION_ID_DATA]: {\n    id: DIMENSION_ID_DATA,\n    name: i18n.t('Data'),\n    iconName: 'DataIcon',\n    icon: IconDimensionData16\n  },\n  [DIMENSION_ID_PERIOD]: {\n    id: DIMENSION_ID_PERIOD,\n    name: i18n.t('Period'),\n    iconName: 'PeriodIcon',\n    icon: IconClock16\n  },\n  [DIMENSION_ID_ORGUNIT]: {\n    id: DIMENSION_ID_ORGUNIT,\n    name: i18n.t('Organisation unit'),\n    iconName: 'OrgUnitIcon',\n    icon: IconDimensionOrgUnit16\n  }\n});\nexport const getDynamicDimensions = () => ({\n  [DIMENSION_ID_ASSIGNED_CATEGORIES]: {\n    id: DIMENSION_ID_ASSIGNED_CATEGORIES,\n    name: i18n.t('Assigned Categories'),\n    iconName: 'AssignedCategoriesIcon',\n    icon: AssignedCategoriesIcon,\n    [DIMENSION_PROP_NO_ITEMS]: true\n  }\n});\nexport const getPredefinedDimensions = () => ({\n  ...getFixedDimensions(),\n  ...getDynamicDimensions()\n});\nexport const filterOutPredefinedDimensions = dimensionIds => dimensionIds.filter(dimensionId => !Object.keys(getPredefinedDimensions()).includes(dimensionId));\nexport const getPredefinedDimensionProp = (dimensionId, propName) => (getPredefinedDimensions()[dimensionId] || {})[propName];\nexport const getDimensionById = dimensionId => getPredefinedDimensions()[dimensionId];","import propTypes from 'prop-types';\n\nconst isEmpty = value => typeof value === 'undefined' || value === null || value === '';\n\nconst requiredIfFactory = (condition, propType, isRequired) => (props, propName, componentName) => {\n  const propValue = props[propName]; // Usage errors\n\n  if (isRequired) {\n    return new Error(`Property \\`${propName}\\` on component \\`${componentName}\\` is using the \\`requiredIf\\` prop-validator combined with \\`.isRequired\\`. This is an invalid combination.`);\n  }\n\n  if (typeof condition !== 'function') {\n    return new Error(`The \\`condition\\` argument passed to the \\`requiredIf\\` prop-validator was not a function.`);\n  }\n\n  if (typeof propType !== 'function') {\n    return new Error(`The \\`propType\\` argument passed to the \\`requiredIf\\` prop-validator was not a function.`);\n  } // Validation errors\n\n\n  if (condition(props) && isEmpty(propValue)) {\n    return new Error(`Invalid prop \\`${propName}\\` supplied to \\`${componentName}\\`, this prop is conditionally required but has value \\`${propValue}\\`. The condition that made this prop required is: \\`${condition.toString()}\\`.`);\n  } // This is how to programatically invoke a propTypes check\n  // https://github.com/facebook/prop-types#proptypescheckproptypes\n\n\n  propTypes.checkPropTypes({\n    [propName]: propType\n  }, props, 'prop', componentName);\n  return null;\n};\n/**\n * Ensure the prop has a value (i.e. treat it as required) when a given sibling prop\n * also has a value, and ensure the prop is of the correct prop-type\n * @param {function} siblingPropName - The name of the sibling prop\n * @return {Error|null} Returns null if all conditions are met, or an error\n * @example\n * import React from 'react'\n * import { requiredIf } from '@dhis2/prop-types'\n *\n * const Test = ({ someBool, someString }) => (\n *     <div>\n *         <h1>someBool: {someBool ? 'true' : 'false'}</h1>\n *         <h1>someString: {someString}</h1>\n *     </div>\n * )\n * Test.propTypes = {\n *     someBool: propTypes.bool,\n *     someString: requiredIf(props => props.someBool, propTypes.string),\n * }\n */\n\n\nexport function requiredIf(condition, propType) {\n  const fn = requiredIfFactory(condition, propType, false);\n  fn.isRequired = requiredIfFactory(condition, propType, true);\n  return fn;\n}","import { Field } from '@dhis2-ui/field';\nimport { Required } from '@dhis2-ui/required';\nimport { sharedPropTypes } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Checkbox } from '../index.js';\n\nconst AddRequired = _ref => {\n  let {\n    label,\n    required,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, label, required && /*#__PURE__*/React.createElement(Required, {\n    dataTest: \"\".concat(dataTest, \"-required\")\n  }));\n};\n\nAddRequired.propTypes = {\n  dataTest: PropTypes.string,\n  label: PropTypes.node,\n  required: PropTypes.bool\n};\n\nconst CheckboxField = _ref2 => {\n  let {\n    value,\n    label,\n    name,\n    className,\n    tabIndex,\n    onChange,\n    onFocus,\n    onKeyDown,\n    onBlur,\n    checked,\n    disabled,\n    valid,\n    warning,\n    error,\n    dense,\n    initialFocus,\n    required,\n    helpText,\n    validationText,\n    dataTest\n  } = _ref2;\n  return /*#__PURE__*/React.createElement(Field, {\n    className: className,\n    dataTest: dataTest,\n    helpText: helpText,\n    validationText: validationText,\n    error: error,\n    warning: warning,\n    valid: valid,\n    disabled: disabled\n  }, /*#__PURE__*/React.createElement(Checkbox, {\n    value: value,\n    label: /*#__PURE__*/React.createElement(AddRequired, {\n      label: label,\n      required: required,\n      dataTest: dataTest\n    }),\n    name: name,\n    tabIndex: tabIndex,\n    onChange: onChange,\n    onFocus: onFocus,\n    onKeyDown: onKeyDown,\n    onBlur: onBlur,\n    checked: checked,\n    disabled: disabled,\n    valid: valid,\n    warning: warning,\n    error: error,\n    dense: dense,\n    initialFocus: initialFocus\n  }));\n};\n\nCheckboxField.defaultProps = {\n  dataTest: 'dhis2-uiwidgets-checkboxfield'\n};\nCheckboxField.propTypes = {\n  checked: PropTypes.bool,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n\n  /** Smaller dimensions for information-dense layouts */\n  dense: PropTypes.bool,\n\n  /** Disables the checkbox */\n  disabled: PropTypes.bool,\n\n  /** Applies 'error' styling to checkbox and validation text for feedback. Mutually exclusive with `warning` and `valid` props */\n  error: sharedPropTypes.statusPropType,\n\n  /** Useful instructions for the user */\n  helpText: PropTypes.string,\n  initialFocus: PropTypes.bool,\n\n  /** Labels the checkbox */\n  label: PropTypes.node,\n\n  /** Name associate with the checkbox. Passed in object as argument to event handlers */\n  name: PropTypes.string,\n\n  /** Adds an asterisk to indicate this field is required */\n  required: PropTypes.bool,\n  tabIndex: PropTypes.string,\n\n  /** Applies 'valid' styling to checkbox and validation text for feedback. Mutually exclusive with `warning` and `error` props */\n  valid: sharedPropTypes.statusPropType,\n\n  /** Adds text below the checkbox to provide validation feedback. Acquires styles from `valid`, `warning` and `error` statuses */\n  validationText: PropTypes.string,\n\n  /** Value associated with the checkbox. Passed in object as argument to event handlers */\n  value: PropTypes.string,\n\n  /** Applies 'warning' styling to checkbox and validation text for feedback. Mutually exclusive with `valid` and `error` props */\n  warning: sharedPropTypes.statusPropType,\n\n  /** Called with signature `({ name: string, value: string, checked: bool }, event)` */\n  onBlur: PropTypes.func,\n\n  /** Called with signature `({ name: string, value: string, checked: bool }, event)` */\n  onChange: PropTypes.func,\n\n  /** Called with signature `({ name: string, value: string, checked: bool }, event)` */\n  onFocus: PropTypes.func,\n\n  /** Called with signature `({ name: string, value: string, checked: bool }, event)` */\n  onKeyDown: PropTypes.func\n};\nexport { CheckboxField };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { CheckboxField } from '@dhis2-ui/checkbox';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { createToggleChangeHandler, createFocusHandler, createBlurHandler, hasError, isValid, getValidationText } from '../shared/helpers.js';\nimport { metaPropType, inputPropType } from '../shared/propTypes.js';\nexport const CheckboxFieldFF = _ref => {\n  let {\n    error,\n    input,\n    meta,\n    showValidStatus,\n    valid,\n    validationText,\n    onBlur,\n    onFocus,\n    ...rest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(CheckboxField, _extends({}, rest, {\n    name: input.name,\n    checked: input.checked,\n    value: input.value,\n    error: hasError(meta, error),\n    valid: isValid(meta, valid, showValidStatus),\n    validationText: getValidationText(meta, validationText, error),\n    onFocus: createFocusHandler(input, onFocus),\n    onChange: createToggleChangeHandler(input),\n    onBlur: createBlurHandler(input, onBlur)\n  }));\n};\nCheckboxFieldFF.propTypes = {\n  /** Provided by Final Form `Field` */\n  input: inputPropType.isRequired,\n\n  /** Provided by Final Form `Field` */\n  meta: metaPropType.isRequired,\n  error: PropTypes.bool,\n  showValidStatus: PropTypes.bool,\n  valid: PropTypes.bool,\n  validationText: PropTypes.string,\n  onBlur: PropTypes.func,\n  onFocus: PropTypes.func\n};","const PRIMITIVE_TYPES = new Set(['string', 'number', 'boolean']);\n\nconst createChangeHandler = _ref => {\n  let {\n    onChange\n  } = _ref;\n  return payload => {\n    if (payload && 'value' in payload) {\n      // ui event signature\n      onChange(payload.value);\n    } else if (payload && payload.target && 'value' in payload.target) {\n      // synthetic event\n      onChange(payload.target.value);\n    } else if (PRIMITIVE_TYPES.has(typeof payload)) {\n      // directly usable value\n      onChange(payload);\n    } else {\n      // ¯\\_(ツ)_/¯\n      throw new Error('Could not process event payload');\n    }\n  };\n};\n\nexport { createChangeHandler };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { InputField } from '@dhis2-ui/input';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { createChangeHandler, createFocusHandler, createBlurHandler, hasError, isLoading, isValid, getValidationText } from '../shared/helpers.js';\nimport { metaPropType, inputPropType } from '../shared/propTypes.js';\nexport const InputFieldFF = _ref => {\n  let {\n    input,\n    meta,\n    error,\n    showValidStatus,\n    valid,\n    validationText,\n    onBlur,\n    onFocus,\n    loading,\n    showLoadingStatus,\n    ...rest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(InputField, _extends({}, rest, {\n    name: input.name,\n    type: input.type,\n    error: hasError(meta, error),\n    valid: isValid(meta, valid, showValidStatus),\n    loading: isLoading(meta, loading, showLoadingStatus),\n    validationText: getValidationText(meta, validationText, error),\n    onFocus: createFocusHandler(input, onFocus),\n    onChange: createChangeHandler(input),\n    onBlur: createBlurHandler(input, onBlur),\n    value: input.value\n  }));\n};\nInputFieldFF.propTypes = {\n  /** `input` props received from Final Form `Field` */\n  input: inputPropType.isRequired,\n\n  /** `meta` props received from Final Form `Field` */\n  meta: metaPropType.isRequired,\n  error: PropTypes.bool,\n  loading: PropTypes.bool,\n  showLoadingStatus: PropTypes.bool,\n  showValidStatus: PropTypes.bool,\n  valid: PropTypes.bool,\n  validationText: PropTypes.string,\n  onBlur: PropTypes.func,\n  onFocus: PropTypes.func\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { colors, theme } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nconst styles = [\"svg.jsx-1120332023{display:block;pointer-events:none;}\", \"svg.jsx-1120332023{fill:\".concat(colors.grey800, \";}\"), \"circle.background.jsx-1120332023{fill:\".concat(colors.white, \";}\"), \"svg.checked.jsx-1120332023{fill:\".concat(colors.teal700, \";}\"), \"svg.disabled.jsx-1120332023{fill:\".concat(colors.grey400, \";}\"), \"svg.error.jsx-1120332023{fill:\".concat(theme.error, \";}\"), \"svg.valid.jsx-1120332023{fill:\".concat(theme.valid, \";}\"), \"svg.warning.jsx-1120332023{fill:\".concat(theme.warning, \";}\"), \"svg.jsx-1120332023:not(.checked) .inner.jsx-1120332023,svg.jsx-1120332023:not(.checked) .outer.checked.jsx-1120332023{fill:none;}\"];\nstyles.__hash = \"1120332023\";\nexport function RadioRegular(_ref) {\n  let {\n    className\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 18 18\",\n    className: \"jsx-1260643562 \" + \"jsx-\".concat(styles.__hash) + \" \" + (className || \"\")\n  }, /*#__PURE__*/React.createElement(\"circle\", {\n    cx: \"9\",\n    cy: \"9\",\n    r: \"9\",\n    className: \"jsx-1260643562 \" + \"jsx-\".concat(styles.__hash) + \" \" + \"background\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9,0 C13.9705627,0 18,4.02943725 18,9 C18,13.9705627 13.9705627,18 9,18 C4.02943725,18 0,13.9705627 0,9 C0,4.02943725 4.02943725,0 9,0 Z M9,1 C4.581722,1 1,4.581722 1,9 C1,13.418278 4.581722,17 9,17 C13.418278,17 17,13.418278 17,9 C17,4.581722 13.418278,1 9,1 Z\",\n    className: \"jsx-1260643562 \" + \"jsx-\".concat(styles.__hash) + \" \" + \"outer unchecked\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9,18 C13.9705627,18 18,13.9705627 18,9 C18,4.02943725 13.9705627,0 9,0 C4.02943725,0 0,4.02943725 0,9 C0,13.9705627 4.02943725,18 9,18 Z M9,16 C5.13400675,16 2,12.8659932 2,9 C2,5.13400675 5.13400675,2 9,2 C12.8659932,2 16,5.13400675 16,9 C16,12.8659932 12.8659932,16 9,16 Z\",\n    className: \"jsx-1260643562 \" + \"jsx-\".concat(styles.__hash) + \" \" + \"outer checked\"\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: \"9\",\n    cy: \"9\",\n    r: \"5\",\n    className: \"jsx-1260643562 \" + \"jsx-\".concat(styles.__hash) + \" \" + \"inner\"\n  }), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1260643562\"\n  }, [\"svg.jsx-1260643562{height:18px;width:18px;}\"]), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: styles.__hash\n  }, styles));\n}\nRadioRegular.propTypes = {\n  className: PropTypes.string\n};\nexport function RadioDense(_ref2) {\n  let {\n    className\n  } = _ref2;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 14 14\",\n    className: \"jsx-1659897952 \" + \"jsx-\".concat(styles.__hash) + \" \" + (className || \"\")\n  }, /*#__PURE__*/React.createElement(\"circle\", {\n    cx: \"7\",\n    cy: \"7\",\n    r: \"7\",\n    className: \"jsx-1659897952 \" + \"jsx-\".concat(styles.__hash) + \" \" + \"background\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7,14 C10.8659932,14 14,10.8659932 14,7 C14,3.13400675 10.8659932,0 7,0 C3.13400675,0 0,3.13400675 0,7 C0,10.8659932 3.13400675,14 7,14 Z M7,13 C3.6862915,13 1,10.3137085 1,7 C1,3.6862915 3.6862915,1 7,1 C10.3137085,1 13,3.6862915 13,7 C13,10.3137085 10.3137085,13 7,13 Z\",\n    className: \"jsx-1659897952 \" + \"jsx-\".concat(styles.__hash) + \" \" + \"outer unchecked\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7,14 C10.8659932,14 14,10.8659932 14,7 C14,3.13400675 10.8659932,0 7,0 C3.13400675,0 0,3.13400675 0,7 C0,10.8659932 3.13400675,14 7,14 Z M7,12 C4.23857625,12 2,9.76142375 2,7 C2,4.23857625 4.23857625,2 7,2 C9.76142375,2 12,4.23857625 12,7 C12,9.76142375 9.76142375,12 7,12 Z\",\n    className: \"jsx-1659897952 \" + \"jsx-\".concat(styles.__hash) + \" \" + \"outer checked\"\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: \"7\",\n    cy: \"7\",\n    r: \"3\",\n    className: \"jsx-1659897952 \" + \"jsx-\".concat(styles.__hash) + \" \" + \"inner\"\n  }), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1659897952\"\n  }, [\"svg.jsx-1659897952{height:14px;width:14px;}\"]), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: styles.__hash\n  }, styles));\n}\nRadioDense.propTypes = {\n  className: PropTypes.string\n};","import _JSXStyle from \"styled-jsx/style\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { colors, spacers, theme, sharedPropTypes } from '@dhis2/ui-constants';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { Component, createRef } from 'react';\nimport { RadioRegular, RadioDense } from './radio-icons.js';\n\nclass Radio extends Component {\n  constructor() {\n    super(...arguments);\n\n    _defineProperty(this, \"ref\", /*#__PURE__*/createRef());\n\n    _defineProperty(this, \"handleChange\", e => {\n      if (this.props.onChange) {\n        this.props.onChange(this.createHandlerPayload(), e);\n      }\n    });\n\n    _defineProperty(this, \"handleBlur\", e => {\n      if (this.props.onBlur) {\n        this.props.onBlur(this.createHandlerPayload(), e);\n      }\n    });\n\n    _defineProperty(this, \"handleFocus\", e => {\n      if (this.props.onFocus) {\n        this.props.onFocus(this.createHandlerPayload(), e);\n      }\n    });\n\n    _defineProperty(this, \"handleKeyDown\", e => {\n      if (this.props.onKeyDown) {\n        this.props.onKeyDown(this.createHandlerPayload(), e);\n      }\n    });\n  }\n\n  componentDidMount() {\n    if (this.props.initialFocus) {\n      this.ref.current.focus();\n    }\n  }\n\n  createHandlerPayload() {\n    return {\n      value: this.props.value,\n      name: this.props.name,\n      checked: !this.props.checked\n    };\n  }\n\n  render() {\n    const {\n      checked = false,\n      className,\n      disabled,\n      error,\n      label,\n      name,\n      tabIndex,\n      valid,\n      value,\n      warning,\n      dense,\n      dataTest\n    } = this.props;\n    const classes = cx({\n      checked,\n      disabled,\n      valid,\n      error,\n      warning\n    });\n    return /*#__PURE__*/React.createElement(\"label\", {\n      \"data-test\": dataTest,\n      className: _JSXStyle.dynamic([[\"4282914657\", [colors.grey900, theme.disabled, label ? spacers.dp4 : 0, theme.focus]]]) + \" \" + (cx(className, {\n        disabled,\n        dense\n      }) || \"\")\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      ref: this.ref,\n      name: name,\n      value: value,\n      checked: checked,\n      disabled: disabled,\n      tabIndex: tabIndex,\n      onChange: this.handleChange,\n      onFocus: this.handleFocus,\n      onKeyDown: this.handleKeyDown,\n      onBlur: this.handleBlur,\n      className: _JSXStyle.dynamic([[\"4282914657\", [colors.grey900, theme.disabled, label ? spacers.dp4 : 0, theme.focus]]])\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: _JSXStyle.dynamic([[\"4282914657\", [colors.grey900, theme.disabled, label ? spacers.dp4 : 0, theme.focus]]]) + \" \" + (cx('icon', {\n        dense\n      }) || \"\")\n    }, dense ? /*#__PURE__*/React.createElement(RadioDense, {\n      className: classes\n    }) : /*#__PURE__*/React.createElement(RadioRegular, {\n      className: classes\n    })), label, /*#__PURE__*/React.createElement(_JSXStyle, {\n      id: \"4282914657\",\n      dynamic: [colors.grey900, theme.disabled, label ? spacers.dp4 : 0, theme.focus]\n    }, [\"label.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:relative;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;color:\".concat(colors.grey900, \";font-size:14px;line-height:19px;}\"), \"label.dense.__jsx-style-dynamic-selector{font-size:14px;line-height:16px;}\", \"label.disabled.__jsx-style-dynamic-selector{cursor:not-allowed;color:\".concat(theme.disabled, \";}\"), \"input.__jsx-style-dynamic-selector{opacity:0;position:absolute;height:18px;width:18px;left:3px;}\", \"label.dense.__jsx-style-dynamic-selector input.__jsx-style-dynamic-selector{height:14px;width:14px;}\", \".icon.__jsx-style-dynamic-selector{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin-right:\".concat(label ? spacers.dp4 : 0, \";border:2px solid transparent;padding:1px;border-radius:50%;}\"), \"label.dense.__jsx-style-dynamic-selector .icon.__jsx-style-dynamic-selector{margin-right:3px;}\", \"input.__jsx-style-dynamic-selector:focus+.icon.__jsx-style-dynamic-selector{outline:3px solid \".concat(theme.focus, \";outline-offset:-3px;}\")]));\n  }\n\n}\n\nRadio.defaultProps = {\n  dataTest: 'dhis2-uicore-radio'\n};\nRadio.propTypes = {\n  checked: PropTypes.bool,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n  dense: PropTypes.bool,\n  disabled: PropTypes.bool,\n\n  /** Adds 'error' styling for feedback. Mutually exclusive with `valid` and `warning` props */\n  error: sharedPropTypes.statusPropType,\n  initialFocus: PropTypes.bool,\n  label: PropTypes.node,\n\n  /** Name associated with this element. Passed in object to event handler functions  */\n  name: PropTypes.string,\n  tabIndex: PropTypes.string,\n\n  /** Adds 'valid' styling for feedback. Mutually exclusive with `error` and `warning` props */\n  valid: sharedPropTypes.statusPropType,\n\n  /** Value associated with this element. Passed in object to event handler functions */\n  value: PropTypes.string,\n\n  /** Adds 'warning' styling for feedback. Mutually exclusive with `valid` and `error` props */\n  warning: sharedPropTypes.statusPropType,\n\n  /** Called with the signature `({ name: string, value: string, checked: bool }, event)` */\n  onBlur: PropTypes.func,\n\n  /** Called with the signature `({ name: string, value: string, checked: bool }, event)` */\n  onChange: PropTypes.func,\n\n  /** Called with the signature `({ name: string, value: string, checked: bool }, event)` */\n  onFocus: PropTypes.func,\n\n  /** Called with the signature `({ name: string, value: string, checked: bool }, event)` */\n  onKeyDown: PropTypes.func\n};\nexport { Radio };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { Radio } from '@dhis2-ui/radio';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { createToggleChangeHandler, createFocusHandler, createBlurHandler, hasError, isValid, getValidationText } from '../shared/helpers.js';\nimport { metaPropType, inputPropType } from '../shared/propTypes.js';\nexport const RadioFieldFF = _ref => {\n  let {\n    error,\n    input,\n    meta,\n    showValidStatus,\n    valid,\n    validationText,\n    onBlur,\n    onFocus,\n    ...rest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(Radio, _extends({}, rest, {\n    name: input.name,\n    checked: input.checked,\n    value: input.value,\n    error: hasError(meta, error),\n    valid: isValid(meta, valid, showValidStatus),\n    validationText: getValidationText(meta, validationText, error),\n    onFocus: createFocusHandler(input, onFocus),\n    onChange: createToggleChangeHandler(input),\n    onBlur: createBlurHandler(input, onBlur)\n  }));\n};\nRadioFieldFF.propTypes = {\n  /** `input` props received from Final Form `Field` */\n  input: inputPropType.isRequired,\n\n  /** `meta` props received from Final Form `Field` */\n  meta: metaPropType.isRequired,\n  error: PropTypes.bool,\n  showValidStatus: PropTypes.bool,\n  valid: PropTypes.bool,\n  validationText: PropTypes.string,\n  onBlur: PropTypes.func,\n  onFocus: PropTypes.func\n};","const createSelectChangeHandler = _ref => {\n  let {\n    onChange\n  } = _ref;\n  return _ref2 => {\n    let {\n      selected\n    } = _ref2;\n    onChange(selected);\n  };\n};\n\nexport { createSelectChangeHandler };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { SingleSelectOption, SingleSelectField } from '@dhis2-ui/select';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { createSelectChangeHandler, createFocusHandler, createBlurHandler, hasError, isLoading, isValid, getValidationText } from '../shared/helpers.js';\nimport { inputPropType, metaPropType } from '../shared/propTypes.js';\nexport const SingleSelectFieldFF = _ref => {\n  let {\n    error,\n    input,\n    loading,\n    meta,\n    onBlur,\n    onFocus,\n    options,\n    showLoadingStatus,\n    showValidStatus,\n    valid,\n    validationText,\n    ...rest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(SingleSelectField, _extends({}, rest, {\n    name: input.name,\n    error: hasError(meta, error),\n    valid: isValid(meta, valid, showValidStatus),\n    loading: isLoading(meta, loading, showLoadingStatus),\n    validationText: getValidationText(meta, validationText, error),\n    onFocus: createFocusHandler(input, onFocus),\n    onChange: createSelectChangeHandler(input),\n    onBlur: createBlurHandler(input, onBlur),\n    selected: input.value || ''\n  }), options.map(option => /*#__PURE__*/React.createElement(SingleSelectOption, _extends({\n    key: option.value\n  }, option))));\n};\nSingleSelectFieldFF.propTypes = {\n  /** `input` props received from Final Form `Field` */\n  input: inputPropType.isRequired,\n\n  /** `meta` props received from Final Form `Field` */\n  meta: metaPropType.isRequired,\n  options: PropTypes.arrayOf(PropTypes.shape({\n    label: PropTypes.string,\n    value: PropTypes.string\n  })).isRequired,\n  error: PropTypes.bool,\n  loading: PropTypes.bool,\n  showLoadingStatus: PropTypes.bool,\n  showValidStatus: PropTypes.bool,\n  valid: PropTypes.bool,\n  validationText: PropTypes.string,\n  onBlur: PropTypes.func,\n  onFocus: PropTypes.func\n};","const createBlurHandler = (input, onBlur) => (payload, event) => {\n  input.onBlur(event);\n\n  if (onBlur && typeof onBlur === 'function') {\n    onBlur(payload, event);\n  }\n};\n\nexport { createBlurHandler };","const createFocusHandler = (input, onFocus) => (payload, event) => {\n  input.onFocus(event);\n\n  if (onFocus && typeof onFocus === 'function') {\n    onFocus(payload, event);\n  }\n};\n\nexport { createFocusHandler };","const createToggleChangeHandler = (input, onChange) => (payload, event) => {\n  input.onChange(event);\n\n  if (onChange && typeof onChange === 'function') {\n    onChange(payload, event);\n  }\n};\n\nexport { createToggleChangeHandler };","import { hasError } from './hasError.js';\n\nconst getValidationText = (meta, validationText, error) => {\n  if (validationText) {\n    return validationText;\n  }\n\n  if (hasError(meta, error)) {\n    if (meta.error) {\n      return meta.error;\n    }\n\n    if (meta.submitError) {\n      return meta.submitError;\n    }\n  }\n\n  return '';\n};\n\nexport { getValidationText };","const hasError = (meta, error) => error || meta.touched && meta.invalid;\n\nexport { hasError };","const isLoading = (meta, loading, showLoadingStatus) => loading || showLoadingStatus && meta.validating;\n\nexport { isLoading };","const isValid = (meta, valid, showValidStatus) => valid || showValidStatus && meta.touched && meta.valid;\n\nexport { isValid };","import PropTypes from 'prop-types';\nconst toggleGroupOptionsProp = PropTypes.arrayOf(PropTypes.shape({\n  label: PropTypes.string.isRequired,\n  value: PropTypes.string.isRequired\n}));\nconst inputPropType = PropTypes.shape({\n  name: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n  value: PropTypes.any,\n  onBlur: PropTypes.func,\n  onFocus: PropTypes.func\n});\nconst inputArgType = {\n  table: {\n    type: {\n      summary: '{ name: string (required), onChange: func (required), value: any, onBlur: func, onFocus: func }'\n    }\n  }\n};\nconst metaPropType = PropTypes.shape({\n  error: PropTypes.string,\n  invalid: PropTypes.bool,\n  touched: PropTypes.bool,\n  valid: PropTypes.bool,\n  validating: PropTypes.bool\n});\nconst metaArgType = {\n  table: {\n    type: {\n      summary: '{ error: string, invalid: bool, touched: bool, valid: bool, validating: bool }'\n    }\n  }\n};\nexport { toggleGroupOptionsProp, inputPropType, inputArgType, metaPropType, metaArgType };","//------------------------------------------------------------------------------\n// <auto-generated>\n// This code was generated by d2-i18n-generate.\n//\n// Changes to this file may cause incorrect behavior and will be lost if\n// the code is regenerated.\n// </auto-generated>\n//------------------------------------------------------------------------------\nimport i18n from '@dhis2/d2-i18n';\nimport arTranslations from './ar/translations.json';\nimport ar_IQTranslations from './ar_IQ/translations.json';\nimport ckbTranslations from './ckb/translations.json';\nimport csTranslations from './cs/translations.json';\nimport daTranslations from './da/translations.json';\nimport enTranslations from './en/translations.json';\nimport esTranslations from './es/translations.json';\nimport es_419Translations from './es_419/translations.json';\nimport frTranslations from './fr/translations.json';\nimport idTranslations from './id/translations.json';\nimport kmTranslations from './km/translations.json';\nimport ko_KRTranslations from './ko_KR/translations.json';\nimport loTranslations from './lo/translations.json';\nimport myTranslations from './my/translations.json';\nimport nbTranslations from './nb/translations.json';\nimport nlTranslations from './nl/translations.json';\nimport prsTranslations from './prs/translations.json';\nimport psTranslations from './ps/translations.json';\nimport ptTranslations from './pt/translations.json';\nimport pt_BRTranslations from './pt_BR/translations.json';\nimport roTranslations from './ro/translations.json';\nimport ruTranslations from './ru/translations.json';\nimport siTranslations from './si/translations.json';\nimport svTranslations from './sv/translations.json';\nimport tetTranslations from './tet/translations.json';\nimport tgTranslations from './tg/translations.json';\nimport ukTranslations from './uk/translations.json';\nimport urTranslations from './ur/translations.json';\nimport uz_LatnTranslations from './uz_Latn/translations.json';\nimport uz_UZ_CyrlTranslations from './uz_UZ_Cyrl/translations.json';\nimport uz_UZ_LatnTranslations from './uz_UZ_Latn/translations.json';\nimport viTranslations from './vi/translations.json';\nimport zhTranslations from './zh/translations.json';\nimport zh_CNTranslations from './zh_CN/translations.json';\nconst namespace = 'default';\ni18n.addResources('ar', namespace, arTranslations);\ni18n.addResources('ar_IQ', namespace, ar_IQTranslations);\ni18n.addResources('ckb', namespace, ckbTranslations);\ni18n.addResources('cs', namespace, csTranslations);\ni18n.addResources('da', namespace, daTranslations);\ni18n.addResources('en', namespace, enTranslations);\ni18n.addResources('es', namespace, esTranslations);\ni18n.addResources('es_419', namespace, es_419Translations);\ni18n.addResources('fr', namespace, frTranslations);\ni18n.addResources('id', namespace, idTranslations);\ni18n.addResources('km', namespace, kmTranslations);\ni18n.addResources('ko_KR', namespace, ko_KRTranslations);\ni18n.addResources('lo', namespace, loTranslations);\ni18n.addResources('my', namespace, myTranslations);\ni18n.addResources('nb', namespace, nbTranslations);\ni18n.addResources('nl', namespace, nlTranslations);\ni18n.addResources('prs', namespace, prsTranslations);\ni18n.addResources('ps', namespace, psTranslations);\ni18n.addResources('pt', namespace, ptTranslations);\ni18n.addResources('pt_BR', namespace, pt_BRTranslations);\ni18n.addResources('ro', namespace, roTranslations);\ni18n.addResources('ru', namespace, ruTranslations);\ni18n.addResources('si', namespace, siTranslations);\ni18n.addResources('sv', namespace, svTranslations);\ni18n.addResources('tet', namespace, tetTranslations);\ni18n.addResources('tg', namespace, tgTranslations);\ni18n.addResources('uk', namespace, ukTranslations);\ni18n.addResources('ur', namespace, urTranslations);\ni18n.addResources('uz_Latn', namespace, uz_LatnTranslations);\ni18n.addResources('uz_UZ_Cyrl', namespace, uz_UZ_CyrlTranslations);\ni18n.addResources('uz_UZ_Latn', namespace, uz_UZ_LatnTranslations);\ni18n.addResources('vi', namespace, viTranslations);\ni18n.addResources('zh', namespace, zhTranslations);\ni18n.addResources('zh_CN', namespace, zh_CNTranslations);\nexport default i18n;","export const isEmpty = value => typeof value === 'undefined' || value === null || value === '';\nexport const isString = value => typeof value === 'string';\nexport const isNumber = value => typeof value === 'number';\nexport const isNumeric = value => (isString(value) || isNumber(value)) && !isNaN(value);\nexport const isInRange = (lowerBound, upperBound, value) => value >= lowerBound && value <= upperBound;\nexport const toNumber = value => Number(value);\nexport const requiredArgumentErrorMessage = 'Incorrect arguments provided when creating validator';\nexport const requireArgument = (value, type) => {\n  if (isEmpty(value) || typeof value !== type) {\n    throw new Error(requiredArgumentErrorMessage);\n  }\n};","import i18n from '../locales/index.js';\nimport { isEmpty } from './helpers/index.js';\nconst hasValueMessage = i18n.t('Please provide a value');\n\nconst hasValue = value => isEmpty(value) ? hasValueMessage : undefined;\n\nexport { hasValue, hasValueMessage };","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nfunction SvgApps16(_ref) {\n  let {\n    color,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    width: 16,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M4 12v2H2v-2zm5 0v2H7v-2zm5 0v2h-2v-2zM4 7v2H2V7zm5 0v2H7V7zm5 0v2h-2V7zM4 2v2H2V2zm5 0v2H7V2zm5 0v2h-2V2z\",\n    fill: \"currentColor\",\n    fillRule: \"evenodd\"\n  }));\n}\n\nSvgApps16.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default SvgApps16;","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nfunction SvgArrowRight16(_ref) {\n  let {\n    color,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    width: 16,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9.284 2.589l.07.057 5 5 .011.013a.503.503 0 01.033.039l-.044-.052A.502.502 0 0114.5 8v.02a.503.503 0 01-.005.052L14.5 8a.502.502 0 01-.089.284l-.013.018a.503.503 0 01-.033.04l-.011.012-5 5a.5.5 0 01-.765-.638l.057-.07L12.793 8.5H2a.5.5 0 01-.09-.992L2 7.5h10.793L8.646 3.354a.5.5 0 01-.057-.638l.057-.07a.5.5 0 01.638-.057z\",\n    fill: \"currentColor\"\n  }));\n}\n\nSvgArrowRight16.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default SvgArrowRight16;","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nfunction SvgCheckmarkCircle16(_ref) {\n  let {\n    color,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M14 8A6 6 0 112 8a6 6 0 0112 0zm1 0A7 7 0 111 8a7 7 0 0114 0zm-3.646-1.646a.5.5 0 00-.708-.708L7 9.293 5.354 7.646a.5.5 0 10-.708.708l2 2a.5.5 0 00.708 0l4-4z\",\n    fill: \"currentColor\"\n  }));\n}\n\nSvgCheckmarkCircle16.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default SvgCheckmarkCircle16;","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nfunction SvgChevronDown24(_ref) {\n  let {\n    color,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.293 15.707a1 1 0 001.414 0l5-5a1 1 0 00-1.414-1.414L12 13.586 7.707 9.293a1 1 0 00-1.414 1.414z\",\n    fill: \"currentColor\"\n  }));\n}\n\nSvgChevronDown24.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default SvgChevronDown24;","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nfunction SvgChevronLeft16(_ref) {\n  let {\n    color,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    width: 16,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9.146 4.146a.5.5 0 01.765.638l-.057.07L6.707 8l3.147 3.146a.5.5 0 01.057.638l-.057.07a.5.5 0 01-.638.057l-.07-.057-3.5-3.5a.5.5 0 01-.057-.638l.057-.07z\",\n    fill: \"currentColor\"\n  }));\n}\n\nSvgChevronLeft16.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default SvgChevronLeft16;","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nfunction SvgChevronRight16(_ref) {\n  let {\n    color,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    width: 16,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6.146 4.146a.5.5 0 01.638-.057l.07.057 3.5 3.5a.5.5 0 01.057.638l-.057.07-3.5 3.5a.5.5 0 01-.765-.638l.057-.07L9.293 8 6.146 4.854a.5.5 0 01-.057-.638z\",\n    fill: \"currentColor\"\n  }));\n}\n\nSvgChevronRight16.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default SvgChevronRight16;","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nfunction SvgChevronUp24(_ref) {\n  let {\n    color,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.293 8.293a1 1 0 011.32-.083l.094.083 5 5a1 1 0 01-1.32 1.497l-.094-.083L12 10.415l-4.293 4.292a1 1 0 01-1.32.083l-.094-.083a1 1 0 01-.083-1.32l.083-.094z\",\n    fill: \"currentColor\"\n  }));\n}\n\nSvgChevronUp24.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default SvgChevronUp24;","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nfunction SvgClock16(_ref) {\n  let {\n    color,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    width: 16,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8 1a7 7 0 110 14A7 7 0 018 1zm0 1a6 6 0 100 12A6 6 0 008 2zm.5 1.5v4.293l2.854 2.853-.708.708L7.5 8.207V3.5z\",\n    fill: \"currentColor\"\n  }));\n}\n\nSvgClock16.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default SvgClock16;","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nfunction SvgCopy16(_ref) {\n  let {\n    color,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    width: 16,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"currentColor\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M14 3a1 1 0 011 1v10a1 1 0 01-1 1H4a1 1 0 01-1-1V4a1 1 0 011-1zm0 1H4v10h10z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11 1v1H2v9H1V2a1 1 0 011-1z\"\n  })));\n}\n\nSvgCopy16.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default SvgCopy16;","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nfunction SvgDimensionDataSet16(_ref) {\n  let {\n    color,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    width: 16,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12 9l2 4v1H9v-1l2-4zM4.5 9a2.5 2.5 0 110 5 2.5 2.5 0 010-5zm7 1.236L10.118 13h2.763zM4.5 10a1.5 1.5 0 100 3 1.5 1.5 0 000-3zm7-8a2.5 2.5 0 110 5 2.5 2.5 0 010-5zM7 2v5H2V2zm4.5 1a1.5 1.5 0 100 3 1.5 1.5 0 000-3zM6 3H3v3h3z\",\n    fill: \"currentColor\"\n  }));\n}\n\nSvgDimensionDataSet16.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default SvgDimensionDataSet16;","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nfunction SvgError16(_ref) {\n  let {\n    color,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    width: 16,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8 1a7 7 0 110 14A7 7 0 018 1zm0 1a6 6 0 100 12A6 6 0 008 2zm0 8a1 1 0 110 2 1 1 0 010-2zm.5-6v5h-1V4z\",\n    fill: \"currentColor\"\n  }));\n}\n\nSvgError16.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default SvgError16;","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nfunction SvgInfo16(_ref) {\n  let {\n    color,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    width: 16,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8 1a7 7 0 110 14A7 7 0 018 1zm0 1a6 6 0 100 12A6 6 0 008 2zm.5 5v4H10v1H6v-1h1.5V7zM8 4a.75.75 0 110 1.5A.75.75 0 018 4z\",\n    fill: \"currentColor\"\n  }));\n}\n\nSvgInfo16.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default SvgInfo16;","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nfunction SvgLaunch16(_ref) {\n  let {\n    color,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    width: 16,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7 2v1H3v10h10V9h1v4a1 1 0 01-1 1H3a1 1 0 01-1-1V3a1 1 0 011-1zm7.5-1a.5.5 0 01.492.41L15 1.5v5a.5.5 0 01-.992.09L14 6.5V2.706L7.354 9.354a.5.5 0 01-.765-.638l.057-.07L13.292 2H9.5a.5.5 0 01-.492-.41L9 1.5a.5.5 0 01.41-.492L9.5 1z\",\n    fill: \"currentColor\"\n  }));\n}\n\nSvgLaunch16.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default SvgLaunch16;","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nfunction SvgTable16(_ref) {\n  let {\n    color,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    width: 16,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M14 1a1 1 0 011 1v12a1 1 0 01-1 1H2a1 1 0 01-1-1V2a1 1 0 011-1zm-6.5 9H2v4h5.5zm6.5 0H8.5v4H14zM2 5v4h5.5V5zm12-3H2v2h12zM8.5 9H14V5H8.5z\",\n    fill: \"currentColor\"\n  }));\n}\n\nSvgTable16.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default SvgTable16;","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nfunction SvgTable24(_ref) {\n  let {\n    color,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19 3a2 2 0 012 2v14a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2zM5 15v4h6v-4zm14 0h-6v4h6zm0-6h-6v4h6zm0-4H5v2h14zM5 13h6V9H5z\",\n    fill: \"currentColor\"\n  }));\n}\n\nSvgTable24.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default SvgTable24;","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nfunction SvgVisualizationArea16(_ref) {\n  let {\n    color,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    width: 16,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M1 0v15h15v1H0V0zm1 3l4 5 4-2 5 5v3H2z\",\n    fill: \"currentColor\",\n    fillRule: \"evenodd\"\n  }));\n}\n\nSvgVisualizationArea16.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default SvgVisualizationArea16;","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nfunction SvgVisualizationArea24(_ref) {\n  let {\n    color,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M4 2v18h18v2H2V2h2zm2 2l5 7 5-4 6 7v4H6V4z\"\n  }));\n}\n\nSvgVisualizationArea24.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default SvgVisualizationArea24;","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nfunction SvgVisualizationAreaStacked16(_ref) {\n  let {\n    color,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    width: 16,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h1v15h15v1H0z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M15 9v5H2v-3l4-2 4 3zm-5-6l5 2v2l-5 3-4-3-4 2V3l4 2z\"\n  })));\n}\n\nSvgVisualizationAreaStacked16.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default SvgVisualizationAreaStacked16;","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nfunction SvgVisualizationAreaStacked24(_ref) {\n  let {\n    color,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M4 2v18h18v2H2V2h2zm18 10v6H6v-4l5-2 5 4 6-4zM6 3l5 3 5-2 6 4v2l-6 4-5-4-5 2V3z\"\n  }));\n}\n\nSvgVisualizationAreaStacked24.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default SvgVisualizationAreaStacked24;","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nfunction SvgVisualizationBar16(_ref) {\n  let {\n    color,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    width: 16,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M1 5h10v3H1v2h13v3H1v2h15v1H0V0h6v3H1z\",\n    fill: \"currentColor\",\n    fillRule: \"evenodd\"\n  }));\n}\n\nSvgVisualizationBar16.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default SvgVisualizationBar16;","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nfunction SvgVisualizationBar24(_ref) {\n  let {\n    color,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M4 2v18h18v2H2V2h2zm16 13v3H6v-3h14zm-4-5v3H6v-3h10zm-4-5v3H6V5h6z\"\n  }));\n}\n\nSvgVisualizationBar24.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default SvgVisualizationBar24;","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nfunction SvgVisualizationBarStacked16(_ref) {\n  let {\n    color,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    width: 16,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h1v15h15v1H0z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7 10v3H1v-3zm7 0v3H8v-3zM4 5v3H1V5zm7 0v3H5V5zM5 0v3H1V0zm4 0v3H6V0z\"\n  })));\n}\n\nSvgVisualizationBarStacked16.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default SvgVisualizationBarStacked16;","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nfunction SvgVisualizationBarStacked24(_ref) {\n  let {\n    color,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M4 2v18h18v2H2V2h2zm16 13v3h-9v-3h9zm-10 0v3H6v-3h4zm7-5v3h-3v-3h3zm-4 0v3H6v-3h7zm5-5v3h-7V5h7zm-8 0v3H6V5h4z\"\n  }));\n}\n\nSvgVisualizationBarStacked24.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default SvgVisualizationBarStacked24;","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nfunction SvgVisualizationColumn16(_ref) {\n  let {\n    color,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    width: 16,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h1v15h15v1H0z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M16 8v7h-3V8zm-5-6v13H8V2zM6 4v11H3V4z\"\n  })));\n}\n\nSvgVisualizationColumn16.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default SvgVisualizationColumn16;","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nfunction SvgVisualizationColumn24(_ref) {\n  let {\n    color,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M4 2v18h18v2H2V2h2zm5 5v11H6V7h3zm5-4v15h-3V3h3zm5 8v7h-3v-7h3z\"\n  }));\n}\n\nSvgVisualizationColumn24.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default SvgVisualizationColumn24;","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nfunction SvgVisualizationColumnMulti16(_ref) {\n  let {\n    color,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    width: 16,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h1v15h15v1H0z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M4 11v4H2v-4zm3-2v6H5V9zm6-7v13h-2V2zm3 4v9h-2V6z\"\n  })));\n}\n\nSvgVisualizationColumnMulti16.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default SvgVisualizationColumnMulti16;","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nfunction SvgVisualizationColumnMulti24(_ref) {\n  let {\n    color,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M4 2v18h18v2H2V2h2zm4 10v6H6v-6h2zm3-4v10H9V8h2zm11 2v8h-2v-8h2zm-3-6v14h-2V4h2z\"\n  }));\n}\n\nSvgVisualizationColumnMulti24.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default SvgVisualizationColumnMulti24;","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nfunction SvgVisualizationColumnStacked16(_ref) {\n  let {\n    color,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    width: 16,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h1v15h15v1H0z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6 13v2H3v-2zm5-4v6H8V9zm5-1v7h-3V8zM6 7v5H3V7zm5-6v7H8V1zm5 3v3h-3V4z\"\n  })));\n}\n\nSvgVisualizationColumnStacked16.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default SvgVisualizationColumnStacked16;","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nfunction SvgVisualizationColumnStacked24(_ref) {\n  let {\n    color,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M4 2v18h18v2H2V2h2zm5 12v4H6v-4h3zm5-5v9h-3V9h3zm5 6v3h-3v-3h3zm0-10v9h-3V5h3zM9 10v3H6v-3h3zm5-6v4h-3V4h3z\"\n  }));\n}\n\nSvgVisualizationColumnStacked24.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default SvgVisualizationColumnStacked24;","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nfunction SvgVisualizationGauge16(_ref) {\n  let {\n    color,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    width: 16,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"currentColor\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8 4a8 8 0 018 8h-1a7 7 0 00-14 0H0l.004-.25A8 8 0 018 4z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8 6v3a3 3 0 00-3 3H2a6 6 0 016-6z\"\n  })));\n}\n\nSvgVisualizationGauge16.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default SvgVisualizationGauge16;","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nfunction SvgVisualizationGauge24(_ref) {\n  let {\n    color,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M12 5c6.525 0 11.834 5.209 11.996 11.695L24 17h-2c0-5.523-4.477-10-10-10-5.43 0-9.848 4.327-9.996 9.72L2 17H0C0 10.373 5.373 5 12 5zm0 3a8.97 8.97 0 014.053.963l.309.163-1.941 3.498a5 5 0 00-7.416 4.16L7 17H3a9 9 0 019-9z\"\n  }));\n}\n\nSvgVisualizationGauge24.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default SvgVisualizationGauge24;","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nfunction SvgVisualizationLine16(_ref) {\n  let {\n    color,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    width: 16,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h1v15h15v1H0z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M2.643 3.614l2.595 4.325 2.936-1.957 3 3.999 2.41-1.605.832 1.248-3.59 2.394-3-4-3.064 2.042-3.405-5.674z\",\n    fillRule: \"nonzero\"\n  })));\n}\n\nSvgVisualizationLine16.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default SvgVisualizationLine16;","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nfunction SvgVisualizationLine24(_ref) {\n  let {\n    color,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M4 2v18h18v2H2V2h2zm2.92 3.606l2.498 5.831 3.757-2.819 4 5.001L20.4 11.2l1.2 1.6-4.775 3.582-4-5.001-4.243 3.182-3.501-8.17 1.838-.787z\"\n  }));\n}\n\nSvgVisualizationLine24.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default SvgVisualizationLine24;","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nfunction SvgVisualizationLineMulti16(_ref) {\n  let {\n    color,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    width: 16,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h1v15h15v1H0z\"\n  }), /*#__PURE__*/React.createElement(\"g\", {\n    fillRule: \"nonzero\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M2.685 2.695l3.398 7.646L9.896 3.67l4.69 5.861-1.172.938-3.31-4.139-4.188 7.328L1.315 3.305z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M13.329 4.665l1.342.67-4.578 9.156-4.21-6.314L2.53 11.53l-1.06-1.06 4.647-4.647 3.79 5.685z\"\n  }))));\n}\n\nSvgVisualizationLineMulti16.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default SvgVisualizationLineMulti16;","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nfunction SvgVisualizationLineMulti24(_ref) {\n  let {\n    color,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M4 2v18h18v2H2V2h2zm2.91 1.586L8.898 7.96l2.313-2.774 1.94 3.882 2.743-4.936 2.968 4.155 1.228-2.7 1.82.828-1.706 3.752 1.61 2.253-1.628 1.162-.938-1.313-3.205 7.054-2.985-5.968-2.147 3.866-2.516-5.533-1.627 1.953-1.536-1.28 2.244-2.695L5.09 4.414l1.82-.828zm9.196 4.282l-1.871 3.367 1.722 3.442 1.949-4.289-1.8-2.52zm-5.317.947l-.972 1.166 1.272 2.798.885-1.593-1.185-2.371z\"\n  }));\n}\n\nSvgVisualizationLineMulti24.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default SvgVisualizationLineMulti24;","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nfunction SvgVisualizationLinelist16(_ref) {\n  let {\n    color,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M5 2v2H2V2h3zM2 5h3v4H2V5zm0 5v4h3v-4H2zm4 0v4h3v-4H6zm4 0v4h3v-4h-3zm3-1h-3V5h3v4zm1 0V1H1v14h13V9zM9 9H6V5h3v4zm4-7v2h-3V2h3zM6 4h3V2H6v2z\",\n    fill: \"currentColor\"\n  }));\n}\n\nSvgVisualizationLinelist16.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default SvgVisualizationLinelist16;","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nfunction SvgVisualizationLinelist24(_ref) {\n  let {\n    color,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M13 4h7v2h-7V4zm-2 2V4H4v2h7zM4 8h7v5H4V8zm9 5V8h7v5h-7zM2 6V2h20v20H2V6zm2 9v5h7v-5H4zm9 0v5h7v-5h-7z\",\n    fill: \"currentColor\"\n  }));\n}\n\nSvgVisualizationLinelist24.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default SvgVisualizationLinelist24;","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nfunction SvgVisualizationPie16(_ref) {\n  let {\n    color,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    width: 16,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7.586 9l5.32 5.32A8.001 8.001 0 01.062 9zM9 .062a8.001 8.001 0 015.32 12.844L9 7.585zm-2 0V7H.062A8.004 8.004 0 017 .062z\",\n    fill: \"currentColor\",\n    fillRule: \"evenodd\"\n  }));\n}\n\nSvgVisualizationPie16.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default SvgVisualizationPie16;","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nfunction SvgVisualizationPie24(_ref) {\n  let {\n    color,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M13 2.05c5.053.501 9 4.765 9 9.95 0 5.523-4.477 10-10 10-5.185 0-9.449-3.947-9.95-9h9.535l6.708 6.707 1.414-1.414L13 11.585zm-2 0V11H2.05A10.003 10.003 0 0111 2.05z\"\n  }));\n}\n\nSvgVisualizationPie24.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default SvgVisualizationPie24;","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nfunction SvgVisualizationRadar16(_ref) {\n  let {\n    color,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    width: 16,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8 1a7 7 0 110 14A7 7 0 018 1zm0 1a6 6 0 100 12A6 6 0 008 2zm0 3a3 3 0 110 6 3 3 0 010-6zm0 1a2 2 0 100 4 2 2 0 000-4z\",\n    fillRule: \"nonzero\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M4 10a2 2 0 110 4 2 2 0 010-4zM8 0a2 2 0 110 4 2 2 0 010-4z\"\n  })));\n}\n\nSvgVisualizationRadar16.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default SvgVisualizationRadar16;","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nfunction SvgVisualizationRadar24(_ref) {\n  let {\n    color,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M12 1a3 3 0 012.958 2.498A9.002 9.002 0 118.12 20.123a3 3 0 01-4.242-4.243A9.004 9.004 0 019.04 3.498 3.002 3.002 0 0112 1zm2.6 4.498l-.067.11a2.999 2.999 0 01-5.132-.11 7.002 7.002 0 00-3.719 9.52l.142-.013L6 15a3 3 0 012.983 3.318A7 7 0 1014.6 5.498zM12 8a4 4 0 110 8 4 4 0 010-8zm0 2a2 2 0 100 4 2 2 0 000-4z\"\n  }));\n}\n\nSvgVisualizationRadar24.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default SvgVisualizationRadar24;","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nfunction SvgVisualizationScatter16(_ref) {\n  let {\n    color,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    width: 16,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M1 0v15h15v1H0V0zm5 11a1 1 0 110 2 1 1 0 010-2zm7-2a1 1 0 110 2 1 1 0 010-2zM3 8a1 1 0 110 2 1 1 0 010-2zm3 0a1 1 0 110 2 1 1 0 010-2zm4-4a1 1 0 110 2 1 1 0 010-2zM6 4a1 1 0 110 2 1 1 0 010-2zm7-2a1 1 0 110 2 1 1 0 010-2z\",\n    fill: \"currentColor\",\n    fillRule: \"evenodd\"\n  }));\n}\n\nSvgVisualizationScatter16.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default SvgVisualizationScatter16;","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nfunction SvgVisualizationScatter24(_ref) {\n  let {\n    color,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M4 2v18h18v2H2V2h2zm8.5 13a1.5 1.5 0 110 3 1.5 1.5 0 010-3zm6-2a1.5 1.5 0 110 3 1.5 1.5 0 010-3zm-11-3a1.5 1.5 0 110 3 1.5 1.5 0 010-3zm5 0a1.5 1.5 0 110 3 1.5 1.5 0 010-3zm6-4a1.5 1.5 0 110 3 1.5 1.5 0 010-3zm-6-3a1.5 1.5 0 110 3 1.5 1.5 0 010-3z\"\n  }));\n}\n\nSvgVisualizationScatter24.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default SvgVisualizationScatter24;","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nfunction SvgVisualizationSingleValue16(_ref) {\n  let {\n    color,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    width: 16,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M3.612 11V4.602h-.066L.76 5.608V6.67l1.617-.58V11zm6.392 0v-.98H7.196L8.4 8.746c.208-.214.397-.419.567-.613.17-.195.316-.386.437-.574s.216-.377.281-.569c.066-.192.1-.393.1-.604a2.12 2.12 0 00-.132-.763c-.088-.23-.217-.427-.385-.59S8.89 4.74 8.64 4.65a2.526 2.526 0 00-.864-.136c-.34 0-.65.055-.93.164s-.518.26-.716.45a2.015 2.015 0 00-.622 1.473h1.227c0-.337.082-.599.248-.787.165-.187.417-.28.754-.28.126 0 .24.02.344.06a.747.747 0 01.442.462 1.102 1.102 0 01.016.681 1.57 1.57 0 01-.15.332c-.069.119-.159.25-.27.393a7.755 7.755 0 01-.409.48l-2.07 2.223V11zm2.977.088c.317 0 .612-.042.886-.125s.51-.205.71-.365c.199-.16.356-.357.47-.591.114-.235.171-.501.171-.8 0-.17-.02-.331-.061-.483s-.104-.293-.19-.42a1.419 1.419 0 00-.322-.34c-.13-.1-.285-.182-.464-.247.152-.073.287-.16.404-.261s.216-.212.295-.332c.079-.12.139-.247.18-.38.041-.133.061-.269.061-.407 0-.298-.052-.561-.156-.788a1.577 1.577 0 00-.437-.572 1.898 1.898 0 00-.677-.347 3.072 3.072 0 00-.87-.116c-.293 0-.566.042-.82.127a2.067 2.067 0 00-.66.358c-.188.154-.335.338-.442.552s-.16.451-.16.712h1.221a.698.698 0 01.261-.556c.081-.066.175-.117.282-.152s.222-.053.345-.053c.15 0 .28.02.393.062.113.041.206.099.28.174s.127.164.164.268c.036.104.055.219.055.345 0 .272-.08.493-.242.661s-.409.253-.743.253h-.663v.949h.663c.167 0 .318.019.45.057a.927.927 0 01.344.176c.095.079.167.18.217.303s.075.271.075.444c0 .281-.088.504-.264.668-.176.164-.419.246-.73.246-.14 0-.269-.021-.386-.064-.117-.042-.219-.1-.305-.176a.784.784 0 01-.27-.608h-1.222c0 .31.06.58.182.808.122.229.283.419.486.57.202.15.432.263.692.338.259.075.525.112.797.112z\",\n    fill: \"currentColor\"\n  }));\n}\n\nSvgVisualizationSingleValue16.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default SvgVisualizationSingleValue16;","import PropTypes from 'prop-types';\nimport * as React from 'react';\n\nfunction SvgVisualizationSingleValue24(_ref) {\n  let {\n    color,\n    dataTest\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M5.447 16V6.745H5.25L1.422 8.116v1.492l2.19-.68V16h1.835zm9.237 0v-1.479H10.71l2.102-2.215c.575-.63.981-1.183 1.218-1.657s.356-.94.356-1.397c0-.833-.264-1.479-.79-1.936-.527-.457-1.267-.685-2.219-.685-.622 0-1.179.132-1.67.397-.49.264-.87.63-1.139 1.095a3.03 3.03 0 00-.403 1.542h1.84c0-.465.12-.841.36-1.127.239-.285.566-.428.98-.428.385 0 .682.117.889.352.207.235.311.558.311.968 0 .3-.098.618-.295.952-.197.335-.5.726-.911 1.175l-2.99 3.186V16h6.335zm4.544.127c.986 0 1.778-.248 2.377-.743.599-.495.898-1.153.898-1.974 0-.508-.128-.948-.384-1.32-.256-.373-.644-.652-1.165-.838.42-.19.758-.463 1.016-.819.258-.355.387-.745.387-1.168 0-.82-.277-1.465-.832-1.933-.554-.467-1.32-.701-2.297-.701-.563 0-1.078.108-1.546.324a2.601 2.601 0 00-1.092.898c-.26.383-.39.815-.39 1.298h1.834c0-.309.119-.56.356-.752.237-.193.53-.29.882-.29.39 0 .695.105.917.312.222.207.334.497.334.87 0 .385-.113.694-.337.926-.224.233-.57.35-1.035.35h-.977V12h.971c1.016 0 1.524.461 1.524 1.384 0 .38-.124.686-.372.917-.247.23-.59.346-1.025.346-.38 0-.701-.11-.962-.33-.26-.22-.39-.504-.39-.85h-1.835c0 .8.294 1.442.88 1.929.586.487 1.34.73 2.263.73z\"\n  }));\n}\n\nSvgVisualizationSingleValue24.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string\n};\nexport default SvgVisualizationSingleValue24;","////////////////////////////////////////////////////////////////////////////////\n//#region Types and Constants\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * Actions represent the type of change to a location value.\n */\nexport enum Action {\n  /**\n   * A POP indicates a change to an arbitrary index in the history stack, such\n   * as a back or forward navigation. It does not describe the direction of the\n   * navigation, only that the current index changed.\n   *\n   * Note: This is the default action for newly created history objects.\n   */\n  Pop = \"POP\",\n\n  /**\n   * A PUSH indicates a new entry being added to the history stack, such as when\n   * a link is clicked and a new page loads. When this happens, all subsequent\n   * entries in the stack are lost.\n   */\n  Push = \"PUSH\",\n\n  /**\n   * A REPLACE indicates the entry at the current index in the history stack\n   * being replaced by a new one.\n   */\n  Replace = \"REPLACE\",\n}\n\n/**\n * The pathname, search, and hash values of a URL.\n */\nexport interface Path {\n  /**\n   * A URL pathname, beginning with a /.\n   */\n  pathname: string;\n\n  /**\n   * A URL search string, beginning with a ?.\n   */\n  search: string;\n\n  /**\n   * A URL fragment identifier, beginning with a #.\n   */\n  hash: string;\n}\n\n/**\n * An entry in a history stack. A location contains information about the\n * URL path, as well as possibly some arbitrary state and a key.\n */\nexport interface Location extends Path {\n  /**\n   * A value of arbitrary data associated with this location.\n   */\n  state: any;\n\n  /**\n   * A unique string associated with this location. May be used to safely store\n   * and retrieve data in some other storage API, like `localStorage`.\n   *\n   * Note: This value is always \"default\" on the initial location.\n   */\n  key: string;\n}\n\n/**\n * A change to the current location.\n */\nexport interface Update {\n  /**\n   * The action that triggered the change.\n   */\n  action: Action;\n\n  /**\n   * The new location.\n   */\n  location: Location;\n}\n\n/**\n * A function that receives notifications about location changes.\n */\nexport interface Listener {\n  (update: Update): void;\n}\n\n/**\n * Describes a location that is the destination of some navigation, either via\n * `history.push` or `history.replace`. May be either a URL or the pieces of a\n * URL path.\n */\nexport type To = string | Partial<Path>;\n\n/**\n * A history is an interface to the navigation stack. The history serves as the\n * source of truth for the current location, as well as provides a set of\n * methods that may be used to change it.\n *\n * It is similar to the DOM's `window.history` object, but with a smaller, more\n * focused API.\n */\nexport interface History {\n  /**\n   * The last action that modified the current location. This will always be\n   * Action.Pop when a history instance is first created. This value is mutable.\n   */\n  readonly action: Action;\n\n  /**\n   * The current location. This value is mutable.\n   */\n  readonly location: Location;\n\n  /**\n   * Returns a valid href for the given `to` value that may be used as\n   * the value of an <a href> attribute.\n   *\n   * @param to - The destination URL\n   */\n  createHref(to: To): string;\n\n  /**\n   * Pushes a new location onto the history stack, increasing its length by one.\n   * If there were any entries in the stack after the current one, they are\n   * lost.\n   *\n   * @param to - The new URL\n   * @param state - Data to associate with the new location\n   */\n  push(to: To, state?: any): void;\n\n  /**\n   * Replaces the current location in the history stack with a new one.  The\n   * location that was replaced will no longer be available.\n   *\n   * @param to - The new URL\n   * @param state - Data to associate with the new location\n   */\n  replace(to: To, state?: any): void;\n\n  /**\n   * Navigates `n` entries backward/forward in the history stack relative to the\n   * current index. For example, a \"back\" navigation would use go(-1).\n   *\n   * @param delta - The delta in the stack index\n   */\n  go(delta: number): void;\n\n  /**\n   * Sets up a listener that will be called whenever the current location\n   * changes.\n   *\n   * @param listener - A function that will be called when the location changes\n   * @returns unlisten - A function that may be used to stop listening\n   */\n  listen(listener: Listener): () => void;\n}\n\ntype HistoryState = {\n  usr: any;\n  key?: string;\n};\n\nconst PopStateEventType = \"popstate\";\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Memory History\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * A user-supplied object that describes a location. Used when providing\n * entries to `createMemoryHistory` via its `initialEntries` option.\n */\nexport type InitialEntry = string | Partial<Location>;\n\nexport type MemoryHistoryOptions = {\n  initialEntries?: InitialEntry[];\n  initialIndex?: number;\n  v5Compat?: boolean;\n};\n\n/**\n * A memory history stores locations in memory. This is useful in stateful\n * environments where there is no web browser, such as node tests or React\n * Native.\n */\nexport interface MemoryHistory extends History {\n  /**\n   * The current index in the history stack.\n   */\n  readonly index: number;\n}\n\n/**\n * Memory history stores the current location in memory. It is designed for use\n * in stateful non-browser environments like tests and React Native.\n */\nexport function createMemoryHistory(\n  options: MemoryHistoryOptions = {}\n): MemoryHistory {\n  let { initialEntries = [\"/\"], initialIndex, v5Compat = false } = options;\n  let entries: Location[]; // Declare so we can access from createMemoryLocation\n  entries = initialEntries.map((entry, index) =>\n    createMemoryLocation(\n      entry,\n      typeof entry === \"string\" ? null : entry.state,\n      index === 0 ? \"default\" : undefined\n    )\n  );\n  let index = clampIndex(\n    initialIndex == null ? entries.length - 1 : initialIndex\n  );\n  let action = Action.Pop;\n  let listener: Listener | null = null;\n\n  function clampIndex(n: number): number {\n    return Math.min(Math.max(n, 0), entries.length - 1);\n  }\n  function getCurrentLocation(): Location {\n    return entries[index];\n  }\n  function createMemoryLocation(\n    to: To,\n    state: any = null,\n    key?: string\n  ): Location {\n    let location = createLocation(\n      entries ? getCurrentLocation().pathname : \"/\",\n      to,\n      state,\n      key\n    );\n    warning(\n      location.pathname.charAt(0) === \"/\",\n      `relative pathnames are not supported in memory history: ${JSON.stringify(\n        to\n      )}`\n    );\n    return location;\n  }\n\n  let history: MemoryHistory = {\n    get index() {\n      return index;\n    },\n    get action() {\n      return action;\n    },\n    get location() {\n      return getCurrentLocation();\n    },\n    createHref(to) {\n      return typeof to === \"string\" ? to : createPath(to);\n    },\n    push(to, state) {\n      action = Action.Push;\n      let nextLocation = createMemoryLocation(to, state);\n      index += 1;\n      entries.splice(index, entries.length, nextLocation);\n      if (v5Compat && listener) {\n        listener({ action, location: nextLocation });\n      }\n    },\n    replace(to, state) {\n      action = Action.Replace;\n      let nextLocation = createMemoryLocation(to, state);\n      entries[index] = nextLocation;\n      if (v5Compat && listener) {\n        listener({ action, location: nextLocation });\n      }\n    },\n    go(delta) {\n      action = Action.Pop;\n      index = clampIndex(index + delta);\n      if (listener) {\n        listener({ action, location: getCurrentLocation() });\n      }\n    },\n    listen(fn: Listener) {\n      listener = fn;\n      return () => {\n        listener = null;\n      };\n    },\n  };\n\n  return history;\n}\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Browser History\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * A browser history stores the current location in regular URLs in a web\n * browser environment. This is the standard for most web apps and provides the\n * cleanest URLs the browser's address bar.\n *\n * @see https://github.com/remix-run/history/tree/main/docs/api-reference.md#browserhistory\n */\nexport interface BrowserHistory extends UrlHistory {}\n\nexport type BrowserHistoryOptions = UrlHistoryOptions;\n\n/**\n * Browser history stores the location in regular URLs. This is the standard for\n * most web apps, but it requires some configuration on the server to ensure you\n * serve the same app at multiple URLs.\n *\n * @see https://github.com/remix-run/history/tree/main/docs/api-reference.md#createbrowserhistory\n */\nexport function createBrowserHistory(\n  options: BrowserHistoryOptions = {}\n): BrowserHistory {\n  function createBrowserLocation(\n    window: Window,\n    globalHistory: Window[\"history\"]\n  ) {\n    let { pathname, search, hash } = window.location;\n    return createLocation(\n      \"\",\n      { pathname, search, hash },\n      // state defaults to `null` because `window.history.state` does\n      (globalHistory.state && globalHistory.state.usr) || null,\n      (globalHistory.state && globalHistory.state.key) || \"default\"\n    );\n  }\n\n  function createBrowserHref(window: Window, to: To) {\n    return typeof to === \"string\" ? to : createPath(to);\n  }\n\n  return getUrlBasedHistory(\n    createBrowserLocation,\n    createBrowserHref,\n    null,\n    options\n  );\n}\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Hash History\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * A hash history stores the current location in the fragment identifier portion\n * of the URL in a web browser environment.\n *\n * This is ideal for apps that do not control the server for some reason\n * (because the fragment identifier is never sent to the server), including some\n * shared hosting environments that do not provide fine-grained controls over\n * which pages are served at which URLs.\n *\n * @see https://github.com/remix-run/history/tree/main/docs/api-reference.md#hashhistory\n */\nexport interface HashHistory extends UrlHistory {}\n\nexport type HashHistoryOptions = UrlHistoryOptions;\n\n/**\n * Hash history stores the location in window.location.hash. This makes it ideal\n * for situations where you don't want to send the location to the server for\n * some reason, either because you do cannot configure it or the URL space is\n * reserved for something else.\n *\n * @see https://github.com/remix-run/history/tree/main/docs/api-reference.md#createhashhistory\n */\nexport function createHashHistory(\n  options: HashHistoryOptions = {}\n): HashHistory {\n  function createHashLocation(\n    window: Window,\n    globalHistory: Window[\"history\"]\n  ) {\n    let {\n      pathname = \"/\",\n      search = \"\",\n      hash = \"\",\n    } = parsePath(window.location.hash.substr(1));\n    return createLocation(\n      \"\",\n      { pathname, search, hash },\n      // state defaults to `null` because `window.history.state` does\n      (globalHistory.state && globalHistory.state.usr) || null,\n      (globalHistory.state && globalHistory.state.key) || \"default\"\n    );\n  }\n\n  function createHashHref(window: Window, to: To) {\n    let base = window.document.querySelector(\"base\");\n    let href = \"\";\n\n    if (base && base.getAttribute(\"href\")) {\n      let url = window.location.href;\n      let hashIndex = url.indexOf(\"#\");\n      href = hashIndex === -1 ? url : url.slice(0, hashIndex);\n    }\n\n    return href + \"#\" + (typeof to === \"string\" ? to : createPath(to));\n  }\n\n  function validateHashLocation(location: Location, to: To) {\n    warning(\n      location.pathname.charAt(0) === \"/\",\n      `relative pathnames are not supported in hash history.push(${JSON.stringify(\n        to\n      )})`\n    );\n  }\n\n  return getUrlBasedHistory(\n    createHashLocation,\n    createHashHref,\n    validateHashLocation,\n    options\n  );\n}\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region UTILS\n////////////////////////////////////////////////////////////////////////////////\n\nfunction warning(cond: any, message: string) {\n  if (!cond) {\n    // eslint-disable-next-line no-console\n    if (typeof console !== \"undefined\") console.warn(message);\n\n    try {\n      // Welcome to debugging history!\n      //\n      // This error is thrown as a convenience so you can more easily\n      // find the source for a warning that appears in the console by\n      // enabling \"pause on exceptions\" in your JavaScript debugger.\n      throw new Error(message);\n      // eslint-disable-next-line no-empty\n    } catch (e) {}\n  }\n}\n\nfunction createKey() {\n  return Math.random().toString(36).substr(2, 8);\n}\n\n/**\n * For browser-based histories, we combine the state and key into an object\n */\nfunction getHistoryState(location: Location): HistoryState {\n  return {\n    usr: location.state,\n    key: location.key,\n  };\n}\n\n/**\n * Creates a Location object with a unique key from the given Path\n */\nexport function createLocation(\n  current: string | Location,\n  to: To,\n  state: any = null,\n  key?: string\n): Readonly<Location> {\n  let location: Readonly<Location> = {\n    pathname: typeof current === \"string\" ? current : current.pathname,\n    search: \"\",\n    hash: \"\",\n    ...(typeof to === \"string\" ? parsePath(to) : to),\n    state,\n    // TODO: This could be cleaned up.  push/replace should probably just take\n    // full Locations now and avoid the need to run through this flow at all\n    // But that's a pretty big refactor to the current test suite so going to\n    // keep as is for the time being and just let any incoming keys take precedence\n    key: (to && (to as Location).key) || key || createKey(),\n  };\n  return location;\n}\n\n/**\n * Creates a string URL path from the given pathname, search, and hash components.\n */\nexport function createPath({\n  pathname = \"/\",\n  search = \"\",\n  hash = \"\",\n}: Partial<Path>) {\n  if (search && search !== \"?\")\n    pathname += search.charAt(0) === \"?\" ? search : \"?\" + search;\n  if (hash && hash !== \"#\")\n    pathname += hash.charAt(0) === \"#\" ? hash : \"#\" + hash;\n  return pathname;\n}\n\n/**\n * Parses a string URL path into its separate pathname, search, and hash components.\n */\nexport function parsePath(path: string): Partial<Path> {\n  let parsedPath: Partial<Path> = {};\n\n  if (path) {\n    let hashIndex = path.indexOf(\"#\");\n    if (hashIndex >= 0) {\n      parsedPath.hash = path.substr(hashIndex);\n      path = path.substr(0, hashIndex);\n    }\n\n    let searchIndex = path.indexOf(\"?\");\n    if (searchIndex >= 0) {\n      parsedPath.search = path.substr(searchIndex);\n      path = path.substr(0, searchIndex);\n    }\n\n    if (path) {\n      parsedPath.pathname = path;\n    }\n  }\n\n  return parsedPath;\n}\n\nexport interface UrlHistory extends History {}\n\nexport type UrlHistoryOptions = {\n  window?: Window;\n  v5Compat?: boolean;\n};\n\nfunction getUrlBasedHistory(\n  getLocation: (window: Window, globalHistory: Window[\"history\"]) => Location,\n  createHref: (window: Window, to: To) => string,\n  validateLocation: ((location: Location, to: To) => void) | null,\n  options: UrlHistoryOptions = {}\n): UrlHistory {\n  let { window = document.defaultView!, v5Compat = false } = options;\n  let globalHistory = window.history;\n  let action = Action.Pop;\n  let listener: Listener | null = null;\n\n  function handlePop() {\n    action = Action.Pop;\n    if (listener) {\n      listener({ action, location: history.location });\n    }\n  }\n\n  function push(to: To, state?: any) {\n    action = Action.Push;\n    let location = createLocation(history.location, to, state);\n    if (validateLocation) validateLocation(location, to);\n\n    let historyState = getHistoryState(location);\n    let url = history.createHref(location);\n\n    // try...catch because iOS limits us to 100 pushState calls :/\n    try {\n      globalHistory.pushState(historyState, \"\", url);\n    } catch (error) {\n      // They are going to lose state here, but there is no real\n      // way to warn them about it since the page will refresh...\n      window.location.assign(url);\n    }\n\n    if (v5Compat && listener) {\n      listener({ action, location });\n    }\n  }\n\n  function replace(to: To, state?: any) {\n    action = Action.Replace;\n    let location = createLocation(history.location, to, state);\n    if (validateLocation) validateLocation(location, to);\n\n    let historyState = getHistoryState(location);\n    let url = history.createHref(location);\n    globalHistory.replaceState(historyState, \"\", url);\n\n    if (v5Compat && listener) {\n      listener({ action, location: location });\n    }\n  }\n\n  let history: History = {\n    get action() {\n      return action;\n    },\n    get location() {\n      return getLocation(window, globalHistory);\n    },\n    listen(fn: Listener) {\n      if (listener) {\n        throw new Error(\"A history only accepts one active listener\");\n      }\n      window.addEventListener(PopStateEventType, handlePop);\n      listener = fn;\n\n      return () => {\n        window.removeEventListener(PopStateEventType, handlePop);\n        listener = null;\n      };\n    },\n    createHref(to) {\n      return createHref(window, to);\n    },\n    push,\n    replace,\n    go(n) {\n      return globalHistory.go(n);\n    },\n  };\n\n  return history;\n}\n\n//#endregion\n","import type { Location, Path, To } from \"./history\";\nimport { parsePath } from \"./history\";\n\n/**\n * Map of routeId -> data returned from a loader/action/error\n */\nexport interface RouteData {\n  [routeId: string]: any;\n}\n\nexport enum ResultType {\n  data = \"data\",\n  deferred = \"deferred\",\n  redirect = \"redirect\",\n  error = \"error\",\n}\n\n/**\n * Successful result from a loader or action\n */\nexport interface SuccessResult {\n  type: ResultType.data;\n  data: any;\n  statusCode?: number;\n  headers?: Headers;\n}\n\n/**\n * Successful defer() result from a loader or action\n */\nexport interface DeferredResult {\n  type: ResultType.deferred;\n  deferredData: DeferredData;\n}\n\n/**\n * Redirect result from a loader or action\n */\nexport interface RedirectResult {\n  type: ResultType.redirect;\n  status: number;\n  location: string;\n  revalidate: boolean;\n}\n\n/**\n * Unsuccessful result from a loader or action\n */\nexport interface ErrorResult {\n  type: ResultType.error;\n  error: any;\n  headers?: Headers;\n}\n\n/**\n * Result from a loader or action - potentially successful or unsuccessful\n */\nexport type DataResult =\n  | SuccessResult\n  | DeferredResult\n  | RedirectResult\n  | ErrorResult;\n\nexport type FormMethod = \"get\" | \"post\" | \"put\" | \"patch\" | \"delete\";\nexport type FormEncType =\n  | \"application/x-www-form-urlencoded\"\n  | \"multipart/form-data\";\n\n/**\n * @private\n * Internal interface to pass around for action submissions, not intended for\n * external consumption\n */\nexport interface Submission {\n  formMethod: Exclude<FormMethod, \"get\">;\n  formAction: string;\n  formEncType: FormEncType;\n  formData: FormData;\n}\n\n/**\n * @private\n * Arguments passed to route loader/action functions.  Same for now but we keep\n * this as a private implementation detail in case they diverge in the future.\n */\ninterface DataFunctionArgs {\n  request: Request;\n  params: Params;\n}\n\n/**\n * Arguments passed to loader functions\n */\nexport interface LoaderFunctionArgs extends DataFunctionArgs {}\n\n/**\n * Arguments passed to action functions\n */\nexport interface ActionFunctionArgs extends DataFunctionArgs {}\n\n/**\n * Route loader function signature\n */\nexport interface LoaderFunction {\n  (args: LoaderFunctionArgs): Promise<Response> | Response | Promise<any> | any;\n}\n\n/**\n * Route action function signature\n */\nexport interface ActionFunction {\n  (args: ActionFunctionArgs): Promise<Response> | Response | Promise<any> | any;\n}\n\n/**\n * Route shouldRevalidate function signature.  This runs after any submission\n * (navigation or fetcher), so we flatten the navigation/fetcher submission\n * onto the arguments.  It shouldn't matter whether it came from a navigation\n * or a fetcher, what really matters is the URLs and the formData since loaders\n * have to re-run based on the data models that were potentially mutated.\n */\nexport interface ShouldRevalidateFunction {\n  (args: {\n    currentUrl: URL;\n    currentParams: AgnosticDataRouteMatch[\"params\"];\n    nextUrl: URL;\n    nextParams: AgnosticDataRouteMatch[\"params\"];\n    formMethod?: Submission[\"formMethod\"];\n    formAction?: Submission[\"formAction\"];\n    formEncType?: Submission[\"formEncType\"];\n    formData?: Submission[\"formData\"];\n    actionResult?: DataResult;\n    defaultShouldRevalidate: boolean;\n  }): boolean;\n}\n\n/**\n * A route object represents a logical route, with (optionally) its child\n * routes organized in a tree-like structure.\n */\nexport interface AgnosticRouteObject {\n  caseSensitive?: boolean;\n  children?: AgnosticRouteObject[];\n  index?: boolean;\n  path?: string;\n  id?: string;\n  loader?: LoaderFunction;\n  action?: ActionFunction;\n  hasErrorBoundary?: boolean;\n  shouldRevalidate?: ShouldRevalidateFunction;\n  handle?: any;\n}\n\n/**\n * A data route object, which is just a RouteObject with a required unique ID\n */\nexport interface AgnosticDataRouteObject extends AgnosticRouteObject {\n  children?: AgnosticDataRouteObject[];\n  id: string;\n}\n\n// Recursive helper for finding path parameters in the absence of wildcards\ntype _PathParam<Path extends string> =\n  // split path into individual path segments\n  Path extends `${infer L}/${infer R}`\n    ? _PathParam<L> | _PathParam<R>\n    : // find params after `:`\n    Path extends `${string}:${infer Param}`\n    ? Param\n    : // otherwise, there aren't any params present\n      never;\n\n/**\n * Examples:\n * \"/a/b/*\" -> \"*\"\n * \":a\" -> \"a\"\n * \"/a/:b\" -> \"b\"\n * \"/a/blahblahblah:b\" -> \"b\"\n * \"/:a/:b\" -> \"a\" | \"b\"\n * \"/:a/b/:c/*\" -> \"a\" | \"c\" | \"*\"\n */\ntype PathParam<Path extends string> =\n  // check if path is just a wildcard\n  Path extends \"*\"\n    ? \"*\"\n    : // look for wildcard at the end of the path\n    Path extends `${infer Rest}/*`\n    ? \"*\" | _PathParam<Rest>\n    : // look for params in the absence of wildcards\n      _PathParam<Path>;\n\n// Attempt to parse the given string segment. If it fails, then just return the\n// plain string type as a default fallback. Otherwise return the union of the\n// parsed string literals that were referenced as dynamic segments in the route.\nexport type ParamParseKey<Segment extends string> =\n  // if could not find path params, fallback to `string`\n  [PathParam<Segment>] extends [never] ? string : PathParam<Segment>;\n\n/**\n * The parameters that were parsed from the URL path.\n */\nexport type Params<Key extends string = string> = {\n  readonly [key in Key]: string | undefined;\n};\n\n/**\n * A RouteMatch contains info about how a route matched a URL.\n */\nexport interface AgnosticRouteMatch<\n  ParamKey extends string = string,\n  RouteObjectType extends AgnosticRouteObject = AgnosticRouteObject\n> {\n  /**\n   * The names and values of dynamic parameters in the URL.\n   */\n  params: Params<ParamKey>;\n  /**\n   * The portion of the URL pathname that was matched.\n   */\n  pathname: string;\n  /**\n   * The portion of the URL pathname that was matched before child routes.\n   */\n  pathnameBase: string;\n  /**\n   * The route object that was used to match.\n   */\n  route: RouteObjectType;\n}\n\nexport interface AgnosticDataRouteMatch\n  extends AgnosticRouteMatch<string, AgnosticDataRouteObject> {}\n\n// Walk the route tree generating unique IDs where necessary so we are working\n// solely with AgnosticDataRouteObject's within the Router\nexport function convertRoutesToDataRoutes(\n  routes: AgnosticRouteObject[],\n  parentPath: number[] = [],\n  allIds: Set<string> = new Set<string>()\n): AgnosticDataRouteObject[] {\n  return routes.map((route, index) => {\n    let treePath = [...parentPath, index];\n    let id = typeof route.id === \"string\" ? route.id : treePath.join(\"-\");\n    invariant(\n      !allIds.has(id),\n      `Found a route id collision on id \"${id}\".  Route ` +\n        \"id's must be globally unique within Data Router usages\"\n    );\n    allIds.add(id);\n    let dataRoute: AgnosticDataRouteObject = {\n      ...route,\n      id,\n      children: route.children\n        ? convertRoutesToDataRoutes(route.children, treePath, allIds)\n        : undefined,\n    };\n    return dataRoute;\n  });\n}\n\n/**\n * Matches the given routes to a location and returns the match data.\n *\n * @see https://reactrouter.com/docs/en/v6/utils/match-routes\n */\nexport function matchRoutes<\n  RouteObjectType extends AgnosticRouteObject = AgnosticRouteObject\n>(\n  routes: RouteObjectType[],\n  locationArg: Partial<Location> | string,\n  basename = \"/\"\n): AgnosticRouteMatch<string, RouteObjectType>[] | null {\n  let location =\n    typeof locationArg === \"string\" ? parsePath(locationArg) : locationArg;\n\n  let pathname = stripBasename(location.pathname || \"/\", basename);\n\n  if (pathname == null) {\n    return null;\n  }\n\n  let branches = flattenRoutes(routes);\n  rankRouteBranches(branches);\n\n  let matches = null;\n  for (let i = 0; matches == null && i < branches.length; ++i) {\n    matches = matchRouteBranch<string, RouteObjectType>(branches[i], pathname);\n  }\n\n  return matches;\n}\n\ninterface RouteMeta<\n  RouteObjectType extends AgnosticRouteObject = AgnosticRouteObject\n> {\n  relativePath: string;\n  caseSensitive: boolean;\n  childrenIndex: number;\n  route: RouteObjectType;\n}\n\ninterface RouteBranch<\n  RouteObjectType extends AgnosticRouteObject = AgnosticRouteObject\n> {\n  path: string;\n  score: number;\n  routesMeta: RouteMeta<RouteObjectType>[];\n}\n\nfunction flattenRoutes<\n  RouteObjectType extends AgnosticRouteObject = AgnosticRouteObject\n>(\n  routes: RouteObjectType[],\n  branches: RouteBranch<RouteObjectType>[] = [],\n  parentsMeta: RouteMeta<RouteObjectType>[] = [],\n  parentPath = \"\"\n): RouteBranch<RouteObjectType>[] {\n  routes.forEach((route, index) => {\n    let meta: RouteMeta<RouteObjectType> = {\n      relativePath: route.path || \"\",\n      caseSensitive: route.caseSensitive === true,\n      childrenIndex: index,\n      route,\n    };\n\n    if (meta.relativePath.startsWith(\"/\")) {\n      invariant(\n        meta.relativePath.startsWith(parentPath),\n        `Absolute route path \"${meta.relativePath}\" nested under path ` +\n          `\"${parentPath}\" is not valid. An absolute child route path ` +\n          `must start with the combined path of all its parent routes.`\n      );\n\n      meta.relativePath = meta.relativePath.slice(parentPath.length);\n    }\n\n    let path = joinPaths([parentPath, meta.relativePath]);\n    let routesMeta = parentsMeta.concat(meta);\n\n    // Add the children before adding this route to the array so we traverse the\n    // route tree depth-first and child routes appear before their parents in\n    // the \"flattened\" version.\n    if (route.children && route.children.length > 0) {\n      invariant(\n        route.index !== true,\n        `Index routes must not have child routes. Please remove ` +\n          `all child routes from route path \"${path}\".`\n      );\n\n      flattenRoutes(route.children, branches, routesMeta, path);\n    }\n\n    // Routes without a path shouldn't ever match by themselves unless they are\n    // index routes, so don't add them to the list of possible branches.\n    if (route.path == null && !route.index) {\n      return;\n    }\n\n    branches.push({ path, score: computeScore(path, route.index), routesMeta });\n  });\n\n  return branches;\n}\n\nfunction rankRouteBranches(branches: RouteBranch[]): void {\n  branches.sort((a, b) =>\n    a.score !== b.score\n      ? b.score - a.score // Higher score first\n      : compareIndexes(\n          a.routesMeta.map((meta) => meta.childrenIndex),\n          b.routesMeta.map((meta) => meta.childrenIndex)\n        )\n  );\n}\n\nconst paramRe = /^:\\w+$/;\nconst dynamicSegmentValue = 3;\nconst indexRouteValue = 2;\nconst emptySegmentValue = 1;\nconst staticSegmentValue = 10;\nconst splatPenalty = -2;\nconst isSplat = (s: string) => s === \"*\";\n\nfunction computeScore(path: string, index: boolean | undefined): number {\n  let segments = path.split(\"/\");\n  let initialScore = segments.length;\n  if (segments.some(isSplat)) {\n    initialScore += splatPenalty;\n  }\n\n  if (index) {\n    initialScore += indexRouteValue;\n  }\n\n  return segments\n    .filter((s) => !isSplat(s))\n    .reduce(\n      (score, segment) =>\n        score +\n        (paramRe.test(segment)\n          ? dynamicSegmentValue\n          : segment === \"\"\n          ? emptySegmentValue\n          : staticSegmentValue),\n      initialScore\n    );\n}\n\nfunction compareIndexes(a: number[], b: number[]): number {\n  let siblings =\n    a.length === b.length && a.slice(0, -1).every((n, i) => n === b[i]);\n\n  return siblings\n    ? // If two routes are siblings, we should try to match the earlier sibling\n      // first. This allows people to have fine-grained control over the matching\n      // behavior by simply putting routes with identical paths in the order they\n      // want them tried.\n      a[a.length - 1] - b[b.length - 1]\n    : // Otherwise, it doesn't really make sense to rank non-siblings by index,\n      // so they sort equally.\n      0;\n}\n\nfunction matchRouteBranch<\n  ParamKey extends string = string,\n  RouteObjectType extends AgnosticRouteObject = AgnosticRouteObject\n>(\n  branch: RouteBranch<RouteObjectType>,\n  pathname: string\n): AgnosticRouteMatch<ParamKey, RouteObjectType>[] | null {\n  let { routesMeta } = branch;\n\n  let matchedParams = {};\n  let matchedPathname = \"/\";\n  let matches: AgnosticRouteMatch<ParamKey, RouteObjectType>[] = [];\n  for (let i = 0; i < routesMeta.length; ++i) {\n    let meta = routesMeta[i];\n    let end = i === routesMeta.length - 1;\n    let remainingPathname =\n      matchedPathname === \"/\"\n        ? pathname\n        : pathname.slice(matchedPathname.length) || \"/\";\n    let match = matchPath(\n      { path: meta.relativePath, caseSensitive: meta.caseSensitive, end },\n      remainingPathname\n    );\n\n    if (!match) return null;\n\n    Object.assign(matchedParams, match.params);\n\n    let route = meta.route;\n\n    matches.push({\n      // TODO: Can this as be avoided?\n      params: matchedParams as Params<ParamKey>,\n      pathname: joinPaths([matchedPathname, match.pathname]),\n      pathnameBase: normalizePathname(\n        joinPaths([matchedPathname, match.pathnameBase])\n      ),\n      route,\n    });\n\n    if (match.pathnameBase !== \"/\") {\n      matchedPathname = joinPaths([matchedPathname, match.pathnameBase]);\n    }\n  }\n\n  return matches;\n}\n\n/**\n * Returns a path with params interpolated.\n *\n * @see https://reactrouter.com/docs/en/v6/utils/generate-path\n */\nexport function generatePath<Path extends string>(\n  path: Path,\n  params: {\n    [key in PathParam<Path>]: string;\n  } = {} as any\n): string {\n  return path\n    .replace(/:(\\w+)/g, (_, key: PathParam<Path>) => {\n      invariant(params[key] != null, `Missing \":${key}\" param`);\n      return params[key]!;\n    })\n    .replace(/(\\/?)\\*/, (_, prefix, __, str) => {\n      const star = \"*\" as PathParam<Path>;\n\n      if (params[star] == null) {\n        // If no splat was provided, trim the trailing slash _unless_ it's\n        // the entire path\n        return str === \"/*\" ? \"/\" : \"\";\n      }\n\n      // Apply the splat\n      return `${prefix}${params[star]}`;\n    });\n}\n\n/**\n * A PathPattern is used to match on some portion of a URL pathname.\n */\nexport interface PathPattern<Path extends string = string> {\n  /**\n   * A string to match against a URL pathname. May contain `:id`-style segments\n   * to indicate placeholders for dynamic parameters. May also end with `/*` to\n   * indicate matching the rest of the URL pathname.\n   */\n  path: Path;\n  /**\n   * Should be `true` if the static portions of the `path` should be matched in\n   * the same case.\n   */\n  caseSensitive?: boolean;\n  /**\n   * Should be `true` if this pattern should match the entire URL pathname.\n   */\n  end?: boolean;\n}\n\n/**\n * A PathMatch contains info about how a PathPattern matched on a URL pathname.\n */\nexport interface PathMatch<ParamKey extends string = string> {\n  /**\n   * The names and values of dynamic parameters in the URL.\n   */\n  params: Params<ParamKey>;\n  /**\n   * The portion of the URL pathname that was matched.\n   */\n  pathname: string;\n  /**\n   * The portion of the URL pathname that was matched before child routes.\n   */\n  pathnameBase: string;\n  /**\n   * The pattern that was used to match.\n   */\n  pattern: PathPattern;\n}\n\ntype Mutable<T> = {\n  -readonly [P in keyof T]: T[P];\n};\n\n/**\n * Performs pattern matching on a URL pathname and returns information about\n * the match.\n *\n * @see https://reactrouter.com/docs/en/v6/utils/match-path\n */\nexport function matchPath<\n  ParamKey extends ParamParseKey<Path>,\n  Path extends string\n>(\n  pattern: PathPattern<Path> | Path,\n  pathname: string\n): PathMatch<ParamKey> | null {\n  if (typeof pattern === \"string\") {\n    pattern = { path: pattern, caseSensitive: false, end: true };\n  }\n\n  let [matcher, paramNames] = compilePath(\n    pattern.path,\n    pattern.caseSensitive,\n    pattern.end\n  );\n\n  let match = pathname.match(matcher);\n  if (!match) return null;\n\n  let matchedPathname = match[0];\n  let pathnameBase = matchedPathname.replace(/(.)\\/+$/, \"$1\");\n  let captureGroups = match.slice(1);\n  let params: Params = paramNames.reduce<Mutable<Params>>(\n    (memo, paramName, index) => {\n      // We need to compute the pathnameBase here using the raw splat value\n      // instead of using params[\"*\"] later because it will be decoded then\n      if (paramName === \"*\") {\n        let splatValue = captureGroups[index] || \"\";\n        pathnameBase = matchedPathname\n          .slice(0, matchedPathname.length - splatValue.length)\n          .replace(/(.)\\/+$/, \"$1\");\n      }\n\n      memo[paramName] = safelyDecodeURIComponent(\n        captureGroups[index] || \"\",\n        paramName\n      );\n      return memo;\n    },\n    {}\n  );\n\n  return {\n    params,\n    pathname: matchedPathname,\n    pathnameBase,\n    pattern,\n  };\n}\n\nfunction compilePath(\n  path: string,\n  caseSensitive = false,\n  end = true\n): [RegExp, string[]] {\n  warning(\n    path === \"*\" || !path.endsWith(\"*\") || path.endsWith(\"/*\"),\n    `Route path \"${path}\" will be treated as if it were ` +\n      `\"${path.replace(/\\*$/, \"/*\")}\" because the \\`*\\` character must ` +\n      `always follow a \\`/\\` in the pattern. To get rid of this warning, ` +\n      `please change the route path to \"${path.replace(/\\*$/, \"/*\")}\".`\n  );\n\n  let paramNames: string[] = [];\n  let regexpSource =\n    \"^\" +\n    path\n      .replace(/\\/*\\*?$/, \"\") // Ignore trailing / and /*, we'll handle it below\n      .replace(/^\\/*/, \"/\") // Make sure it has a leading /\n      .replace(/[\\\\.*+^$?{}|()[\\]]/g, \"\\\\$&\") // Escape special regex chars\n      .replace(/:(\\w+)/g, (_: string, paramName: string) => {\n        paramNames.push(paramName);\n        return \"([^\\\\/]+)\";\n      });\n\n  if (path.endsWith(\"*\")) {\n    paramNames.push(\"*\");\n    regexpSource +=\n      path === \"*\" || path === \"/*\"\n        ? \"(.*)$\" // Already matched the initial /, just match the rest\n        : \"(?:\\\\/(.+)|\\\\/*)$\"; // Don't include the / in params[\"*\"]\n  } else {\n    regexpSource += end\n      ? \"\\\\/*$\" // When matching to the end, ignore trailing slashes\n      : // Otherwise, match a word boundary or a proceeding /. The word boundary restricts\n        // parent routes to matching only their own words and nothing more, e.g. parent\n        // route \"/home\" should not match \"/home2\".\n        // Additionally, allow paths starting with `.`, `-`, `~`, and url-encoded entities,\n        // but do not consume the character in the matched path so they can match against\n        // nested paths.\n        \"(?:(?=[@.~-]|%[0-9A-F]{2})|\\\\b|\\\\/|$)\";\n  }\n\n  let matcher = new RegExp(regexpSource, caseSensitive ? undefined : \"i\");\n\n  return [matcher, paramNames];\n}\n\nfunction safelyDecodeURIComponent(value: string, paramName: string) {\n  try {\n    return decodeURIComponent(value);\n  } catch (error) {\n    warning(\n      false,\n      `The value for the URL param \"${paramName}\" will not be decoded because` +\n        ` the string \"${value}\" is a malformed URL segment. This is probably` +\n        ` due to a bad percent encoding (${error}).`\n    );\n\n    return value;\n  }\n}\n\n/**\n * @private\n */\nexport function stripBasename(\n  pathname: string,\n  basename: string\n): string | null {\n  if (basename === \"/\") return pathname;\n\n  if (!pathname.toLowerCase().startsWith(basename.toLowerCase())) {\n    return null;\n  }\n\n  // We want to leave trailing slash behavior in the user's control, so if they\n  // specify a basename with a trailing slash, we should support it\n  let startIndex = basename.endsWith(\"/\")\n    ? basename.length - 1\n    : basename.length;\n  let nextChar = pathname.charAt(startIndex);\n  if (nextChar && nextChar !== \"/\") {\n    // pathname does not start with basename/\n    return null;\n  }\n\n  return pathname.slice(startIndex) || \"/\";\n}\n\n/**\n * @private\n */\nexport function invariant(value: boolean, message?: string): asserts value;\nexport function invariant<T>(\n  value: T | null | undefined,\n  message?: string\n): asserts value is T;\nexport function invariant(value: any, message?: string) {\n  if (value === false || value === null || typeof value === \"undefined\") {\n    throw new Error(message);\n  }\n}\n\n/**\n * @private\n */\nexport function warning(cond: any, message: string): void {\n  if (!cond) {\n    // eslint-disable-next-line no-console\n    if (typeof console !== \"undefined\") console.warn(message);\n\n    try {\n      // Welcome to debugging React Router!\n      //\n      // This error is thrown as a convenience so you can more easily\n      // find the source for a warning that appears in the console by\n      // enabling \"pause on exceptions\" in your JavaScript debugger.\n      throw new Error(message);\n      // eslint-disable-next-line no-empty\n    } catch (e) {}\n  }\n}\n\n/**\n * Returns a resolved path object relative to the given pathname.\n *\n * @see https://reactrouter.com/docs/en/v6/utils/resolve-path\n */\nexport function resolvePath(to: To, fromPathname = \"/\"): Path {\n  let {\n    pathname: toPathname,\n    search = \"\",\n    hash = \"\",\n  } = typeof to === \"string\" ? parsePath(to) : to;\n\n  let pathname = toPathname\n    ? toPathname.startsWith(\"/\")\n      ? toPathname\n      : resolvePathname(toPathname, fromPathname)\n    : fromPathname;\n\n  return {\n    pathname,\n    search: normalizeSearch(search),\n    hash: normalizeHash(hash),\n  };\n}\n\nfunction resolvePathname(relativePath: string, fromPathname: string): string {\n  let segments = fromPathname.replace(/\\/+$/, \"\").split(\"/\");\n  let relativeSegments = relativePath.split(\"/\");\n\n  relativeSegments.forEach((segment) => {\n    if (segment === \"..\") {\n      // Keep the root \"\" segment so the pathname starts at /\n      if (segments.length > 1) segments.pop();\n    } else if (segment !== \".\") {\n      segments.push(segment);\n    }\n  });\n\n  return segments.length > 1 ? segments.join(\"/\") : \"/\";\n}\n\n/**\n * @private\n */\nexport function resolveTo(\n  toArg: To,\n  routePathnames: string[],\n  locationPathname: string,\n  isPathRelative = false\n): Path {\n  let to = typeof toArg === \"string\" ? parsePath(toArg) : { ...toArg };\n  let isEmptyPath = toArg === \"\" || to.pathname === \"\";\n  let toPathname = isEmptyPath ? \"/\" : to.pathname;\n\n  let from: string;\n\n  // Routing is relative to the current pathname if explicitly requested.\n  //\n  // If a pathname is explicitly provided in `to`, it should be relative to the\n  // route context. This is explained in `Note on `<Link to>` values` in our\n  // migration guide from v5 as a means of disambiguation between `to` values\n  // that begin with `/` and those that do not. However, this is problematic for\n  // `to` values that do not provide a pathname. `to` can simply be a search or\n  // hash string, in which case we should assume that the navigation is relative\n  // to the current location's pathname and *not* the route pathname.\n  if (isPathRelative || toPathname == null) {\n    from = locationPathname;\n  } else {\n    let routePathnameIndex = routePathnames.length - 1;\n\n    if (toPathname.startsWith(\"..\")) {\n      let toSegments = toPathname.split(\"/\");\n\n      // Each leading .. segment means \"go up one route\" instead of \"go up one\n      // URL segment\".  This is a key difference from how <a href> works and a\n      // major reason we call this a \"to\" value instead of a \"href\".\n      while (toSegments[0] === \"..\") {\n        toSegments.shift();\n        routePathnameIndex -= 1;\n      }\n\n      to.pathname = toSegments.join(\"/\");\n    }\n\n    // If there are more \"..\" segments than parent routes, resolve relative to\n    // the root / URL.\n    from = routePathnameIndex >= 0 ? routePathnames[routePathnameIndex] : \"/\";\n  }\n\n  let path = resolvePath(to, from);\n\n  // Ensure the pathname has a trailing slash if the original \"to\" had one\n  let hasExplicitTrailingSlash =\n    toPathname && toPathname !== \"/\" && toPathname.endsWith(\"/\");\n  // Or if this was a link to the current path which has a trailing slash\n  let hasCurrentTrailingSlash =\n    (isEmptyPath || toPathname === \".\") && locationPathname.endsWith(\"/\");\n  if (\n    !path.pathname.endsWith(\"/\") &&\n    (hasExplicitTrailingSlash || hasCurrentTrailingSlash)\n  ) {\n    path.pathname += \"/\";\n  }\n\n  return path;\n}\n\n/**\n * @private\n */\nexport function getToPathname(to: To): string | undefined {\n  // Empty strings should be treated the same as / paths\n  return to === \"\" || (to as Path).pathname === \"\"\n    ? \"/\"\n    : typeof to === \"string\"\n    ? parsePath(to).pathname\n    : to.pathname;\n}\n\n/**\n * @private\n */\nexport const joinPaths = (paths: string[]): string =>\n  paths.join(\"/\").replace(/\\/\\/+/g, \"/\");\n\n/**\n * @private\n */\nexport const normalizePathname = (pathname: string): string =>\n  pathname.replace(/\\/+$/, \"\").replace(/^\\/*/, \"/\");\n\n/**\n * @private\n */\nexport const normalizeSearch = (search: string): string =>\n  !search || search === \"?\"\n    ? \"\"\n    : search.startsWith(\"?\")\n    ? search\n    : \"?\" + search;\n\n/**\n * @private\n */\nexport const normalizeHash = (hash: string): string =>\n  !hash || hash === \"#\" ? \"\" : hash.startsWith(\"#\") ? hash : \"#\" + hash;\n\nexport type JsonFunction = <Data>(\n  data: Data,\n  init?: number | ResponseInit\n) => Response;\n\n/**\n * This is a shortcut for creating `application/json` responses. Converts `data`\n * to JSON and sets the `Content-Type` header.\n */\nexport const json: JsonFunction = (data, init = {}) => {\n  let responseInit = typeof init === \"number\" ? { status: init } : init;\n\n  let headers = new Headers(responseInit.headers);\n  if (!headers.has(\"Content-Type\")) {\n    headers.set(\"Content-Type\", \"application/json; charset=utf-8\");\n  }\n\n  return new Response(JSON.stringify(data), {\n    ...responseInit,\n    headers,\n  });\n};\n\nexport interface TrackedPromise extends Promise<any> {\n  _tracked?: boolean;\n  _data?: any;\n  _error?: any;\n}\n\nexport class AbortedDeferredError extends Error {}\n\nexport class DeferredData {\n  private pendingKeys: Set<string | number> = new Set<string | number>();\n  private controller: AbortController;\n  private abortPromise: Promise<void>;\n  private unlistenAbortSignal: () => void;\n  private subscriber?: (aborted: boolean) => void = undefined;\n  data: Record<string, unknown>;\n\n  constructor(data: Record<string, unknown>) {\n    invariant(\n      data && typeof data === \"object\" && !Array.isArray(data),\n      \"defer() only accepts plain objects\"\n    );\n\n    // Set up an AbortController + Promise we can race against to exit early\n    // cancellation\n    let reject: (e: AbortedDeferredError) => void;\n    this.abortPromise = new Promise((_, r) => (reject = r));\n    this.controller = new AbortController();\n    let onAbort = () =>\n      reject(new AbortedDeferredError(\"Deferred data aborted\"));\n    this.unlistenAbortSignal = () =>\n      this.controller.signal.removeEventListener(\"abort\", onAbort);\n    this.controller.signal.addEventListener(\"abort\", onAbort);\n\n    this.data = Object.entries(data).reduce(\n      (acc, [key, value]) =>\n        Object.assign(acc, {\n          [key]: this.trackPromise(key, value),\n        }),\n      {}\n    );\n  }\n\n  private trackPromise(\n    key: string | number,\n    value: Promise<unknown> | unknown\n  ): TrackedPromise | unknown {\n    if (!(value instanceof Promise)) {\n      return value;\n    }\n\n    this.pendingKeys.add(key);\n\n    // We store a little wrapper promise that will be extended with\n    // _data/_error props upon resolve/reject\n    let promise: TrackedPromise = Promise.race([value, this.abortPromise]).then(\n      (data) => this.onSettle(promise, key, null, data as unknown),\n      (error) => this.onSettle(promise, key, error as unknown)\n    );\n\n    // Register rejection listeners to avoid uncaught promise rejections on\n    // errors or aborted deferred values\n    promise.catch(() => {});\n\n    Object.defineProperty(promise, \"_tracked\", { get: () => true });\n    return promise;\n  }\n\n  private onSettle(\n    promise: TrackedPromise,\n    key: string | number,\n    error: unknown,\n    data?: unknown\n  ): unknown {\n    if (\n      this.controller.signal.aborted &&\n      error instanceof AbortedDeferredError\n    ) {\n      this.unlistenAbortSignal();\n      Object.defineProperty(promise, \"_error\", { get: () => error });\n      return Promise.reject(error);\n    }\n\n    this.pendingKeys.delete(key);\n\n    if (this.done) {\n      // Nothing left to abort!\n      this.unlistenAbortSignal();\n    }\n\n    const subscriber = this.subscriber;\n    if (error) {\n      Object.defineProperty(promise, \"_error\", { get: () => error });\n      subscriber && subscriber(false);\n      return Promise.reject(error);\n    }\n\n    Object.defineProperty(promise, \"_data\", { get: () => data });\n    subscriber && subscriber(false);\n    return data;\n  }\n\n  subscribe(fn: (aborted: boolean) => void) {\n    this.subscriber = fn;\n  }\n\n  cancel() {\n    this.controller.abort();\n    this.pendingKeys.forEach((v, k) => this.pendingKeys.delete(k));\n    let subscriber = this.subscriber;\n    subscriber && subscriber(true);\n  }\n\n  async resolveData(signal: AbortSignal) {\n    let aborted = false;\n    if (!this.done) {\n      let onAbort = () => this.cancel();\n      signal.addEventListener(\"abort\", onAbort);\n      aborted = await new Promise((resolve) => {\n        this.subscribe((aborted) => {\n          signal.removeEventListener(\"abort\", onAbort);\n          if (aborted || this.done) {\n            resolve(aborted);\n          }\n        });\n      });\n    }\n    return aborted;\n  }\n\n  get done() {\n    return this.pendingKeys.size === 0;\n  }\n\n  get unwrappedData() {\n    invariant(\n      this.data !== null && this.done,\n      \"Can only unwrap data on initialized and settled deferreds\"\n    );\n\n    return Object.entries(this.data).reduce(\n      (acc, [key, value]) =>\n        Object.assign(acc, {\n          [key]: unwrapTrackedPromise(value),\n        }),\n      {}\n    );\n  }\n}\n\nfunction isTrackedPromise(value: any): value is TrackedPromise {\n  return (\n    value instanceof Promise && (value as TrackedPromise)._tracked === true\n  );\n}\n\nfunction unwrapTrackedPromise(value: any) {\n  if (!isTrackedPromise(value)) {\n    return value;\n  }\n\n  if (value._error) {\n    throw value._error;\n  }\n  return value._data;\n}\n\nexport function defer(data: Record<string, unknown>) {\n  return new DeferredData(data);\n}\n\nexport type RedirectFunction = (\n  url: string,\n  init?: number | ResponseInit\n) => Response;\n\n/**\n * A redirect response. Sets the status code and the `Location` header.\n * Defaults to \"302 Found\".\n */\nexport const redirect: RedirectFunction = (url, init = 302) => {\n  let responseInit = init;\n  if (typeof responseInit === \"number\") {\n    responseInit = { status: responseInit };\n  } else if (typeof responseInit.status === \"undefined\") {\n    responseInit.status = 302;\n  }\n\n  let headers = new Headers(responseInit.headers);\n  headers.set(\"Location\", url);\n\n  return new Response(null, {\n    ...responseInit,\n    headers,\n  });\n};\n\n/**\n * @private\n * Utility class we use to hold auto-unwrapped 4xx/5xx Response bodies\n */\nexport class ErrorResponse {\n  status: number;\n  statusText: string;\n  data: any;\n\n  constructor(status: number, statusText: string | undefined, data: any) {\n    this.status = status;\n    this.statusText = statusText || \"\";\n    this.data = data;\n  }\n}\n\n/**\n * Check if the given error is an ErrorResponse generated from a 4xx/5xx\n * Response throw from an action/loader\n */\nexport function isRouteErrorResponse(e: any): e is ErrorResponse {\n  return e instanceof ErrorResponse;\n}\n","/**\n * Check if the value is an Array\n *\n * @param param Value to be checked\n * @returns {boolean} Returns true when the `param` is an Array\n *\n * @example\n * isArray([]); // Returns: true\n * isArray({}); // Returns: false\n * isArray('Hello'); // Returns: false\n */\nexport default Array.isArray;\n","import isArray from './isArray';\nimport isMap from 'lodash.ismap';\nimport isSet from 'lodash.isset';\n\n/**\n * Check if a value is concidered _empty_. An _empty_ value is an empty `Set`, `Map` or `Array`.\n * Depending on if the `allowEmptyString` flag, empty strings are also considered _empty_\n *\n * @param {*} param Value to check\n * @param {boolean} allowEmptyString When set to true an empty string will not be considered _empty_.\n * @returns {boolean} Returns `true` when the value is _empty_, otherwise false\n *\n * @example\n * isEmpty(''); // Returns: true\n * isEmpty('', true); // Returns: false\n * isEmpty(null); // Returns: true\n * isEmpty(new Map()); // Returns: true\n */\nexport default function isEmpty(param, allowEmptyString) {\n    return (param == null) ||\n        (!allowEmptyString ? param === '' : false) ||\n        (isArray(param) && param.length === 0) ||\n        ((isMap(param) || isSet(param)) && param.size === 0);\n}\n","import isEmpty from './isEmpty';\n\n/**\n * Applies properties from \"config\" if they are undefined in \"object.\n *\n * @param {Object} object The object to be cleaned\n * @param {Function} isEmptyFn Optional isEmpty function\n * @returns {Object} A new cleaned object\n *\n * @example\n * let object = {id: 1, name: undefined}\n * objectClean(object); // returns: {id: 1}\n */\n\nexport default function cleanObject(object, isEmptyFn = isEmpty) {\n    return Object\n        .keys(object)\n        .reduce((acc, key) => {\n            if (!isEmptyFn(object[key])) {\n                acc[key] = object[key];\n            }\n        return acc;\n    }, {});\n}\n","// Copyright 2018 Google Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the “License”);\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n// <https://apache.org/licenses/LICENSE-2.0>.\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an “AS IS” BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nclass JSBI extends Array {\n    constructor(length, sign) {\n        super(length);\n        this.sign = sign;\n        // Explicitly set the prototype as per\n        // https://github.com/Microsoft/TypeScript-wiki/blob/main/Breaking-Changes.md#extending-built-ins-like-error-array-and-map-may-no-longer-work\n        Object.setPrototypeOf(this, JSBI.prototype);\n        if (length > JSBI.__kMaxLength) {\n            throw new RangeError('Maximum BigInt size exceeded');\n        }\n    }\n    static BigInt(arg) {\n        if (typeof arg === 'number') {\n            if (arg === 0)\n                return JSBI.__zero();\n            if (JSBI.__isOneDigitInt(arg)) {\n                if (arg < 0) {\n                    return JSBI.__oneDigit(-arg, true);\n                }\n                return JSBI.__oneDigit(arg, false);\n            }\n            if (!Number.isFinite(arg) || Math.floor(arg) !== arg) {\n                throw new RangeError('The number ' + arg + ' cannot be converted to ' +\n                    'BigInt because it is not an integer');\n            }\n            return JSBI.__fromDouble(arg);\n        }\n        else if (typeof arg === 'string') {\n            const result = JSBI.__fromString(arg);\n            if (result === null) {\n                throw new SyntaxError('Cannot convert ' + arg + ' to a BigInt');\n            }\n            return result;\n        }\n        else if (typeof arg === 'boolean') {\n            if (arg === true) {\n                return JSBI.__oneDigit(1, false);\n            }\n            return JSBI.__zero();\n        }\n        else if (typeof arg === 'object') {\n            if (arg.constructor === JSBI)\n                return arg;\n            const primitive = JSBI.__toPrimitive(arg);\n            return JSBI.BigInt(primitive);\n        }\n        throw new TypeError('Cannot convert ' + arg + ' to a BigInt');\n    }\n    toDebugString() {\n        const result = ['BigInt['];\n        for (const digit of this) {\n            result.push((digit ? (digit >>> 0).toString(16) : digit) + ', ');\n        }\n        result.push(']');\n        return result.join('');\n    }\n    toString(radix = 10) {\n        if (radix < 2 || radix > 36) {\n            throw new RangeError('toString() radix argument must be between 2 and 36');\n        }\n        if (this.length === 0)\n            return '0';\n        if ((radix & (radix - 1)) === 0) {\n            return JSBI.__toStringBasePowerOfTwo(this, radix);\n        }\n        return JSBI.__toStringGeneric(this, radix, false);\n    }\n    valueOf() {\n        throw new Error('Convert JSBI instances to native numbers using `toNumber`.');\n    }\n    // Equivalent of \"Number(my_bigint)\" in the native implementation.\n    // TODO: add more tests\n    static toNumber(x) {\n        const xLength = x.length;\n        if (xLength === 0)\n            return 0;\n        if (xLength === 1) {\n            const value = x.__unsignedDigit(0);\n            return x.sign ? -value : value;\n        }\n        const xMsd = x.__digit(xLength - 1);\n        const msdLeadingZeros = JSBI.__clz30(xMsd);\n        const xBitLength = xLength * 30 - msdLeadingZeros;\n        if (xBitLength > 1024)\n            return x.sign ? -Infinity : Infinity;\n        let exponent = xBitLength - 1;\n        let currentDigit = xMsd;\n        let digitIndex = xLength - 1;\n        const shift = msdLeadingZeros + 3;\n        let mantissaHigh = (shift === 32) ? 0 : currentDigit << shift;\n        mantissaHigh >>>= 12;\n        const mantissaHighBitsUnset = shift - 12;\n        let mantissaLow = (shift >= 12) ? 0 : (currentDigit << (20 + shift));\n        let mantissaLowBitsUnset = 20 + shift;\n        if (mantissaHighBitsUnset > 0 && digitIndex > 0) {\n            digitIndex--;\n            currentDigit = x.__digit(digitIndex);\n            mantissaHigh |= (currentDigit >>> (30 - mantissaHighBitsUnset));\n            mantissaLow = currentDigit << mantissaHighBitsUnset + 2;\n            mantissaLowBitsUnset = mantissaHighBitsUnset + 2;\n        }\n        while (mantissaLowBitsUnset > 0 && digitIndex > 0) {\n            digitIndex--;\n            currentDigit = x.__digit(digitIndex);\n            if (mantissaLowBitsUnset >= 30) {\n                mantissaLow |= (currentDigit << (mantissaLowBitsUnset - 30));\n            }\n            else {\n                mantissaLow |= (currentDigit >>> (30 - mantissaLowBitsUnset));\n            }\n            mantissaLowBitsUnset -= 30;\n        }\n        const rounding = JSBI.__decideRounding(x, mantissaLowBitsUnset, digitIndex, currentDigit);\n        if (rounding === 1 || (rounding === 0 && (mantissaLow & 1) === 1)) {\n            mantissaLow = (mantissaLow + 1) >>> 0;\n            if (mantissaLow === 0) {\n                // Incrementing mantissaLow overflowed.\n                mantissaHigh++;\n                if ((mantissaHigh >>> 20) !== 0) {\n                    // Incrementing mantissaHigh overflowed.\n                    mantissaHigh = 0;\n                    exponent++;\n                    if (exponent > 1023) {\n                        // Incrementing the exponent overflowed.\n                        return x.sign ? -Infinity : Infinity;\n                    }\n                }\n            }\n        }\n        const signBit = x.sign ? (1 << 31) : 0;\n        exponent = (exponent + 0x3FF) << 20;\n        JSBI.__kBitConversionInts[1] = signBit | exponent | mantissaHigh;\n        JSBI.__kBitConversionInts[0] = mantissaLow;\n        return JSBI.__kBitConversionDouble[0];\n    }\n    // Operations.\n    static unaryMinus(x) {\n        if (x.length === 0)\n            return x;\n        const result = x.__copy();\n        result.sign = !x.sign;\n        return result;\n    }\n    static bitwiseNot(x) {\n        if (x.sign) {\n            // ~(-x) == ~(~(x-1)) == x-1\n            return JSBI.__absoluteSubOne(x).__trim();\n        }\n        // ~x == -x-1 == -(x+1)\n        return JSBI.__absoluteAddOne(x, true);\n    }\n    static exponentiate(x, y) {\n        if (y.sign) {\n            throw new RangeError('Exponent must be positive');\n        }\n        if (y.length === 0) {\n            return JSBI.__oneDigit(1, false);\n        }\n        if (x.length === 0)\n            return x;\n        if (x.length === 1 && x.__digit(0) === 1) {\n            // (-1) ** even_number == 1.\n            if (x.sign && (y.__digit(0) & 1) === 0) {\n                return JSBI.unaryMinus(x);\n            }\n            // (-1) ** odd_number == -1, 1 ** anything == 1.\n            return x;\n        }\n        // For all bases >= 2, very large exponents would lead to unrepresentable\n        // results.\n        if (y.length > 1)\n            throw new RangeError('BigInt too big');\n        let expValue = y.__unsignedDigit(0);\n        if (expValue === 1)\n            return x;\n        if (expValue >= JSBI.__kMaxLengthBits) {\n            throw new RangeError('BigInt too big');\n        }\n        if (x.length === 1 && x.__digit(0) === 2) {\n            // Fast path for 2^n.\n            const neededDigits = 1 + ((expValue / 30) | 0);\n            const sign = x.sign && ((expValue & 1) !== 0);\n            const result = new JSBI(neededDigits, sign);\n            result.__initializeDigits();\n            // All bits are zero. Now set the n-th bit.\n            const msd = 1 << (expValue % 30);\n            result.__setDigit(neededDigits - 1, msd);\n            return result;\n        }\n        let result = null;\n        let runningSquare = x;\n        // This implicitly sets the result's sign correctly.\n        if ((expValue & 1) !== 0)\n            result = x;\n        expValue >>= 1;\n        for (; expValue !== 0; expValue >>= 1) {\n            runningSquare = JSBI.multiply(runningSquare, runningSquare);\n            if ((expValue & 1) !== 0) {\n                if (result === null) {\n                    result = runningSquare;\n                }\n                else {\n                    result = JSBI.multiply(result, runningSquare);\n                }\n            }\n        }\n        // TODO see if there's a way for tsc to infer this will always happen?\n        return result;\n    }\n    static multiply(x, y) {\n        if (x.length === 0)\n            return x;\n        if (y.length === 0)\n            return y;\n        let resultLength = x.length + y.length;\n        if (x.__clzmsd() + y.__clzmsd() >= 30) {\n            resultLength--;\n        }\n        const result = new JSBI(resultLength, x.sign !== y.sign);\n        result.__initializeDigits();\n        for (let i = 0; i < x.length; i++) {\n            JSBI.__multiplyAccumulate(y, x.__digit(i), result, i);\n        }\n        return result.__trim();\n    }\n    static divide(x, y) {\n        if (y.length === 0)\n            throw new RangeError('Division by zero');\n        if (JSBI.__absoluteCompare(x, y) < 0)\n            return JSBI.__zero();\n        const resultSign = x.sign !== y.sign;\n        const divisor = y.__unsignedDigit(0);\n        let quotient;\n        if (y.length === 1 && divisor <= 0x7FFF) {\n            if (divisor === 1) {\n                return resultSign === x.sign ? x : JSBI.unaryMinus(x);\n            }\n            quotient = JSBI.__absoluteDivSmall(x, divisor, null);\n        }\n        else {\n            quotient = JSBI.__absoluteDivLarge(x, y, true, false);\n        }\n        quotient.sign = resultSign;\n        return quotient.__trim();\n    }\n    static remainder(x, y) {\n        if (y.length === 0)\n            throw new RangeError('Division by zero');\n        if (JSBI.__absoluteCompare(x, y) < 0)\n            return x;\n        const divisor = y.__unsignedDigit(0);\n        if (y.length === 1 && divisor <= 0x7FFF) {\n            if (divisor === 1)\n                return JSBI.__zero();\n            const remainderDigit = JSBI.__absoluteModSmall(x, divisor);\n            if (remainderDigit === 0)\n                return JSBI.__zero();\n            return JSBI.__oneDigit(remainderDigit, x.sign);\n        }\n        const remainder = JSBI.__absoluteDivLarge(x, y, false, true);\n        remainder.sign = x.sign;\n        return remainder.__trim();\n    }\n    static add(x, y) {\n        const sign = x.sign;\n        if (sign === y.sign) {\n            // x + y == x + y\n            // -x + -y == -(x + y)\n            return JSBI.__absoluteAdd(x, y, sign);\n        }\n        // x + -y == x - y == -(y - x)\n        // -x + y == y - x == -(x - y)\n        if (JSBI.__absoluteCompare(x, y) >= 0) {\n            return JSBI.__absoluteSub(x, y, sign);\n        }\n        return JSBI.__absoluteSub(y, x, !sign);\n    }\n    static subtract(x, y) {\n        const sign = x.sign;\n        if (sign !== y.sign) {\n            // x - (-y) == x + y\n            // (-x) - y == -(x + y)\n            return JSBI.__absoluteAdd(x, y, sign);\n        }\n        // x - y == -(y - x)\n        // (-x) - (-y) == y - x == -(x - y)\n        if (JSBI.__absoluteCompare(x, y) >= 0) {\n            return JSBI.__absoluteSub(x, y, sign);\n        }\n        return JSBI.__absoluteSub(y, x, !sign);\n    }\n    static leftShift(x, y) {\n        if (y.length === 0 || x.length === 0)\n            return x;\n        if (y.sign)\n            return JSBI.__rightShiftByAbsolute(x, y);\n        return JSBI.__leftShiftByAbsolute(x, y);\n    }\n    static signedRightShift(x, y) {\n        if (y.length === 0 || x.length === 0)\n            return x;\n        if (y.sign)\n            return JSBI.__leftShiftByAbsolute(x, y);\n        return JSBI.__rightShiftByAbsolute(x, y);\n    }\n    static unsignedRightShift() {\n        throw new TypeError('BigInts have no unsigned right shift; use >> instead');\n    }\n    static lessThan(x, y) {\n        return JSBI.__compareToBigInt(x, y) < 0;\n    }\n    static lessThanOrEqual(x, y) {\n        return JSBI.__compareToBigInt(x, y) <= 0;\n    }\n    static greaterThan(x, y) {\n        return JSBI.__compareToBigInt(x, y) > 0;\n    }\n    static greaterThanOrEqual(x, y) {\n        return JSBI.__compareToBigInt(x, y) >= 0;\n    }\n    static equal(x, y) {\n        if (x.sign !== y.sign)\n            return false;\n        if (x.length !== y.length)\n            return false;\n        for (let i = 0; i < x.length; i++) {\n            if (x.__digit(i) !== y.__digit(i))\n                return false;\n        }\n        return true;\n    }\n    static notEqual(x, y) {\n        return !JSBI.equal(x, y);\n    }\n    static bitwiseAnd(x, y) {\n        if (!x.sign && !y.sign) {\n            return JSBI.__absoluteAnd(x, y).__trim();\n        }\n        else if (x.sign && y.sign) {\n            const resultLength = Math.max(x.length, y.length) + 1;\n            // (-x) & (-y) == ~(x-1) & ~(y-1) == ~((x-1) | (y-1))\n            // == -(((x-1) | (y-1)) + 1)\n            let result = JSBI.__absoluteSubOne(x, resultLength);\n            const y1 = JSBI.__absoluteSubOne(y);\n            result = JSBI.__absoluteOr(result, y1, result);\n            return JSBI.__absoluteAddOne(result, true, result).__trim();\n        }\n        // Assume that x is the positive BigInt.\n        if (x.sign) {\n            [x, y] = [y, x];\n        }\n        // x & (-y) == x & ~(y-1) == x &~ (y-1)\n        return JSBI.__absoluteAndNot(x, JSBI.__absoluteSubOne(y)).__trim();\n    }\n    static bitwiseXor(x, y) {\n        if (!x.sign && !y.sign) {\n            return JSBI.__absoluteXor(x, y).__trim();\n        }\n        else if (x.sign && y.sign) {\n            // (-x) ^ (-y) == ~(x-1) ^ ~(y-1) == (x-1) ^ (y-1)\n            const resultLength = Math.max(x.length, y.length);\n            const result = JSBI.__absoluteSubOne(x, resultLength);\n            const y1 = JSBI.__absoluteSubOne(y);\n            return JSBI.__absoluteXor(result, y1, result).__trim();\n        }\n        const resultLength = Math.max(x.length, y.length) + 1;\n        // Assume that x is the positive BigInt.\n        if (x.sign) {\n            [x, y] = [y, x];\n        }\n        // x ^ (-y) == x ^ ~(y-1) == ~(x ^ (y-1)) == -((x ^ (y-1)) + 1)\n        let result = JSBI.__absoluteSubOne(y, resultLength);\n        result = JSBI.__absoluteXor(result, x, result);\n        return JSBI.__absoluteAddOne(result, true, result).__trim();\n    }\n    static bitwiseOr(x, y) {\n        const resultLength = Math.max(x.length, y.length);\n        if (!x.sign && !y.sign) {\n            return JSBI.__absoluteOr(x, y).__trim();\n        }\n        else if (x.sign && y.sign) {\n            // (-x) | (-y) == ~(x-1) | ~(y-1) == ~((x-1) & (y-1))\n            // == -(((x-1) & (y-1)) + 1)\n            let result = JSBI.__absoluteSubOne(x, resultLength);\n            const y1 = JSBI.__absoluteSubOne(y);\n            result = JSBI.__absoluteAnd(result, y1, result);\n            return JSBI.__absoluteAddOne(result, true, result).__trim();\n        }\n        // Assume that x is the positive BigInt.\n        if (x.sign) {\n            [x, y] = [y, x];\n        }\n        // x | (-y) == x | ~(y-1) == ~((y-1) &~ x) == -(((y-1) ~& x) + 1)\n        let result = JSBI.__absoluteSubOne(y, resultLength);\n        result = JSBI.__absoluteAndNot(result, x, result);\n        return JSBI.__absoluteAddOne(result, true, result).__trim();\n    }\n    static asIntN(n, x) {\n        if (x.length === 0)\n            return x;\n        n = Math.floor(n);\n        if (n < 0) {\n            throw new RangeError('Invalid value: not (convertible to) a safe integer');\n        }\n        if (n === 0)\n            return JSBI.__zero();\n        // If {x} has less than {n} bits, return it directly.\n        if (n >= JSBI.__kMaxLengthBits)\n            return x;\n        const neededLength = ((n + 29) / 30) | 0;\n        if (x.length < neededLength)\n            return x;\n        const topDigit = x.__unsignedDigit(neededLength - 1);\n        const compareDigit = 1 << ((n - 1) % 30);\n        if (x.length === neededLength && topDigit < compareDigit)\n            return x;\n        // Otherwise truncate and simulate two's complement.\n        const hasBit = (topDigit & compareDigit) === compareDigit;\n        if (!hasBit)\n            return JSBI.__truncateToNBits(n, x);\n        if (!x.sign)\n            return JSBI.__truncateAndSubFromPowerOfTwo(n, x, true);\n        if ((topDigit & (compareDigit - 1)) === 0) {\n            for (let i = neededLength - 2; i >= 0; i--) {\n                if (x.__digit(i) !== 0) {\n                    return JSBI.__truncateAndSubFromPowerOfTwo(n, x, false);\n                }\n            }\n            if (x.length === neededLength && topDigit === compareDigit)\n                return x;\n            return JSBI.__truncateToNBits(n, x);\n        }\n        return JSBI.__truncateAndSubFromPowerOfTwo(n, x, false);\n    }\n    static asUintN(n, x) {\n        if (x.length === 0)\n            return x;\n        n = Math.floor(n);\n        if (n < 0) {\n            throw new RangeError('Invalid value: not (convertible to) a safe integer');\n        }\n        if (n === 0)\n            return JSBI.__zero();\n        // If {x} is negative, simulate two's complement representation.\n        if (x.sign) {\n            if (n > JSBI.__kMaxLengthBits) {\n                throw new RangeError('BigInt too big');\n            }\n            return JSBI.__truncateAndSubFromPowerOfTwo(n, x, false);\n        }\n        // If {x} is positive and has up to {n} bits, return it directly.\n        if (n >= JSBI.__kMaxLengthBits)\n            return x;\n        const neededLength = ((n + 29) / 30) | 0;\n        if (x.length < neededLength)\n            return x;\n        const bitsInTopDigit = n % 30;\n        if (x.length == neededLength) {\n            if (bitsInTopDigit === 0)\n                return x;\n            const topDigit = x.__digit(neededLength - 1);\n            if ((topDigit >>> bitsInTopDigit) === 0)\n                return x;\n        }\n        // Otherwise, truncate.\n        return JSBI.__truncateToNBits(n, x);\n    }\n    // Operators.\n    static ADD(x, y) {\n        x = JSBI.__toPrimitive(x);\n        y = JSBI.__toPrimitive(y);\n        if (typeof x === 'string') {\n            if (typeof y !== 'string')\n                y = y.toString();\n            return x + y;\n        }\n        if (typeof y === 'string') {\n            return x.toString() + y;\n        }\n        x = JSBI.__toNumeric(x);\n        y = JSBI.__toNumeric(y);\n        if (JSBI.__isBigInt(x) && JSBI.__isBigInt(y)) {\n            return JSBI.add(x, y);\n        }\n        if (typeof x === 'number' && typeof y === 'number') {\n            return x + y;\n        }\n        throw new TypeError('Cannot mix BigInt and other types, use explicit conversions');\n    }\n    static LT(x, y) {\n        return JSBI.__compare(x, y, 0);\n    }\n    static LE(x, y) {\n        return JSBI.__compare(x, y, 1);\n    }\n    static GT(x, y) {\n        return JSBI.__compare(x, y, 2);\n    }\n    static GE(x, y) {\n        return JSBI.__compare(x, y, 3);\n    }\n    static EQ(x, y) {\n        while (true) {\n            if (JSBI.__isBigInt(x)) {\n                if (JSBI.__isBigInt(y))\n                    return JSBI.equal(x, y);\n                return JSBI.EQ(y, x);\n            }\n            else if (typeof x === 'number') {\n                if (JSBI.__isBigInt(y))\n                    return JSBI.__equalToNumber(y, x);\n                if (typeof y !== 'object')\n                    return x == y;\n                y = JSBI.__toPrimitive(y);\n            }\n            else if (typeof x === 'string') {\n                if (JSBI.__isBigInt(y)) {\n                    x = JSBI.__fromString(x);\n                    if (x === null)\n                        return false;\n                    return JSBI.equal(x, y);\n                }\n                if (typeof y !== 'object')\n                    return x == y;\n                y = JSBI.__toPrimitive(y);\n            }\n            else if (typeof x === 'boolean') {\n                if (JSBI.__isBigInt(y))\n                    return JSBI.__equalToNumber(y, +x);\n                if (typeof y !== 'object')\n                    return x == y;\n                y = JSBI.__toPrimitive(y);\n            }\n            else if (typeof x === 'symbol') {\n                if (JSBI.__isBigInt(y))\n                    return false;\n                if (typeof y !== 'object')\n                    return x == y;\n                y = JSBI.__toPrimitive(y);\n            }\n            else if (typeof x === 'object') {\n                if (typeof y === 'object' && y.constructor !== JSBI)\n                    return x == y;\n                x = JSBI.__toPrimitive(x);\n            }\n            else {\n                return x == y;\n            }\n        }\n    }\n    static NE(x, y) {\n        return !JSBI.EQ(x, y);\n    }\n    // DataView-related functionality.\n    static DataViewGetBigInt64(dataview, byteOffset, littleEndian = false) {\n        return JSBI.asIntN(64, JSBI.DataViewGetBigUint64(dataview, byteOffset, littleEndian));\n    }\n    static DataViewGetBigUint64(dataview, byteOffset, littleEndian = false) {\n        const [h, l] = littleEndian ? [4, 0] : [0, 4];\n        const high = dataview.getUint32(byteOffset + h, littleEndian);\n        const low = dataview.getUint32(byteOffset + l, littleEndian);\n        const result = new JSBI(3, false);\n        result.__setDigit(0, low & 0x3FFFFFFF);\n        result.__setDigit(1, ((high & 0xFFFFFFF) << 2) | (low >>> 30));\n        result.__setDigit(2, high >>> 28);\n        return result.__trim();\n    }\n    static DataViewSetBigInt64(dataview, byteOffset, value, littleEndian = false) {\n        JSBI.DataViewSetBigUint64(dataview, byteOffset, value, littleEndian);\n    }\n    static DataViewSetBigUint64(dataview, byteOffset, value, littleEndian = false) {\n        value = JSBI.asUintN(64, value);\n        let high = 0;\n        let low = 0;\n        if (value.length > 0) {\n            low = value.__digit(0);\n            if (value.length > 1) {\n                const d1 = value.__digit(1);\n                low = low | d1 << 30;\n                high = d1 >>> 2;\n                if (value.length > 2) {\n                    high = high | (value.__digit(2) << 28);\n                }\n            }\n        }\n        const [h, l] = littleEndian ? [4, 0] : [0, 4];\n        dataview.setUint32(byteOffset + h, high, littleEndian);\n        dataview.setUint32(byteOffset + l, low, littleEndian);\n    }\n    // Helpers.\n    static __zero() {\n        return new JSBI(0, false);\n    }\n    static __oneDigit(value, sign) {\n        const result = new JSBI(1, sign);\n        result.__setDigit(0, value);\n        return result;\n    }\n    __copy() {\n        const result = new JSBI(this.length, this.sign);\n        for (let i = 0; i < this.length; i++) {\n            result[i] = this[i];\n        }\n        return result;\n    }\n    __trim() {\n        let newLength = this.length;\n        let last = this[newLength - 1];\n        while (last === 0) {\n            newLength--;\n            last = this[newLength - 1];\n            this.pop();\n        }\n        if (newLength === 0)\n            this.sign = false;\n        return this;\n    }\n    __initializeDigits() {\n        for (let i = 0; i < this.length; i++) {\n            this[i] = 0;\n        }\n    }\n    static __decideRounding(x, mantissaBitsUnset, digitIndex, currentDigit) {\n        if (mantissaBitsUnset > 0)\n            return -1;\n        let topUnconsumedBit;\n        if (mantissaBitsUnset < 0) {\n            topUnconsumedBit = -mantissaBitsUnset - 1;\n        }\n        else {\n            // {currentDigit} fit the mantissa exactly; look at the next digit.\n            if (digitIndex === 0)\n                return -1;\n            digitIndex--;\n            currentDigit = x.__digit(digitIndex);\n            topUnconsumedBit = 29;\n        }\n        // If the most significant remaining bit is 0, round down.\n        let mask = 1 << topUnconsumedBit;\n        if ((currentDigit & mask) === 0)\n            return -1;\n        // If any other remaining bit is set, round up.\n        mask -= 1;\n        if ((currentDigit & mask) !== 0)\n            return 1;\n        while (digitIndex > 0) {\n            digitIndex--;\n            if (x.__digit(digitIndex) !== 0)\n                return 1;\n        }\n        return 0;\n    }\n    static __fromDouble(value) {\n        const sign = value < 0;\n        JSBI.__kBitConversionDouble[0] = value;\n        const rawExponent = (JSBI.__kBitConversionInts[1] >>> 20) & 0x7FF;\n        const exponent = rawExponent - 0x3FF;\n        const digits = ((exponent / 30) | 0) + 1;\n        const result = new JSBI(digits, sign);\n        const kHiddenBit = 0x00100000;\n        let mantissaHigh = (JSBI.__kBitConversionInts[1] & 0xFFFFF) | kHiddenBit;\n        let mantissaLow = JSBI.__kBitConversionInts[0];\n        const kMantissaHighTopBit = 20;\n        // 0-indexed position of most significant bit in most significant digit.\n        const msdTopBit = exponent % 30;\n        // Number of unused bits in the mantissa. We'll keep them shifted to the\n        // left (i.e. most significant part).\n        let remainingMantissaBits = 0;\n        // Next digit under construction.\n        let digit;\n        // First, build the MSD by shifting the mantissa appropriately.\n        if (msdTopBit < kMantissaHighTopBit) {\n            const shift = kMantissaHighTopBit - msdTopBit;\n            remainingMantissaBits = shift + 32;\n            digit = mantissaHigh >>> shift;\n            mantissaHigh = (mantissaHigh << (32 - shift)) | (mantissaLow >>> shift);\n            mantissaLow = mantissaLow << (32 - shift);\n        }\n        else if (msdTopBit === kMantissaHighTopBit) {\n            remainingMantissaBits = 32;\n            digit = mantissaHigh;\n            mantissaHigh = mantissaLow;\n            mantissaLow = 0;\n        }\n        else {\n            const shift = msdTopBit - kMantissaHighTopBit;\n            remainingMantissaBits = 32 - shift;\n            digit = (mantissaHigh << shift) | (mantissaLow >>> (32 - shift));\n            mantissaHigh = mantissaLow << shift;\n            mantissaLow = 0;\n        }\n        result.__setDigit(digits - 1, digit);\n        // Then fill in the rest of the digits.\n        for (let digitIndex = digits - 2; digitIndex >= 0; digitIndex--) {\n            if (remainingMantissaBits > 0) {\n                remainingMantissaBits -= 30;\n                digit = mantissaHigh >>> 2;\n                mantissaHigh = (mantissaHigh << 30) | (mantissaLow >>> 2);\n                mantissaLow = (mantissaLow << 30);\n            }\n            else {\n                digit = 0;\n            }\n            result.__setDigit(digitIndex, digit);\n        }\n        return result.__trim();\n    }\n    static __isWhitespace(c) {\n        if (c <= 0x0D && c >= 0x09)\n            return true;\n        if (c <= 0x9F)\n            return c === 0x20;\n        if (c <= 0x01FFFF) {\n            return c === 0xA0 || c === 0x1680;\n        }\n        if (c <= 0x02FFFF) {\n            c &= 0x01FFFF;\n            return c <= 0x0A || c === 0x28 || c === 0x29 || c === 0x2F ||\n                c === 0x5F || c === 0x1000;\n        }\n        return c === 0xFEFF;\n    }\n    static __fromString(string, radix = 0) {\n        let sign = 0;\n        let leadingZero = false;\n        const length = string.length;\n        let cursor = 0;\n        if (cursor === length)\n            return JSBI.__zero();\n        let current = string.charCodeAt(cursor);\n        // Skip whitespace.\n        while (JSBI.__isWhitespace(current)) {\n            if (++cursor === length)\n                return JSBI.__zero();\n            current = string.charCodeAt(cursor);\n        }\n        // Detect radix.\n        if (current === 0x2B) { // '+'\n            if (++cursor === length)\n                return null;\n            current = string.charCodeAt(cursor);\n            sign = 1;\n        }\n        else if (current === 0x2D) { // '-'\n            if (++cursor === length)\n                return null;\n            current = string.charCodeAt(cursor);\n            sign = -1;\n        }\n        if (radix === 0) {\n            radix = 10;\n            if (current === 0x30) { // '0'\n                if (++cursor === length)\n                    return JSBI.__zero();\n                current = string.charCodeAt(cursor);\n                if (current === 0x58 || current === 0x78) { // 'X' or 'x'\n                    radix = 16;\n                    if (++cursor === length)\n                        return null;\n                    current = string.charCodeAt(cursor);\n                }\n                else if (current === 0x4F || current === 0x6F) { // 'O' or 'o'\n                    radix = 8;\n                    if (++cursor === length)\n                        return null;\n                    current = string.charCodeAt(cursor);\n                }\n                else if (current === 0x42 || current === 0x62) { // 'B' or 'b'\n                    radix = 2;\n                    if (++cursor === length)\n                        return null;\n                    current = string.charCodeAt(cursor);\n                }\n                else {\n                    leadingZero = true;\n                }\n            }\n        }\n        else if (radix === 16) {\n            if (current === 0x30) { // '0'\n                // Allow \"0x\" prefix.\n                if (++cursor === length)\n                    return JSBI.__zero();\n                current = string.charCodeAt(cursor);\n                if (current === 0x58 || current === 0x78) { // 'X' or 'x'\n                    if (++cursor === length)\n                        return null;\n                    current = string.charCodeAt(cursor);\n                }\n                else {\n                    leadingZero = true;\n                }\n            }\n        }\n        if (sign !== 0 && radix !== 10)\n            return null;\n        // Skip leading zeros.\n        while (current === 0x30) {\n            leadingZero = true;\n            if (++cursor === length)\n                return JSBI.__zero();\n            current = string.charCodeAt(cursor);\n        }\n        // Allocate result.\n        const chars = length - cursor;\n        let bitsPerChar = JSBI.__kMaxBitsPerChar[radix];\n        let roundup = JSBI.__kBitsPerCharTableMultiplier - 1;\n        if (chars > (1 << 30) / bitsPerChar)\n            return null;\n        const bitsMin = (bitsPerChar * chars + roundup) >>> JSBI.__kBitsPerCharTableShift;\n        const resultLength = ((bitsMin + 29) / 30) | 0;\n        const result = new JSBI(resultLength, false);\n        // Parse.\n        const limDigit = radix < 10 ? radix : 10;\n        const limAlpha = radix > 10 ? radix - 10 : 0;\n        if ((radix & (radix - 1)) === 0) {\n            // Power-of-two radix.\n            bitsPerChar >>= JSBI.__kBitsPerCharTableShift;\n            const parts = [];\n            const partsBits = [];\n            let done = false;\n            do {\n                let part = 0;\n                let bits = 0;\n                while (true) {\n                    let d;\n                    if (((current - 48) >>> 0) < limDigit) {\n                        d = current - 48;\n                    }\n                    else if ((((current | 32) - 97) >>> 0) < limAlpha) {\n                        d = (current | 32) - 87;\n                    }\n                    else {\n                        done = true;\n                        break;\n                    }\n                    bits += bitsPerChar;\n                    part = (part << bitsPerChar) | d;\n                    if (++cursor === length) {\n                        done = true;\n                        break;\n                    }\n                    current = string.charCodeAt(cursor);\n                    if (bits + bitsPerChar > 30)\n                        break;\n                }\n                parts.push(part);\n                partsBits.push(bits);\n            } while (!done);\n            JSBI.__fillFromParts(result, parts, partsBits);\n        }\n        else {\n            result.__initializeDigits();\n            let done = false;\n            let charsSoFar = 0;\n            do {\n                let part = 0;\n                let multiplier = 1;\n                while (true) {\n                    let d;\n                    if (((current - 48) >>> 0) < limDigit) {\n                        d = current - 48;\n                    }\n                    else if ((((current | 32) - 97) >>> 0) < limAlpha) {\n                        d = (current | 32) - 87;\n                    }\n                    else {\n                        done = true;\n                        break;\n                    }\n                    const m = multiplier * radix;\n                    if (m > 0x3FFFFFFF)\n                        break;\n                    multiplier = m;\n                    part = part * radix + d;\n                    charsSoFar++;\n                    if (++cursor === length) {\n                        done = true;\n                        break;\n                    }\n                    current = string.charCodeAt(cursor);\n                }\n                roundup = JSBI.__kBitsPerCharTableMultiplier * 30 - 1;\n                const digitsSoFar = (((bitsPerChar * charsSoFar + roundup) >>>\n                    JSBI.__kBitsPerCharTableShift) / 30) | 0;\n                result.__inplaceMultiplyAdd(multiplier, part, digitsSoFar);\n            } while (!done);\n        }\n        if (cursor !== length) {\n            if (!JSBI.__isWhitespace(current))\n                return null;\n            for (cursor++; cursor < length; cursor++) {\n                current = string.charCodeAt(cursor);\n                if (!JSBI.__isWhitespace(current))\n                    return null;\n            }\n        }\n        // Get result.\n        result.sign = (sign === -1);\n        return result.__trim();\n    }\n    static __fillFromParts(result, parts, partsBits) {\n        let digitIndex = 0;\n        let digit = 0;\n        let bitsInDigit = 0;\n        for (let i = parts.length - 1; i >= 0; i--) {\n            const part = parts[i];\n            const partBits = partsBits[i];\n            digit |= (part << bitsInDigit);\n            bitsInDigit += partBits;\n            if (bitsInDigit === 30) {\n                result.__setDigit(digitIndex++, digit);\n                bitsInDigit = 0;\n                digit = 0;\n            }\n            else if (bitsInDigit > 30) {\n                result.__setDigit(digitIndex++, digit & 0x3FFFFFFF);\n                bitsInDigit -= 30;\n                digit = part >>> (partBits - bitsInDigit);\n            }\n        }\n        if (digit !== 0) {\n            if (digitIndex >= result.length)\n                throw new Error('implementation bug');\n            result.__setDigit(digitIndex++, digit);\n        }\n        for (; digitIndex < result.length; digitIndex++) {\n            result.__setDigit(digitIndex, 0);\n        }\n    }\n    static __toStringBasePowerOfTwo(x, radix) {\n        const length = x.length;\n        let bits = radix - 1;\n        bits = ((bits >>> 1) & 0x55) + (bits & 0x55);\n        bits = ((bits >>> 2) & 0x33) + (bits & 0x33);\n        bits = ((bits >>> 4) & 0x0F) + (bits & 0x0F);\n        const bitsPerChar = bits;\n        const charMask = radix - 1;\n        const msd = x.__digit(length - 1);\n        const msdLeadingZeros = JSBI.__clz30(msd);\n        const bitLength = length * 30 - msdLeadingZeros;\n        let charsRequired = ((bitLength + bitsPerChar - 1) / bitsPerChar) | 0;\n        if (x.sign)\n            charsRequired++;\n        if (charsRequired > (1 << 28))\n            throw new Error('string too long');\n        const result = new Array(charsRequired);\n        let pos = charsRequired - 1;\n        let digit = 0;\n        let availableBits = 0;\n        for (let i = 0; i < length - 1; i++) {\n            const newDigit = x.__digit(i);\n            const current = (digit | (newDigit << availableBits)) & charMask;\n            result[pos--] = JSBI.__kConversionChars[current];\n            const consumedBits = bitsPerChar - availableBits;\n            digit = newDigit >>> consumedBits;\n            availableBits = 30 - consumedBits;\n            while (availableBits >= bitsPerChar) {\n                result[pos--] = JSBI.__kConversionChars[digit & charMask];\n                digit >>>= bitsPerChar;\n                availableBits -= bitsPerChar;\n            }\n        }\n        const current = (digit | (msd << availableBits)) & charMask;\n        result[pos--] = JSBI.__kConversionChars[current];\n        digit = msd >>> (bitsPerChar - availableBits);\n        while (digit !== 0) {\n            result[pos--] = JSBI.__kConversionChars[digit & charMask];\n            digit >>>= bitsPerChar;\n        }\n        if (x.sign)\n            result[pos--] = '-';\n        if (pos !== -1)\n            throw new Error('implementation bug');\n        return result.join('');\n    }\n    static __toStringGeneric(x, radix, isRecursiveCall) {\n        const length = x.length;\n        if (length === 0)\n            return '';\n        if (length === 1) {\n            let result = x.__unsignedDigit(0).toString(radix);\n            if (isRecursiveCall === false && x.sign) {\n                result = '-' + result;\n            }\n            return result;\n        }\n        const bitLength = length * 30 - JSBI.__clz30(x.__digit(length - 1));\n        const maxBitsPerChar = JSBI.__kMaxBitsPerChar[radix];\n        const minBitsPerChar = maxBitsPerChar - 1;\n        let charsRequired = bitLength * JSBI.__kBitsPerCharTableMultiplier;\n        charsRequired += minBitsPerChar - 1;\n        charsRequired = (charsRequired / minBitsPerChar) | 0;\n        const secondHalfChars = (charsRequired + 1) >> 1;\n        // Divide-and-conquer: split by a power of {radix} that's approximately\n        // the square root of {x}, then recurse.\n        const conqueror = JSBI.exponentiate(JSBI.__oneDigit(radix, false), JSBI.__oneDigit(secondHalfChars, false));\n        let quotient;\n        let secondHalf;\n        const divisor = conqueror.__unsignedDigit(0);\n        if (conqueror.length === 1 && divisor <= 0x7FFF) {\n            quotient = new JSBI(x.length, false);\n            quotient.__initializeDigits();\n            let remainder = 0;\n            for (let i = x.length * 2 - 1; i >= 0; i--) {\n                const input = (remainder << 15) | x.__halfDigit(i);\n                quotient.__setHalfDigit(i, (input / divisor) | 0);\n                remainder = (input % divisor) | 0;\n            }\n            secondHalf = remainder.toString(radix);\n        }\n        else {\n            const divisionResult = JSBI.__absoluteDivLarge(x, conqueror, true, true);\n            quotient = divisionResult.quotient;\n            const remainder = divisionResult.remainder.__trim();\n            secondHalf = JSBI.__toStringGeneric(remainder, radix, true);\n        }\n        quotient.__trim();\n        let firstHalf = JSBI.__toStringGeneric(quotient, radix, true);\n        while (secondHalf.length < secondHalfChars) {\n            secondHalf = '0' + secondHalf;\n        }\n        if (isRecursiveCall === false && x.sign) {\n            firstHalf = '-' + firstHalf;\n        }\n        return firstHalf + secondHalf;\n    }\n    static __unequalSign(leftNegative) {\n        return leftNegative ? -1 : 1;\n    }\n    static __absoluteGreater(bothNegative) {\n        return bothNegative ? -1 : 1;\n    }\n    static __absoluteLess(bothNegative) {\n        return bothNegative ? 1 : -1;\n    }\n    static __compareToBigInt(x, y) {\n        const xSign = x.sign;\n        if (xSign !== y.sign)\n            return JSBI.__unequalSign(xSign);\n        const result = JSBI.__absoluteCompare(x, y);\n        if (result > 0)\n            return JSBI.__absoluteGreater(xSign);\n        if (result < 0)\n            return JSBI.__absoluteLess(xSign);\n        return 0;\n    }\n    static __compareToNumber(x, y) {\n        if (JSBI.__isOneDigitInt(y)) {\n            const xSign = x.sign;\n            const ySign = (y < 0);\n            if (xSign !== ySign)\n                return JSBI.__unequalSign(xSign);\n            if (x.length === 0) {\n                if (ySign)\n                    throw new Error('implementation bug');\n                return y === 0 ? 0 : -1;\n            }\n            // Any multi-digit BigInt is bigger than an int32.\n            if (x.length > 1)\n                return JSBI.__absoluteGreater(xSign);\n            const yAbs = Math.abs(y);\n            const xDigit = x.__unsignedDigit(0);\n            if (xDigit > yAbs)\n                return JSBI.__absoluteGreater(xSign);\n            if (xDigit < yAbs)\n                return JSBI.__absoluteLess(xSign);\n            return 0;\n        }\n        return JSBI.__compareToDouble(x, y);\n    }\n    static __compareToDouble(x, y) {\n        if (y !== y)\n            return y; // NaN.\n        if (y === Infinity)\n            return -1;\n        if (y === -Infinity)\n            return 1;\n        const xSign = x.sign;\n        const ySign = (y < 0);\n        if (xSign !== ySign)\n            return JSBI.__unequalSign(xSign);\n        if (y === 0) {\n            throw new Error('implementation bug: should be handled elsewhere');\n        }\n        if (x.length === 0)\n            return -1;\n        JSBI.__kBitConversionDouble[0] = y;\n        const rawExponent = (JSBI.__kBitConversionInts[1] >>> 20) & 0x7FF;\n        if (rawExponent === 0x7FF) {\n            throw new Error('implementation bug: handled elsewhere');\n        }\n        const exponent = rawExponent - 0x3FF;\n        if (exponent < 0) {\n            // The absolute value of y is less than 1. Only 0n has an absolute\n            // value smaller than that, but we've already covered that case.\n            return JSBI.__absoluteGreater(xSign);\n        }\n        const xLength = x.length;\n        let xMsd = x.__digit(xLength - 1);\n        const msdLeadingZeros = JSBI.__clz30(xMsd);\n        const xBitLength = xLength * 30 - msdLeadingZeros;\n        const yBitLength = exponent + 1;\n        if (xBitLength < yBitLength)\n            return JSBI.__absoluteLess(xSign);\n        if (xBitLength > yBitLength)\n            return JSBI.__absoluteGreater(xSign);\n        // Same sign, same bit length. Shift mantissa to align with x and compare\n        // bit for bit.\n        const kHiddenBit = 0x00100000;\n        let mantissaHigh = (JSBI.__kBitConversionInts[1] & 0xFFFFF) | kHiddenBit;\n        let mantissaLow = JSBI.__kBitConversionInts[0];\n        const kMantissaHighTopBit = 20;\n        const msdTopBit = 29 - msdLeadingZeros;\n        if (msdTopBit !== (((xBitLength - 1) % 30) | 0)) {\n            throw new Error('implementation bug');\n        }\n        let compareMantissa; // Shifted chunk of mantissa.\n        let remainingMantissaBits = 0;\n        // First, compare most significant digit against beginning of mantissa.\n        if (msdTopBit < kMantissaHighTopBit) {\n            const shift = kMantissaHighTopBit - msdTopBit;\n            remainingMantissaBits = shift + 32;\n            compareMantissa = mantissaHigh >>> shift;\n            mantissaHigh = (mantissaHigh << (32 - shift)) | (mantissaLow >>> shift);\n            mantissaLow = mantissaLow << (32 - shift);\n        }\n        else if (msdTopBit === kMantissaHighTopBit) {\n            remainingMantissaBits = 32;\n            compareMantissa = mantissaHigh;\n            mantissaHigh = mantissaLow;\n            mantissaLow = 0;\n        }\n        else {\n            const shift = msdTopBit - kMantissaHighTopBit;\n            remainingMantissaBits = 32 - shift;\n            compareMantissa =\n                (mantissaHigh << shift) | (mantissaLow >>> (32 - shift));\n            mantissaHigh = mantissaLow << shift;\n            mantissaLow = 0;\n        }\n        xMsd = xMsd >>> 0;\n        compareMantissa = compareMantissa >>> 0;\n        if (xMsd > compareMantissa)\n            return JSBI.__absoluteGreater(xSign);\n        if (xMsd < compareMantissa)\n            return JSBI.__absoluteLess(xSign);\n        // Then, compare additional digits against remaining mantissa bits.\n        for (let digitIndex = xLength - 2; digitIndex >= 0; digitIndex--) {\n            if (remainingMantissaBits > 0) {\n                remainingMantissaBits -= 30;\n                compareMantissa = mantissaHigh >>> 2;\n                mantissaHigh = (mantissaHigh << 30) | (mantissaLow >>> 2);\n                mantissaLow = (mantissaLow << 30);\n            }\n            else {\n                compareMantissa = 0;\n            }\n            const digit = x.__unsignedDigit(digitIndex);\n            if (digit > compareMantissa)\n                return JSBI.__absoluteGreater(xSign);\n            if (digit < compareMantissa)\n                return JSBI.__absoluteLess(xSign);\n        }\n        // Integer parts are equal; check whether {y} has a fractional part.\n        if (mantissaHigh !== 0 || mantissaLow !== 0) {\n            if (remainingMantissaBits === 0)\n                throw new Error('implementation bug');\n            return JSBI.__absoluteLess(xSign);\n        }\n        return 0;\n    }\n    static __equalToNumber(x, y) {\n        if (JSBI.__isOneDigitInt(y)) {\n            if (y === 0)\n                return x.length === 0;\n            // Any multi-digit BigInt is bigger than an int32.\n            return (x.length === 1) && (x.sign === (y < 0)) &&\n                (x.__unsignedDigit(0) === Math.abs(y));\n        }\n        return JSBI.__compareToDouble(x, y) === 0;\n    }\n    // Comparison operations, chosen such that \"op ^ 2\" reverses direction:\n    // 0 - lessThan\n    // 1 - lessThanOrEqual\n    // 2 - greaterThan\n    // 3 - greaterThanOrEqual\n    static __comparisonResultToBool(result, op) {\n        switch (op) {\n            case 0: return result < 0;\n            case 1: return result <= 0;\n            case 2: return result > 0;\n            case 3: return result >= 0;\n        }\n    }\n    static __compare(x, y, op) {\n        x = JSBI.__toPrimitive(x);\n        y = JSBI.__toPrimitive(y);\n        if (typeof x === 'string' && typeof y === 'string') {\n            switch (op) {\n                case 0: return x < y;\n                case 1: return x <= y;\n                case 2: return x > y;\n                case 3: return x >= y;\n            }\n        }\n        if (JSBI.__isBigInt(x) && typeof y === 'string') {\n            y = JSBI.__fromString(y);\n            if (y === null)\n                return false;\n            return JSBI.__comparisonResultToBool(JSBI.__compareToBigInt(x, y), op);\n        }\n        if (typeof x === 'string' && JSBI.__isBigInt(y)) {\n            x = JSBI.__fromString(x);\n            if (x === null)\n                return false;\n            return JSBI.__comparisonResultToBool(JSBI.__compareToBigInt(x, y), op);\n        }\n        x = JSBI.__toNumeric(x);\n        y = JSBI.__toNumeric(y);\n        if (JSBI.__isBigInt(x)) {\n            if (JSBI.__isBigInt(y)) {\n                return JSBI.__comparisonResultToBool(JSBI.__compareToBigInt(x, y), op);\n            }\n            if (typeof y !== 'number')\n                throw new Error('implementation bug');\n            return JSBI.__comparisonResultToBool(JSBI.__compareToNumber(x, y), op);\n        }\n        if (typeof x !== 'number')\n            throw new Error('implementation bug');\n        if (JSBI.__isBigInt(y)) {\n            // Note that \"op ^ 2\" reverses the op's direction.\n            return JSBI.__comparisonResultToBool(JSBI.__compareToNumber(y, x), (op ^ 2));\n        }\n        if (typeof y !== 'number')\n            throw new Error('implementation bug');\n        switch (op) {\n            case 0: return x < y;\n            case 1: return x <= y;\n            case 2: return x > y;\n            case 3: return x >= y;\n        }\n    }\n    __clzmsd() {\n        return JSBI.__clz30(this.__digit(this.length - 1));\n    }\n    static __absoluteAdd(x, y, resultSign) {\n        if (x.length < y.length)\n            return JSBI.__absoluteAdd(y, x, resultSign);\n        if (x.length === 0)\n            return x;\n        if (y.length === 0)\n            return x.sign === resultSign ? x : JSBI.unaryMinus(x);\n        let resultLength = x.length;\n        if (x.__clzmsd() === 0 || (y.length === x.length && y.__clzmsd() === 0)) {\n            resultLength++;\n        }\n        const result = new JSBI(resultLength, resultSign);\n        let carry = 0;\n        let i = 0;\n        for (; i < y.length; i++) {\n            const r = x.__digit(i) + y.__digit(i) + carry;\n            carry = r >>> 30;\n            result.__setDigit(i, r & 0x3FFFFFFF);\n        }\n        for (; i < x.length; i++) {\n            const r = x.__digit(i) + carry;\n            carry = r >>> 30;\n            result.__setDigit(i, r & 0x3FFFFFFF);\n        }\n        if (i < result.length) {\n            result.__setDigit(i, carry);\n        }\n        return result.__trim();\n    }\n    static __absoluteSub(x, y, resultSign) {\n        if (x.length === 0)\n            return x;\n        if (y.length === 0)\n            return x.sign === resultSign ? x : JSBI.unaryMinus(x);\n        const result = new JSBI(x.length, resultSign);\n        let borrow = 0;\n        let i = 0;\n        for (; i < y.length; i++) {\n            const r = x.__digit(i) - y.__digit(i) - borrow;\n            borrow = (r >>> 30) & 1;\n            result.__setDigit(i, r & 0x3FFFFFFF);\n        }\n        for (; i < x.length; i++) {\n            const r = x.__digit(i) - borrow;\n            borrow = (r >>> 30) & 1;\n            result.__setDigit(i, r & 0x3FFFFFFF);\n        }\n        return result.__trim();\n    }\n    static __absoluteAddOne(x, sign, result = null) {\n        const inputLength = x.length;\n        if (result === null) {\n            result = new JSBI(inputLength, sign);\n        }\n        else {\n            result.sign = sign;\n        }\n        let carry = 1;\n        for (let i = 0; i < inputLength; i++) {\n            const r = x.__digit(i) + carry;\n            carry = r >>> 30;\n            result.__setDigit(i, r & 0x3FFFFFFF);\n        }\n        if (carry !== 0) {\n            result.__setDigitGrow(inputLength, 1);\n        }\n        return result;\n    }\n    static __absoluteSubOne(x, resultLength) {\n        const length = x.length;\n        resultLength = resultLength || length;\n        const result = new JSBI(resultLength, false);\n        let borrow = 1;\n        for (let i = 0; i < length; i++) {\n            const r = x.__digit(i) - borrow;\n            borrow = (r >>> 30) & 1;\n            result.__setDigit(i, r & 0x3FFFFFFF);\n        }\n        if (borrow !== 0)\n            throw new Error('implementation bug');\n        for (let i = length; i < resultLength; i++) {\n            result.__setDigit(i, 0);\n        }\n        return result;\n    }\n    static __absoluteAnd(x, y, result = null) {\n        let xLength = x.length;\n        let yLength = y.length;\n        let numPairs = yLength;\n        if (xLength < yLength) {\n            numPairs = xLength;\n            const tmp = x;\n            const tmpLength = xLength;\n            x = y;\n            xLength = yLength;\n            y = tmp;\n            yLength = tmpLength;\n        }\n        let resultLength = numPairs;\n        if (result === null) {\n            result = new JSBI(resultLength, false);\n        }\n        else {\n            resultLength = result.length;\n        }\n        let i = 0;\n        for (; i < numPairs; i++) {\n            result.__setDigit(i, x.__digit(i) & y.__digit(i));\n        }\n        for (; i < resultLength; i++) {\n            result.__setDigit(i, 0);\n        }\n        return result;\n    }\n    static __absoluteAndNot(x, y, result = null) {\n        const xLength = x.length;\n        const yLength = y.length;\n        let numPairs = yLength;\n        if (xLength < yLength) {\n            numPairs = xLength;\n        }\n        let resultLength = xLength;\n        if (result === null) {\n            result = new JSBI(resultLength, false);\n        }\n        else {\n            resultLength = result.length;\n        }\n        let i = 0;\n        for (; i < numPairs; i++) {\n            result.__setDigit(i, x.__digit(i) & ~y.__digit(i));\n        }\n        for (; i < xLength; i++) {\n            result.__setDigit(i, x.__digit(i));\n        }\n        for (; i < resultLength; i++) {\n            result.__setDigit(i, 0);\n        }\n        return result;\n    }\n    static __absoluteOr(x, y, result = null) {\n        let xLength = x.length;\n        let yLength = y.length;\n        let numPairs = yLength;\n        if (xLength < yLength) {\n            numPairs = xLength;\n            const tmp = x;\n            const tmpLength = xLength;\n            x = y;\n            xLength = yLength;\n            y = tmp;\n            yLength = tmpLength;\n        }\n        let resultLength = xLength;\n        if (result === null) {\n            result = new JSBI(resultLength, false);\n        }\n        else {\n            resultLength = result.length;\n        }\n        let i = 0;\n        for (; i < numPairs; i++) {\n            result.__setDigit(i, x.__digit(i) | y.__digit(i));\n        }\n        for (; i < xLength; i++) {\n            result.__setDigit(i, x.__digit(i));\n        }\n        for (; i < resultLength; i++) {\n            result.__setDigit(i, 0);\n        }\n        return result;\n    }\n    static __absoluteXor(x, y, result = null) {\n        let xLength = x.length;\n        let yLength = y.length;\n        let numPairs = yLength;\n        if (xLength < yLength) {\n            numPairs = xLength;\n            const tmp = x;\n            const tmpLength = xLength;\n            x = y;\n            xLength = yLength;\n            y = tmp;\n            yLength = tmpLength;\n        }\n        let resultLength = xLength;\n        if (result === null) {\n            result = new JSBI(resultLength, false);\n        }\n        else {\n            resultLength = result.length;\n        }\n        let i = 0;\n        for (; i < numPairs; i++) {\n            result.__setDigit(i, x.__digit(i) ^ y.__digit(i));\n        }\n        for (; i < xLength; i++) {\n            result.__setDigit(i, x.__digit(i));\n        }\n        for (; i < resultLength; i++) {\n            result.__setDigit(i, 0);\n        }\n        return result;\n    }\n    static __absoluteCompare(x, y) {\n        const diff = x.length - y.length;\n        if (diff !== 0)\n            return diff;\n        let i = x.length - 1;\n        while (i >= 0 && x.__digit(i) === y.__digit(i))\n            i--;\n        if (i < 0)\n            return 0;\n        return x.__unsignedDigit(i) > y.__unsignedDigit(i) ? 1 : -1;\n    }\n    static __multiplyAccumulate(multiplicand, multiplier, accumulator, accumulatorIndex) {\n        if (multiplier === 0)\n            return;\n        const m2Low = multiplier & 0x7FFF;\n        const m2High = multiplier >>> 15;\n        let carry = 0;\n        let high = 0;\n        for (let i = 0; i < multiplicand.length; i++, accumulatorIndex++) {\n            let acc = accumulator.__digit(accumulatorIndex);\n            const m1 = multiplicand.__digit(i);\n            const m1Low = m1 & 0x7FFF;\n            const m1High = m1 >>> 15;\n            const rLow = JSBI.__imul(m1Low, m2Low);\n            const rMid1 = JSBI.__imul(m1Low, m2High);\n            const rMid2 = JSBI.__imul(m1High, m2Low);\n            const rHigh = JSBI.__imul(m1High, m2High);\n            acc += high + rLow + carry;\n            carry = acc >>> 30;\n            acc &= 0x3FFFFFFF;\n            acc += ((rMid1 & 0x7FFF) << 15) + ((rMid2 & 0x7FFF) << 15);\n            carry += acc >>> 30;\n            high = rHigh + (rMid1 >>> 15) + (rMid2 >>> 15);\n            accumulator.__setDigit(accumulatorIndex, acc & 0x3FFFFFFF);\n        }\n        for (; carry !== 0 || high !== 0; accumulatorIndex++) {\n            let acc = accumulator.__digit(accumulatorIndex);\n            acc += carry + high;\n            high = 0;\n            carry = acc >>> 30;\n            accumulator.__setDigit(accumulatorIndex, acc & 0x3FFFFFFF);\n        }\n    }\n    static __internalMultiplyAdd(source, factor, summand, n, result) {\n        let carry = summand;\n        let high = 0;\n        for (let i = 0; i < n; i++) {\n            const digit = source.__digit(i);\n            const rx = JSBI.__imul(digit & 0x7FFF, factor);\n            const ry = JSBI.__imul(digit >>> 15, factor);\n            const r = rx + ((ry & 0x7FFF) << 15) + high + carry;\n            carry = r >>> 30;\n            high = ry >>> 15;\n            result.__setDigit(i, r & 0x3FFFFFFF);\n        }\n        if (result.length > n) {\n            result.__setDigit(n++, carry + high);\n            while (n < result.length) {\n                result.__setDigit(n++, 0);\n            }\n        }\n        else {\n            if (carry + high !== 0)\n                throw new Error('implementation bug');\n        }\n    }\n    __inplaceMultiplyAdd(multiplier, summand, length) {\n        if (length > this.length)\n            length = this.length;\n        const mLow = multiplier & 0x7FFF;\n        const mHigh = multiplier >>> 15;\n        let carry = 0;\n        let high = summand;\n        for (let i = 0; i < length; i++) {\n            const d = this.__digit(i);\n            const dLow = d & 0x7FFF;\n            const dHigh = d >>> 15;\n            const pLow = JSBI.__imul(dLow, mLow);\n            const pMid1 = JSBI.__imul(dLow, mHigh);\n            const pMid2 = JSBI.__imul(dHigh, mLow);\n            const pHigh = JSBI.__imul(dHigh, mHigh);\n            let result = high + pLow + carry;\n            carry = result >>> 30;\n            result &= 0x3FFFFFFF;\n            result += ((pMid1 & 0x7FFF) << 15) + ((pMid2 & 0x7FFF) << 15);\n            carry += result >>> 30;\n            high = pHigh + (pMid1 >>> 15) + (pMid2 >>> 15);\n            this.__setDigit(i, result & 0x3FFFFFFF);\n        }\n        if (carry !== 0 || high !== 0) {\n            throw new Error('implementation bug');\n        }\n    }\n    static __absoluteDivSmall(x, divisor, quotient = null) {\n        if (quotient === null)\n            quotient = new JSBI(x.length, false);\n        let remainder = 0;\n        for (let i = x.length * 2 - 1; i >= 0; i -= 2) {\n            let input = ((remainder << 15) | x.__halfDigit(i)) >>> 0;\n            const upperHalf = (input / divisor) | 0;\n            remainder = (input % divisor) | 0;\n            input = ((remainder << 15) | x.__halfDigit(i - 1)) >>> 0;\n            const lowerHalf = (input / divisor) | 0;\n            remainder = (input % divisor) | 0;\n            quotient.__setDigit(i >>> 1, (upperHalf << 15) | lowerHalf);\n        }\n        return quotient;\n    }\n    static __absoluteModSmall(x, divisor) {\n        let remainder = 0;\n        for (let i = x.length * 2 - 1; i >= 0; i--) {\n            const input = ((remainder << 15) | x.__halfDigit(i)) >>> 0;\n            remainder = (input % divisor) | 0;\n        }\n        return remainder;\n    }\n    static __absoluteDivLarge(dividend, divisor, wantQuotient, wantRemainder) {\n        const n = divisor.__halfDigitLength();\n        const n2 = divisor.length;\n        const m = dividend.__halfDigitLength() - n;\n        let q = null;\n        if (wantQuotient) {\n            q = new JSBI((m + 2) >>> 1, false);\n            q.__initializeDigits();\n        }\n        const qhatv = new JSBI((n + 2) >>> 1, false);\n        qhatv.__initializeDigits();\n        // D1.\n        const shift = JSBI.__clz15(divisor.__halfDigit(n - 1));\n        if (shift > 0) {\n            divisor = JSBI.__specialLeftShift(divisor, shift, 0 /* add no digits*/);\n        }\n        const u = JSBI.__specialLeftShift(dividend, shift, 1 /* add one digit */);\n        // D2.\n        const vn1 = divisor.__halfDigit(n - 1);\n        let halfDigitBuffer = 0;\n        for (let j = m; j >= 0; j--) {\n            // D3.\n            let qhat = 0x7FFF;\n            const ujn = u.__halfDigit(j + n);\n            if (ujn !== vn1) {\n                const input = ((ujn << 15) | u.__halfDigit(j + n - 1)) >>> 0;\n                qhat = (input / vn1) | 0;\n                let rhat = (input % vn1) | 0;\n                const vn2 = divisor.__halfDigit(n - 2);\n                const ujn2 = u.__halfDigit(j + n - 2);\n                while ((JSBI.__imul(qhat, vn2) >>> 0) > (((rhat << 16) | ujn2) >>> 0)) {\n                    qhat--;\n                    rhat += vn1;\n                    if (rhat > 0x7FFF)\n                        break;\n                }\n            }\n            // D4.\n            JSBI.__internalMultiplyAdd(divisor, qhat, 0, n2, qhatv);\n            let c = u.__inplaceSub(qhatv, j, n + 1);\n            if (c !== 0) {\n                c = u.__inplaceAdd(divisor, j, n);\n                u.__setHalfDigit(j + n, (u.__halfDigit(j + n) + c) & 0x7FFF);\n                qhat--;\n            }\n            if (wantQuotient) {\n                if (j & 1) {\n                    halfDigitBuffer = qhat << 15;\n                }\n                else {\n                    // TODO make this statically determinable\n                    q.__setDigit(j >>> 1, halfDigitBuffer | qhat);\n                }\n            }\n        }\n        if (wantRemainder) {\n            u.__inplaceRightShift(shift);\n            if (wantQuotient) {\n                return { quotient: q, remainder: u };\n            }\n            return u;\n        }\n        if (wantQuotient)\n            return q;\n        // TODO find a way to make this statically unreachable?\n        throw new Error('unreachable');\n    }\n    static __clz15(value) {\n        return JSBI.__clz30(value) - 15;\n    }\n    // TODO: work on full digits, like __inplaceSub?\n    __inplaceAdd(summand, startIndex, halfDigits) {\n        let carry = 0;\n        for (let i = 0; i < halfDigits; i++) {\n            const sum = this.__halfDigit(startIndex + i) +\n                summand.__halfDigit(i) +\n                carry;\n            carry = sum >>> 15;\n            this.__setHalfDigit(startIndex + i, sum & 0x7FFF);\n        }\n        return carry;\n    }\n    __inplaceSub(subtrahend, startIndex, halfDigits) {\n        const fullSteps = (halfDigits - 1) >>> 1;\n        let borrow = 0;\n        if (startIndex & 1) {\n            // this:   [..][..][..]\n            // subtr.:   [..][..]\n            startIndex >>= 1;\n            let current = this.__digit(startIndex);\n            let r0 = current & 0x7FFF;\n            let i = 0;\n            for (; i < fullSteps; i++) {\n                const sub = subtrahend.__digit(i);\n                const r15 = (current >>> 15) - (sub & 0x7FFF) - borrow;\n                borrow = (r15 >>> 15) & 1;\n                this.__setDigit(startIndex + i, ((r15 & 0x7FFF) << 15) | (r0 & 0x7FFF));\n                current = this.__digit(startIndex + i + 1);\n                r0 = (current & 0x7FFF) - (sub >>> 15) - borrow;\n                borrow = (r0 >>> 15) & 1;\n            }\n            // Unrolling the last iteration gives a 5% performance benefit!\n            const sub = subtrahend.__digit(i);\n            const r15 = (current >>> 15) - (sub & 0x7FFF) - borrow;\n            borrow = (r15 >>> 15) & 1;\n            this.__setDigit(startIndex + i, ((r15 & 0x7FFF) << 15) | (r0 & 0x7FFF));\n            const subTop = sub >>> 15;\n            if (startIndex + i + 1 >= this.length) {\n                throw new RangeError('out of bounds');\n            }\n            if ((halfDigits & 1) === 0) {\n                current = this.__digit(startIndex + i + 1);\n                r0 = (current & 0x7FFF) - subTop - borrow;\n                borrow = (r0 >>> 15) & 1;\n                this.__setDigit(startIndex + subtrahend.length, (current & 0x3FFF8000) | (r0 & 0x7FFF));\n            }\n        }\n        else {\n            startIndex >>= 1;\n            let i = 0;\n            for (; i < subtrahend.length - 1; i++) {\n                const current = this.__digit(startIndex + i);\n                const sub = subtrahend.__digit(i);\n                const r0 = (current & 0x7FFF) - (sub & 0x7FFF) - borrow;\n                borrow = (r0 >>> 15) & 1;\n                const r15 = (current >>> 15) - (sub >>> 15) - borrow;\n                borrow = (r15 >>> 15) & 1;\n                this.__setDigit(startIndex + i, ((r15 & 0x7FFF) << 15) | (r0 & 0x7FFF));\n            }\n            const current = this.__digit(startIndex + i);\n            const sub = subtrahend.__digit(i);\n            const r0 = (current & 0x7FFF) - (sub & 0x7FFF) - borrow;\n            borrow = (r0 >>> 15) & 1;\n            let r15 = 0;\n            if ((halfDigits & 1) === 0) {\n                r15 = (current >>> 15) - (sub >>> 15) - borrow;\n                borrow = (r15 >>> 15) & 1;\n            }\n            this.__setDigit(startIndex + i, ((r15 & 0x7FFF) << 15) | (r0 & 0x7FFF));\n        }\n        return borrow;\n    }\n    __inplaceRightShift(shift) {\n        if (shift === 0)\n            return;\n        let carry = this.__digit(0) >>> shift;\n        const last = this.length - 1;\n        for (let i = 0; i < last; i++) {\n            const d = this.__digit(i + 1);\n            this.__setDigit(i, ((d << (30 - shift)) & 0x3FFFFFFF) | carry);\n            carry = d >>> shift;\n        }\n        this.__setDigit(last, carry);\n    }\n    static __specialLeftShift(x, shift, addDigit) {\n        const n = x.length;\n        const resultLength = n + addDigit;\n        const result = new JSBI(resultLength, false);\n        if (shift === 0) {\n            for (let i = 0; i < n; i++)\n                result.__setDigit(i, x.__digit(i));\n            if (addDigit > 0)\n                result.__setDigit(n, 0);\n            return result;\n        }\n        let carry = 0;\n        for (let i = 0; i < n; i++) {\n            const d = x.__digit(i);\n            result.__setDigit(i, ((d << shift) & 0x3FFFFFFF) | carry);\n            carry = d >>> (30 - shift);\n        }\n        if (addDigit > 0) {\n            result.__setDigit(n, carry);\n        }\n        return result;\n    }\n    static __leftShiftByAbsolute(x, y) {\n        const shift = JSBI.__toShiftAmount(y);\n        if (shift < 0)\n            throw new RangeError('BigInt too big');\n        const digitShift = (shift / 30) | 0;\n        const bitsShift = shift % 30;\n        const length = x.length;\n        const grow = bitsShift !== 0 &&\n            (x.__digit(length - 1) >>> (30 - bitsShift)) !== 0;\n        const resultLength = length + digitShift + (grow ? 1 : 0);\n        const result = new JSBI(resultLength, x.sign);\n        if (bitsShift === 0) {\n            let i = 0;\n            for (; i < digitShift; i++)\n                result.__setDigit(i, 0);\n            for (; i < resultLength; i++) {\n                result.__setDigit(i, x.__digit(i - digitShift));\n            }\n        }\n        else {\n            let carry = 0;\n            for (let i = 0; i < digitShift; i++)\n                result.__setDigit(i, 0);\n            for (let i = 0; i < length; i++) {\n                const d = x.__digit(i);\n                result.__setDigit(i + digitShift, ((d << bitsShift) & 0x3FFFFFFF) | carry);\n                carry = d >>> (30 - bitsShift);\n            }\n            if (grow) {\n                result.__setDigit(length + digitShift, carry);\n            }\n            else {\n                if (carry !== 0)\n                    throw new Error('implementation bug');\n            }\n        }\n        return result.__trim();\n    }\n    static __rightShiftByAbsolute(x, y) {\n        const length = x.length;\n        const sign = x.sign;\n        const shift = JSBI.__toShiftAmount(y);\n        if (shift < 0)\n            return JSBI.__rightShiftByMaximum(sign);\n        const digitShift = (shift / 30) | 0;\n        const bitsShift = shift % 30;\n        let resultLength = length - digitShift;\n        if (resultLength <= 0)\n            return JSBI.__rightShiftByMaximum(sign);\n        // For negative numbers, round down if any bit was shifted out (so that\n        // e.g. -5n >> 1n == -3n and not -2n). Check now whether this will happen\n        // and whether itc an cause overflow into a new digit. If we allocate the\n        // result large enough up front, it avoids having to do grow it later.\n        let mustRoundDown = false;\n        if (sign) {\n            const mask = (1 << bitsShift) - 1;\n            if ((x.__digit(digitShift) & mask) !== 0) {\n                mustRoundDown = true;\n            }\n            else {\n                for (let i = 0; i < digitShift; i++) {\n                    if (x.__digit(i) !== 0) {\n                        mustRoundDown = true;\n                        break;\n                    }\n                }\n            }\n        }\n        // If bitsShift is non-zero, it frees up bits, preventing overflow.\n        if (mustRoundDown && bitsShift === 0) {\n            // Overflow cannot happen if the most significant digit has unset bits.\n            const msd = x.__digit(length - 1);\n            const roundingCanOverflow = ~msd === 0;\n            if (roundingCanOverflow)\n                resultLength++;\n        }\n        let result = new JSBI(resultLength, sign);\n        if (bitsShift === 0) {\n            // Zero out any overflow digit (see \"roundingCanOverflow\" above).\n            result.__setDigit(resultLength - 1, 0);\n            for (let i = digitShift; i < length; i++) {\n                result.__setDigit(i - digitShift, x.__digit(i));\n            }\n        }\n        else {\n            let carry = x.__digit(digitShift) >>> bitsShift;\n            const last = length - digitShift - 1;\n            for (let i = 0; i < last; i++) {\n                const d = x.__digit(i + digitShift + 1);\n                result.__setDigit(i, ((d << (30 - bitsShift)) & 0x3FFFFFFF) | carry);\n                carry = d >>> bitsShift;\n            }\n            result.__setDigit(last, carry);\n        }\n        if (mustRoundDown) {\n            // Since the result is negative, rounding down means adding one to its\n            // absolute value. This cannot overflow.\n            result = JSBI.__absoluteAddOne(result, true, result);\n        }\n        return result.__trim();\n    }\n    static __rightShiftByMaximum(sign) {\n        if (sign) {\n            return JSBI.__oneDigit(1, true);\n        }\n        return JSBI.__zero();\n    }\n    static __toShiftAmount(x) {\n        if (x.length > 1)\n            return -1;\n        const value = x.__unsignedDigit(0);\n        if (value > JSBI.__kMaxLengthBits)\n            return -1;\n        return value;\n    }\n    static __toPrimitive(obj, hint = 'default') {\n        if (typeof obj !== 'object')\n            return obj;\n        if (obj.constructor === JSBI)\n            return obj;\n        if (typeof Symbol !== 'undefined' &&\n            typeof Symbol.toPrimitive === 'symbol') {\n            const exoticToPrim = obj[Symbol.toPrimitive];\n            if (exoticToPrim) {\n                const primitive = exoticToPrim(hint);\n                if (typeof primitive !== 'object')\n                    return primitive;\n                throw new TypeError('Cannot convert object to primitive value');\n            }\n        }\n        const valueOf = obj.valueOf;\n        if (valueOf) {\n            const primitive = valueOf.call(obj);\n            if (typeof primitive !== 'object')\n                return primitive;\n        }\n        const toString = obj.toString;\n        if (toString) {\n            const primitive = toString.call(obj);\n            if (typeof primitive !== 'object')\n                return primitive;\n        }\n        throw new TypeError('Cannot convert object to primitive value');\n    }\n    static __toNumeric(value) {\n        if (JSBI.__isBigInt(value))\n            return value;\n        return +value;\n    }\n    static __isBigInt(value) {\n        return typeof value === 'object' && value !== null &&\n            value.constructor === JSBI;\n    }\n    static __truncateToNBits(n, x) {\n        const neededDigits = ((n + 29) / 30) | 0;\n        const result = new JSBI(neededDigits, x.sign);\n        const last = neededDigits - 1;\n        for (let i = 0; i < last; i++) {\n            result.__setDigit(i, x.__digit(i));\n        }\n        let msd = x.__digit(last);\n        if ((n % 30) !== 0) {\n            const drop = 32 - (n % 30);\n            msd = (msd << drop) >>> drop;\n        }\n        result.__setDigit(last, msd);\n        return result.__trim();\n    }\n    static __truncateAndSubFromPowerOfTwo(n, x, resultSign) {\n        const neededDigits = ((n + 29) / 30) | 0;\n        const result = new JSBI(neededDigits, resultSign);\n        let i = 0;\n        const last = neededDigits - 1;\n        let borrow = 0;\n        const limit = Math.min(last, x.length);\n        for (; i < limit; i++) {\n            const r = 0 - x.__digit(i) - borrow;\n            borrow = (r >>> 30) & 1;\n            result.__setDigit(i, r & 0x3FFFFFFF);\n        }\n        for (; i < last; i++) {\n            result.__setDigit(i, (-borrow & 0x3FFFFFFF) | 0);\n        }\n        let msd = last < x.length ? x.__digit(last) : 0;\n        const msdBitsConsumed = n % 30;\n        let resultMsd;\n        if (msdBitsConsumed === 0) {\n            resultMsd = 0 - msd - borrow;\n            resultMsd &= 0x3FFFFFFF;\n        }\n        else {\n            const drop = 32 - msdBitsConsumed;\n            msd = (msd << drop) >>> drop;\n            const minuendMsd = 1 << (32 - drop);\n            resultMsd = minuendMsd - msd - borrow;\n            resultMsd &= (minuendMsd - 1);\n        }\n        result.__setDigit(last, resultMsd);\n        return result.__trim();\n    }\n    // Digit helpers.\n    __digit(i) {\n        return this[i];\n    }\n    __unsignedDigit(i) {\n        return this[i] >>> 0;\n    }\n    __setDigit(i, digit) {\n        this[i] = digit | 0;\n    }\n    __setDigitGrow(i, digit) {\n        this[i] = digit | 0;\n    }\n    __halfDigitLength() {\n        const len = this.length;\n        if (this.__unsignedDigit(len - 1) <= 0x7FFF)\n            return len * 2 - 1;\n        return len * 2;\n    }\n    __halfDigit(i) {\n        return (this[i >>> 1] >>> ((i & 1) * 15)) & 0x7FFF;\n    }\n    __setHalfDigit(i, value) {\n        const digitIndex = i >>> 1;\n        const previous = this.__digit(digitIndex);\n        const updated = (i & 1) ? (previous & 0x7FFF) | (value << 15)\n            : (previous & 0x3FFF8000) | (value & 0x7FFF);\n        this.__setDigit(digitIndex, updated);\n    }\n    static __digitPow(base, exponent) {\n        let result = 1;\n        while (exponent > 0) {\n            if (exponent & 1)\n                result *= base;\n            exponent >>>= 1;\n            base *= base;\n        }\n        return result;\n    }\n    static __isOneDigitInt(x) {\n        return (x & 0x3FFFFFFF) === x;\n    }\n}\nJSBI.__kMaxLength = 1 << 25;\nJSBI.__kMaxLengthBits = JSBI.__kMaxLength << 5;\n// Lookup table for the maximum number of bits required per character of a\n// base-N string representation of a number. To increase accuracy, the array\n// value is the actual value multiplied by 32. To generate this table:\n//\n// for (let i = 0; i <= 36; i++) {\n//   console.log(Math.ceil(Math.log2(i) * 32) + ',');\n// }\nJSBI.__kMaxBitsPerChar = [\n    0, 0, 32, 51, 64, 75, 83, 90, 96,\n    102, 107, 111, 115, 119, 122, 126, 128,\n    131, 134, 136, 139, 141, 143, 145, 147,\n    149, 151, 153, 154, 156, 158, 159, 160,\n    162, 163, 165, 166, // 33..36\n];\nJSBI.__kBitsPerCharTableShift = 5;\nJSBI.__kBitsPerCharTableMultiplier = 1 << JSBI.__kBitsPerCharTableShift;\nJSBI.__kConversionChars = '0123456789abcdefghijklmnopqrstuvwxyz'.split('');\nJSBI.__kBitConversionBuffer = new ArrayBuffer(8);\nJSBI.__kBitConversionDouble = new Float64Array(JSBI.__kBitConversionBuffer);\nJSBI.__kBitConversionInts = new Int32Array(JSBI.__kBitConversionBuffer);\n// For IE11 compatibility.\n// Note that the custom replacements are tailored for JSBI's needs, and as\n// such are not reusable as general-purpose polyfills.\nJSBI.__clz30 = Math.clz32 ? function (x) {\n    return Math.clz32(x) - 2;\n} : function (x) {\n    if (x === 0)\n        return 30;\n    return 29 - (Math.log(x >>> 0) / Math.LN2 | 0) | 0;\n};\nJSBI.__imul = Math.imul || function (a, b) {\n    return (a * b) | 0;\n};\nexport default JSBI;\n//# sourceMappingURL=jsbi.js.map","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** `Object#toString` result references. */\nvar funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    return freeProcess && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\n/* Node.js helper references. */\nvar nodeIsMap = nodeUtil && nodeUtil.isMap;\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView'),\n    Map = getNative(root, 'Map'),\n    Promise = getNative(root, 'Promise'),\n    Set = getNative(root, 'Set'),\n    WeakMap = getNative(root, 'WeakMap');\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * The base implementation of `getTag`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  return objectToString.call(value);\n}\n\n/**\n * The base implementation of `_.isMap` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n */\nfunction baseIsMap(value) {\n  return isObjectLike(value) && getTag(value) == mapTag;\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11,\n// for data views in Edge < 14, and promises in Node.js.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = objectToString.call(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : undefined;\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to process.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Map` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n * @example\n *\n * _.isMap(new Map);\n * // => true\n *\n * _.isMap(new WeakMap);\n * // => false\n */\nvar isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;\n\nmodule.exports = isMap;\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** `Object#toString` result references. */\nvar funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    return freeProcess && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\n/* Node.js helper references. */\nvar nodeIsSet = nodeUtil && nodeUtil.isSet;\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView'),\n    Map = getNative(root, 'Map'),\n    Promise = getNative(root, 'Promise'),\n    Set = getNative(root, 'Set'),\n    WeakMap = getNative(root, 'WeakMap');\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * The base implementation of `getTag`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  return objectToString.call(value);\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.isSet` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n */\nfunction baseIsSet(value) {\n  return isObjectLike(value) && getTag(value) == setTag;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11,\n// for data views in Edge < 14, and promises in Node.js.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = objectToString.call(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : undefined;\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to process.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Set` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n * @example\n *\n * _.isSet(new Set);\n * // => true\n *\n * _.isSet(new WeakSet);\n * // => false\n */\nvar isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;\n\nmodule.exports = isSet;\n","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}","import _extends from '@babel/runtime/helpers/esm/extends';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\n\n//      \n\nvar charCodeOfDot = \".\".charCodeAt(0);\nvar reEscapeChar = /\\\\(\\\\)?/g;\nvar rePropName = RegExp(\n// Match anything that isn't a dot or bracket.\n\"[^.[\\\\]]+\" + \"|\" +\n// Or match property names within brackets.\n\"\\\\[(?:\" +\n// Match a non-string expression.\n\"([^\\\"'][^[]*)\" + \"|\" +\n// Or match strings (supports escaping characters).\n\"([\\\"'])((?:(?!\\\\2)[^\\\\\\\\]|\\\\\\\\.)*?)\\\\2\" + \")\\\\]\" + \"|\" +\n// Or match \"\" as the space between consecutive dots or empty brackets.\n\"(?=(?:\\\\.|\\\\[\\\\])(?:\\\\.|\\\\[\\\\]|$))\", \"g\");\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = function stringToPath(string) {\n  var result = [];\n  if (string.charCodeAt(0) === charCodeOfDot) {\n    result.push(\"\");\n  }\n  string.replace(rePropName, function (match, expression, quote, subString) {\n    var key = match;\n    if (quote) {\n      key = subString.replace(reEscapeChar, \"$1\");\n    } else if (expression) {\n      key = expression.trim();\n    }\n    result.push(key);\n  });\n  return result;\n};\nvar keysCache = {};\nvar keysRegex = /[.[\\]]+/;\nvar toPath = function toPath(key) {\n  if (key === null || key === undefined || !key.length) {\n    return [];\n  }\n  if (typeof key !== \"string\") {\n    throw new Error(\"toPath() expects a string\");\n  }\n  if (keysCache[key] == null) {\n    /**\n     * The following patch fixes issue 456, introduced since v4.20.3:\n     *\n     * Before v4.20.3, i.e. in v4.20.2, a `key` like 'choices[]' would map to ['choices']\n     * (e.g. an array of choices used where 'choices[]' is name attribute of an input of type checkbox).\n     *\n     * Since v4.20.3, a `key` like 'choices[]' would map to ['choices', ''] which is wrong and breaks\n     * this kind of inputs e.g. in React.\n     *\n     * v4.20.3 introduced an unwanted breaking change, this patch fixes it, see the issue at the link below.\n     *\n     * @see https://github.com/final-form/final-form/issues/456\n     */\n    if (key.endsWith(\"[]\")) {\n      // v4.20.2 (a `key` like 'choices[]' should map to ['choices'], which is fine).\n      keysCache[key] = key.split(keysRegex).filter(Boolean);\n    } else {\n      // v4.20.3 (a `key` like 'choices[]' maps to ['choices', ''], which breaks applications relying on inputs like `<input type=\"checkbox\" name=\"choices[]\" />`).\n      keysCache[key] = stringToPath(key);\n    }\n  }\n  return keysCache[key];\n};\n\n//      \nvar getIn = function getIn(state, complexKey) {\n  // Intentionally using iteration rather than recursion\n  var path = toPath(complexKey);\n  var current = state;\n  for (var i = 0; i < path.length; i++) {\n    var key = path[i];\n    if (current === undefined || current === null || typeof current !== \"object\" || Array.isArray(current) && isNaN(key)) {\n      return undefined;\n    }\n    current = current[key];\n  }\n  return current;\n};\n\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nvar setInRecursor = function setInRecursor(current, index, path, value, destroyArrays) {\n  if (index >= path.length) {\n    // end of recursion\n    return value;\n  }\n  var key = path[index];\n\n  // determine type of key\n  if (isNaN(key)) {\n    var _extends2;\n    // object set\n    if (current === undefined || current === null) {\n      var _ref;\n      // recurse\n      var _result = setInRecursor(undefined, index + 1, path, value, destroyArrays);\n\n      // delete or create an object\n      return _result === undefined ? undefined : (_ref = {}, _ref[key] = _result, _ref);\n    }\n    if (Array.isArray(current)) {\n      throw new Error(\"Cannot set a non-numeric property on an array\");\n    }\n    // current exists, so make a copy of all its values, and add/update the new one\n    var _result2 = setInRecursor(current[key], index + 1, path, value, destroyArrays);\n    if (_result2 === undefined) {\n      var numKeys = Object.keys(current).length;\n      if (current[key] === undefined && numKeys === 0) {\n        // object was already empty\n        return undefined;\n      }\n      if (current[key] !== undefined && numKeys <= 1) {\n        // only key we had was the one we are deleting\n        if (!isNaN(path[index - 1]) && !destroyArrays) {\n          // we are in an array, so return an empty object\n          return {};\n        } else {\n          return undefined;\n        }\n      }\n      current[key];\n        var _final = _objectWithoutPropertiesLoose(current, [key].map(_toPropertyKey));\n      return _final;\n    }\n    // set result in key\n    return _extends({}, current, (_extends2 = {}, _extends2[key] = _result2, _extends2));\n  }\n  // array set\n  var numericKey = Number(key);\n  if (current === undefined || current === null) {\n    // recurse\n    var _result3 = setInRecursor(undefined, index + 1, path, value, destroyArrays);\n\n    // if nothing returned, delete it\n    if (_result3 === undefined) {\n      return undefined;\n    }\n\n    // create an array\n    var _array = [];\n    _array[numericKey] = _result3;\n    return _array;\n  }\n  if (!Array.isArray(current)) {\n    throw new Error(\"Cannot set a numeric property on an object\");\n  }\n  // recurse\n  var existingValue = current[numericKey];\n  var result = setInRecursor(existingValue, index + 1, path, value, destroyArrays);\n\n  // current exists, so make a copy of all its values, and add/update the new one\n  var array = [].concat(current);\n  if (destroyArrays && result === undefined) {\n    array.splice(numericKey, 1);\n    if (array.length === 0) {\n      return undefined;\n    }\n  } else {\n    array[numericKey] = result;\n  }\n  return array;\n};\nvar setIn = function setIn(state, key, value, destroyArrays) {\n  if (destroyArrays === void 0) {\n    destroyArrays = false;\n  }\n  if (state === undefined || state === null) {\n    throw new Error(\"Cannot call setIn() with \" + String(state) + \" state\");\n  }\n  if (key === undefined || key === null) {\n    throw new Error(\"Cannot call setIn() with \" + String(key) + \" key\");\n  }\n  // Recursive function needs to accept and return State, but public API should\n  // only deal with Objects\n  return setInRecursor(state, 0, toPath(key), value, destroyArrays);\n};\n\nvar FORM_ERROR = \"FINAL_FORM/form-error\";\nvar ARRAY_ERROR = \"FINAL_FORM/array-error\";\n\n//      \n\n\n/**\n * Converts internal field state to published field state\n */\nfunction publishFieldState(formState, field) {\n  var errors = formState.errors,\n    initialValues = formState.initialValues,\n    lastSubmittedValues = formState.lastSubmittedValues,\n    submitErrors = formState.submitErrors,\n    submitFailed = formState.submitFailed,\n    submitSucceeded = formState.submitSucceeded,\n    submitting = formState.submitting,\n    values = formState.values;\n  var active = field.active,\n    blur = field.blur,\n    change = field.change,\n    data = field.data,\n    focus = field.focus,\n    modified = field.modified,\n    modifiedSinceLastSubmit = field.modifiedSinceLastSubmit,\n    name = field.name,\n    touched = field.touched,\n    validating = field.validating,\n    visited = field.visited;\n  var value = getIn(values, name);\n  var error = getIn(errors, name);\n  if (error && error[ARRAY_ERROR]) {\n    error = error[ARRAY_ERROR];\n  }\n  var submitError = submitErrors && getIn(submitErrors, name);\n  var initial = initialValues && getIn(initialValues, name);\n  var pristine = field.isEqual(initial, value);\n  var dirtySinceLastSubmit = !!(lastSubmittedValues && !field.isEqual(getIn(lastSubmittedValues, name), value));\n  var valid = !error && !submitError;\n  return {\n    active: active,\n    blur: blur,\n    change: change,\n    data: data,\n    dirty: !pristine,\n    dirtySinceLastSubmit: dirtySinceLastSubmit,\n    error: error,\n    focus: focus,\n    initial: initial,\n    invalid: !valid,\n    length: Array.isArray(value) ? value.length : undefined,\n    modified: modified,\n    modifiedSinceLastSubmit: modifiedSinceLastSubmit,\n    name: name,\n    pristine: pristine,\n    submitError: submitError,\n    submitFailed: submitFailed,\n    submitSucceeded: submitSucceeded,\n    submitting: submitting,\n    touched: touched,\n    valid: valid,\n    value: value,\n    visited: visited,\n    validating: validating\n  };\n}\n\n//      \nvar fieldSubscriptionItems = [\"active\", \"data\", \"dirty\", \"dirtySinceLastSubmit\", \"error\", \"initial\", \"invalid\", \"length\", \"modified\", \"modifiedSinceLastSubmit\", \"pristine\", \"submitError\", \"submitFailed\", \"submitSucceeded\", \"submitting\", \"touched\", \"valid\", \"value\", \"visited\", \"validating\"];\n\n//      \n\nvar shallowEqual = function shallowEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n  if (typeof a !== \"object\" || !a || typeof b !== \"object\" || !b) {\n    return false;\n  }\n  var keysA = Object.keys(a);\n  var keysB = Object.keys(b);\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n  var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(b);\n  for (var idx = 0; idx < keysA.length; idx++) {\n    var key = keysA[idx];\n    if (!bHasOwnProperty(key) || a[key] !== b[key]) {\n      return false;\n    }\n  }\n  return true;\n};\n\n//      \nfunction subscriptionFilter (dest, src, previous, subscription, keys, shallowEqualKeys) {\n  var different = false;\n  keys.forEach(function (key) {\n    if (subscription[key]) {\n      dest[key] = src[key];\n      if (!previous || (~shallowEqualKeys.indexOf(key) ? !shallowEqual(src[key], previous[key]) : src[key] !== previous[key])) {\n        different = true;\n      }\n    }\n  });\n  return different;\n}\n\n//      \nvar shallowEqualKeys$1 = [\"data\"];\n\n/**\n * Filters items in a FieldState based on a FieldSubscription\n */\nvar filterFieldState = function filterFieldState(state, previousState, subscription, force) {\n  var result = {\n    blur: state.blur,\n    change: state.change,\n    focus: state.focus,\n    name: state.name\n  };\n  var different = subscriptionFilter(result, state, previousState, subscription, fieldSubscriptionItems, shallowEqualKeys$1) || !previousState;\n  return different || force ? result : undefined;\n};\n\n//      \nvar formSubscriptionItems = [\"active\", \"dirty\", \"dirtyFields\", \"dirtyFieldsSinceLastSubmit\", \"dirtySinceLastSubmit\", \"error\", \"errors\", \"hasSubmitErrors\", \"hasValidationErrors\", \"initialValues\", \"invalid\", \"modified\", \"modifiedSinceLastSubmit\", \"pristine\", \"submitting\", \"submitError\", \"submitErrors\", \"submitFailed\", \"submitSucceeded\", \"touched\", \"valid\", \"validating\", \"values\", \"visited\"];\n\n//      \nvar shallowEqualKeys = [\"touched\", \"visited\"];\n\n/**\n * Filters items in a FormState based on a FormSubscription\n */\nfunction filterFormState(state, previousState, subscription, force) {\n  var result = {};\n  var different = subscriptionFilter(result, state, previousState, subscription, formSubscriptionItems, shallowEqualKeys) || !previousState;\n  return different || force ? result : undefined;\n}\n\n//      \nvar memoize = function memoize(fn) {\n  var lastArgs;\n  var lastResult;\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    if (!lastArgs || args.length !== lastArgs.length || args.some(function (arg, index) {\n      return !shallowEqual(lastArgs[index], arg);\n    })) {\n      lastArgs = args;\n      lastResult = fn.apply(void 0, args);\n    }\n    return lastResult;\n  };\n};\n\nvar isPromise = (function (obj) {\n  return !!obj && (typeof obj === \"object\" || typeof obj === \"function\") && typeof obj.then === \"function\";\n});\n\nvar version = \"4.20.10\";\n\nvar configOptions = [\"debug\", \"initialValues\", \"keepDirtyOnReinitialize\", \"mutators\", \"onSubmit\", \"validate\", \"validateOnBlur\"];\nvar tripleEquals = function tripleEquals(a, b) {\n  return a === b;\n};\nvar hasAnyError = function hasAnyError(errors) {\n  return Object.keys(errors).some(function (key) {\n    var value = errors[key];\n    if (value && typeof value === \"object\" && !(value instanceof Error)) {\n      return hasAnyError(value);\n    }\n    return typeof value !== \"undefined\";\n  });\n};\nfunction convertToExternalFormState(_ref) {\n  var active = _ref.active,\n    dirtySinceLastSubmit = _ref.dirtySinceLastSubmit,\n    modifiedSinceLastSubmit = _ref.modifiedSinceLastSubmit,\n    error = _ref.error,\n    errors = _ref.errors,\n    initialValues = _ref.initialValues,\n    pristine = _ref.pristine,\n    submitting = _ref.submitting,\n    submitFailed = _ref.submitFailed,\n    submitSucceeded = _ref.submitSucceeded,\n    submitError = _ref.submitError,\n    submitErrors = _ref.submitErrors,\n    valid = _ref.valid,\n    validating = _ref.validating,\n    values = _ref.values;\n  return {\n    active: active,\n    dirty: !pristine,\n    dirtySinceLastSubmit: dirtySinceLastSubmit,\n    modifiedSinceLastSubmit: modifiedSinceLastSubmit,\n    error: error,\n    errors: errors,\n    hasSubmitErrors: !!(submitError || submitErrors && hasAnyError(submitErrors)),\n    hasValidationErrors: !!(error || hasAnyError(errors)),\n    invalid: !valid,\n    initialValues: initialValues,\n    pristine: pristine,\n    submitting: submitting,\n    submitFailed: submitFailed,\n    submitSucceeded: submitSucceeded,\n    submitError: submitError,\n    submitErrors: submitErrors,\n    valid: valid,\n    validating: validating > 0,\n    values: values\n  };\n}\nfunction notifySubscriber(subscriber, subscription, state, lastState, filter, force) {\n  var notification = filter(state, lastState, subscription, force);\n  if (notification) {\n    subscriber(notification);\n    return true;\n  }\n  return false;\n}\nfunction notify(_ref2, state, lastState, filter, force) {\n  var entries = _ref2.entries;\n  Object.keys(entries).forEach(function (key) {\n    var entry = entries[Number(key)];\n    // istanbul ignore next\n    if (entry) {\n      var subscription = entry.subscription,\n        subscriber = entry.subscriber,\n        notified = entry.notified;\n      if (notifySubscriber(subscriber, subscription, state, lastState, filter, force || !notified)) {\n        entry.notified = true;\n      }\n    }\n  });\n}\nfunction createForm(config) {\n  if (!config) {\n    throw new Error(\"No config specified\");\n  }\n  var debug = config.debug,\n    destroyOnUnregister = config.destroyOnUnregister,\n    keepDirtyOnReinitialize = config.keepDirtyOnReinitialize,\n    initialValues = config.initialValues,\n    mutators = config.mutators,\n    onSubmit = config.onSubmit,\n    validate = config.validate,\n    validateOnBlur = config.validateOnBlur;\n  if (!onSubmit) {\n    throw new Error(\"No onSubmit function specified\");\n  }\n  var state = {\n    subscribers: {\n      index: 0,\n      entries: {}\n    },\n    fieldSubscribers: {},\n    fields: {},\n    formState: {\n      asyncErrors: {},\n      dirtySinceLastSubmit: false,\n      modifiedSinceLastSubmit: false,\n      errors: {},\n      initialValues: initialValues && _extends({}, initialValues),\n      invalid: false,\n      pristine: true,\n      submitting: false,\n      submitFailed: false,\n      submitSucceeded: false,\n      resetWhileSubmitting: false,\n      valid: true,\n      validating: 0,\n      values: initialValues ? _extends({}, initialValues) : {}\n    },\n    lastFormState: undefined\n  };\n  var inBatch = 0;\n  var validationPaused = false;\n  var validationBlocked = false;\n  var preventNotificationWhileValidationPaused = false;\n  var nextAsyncValidationKey = 0;\n  var asyncValidationPromises = {};\n  var clearAsyncValidationPromise = function clearAsyncValidationPromise(key) {\n    return function (result) {\n      delete asyncValidationPromises[key];\n      return result;\n    };\n  };\n  var changeValue = function changeValue(state, name, mutate) {\n    var before = getIn(state.formState.values, name);\n    var after = mutate(before);\n    state.formState.values = setIn(state.formState.values, name, after) || {};\n  };\n  var renameField = function renameField(state, from, to) {\n    if (state.fields[from]) {\n      var _extends2, _extends3;\n      state.fields = _extends({}, state.fields, (_extends2 = {}, _extends2[to] = _extends({}, state.fields[from], {\n        name: to,\n        // rebind event handlers\n        blur: function blur() {\n          return api.blur(to);\n        },\n        change: function change(value) {\n          return api.change(to, value);\n        },\n        focus: function focus() {\n          return api.focus(to);\n        },\n        lastFieldState: undefined\n      }), _extends2));\n      delete state.fields[from];\n      state.fieldSubscribers = _extends({}, state.fieldSubscribers, (_extends3 = {}, _extends3[to] = state.fieldSubscribers[from], _extends3));\n      delete state.fieldSubscribers[from];\n      var value = getIn(state.formState.values, from);\n      state.formState.values = setIn(state.formState.values, from, undefined) || {};\n      state.formState.values = setIn(state.formState.values, to, value);\n      delete state.lastFormState;\n    }\n  };\n\n  // bind state to mutators\n  var getMutatorApi = function getMutatorApi(key) {\n    return function () {\n      // istanbul ignore next\n      if (mutators) {\n        // ^^ causes branch coverage warning, but needed to appease the Flow gods\n        var mutatableState = {\n          formState: state.formState,\n          fields: state.fields,\n          fieldSubscribers: state.fieldSubscribers,\n          lastFormState: state.lastFormState\n        };\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n        var returnValue = mutators[key](args, mutatableState, {\n          changeValue: changeValue,\n          getIn: getIn,\n          renameField: renameField,\n          resetFieldState: api.resetFieldState,\n          setIn: setIn,\n          shallowEqual: shallowEqual\n        });\n        state.formState = mutatableState.formState;\n        state.fields = mutatableState.fields;\n        state.fieldSubscribers = mutatableState.fieldSubscribers;\n        state.lastFormState = mutatableState.lastFormState;\n        runValidation(undefined, function () {\n          notifyFieldListeners();\n          notifyFormListeners();\n        });\n        return returnValue;\n      }\n    };\n  };\n  var mutatorsApi = mutators ? Object.keys(mutators).reduce(function (result, key) {\n    result[key] = getMutatorApi(key);\n    return result;\n  }, {}) : {};\n  var runRecordLevelValidation = function runRecordLevelValidation(setErrors) {\n    var promises = [];\n    if (validate) {\n      var errorsOrPromise = validate(_extends({}, state.formState.values)); // clone to avoid writing\n      if (isPromise(errorsOrPromise)) {\n        promises.push(errorsOrPromise.then(function (errors) {\n          return setErrors(errors, true);\n        }));\n      } else {\n        setErrors(errorsOrPromise, false);\n      }\n    }\n    return promises;\n  };\n  var getValidators = function getValidators(field) {\n    return Object.keys(field.validators).reduce(function (result, index) {\n      var validator = field.validators[Number(index)]();\n      if (validator) {\n        result.push(validator);\n      }\n      return result;\n    }, []);\n  };\n  var runFieldLevelValidation = function runFieldLevelValidation(field, setError) {\n    var promises = [];\n    var validators = getValidators(field);\n    if (validators.length) {\n      var error;\n      validators.forEach(function (validator) {\n        var errorOrPromise = validator(getIn(state.formState.values, field.name), state.formState.values, validator.length === 0 || validator.length === 3 ? publishFieldState(state.formState, state.fields[field.name]) : undefined);\n        if (errorOrPromise && isPromise(errorOrPromise)) {\n          field.validating = true;\n          var promise = errorOrPromise.then(function (error) {\n            if (state.fields[field.name]) {\n              state.fields[field.name].validating = false;\n              setError(error);\n            }\n          }); // errors must be resolved, not rejected\n          promises.push(promise);\n        } else if (!error) {\n          // first registered validator wins\n          error = errorOrPromise;\n        }\n      });\n      setError(error);\n    }\n    return promises;\n  };\n  var runValidation = function runValidation(fieldChanged, callback) {\n    if (validationPaused) {\n      validationBlocked = true;\n      callback();\n      return;\n    }\n    var fields = state.fields,\n      formState = state.formState;\n    var safeFields = _extends({}, fields);\n    var fieldKeys = Object.keys(safeFields);\n    if (!validate && !fieldKeys.some(function (key) {\n      return getValidators(safeFields[key]).length;\n    })) {\n      callback();\n      return; // no validation rules\n    }\n\n    // pare down field keys to actually validate\n    var limitedFieldLevelValidation = false;\n    if (fieldChanged) {\n      var changedField = safeFields[fieldChanged];\n      if (changedField) {\n        var validateFields = changedField.validateFields;\n        if (validateFields) {\n          limitedFieldLevelValidation = true;\n          fieldKeys = validateFields.length ? validateFields.concat(fieldChanged) : [fieldChanged];\n        }\n      }\n    }\n    var recordLevelErrors = {};\n    var asyncRecordLevelErrors = {};\n    var fieldLevelErrors = {};\n    var promises = [].concat(runRecordLevelValidation(function (errors, wasAsync) {\n      if (wasAsync) {\n        asyncRecordLevelErrors = errors || {};\n      } else {\n        recordLevelErrors = errors || {};\n      }\n    }), fieldKeys.reduce(function (result, name) {\n      return result.concat(runFieldLevelValidation(fields[name], function (error) {\n        fieldLevelErrors[name] = error;\n      }));\n    }, []));\n    var hasAsyncValidations = promises.length > 0;\n    var asyncValidationPromiseKey = ++nextAsyncValidationKey;\n    var promise = Promise.all(promises).then(clearAsyncValidationPromise(asyncValidationPromiseKey));\n\n    // backwards-compat: add promise to submit-blocking promises iff there are any promises to await\n    if (hasAsyncValidations) {\n      asyncValidationPromises[asyncValidationPromiseKey] = promise;\n    }\n    var processErrors = function processErrors(afterAsync) {\n      var merged = _extends({}, limitedFieldLevelValidation ? formState.errors : {}, recordLevelErrors, afterAsync ? asyncRecordLevelErrors // new async errors\n      : formState.asyncErrors);\n      var forEachError = function forEachError(fn) {\n        fieldKeys.forEach(function (name) {\n          if (fields[name]) {\n            // make sure field is still registered\n            // field-level errors take precedent over record-level errors\n            var recordLevelError = getIn(recordLevelErrors, name);\n            var errorFromParent = getIn(merged, name);\n            var hasFieldLevelValidation = getValidators(safeFields[name]).length;\n            var fieldLevelError = fieldLevelErrors[name];\n            fn(name, hasFieldLevelValidation && fieldLevelError || validate && recordLevelError || (!recordLevelError && !limitedFieldLevelValidation ? errorFromParent : undefined));\n          }\n        });\n      };\n      forEachError(function (name, error) {\n        merged = setIn(merged, name, error) || {};\n      });\n      forEachError(function (name, error) {\n        if (error && error[ARRAY_ERROR]) {\n          var existing = getIn(merged, name);\n          var copy = [].concat(existing);\n          copy[ARRAY_ERROR] = error[ARRAY_ERROR];\n          merged = setIn(merged, name, copy);\n        }\n      });\n      if (!shallowEqual(formState.errors, merged)) {\n        formState.errors = merged;\n      }\n      if (afterAsync) {\n        formState.asyncErrors = asyncRecordLevelErrors;\n      }\n      formState.error = recordLevelErrors[FORM_ERROR];\n    };\n    if (hasAsyncValidations) {\n      // async validations are running, ensure validating is true before notifying\n      state.formState.validating++;\n      callback();\n    }\n\n    // process sync errors\n    processErrors(false);\n    // sync errors have been set. notify listeners while we wait for others\n    callback();\n    if (hasAsyncValidations) {\n      var afterPromise = function afterPromise() {\n        state.formState.validating--;\n        callback();\n        // field async validation may affect formState validating\n        // so force notifyFormListeners if validating is still 0 after callback finished\n        // and lastFormState validating is true\n        if (state.formState.validating === 0 && state.lastFormState.validating) {\n          notifyFormListeners();\n        }\n      };\n      promise.then(function () {\n        if (nextAsyncValidationKey > asyncValidationPromiseKey) {\n          // if this async validator has been superseded by another, ignore its results\n          return;\n        }\n        processErrors(true);\n      }).then(afterPromise, afterPromise);\n    }\n  };\n  var notifyFieldListeners = function notifyFieldListeners(name) {\n    if (inBatch) {\n      return;\n    }\n    var fields = state.fields,\n      fieldSubscribers = state.fieldSubscribers,\n      formState = state.formState;\n    var safeFields = _extends({}, fields);\n    var notifyField = function notifyField(name) {\n      var field = safeFields[name];\n      var fieldState = publishFieldState(formState, field);\n      var lastFieldState = field.lastFieldState;\n      field.lastFieldState = fieldState;\n      var fieldSubscriber = fieldSubscribers[name];\n      if (fieldSubscriber) {\n        notify(fieldSubscriber, fieldState, lastFieldState, filterFieldState, lastFieldState === undefined);\n      }\n    };\n    if (name) {\n      notifyField(name);\n    } else {\n      Object.keys(safeFields).forEach(notifyField);\n    }\n  };\n  var markAllFieldsTouched = function markAllFieldsTouched() {\n    Object.keys(state.fields).forEach(function (key) {\n      state.fields[key].touched = true;\n    });\n  };\n  var hasSyncErrors = function hasSyncErrors() {\n    return !!(state.formState.error || hasAnyError(state.formState.errors));\n  };\n  var calculateNextFormState = function calculateNextFormState() {\n    var fields = state.fields,\n      formState = state.formState,\n      lastFormState = state.lastFormState;\n    var safeFields = _extends({}, fields);\n    var safeFieldKeys = Object.keys(safeFields);\n\n    // calculate dirty/pristine\n    var foundDirty = false;\n    var dirtyFields = safeFieldKeys.reduce(function (result, key) {\n      var dirty = !safeFields[key].isEqual(getIn(formState.values, key), getIn(formState.initialValues || {}, key));\n      if (dirty) {\n        foundDirty = true;\n        result[key] = true;\n      }\n      return result;\n    }, {});\n    var dirtyFieldsSinceLastSubmit = safeFieldKeys.reduce(function (result, key) {\n      // istanbul ignore next\n      var nonNullLastSubmittedValues = formState.lastSubmittedValues || {}; // || {} is for flow, but causes branch coverage complaint\n      if (!safeFields[key].isEqual(getIn(formState.values, key), getIn(nonNullLastSubmittedValues, key))) {\n        result[key] = true;\n      }\n      return result;\n    }, {});\n    formState.pristine = !foundDirty;\n    formState.dirtySinceLastSubmit = !!(formState.lastSubmittedValues && Object.values(dirtyFieldsSinceLastSubmit).some(function (value) {\n      return value;\n    }));\n    formState.modifiedSinceLastSubmit = !!(formState.lastSubmittedValues &&\n    // Object.values would treat values as mixed (facebook/flow#2221)\n    Object.keys(safeFields).some(function (value) {\n      return safeFields[value].modifiedSinceLastSubmit;\n    }));\n    formState.valid = !formState.error && !formState.submitError && !hasAnyError(formState.errors) && !(formState.submitErrors && hasAnyError(formState.submitErrors));\n    var nextFormState = convertToExternalFormState(formState);\n    var _safeFieldKeys$reduce = safeFieldKeys.reduce(function (result, key) {\n        result.modified[key] = safeFields[key].modified;\n        result.touched[key] = safeFields[key].touched;\n        result.visited[key] = safeFields[key].visited;\n        return result;\n      }, {\n        modified: {},\n        touched: {},\n        visited: {}\n      }),\n      modified = _safeFieldKeys$reduce.modified,\n      touched = _safeFieldKeys$reduce.touched,\n      visited = _safeFieldKeys$reduce.visited;\n    nextFormState.dirtyFields = lastFormState && shallowEqual(lastFormState.dirtyFields, dirtyFields) ? lastFormState.dirtyFields : dirtyFields;\n    nextFormState.dirtyFieldsSinceLastSubmit = lastFormState && shallowEqual(lastFormState.dirtyFieldsSinceLastSubmit, dirtyFieldsSinceLastSubmit) ? lastFormState.dirtyFieldsSinceLastSubmit : dirtyFieldsSinceLastSubmit;\n    nextFormState.modified = lastFormState && shallowEqual(lastFormState.modified, modified) ? lastFormState.modified : modified;\n    nextFormState.touched = lastFormState && shallowEqual(lastFormState.touched, touched) ? lastFormState.touched : touched;\n    nextFormState.visited = lastFormState && shallowEqual(lastFormState.visited, visited) ? lastFormState.visited : visited;\n    return lastFormState && shallowEqual(lastFormState, nextFormState) ? lastFormState : nextFormState;\n  };\n  var callDebug = function callDebug() {\n    return debug && \"development\" !== \"production\" && debug(calculateNextFormState(), Object.keys(state.fields).reduce(function (result, key) {\n      result[key] = state.fields[key];\n      return result;\n    }, {}));\n  };\n  var notifying = false;\n  var scheduleNotification = false;\n  var notifyFormListeners = function notifyFormListeners() {\n    if (notifying) {\n      scheduleNotification = true;\n    } else {\n      notifying = true;\n      callDebug();\n      if (!inBatch && !(validationPaused && preventNotificationWhileValidationPaused)) {\n        var lastFormState = state.lastFormState;\n        var nextFormState = calculateNextFormState();\n        if (nextFormState !== lastFormState) {\n          state.lastFormState = nextFormState;\n          notify(state.subscribers, nextFormState, lastFormState, filterFormState);\n        }\n      }\n      notifying = false;\n      if (scheduleNotification) {\n        scheduleNotification = false;\n        notifyFormListeners();\n      }\n    }\n  };\n  var beforeSubmit = function beforeSubmit() {\n    return Object.keys(state.fields).some(function (name) {\n      return state.fields[name].beforeSubmit && state.fields[name].beforeSubmit() === false;\n    });\n  };\n  var afterSubmit = function afterSubmit() {\n    return Object.keys(state.fields).forEach(function (name) {\n      return state.fields[name].afterSubmit && state.fields[name].afterSubmit();\n    });\n  };\n  var resetModifiedAfterSubmit = function resetModifiedAfterSubmit() {\n    return Object.keys(state.fields).forEach(function (key) {\n      return state.fields[key].modifiedSinceLastSubmit = false;\n    });\n  };\n\n  // generate initial errors\n  runValidation(undefined, function () {\n    notifyFormListeners();\n  });\n  var api = {\n    batch: function batch(fn) {\n      inBatch++;\n      fn();\n      inBatch--;\n      notifyFieldListeners();\n      notifyFormListeners();\n    },\n    blur: function blur(name) {\n      var fields = state.fields,\n        formState = state.formState;\n      var previous = fields[name];\n      if (previous) {\n        // can only blur registered fields\n        delete formState.active;\n        fields[name] = _extends({}, previous, {\n          active: false,\n          touched: true\n        });\n        if (validateOnBlur) {\n          runValidation(name, function () {\n            notifyFieldListeners();\n            notifyFormListeners();\n          });\n        } else {\n          notifyFieldListeners();\n          notifyFormListeners();\n        }\n      }\n    },\n    change: function change(name, value) {\n      var fields = state.fields,\n        formState = state.formState;\n      if (getIn(formState.values, name) !== value) {\n        changeValue(state, name, function () {\n          return value;\n        });\n        var previous = fields[name];\n        if (previous) {\n          // only track modified for registered fields\n          fields[name] = _extends({}, previous, {\n            modified: true,\n            modifiedSinceLastSubmit: !!formState.lastSubmittedValues\n          });\n        }\n        if (validateOnBlur) {\n          notifyFieldListeners();\n          notifyFormListeners();\n        } else {\n          runValidation(name, function () {\n            notifyFieldListeners();\n            notifyFormListeners();\n          });\n        }\n      }\n    },\n    get destroyOnUnregister() {\n      return !!destroyOnUnregister;\n    },\n    set destroyOnUnregister(value) {\n      destroyOnUnregister = value;\n    },\n    focus: function focus(name) {\n      var field = state.fields[name];\n      if (field && !field.active) {\n        state.formState.active = name;\n        field.active = true;\n        field.visited = true;\n        notifyFieldListeners();\n        notifyFormListeners();\n      }\n    },\n    mutators: mutatorsApi,\n    getFieldState: function getFieldState(name) {\n      var field = state.fields[name];\n      return field && field.lastFieldState;\n    },\n    getRegisteredFields: function getRegisteredFields() {\n      return Object.keys(state.fields);\n    },\n    getState: function getState() {\n      return calculateNextFormState();\n    },\n    initialize: function initialize(data) {\n      var fields = state.fields,\n        formState = state.formState;\n      var safeFields = _extends({}, fields);\n      var values = typeof data === \"function\" ? data(formState.values) : data;\n      if (!keepDirtyOnReinitialize) {\n        formState.values = values;\n      }\n      /**\n       * Hello, inquisitive code reader! Thanks for taking the time to dig in!\n       *\n       * The following code is the way it is to allow for non-registered deep\n       * field values to be set via initialize()\n       */\n\n      // save dirty values\n      var savedDirtyValues = keepDirtyOnReinitialize ? Object.keys(safeFields).reduce(function (result, key) {\n        var field = safeFields[key];\n        var pristine = field.isEqual(getIn(formState.values, key), getIn(formState.initialValues || {}, key));\n        if (!pristine) {\n          result[key] = getIn(formState.values, key);\n        }\n        return result;\n      }, {}) : {};\n      // update initalValues and values\n      formState.initialValues = values;\n      formState.values = values;\n      // restore the dirty values\n      Object.keys(savedDirtyValues).forEach(function (key) {\n        formState.values = setIn(formState.values, key, savedDirtyValues[key]) || {};\n      });\n      runValidation(undefined, function () {\n        notifyFieldListeners();\n        notifyFormListeners();\n      });\n    },\n    isValidationPaused: function isValidationPaused() {\n      return validationPaused;\n    },\n    pauseValidation: function pauseValidation(preventNotification) {\n      if (preventNotification === void 0) {\n        preventNotification = true;\n      }\n      validationPaused = true;\n      preventNotificationWhileValidationPaused = preventNotification;\n    },\n    registerField: function registerField(name, subscriber, subscription, fieldConfig) {\n      if (subscription === void 0) {\n        subscription = {};\n      }\n      if (!state.fieldSubscribers[name]) {\n        state.fieldSubscribers[name] = {\n          index: 0,\n          entries: {}\n        };\n      }\n      var index = state.fieldSubscribers[name].index++;\n\n      // save field subscriber callback\n      state.fieldSubscribers[name].entries[index] = {\n        subscriber: memoize(subscriber),\n        subscription: subscription,\n        notified: false\n      };\n\n      // create initial field state if not exists\n      var field = state.fields[name] || {\n        active: false,\n        afterSubmit: fieldConfig && fieldConfig.afterSubmit,\n        beforeSubmit: fieldConfig && fieldConfig.beforeSubmit,\n        data: fieldConfig && fieldConfig.data || {},\n        isEqual: fieldConfig && fieldConfig.isEqual || tripleEquals,\n        lastFieldState: undefined,\n        modified: false,\n        modifiedSinceLastSubmit: false,\n        name: name,\n        touched: false,\n        valid: true,\n        validateFields: fieldConfig && fieldConfig.validateFields,\n        validators: {},\n        validating: false,\n        visited: false\n      };\n      // Mutators can create a field in order to keep the field states\n      // We must update this field when registerField is called afterwards\n      field.blur = field.blur || function () {\n        return api.blur(name);\n      };\n      field.change = field.change || function (value) {\n        return api.change(name, value);\n      };\n      field.focus = field.focus || function () {\n        return api.focus(name);\n      };\n      state.fields[name] = field;\n      var haveValidator = false;\n      var silent = fieldConfig && fieldConfig.silent;\n      var notify = function notify() {\n        if (silent && state.fields[name]) {\n          notifyFieldListeners(name);\n        } else {\n          notifyFormListeners();\n          notifyFieldListeners();\n        }\n      };\n      if (fieldConfig) {\n        haveValidator = !!(fieldConfig.getValidator && fieldConfig.getValidator());\n        if (fieldConfig.getValidator) {\n          state.fields[name].validators[index] = fieldConfig.getValidator;\n        }\n        var noValueInFormState = getIn(state.formState.values, name) === undefined;\n        if (fieldConfig.initialValue !== undefined && (noValueInFormState || getIn(state.formState.values, name) === getIn(state.formState.initialValues, name))\n        // only initialize if we don't yet have any value for this field\n        ) {\n          state.formState.initialValues = setIn(state.formState.initialValues || {}, name, fieldConfig.initialValue);\n          state.formState.values = setIn(state.formState.values, name, fieldConfig.initialValue);\n          runValidation(undefined, notify);\n        }\n\n        // only use defaultValue if we don't yet have any value for this field\n        if (fieldConfig.defaultValue !== undefined && fieldConfig.initialValue === undefined && getIn(state.formState.initialValues, name) === undefined && noValueInFormState) {\n          state.formState.values = setIn(state.formState.values, name, fieldConfig.defaultValue);\n        }\n      }\n      if (haveValidator) {\n        runValidation(undefined, notify);\n      } else {\n        notify();\n      }\n      return function () {\n        var validatorRemoved = false;\n        // istanbul ignore next\n        if (state.fields[name]) {\n          // state.fields[name] may have been removed by a mutator\n          validatorRemoved = !!(state.fields[name].validators[index] && state.fields[name].validators[index]());\n          delete state.fields[name].validators[index];\n        }\n        var hasFieldSubscribers = !!state.fieldSubscribers[name];\n        if (hasFieldSubscribers) {\n          // state.fieldSubscribers[name] may have been removed by a mutator\n          delete state.fieldSubscribers[name].entries[index];\n        }\n        var lastOne = hasFieldSubscribers && !Object.keys(state.fieldSubscribers[name].entries).length;\n        if (lastOne) {\n          delete state.fieldSubscribers[name];\n          delete state.fields[name];\n          if (validatorRemoved) {\n            state.formState.errors = setIn(state.formState.errors, name, undefined) || {};\n          }\n          if (destroyOnUnregister) {\n            state.formState.values = setIn(state.formState.values, name, undefined, true) || {};\n          }\n        }\n        if (!silent) {\n          if (validatorRemoved) {\n            runValidation(undefined, function () {\n              notifyFormListeners();\n              notifyFieldListeners();\n            });\n          } else if (lastOne) {\n            // values or errors may have changed\n            notifyFormListeners();\n          }\n        }\n      };\n    },\n    reset: function reset(initialValues) {\n      if (initialValues === void 0) {\n        initialValues = state.formState.initialValues;\n      }\n      if (state.formState.submitting) {\n        state.formState.resetWhileSubmitting = true;\n      }\n      state.formState.submitFailed = false;\n      state.formState.submitSucceeded = false;\n      delete state.formState.submitError;\n      delete state.formState.submitErrors;\n      delete state.formState.lastSubmittedValues;\n      api.initialize(initialValues || {});\n    },\n    /**\n     * Resets all field flags (e.g. touched, visited, etc.) to their initial state\n     */\n    resetFieldState: function resetFieldState(name) {\n      state.fields[name] = _extends({}, state.fields[name], {\n        active: false,\n        lastFieldState: undefined,\n        modified: false,\n        touched: false,\n        valid: true,\n        validating: false,\n        visited: false\n      });\n      runValidation(undefined, function () {\n        notifyFieldListeners();\n        notifyFormListeners();\n      });\n    },\n    /**\n     * Returns the form to a clean slate; that is:\n     * - Clear all values\n     * - Resets all fields to their initial state\n     */\n    restart: function restart(initialValues) {\n      if (initialValues === void 0) {\n        initialValues = state.formState.initialValues;\n      }\n      api.batch(function () {\n        for (var name in state.fields) {\n          api.resetFieldState(name);\n          state.fields[name] = _extends({}, state.fields[name], {\n            active: false,\n            lastFieldState: undefined,\n            modified: false,\n            modifiedSinceLastSubmit: false,\n            touched: false,\n            valid: true,\n            validating: false,\n            visited: false\n          });\n        }\n        api.reset(initialValues);\n      });\n    },\n    resumeValidation: function resumeValidation() {\n      validationPaused = false;\n      preventNotificationWhileValidationPaused = false;\n      if (validationBlocked) {\n        // validation was attempted while it was paused, so run it now\n        runValidation(undefined, function () {\n          notifyFieldListeners();\n          notifyFormListeners();\n        });\n      }\n      validationBlocked = false;\n    },\n    setConfig: function setConfig(name, value) {\n      switch (name) {\n        case \"debug\":\n          debug = value;\n          break;\n        case \"destroyOnUnregister\":\n          destroyOnUnregister = value;\n          break;\n        case \"initialValues\":\n          api.initialize(value);\n          break;\n        case \"keepDirtyOnReinitialize\":\n          keepDirtyOnReinitialize = value;\n          break;\n        case \"mutators\":\n          mutators = value;\n          if (value) {\n            Object.keys(mutatorsApi).forEach(function (key) {\n              if (!(key in value)) {\n                delete mutatorsApi[key];\n              }\n            });\n            Object.keys(value).forEach(function (key) {\n              mutatorsApi[key] = getMutatorApi(key);\n            });\n          } else {\n            Object.keys(mutatorsApi).forEach(function (key) {\n              delete mutatorsApi[key];\n            });\n          }\n          break;\n        case \"onSubmit\":\n          onSubmit = value;\n          break;\n        case \"validate\":\n          validate = value;\n          runValidation(undefined, function () {\n            notifyFieldListeners();\n            notifyFormListeners();\n          });\n          break;\n        case \"validateOnBlur\":\n          validateOnBlur = value;\n          break;\n        default:\n          throw new Error(\"Unrecognised option \" + name);\n      }\n    },\n    submit: function submit() {\n      var formState = state.formState;\n      if (formState.submitting) {\n        return;\n      }\n      delete formState.submitErrors;\n      delete formState.submitError;\n      formState.lastSubmittedValues = _extends({}, formState.values);\n      if (hasSyncErrors()) {\n        markAllFieldsTouched();\n        resetModifiedAfterSubmit();\n        state.formState.submitFailed = true;\n        notifyFormListeners();\n        notifyFieldListeners();\n        return; // no submit for you!!\n      }\n\n      var asyncValidationPromisesKeys = Object.keys(asyncValidationPromises);\n      if (asyncValidationPromisesKeys.length) {\n        // still waiting on async validation to complete...\n        Promise.all(asyncValidationPromisesKeys.map(function (key) {\n          return asyncValidationPromises[Number(key)];\n        })).then(api.submit, console.error);\n        return;\n      }\n      var submitIsBlocked = beforeSubmit();\n      if (submitIsBlocked) {\n        return;\n      }\n      var resolvePromise;\n      var completeCalled = false;\n      var complete = function complete(errors) {\n        formState.submitting = false;\n        var resetWhileSubmitting = formState.resetWhileSubmitting;\n        if (resetWhileSubmitting) {\n          formState.resetWhileSubmitting = false;\n        }\n        if (errors && hasAnyError(errors)) {\n          formState.submitFailed = true;\n          formState.submitSucceeded = false;\n          formState.submitErrors = errors;\n          formState.submitError = errors[FORM_ERROR];\n          markAllFieldsTouched();\n        } else {\n          if (!resetWhileSubmitting) {\n            formState.submitFailed = false;\n            formState.submitSucceeded = true;\n          }\n          afterSubmit();\n        }\n        notifyFormListeners();\n        notifyFieldListeners();\n        completeCalled = true;\n        if (resolvePromise) {\n          resolvePromise(errors);\n        }\n        return errors;\n      };\n      formState.submitting = true;\n      formState.submitFailed = false;\n      formState.submitSucceeded = false;\n      formState.lastSubmittedValues = _extends({}, formState.values);\n      resetModifiedAfterSubmit();\n\n      // onSubmit is either sync, callback or async with a Promise\n      var result = onSubmit(formState.values, api, complete);\n      if (!completeCalled) {\n        if (result && isPromise(result)) {\n          // onSubmit is async with a Promise\n          notifyFormListeners(); // let everyone know we are submitting\n          notifyFieldListeners(); // notify fields also\n          return result.then(complete, function (error) {\n            complete();\n            throw error;\n          });\n        } else if (onSubmit.length >= 3) {\n          // must be async, so we should return a Promise\n          notifyFormListeners(); // let everyone know we are submitting\n          notifyFieldListeners(); // notify fields also\n          return new Promise(function (resolve) {\n            resolvePromise = resolve;\n          });\n        } else {\n          // onSubmit is sync\n          complete(result);\n        }\n      }\n    },\n    subscribe: function subscribe(subscriber, subscription) {\n      if (!subscriber) {\n        throw new Error(\"No callback given.\");\n      }\n      if (!subscription) {\n        throw new Error(\"No subscription provided. What values do you want to listen to?\");\n      }\n      var memoized = memoize(subscriber);\n      var subscribers = state.subscribers;\n      var index = subscribers.index++;\n      subscribers.entries[index] = {\n        subscriber: memoized,\n        subscription: subscription,\n        notified: false\n      };\n      var nextFormState = calculateNextFormState();\n      notifySubscriber(memoized, subscription, nextFormState, nextFormState, filterFormState, true);\n      return function () {\n        delete subscribers.entries[index];\n      };\n    }\n  };\n  return api;\n}\n\nexport { ARRAY_ERROR, FORM_ERROR, configOptions, createForm, fieldSubscriptionItems, formSubscriptionItems, getIn, setIn, version };\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nimport * as React from 'react';\nimport React__default from 'react';\nimport { formSubscriptionItems, createForm, version as version$1, fieldSubscriptionItems } from 'final-form';\n\nvar _excluded$3 = [\"render\", \"children\", \"component\"];\n// shared logic between components that use either render prop,\n// children render function, or component prop\nfunction renderComponent(props, lazyProps, name) {\n  var render = props.render,\n      children = props.children,\n      component = props.component,\n      rest = _objectWithoutPropertiesLoose(props, _excluded$3);\n\n  if (component) {\n    return /*#__PURE__*/React.createElement(component, Object.assign(lazyProps, rest, {\n      children: children,\n      render: render\n    }));\n  }\n\n  if (render) {\n    return render(children === undefined ? Object.assign(lazyProps, rest) : // inject children back in\n    Object.assign(lazyProps, rest, {\n      children: children\n    }));\n  }\n\n  if (typeof children !== \"function\") {\n    throw new Error(\"Must specify either a render prop, a render function as children, or a component prop to \" + name);\n  }\n\n  return children(Object.assign(lazyProps, rest));\n}\n\nfunction useWhenValueChanges(value, callback, isEqual) {\n  if (isEqual === void 0) {\n    isEqual = function isEqual(a, b) {\n      return a === b;\n    };\n  }\n\n  var previous = React__default.useRef(value);\n  React__default.useEffect(function () {\n    if (!isEqual(value, previous.current)) {\n      callback();\n      previous.current = value;\n    }\n  });\n}\n\n/**\n * A simple hook to create a constant value that lives for\n * the lifetime of the component.\n *\n * Plagiarized from https://github.com/Andarist/use-constant\n *\n * Do NOT reuse this code unless you know what you're doing.\n * Use Andarist's hook; it's more fault tolerant to things like\n * falsy values.\n *\n * @param {Function} init - A function to generate the value\n */\n\nfunction useConstant(init) {\n  var ref = React__default.useRef();\n\n  if (!ref.current) {\n    ref.current = init();\n  }\n\n  return ref.current;\n}\n\nvar shallowEqual = function shallowEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n\n  if (typeof a !== \"object\" || !a || typeof b !== \"object\" || !b) {\n    return false;\n  }\n\n  var keysA = Object.keys(a);\n  var keysB = Object.keys(b);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(b);\n\n  for (var idx = 0; idx < keysA.length; idx++) {\n    var key = keysA[idx];\n\n    if (!bHasOwnProperty(key) || a[key] !== b[key]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\nvar isSyntheticEvent = function isSyntheticEvent(candidate) {\n  return !!(candidate && typeof candidate.stopPropagation === \"function\");\n};\n\nvar ReactFinalFormContext = /*#__PURE__*/React.createContext();\n\nfunction useLatest(value) {\n  var ref = React__default.useRef(value);\n  React__default.useEffect(function () {\n    ref.current = value;\n  });\n  return ref;\n}\n\nvar version = \"6.5.8\";\n\nvar addLazyState = function addLazyState(dest, state, keys) {\n  keys.forEach(function (key) {\n    Object.defineProperty(dest, key, {\n      get: function get() {\n        return state[key];\n      },\n      enumerable: true\n    });\n  });\n};\n\nvar addLazyFormState = function addLazyFormState(dest, state) {\n  return addLazyState(dest, state, [\"active\", \"dirty\", \"dirtyFields\", \"dirtySinceLastSubmit\", \"dirtyFieldsSinceLastSubmit\", \"error\", \"errors\", \"hasSubmitErrors\", \"hasValidationErrors\", \"initialValues\", \"invalid\", \"modified\", \"modifiedSinceLastSubmit\", \"pristine\", \"submitError\", \"submitErrors\", \"submitFailed\", \"submitSucceeded\", \"submitting\", \"touched\", \"valid\", \"validating\", \"values\", \"visited\"]);\n};\nvar addLazyFieldMetaState = function addLazyFieldMetaState(dest, state) {\n  return addLazyState(dest, state, [\"active\", \"data\", \"dirty\", \"dirtySinceLastSubmit\", \"error\", \"initial\", \"invalid\", \"length\", \"modified\", \"modifiedSinceLastSubmit\", \"pristine\", \"submitError\", \"submitFailed\", \"submitSucceeded\", \"submitting\", \"touched\", \"valid\", \"validating\", \"visited\"]);\n};\n\nvar _excluded$2 = [\"debug\", \"decorators\", \"destroyOnUnregister\", \"form\", \"initialValues\", \"initialValuesEqual\", \"keepDirtyOnReinitialize\", \"mutators\", \"onSubmit\", \"subscription\", \"validate\", \"validateOnBlur\"];\nvar versions = {\n  \"final-form\": version$1,\n  \"react-final-form\": version\n};\nvar all$1 = formSubscriptionItems.reduce(function (result, key) {\n  result[key] = true;\n  return result;\n}, {});\n\nfunction ReactFinalForm(_ref) {\n  var debug = _ref.debug,\n      _ref$decorators = _ref.decorators,\n      decorators = _ref$decorators === void 0 ? [] : _ref$decorators,\n      destroyOnUnregister = _ref.destroyOnUnregister,\n      alternateFormApi = _ref.form,\n      initialValues = _ref.initialValues,\n      initialValuesEqual = _ref.initialValuesEqual,\n      keepDirtyOnReinitialize = _ref.keepDirtyOnReinitialize,\n      mutators = _ref.mutators,\n      onSubmit = _ref.onSubmit,\n      _ref$subscription = _ref.subscription,\n      subscription = _ref$subscription === void 0 ? all$1 : _ref$subscription,\n      validate = _ref.validate,\n      validateOnBlur = _ref.validateOnBlur,\n      rest = _objectWithoutPropertiesLoose(_ref, _excluded$2);\n\n  var config = {\n    debug: debug,\n    destroyOnUnregister: destroyOnUnregister,\n    initialValues: initialValues,\n    keepDirtyOnReinitialize: keepDirtyOnReinitialize,\n    mutators: mutators,\n    onSubmit: onSubmit,\n    validate: validate,\n    validateOnBlur: validateOnBlur\n  };\n  var form = useConstant(function () {\n    var f = alternateFormApi || createForm(config); // pause validation until children register all fields on first render (unpaused in useEffect() below)\n\n    f.pauseValidation();\n    return f;\n  }); // synchronously register and unregister to query form state for our subscription on first render\n\n  var _React$useState = React.useState(function () {\n    var initialState = {};\n    form.subscribe(function (state) {\n      initialState = state;\n    }, subscription)();\n    return initialState;\n  }),\n      state = _React$useState[0],\n      setState = _React$useState[1]; // save a copy of state that can break through the closure\n  // on the shallowEqual() line below.\n\n\n  var stateRef = useLatest(state);\n  React.useEffect(function () {\n    // We have rendered, so all fields are now registered, so we can unpause validation\n    form.isValidationPaused() && form.resumeValidation();\n    var unsubscriptions = [form.subscribe(function (s) {\n      if (!shallowEqual(s, stateRef.current)) {\n        setState(s);\n      }\n    }, subscription)].concat(decorators ? decorators.map(function (decorator) {\n      return (// this noop ternary is to appease the flow gods\n        // istanbul ignore next\n        decorator(form)\n      );\n    }) : []);\n    return function () {\n      form.pauseValidation(); // pause validation so we don't revalidate on every field deregistration\n\n      unsubscriptions.reverse().forEach(function (unsubscribe) {\n        return unsubscribe();\n      }); // don't need to resume validation here; either unmounting, or will re-run this hook with new deps\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, decorators); // warn about decorator changes\n  // istanbul ignore next\n\n  if (process.env.NODE_ENV !== \"production\") {\n    // You're never supposed to use hooks inside a conditional, but in this\n    // case we can be certain that you're not going to be changing your\n    // NODE_ENV between renders, so this is safe.\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useWhenValueChanges(decorators, function () {\n      console.error(\"Form decorators should not change from one render to the next as new values will be ignored\");\n    }, shallowEqual);\n  } // allow updatable config\n\n\n  useWhenValueChanges(debug, function () {\n    form.setConfig(\"debug\", debug);\n  });\n  useWhenValueChanges(destroyOnUnregister, function () {\n    form.destroyOnUnregister = !!destroyOnUnregister;\n  });\n  useWhenValueChanges(keepDirtyOnReinitialize, function () {\n    form.setConfig(\"keepDirtyOnReinitialize\", keepDirtyOnReinitialize);\n  });\n  useWhenValueChanges(initialValues, function () {\n    form.setConfig(\"initialValues\", initialValues);\n  }, initialValuesEqual || shallowEqual);\n  useWhenValueChanges(mutators, function () {\n    form.setConfig(\"mutators\", mutators);\n  });\n  useWhenValueChanges(onSubmit, function () {\n    form.setConfig(\"onSubmit\", onSubmit);\n  });\n  useWhenValueChanges(validate, function () {\n    form.setConfig(\"validate\", validate);\n  });\n  useWhenValueChanges(validateOnBlur, function () {\n    form.setConfig(\"validateOnBlur\", validateOnBlur);\n  });\n\n  var handleSubmit = function handleSubmit(event) {\n    if (event) {\n      // sometimes not true, e.g. React Native\n      if (typeof event.preventDefault === \"function\") {\n        event.preventDefault();\n      }\n\n      if (typeof event.stopPropagation === \"function\") {\n        // prevent any outer forms from receiving the event too\n        event.stopPropagation();\n      }\n    }\n\n    return form.submit();\n  };\n\n  var renderProps = {\n    form: _extends({}, form, {\n      reset: function reset(eventOrValues) {\n        if (isSyntheticEvent(eventOrValues)) {\n          // it's a React SyntheticEvent, call reset with no arguments\n          form.reset();\n        } else {\n          form.reset(eventOrValues);\n        }\n      }\n    }),\n    handleSubmit: handleSubmit\n  };\n  addLazyFormState(renderProps, state);\n  return /*#__PURE__*/React.createElement(ReactFinalFormContext.Provider, {\n    value: form\n  }, renderComponent(_extends({}, rest, {\n    __versions: versions\n  }), renderProps, \"ReactFinalForm\"));\n}\n\nfunction useForm(componentName) {\n  var form = React.useContext(ReactFinalFormContext);\n\n  if (!form) {\n    throw new Error((componentName || \"useForm\") + \" must be used inside of a <Form> component\");\n  }\n\n  return form;\n}\n\nfunction useFormState(_temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      onChange = _ref.onChange,\n      _ref$subscription = _ref.subscription,\n      subscription = _ref$subscription === void 0 ? all$1 : _ref$subscription;\n\n  var form = useForm(\"useFormState\");\n  var firstRender = React.useRef(true);\n  var onChangeRef = React.useRef(onChange);\n  onChangeRef.current = onChange; // synchronously register and unregister to query field state for our subscription on first render\n\n  var _React$useState = React.useState(function () {\n    var initialState = {};\n    form.subscribe(function (state) {\n      initialState = state;\n    }, subscription)();\n\n    if (onChange) {\n      onChange(initialState);\n    }\n\n    return initialState;\n  }),\n      state = _React$useState[0],\n      setState = _React$useState[1];\n\n  React.useEffect(function () {\n    return form.subscribe(function (newState) {\n      if (firstRender.current) {\n        firstRender.current = false;\n      } else {\n        setState(newState);\n\n        if (onChangeRef.current) {\n          onChangeRef.current(newState);\n        }\n      }\n    }, subscription);\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  []);\n  var lazyState = {};\n  addLazyFormState(lazyState, state);\n  return lazyState;\n}\n\nvar _excluded$1 = [\"onChange\", \"subscription\"];\n\nfunction FormSpy(_ref) {\n  var onChange = _ref.onChange,\n      subscription = _ref.subscription,\n      rest = _objectWithoutPropertiesLoose(_ref, _excluded$1);\n\n  var reactFinalForm = useForm(\"FormSpy\");\n  var state = useFormState({\n    onChange: onChange,\n    subscription: subscription\n  });\n\n  if (onChange) {\n    return null;\n  }\n\n  var renderProps = {\n    form: _extends({}, reactFinalForm, {\n      reset: function reset(eventOrValues) {\n        if (isSyntheticEvent(eventOrValues)) {\n          // it's a React SyntheticEvent, call reset with no arguments\n          reactFinalForm.reset();\n        } else {\n          reactFinalForm.reset(eventOrValues);\n        }\n      }\n    })\n  };\n  return renderComponent(_extends({}, rest, renderProps), state, \"FormSpy\");\n}\n\nvar isReactNative = typeof window !== \"undefined\" && window.navigator && window.navigator.product && window.navigator.product === \"ReactNative\";\n\nvar getSelectedValues = function getSelectedValues(options) {\n  var result = [];\n\n  if (options) {\n    for (var index = 0; index < options.length; index++) {\n      var option = options[index];\n\n      if (option.selected) {\n        result.push(option.value);\n      }\n    }\n  }\n\n  return result;\n};\n\nvar getValue = function getValue(event, currentValue, valueProp, isReactNative) {\n  if (!isReactNative && event.nativeEvent && event.nativeEvent.text !== undefined) {\n    return event.nativeEvent.text;\n  }\n\n  if (isReactNative && event.nativeEvent) {\n    return event.nativeEvent.text;\n  }\n\n  var detypedEvent = event;\n  var _detypedEvent$target = detypedEvent.target,\n      type = _detypedEvent$target.type,\n      value = _detypedEvent$target.value,\n      checked = _detypedEvent$target.checked;\n\n  switch (type) {\n    case \"checkbox\":\n      if (valueProp !== undefined) {\n        // we are maintaining an array, not just a boolean\n        if (checked) {\n          // add value to current array value\n          return Array.isArray(currentValue) ? currentValue.concat(valueProp) : [valueProp];\n        } else {\n          // remove value from current array value\n          if (!Array.isArray(currentValue)) {\n            return currentValue;\n          }\n\n          var index = currentValue.indexOf(valueProp);\n\n          if (index < 0) {\n            return currentValue;\n          } else {\n            return currentValue.slice(0, index).concat(currentValue.slice(index + 1));\n          }\n        }\n      } else {\n        // it's just a boolean\n        return !!checked;\n      }\n\n    case \"select-multiple\":\n      return getSelectedValues(event.target.options);\n\n    default:\n      return value;\n  }\n};\n\n/**\n * Creates a callback, even with closures, that will be\n * instance === for the lifetime of the component, always\n * calling the most recent version of the function and its\n * closures.\n */\n\nfunction useConstantCallback(callback) {\n  var ref = React.useRef(callback);\n  React.useEffect(function () {\n    ref.current = callback;\n  });\n  return React.useCallback(function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return ref.current.apply(null, args);\n  }, []);\n}\n\nvar all = fieldSubscriptionItems.reduce(function (result, key) {\n  result[key] = true;\n  return result;\n}, {});\n\nvar defaultFormat = function defaultFormat(value, name) {\n  return value === undefined ? \"\" : value;\n};\n\nvar defaultParse = function defaultParse(value, name) {\n  return value === \"\" ? undefined : value;\n};\n\nvar defaultIsEqual = function defaultIsEqual(a, b) {\n  return a === b;\n};\n\nfunction useField(name, config) {\n  if (config === void 0) {\n    config = {};\n  }\n\n  var _config = config,\n      afterSubmit = _config.afterSubmit,\n      allowNull = _config.allowNull,\n      component = _config.component,\n      data = _config.data,\n      defaultValue = _config.defaultValue,\n      _config$format = _config.format,\n      format = _config$format === void 0 ? defaultFormat : _config$format,\n      formatOnBlur = _config.formatOnBlur,\n      initialValue = _config.initialValue,\n      multiple = _config.multiple,\n      _config$parse = _config.parse,\n      parse = _config$parse === void 0 ? defaultParse : _config$parse,\n      _config$subscription = _config.subscription,\n      subscription = _config$subscription === void 0 ? all : _config$subscription,\n      type = _config.type,\n      validateFields = _config.validateFields,\n      _value = _config.value;\n  var form = useForm(\"useField\");\n  var configRef = useLatest(config);\n\n  var register = function register(callback, silent) {\n    return (// avoid using `state` const in any closures created inside `register`\n      // because they would refer `state` from current execution context\n      // whereas actual `state` would defined in the subsequent `useField` hook\n      // execution\n      // (that would be caused by `setState` call performed in `register` callback)\n      form.registerField(name, callback, subscription, {\n        afterSubmit: afterSubmit,\n        beforeSubmit: function beforeSubmit() {\n          var _configRef$current = configRef.current,\n              beforeSubmit = _configRef$current.beforeSubmit,\n              formatOnBlur = _configRef$current.formatOnBlur,\n              _configRef$current$fo = _configRef$current.format,\n              format = _configRef$current$fo === void 0 ? defaultFormat : _configRef$current$fo;\n\n          if (formatOnBlur) {\n            var _ref = form.getFieldState(name),\n                value = _ref.value;\n\n            var formatted = format(value, name);\n\n            if (formatted !== value) {\n              form.change(name, formatted);\n            }\n          }\n\n          return beforeSubmit && beforeSubmit();\n        },\n        data: data,\n        defaultValue: defaultValue,\n        getValidator: function getValidator() {\n          return configRef.current.validate;\n        },\n        initialValue: initialValue,\n        isEqual: function isEqual(a, b) {\n          return (configRef.current.isEqual || defaultIsEqual)(a, b);\n        },\n        silent: silent,\n        validateFields: validateFields\n      })\n    );\n  };\n\n  var firstRender = React.useRef(true); // synchronously register and unregister to query field state for our subscription on first render\n\n  var _React$useState = React.useState(function () {\n    var initialState = {}; // temporarily disable destroyOnUnregister\n\n    // temporarily disable destroyOnUnregister\n    var destroyOnUnregister = form.destroyOnUnregister;\n    form.destroyOnUnregister = false;\n    register(function (state) {\n      initialState = state;\n    }, true)(); // return destroyOnUnregister to its original value\n\n    // return destroyOnUnregister to its original value\n    form.destroyOnUnregister = destroyOnUnregister;\n    return initialState;\n  }),\n      state = _React$useState[0],\n      setState = _React$useState[1];\n\n  React.useEffect(function () {\n    return register(function (state) {\n      if (firstRender.current) {\n        firstRender.current = false;\n      } else {\n        setState(state);\n      }\n    }, false);\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [name, data, defaultValue, // If we want to allow inline fat-arrow field-level validation functions, we\n  // cannot reregister field every time validate function !==.\n  // validate,\n  initialValue // The validateFields array is often passed as validateFields={[]}, creating\n  // a !== new array every time. If it needs to be changed, a rerender/reregister\n  // can be forced by changing the key prop\n  // validateFields\n  ]);\n  var meta = {};\n  addLazyFieldMetaState(meta, state);\n  var input = {\n    name: name,\n\n    get value() {\n      var value = state.value;\n\n      if (formatOnBlur) {\n        if (component === \"input\") {\n          value = defaultFormat(value);\n        }\n      } else {\n        value = format(value, name);\n      }\n\n      if (value === null && !allowNull) {\n        value = \"\";\n      }\n\n      if (type === \"checkbox\" || type === \"radio\") {\n        return _value;\n      } else if (component === \"select\" && multiple) {\n        return value || [];\n      }\n\n      return value;\n    },\n\n    get checked() {\n      var value = state.value;\n\n      if (type === \"checkbox\") {\n        value = format(value, name);\n\n        if (_value === undefined) {\n          return !!value;\n        } else {\n          return !!(Array.isArray(value) && ~value.indexOf(_value));\n        }\n      } else if (type === \"radio\") {\n        return format(value, name) === _value;\n      }\n\n      return undefined;\n    },\n\n    onBlur: useConstantCallback(function (event) {\n      state.blur();\n\n      if (formatOnBlur) {\n        /**\n         * Here we must fetch the value directly from Final Form because we cannot\n         * trust that our `state` closure has the most recent value. This is a problem\n         * if-and-only-if the library consumer has called `onChange()` immediately\n         * before calling `onBlur()`, but before the field has had a chance to receive\n         * the value update from Final Form.\n         */\n        var fieldState = form.getFieldState(state.name);\n        state.change(format(fieldState.value, state.name));\n      }\n    }),\n    onChange: useConstantCallback(function (event) {\n      // istanbul ignore next\n      if (process.env.NODE_ENV !== \"production\" && event && event.target) {\n        var targetType = event.target.type;\n        var unknown = ~[\"checkbox\", \"radio\", \"select-multiple\"].indexOf(targetType) && !type && component !== \"select\";\n\n        var _value2 = targetType === \"select-multiple\" ? state.value : _value;\n\n        if (unknown) {\n          console.error(\"You must pass `type=\\\"\" + (targetType === \"select-multiple\" ? \"select\" : targetType) + \"\\\"` prop to your Field(\" + name + \") component.\\n\" + (\"Without it we don't know how to unpack your `value` prop - \" + (Array.isArray(_value2) ? \"[\" + _value2 + \"]\" : \"\\\"\" + _value2 + \"\\\"\") + \".\"));\n        }\n      }\n\n      var value = event && event.target ? getValue(event, state.value, _value, isReactNative) : event;\n      state.change(parse(value, name));\n    }),\n    onFocus: useConstantCallback(function (event) {\n      return state.focus();\n    })\n  };\n\n  if (multiple) {\n    input.multiple = multiple;\n  }\n\n  if (type !== undefined) {\n    input.type = type;\n  }\n\n  var renderProps = {\n    input: input,\n    meta: meta\n  }; // assign to force Flow check\n\n  return renderProps;\n}\n\nvar _excluded = [\"afterSubmit\", \"allowNull\", \"beforeSubmit\", \"children\", \"component\", \"data\", \"defaultValue\", \"format\", \"formatOnBlur\", \"initialValue\", \"isEqual\", \"multiple\", \"name\", \"parse\", \"subscription\", \"type\", \"validate\", \"validateFields\", \"value\"];\nvar Field = /*#__PURE__*/React.forwardRef(function Field(_ref, ref) {\n  var afterSubmit = _ref.afterSubmit,\n      allowNull = _ref.allowNull,\n      beforeSubmit = _ref.beforeSubmit,\n      children = _ref.children,\n      component = _ref.component,\n      data = _ref.data,\n      defaultValue = _ref.defaultValue,\n      format = _ref.format,\n      formatOnBlur = _ref.formatOnBlur,\n      initialValue = _ref.initialValue,\n      isEqual = _ref.isEqual,\n      multiple = _ref.multiple,\n      name = _ref.name,\n      parse = _ref.parse,\n      subscription = _ref.subscription,\n      type = _ref.type,\n      validate = _ref.validate,\n      validateFields = _ref.validateFields,\n      value = _ref.value,\n      rest = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var field = useField(name, {\n    afterSubmit: afterSubmit,\n    allowNull: allowNull,\n    beforeSubmit: beforeSubmit,\n    children: children,\n    component: component,\n    data: data,\n    defaultValue: defaultValue,\n    format: format,\n    formatOnBlur: formatOnBlur,\n    initialValue: initialValue,\n    isEqual: isEqual,\n    multiple: multiple,\n    parse: parse,\n    subscription: subscription,\n    type: type,\n    validate: validate,\n    validateFields: validateFields,\n    value: value\n  });\n\n  if (typeof children === \"function\") {\n    return children(_extends({}, field, rest));\n  }\n\n  if (typeof component === \"string\") {\n    // ignore meta, combine input with any other props\n    return /*#__PURE__*/React.createElement(component, _extends({}, field.input, {\n      children: children,\n      ref: ref\n    }, rest));\n  }\n\n  if (!name) {\n    throw new Error(\"prop name cannot be undefined in <Field> component\");\n  }\n\n  return renderComponent(_extends({\n    children: children,\n    component: component,\n    ref: ref\n  }, rest), field, \"Field(\" + name + \")\");\n});\n\nfunction withTypes() {\n  return {\n    Form: ReactFinalForm,\n    FormSpy: FormSpy\n  };\n}\n\nexport { Field, ReactFinalForm as Form, FormSpy, useField, useForm, useFormState, version, withTypes };\n","/**\n * NOTE: If you refactor this to split up the modules into separate files,\n * you'll need to update the rollup config for react-router-dom-v5-compat.\n */\nimport * as React from \"react\";\nimport type {\n  NavigateOptions,\n  RelativeRoutingType,\n  RouteObject,\n  To,\n} from \"react-router\";\nimport {\n  Router,\n  createPath,\n  useHref,\n  useLocation,\n  useMatch,\n  useMatches,\n  useNavigate,\n  useNavigation,\n  useResolvedPath,\n  UNSAFE_DataRouterContext as DataRouterContext,\n  UNSAFE_DataRouterStateContext as DataRouterStateContext,\n  UNSAFE_RouteContext as RouteContext,\n  UNSAFE_enhanceManualRouteObjects as enhanceManualRouteObjects,\n} from \"react-router\";\nimport type {\n  BrowserHistory,\n  Fetcher,\n  FormEncType,\n  FormMethod,\n  GetScrollRestorationKeyFunction,\n  HashHistory,\n  History,\n  HydrationState,\n  Router as RemixRouter,\n} from \"@remix-run/router\";\nimport {\n  createRouter,\n  createBrowserHistory,\n  createHashHistory,\n  invariant,\n  matchPath,\n} from \"@remix-run/router\";\n\nimport type {\n  SubmitOptions,\n  ParamKeyValuePair,\n  URLSearchParamsInit,\n} from \"./dom\";\nimport {\n  createSearchParams,\n  defaultMethod,\n  getFormSubmissionInfo,\n  getSearchParamsForLocation,\n  shouldProcessLinkClick,\n} from \"./dom\";\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Re-exports\n////////////////////////////////////////////////////////////////////////////////\n\nexport type {\n  FormEncType,\n  FormMethod,\n  ParamKeyValuePair,\n  SubmitOptions,\n  URLSearchParamsInit,\n};\nexport { createSearchParams };\n\n// Note: Keep in sync with react-router exports!\nexport type {\n  ActionFunction,\n  ActionFunctionArgs,\n  AwaitProps,\n  DataRouteMatch,\n  DataRouteObject,\n  Fetcher,\n  Hash,\n  IndexRouteProps,\n  JsonFunction,\n  LayoutRouteProps,\n  LoaderFunction,\n  LoaderFunctionArgs,\n  Location,\n  MemoryRouterProps,\n  NavigateFunction,\n  NavigateOptions,\n  NavigateProps,\n  Navigation,\n  Navigator,\n  OutletProps,\n  Params,\n  ParamParseKey,\n  Path,\n  PathMatch,\n  Pathname,\n  PathPattern,\n  PathRouteProps,\n  RedirectFunction,\n  RelativeRoutingType,\n  RouteMatch,\n  RouteObject,\n  RouteProps,\n  RouterProps,\n  RouterProviderProps,\n  RoutesProps,\n  Search,\n  ShouldRevalidateFunction,\n  To,\n} from \"react-router\";\nexport {\n  AbortedDeferredError,\n  Await,\n  MemoryRouter,\n  Navigate,\n  NavigationType,\n  Outlet,\n  Route,\n  Router,\n  RouterProvider,\n  Routes,\n  createMemoryRouter,\n  createPath,\n  createRoutesFromChildren,\n  createRoutesFromElements,\n  defer,\n  isRouteErrorResponse,\n  generatePath,\n  json,\n  matchPath,\n  matchRoutes,\n  parsePath,\n  redirect,\n  renderMatches,\n  resolvePath,\n  useActionData,\n  useAsyncError,\n  useAsyncValue,\n  useHref,\n  useInRouterContext,\n  useLoaderData,\n  useLocation,\n  useMatch,\n  useMatches,\n  useNavigate,\n  useNavigation,\n  useNavigationType,\n  useOutlet,\n  useOutletContext,\n  useParams,\n  useResolvedPath,\n  useRevalidator,\n  useRouteError,\n  useRouteLoaderData,\n  useRoutes,\n} from \"react-router\";\n\n///////////////////////////////////////////////////////////////////////////////\n// DANGER! PLEASE READ ME!\n// We provide these exports as an escape hatch in the event that you need any\n// routing data that we don't provide an explicit API for. With that said, we\n// want to cover your use case if we can, so if you feel the need to use these\n// we want to hear from you. Let us know what you're building and we'll do our\n// best to make sure we can support you!\n//\n// We consider these exports an implementation detail and do not guarantee\n// against any breaking changes, regardless of the semver release. Use with\n// extreme caution and only if you understand the consequences. Godspeed.\n///////////////////////////////////////////////////////////////////////////////\n\n/** @internal */\nexport {\n  UNSAFE_DataRouterContext,\n  UNSAFE_DataRouterStateContext,\n  UNSAFE_DataStaticRouterContext,\n  UNSAFE_NavigationContext,\n  UNSAFE_LocationContext,\n  UNSAFE_RouteContext,\n  UNSAFE_enhanceManualRouteObjects,\n} from \"react-router\";\n//#endregion\n\ndeclare global {\n  var __staticRouterHydrationData: HydrationState | undefined;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Routers\n////////////////////////////////////////////////////////////////////////////////\n\nexport function createBrowserRouter(\n  routes: RouteObject[],\n  opts?: {\n    basename?: string;\n    hydrationData?: HydrationState;\n    window?: Window;\n  }\n): RemixRouter {\n  return createRouter({\n    basename: opts?.basename,\n    history: createBrowserHistory({ window: opts?.window }),\n    hydrationData: opts?.hydrationData || window?.__staticRouterHydrationData,\n    routes: enhanceManualRouteObjects(routes),\n  }).initialize();\n}\n\nexport function createHashRouter(\n  routes: RouteObject[],\n  opts?: {\n    basename?: string;\n    hydrationData?: HydrationState;\n    window?: Window;\n  }\n): RemixRouter {\n  return createRouter({\n    basename: opts?.basename,\n    history: createHashHistory({ window: opts?.window }),\n    hydrationData: opts?.hydrationData || window?.__staticRouterHydrationData,\n    routes: enhanceManualRouteObjects(routes),\n  }).initialize();\n}\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Components\n////////////////////////////////////////////////////////////////////////////////\n\nexport interface BrowserRouterProps {\n  basename?: string;\n  children?: React.ReactNode;\n  window?: Window;\n}\n\n/**\n * A `<Router>` for use in web browsers. Provides the cleanest URLs.\n */\nexport function BrowserRouter({\n  basename,\n  children,\n  window,\n}: BrowserRouterProps) {\n  let historyRef = React.useRef<BrowserHistory>();\n  if (historyRef.current == null) {\n    historyRef.current = createBrowserHistory({ window, v5Compat: true });\n  }\n\n  let history = historyRef.current;\n  let [state, setState] = React.useState({\n    action: history.action,\n    location: history.location,\n  });\n\n  React.useLayoutEffect(() => history.listen(setState), [history]);\n\n  return (\n    <Router\n      basename={basename}\n      children={children}\n      location={state.location}\n      navigationType={state.action}\n      navigator={history}\n    />\n  );\n}\n\nexport interface HashRouterProps {\n  basename?: string;\n  children?: React.ReactNode;\n  window?: Window;\n}\n\n/**\n * A `<Router>` for use in web browsers. Stores the location in the hash\n * portion of the URL so it is not sent to the server.\n */\nexport function HashRouter({ basename, children, window }: HashRouterProps) {\n  let historyRef = React.useRef<HashHistory>();\n  if (historyRef.current == null) {\n    historyRef.current = createHashHistory({ window, v5Compat: true });\n  }\n\n  let history = historyRef.current;\n  let [state, setState] = React.useState({\n    action: history.action,\n    location: history.location,\n  });\n\n  React.useLayoutEffect(() => history.listen(setState), [history]);\n\n  return (\n    <Router\n      basename={basename}\n      children={children}\n      location={state.location}\n      navigationType={state.action}\n      navigator={history}\n    />\n  );\n}\n\nexport interface HistoryRouterProps {\n  basename?: string;\n  children?: React.ReactNode;\n  history: History;\n}\n\n/**\n * A `<Router>` that accepts a pre-instantiated history object. It's important\n * to note that using your own history object is highly discouraged and may add\n * two versions of the history library to your bundles unless you use the same\n * version of the history library that React Router uses internally.\n */\nfunction HistoryRouter({ basename, children, history }: HistoryRouterProps) {\n  const [state, setState] = React.useState({\n    action: history.action,\n    location: history.location,\n  });\n\n  React.useLayoutEffect(() => history.listen(setState), [history]);\n\n  return (\n    <Router\n      basename={basename}\n      children={children}\n      location={state.location}\n      navigationType={state.action}\n      navigator={history}\n    />\n  );\n}\n\nif (__DEV__) {\n  HistoryRouter.displayName = \"unstable_HistoryRouter\";\n}\n\nexport { HistoryRouter as unstable_HistoryRouter };\n\nexport interface LinkProps\n  extends Omit<React.AnchorHTMLAttributes<HTMLAnchorElement>, \"href\"> {\n  reloadDocument?: boolean;\n  replace?: boolean;\n  state?: any;\n  preventScrollReset?: boolean;\n  relative?: RelativeRoutingType;\n  to: To;\n}\n\n/**\n * The public API for rendering a history-aware <a>.\n */\nexport const Link = React.forwardRef<HTMLAnchorElement, LinkProps>(\n  function LinkWithRef(\n    {\n      onClick,\n      relative,\n      reloadDocument,\n      replace,\n      state,\n      target,\n      to,\n      preventScrollReset,\n      ...rest\n    },\n    ref\n  ) {\n    let href = useHref(to, { relative });\n    let internalOnClick = useLinkClickHandler(to, {\n      replace,\n      state,\n      target,\n      preventScrollReset,\n      relative,\n    });\n    function handleClick(\n      event: React.MouseEvent<HTMLAnchorElement, MouseEvent>\n    ) {\n      if (onClick) onClick(event);\n      if (!event.defaultPrevented) {\n        internalOnClick(event);\n      }\n    }\n\n    return (\n      // eslint-disable-next-line jsx-a11y/anchor-has-content\n      <a\n        {...rest}\n        href={href}\n        onClick={reloadDocument ? onClick : handleClick}\n        ref={ref}\n        target={target}\n      />\n    );\n  }\n);\n\nif (__DEV__) {\n  Link.displayName = \"Link\";\n}\n\nexport interface NavLinkProps\n  extends Omit<LinkProps, \"className\" | \"style\" | \"children\"> {\n  children?:\n    | React.ReactNode\n    | ((props: { isActive: boolean; isPending: boolean }) => React.ReactNode);\n  caseSensitive?: boolean;\n  className?:\n    | string\n    | ((props: {\n        isActive: boolean;\n        isPending: boolean;\n      }) => string | undefined);\n  end?: boolean;\n  style?:\n    | React.CSSProperties\n    | ((props: {\n        isActive: boolean;\n        isPending: boolean;\n      }) => React.CSSProperties | undefined);\n}\n\n/**\n * A <Link> wrapper that knows if it's \"active\" or not.\n */\nexport const NavLink = React.forwardRef<HTMLAnchorElement, NavLinkProps>(\n  function NavLinkWithRef(\n    {\n      \"aria-current\": ariaCurrentProp = \"page\",\n      caseSensitive = false,\n      className: classNameProp = \"\",\n      end = false,\n      style: styleProp,\n      to,\n      children,\n      ...rest\n    },\n    ref\n  ) {\n    let path = useResolvedPath(to);\n    let match = useMatch({ path: path.pathname, end, caseSensitive });\n\n    let routerState = React.useContext(DataRouterStateContext);\n    let nextLocation = routerState?.navigation.location;\n    let nextPath = useResolvedPath(nextLocation || \"\");\n    let nextMatch = React.useMemo(\n      () =>\n        nextLocation\n          ? matchPath(\n              { path: path.pathname, end, caseSensitive },\n              nextPath.pathname\n            )\n          : null,\n      [nextLocation, path.pathname, caseSensitive, end, nextPath.pathname]\n    );\n\n    let isPending = nextMatch != null;\n    let isActive = match != null;\n\n    let ariaCurrent = isActive ? ariaCurrentProp : undefined;\n\n    let className: string | undefined;\n    if (typeof classNameProp === \"function\") {\n      className = classNameProp({ isActive, isPending });\n    } else {\n      // If the className prop is not a function, we use a default `active`\n      // class for <NavLink />s that are active. In v5 `active` was the default\n      // value for `activeClassName`, but we are removing that API and can still\n      // use the old default behavior for a cleaner upgrade path and keep the\n      // simple styling rules working as they currently do.\n      className = [\n        classNameProp,\n        isActive ? \"active\" : null,\n        isPending ? \"pending\" : null,\n      ]\n        .filter(Boolean)\n        .join(\" \");\n    }\n\n    let style =\n      typeof styleProp === \"function\"\n        ? styleProp({ isActive, isPending })\n        : styleProp;\n\n    return (\n      <Link\n        {...rest}\n        aria-current={ariaCurrent}\n        className={className}\n        ref={ref}\n        style={style}\n        to={to}\n      >\n        {typeof children === \"function\"\n          ? children({ isActive, isPending })\n          : children}\n      </Link>\n    );\n  }\n);\n\nif (__DEV__) {\n  NavLink.displayName = \"NavLink\";\n}\n\nexport interface FormProps extends React.FormHTMLAttributes<HTMLFormElement> {\n  /**\n   * The HTTP verb to use when the form is submit. Supports \"get\", \"post\",\n   * \"put\", \"delete\", \"patch\".\n   */\n  method?: FormMethod;\n\n  /**\n   * Normal `<form action>` but supports React Router's relative paths.\n   */\n  action?: string;\n\n  /**\n   * Forces a full document navigation instead of a fetch.\n   */\n  reloadDocument?: boolean;\n\n  /**\n   * Replaces the current entry in the browser history stack when the form\n   * navigates. Use this if you don't want the user to be able to click \"back\"\n   * to the page with the form on it.\n   */\n  replace?: boolean;\n\n  /**\n   * Determines whether the form action is relative to the route hierarchy or\n   * the pathname.  Use this if you want to opt out of navigating the route\n   * hierarchy and want to instead route based on /-delimited URL segments\n   */\n  relative?: RelativeRoutingType;\n\n  /**\n   * A function to call when the form is submitted. If you call\n   * `event.preventDefault()` then this form will not do anything.\n   */\n  onSubmit?: React.FormEventHandler<HTMLFormElement>;\n}\n\n/**\n * A `@remix-run/router`-aware `<form>`. It behaves like a normal form except\n * that the interaction with the server is with `fetch` instead of new document\n * requests, allowing components to add nicer UX to the page as the form is\n * submitted and returns with data.\n */\nexport const Form = React.forwardRef<HTMLFormElement, FormProps>(\n  (props, ref) => {\n    return <FormImpl {...props} ref={ref} />;\n  }\n);\n\nif (__DEV__) {\n  Form.displayName = \"Form\";\n}\n\ntype HTMLSubmitEvent = React.BaseSyntheticEvent<\n  SubmitEvent,\n  Event,\n  HTMLFormElement\n>;\n\ntype HTMLFormSubmitter = HTMLButtonElement | HTMLInputElement;\n\ninterface FormImplProps extends FormProps {\n  fetcherKey?: string;\n  routeId?: string;\n}\n\nconst FormImpl = React.forwardRef<HTMLFormElement, FormImplProps>(\n  (\n    {\n      reloadDocument,\n      replace,\n      method = defaultMethod,\n      action,\n      onSubmit,\n      fetcherKey,\n      routeId,\n      relative,\n      ...props\n    },\n    forwardedRef\n  ) => {\n    let submit = useSubmitImpl(fetcherKey, routeId);\n    let formMethod: FormMethod =\n      method.toLowerCase() === \"get\" ? \"get\" : \"post\";\n    let formAction = useFormAction(action, { relative });\n    let submitHandler: React.FormEventHandler<HTMLFormElement> = (event) => {\n      onSubmit && onSubmit(event);\n      if (event.defaultPrevented) return;\n      event.preventDefault();\n\n      let submitter = (event as unknown as HTMLSubmitEvent).nativeEvent\n        .submitter as HTMLFormSubmitter | null;\n\n      submit(submitter || event.currentTarget, { method, replace, relative });\n    };\n\n    return (\n      <form\n        ref={forwardedRef}\n        method={formMethod}\n        action={formAction}\n        onSubmit={reloadDocument ? onSubmit : submitHandler}\n        {...props}\n      />\n    );\n  }\n);\n\nif (__DEV__) {\n  Form.displayName = \"Form\";\n}\n\ninterface ScrollRestorationProps {\n  getKey?: GetScrollRestorationKeyFunction;\n  storageKey?: string;\n}\n\n/**\n * This component will emulate the browser's scroll restoration on location\n * changes.\n */\nexport function ScrollRestoration({\n  getKey,\n  storageKey,\n}: ScrollRestorationProps) {\n  useScrollRestoration({ getKey, storageKey });\n  return null;\n}\n\nif (__DEV__) {\n  ScrollRestoration.displayName = \"ScrollRestoration\";\n}\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Hooks\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * Handles the click behavior for router `<Link>` components. This is useful if\n * you need to create custom `<Link>` components with the same click behavior we\n * use in our exported `<Link>`.\n */\nexport function useLinkClickHandler<E extends Element = HTMLAnchorElement>(\n  to: To,\n  {\n    target,\n    replace: replaceProp,\n    state,\n    preventScrollReset,\n    relative,\n  }: {\n    target?: React.HTMLAttributeAnchorTarget;\n    replace?: boolean;\n    state?: any;\n    preventScrollReset?: boolean;\n    relative?: RelativeRoutingType;\n  } = {}\n): (event: React.MouseEvent<E, MouseEvent>) => void {\n  let navigate = useNavigate();\n  let location = useLocation();\n  let path = useResolvedPath(to, { relative });\n\n  return React.useCallback(\n    (event: React.MouseEvent<E, MouseEvent>) => {\n      if (shouldProcessLinkClick(event, target)) {\n        event.preventDefault();\n\n        // If the URL hasn't changed, a regular <a> will do a replace instead of\n        // a push, so do the same here unless the replace prop is explicitly set\n        let replace =\n          replaceProp !== undefined\n            ? replaceProp\n            : createPath(location) === createPath(path);\n\n        navigate(to, { replace, state, preventScrollReset, relative });\n      }\n    },\n    [\n      location,\n      navigate,\n      path,\n      replaceProp,\n      state,\n      target,\n      to,\n      preventScrollReset,\n      relative,\n    ]\n  );\n}\n\n/**\n * A convenient wrapper for reading and writing search parameters via the\n * URLSearchParams interface.\n */\nexport function useSearchParams(\n  defaultInit?: URLSearchParamsInit\n): [URLSearchParams, SetURLSearchParams] {\n  warning(\n    typeof URLSearchParams !== \"undefined\",\n    `You cannot use the \\`useSearchParams\\` hook in a browser that does not ` +\n      `support the URLSearchParams API. If you need to support Internet ` +\n      `Explorer 11, we recommend you load a polyfill such as ` +\n      `https://github.com/ungap/url-search-params\\n\\n` +\n      `If you're unsure how to load polyfills, we recommend you check out ` +\n      `https://polyfill.io/v3/ which provides some recommendations about how ` +\n      `to load polyfills only for users that need them, instead of for every ` +\n      `user.`\n  );\n\n  let defaultSearchParamsRef = React.useRef(createSearchParams(defaultInit));\n\n  let location = useLocation();\n  let searchParams = React.useMemo(\n    () =>\n      getSearchParamsForLocation(\n        location.search,\n        defaultSearchParamsRef.current\n      ),\n    [location.search]\n  );\n\n  let navigate = useNavigate();\n  let setSearchParams = React.useCallback<SetURLSearchParams>(\n    (nextInit, navigateOptions) => {\n      const newSearchParams = createSearchParams(\n        typeof nextInit === \"function\" ? nextInit(searchParams) : nextInit\n      );\n      navigate(\"?\" + newSearchParams, navigateOptions);\n    },\n    [navigate, searchParams]\n  );\n\n  return [searchParams, setSearchParams];\n}\n\ntype SetURLSearchParams = (\n  nextInit?:\n    | URLSearchParamsInit\n    | ((prev: URLSearchParams) => URLSearchParamsInit),\n  navigateOpts?: NavigateOptions\n) => void;\n\ntype SubmitTarget =\n  | HTMLFormElement\n  | HTMLButtonElement\n  | HTMLInputElement\n  | FormData\n  | URLSearchParams\n  | { [name: string]: string }\n  | null;\n\n/**\n * Submits a HTML `<form>` to the server without reloading the page.\n */\nexport interface SubmitFunction {\n  (\n    /**\n     * Specifies the `<form>` to be submitted to the server, a specific\n     * `<button>` or `<input type=\"submit\">` to use to submit the form, or some\n     * arbitrary data to submit.\n     *\n     * Note: When using a `<button>` its `name` and `value` will also be\n     * included in the form data that is submitted.\n     */\n    target: SubmitTarget,\n\n    /**\n     * Options that override the `<form>`'s own attributes. Required when\n     * submitting arbitrary data without a backing `<form>`.\n     */\n    options?: SubmitOptions\n  ): void;\n}\n\n/**\n * Returns a function that may be used to programmatically submit a form (or\n * some arbitrary data) to the server.\n */\nexport function useSubmit(): SubmitFunction {\n  return useSubmitImpl();\n}\n\nfunction useSubmitImpl(fetcherKey?: string, routeId?: string): SubmitFunction {\n  let dataRouterContext = React.useContext(DataRouterContext);\n  invariant(\n    dataRouterContext,\n    \"useSubmitImpl must be used within a Data Router\"\n  );\n  let { router } = dataRouterContext;\n  let defaultAction = useFormAction();\n\n  return React.useCallback(\n    (target, options = {}) => {\n      if (typeof document === \"undefined\") {\n        throw new Error(\n          \"You are calling submit during the server render. \" +\n            \"Try calling submit within a `useEffect` or callback instead.\"\n        );\n      }\n\n      let { method, encType, formData, url } = getFormSubmissionInfo(\n        target,\n        defaultAction,\n        options\n      );\n\n      let href = url.pathname + url.search;\n      let opts = {\n        replace: options.replace,\n        formData,\n        formMethod: method as FormMethod,\n        formEncType: encType as FormEncType,\n      };\n      if (fetcherKey) {\n        invariant(routeId != null, \"No routeId available for useFetcher()\");\n        router.fetch(fetcherKey, routeId, href, opts);\n      } else {\n        router.navigate(href, opts);\n      }\n    },\n    [defaultAction, router, fetcherKey, routeId]\n  );\n}\n\nexport function useFormAction(\n  action?: string,\n  { relative }: { relative?: RelativeRoutingType } = {}\n): string {\n  let routeContext = React.useContext(RouteContext);\n  invariant(routeContext, \"useFormAction must be used inside a RouteContext\");\n\n  let [match] = routeContext.matches.slice(-1);\n  let resolvedAction = action ?? \".\";\n  let path = useResolvedPath(resolvedAction, { relative });\n\n  // Previously we set the default action to \".\". The problem with this is that\n  // `useResolvedPath(\".\")` excludes search params and the hash of the resolved\n  // URL. This is the intended behavior of when \".\" is specifically provided as\n  // the form action, but inconsistent w/ browsers when the action is omitted.\n  // https://github.com/remix-run/remix/issues/927\n  let location = useLocation();\n  if (action == null) {\n    // Safe to write to these directly here since if action was undefined, we\n    // would have called useResolvedPath(\".\") which will never include a search\n    // or hash\n    path.search = location.search;\n    path.hash = location.hash;\n\n    // When grabbing search params from the URL, remove the automatically\n    // inserted ?index param so we match the useResolvedPath search behavior\n    // which would not include ?index\n    if (match.route.index) {\n      let params = new URLSearchParams(path.search);\n      params.delete(\"index\");\n      path.search = params.toString() ? `?${params.toString()}` : \"\";\n    }\n  }\n\n  if ((!action || action === \".\") && match.route.index) {\n    path.search = path.search\n      ? path.search.replace(/^\\?/, \"?index&\")\n      : \"?index\";\n  }\n\n  return createPath(path);\n}\n\nfunction createFetcherForm(fetcherKey: string, routeId: string) {\n  let FetcherForm = React.forwardRef<HTMLFormElement, FormProps>(\n    (props, ref) => {\n      return (\n        <FormImpl\n          {...props}\n          ref={ref}\n          fetcherKey={fetcherKey}\n          routeId={routeId}\n        />\n      );\n    }\n  );\n  if (__DEV__) {\n    FetcherForm.displayName = \"fetcher.Form\";\n  }\n  return FetcherForm;\n}\n\nlet fetcherId = 0;\n\nexport type FetcherWithComponents<TData> = Fetcher<TData> & {\n  Form: ReturnType<typeof createFetcherForm>;\n  submit: (\n    target: SubmitTarget,\n    // Fetchers cannot replace because they are not navigation events\n    options?: Omit<SubmitOptions, \"replace\">\n  ) => void;\n  load: (href: string) => void;\n};\n\n/**\n * Interacts with route loaders and actions without causing a navigation. Great\n * for any interaction that stays on the same page.\n */\nexport function useFetcher<TData = any>(): FetcherWithComponents<TData> {\n  let dataRouterContext = React.useContext(DataRouterContext);\n  invariant(dataRouterContext, `useFetcher must be used within a Data Router`);\n  let { router } = dataRouterContext;\n\n  let route = React.useContext(RouteContext);\n  invariant(route, `useFetcher must be used inside a RouteContext`);\n\n  let routeId = route.matches[route.matches.length - 1]?.route.id;\n  invariant(\n    routeId != null,\n    `useFetcher can only be used on routes that contain a unique \"id\"`\n  );\n\n  let [fetcherKey] = React.useState(() => String(++fetcherId));\n  let [Form] = React.useState(() => {\n    invariant(routeId, `No routeId available for fetcher.Form()`);\n    return createFetcherForm(fetcherKey, routeId);\n  });\n  let [load] = React.useState(() => (href: string) => {\n    invariant(router, \"No router available for fetcher.load()\");\n    invariant(routeId, \"No routeId available for fetcher.load()\");\n    router.fetch(fetcherKey, routeId, href);\n  });\n  let submit = useSubmitImpl(fetcherKey, routeId);\n\n  let fetcher = router.getFetcher<TData>(fetcherKey);\n\n  let fetcherWithComponents = React.useMemo(\n    () => ({\n      Form,\n      submit,\n      load,\n      ...fetcher,\n    }),\n    [fetcher, Form, submit, load]\n  );\n\n  React.useEffect(() => {\n    // Is this busted when the React team gets real weird and calls effects\n    // twice on mount?  We really just need to garbage collect here when this\n    // fetcher is no longer around.\n    return () => {\n      if (!router) {\n        console.warn(`No fetcher available to clean up from useFetcher()`);\n        return;\n      }\n      router.deleteFetcher(fetcherKey);\n    };\n  }, [router, fetcherKey]);\n\n  return fetcherWithComponents;\n}\n\n/**\n * Provides all fetchers currently on the page. Useful for layouts and parent\n * routes that need to provide pending/optimistic UI regarding the fetch.\n */\nexport function useFetchers(): Fetcher[] {\n  let state = React.useContext(DataRouterStateContext);\n  invariant(state, `useFetchers must be used within a DataRouterStateContext`);\n  return [...state.fetchers.values()];\n}\n\nconst SCROLL_RESTORATION_STORAGE_KEY = \"react-router-scroll-positions\";\nlet savedScrollPositions: Record<string, number> = {};\n\n/**\n * When rendered inside a RouterProvider, will restore scroll positions on navigations\n */\nfunction useScrollRestoration({\n  getKey,\n  storageKey,\n}: {\n  getKey?: GetScrollRestorationKeyFunction;\n  storageKey?: string;\n} = {}) {\n  let location = useLocation();\n  let matches = useMatches();\n  let navigation = useNavigation();\n  let dataRouterContext = React.useContext(DataRouterContext);\n  invariant(\n    dataRouterContext,\n    \"useScrollRestoration must be used within a DataRouterContext\"\n  );\n  let { router } = dataRouterContext;\n  let state = React.useContext(DataRouterStateContext);\n\n  invariant(\n    router != null && state != null,\n    \"useScrollRestoration must be used within a DataRouterStateContext\"\n  );\n  let { restoreScrollPosition, preventScrollReset } = state;\n\n  // Trigger manual scroll restoration while we're active\n  React.useEffect(() => {\n    window.history.scrollRestoration = \"manual\";\n    return () => {\n      window.history.scrollRestoration = \"auto\";\n    };\n  }, []);\n\n  // Save positions on unload\n  useBeforeUnload(\n    React.useCallback(() => {\n      if (navigation.state === \"idle\") {\n        let key = (getKey ? getKey(location, matches) : null) || location.key;\n        savedScrollPositions[key] = window.scrollY;\n      }\n      sessionStorage.setItem(\n        storageKey || SCROLL_RESTORATION_STORAGE_KEY,\n        JSON.stringify(savedScrollPositions)\n      );\n      window.history.scrollRestoration = \"auto\";\n    }, [storageKey, getKey, navigation.state, location, matches])\n  );\n\n  // Read in any saved scroll locations\n  React.useLayoutEffect(() => {\n    try {\n      let sessionPositions = sessionStorage.getItem(\n        storageKey || SCROLL_RESTORATION_STORAGE_KEY\n      );\n      if (sessionPositions) {\n        savedScrollPositions = JSON.parse(sessionPositions);\n      }\n    } catch (e) {\n      // no-op, use default empty object\n    }\n  }, [storageKey]);\n\n  // Enable scroll restoration in the router\n  React.useLayoutEffect(() => {\n    let disableScrollRestoration = router?.enableScrollRestoration(\n      savedScrollPositions,\n      () => window.scrollY,\n      getKey\n    );\n    return () => disableScrollRestoration && disableScrollRestoration();\n  }, [router, getKey]);\n\n  // Restore scrolling when state.restoreScrollPosition changes\n  React.useLayoutEffect(() => {\n    // Explicit false means don't do anything (used for submissions)\n    if (restoreScrollPosition === false) {\n      return;\n    }\n\n    // been here before, scroll to it\n    if (typeof restoreScrollPosition === \"number\") {\n      window.scrollTo(0, restoreScrollPosition);\n      return;\n    }\n\n    // try to scroll to the hash\n    if (location.hash) {\n      let el = document.getElementById(location.hash.slice(1));\n      if (el) {\n        el.scrollIntoView();\n        return;\n      }\n    }\n\n    // Opt out of scroll reset if this link requested it\n    if (preventScrollReset === true) {\n      return;\n    }\n\n    // otherwise go to the top on new locations\n    window.scrollTo(0, 0);\n  }, [location, restoreScrollPosition, preventScrollReset]);\n}\n\nfunction useBeforeUnload(callback: () => any): void {\n  React.useEffect(() => {\n    window.addEventListener(\"beforeunload\", callback);\n    return () => {\n      window.removeEventListener(\"beforeunload\", callback);\n    };\n  }, [callback]);\n}\n\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Utils\n////////////////////////////////////////////////////////////////////////////////\n\nfunction warning(cond: boolean, message: string): void {\n  if (!cond) {\n    // eslint-disable-next-line no-console\n    if (typeof console !== \"undefined\") console.warn(message);\n\n    try {\n      // Welcome to debugging React Router!\n      //\n      // This error is thrown as a convenience so you can more easily\n      // find the source for a warning that appears in the console by\n      // enabling \"pause on exceptions\" in your JavaScript debugger.\n      throw new Error(message);\n      // eslint-disable-next-line no-empty\n    } catch (e) {}\n  }\n}\n//#endregion\n","import type { FormEncType, FormMethod } from \"@remix-run/router\";\nimport type { RelativeRoutingType } from \"react-router\";\n\nexport const defaultMethod = \"get\";\nconst defaultEncType = \"application/x-www-form-urlencoded\";\n\nexport function isHtmlElement(object: any): object is HTMLElement {\n  return object != null && typeof object.tagName === \"string\";\n}\n\nexport function isButtonElement(object: any): object is HTMLButtonElement {\n  return isHtmlElement(object) && object.tagName.toLowerCase() === \"button\";\n}\n\nexport function isFormElement(object: any): object is HTMLFormElement {\n  return isHtmlElement(object) && object.tagName.toLowerCase() === \"form\";\n}\n\nexport function isInputElement(object: any): object is HTMLInputElement {\n  return isHtmlElement(object) && object.tagName.toLowerCase() === \"input\";\n}\n\ntype LimitedMouseEvent = Pick<\n  MouseEvent,\n  \"button\" | \"metaKey\" | \"altKey\" | \"ctrlKey\" | \"shiftKey\"\n>;\n\nfunction isModifiedEvent(event: LimitedMouseEvent) {\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n}\n\nexport function shouldProcessLinkClick(\n  event: LimitedMouseEvent,\n  target?: string\n) {\n  return (\n    event.button === 0 && // Ignore everything but left clicks\n    (!target || target === \"_self\") && // Let browser handle \"target=_blank\" etc.\n    !isModifiedEvent(event) // Ignore clicks with modifier keys\n  );\n}\n\nexport type ParamKeyValuePair = [string, string];\n\nexport type URLSearchParamsInit =\n  | string\n  | ParamKeyValuePair[]\n  | Record<string, string | string[]>\n  | URLSearchParams;\n\n/**\n * Creates a URLSearchParams object using the given initializer.\n *\n * This is identical to `new URLSearchParams(init)` except it also\n * supports arrays as values in the object form of the initializer\n * instead of just strings. This is convenient when you need multiple\n * values for a given key, but don't want to use an array initializer.\n *\n * For example, instead of:\n *\n *   let searchParams = new URLSearchParams([\n *     ['sort', 'name'],\n *     ['sort', 'price']\n *   ]);\n *\n * you can do:\n *\n *   let searchParams = createSearchParams({\n *     sort: ['name', 'price']\n *   });\n */\nexport function createSearchParams(\n  init: URLSearchParamsInit = \"\"\n): URLSearchParams {\n  return new URLSearchParams(\n    typeof init === \"string\" ||\n    Array.isArray(init) ||\n    init instanceof URLSearchParams\n      ? init\n      : Object.keys(init).reduce((memo, key) => {\n          let value = init[key];\n          return memo.concat(\n            Array.isArray(value) ? value.map((v) => [key, v]) : [[key, value]]\n          );\n        }, [] as ParamKeyValuePair[])\n  );\n}\n\nexport function getSearchParamsForLocation(\n  locationSearch: string,\n  defaultSearchParams: URLSearchParams\n) {\n  let searchParams = createSearchParams(locationSearch);\n\n  for (let key of defaultSearchParams.keys()) {\n    if (!searchParams.has(key)) {\n      defaultSearchParams.getAll(key).forEach((value) => {\n        searchParams.append(key, value);\n      });\n    }\n  }\n\n  return searchParams;\n}\n\nexport interface SubmitOptions {\n  /**\n   * The HTTP method used to submit the form. Overrides `<form method>`.\n   * Defaults to \"GET\".\n   */\n  method?: FormMethod;\n\n  /**\n   * The action URL path used to submit the form. Overrides `<form action>`.\n   * Defaults to the path of the current route.\n   *\n   * Note: It is assumed the path is already resolved. If you need to resolve a\n   * relative path, use `useFormAction`.\n   */\n  action?: string;\n\n  /**\n   * The action URL used to submit the form. Overrides `<form encType>`.\n   * Defaults to \"application/x-www-form-urlencoded\".\n   */\n  encType?: FormEncType;\n\n  /**\n   * Set `true` to replace the current entry in the browser's history stack\n   * instead of creating a new one (i.e. stay on \"the same page\"). Defaults\n   * to `false`.\n   */\n  replace?: boolean;\n\n  /**\n   * Determines whether the form action is relative to the route hierarchy or\n   * the pathname.  Use this if you want to opt out of navigating the route\n   * hierarchy and want to instead route based on /-delimited URL segments\n   */\n  relative?: RelativeRoutingType;\n}\n\nexport function getFormSubmissionInfo(\n  target:\n    | HTMLFormElement\n    | HTMLButtonElement\n    | HTMLInputElement\n    | FormData\n    | URLSearchParams\n    | { [name: string]: string }\n    | null,\n  defaultAction: string,\n  options: SubmitOptions\n): {\n  url: URL;\n  method: string;\n  encType: string;\n  formData: FormData;\n} {\n  let method: string;\n  let action: string;\n  let encType: string;\n  let formData: FormData;\n\n  if (isFormElement(target)) {\n    let submissionTrigger: HTMLButtonElement | HTMLInputElement = (\n      options as any\n    ).submissionTrigger;\n\n    method = options.method || target.getAttribute(\"method\") || defaultMethod;\n    action = options.action || target.getAttribute(\"action\") || defaultAction;\n    encType =\n      options.encType || target.getAttribute(\"enctype\") || defaultEncType;\n\n    formData = new FormData(target);\n\n    if (submissionTrigger && submissionTrigger.name) {\n      formData.append(submissionTrigger.name, submissionTrigger.value);\n    }\n  } else if (\n    isButtonElement(target) ||\n    (isInputElement(target) &&\n      (target.type === \"submit\" || target.type === \"image\"))\n  ) {\n    let form = target.form;\n\n    if (form == null) {\n      throw new Error(\n        `Cannot submit a <button> or <input type=\"submit\"> without a <form>`\n      );\n    }\n\n    // <button>/<input type=\"submit\"> may override attributes of <form>\n\n    method =\n      options.method ||\n      target.getAttribute(\"formmethod\") ||\n      form.getAttribute(\"method\") ||\n      defaultMethod;\n    action =\n      options.action ||\n      target.getAttribute(\"formaction\") ||\n      form.getAttribute(\"action\") ||\n      defaultAction;\n    encType =\n      options.encType ||\n      target.getAttribute(\"formenctype\") ||\n      form.getAttribute(\"enctype\") ||\n      defaultEncType;\n\n    formData = new FormData(form);\n\n    // Include name + value from a <button>, appending in case the button name\n    // matches an existing input name\n    if (target.name) {\n      formData.append(target.name, target.value);\n    }\n  } else if (isHtmlElement(target)) {\n    throw new Error(\n      `Cannot submit element that is not <form>, <button>, or ` +\n        `<input type=\"submit|image\">`\n    );\n  } else {\n    method = options.method || defaultMethod;\n    action = options.action || defaultAction;\n    encType = options.encType || defaultEncType;\n\n    if (target instanceof FormData) {\n      formData = target;\n    } else {\n      formData = new FormData();\n\n      if (target instanceof URLSearchParams) {\n        for (let [name, value] of target) {\n          formData.append(name, value);\n        }\n      } else if (target != null) {\n        for (let name of Object.keys(target)) {\n          formData.append(name, target[name]);\n        }\n      }\n    }\n  }\n\n  let { protocol, host } = window.location;\n  let url = new URL(action, `${protocol}//${host}`);\n\n  return { url, method, encType, formData };\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport * as React from \"react\";\n\n/**\n * inlined Object.is polyfill to avoid requiring consumers ship their own\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n */\nfunction isPolyfill(x: any, y: any) {\n  return (\n    (x === y && (x !== 0 || 1 / x === 1 / y)) || (x !== x && y !== y) // eslint-disable-line no-self-compare\n  );\n}\n\nconst is: (x: any, y: any) => boolean =\n  typeof Object.is === \"function\" ? Object.is : isPolyfill;\n\n// Intentionally not using named imports because Rollup uses dynamic\n// dispatch for CommonJS interop named imports.\nconst { useState, useEffect, useLayoutEffect, useDebugValue } = React;\n\nlet didWarnOld18Alpha = false;\nlet didWarnUncachedGetSnapshot = false;\n\n// Disclaimer: This shim breaks many of the rules of React, and only works\n// because of a very particular set of implementation details and assumptions\n// -- change any one of them and it will break. The most important assumption\n// is that updates are always synchronous, because concurrent rendering is\n// only available in versions of React that also have a built-in\n// useSyncExternalStore API. And we only use this shim when the built-in API\n// does not exist.\n//\n// Do not assume that the clever hacks used by this hook also work in general.\n// The point of this shim is to replace the need for hacks by other libraries.\nexport function useSyncExternalStore<T>(\n  subscribe: (fn: () => void) => () => void,\n  getSnapshot: () => T,\n  // Note: The shim does not use getServerSnapshot, because pre-18 versions of\n  // React do not expose a way to check if we're hydrating. So users of the shim\n  // will need to track that themselves and return the correct value\n  // from `getSnapshot`.\n  getServerSnapshot?: () => T\n): T {\n  if (__DEV__) {\n    if (!didWarnOld18Alpha) {\n      if (\"startTransition\" in React) {\n        didWarnOld18Alpha = true;\n        console.error(\n          \"You are using an outdated, pre-release alpha of React 18 that \" +\n            \"does not support useSyncExternalStore. The \" +\n            \"use-sync-external-store shim will not work correctly. Upgrade \" +\n            \"to a newer pre-release.\"\n        );\n      }\n    }\n  }\n\n  // Read the current snapshot from the store on every render. Again, this\n  // breaks the rules of React, and only works here because of specific\n  // implementation details, most importantly that updates are\n  // always synchronous.\n  const value = getSnapshot();\n  if (__DEV__) {\n    if (!didWarnUncachedGetSnapshot) {\n      const cachedValue = getSnapshot();\n      if (!is(value, cachedValue)) {\n        console.error(\n          \"The result of getSnapshot should be cached to avoid an infinite loop\"\n        );\n        didWarnUncachedGetSnapshot = true;\n      }\n    }\n  }\n\n  // Because updates are synchronous, we don't queue them. Instead we force a\n  // re-render whenever the subscribed state changes by updating an some\n  // arbitrary useState hook. Then, during render, we call getSnapshot to read\n  // the current value.\n  //\n  // Because we don't actually use the state returned by the useState hook, we\n  // can save a bit of memory by storing other stuff in that slot.\n  //\n  // To implement the early bailout, we need to track some things on a mutable\n  // object. Usually, we would put that in a useRef hook, but we can stash it in\n  // our useState hook instead.\n  //\n  // To force a re-render, we call forceUpdate({inst}). That works because the\n  // new object always fails an equality check.\n  const [{ inst }, forceUpdate] = useState({ inst: { value, getSnapshot } });\n\n  // Track the latest getSnapshot function with a ref. This needs to be updated\n  // in the layout phase so we can access it during the tearing check that\n  // happens on subscribe.\n  useLayoutEffect(() => {\n    inst.value = value;\n    inst.getSnapshot = getSnapshot;\n\n    // Whenever getSnapshot or subscribe changes, we need to check in the\n    // commit phase if there was an interleaved mutation. In concurrent mode\n    // this can happen all the time, but even in synchronous mode, an earlier\n    // effect may have mutated the store.\n    if (checkIfSnapshotChanged(inst)) {\n      // Force a re-render.\n      forceUpdate({ inst });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [subscribe, value, getSnapshot]);\n\n  useEffect(() => {\n    // Check for changes right before subscribing. Subsequent changes will be\n    // detected in the subscription handler.\n    if (checkIfSnapshotChanged(inst)) {\n      // Force a re-render.\n      forceUpdate({ inst });\n    }\n    const handleStoreChange = () => {\n      // TODO: Because there is no cross-renderer API for batching updates, it's\n      // up to the consumer of this library to wrap their subscription event\n      // with unstable_batchedUpdates. Should we try to detect when this isn't\n      // the case and print a warning in development?\n\n      // The store changed. Check if the snapshot changed since the last time we\n      // read from the store.\n      if (checkIfSnapshotChanged(inst)) {\n        // Force a re-render.\n        forceUpdate({ inst });\n      }\n    };\n    // Subscribe to the store and return a clean-up function.\n    return subscribe(handleStoreChange);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [subscribe]);\n\n  useDebugValue(value);\n  return value;\n}\n\nfunction checkIfSnapshotChanged(inst: any) {\n  const latestGetSnapshot = inst.getSnapshot;\n  const prevValue = inst.value;\n  try {\n    const nextValue = latestGetSnapshot();\n    return !is(prevValue, nextValue);\n  } catch (error) {\n    return true;\n  }\n}\n","/**\n * Inlined into the react-router repo since use-sync-external-store does not\n * provide a UMD-compatible package, so we need this to be able to distribute\n * UMD react-router bundles\n */\n\n/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport * as React from \"react\";\n\nimport { useSyncExternalStore as client } from \"./useSyncExternalStoreShimClient\";\nimport { useSyncExternalStore as server } from \"./useSyncExternalStoreShimServer\";\n\nconst canUseDOM: boolean = !!(\n  typeof window !== \"undefined\" &&\n  typeof window.document !== \"undefined\" &&\n  typeof window.document.createElement !== \"undefined\"\n);\nconst isServerEnvironment = !canUseDOM;\nconst shim = isServerEnvironment ? server : client;\n\nexport const useSyncExternalStore =\n  \"useSyncExternalStore\" in React\n    ? ((module) => module.useSyncExternalStore)(React)\n    : shim;\n","import * as React from \"react\";\nimport type {\n  TrackedPromise,\n  History,\n  Location,\n  Router,\n  StaticHandlerContext,\n  To,\n  AgnosticRouteObject,\n  AgnosticRouteMatch,\n} from \"@remix-run/router\";\nimport type { Action as NavigationType } from \"@remix-run/router\";\n\n// Create react-specific types from the agnostic types in @remix-run/router to\n// export from react-router\nexport interface RouteObject extends AgnosticRouteObject {\n  children?: RouteObject[];\n  element?: React.ReactNode | null;\n  errorElement?: React.ReactNode | null;\n}\n\nexport interface DataRouteObject extends RouteObject {\n  children?: DataRouteObject[];\n  id: string;\n}\n\nexport interface RouteMatch<\n  ParamKey extends string = string,\n  RouteObjectType extends RouteObject = RouteObject\n> extends AgnosticRouteMatch<ParamKey, RouteObjectType> {}\n\nexport interface DataRouteMatch extends RouteMatch<string, DataRouteObject> {}\n\n// Contexts for data routers\nexport const DataStaticRouterContext =\n  React.createContext<StaticHandlerContext | null>(null);\nif (__DEV__) {\n  DataStaticRouterContext.displayName = \"DataStaticRouterContext\";\n}\n\nexport interface DataRouterContextObject extends NavigationContextObject {\n  router: Router;\n}\n\nexport const DataRouterContext =\n  React.createContext<DataRouterContextObject | null>(null);\nif (__DEV__) {\n  DataRouterContext.displayName = \"DataRouter\";\n}\n\nexport const DataRouterStateContext = React.createContext<\n  Router[\"state\"] | null\n>(null);\nif (__DEV__) {\n  DataRouterStateContext.displayName = \"DataRouterState\";\n}\n\nexport const AwaitContext = React.createContext<TrackedPromise | null>(null);\nif (__DEV__) {\n  AwaitContext.displayName = \"Await\";\n}\n\nexport type RelativeRoutingType = \"route\" | \"path\";\n\nexport interface NavigateOptions {\n  replace?: boolean;\n  state?: any;\n  preventScrollReset?: boolean;\n  relative?: RelativeRoutingType;\n}\n\n/**\n * A Navigator is a \"location changer\"; it's how you get to different locations.\n *\n * Every history instance conforms to the Navigator interface, but the\n * distinction is useful primarily when it comes to the low-level <Router> API\n * where both the location and a navigator must be provided separately in order\n * to avoid \"tearing\" that may occur in a suspense-enabled app if the action\n * and/or location were to be read directly from the history instance.\n */\nexport interface Navigator {\n  createHref: History[\"createHref\"];\n  go: History[\"go\"];\n  push(to: To, state?: any, opts?: NavigateOptions): void;\n  replace(to: To, state?: any, opts?: NavigateOptions): void;\n}\n\ninterface NavigationContextObject {\n  basename: string;\n  navigator: Navigator;\n  static: boolean;\n}\n\nexport const NavigationContext = React.createContext<NavigationContextObject>(\n  null!\n);\n\nif (__DEV__) {\n  NavigationContext.displayName = \"Navigation\";\n}\n\ninterface LocationContextObject {\n  location: Location;\n  navigationType: NavigationType;\n}\n\nexport const LocationContext = React.createContext<LocationContextObject>(\n  null!\n);\n\nif (__DEV__) {\n  LocationContext.displayName = \"Location\";\n}\n\nexport interface RouteContextObject {\n  outlet: React.ReactElement | null;\n  matches: RouteMatch[];\n}\n\nexport const RouteContext = React.createContext<RouteContextObject>({\n  outlet: null,\n  matches: [],\n});\n\nif (__DEV__) {\n  RouteContext.displayName = \"Route\";\n}\n\nexport const RouteErrorContext = React.createContext<any>(null);\n\nif (__DEV__) {\n  RouteErrorContext.displayName = \"RouteError\";\n}\n","import * as React from \"react\";\nimport type {\n  Location,\n  ParamParseKey,\n  Params,\n  Path,\n  PathMatch,\n  PathPattern,\n  Router as RemixRouter,\n  To,\n} from \"@remix-run/router\";\nimport {\n  Action as NavigationType,\n  invariant,\n  isRouteErrorResponse,\n  joinPaths,\n  matchPath,\n  matchRoutes,\n  parsePath,\n  resolveTo,\n  warning,\n} from \"@remix-run/router\";\n\nimport type {\n  NavigateOptions,\n  RouteContextObject,\n  RouteMatch,\n  RouteObject,\n  DataRouteMatch,\n  RelativeRoutingType,\n} from \"./context\";\nimport {\n  DataRouterContext,\n  DataRouterStateContext,\n  LocationContext,\n  NavigationContext,\n  RouteContext,\n  RouteErrorContext,\n  AwaitContext,\n  DataStaticRouterContext,\n} from \"./context\";\n\n/**\n * Returns the full href for the given \"to\" value. This is useful for building\n * custom links that are also accessible and preserve right-click behavior.\n *\n * @see https://reactrouter.com/docs/en/v6/hooks/use-href\n */\nexport function useHref(\n  to: To,\n  { relative }: { relative?: RelativeRoutingType } = {}\n): string {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useHref() may be used only in the context of a <Router> component.`\n  );\n\n  let { basename, navigator } = React.useContext(NavigationContext);\n  let { hash, pathname, search } = useResolvedPath(to, { relative });\n\n  let joinedPathname = pathname;\n\n  // If we're operating within a basename, prepend it to the pathname prior\n  // to creating the href.  If this is a root navigation, then just use the raw\n  // basename which allows the basename to have full control over the presence\n  // of a trailing slash on root links\n  if (basename !== \"/\") {\n    joinedPathname =\n      pathname === \"/\" ? basename : joinPaths([basename, pathname]);\n  }\n\n  return navigator.createHref({ pathname: joinedPathname, search, hash });\n}\n\n/**\n * Returns true if this component is a descendant of a <Router>.\n *\n * @see https://reactrouter.com/docs/en/v6/hooks/use-in-router-context\n */\nexport function useInRouterContext(): boolean {\n  return React.useContext(LocationContext) != null;\n}\n\n/**\n * Returns the current location object, which represents the current URL in web\n * browsers.\n *\n * Note: If you're using this it may mean you're doing some of your own\n * \"routing\" in your app, and we'd like to know what your use case is. We may\n * be able to provide something higher-level to better suit your needs.\n *\n * @see https://reactrouter.com/docs/en/v6/hooks/use-location\n */\nexport function useLocation(): Location {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useLocation() may be used only in the context of a <Router> component.`\n  );\n\n  return React.useContext(LocationContext).location;\n}\n\n/**\n * Returns the current navigation action which describes how the router came to\n * the current location, either by a pop, push, or replace on the history stack.\n *\n * @see https://reactrouter.com/docs/en/v6/hooks/use-navigation-type\n */\nexport function useNavigationType(): NavigationType {\n  return React.useContext(LocationContext).navigationType;\n}\n\n/**\n * Returns true if the URL for the given \"to\" value matches the current URL.\n * This is useful for components that need to know \"active\" state, e.g.\n * <NavLink>.\n *\n * @see https://reactrouter.com/docs/en/v6/hooks/use-match\n */\nexport function useMatch<\n  ParamKey extends ParamParseKey<Path>,\n  Path extends string\n>(pattern: PathPattern<Path> | Path): PathMatch<ParamKey> | null {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useMatch() may be used only in the context of a <Router> component.`\n  );\n\n  let { pathname } = useLocation();\n  return React.useMemo(\n    () => matchPath<ParamKey, Path>(pattern, pathname),\n    [pathname, pattern]\n  );\n}\n\n/**\n * The interface for the navigate() function returned from useNavigate().\n */\nexport interface NavigateFunction {\n  (to: To, options?: NavigateOptions): void;\n  (delta: number): void;\n}\n\n/**\n * When processing relative navigation we want to ignore ancestor routes that\n * do not contribute to the path, such that index/pathless layout routes don't\n * interfere.\n *\n * For example, when moving a route element into an index route and/or a\n * pathless layout route, relative link behavior contained within should stay\n * the same.  Both of the following examples should link back to the root:\n *\n *   <Route path=\"/\">\n *     <Route path=\"accounts\" element={<Link to=\"..\"}>\n *   </Route>\n *\n *   <Route path=\"/\">\n *     <Route path=\"accounts\">\n *       <Route element={<AccountsLayout />}>       // <-- Does not contribute\n *         <Route index element={<Link to=\"..\"} />  // <-- Does not contribute\n *       </Route\n *     </Route>\n *   </Route>\n */\nfunction getPathContributingMatches(matches: RouteMatch[]) {\n  return matches.filter(\n    (match, index) =>\n      index === 0 ||\n      (!match.route.index &&\n        match.pathnameBase !== matches[index - 1].pathnameBase)\n  );\n}\n\n/**\n * Returns an imperative method for changing the location. Used by <Link>s, but\n * may also be used by other elements to change the location.\n *\n * @see https://reactrouter.com/docs/en/v6/hooks/use-navigate\n */\nexport function useNavigate(): NavigateFunction {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useNavigate() may be used only in the context of a <Router> component.`\n  );\n\n  let { basename, navigator } = React.useContext(NavigationContext);\n  let { matches } = React.useContext(RouteContext);\n  let { pathname: locationPathname } = useLocation();\n\n  let routePathnamesJson = JSON.stringify(\n    getPathContributingMatches(matches).map((match) => match.pathnameBase)\n  );\n\n  let activeRef = React.useRef(false);\n  React.useEffect(() => {\n    activeRef.current = true;\n  });\n\n  let navigate: NavigateFunction = React.useCallback(\n    (to: To | number, options: NavigateOptions = {}) => {\n      warning(\n        activeRef.current,\n        `You should call navigate() in a React.useEffect(), not when ` +\n          `your component is first rendered.`\n      );\n\n      if (!activeRef.current) return;\n\n      if (typeof to === \"number\") {\n        navigator.go(to);\n        return;\n      }\n\n      let path = resolveTo(\n        to,\n        JSON.parse(routePathnamesJson),\n        locationPathname,\n        options.relative === \"path\"\n      );\n\n      // If we're operating within a basename, prepend it to the pathname prior\n      // to handing off to history.  If this is a root navigation, then we\n      // navigate to the raw basename which allows the basename to have full\n      // control over the presence of a trailing slash on root links\n      if (basename !== \"/\") {\n        path.pathname =\n          path.pathname === \"/\"\n            ? basename\n            : joinPaths([basename, path.pathname]);\n      }\n\n      (!!options.replace ? navigator.replace : navigator.push)(\n        path,\n        options.state,\n        options\n      );\n    },\n    [basename, navigator, routePathnamesJson, locationPathname]\n  );\n\n  return navigate;\n}\n\nconst OutletContext = React.createContext<unknown>(null);\n\n/**\n * Returns the context (if provided) for the child route at this level of the route\n * hierarchy.\n * @see https://reactrouter.com/docs/en/v6/hooks/use-outlet-context\n */\nexport function useOutletContext<Context = unknown>(): Context {\n  return React.useContext(OutletContext) as Context;\n}\n\n/**\n * Returns the element for the child route at this level of the route\n * hierarchy. Used internally by <Outlet> to render child routes.\n *\n * @see https://reactrouter.com/docs/en/v6/hooks/use-outlet\n */\nexport function useOutlet(context?: unknown): React.ReactElement | null {\n  let outlet = React.useContext(RouteContext).outlet;\n  if (outlet) {\n    return (\n      <OutletContext.Provider value={context}>{outlet}</OutletContext.Provider>\n    );\n  }\n  return outlet;\n}\n\n/**\n * Returns an object of key/value pairs of the dynamic params from the current\n * URL that were matched by the route path.\n *\n * @see https://reactrouter.com/docs/en/v6/hooks/use-params\n */\nexport function useParams<\n  ParamsOrKey extends string | Record<string, string | undefined> = string\n>(): Readonly<\n  [ParamsOrKey] extends [string] ? Params<ParamsOrKey> : Partial<ParamsOrKey>\n> {\n  let { matches } = React.useContext(RouteContext);\n  let routeMatch = matches[matches.length - 1];\n  return routeMatch ? (routeMatch.params as any) : {};\n}\n\n/**\n * Resolves the pathname of the given `to` value against the current location.\n *\n * @see https://reactrouter.com/docs/en/v6/hooks/use-resolved-path\n */\nexport function useResolvedPath(\n  to: To,\n  { relative }: { relative?: RelativeRoutingType } = {}\n): Path {\n  let { matches } = React.useContext(RouteContext);\n  let { pathname: locationPathname } = useLocation();\n\n  let routePathnamesJson = JSON.stringify(\n    getPathContributingMatches(matches).map((match) => match.pathnameBase)\n  );\n\n  return React.useMemo(\n    () =>\n      resolveTo(\n        to,\n        JSON.parse(routePathnamesJson),\n        locationPathname,\n        relative === \"path\"\n      ),\n    [to, routePathnamesJson, locationPathname, relative]\n  );\n}\n\n/**\n * Returns the element of the route that matched the current location, prepared\n * with the correct context to render the remainder of the route tree. Route\n * elements in the tree must render an <Outlet> to render their child route's\n * element.\n *\n * @see https://reactrouter.com/docs/en/v6/hooks/use-routes\n */\nexport function useRoutes(\n  routes: RouteObject[],\n  locationArg?: Partial<Location> | string\n): React.ReactElement | null {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useRoutes() may be used only in the context of a <Router> component.`\n  );\n\n  let dataRouterStateContext = React.useContext(DataRouterStateContext);\n  let { matches: parentMatches } = React.useContext(RouteContext);\n  let routeMatch = parentMatches[parentMatches.length - 1];\n  let parentParams = routeMatch ? routeMatch.params : {};\n  let parentPathname = routeMatch ? routeMatch.pathname : \"/\";\n  let parentPathnameBase = routeMatch ? routeMatch.pathnameBase : \"/\";\n  let parentRoute = routeMatch && routeMatch.route;\n\n  if (__DEV__) {\n    // You won't get a warning about 2 different <Routes> under a <Route>\n    // without a trailing *, but this is a best-effort warning anyway since we\n    // cannot even give the warning unless they land at the parent route.\n    //\n    // Example:\n    //\n    // <Routes>\n    //   {/* This route path MUST end with /* because otherwise\n    //       it will never match /blog/post/123 */}\n    //   <Route path=\"blog\" element={<Blog />} />\n    //   <Route path=\"blog/feed\" element={<BlogFeed />} />\n    // </Routes>\n    //\n    // function Blog() {\n    //   return (\n    //     <Routes>\n    //       <Route path=\"post/:id\" element={<Post />} />\n    //     </Routes>\n    //   );\n    // }\n    let parentPath = (parentRoute && parentRoute.path) || \"\";\n    warningOnce(\n      parentPathname,\n      !parentRoute || parentPath.endsWith(\"*\"),\n      `You rendered descendant <Routes> (or called \\`useRoutes()\\`) at ` +\n        `\"${parentPathname}\" (under <Route path=\"${parentPath}\">) but the ` +\n        `parent route path has no trailing \"*\". This means if you navigate ` +\n        `deeper, the parent won't match anymore and therefore the child ` +\n        `routes will never render.\\n\\n` +\n        `Please change the parent <Route path=\"${parentPath}\"> to <Route ` +\n        `path=\"${parentPath === \"/\" ? \"*\" : `${parentPath}/*`}\">.`\n    );\n  }\n\n  let locationFromContext = useLocation();\n\n  let location;\n  if (locationArg) {\n    let parsedLocationArg =\n      typeof locationArg === \"string\" ? parsePath(locationArg) : locationArg;\n\n    invariant(\n      parentPathnameBase === \"/\" ||\n        parsedLocationArg.pathname?.startsWith(parentPathnameBase),\n      `When overriding the location using \\`<Routes location>\\` or \\`useRoutes(routes, location)\\`, ` +\n        `the location pathname must begin with the portion of the URL pathname that was ` +\n        `matched by all parent routes. The current pathname base is \"${parentPathnameBase}\" ` +\n        `but pathname \"${parsedLocationArg.pathname}\" was given in the \\`location\\` prop.`\n    );\n\n    location = parsedLocationArg;\n  } else {\n    location = locationFromContext;\n  }\n\n  let pathname = location.pathname || \"/\";\n  let remainingPathname =\n    parentPathnameBase === \"/\"\n      ? pathname\n      : pathname.slice(parentPathnameBase.length) || \"/\";\n\n  let matches = matchRoutes(routes, { pathname: remainingPathname });\n\n  if (__DEV__) {\n    warning(\n      parentRoute || matches != null,\n      `No routes matched location \"${location.pathname}${location.search}${location.hash}\" `\n    );\n\n    warning(\n      matches == null ||\n        matches[matches.length - 1].route.element !== undefined,\n      `Matched leaf route at location \"${location.pathname}${location.search}${location.hash}\" does not have an element. ` +\n        `This means it will render an <Outlet /> with a null value by default resulting in an \"empty\" page.`\n    );\n  }\n\n  let renderedMatches = _renderMatches(\n    matches &&\n      matches.map((match) =>\n        Object.assign({}, match, {\n          params: Object.assign({}, parentParams, match.params),\n          pathname: joinPaths([parentPathnameBase, match.pathname]),\n          pathnameBase:\n            match.pathnameBase === \"/\"\n              ? parentPathnameBase\n              : joinPaths([parentPathnameBase, match.pathnameBase]),\n        })\n      ),\n    parentMatches,\n    dataRouterStateContext || undefined\n  );\n\n  // When a user passes in a `locationArg`, the associated routes need to\n  // be wrapped in a new `LocationContext.Provider` in order for `useLocation`\n  // to use the scoped location instead of the global location.\n  if (locationArg) {\n    return (\n      <LocationContext.Provider\n        value={{\n          location: {\n            pathname: \"/\",\n            search: \"\",\n            hash: \"\",\n            state: null,\n            key: \"default\",\n            ...location,\n          },\n          navigationType: NavigationType.Pop,\n        }}\n      >\n        {renderedMatches}\n      </LocationContext.Provider>\n    );\n  }\n\n  return renderedMatches;\n}\n\nfunction DefaultErrorElement() {\n  let error = useRouteError();\n  let message = isRouteErrorResponse(error)\n    ? `${error.status} ${error.statusText}`\n    : error instanceof Error\n    ? error.message\n    : JSON.stringify(error);\n  let stack = error instanceof Error ? error.stack : null;\n  let lightgrey = \"rgba(200,200,200, 0.5)\";\n  let preStyles = { padding: \"0.5rem\", backgroundColor: lightgrey };\n  let codeStyles = { padding: \"2px 4px\", backgroundColor: lightgrey };\n  return (\n    <>\n      <h2>Unhandled Thrown Error!</h2>\n      <h3 style={{ fontStyle: \"italic\" }}>{message}</h3>\n      {stack ? <pre style={preStyles}>{stack}</pre> : null}\n      <p>💿 Hey developer 👋</p>\n      <p>\n        You can provide a way better UX than this when your app throws errors by\n        providing your own&nbsp;\n        <code style={codeStyles}>errorElement</code> props on&nbsp;\n        <code style={codeStyles}>&lt;Route&gt;</code>\n      </p>\n    </>\n  );\n}\n\ntype RenderErrorBoundaryProps = React.PropsWithChildren<{\n  location: Location;\n  error: any;\n  component: React.ReactNode;\n}>;\n\ntype RenderErrorBoundaryState = {\n  location: Location;\n  error: any;\n};\n\nexport class RenderErrorBoundary extends React.Component<\n  RenderErrorBoundaryProps,\n  RenderErrorBoundaryState\n> {\n  constructor(props: RenderErrorBoundaryProps) {\n    super(props);\n    this.state = {\n      location: props.location,\n      error: props.error,\n    };\n  }\n\n  static getDerivedStateFromError(error: any) {\n    return { error: error };\n  }\n\n  static getDerivedStateFromProps(\n    props: RenderErrorBoundaryProps,\n    state: RenderErrorBoundaryState\n  ) {\n    // When we get into an error state, the user will likely click \"back\" to the\n    // previous page that didn't have an error. Because this wraps the entire\n    // application, that will have no effect--the error page continues to display.\n    // This gives us a mechanism to recover from the error when the location changes.\n    //\n    // Whether we're in an error state or not, we update the location in state\n    // so that when we are in an error state, it gets reset when a new location\n    // comes in and the user recovers from the error.\n    if (state.location !== props.location) {\n      return {\n        error: props.error,\n        location: props.location,\n      };\n    }\n\n    // If we're not changing locations, preserve the location but still surface\n    // any new errors that may come through. We retain the existing error, we do\n    // this because the error provided from the app state may be cleared without\n    // the location changing.\n    return {\n      error: props.error || state.error,\n      location: state.location,\n    };\n  }\n\n  componentDidCatch(error: any, errorInfo: any) {\n    console.error(\n      \"React Router caught the following error during render\",\n      error,\n      errorInfo\n    );\n  }\n\n  render() {\n    return this.state.error ? (\n      <RouteErrorContext.Provider\n        value={this.state.error}\n        children={this.props.component}\n      />\n    ) : (\n      this.props.children\n    );\n  }\n}\n\ninterface RenderedRouteProps {\n  routeContext: RouteContextObject;\n  match: RouteMatch<string, RouteObject>;\n  children: React.ReactNode | null;\n}\n\nfunction RenderedRoute({ routeContext, match, children }: RenderedRouteProps) {\n  let dataStaticRouterContext = React.useContext(DataStaticRouterContext);\n\n  // Track how deep we got in our render pass to emulate SSR componentDidCatch\n  // in a DataStaticRouter\n  if (dataStaticRouterContext && match.route.errorElement) {\n    dataStaticRouterContext._deepestRenderedBoundaryId = match.route.id;\n  }\n\n  return (\n    <RouteContext.Provider value={routeContext}>\n      {children}\n    </RouteContext.Provider>\n  );\n}\n\nexport function _renderMatches(\n  matches: RouteMatch[] | null,\n  parentMatches: RouteMatch[] = [],\n  dataRouterState?: RemixRouter[\"state\"]\n): React.ReactElement | null {\n  if (matches == null) {\n    if (dataRouterState?.errors) {\n      // Don't bail if we have data router errors so we can render them in the\n      // boundary.  Use the pre-matched (or shimmed) matches\n      matches = dataRouterState.matches as DataRouteMatch[];\n    } else {\n      return null;\n    }\n  }\n\n  let renderedMatches = matches;\n\n  // If we have data errors, trim matches to the highest error boundary\n  let errors = dataRouterState?.errors;\n  if (errors != null) {\n    let errorIndex = renderedMatches.findIndex(\n      (m) => m.route.id && errors?.[m.route.id]\n    );\n    invariant(\n      errorIndex >= 0,\n      `Could not find a matching route for the current errors: ${errors}`\n    );\n    renderedMatches = renderedMatches.slice(\n      0,\n      Math.min(renderedMatches.length, errorIndex + 1)\n    );\n  }\n\n  return renderedMatches.reduceRight((outlet, match, index) => {\n    let error = match.route.id ? errors?.[match.route.id] : null;\n    // Only data routers handle errors\n    let errorElement = dataRouterState\n      ? match.route.errorElement || <DefaultErrorElement />\n      : null;\n    let getChildren = () => (\n      <RenderedRoute\n        match={match}\n        routeContext={{\n          outlet,\n          matches: parentMatches.concat(renderedMatches.slice(0, index + 1)),\n        }}\n      >\n        {error\n          ? errorElement\n          : match.route.element !== undefined\n          ? match.route.element\n          : outlet}\n      </RenderedRoute>\n    );\n    // Only wrap in an error boundary within data router usages when we have an\n    // errorElement on this route.  Otherwise let it bubble up to an ancestor\n    // errorElement\n    return dataRouterState && (match.route.errorElement || index === 0) ? (\n      <RenderErrorBoundary\n        location={dataRouterState.location}\n        component={errorElement}\n        error={error}\n        children={getChildren()}\n      />\n    ) : (\n      getChildren()\n    );\n  }, null as React.ReactElement | null);\n}\n\nenum DataRouterHook {\n  UseLoaderData = \"useLoaderData\",\n  UseActionData = \"useActionData\",\n  UseRouteError = \"useRouteError\",\n  UseNavigation = \"useNavigation\",\n  UseRouteLoaderData = \"useRouteLoaderData\",\n  UseMatches = \"useMatches\",\n  UseRevalidator = \"useRevalidator\",\n}\n\nfunction useDataRouterState(hookName: DataRouterHook) {\n  let state = React.useContext(DataRouterStateContext);\n  invariant(state, `${hookName} must be used within a DataRouterStateContext`);\n  return state;\n}\n\n/**\n * Returns the current navigation, defaulting to an \"idle\" navigation when\n * no navigation is in progress\n */\nexport function useNavigation() {\n  let state = useDataRouterState(DataRouterHook.UseNavigation);\n  return state.navigation;\n}\n\n/**\n * Returns a revalidate function for manually triggering revalidation, as well\n * as the current state of any manual revalidations\n */\nexport function useRevalidator() {\n  let dataRouterContext = React.useContext(DataRouterContext);\n  invariant(\n    dataRouterContext,\n    `useRevalidator must be used within a DataRouterContext`\n  );\n  let state = useDataRouterState(DataRouterHook.UseRevalidator);\n  return {\n    revalidate: dataRouterContext.router.revalidate,\n    state: state.revalidation,\n  };\n}\n\n/**\n * Returns the active route matches, useful for accessing loaderData for\n * parent/child routes or the route \"handle\" property\n */\nexport function useMatches() {\n  let { matches, loaderData } = useDataRouterState(DataRouterHook.UseMatches);\n  return React.useMemo(\n    () =>\n      matches.map((match) => {\n        let { pathname, params } = match;\n        // Note: This structure matches that created by createUseMatchesMatch\n        // in the @remix-run/router , so if you change this please also change\n        // that :)  Eventually we'll DRY this up\n        return {\n          id: match.route.id,\n          pathname,\n          params,\n          data: loaderData[match.route.id] as unknown,\n          handle: match.route.handle as unknown,\n        };\n      }),\n    [matches, loaderData]\n  );\n}\n\n/**\n * Returns the loader data for the nearest ancestor Route loader\n */\nexport function useLoaderData(): unknown {\n  let state = useDataRouterState(DataRouterHook.UseLoaderData);\n\n  let route = React.useContext(RouteContext);\n  invariant(route, `useLoaderData must be used inside a RouteContext`);\n\n  let thisRoute = route.matches[route.matches.length - 1];\n  invariant(\n    thisRoute.route.id,\n    `useLoaderData can only be used on routes that contain a unique \"id\"`\n  );\n\n  return state.loaderData[thisRoute.route.id];\n}\n\n/**\n * Returns the loaderData for the given routeId\n */\nexport function useRouteLoaderData(routeId: string): unknown {\n  let state = useDataRouterState(DataRouterHook.UseRouteLoaderData);\n  return state.loaderData[routeId];\n}\n\n/**\n * Returns the action data for the nearest ancestor Route action\n */\nexport function useActionData(): unknown {\n  let state = useDataRouterState(DataRouterHook.UseActionData);\n\n  let route = React.useContext(RouteContext);\n  invariant(route, `useActionData must be used inside a RouteContext`);\n\n  return Object.values(state?.actionData || {})[0];\n}\n\n/**\n * Returns the nearest ancestor Route error, which could be a loader/action\n * error or a render error.  This is intended to be called from your\n * errorElement to display a proper error message.\n */\nexport function useRouteError(): unknown {\n  let error = React.useContext(RouteErrorContext);\n  let state = useDataRouterState(DataRouterHook.UseRouteError);\n  let route = React.useContext(RouteContext);\n  let thisRoute = route.matches[route.matches.length - 1];\n\n  // If this was a render error, we put it in a RouteError context inside\n  // of RenderErrorBoundary\n  if (error) {\n    return error;\n  }\n\n  invariant(route, `useRouteError must be used inside a RouteContext`);\n  invariant(\n    thisRoute.route.id,\n    `useRouteError can only be used on routes that contain a unique \"id\"`\n  );\n\n  // Otherwise look for errors from our data router state\n  return state.errors?.[thisRoute.route.id];\n}\n\n/**\n * Returns the happy-path data from the nearest ancestor <Await /> value\n */\nexport function useAsyncValue(): unknown {\n  let value = React.useContext(AwaitContext);\n  return value?._data;\n}\n\n/**\n * Returns the error from the nearest ancestor <Await /> value\n */\nexport function useAsyncError(): unknown {\n  let value = React.useContext(AwaitContext);\n  return value?._error;\n}\n\nconst alreadyWarned: Record<string, boolean> = {};\n\nfunction warningOnce(key: string, cond: boolean, message: string) {\n  if (!cond && !alreadyWarned[key]) {\n    alreadyWarned[key] = true;\n    warning(false, message);\n  }\n}\n","import * as React from \"react\";\nimport type {\n  TrackedPromise,\n  HydrationState,\n  InitialEntry,\n  Location,\n  MemoryHistory,\n  Router as RemixRouter,\n  RouterState,\n  To,\n} from \"@remix-run/router\";\nimport {\n  Action as NavigationType,\n  AbortedDeferredError,\n  createMemoryHistory,\n  invariant,\n  parsePath,\n  stripBasename,\n  warning,\n} from \"@remix-run/router\";\nimport { useSyncExternalStore as useSyncExternalStoreShim } from \"./use-sync-external-store-shim\";\n\nimport type {\n  DataRouteObject,\n  RouteMatch,\n  RouteObject,\n  Navigator,\n  RelativeRoutingType,\n} from \"./context\";\nimport {\n  LocationContext,\n  NavigationContext,\n  DataRouterContext,\n  DataRouterStateContext,\n  AwaitContext,\n} from \"./context\";\nimport {\n  useAsyncValue,\n  useInRouterContext,\n  useNavigate,\n  useOutlet,\n  useRoutes,\n  _renderMatches,\n} from \"./hooks\";\n\nexport interface RouterProviderProps {\n  fallbackElement?: React.ReactNode;\n  router: RemixRouter;\n}\n\n/**\n * Given a Remix Router instance, render the appropriate UI\n */\nexport function RouterProvider({\n  fallbackElement,\n  router,\n}: RouterProviderProps): React.ReactElement {\n  // Sync router state to our component state to force re-renders\n  let state: RouterState = useSyncExternalStoreShim(\n    router.subscribe,\n    () => router.state,\n    // We have to provide this so React@18 doesn't complain during hydration,\n    // but we pass our serialized hydration data into the router so state here\n    // is already synced with what the server saw\n    () => router.state\n  );\n\n  let navigator = React.useMemo((): Navigator => {\n    return {\n      createHref: router.createHref,\n      go: (n) => router.navigate(n),\n      push: (to, state, opts) =>\n        router.navigate(to, {\n          state,\n          preventScrollReset: opts?.preventScrollReset,\n        }),\n      replace: (to, state, opts) =>\n        router.navigate(to, {\n          replace: true,\n          state,\n          preventScrollReset: opts?.preventScrollReset,\n        }),\n    };\n  }, [router]);\n\n  let basename = router.basename || \"/\";\n\n  return (\n    <DataRouterContext.Provider\n      value={{\n        router,\n        navigator,\n        static: false,\n        // Do we need this?\n        basename,\n      }}\n    >\n      <DataRouterStateContext.Provider value={state}>\n        <Router\n          basename={router.basename}\n          location={router.state.location}\n          navigationType={router.state.historyAction}\n          navigator={navigator}\n        >\n          {router.state.initialized ? <Routes /> : fallbackElement}\n        </Router>\n      </DataRouterStateContext.Provider>\n    </DataRouterContext.Provider>\n  );\n}\n\nexport interface MemoryRouterProps {\n  basename?: string;\n  children?: React.ReactNode;\n  initialEntries?: InitialEntry[];\n  initialIndex?: number;\n}\n\n/**\n * A <Router> that stores all entries in memory.\n *\n * @see https://reactrouter.com/docs/en/v6/routers/memory-router\n */\nexport function MemoryRouter({\n  basename,\n  children,\n  initialEntries,\n  initialIndex,\n}: MemoryRouterProps): React.ReactElement {\n  let historyRef = React.useRef<MemoryHistory>();\n  if (historyRef.current == null) {\n    historyRef.current = createMemoryHistory({\n      initialEntries,\n      initialIndex,\n      v5Compat: true,\n    });\n  }\n\n  let history = historyRef.current;\n  let [state, setState] = React.useState({\n    action: history.action,\n    location: history.location,\n  });\n\n  React.useLayoutEffect(() => history.listen(setState), [history]);\n\n  return (\n    <Router\n      basename={basename}\n      children={children}\n      location={state.location}\n      navigationType={state.action}\n      navigator={history}\n    />\n  );\n}\n\nexport interface NavigateProps {\n  to: To;\n  replace?: boolean;\n  state?: any;\n  relative?: RelativeRoutingType;\n}\n\n/**\n * Changes the current location.\n *\n * Note: This API is mostly useful in React.Component subclasses that are not\n * able to use hooks. In functional components, we recommend you use the\n * `useNavigate` hook instead.\n *\n * @see https://reactrouter.com/docs/en/v6/components/navigate\n */\nexport function Navigate({\n  to,\n  replace,\n  state,\n  relative,\n}: NavigateProps): null {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of\n    // the router loaded. We can help them understand how to avoid that.\n    `<Navigate> may be used only in the context of a <Router> component.`\n  );\n\n  warning(\n    !React.useContext(NavigationContext).static,\n    `<Navigate> must not be used on the initial render in a <StaticRouter>. ` +\n      `This is a no-op, but you should modify your code so the <Navigate> is ` +\n      `only ever rendered in response to some user interaction or state change.`\n  );\n\n  let dataRouterState = React.useContext(DataRouterStateContext);\n  let navigate = useNavigate();\n\n  React.useEffect(() => {\n    // Avoid kicking off multiple navigations if we're in the middle of a\n    // data-router navigation, since components get re-rendered when we enter\n    // a submitting/loading state\n    if (dataRouterState && dataRouterState.navigation.state !== \"idle\") {\n      return;\n    }\n    navigate(to, { replace, state, relative });\n  });\n\n  return null;\n}\n\nexport interface OutletProps {\n  context?: unknown;\n}\n\n/**\n * Renders the child route's element, if there is one.\n *\n * @see https://reactrouter.com/docs/en/v6/components/outlet\n */\nexport function Outlet(props: OutletProps): React.ReactElement | null {\n  return useOutlet(props.context);\n}\n\ninterface DataRouteProps {\n  id?: RouteObject[\"id\"];\n  loader?: RouteObject[\"loader\"];\n  action?: RouteObject[\"action\"];\n  errorElement?: RouteObject[\"errorElement\"];\n  shouldRevalidate?: RouteObject[\"shouldRevalidate\"];\n  handle?: RouteObject[\"handle\"];\n}\n\nexport interface RouteProps extends DataRouteProps {\n  caseSensitive?: boolean;\n  children?: React.ReactNode;\n  element?: React.ReactNode | null;\n  index?: boolean;\n  path?: string;\n}\n\nexport interface PathRouteProps extends DataRouteProps {\n  caseSensitive?: boolean;\n  children?: React.ReactNode;\n  element?: React.ReactNode | null;\n  index?: false;\n  path: string;\n}\n\nexport interface LayoutRouteProps extends DataRouteProps {\n  children?: React.ReactNode;\n  element?: React.ReactNode | null;\n}\n\nexport interface IndexRouteProps extends DataRouteProps {\n  element?: React.ReactNode | null;\n  index: true;\n}\n\n/**\n * Declares an element that should be rendered at a certain URL path.\n *\n * @see https://reactrouter.com/docs/en/v6/components/route\n */\nexport function Route(\n  _props: PathRouteProps | LayoutRouteProps | IndexRouteProps\n): React.ReactElement | null {\n  invariant(\n    false,\n    `A <Route> is only ever to be used as the child of <Routes> element, ` +\n      `never rendered directly. Please wrap your <Route> in a <Routes>.`\n  );\n}\n\nexport interface RouterProps {\n  basename?: string;\n  children?: React.ReactNode;\n  location: Partial<Location> | string;\n  navigationType?: NavigationType;\n  navigator: Navigator;\n  static?: boolean;\n}\n\n/**\n * Provides location context for the rest of the app.\n *\n * Note: You usually won't render a <Router> directly. Instead, you'll render a\n * router that is more specific to your environment such as a <BrowserRouter>\n * in web browsers or a <StaticRouter> for server rendering.\n *\n * @see https://reactrouter.com/docs/en/v6/routers/router\n */\nexport function Router({\n  basename: basenameProp = \"/\",\n  children = null,\n  location: locationProp,\n  navigationType = NavigationType.Pop,\n  navigator,\n  static: staticProp = false,\n}: RouterProps): React.ReactElement | null {\n  invariant(\n    !useInRouterContext(),\n    `You cannot render a <Router> inside another <Router>.` +\n      ` You should never have more than one in your app.`\n  );\n\n  // Preserve trailing slashes on basename, so we can let the user control\n  // the enforcement of trailing slashes throughout the app\n  let basename = basenameProp.replace(/^\\/*/, \"/\");\n  let navigationContext = React.useMemo(\n    () => ({ basename, navigator, static: staticProp }),\n    [basename, navigator, staticProp]\n  );\n\n  if (typeof locationProp === \"string\") {\n    locationProp = parsePath(locationProp);\n  }\n\n  let {\n    pathname = \"/\",\n    search = \"\",\n    hash = \"\",\n    state = null,\n    key = \"default\",\n  } = locationProp;\n\n  let location = React.useMemo(() => {\n    let trailingPathname = stripBasename(pathname, basename);\n\n    if (trailingPathname == null) {\n      return null;\n    }\n\n    return {\n      pathname: trailingPathname,\n      search,\n      hash,\n      state,\n      key,\n    };\n  }, [basename, pathname, search, hash, state, key]);\n\n  warning(\n    location != null,\n    `<Router basename=\"${basename}\"> is not able to match the URL ` +\n      `\"${pathname}${search}${hash}\" because it does not start with the ` +\n      `basename, so the <Router> won't render anything.`\n  );\n\n  if (location == null) {\n    return null;\n  }\n\n  return (\n    <NavigationContext.Provider value={navigationContext}>\n      <LocationContext.Provider\n        children={children}\n        value={{ location, navigationType }}\n      />\n    </NavigationContext.Provider>\n  );\n}\n\nexport interface RoutesProps {\n  children?: React.ReactNode;\n  location?: Partial<Location> | string;\n}\n\n/**\n * A container for a nested tree of <Route> elements that renders the branch\n * that best matches the current location.\n *\n * @see https://reactrouter.com/docs/en/v6/components/routes\n */\nexport function Routes({\n  children,\n  location,\n}: RoutesProps): React.ReactElement | null {\n  let dataRouterContext = React.useContext(DataRouterContext);\n  // When in a DataRouterContext _without_ children, we use the router routes\n  // directly.  If we have children, then we're in a descendant tree and we\n  // need to use child routes.\n  let routes =\n    dataRouterContext && !children\n      ? (dataRouterContext.router.routes as DataRouteObject[])\n      : createRoutesFromChildren(children);\n  return useRoutes(routes, location);\n}\n\nexport interface AwaitResolveRenderFunction {\n  (data: Awaited<any>): React.ReactElement;\n}\n\nexport interface AwaitProps {\n  children: React.ReactNode | AwaitResolveRenderFunction;\n  errorElement?: React.ReactNode;\n  resolve: TrackedPromise | any;\n}\n\n/**\n * Component to use for rendering lazily loaded data from returning defer()\n * in a loader function\n */\nexport function Await({ children, errorElement, resolve }: AwaitProps) {\n  return (\n    <AwaitErrorBoundary resolve={resolve} errorElement={errorElement}>\n      <ResolveAwait>{children}</ResolveAwait>\n    </AwaitErrorBoundary>\n  );\n}\n\ntype AwaitErrorBoundaryProps = React.PropsWithChildren<{\n  errorElement?: React.ReactNode;\n  resolve: TrackedPromise | any;\n}>;\n\ntype AwaitErrorBoundaryState = {\n  error: any;\n};\n\nenum AwaitRenderStatus {\n  pending,\n  success,\n  error,\n}\n\nconst neverSettledPromise = new Promise(() => {});\n\nclass AwaitErrorBoundary extends React.Component<\n  AwaitErrorBoundaryProps,\n  AwaitErrorBoundaryState\n> {\n  constructor(props: AwaitErrorBoundaryProps) {\n    super(props);\n    this.state = { error: null };\n  }\n\n  static getDerivedStateFromError(error: any) {\n    return { error };\n  }\n\n  componentDidCatch(error: any, errorInfo: any) {\n    console.error(\n      \"<Await> caught the following error during render\",\n      error,\n      errorInfo\n    );\n  }\n\n  render() {\n    let { children, errorElement, resolve } = this.props;\n\n    let promise: TrackedPromise | null = null;\n    let status: AwaitRenderStatus = AwaitRenderStatus.pending;\n\n    if (!(resolve instanceof Promise)) {\n      // Didn't get a promise - provide as a resolved promise\n      status = AwaitRenderStatus.success;\n      promise = Promise.resolve();\n      Object.defineProperty(promise, \"_tracked\", { get: () => true });\n      Object.defineProperty(promise, \"_data\", { get: () => resolve });\n    } else if (this.state.error) {\n      // Caught a render error, provide it as a rejected promise\n      status = AwaitRenderStatus.error;\n      let renderError = this.state.error;\n      promise = Promise.reject().catch(() => {}); // Avoid unhandled rejection warnings\n      Object.defineProperty(promise, \"_tracked\", { get: () => true });\n      Object.defineProperty(promise, \"_error\", { get: () => renderError });\n    } else if ((resolve as TrackedPromise)._tracked) {\n      // Already tracked promise - check contents\n      promise = resolve;\n      status =\n        promise._error !== undefined\n          ? AwaitRenderStatus.error\n          : promise._data !== undefined\n          ? AwaitRenderStatus.success\n          : AwaitRenderStatus.pending;\n    } else {\n      // Raw (untracked) promise - track it\n      status = AwaitRenderStatus.pending;\n      Object.defineProperty(resolve, \"_tracked\", { get: () => true });\n      promise = resolve.then(\n        (data: any) =>\n          Object.defineProperty(resolve, \"_data\", { get: () => data }),\n        (error: any) =>\n          Object.defineProperty(resolve, \"_error\", { get: () => error })\n      );\n    }\n\n    if (\n      status === AwaitRenderStatus.error &&\n      promise._error instanceof AbortedDeferredError\n    ) {\n      // Freeze the UI by throwing a never resolved promise\n      throw neverSettledPromise;\n    }\n\n    if (status === AwaitRenderStatus.error && !errorElement) {\n      // No errorElement, throw to the nearest route-level error boundary\n      throw promise._error;\n    }\n\n    if (status === AwaitRenderStatus.error) {\n      // Render via our errorElement\n      return <AwaitContext.Provider value={promise} children={errorElement} />;\n    }\n\n    if (status === AwaitRenderStatus.success) {\n      // Render children with resolved value\n      return <AwaitContext.Provider value={promise} children={children} />;\n    }\n\n    // Throw to the suspense boundary\n    throw promise;\n  }\n}\n\n/**\n * @private\n * Indirection to leverage useAsyncValue for a render-prop API on <Await>\n */\nfunction ResolveAwait({\n  children,\n}: {\n  children: React.ReactNode | AwaitResolveRenderFunction;\n}) {\n  let data = useAsyncValue();\n  if (typeof children === \"function\") {\n    return children(data);\n  }\n  return <>{children}</>;\n}\n\n///////////////////////////////////////////////////////////////////////////////\n// UTILS\n///////////////////////////////////////////////////////////////////////////////\n\n/**\n * Creates a route config from a React \"children\" object, which is usually\n * either a `<Route>` element or an array of them. Used internally by\n * `<Routes>` to create a route config from its children.\n *\n * @see https://reactrouter.com/docs/en/v6/utils/create-routes-from-children\n */\nexport function createRoutesFromChildren(\n  children: React.ReactNode,\n  parentPath: number[] = []\n): RouteObject[] {\n  let routes: RouteObject[] = [];\n\n  React.Children.forEach(children, (element, index) => {\n    if (!React.isValidElement(element)) {\n      // Ignore non-elements. This allows people to more easily inline\n      // conditionals in their route config.\n      return;\n    }\n\n    if (element.type === React.Fragment) {\n      // Transparently support React.Fragment and its children.\n      routes.push.apply(\n        routes,\n        createRoutesFromChildren(element.props.children, parentPath)\n      );\n      return;\n    }\n\n    invariant(\n      element.type === Route,\n      `[${\n        typeof element.type === \"string\" ? element.type : element.type.name\n      }] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`\n    );\n\n    let treePath = [...parentPath, index];\n    let route: RouteObject = {\n      id: element.props.id || treePath.join(\"-\"),\n      caseSensitive: element.props.caseSensitive,\n      element: element.props.element,\n      index: element.props.index,\n      path: element.props.path,\n      loader: element.props.loader,\n      action: element.props.action,\n      errorElement: element.props.errorElement,\n      hasErrorBoundary: element.props.errorElement != null,\n      shouldRevalidate: element.props.shouldRevalidate,\n      handle: element.props.handle,\n    };\n\n    if (element.props.children) {\n      route.children = createRoutesFromChildren(\n        element.props.children,\n        treePath\n      );\n    }\n\n    routes.push(route);\n  });\n\n  return routes;\n}\n\n/**\n * Renders the result of `matchRoutes()` into a React element.\n */\nexport function renderMatches(\n  matches: RouteMatch[] | null\n): React.ReactElement | null {\n  return _renderMatches(matches);\n}\n\n/**\n * @private\n * Walk the route tree and add hasErrorBoundary if it's not provided, so that\n * users providing manual route arrays can just specify errorElement\n */\nexport function enhanceManualRouteObjects(\n  routes: RouteObject[]\n): RouteObject[] {\n  return routes.map((route) => {\n    let routeClone = { ...route };\n    if (routeClone.hasErrorBoundary == null) {\n      routeClone.hasErrorBoundary = routeClone.errorElement != null;\n    }\n    if (routeClone.children) {\n      routeClone.children = enhanceManualRouteObjects(routeClone.children);\n    }\n    return routeClone;\n  });\n}\n","import { useContext } from \"react\";\nimport { UNSAFE_NavigationContext, useNavigate, useLocation } from \"react-router-dom\";\nconst ReactRouter6Adapter = ({\n  children\n}) => {\n  const { navigator } = useContext(UNSAFE_NavigationContext);\n  const navigate = useNavigate();\n  const location = useLocation();\n  const adapter = {\n    replace(location2) {\n      navigate(location2.search || \"?\", {\n        replace: true,\n        state: location2.state\n      });\n    },\n    push(location2) {\n      navigate(location2.search || \"?\", {\n        replace: false,\n        state: location2.state\n      });\n    },\n    get location() {\n      var _a;\n      return (_a = navigator == null ? void 0 : navigator.location) != null ? _a : location;\n    }\n  };\n  return children(adapter);\n};\nexport {\n  ReactRouter6Adapter\n};\n","/**\n * Interprets an encoded string and returns either the string or null/undefined if not available.\n * Ignores array inputs (takes just first element in array)\n * @param input encoded string\n */\nfunction getEncodedValue(\n  input: string | (string | null)[] | null | undefined,\n  allowEmptyString?: boolean\n): string | null | undefined {\n  if (input == null) {\n    return input;\n  }\n  // '' or []\n  if (\n    input.length === 0 &&\n    (!allowEmptyString || (allowEmptyString && input !== ''))\n  ) {\n    return null;\n  }\n\n  const str = input instanceof Array ? input[0] : input;\n  if (str == null) {\n    return str;\n  }\n  if (!allowEmptyString && str === '') {\n    return null;\n  }\n\n  return str;\n}\n\n/**\n * Interprets an encoded string and return null/undefined or an array with\n * the encoded string contents\n * @param input encoded string\n */\nfunction getEncodedValueArray(\n  input: string | (string | null)[] | null | undefined\n): (string | null)[] | null | undefined {\n  if (input == null) {\n    return input;\n  }\n\n  return input instanceof Array ? input : input === '' ? [] : [input];\n}\n\n/**\n * Encodes a date as a string in YYYY-MM-DD format.\n *\n * @param {Date} date\n * @return {String} the encoded date\n */\nexport function encodeDate(\n  date: Date | null | undefined\n): string | null | undefined {\n  if (date == null) {\n    return date;\n  }\n\n  const year = date.getFullYear();\n  const month = date.getMonth() + 1;\n  const day = date.getDate();\n\n  return `${year}-${month < 10 ? `0${month}` : month}-${\n    day < 10 ? `0${day}` : day\n  }`;\n}\n\n/**\n * Converts a date in the format 'YYYY-mm-dd...' into a proper date, because\n * new Date() does not do that correctly. The date can be as complete or incomplete\n * as necessary (aka, '2015', '2015-10', '2015-10-01').\n * It will not work for dates that have times included in them.\n *\n * If an array is provided, only the first entry is used.\n *\n * @param  {String} input String date form like '2015-10-01'\n * @return {Date} parsed date\n */\nexport function decodeDate(\n  input: string | (string | null)[] | null | undefined\n): Date | null | undefined {\n  const dateString = getEncodedValue(input);\n  if (dateString == null) return dateString;\n\n  const parts = dateString.split('-') as any;\n  // may only be a year so won't even have a month\n  if (parts[1] != null) {\n    parts[1] -= 1; // Note: months are 0-based\n  } else {\n    // just a year, set the month and day to the first\n    parts[1] = 0;\n    parts[2] = 1;\n  }\n\n  const decoded = new Date(...(parts as [number, number, number]));\n\n  if (isNaN(decoded.getTime())) {\n    return null;\n  }\n\n  return decoded;\n}\n\n/**\n * Encodes a date as a string in ISO 8601 (\"2019-05-28T10:58:40Z\") format.\n *\n * @param {Date} date\n * @return {String} the encoded date\n */\nexport function encodeDateTime(\n  date: Date | null | undefined\n): string | null | undefined {\n  if (date == null) {\n    return date;\n  }\n\n  return date.toISOString();\n}\n\n/**\n * Converts a date in the https://en.wikipedia.org/wiki/ISO_8601 format.\n * For allowed inputs see specs:\n *  - https://tools.ietf.org/html/rfc2822#page-14\n *  - http://www.ecma-international.org/ecma-262/5.1/#sec-15.9.1.15\n *\n * If an array is provided, only the first entry is used.\n *\n * @param  {String} input String date form like '1995-12-17T03:24:00'\n * @return {Date} parsed date\n */\nexport function decodeDateTime(\n  input: string | (string | null)[] | null | undefined\n): Date | null | undefined {\n  const dateString = getEncodedValue(input);\n  if (dateString == null) return dateString;\n\n  const decoded = new Date(dateString);\n\n  if (isNaN(decoded.getTime())) {\n    return null;\n  }\n\n  return decoded;\n}\n\n/**\n * Encodes a boolean as a string. true -> \"1\", false -> \"0\".\n *\n * @param {Boolean} bool\n * @return {String} the encoded boolean\n */\nexport function encodeBoolean(\n  bool: boolean | null | undefined\n): string | null | undefined {\n  if (bool == null) {\n    return bool;\n  }\n\n  return bool ? '1' : '0';\n}\n\n/**\n * Decodes a boolean from a string. \"1\" -> true, \"0\" -> false.\n * Everything else maps to undefined.\n *\n * If an array is provided, only the first entry is used.\n *\n * @param {String} input the encoded boolean string\n * @return {Boolean} the boolean value\n */\nexport function decodeBoolean(\n  input: string | (string | null)[] | null | undefined\n): boolean | null | undefined {\n  const boolStr = getEncodedValue(input);\n  if (boolStr == null) return boolStr;\n\n  if (boolStr === '1') {\n    return true;\n  } else if (boolStr === '0') {\n    return false;\n  }\n\n  return null;\n}\n\n/**\n * Encodes a number as a string.\n *\n * @param {Number} num\n * @return {String} the encoded number\n */\nexport function encodeNumber(\n  num: number | null | undefined\n): string | null | undefined {\n  if (num == null) {\n    return num;\n  }\n\n  return String(num);\n}\n\n/**\n * Decodes a number from a string. If the number is invalid,\n * it returns undefined.\n *\n * If an array is provided, only the first entry is used.\n *\n * @param {String} input the encoded number string\n * @return {Number} the number value\n */\nexport function decodeNumber(\n  input: string | (string | null)[] | null | undefined\n): number | null | undefined {\n  const numStr = getEncodedValue(input);\n  if (numStr == null) return numStr;\n  if (numStr === '') return null;\n\n  const result = +numStr;\n  return result;\n}\n\n/**\n * Encodes a string while safely handling null and undefined values.\n *\n * @param {String} str a string to encode\n * @return {String} the encoded string\n */\nexport function encodeString(\n  str: string | (string | null)[] | null | undefined\n): string | null | undefined {\n  if (str == null) {\n    return str;\n  }\n\n  return String(str);\n}\n\n/**\n * Decodes a string while safely handling null and undefined values.\n *\n * If an array is provided, only the first entry is used.\n *\n * @param {String} input the encoded string\n * @return {String} the string value\n */\nexport function decodeString(\n  input: string | (string | null)[] | null | undefined\n): string | null | undefined {\n  const str = getEncodedValue(input, true);\n  if (str == null) return str;\n\n  return String(str);\n}\n\n/**\n * Decodes an enum value while safely handling null and undefined values.\n *\n * If an array is provided, only the first entry is used.\n *\n * @param {String} input the encoded string\n * @param {String[]} enumValues allowed enum values\n * @return {String} the string value from enumValues\n */\nexport function decodeEnum<T extends string>(\n  input: string | (string | null)[] | null | undefined,\n  enumValues: T[]\n): T | null | undefined {\n  const str = decodeString(input);\n  if (str == null) return str;\n  return enumValues.includes(str as any) ? (str as T) : undefined;\n}\n\n/**\n * Decodes an enum value from arrays while safely handling null and undefined values.\n *\n * @template T\n * @param {String} input the encoded string\n * @param {T[]} enumValues allowed enum values\n * @return {T[]} the string value from enumValues\n */\nexport function decodeArrayEnum<T extends string>(\n  input: string | (string | null)[] | null | undefined,\n  enumValues: T[]\n): T[] | null | undefined {\n  const arr = decodeArray(input);\n  if (arr == null) return arr;\n  if (!arr.length) return undefined;\n  return arr.every((str) => str != null && enumValues.includes(str as T))\n    ? (arr as T[])\n    : undefined;\n}\n\n/**\n * Decodes an enum value from arrays while safely handling null and undefined values.\n *\n * @template T\n * @param {String} input the encoded string\n * @param {T[]} enumValues allowed enum values\n * @param entrySeparator The array as a string with elements joined by the\n * entry separator\n * @return {T[]} the string value from enumValues\n */\nexport function decodeDelimitedArrayEnum<T extends string>(\n  input: string | (string | null)[] | null | undefined,\n  enumValues: T[],\n  entrySeparator = '_'\n): T[] | null | undefined {\n  if (input != null && Array.isArray(input) && !input.length) return undefined;\n  const arr = decodeDelimitedArray(input, entrySeparator);\n  return decodeArrayEnum(arr, enumValues);\n}\n\n/**\n * Encodes anything as a JSON string.\n *\n * @param {Any} any The thing to be encoded\n * @return {String} The JSON string representation of any\n */\nexport function encodeJson(\n  any: any | null | undefined\n): string | null | undefined {\n  if (any == null) {\n    return any;\n  }\n\n  return JSON.stringify(any);\n}\n\n/**\n * Decodes a JSON string into javascript\n *\n * If an array is provided, only the first entry is used.\n *\n * @param {String} input The JSON string representation\n * @return {Any} The javascript representation\n */\nexport function decodeJson(\n  input: string | (string | null)[] | null | undefined\n): any | null | undefined {\n  const jsonStr = getEncodedValue(input);\n  if (jsonStr == null) return jsonStr;\n\n  let result = null;\n  try {\n    result = JSON.parse(jsonStr);\n  } catch (e) {\n    /* ignore errors, returning undefined */\n  }\n\n  return result;\n}\n\n/**\n * Encodes an array as a JSON string.\n *\n * @param {Array} array The array to be encoded\n * @return {String[]} The array of strings to be put in the URL\n * as repeated query parameters\n */\nexport function encodeArray(\n  array: (string | null)[] | null | undefined\n): (string | null)[] | null | undefined {\n  if (array == null) {\n    return array;\n  }\n\n  return array;\n}\n\n/**\n * Decodes an array or singular value and returns it as an array\n * or undefined if falsy. Filters out undefined values.\n *\n * @param {String | Array} input The input value\n * @return {Array} The javascript representation\n */\nexport function decodeArray(\n  input: string | (string | null)[] | null | undefined\n): (string | null)[] | null | undefined {\n  const arr = getEncodedValueArray(input);\n  if (arr == null) return arr;\n\n  return arr;\n}\n\n/**\n * Encodes a numeric array as a JSON string.\n *\n * @param {Array} array The array to be encoded\n * @return {String[]} The array of strings to be put in the URL\n * as repeated query parameters\n */\nexport function encodeNumericArray(\n  array: (number | null)[] | null | undefined\n): (string | null)[] | null | undefined {\n  if (array == null) {\n    return array;\n  }\n\n  return array.map(String);\n}\n\n/**\n * Decodes an array or singular value and returns it as an array\n * or undefined if falsy. Filters out undefined and NaN values.\n *\n * @param {String | Array} input The input value\n * @return {Array} The javascript representation\n */\nexport function decodeNumericArray(\n  input: string | (string | null)[] | null | undefined\n): (number | null)[] | null | undefined {\n  const arr = decodeArray(input);\n  if (arr == null) return arr;\n\n  return arr.map((d) => (d === '' || d == null ? null : +d));\n}\n\n/**\n * Encodes an array as a delimited string. For example,\n * ['a', 'b'] -> 'a_b' with entrySeparator='_'\n *\n * @param array The array to be encoded\n * @param entrySeparator The string used to delimit entries\n * @return The array as a string with elements joined by the\n * entry separator\n */\nexport function encodeDelimitedArray(\n  array: (string | null)[] | null | undefined,\n  entrySeparator = '_'\n): string | null | undefined {\n  if (array == null) {\n    return array;\n  }\n\n  return array.join(entrySeparator);\n}\n\n/**\n * Decodes a delimited string into javascript array. For example,\n * 'a_b' -> ['a', 'b'] with entrySeparator='_'\n *\n * If an array is provided as input, only the first entry is used.\n *\n * @param {String} input The JSON string representation\n * @param entrySeparator The array as a string with elements joined by the\n * entry separator\n * @return {Array} The javascript representation\n */\nexport function decodeDelimitedArray(\n  input: string | (string | null)[] | null | undefined,\n  entrySeparator = '_'\n): (string | null)[] | null | undefined {\n  const arrayStr = getEncodedValue(input, true);\n  if (arrayStr == null) return arrayStr;\n  if (arrayStr === '') return [];\n\n  return arrayStr.split(entrySeparator);\n}\n\n/**\n * Encodes a numeric array as a delimited string. (alias of encodeDelimitedArray)\n * For example, [1, 2] -> '1_2' with entrySeparator='_'\n *\n * @param {Array} array The array to be encoded\n * @return {String} The JSON string representation of array\n */\nexport const encodeDelimitedNumericArray = encodeDelimitedArray as (\n  array: (number | null)[] | null | undefined,\n  entrySeparator?: string\n) => string | null | undefined;\n\n/**\n * Decodes a delimited string into javascript array where all entries are numbers\n * For example, '1_2' -> [1, 2] with entrySeparator='_'\n *\n * If an array is provided as input, only the first entry is used.\n *\n * @param {String} jsonStr The JSON string representation\n * @return {Array} The javascript representation\n */\nexport function decodeDelimitedNumericArray(\n  arrayStr: string | (string | null)[] | null | undefined,\n  entrySeparator = '_'\n): (number | null)[] | null | undefined {\n  const decoded = decodeDelimitedArray(arrayStr, entrySeparator);\n  if (decoded == null) return decoded;\n\n  return decoded.map((d) => (d === '' || d == null ? null : +d));\n}\n\n/**\n * Encode simple objects as readable strings. Works only for simple,\n * flat objects where values are numbers, strings.\n *\n * For example { foo: bar, boo: baz } -> \"foo-bar_boo-baz\"\n *\n * @param {Object} object The object to encode\n * @param {String} keyValSeparator=\"-\" The separator between keys and values\n * @param {String} entrySeparator=\"_\" The separator between entries\n * @return {String} The encoded object\n */\nexport function encodeObject(\n  obj: { [key: string]: string | null | number | undefined } | null | undefined,\n  keyValSeparator = '-',\n  entrySeparator = '_'\n): string | null | undefined {\n  if (obj == null) return obj; // null or undefined\n  if (!Object.keys(obj).length) return ''; // {} case\n\n  return Object.keys(obj)\n    .map((key) => `${key}${keyValSeparator}${obj[key]}`)\n    .join(entrySeparator);\n}\n\n/**\n * Decodes a simple object to javascript. Currently works only for simple,\n * flat objects where values are strings.\n *\n * For example \"foo-bar_boo-baz\" -> { foo: bar, boo: baz }\n *\n * If an array is provided as input, only the first entry is used.\n *\n * @param {String} input The object string to decode\n * @param {String} keyValSeparator=\"-\" The separator between keys and values\n * @param {String} entrySeparator=\"_\" The separator between entries\n * @return {Object} The javascript object\n */\nexport function decodeObject(\n  input: string | (string | null)[] | null | undefined,\n  keyValSeparator = '-',\n  entrySeparator = '_'\n): { [key: string]: string } | null | undefined {\n  const objStr = getEncodedValue(input, true);\n  if (objStr == null) return objStr;\n  if (objStr === '') return {};\n\n  const obj: { [key: string]: string } = {};\n\n  const keyValSeparatorRegExp = new RegExp(`${keyValSeparator}(.*)`);\n  objStr.split(entrySeparator).forEach((entryStr) => {\n    const [key, value] = entryStr.split(keyValSeparatorRegExp);\n    obj[key] = value;\n  });\n\n  return obj;\n}\n\n/**\n * Encode simple objects as readable strings. Alias of encodeObject.\n *\n * For example { foo: 123, boo: 521 } -> \"foo-123_boo-521\"\n *\n * @param {Object} object The object to encode\n * @param {String} keyValSeparator=\"-\" The separator between keys and values\n * @param {String} entrySeparator=\"_\" The separator between entries\n * @return {String} The encoded object\n */\nexport const encodeNumericObject = encodeObject as (\n  obj: { [key: string]: number | null | undefined } | null | undefined,\n  keyValSeparator?: string,\n  entrySeparator?: string\n) => string | null | undefined;\n\n/**\n * Decodes a simple object to javascript where all values are numbers.\n * Currently works only for simple, flat objects.\n *\n * For example \"foo-123_boo-521\" -> { foo: 123, boo: 521 }\n *\n * If an array is provided as input, only the first entry is used.\n *\n * @param {String} input The object string to decode\n * @param {String} keyValSeparator=\"-\" The separator between keys and values\n * @param {String} entrySeparator=\"_\" The separator between entries\n * @return {Object} The javascript object\n */\nexport function decodeNumericObject(\n  input: string | (string | null)[] | null | undefined,\n  keyValSeparator = '-',\n  entrySeparator = '_'\n): { [key: string]: number | null | undefined } | null | undefined {\n  const decoded: { [key: string]: string } | null | undefined = decodeObject(\n    input,\n    keyValSeparator,\n    entrySeparator\n  );\n\n  if (decoded == null) return decoded;\n\n  // convert to numbers\n  const decodedNumberObj: { [key: string]: number | null | undefined } = {};\n  for (const key of Object.keys(decoded)) {\n    decodedNumberObj[key] = decodeNumber(decoded[key]);\n  }\n\n  return decodedNumberObj;\n}\n","import * as Serialize from './serialize';\nimport { QueryParamConfig } from './types';\n\n/**\n * String values\n */\nexport const StringParam: QueryParamConfig<\n  string | null | undefined,\n  string | null | undefined\n> = {\n  encode: Serialize.encodeString,\n  decode: Serialize.decodeString,\n};\n\n/**\n * String enum\n */\nexport const createEnumParam = <T extends string>(\n  enumValues: T[]\n): QueryParamConfig<T | null | undefined, T | null | undefined> => ({\n  encode: Serialize.encodeString,\n  decode: (input) => Serialize.decodeEnum(input, enumValues),\n});\n\n/**\n * Array enum\n */\nexport const createEnumArrayParam = <T extends string>(\n  enumValues: T[]\n): QueryParamConfig<T[] | null | undefined, T[] | null | undefined> => ({\n  encode: (text) =>\n    Serialize.encodeArray(text == null || Array.isArray(text) ? text : [text]),\n  decode: (input) => Serialize.decodeArrayEnum(input, enumValues),\n});\n\n/**\n * Array delimited enum\n */\nexport const createEnumDelimitedArrayParam = <T extends string>(\n  enumValues: T[],\n  entrySeparator = '_'\n): QueryParamConfig<T[] | null | undefined, T[] | null | undefined> => ({\n  encode: (text) =>\n    Serialize.encodeDelimitedArray(\n      text == null || Array.isArray(text) ? text : [text],\n      entrySeparator\n    ),\n  decode: (input) =>\n    Serialize.decodeDelimitedArrayEnum(input, enumValues, entrySeparator),\n});\n\n/**\n * Numbers (integers or floats)\n */\nexport const NumberParam: QueryParamConfig<\n  number | null | undefined,\n  number | null | undefined\n> = {\n  encode: Serialize.encodeNumber,\n  decode: Serialize.decodeNumber,\n};\n\n/**\n * For flat objects where values are strings\n */\nexport const ObjectParam: QueryParamConfig<\n  { [key: string]: string | undefined } | null | undefined,\n  { [key: string]: string | undefined } | null | undefined\n> = {\n  encode: Serialize.encodeObject,\n  decode: Serialize.decodeObject,\n};\n\n/**\n * For flat arrays of strings, filters out undefined values during decode\n */\nexport const ArrayParam: QueryParamConfig<\n  (string | null)[] | null | undefined,\n  (string | null)[] | null | undefined\n> = {\n  encode: Serialize.encodeArray,\n  decode: Serialize.decodeArray,\n};\n\n/**\n * For flat arrays of strings, filters out undefined values during decode\n */\nexport const NumericArrayParam: QueryParamConfig<\n  (number | null)[] | null | undefined,\n  (number | null)[] | null | undefined\n> = {\n  encode: Serialize.encodeNumericArray,\n  decode: Serialize.decodeNumericArray,\n};\n\n/**\n * For any type of data, encoded via JSON.stringify\n */\nexport const JsonParam: QueryParamConfig<any, any> = {\n  encode: Serialize.encodeJson,\n  decode: Serialize.decodeJson,\n};\n\n/**\n * For simple dates (YYYY-MM-DD)\n */\nexport const DateParam: QueryParamConfig<\n  Date | null | undefined,\n  Date | null | undefined\n> = {\n  encode: Serialize.encodeDate,\n  decode: Serialize.decodeDate,\n  equals: (\n    valueA: Date | null | undefined,\n    valueB: Date | null | undefined\n  ) => {\n    if (valueA === valueB) return true;\n    if (valueA == null || valueB == null) return valueA === valueB;\n\n    // ignore time of day\n    return (\n      valueA.getFullYear() === valueB.getFullYear() &&\n      valueA.getMonth() === valueB.getMonth() &&\n      valueA.getDate() === valueB.getDate()\n    );\n  },\n};\n\n/**\n * For dates in simplified extended ISO format (YYYY-MM-DDTHH:mm:ss.sssZ or ±YYYYYY-MM-DDTHH:mm:ss.sssZ)\n */\nexport const DateTimeParam: QueryParamConfig<\n  Date | null | undefined,\n  Date | null | undefined\n> = {\n  encode: Serialize.encodeDateTime,\n  decode: Serialize.decodeDateTime,\n  equals: (\n    valueA: Date | null | undefined,\n    valueB: Date | null | undefined\n  ) => {\n    if (valueA === valueB) return true;\n    if (valueA == null || valueB == null) return valueA === valueB;\n\n    return valueA.valueOf() === valueB.valueOf();\n  },\n};\n\n/**\n * For boolean values: 1 = true, 0 = false\n */\nexport const BooleanParam: QueryParamConfig<\n  boolean | null | undefined,\n  boolean | null | undefined\n> = {\n  encode: Serialize.encodeBoolean,\n  decode: Serialize.decodeBoolean,\n};\n\n/**\n * For flat objects where the values are numbers\n */\nexport const NumericObjectParam: QueryParamConfig<\n  { [key: string]: number | null | undefined } | null | undefined,\n  { [key: string]: number | null | undefined } | null | undefined\n> = {\n  encode: Serialize.encodeNumericObject,\n  decode: Serialize.decodeNumericObject,\n};\n\n/**\n * For flat arrays of strings, filters out undefined values during decode\n */\nexport const DelimitedArrayParam: QueryParamConfig<\n  (string | null)[] | null | undefined,\n  (string | null)[] | null | undefined\n> = {\n  encode: Serialize.encodeDelimitedArray,\n  decode: Serialize.decodeDelimitedArray,\n};\n\n/**\n * For flat arrays where the values are numbers, filters out undefined values during decode\n */\nexport const DelimitedNumericArrayParam: QueryParamConfig<\n  (number | null)[] | null | undefined,\n  (number | null)[] | null | undefined\n> = {\n  encode: Serialize.encodeDelimitedNumericArray,\n  decode: Serialize.decodeDelimitedNumericArray,\n};\n","import { EncodedQuery } from './types';\nimport { objectToSearchString } from './objectToSearchString';\nimport { searchStringToObject } from '.';\n\n/**\n * An example of a transformSearchString function that undoes encoding of\n * common JSON characters that are technically allowed in URLs.\n */\nconst JSON_SAFE_CHARS = `{}[],\":`\n  .split('')\n  .map((d) => [d, encodeURIComponent(d)]);\n\nexport function transformSearchStringJsonSafe(searchString: string): string {\n  let str = searchString;\n  for (let [char, code] of JSON_SAFE_CHARS) {\n    str = str.replace(new RegExp('\\\\' + code, 'g'), char);\n  }\n  return str;\n}\n\n/**\n * Update a location, wiping out parameters not included in encodedQuery\n * If a param is set to undefined it will be removed from the URL.\n */\nexport function updateLocation(\n  encodedQuery: EncodedQuery,\n  location: Location,\n  objectToSearchStringFn = objectToSearchString\n): Location {\n  let encodedSearchString = objectToSearchStringFn(encodedQuery);\n\n  const search = encodedSearchString.length ? `?${encodedSearchString}` : '';\n  let href: string;\n  if (location.href) {\n    const url = new URL(location.href);\n    href = `${url.origin}${url.pathname}${search}`;\n  } else {\n    href = search;\n  }\n\n  const newLocation: Location & {\n    key: string;\n    query: EncodedQuery;\n  } = {\n    ...location,\n    key: `${Date.now()}`, // needed for some routers (e.g. react-router)\n    href,\n    search,\n    query: encodedQuery, // needed for some routers (e.g. found)\n  };\n\n  return newLocation;\n}\n\n/**\n * Update a location while retaining existing parameters.\n * If a param is set to undefined it will be removed from the URL.\n */\nexport function updateInLocation(\n  encodedQueryReplacements: EncodedQuery,\n  location: Location,\n  objectToSearchStringFn = objectToSearchString,\n  searchStringToObjectFn = searchStringToObject\n): Location {\n  // explicitly avoid parsing numbers to ensure the\n  // return type has the same shape as EncodeQuery\n  const currQuery = searchStringToObjectFn(location.search);\n\n  const newQuery = {\n    ...currQuery,\n    ...encodedQueryReplacements,\n  };\n\n  return updateLocation(newQuery, location, objectToSearchStringFn);\n}\n","import { DecodedValueMap, QueryParamConfigMap, EncodedValueMap } from './types';\n\n/**\n * Convert the values in query to strings via the encode functions configured\n * in paramConfigMap\n *\n * @param paramConfigMap Map from query name to { encode, decode } config\n * @param query Query updates mapping param name to decoded value\n */\nexport function encodeQueryParams<QPCMap extends QueryParamConfigMap>(\n  paramConfigMap: QPCMap,\n  query: Partial<DecodedValueMap<QPCMap>>\n): Partial<EncodedValueMap<QPCMap>> {\n  const encodedQuery: Partial<EncodedValueMap<QPCMap>> = {};\n\n  const paramNames = Object.keys(query);\n  for (const paramName of paramNames) {\n    const decodedValue = query[paramName];\n\n    if (!paramConfigMap[paramName]) {\n      // NOTE: we could just not encode it, but it is probably convenient to have\n      // it be included by default as a string type.\n      (encodedQuery as any)[paramName] =\n        decodedValue == null ? decodedValue : String(decodedValue);\n    } else {\n      encodedQuery[paramName as keyof QPCMap] = paramConfigMap[\n        paramName\n      ].encode(query[paramName]);\n    }\n  }\n\n  return encodedQuery;\n}\nexport default encodeQueryParams;\n","type EncodedValue = string | (string | null)[] | null | undefined;\n\ntype CachedParam = {\n  stringified: EncodedValue;\n  decoded: any;\n  decode: Function;\n};\n\n/**\n * simple cache that keeps values around so long as something\n * has registered interest in it (typically via calling useQueryParams).\n * Caches based on the stringified value as the key and the\n * last passed in decode function.\n */\nexport class DecodedParamCache {\n  private paramsMap: Map<string, CachedParam>;\n  private registeredParams: Map<string, number>;\n\n  constructor() {\n    this.paramsMap = new Map();\n    this.registeredParams = new Map();\n  }\n\n  set(\n    param: string,\n    stringifiedValue: EncodedValue,\n    decodedValue: any,\n    decode: Function\n  ) {\n    this.paramsMap.set(param, {\n      stringified: stringifiedValue,\n      decoded: decodedValue,\n      decode,\n    });\n  }\n\n  /**\n   * A param has been cached if the stringified value and decode function matches\n   */\n  has(param: string, stringifiedValue: EncodedValue, decode?: Function) {\n    if (!this.paramsMap.has(param)) return false;\n    const cachedParam = this.paramsMap.get(param);\n    if (!cachedParam) return false;\n\n    return (\n      cachedParam.stringified === stringifiedValue &&\n      (decode == null || cachedParam.decode === decode)\n    );\n  }\n\n  get(param: string) {\n    if (this.paramsMap.has(param)) return this.paramsMap.get(param)?.decoded;\n    return undefined;\n  }\n\n  /**\n   * Register interest in a set of param names. When these go to 0 they are cleaned out.\n   */\n  registerParams(paramNames: string[]) {\n    for (const param of paramNames) {\n      const currValue = this.registeredParams.get(param) || 0;\n      this.registeredParams.set(param, currValue + 1);\n    }\n  }\n\n  /**\n   * Unregister interest in a set of param names. If there is no remaining interest,\n   * remove the decoded value from the cache to prevent memory leaks.\n   */\n  unregisterParams(paramNames: string[]) {\n    for (const param of paramNames) {\n      const value = (this.registeredParams.get(param) || 0) - 1;\n      if (value <= 0) {\n        this.registeredParams.delete(param);\n        if (this.paramsMap.has(param)) {\n          this.paramsMap.delete(param);\n        }\n      } else {\n        this.registeredParams.set(param, value);\n      }\n    }\n  }\n\n  clear() {\n    this.paramsMap.clear();\n    this.registeredParams.clear();\n  }\n}\n\nexport const decodedParamCache = new DecodedParamCache();\n","import {\n  QueryParamConfig,\n  QueryParamConfigMap,\n  StringParam,\n} from 'serialize-query-params';\nimport { QueryParamOptions } from './options';\nimport { QueryParamConfigMapWithInherit } from './types';\n\n/**\n * Convert inherit strings from a query param config to actual\n * parameters based on predefined ('inherited') mappings.\n * Defaults to StringParam.\n */\nexport function convertInheritedParamStringsToParams(\n  paramConfigMapWithInherit: QueryParamConfigMapWithInherit,\n  options: QueryParamOptions\n): QueryParamConfigMap {\n  const paramConfigMap: QueryParamConfigMap = {};\n  let hasInherit = false;\n\n  const hookKeys = Object.keys(paramConfigMapWithInherit);\n  let paramKeys = hookKeys;\n\n  // include known params if asked for explicitly, or no params were configured and we didn't\n  // explicitly say not to\n  const includeKnownParams =\n    options.includeKnownParams ||\n    (options.includeKnownParams !== false && hookKeys.length === 0);\n\n  if (includeKnownParams) {\n    const knownKeys = Object.keys(options.params ?? {});\n    paramKeys.push(...knownKeys);\n  }\n\n  for (const key of paramKeys) {\n    const param = paramConfigMapWithInherit[key];\n    // does it have an existing parameter definition? use it\n    if (param != null && typeof param === 'object') {\n      paramConfigMap[key] = param;\n      continue;\n    }\n\n    // otherwise, we have to inherit or use the default\n    hasInherit = true;\n\n    // default is StringParam\n    paramConfigMap[key] = options.params?.[key] ?? StringParam;\n  }\n\n  // if we didn't inherit anything, just return the input\n  if (!hasInherit) return paramConfigMapWithInherit as QueryParamConfigMap;\n\n  return paramConfigMap;\n}\n\n/**\n * Extends a config to include params for all specified keys,\n * defaulting to StringParam if not found in the inheritedParams\n * map.\n */\nexport function extendParamConfigForKeys(\n  baseParamConfigMap: QueryParamConfigMap,\n  paramKeys: string[],\n  inheritedParams?: QueryParamOptions['params'] | undefined,\n  defaultParam?: QueryParamConfig<any> | undefined\n) {\n  // if we aren't inheriting anything or there are no params, return the input\n  if (!inheritedParams || !paramKeys.length) return baseParamConfigMap;\n\n  let paramConfigMap = { ...baseParamConfigMap };\n  let hasInherit = false;\n  for (const paramKey of paramKeys) {\n    // if it is missing a parameter, fill it in\n    if (!Object.prototype.hasOwnProperty.call(paramConfigMap, paramKey)) {\n      paramConfigMap[paramKey] = inheritedParams[paramKey] ?? defaultParam;\n      hasInherit = true;\n    }\n  }\n\n  if (!hasInherit) return baseParamConfigMap;\n  return paramConfigMap;\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license at\n * https://github.com/facebook/fbjs/blob/master/LICENSE\n */\n\n/*eslint-disable no-self-compare */\n\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\n\n/**\n * inlined Object.is polyfill to avoid requiring consumers ship their own\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n */\nfunction is(x: any, y: any): boolean {\n  // SameValue algorithm\n  if (x === y) {\n    // Steps 1-5, 7-10\n    // Steps 6.b-6.e: +0 != -0\n    // Added the nonzero y check to make Flow happy, but it is redundant\n    return x !== 0 || y !== 0 || 1 / x === 1 / y;\n  } else {\n    // Step 6.a: NaN == NaN\n    return x !== x && y !== y;\n  }\n}\n\n/**\n * Performs equality by iterating through keys on an object and returning false\n * when any key has values which are not strictly equal between the arguments.\n * Returns true when the values of all keys are strictly equal.\n\n * @pbeshai modification of shallowEqual to take into consideration a map providing\n * equals functions\n */\nexport default function shallowEqual(\n  objA: any,\n  objB: any,\n  equalMap?: any\n): boolean {\n  if (is(objA, objB)) {\n    return true;\n  }\n\n  if (\n    typeof objA !== 'object' ||\n    objA === null ||\n    typeof objB !== 'object' ||\n    objB === null\n  ) {\n    return false;\n  }\n\n  const keysA = Object.keys(objA);\n  const keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  // Test for A's keys different from B.\n  for (let i = 0; i < keysA.length; i++) {\n    const isEqual = equalMap?.[keysA[i]]?.equals ?? is;\n    if (\n      !hasOwnProperty.call(objB, keysA[i]) ||\n      !isEqual(objA[keysA[i]], objB[keysA[i]])\n    ) {\n      return false;\n    }\n  }\n\n  return true;\n}\n","import {\n  DecodedValueMap,\n  EncodedQuery,\n  QueryParamConfigMap,\n} from 'serialize-query-params';\nimport { DecodedParamCache } from './decodedParamCache';\nimport shallowEqual from './shallowEqual';\n\n/**\n * Helper to get the latest decoded values with smart caching.\n * Abstracted into its own function to allow re-use in a functional setter (#26)\n */\nexport function getLatestDecodedValues<QPCMap extends QueryParamConfigMap>(\n  parsedParams: EncodedQuery,\n  paramConfigMap: QPCMap,\n  decodedParamCache: DecodedParamCache\n) {\n  const decodedValues: Partial<DecodedValueMap<QPCMap>> = {};\n\n  // we have new encoded values, so let's get new decoded values.\n  // recompute new values but only for those that changed\n  const paramNames = Object.keys(paramConfigMap);\n  for (const paramName of paramNames) {\n    // do we have a new encoded value?\n    const paramConfig = paramConfigMap[paramName];\n    const encodedValue = parsedParams[paramName];\n\n    // if we have a new encoded value, re-decode. otherwise reuse cache\n    let decodedValue;\n    if (decodedParamCache.has(paramName, encodedValue, paramConfig.decode)) {\n      decodedValue = decodedParamCache.get(paramName);\n    } else {\n      decodedValue = paramConfig.decode(encodedValue);\n\n      // check if we had a cached value for this encoded value but a different encoder\n      // (sometimes people inline decode functions, e.g. withDefault...)\n      // AND we had a different equals check than ===\n      if (\n        paramConfig.equals &&\n        decodedParamCache.has(paramName, encodedValue)\n      ) {\n        const oldDecodedValue = decodedParamCache.get(paramName);\n        if (paramConfig.equals(decodedValue, oldDecodedValue)) {\n          decodedValue = oldDecodedValue;\n        }\n      }\n\n      // do not cache undefined values\n      if (decodedValue !== undefined) {\n        decodedParamCache.set(\n          paramName,\n          encodedValue,\n          decodedValue,\n          paramConfig.decode\n        );\n      }\n    }\n\n    // in case the decode function didn't interpret `default` for some reason,\n    // we can interpret it here as a backup\n    if (decodedValue === undefined && paramConfig.default !== undefined) {\n      decodedValue = paramConfig.default;\n    }\n\n    decodedValues[paramName as keyof QPCMap] = decodedValue;\n  }\n\n  return decodedValues as DecodedValueMap<QPCMap>;\n}\n\n/**\n * Wrap get latest so we use the same exact object if the current\n * values are shallow equal to the previous.\n */\nexport function makeStableGetLatestDecodedValues() {\n  let prevDecodedValues: DecodedValueMap<any> | undefined;\n\n  function stableGetLatest<QPCMap extends QueryParamConfigMap>(\n    parsedParams: EncodedQuery,\n    paramConfigMap: QPCMap,\n    decodedParamCache: DecodedParamCache\n  ) {\n    const decodedValues = getLatestDecodedValues(\n      parsedParams,\n      paramConfigMap,\n      decodedParamCache\n    );\n    if (\n      prevDecodedValues != null &&\n      shallowEqual(prevDecodedValues, decodedValues)\n    ) {\n      return prevDecodedValues;\n    }\n    prevDecodedValues = decodedValues;\n    return decodedValues;\n  }\n\n  return stableGetLatest;\n}\n","import { EncodedQuery } from 'serialize-query-params';\nimport shallowEqual from './shallowEqual';\nimport { deserializeUrlNameMap } from './urlName';\n\nlet cachedSearchString: string | undefined;\nlet cachedUrlNameMapString: string | undefined;\nlet cachedSearchStringToObjectFn:\n  | ((searchString: string) => EncodedQuery)\n  | undefined;\nlet cachedParsedQuery: EncodedQuery = {};\n\n/**\n * cached conversion of ?foo=1&bar=2 to { foo: '1', bar: '2' }\n */\nexport const memoSearchStringToObject = (\n  searchStringToObject: (searchString: string) => EncodedQuery,\n  searchString?: string | undefined,\n  /** optionally provide a mapping string to handle renames via `urlName`\n   * mapping are separated by \\n and mappings are urlName\\0paramName\n   */\n  urlNameMapStr?: string | undefined\n) => {\n  // if we have a cached version, just return it\n  if (\n    cachedSearchString === searchString &&\n    cachedSearchStringToObjectFn === searchStringToObject &&\n    cachedUrlNameMapString === urlNameMapStr\n  ) {\n    return cachedParsedQuery;\n  }\n\n  cachedSearchString = searchString;\n  cachedSearchStringToObjectFn = searchStringToObject;\n  const newParsedQuery = searchStringToObject(searchString ?? '');\n  cachedUrlNameMapString = urlNameMapStr;\n\n  const urlNameMap = deserializeUrlNameMap(urlNameMapStr);\n\n  // keep old values for keys if they are the same\n  for (let [key, value] of Object.entries(newParsedQuery)) {\n    // handle url name mapping\n    if (urlNameMap?.[key]) {\n      delete newParsedQuery[key];\n      key = urlNameMap[key];\n      newParsedQuery[key] = value;\n    }\n\n    const oldValue = cachedParsedQuery[key];\n    if (shallowEqual(value, oldValue)) {\n      newParsedQuery[key] = oldValue;\n    }\n  }\n\n  cachedParsedQuery = newParsedQuery;\n  return newParsedQuery;\n};\n","import { EncodedValueMap, QueryParamConfigMap } from 'serialize-query-params';\n\n/**\n * Create an alias mapping using the optional `urlName` property on params\n */\nexport function serializeUrlNameMap(\n  paramConfigMap: QueryParamConfigMap\n): string | undefined {\n  let urlNameMapParts: string[] | undefined;\n  for (const paramName in paramConfigMap) {\n    if (paramConfigMap[paramName].urlName) {\n      const urlName = paramConfigMap[paramName].urlName;\n      const part = `${urlName}\\0${paramName}`;\n      if (!urlNameMapParts) urlNameMapParts = [part];\n      else urlNameMapParts.push(part);\n    }\n  }\n\n  return urlNameMapParts ? urlNameMapParts.join('\\n') : undefined;\n}\n\n/**\n * Converts the stringified alias/urlName map back into an object\n */\nexport function deserializeUrlNameMap(\n  urlNameMapStr: string | undefined\n): Record<string, string> | undefined {\n  if (!urlNameMapStr) return undefined;\n\n  return Object.fromEntries(\n    urlNameMapStr.split('\\n').map((part) => part.split('\\0'))\n  );\n}\n\n/**\n * converts { searchString: 'foo'} to { q: 'foo'} if the searchString\n * is configured to have \"q\" as its urlName.\n */\nexport function applyUrlNames(\n  encodedValues: Partial<EncodedValueMap<any>>,\n  paramConfigMap: QueryParamConfigMap\n) {\n  let newEncodedValues: Partial<EncodedValueMap<any>> = {};\n  for (const paramName in encodedValues) {\n    if (paramConfigMap[paramName]?.urlName != null) {\n      newEncodedValues[paramConfigMap[paramName].urlName!] =\n        encodedValues[paramName];\n    } else {\n      newEncodedValues[paramName] = encodedValues[paramName];\n    }\n  }\n\n  return newEncodedValues;\n}\n","import {\n  EncodedQuery,\n  QueryParamConfigMap,\n  searchStringToObject,\n  objectToSearchString,\n} from 'serialize-query-params';\nimport { UrlUpdateType } from './types';\n\nexport const defaultOptions: QueryParamOptionsWithRequired = {\n  searchStringToObject: searchStringToObject,\n  objectToSearchString: objectToSearchString,\n  updateType: 'pushIn',\n  includeKnownParams: undefined,\n  includeAllParams: false,\n  removeDefaultsFromUrl: false,\n  enableBatching: false,\n  skipUpdateWhenNoChange: true,\n};\n\nexport interface QueryParamOptions {\n  searchStringToObject?: (searchString: string) => EncodedQuery;\n  objectToSearchString?: (encodedParams: EncodedQuery) => string;\n  updateType?: UrlUpdateType;\n  includeKnownParams?: boolean;\n  includeAllParams?: boolean;\n  /** whether sets that result in no change to the location search string should be ignored (default: true) */\n  skipUpdateWhenNoChange?: boolean;\n  params?: QueryParamConfigMap;\n\n  /** when a value equals its default, do not encode it in the URL when updating */\n  removeDefaultsFromUrl?: boolean;\n\n  /**\n   * @experimental this is an experimental option to combine multiple `set` calls\n   * into a single URL update.\n   */\n  enableBatching?: boolean;\n}\n\ntype RequiredOptions = 'searchStringToObject' | 'objectToSearchString';\nexport type QueryParamOptionsWithRequired = Required<\n  Pick<QueryParamOptions, RequiredOptions>\n> &\n  Omit<QueryParamOptions, RequiredOptions>;\n\nexport function mergeOptions(\n  parentOptions: QueryParamOptionsWithRequired,\n  currOptions: QueryParamOptions | null | undefined\n): QueryParamOptionsWithRequired {\n  if (currOptions == null) {\n    currOptions = {};\n  }\n\n  const merged = { ...parentOptions, ...currOptions };\n\n  // deep merge param objects\n  if (currOptions.params && parentOptions.params) {\n    merged.params = { ...parentOptions.params, ...currOptions.params };\n  }\n\n  return merged;\n}\n","import * as React from 'react';\nimport {\n  mergeOptions,\n  defaultOptions,\n  QueryParamOptions,\n  QueryParamOptionsWithRequired,\n} from './options';\nimport { QueryParamAdapter, QueryParamAdapterComponent } from './types';\n\n/**\n * Shape of the QueryParamContext, which the hooks consume to read and\n * update the URL state.\n */\ntype QueryParamContextValue = {\n  adapter: QueryParamAdapter;\n  options: QueryParamOptionsWithRequired;\n};\n\nconst providerlessContextValue: QueryParamContextValue = {\n  adapter: {} as QueryParamAdapter,\n  options: defaultOptions,\n};\n\nexport const QueryParamContext = React.createContext<QueryParamContextValue>(\n  providerlessContextValue\n);\n\nexport function useQueryParamContext() {\n  const value = React.useContext(QueryParamContext);\n  if (\n    process.env.NODE_ENV !== 'production' &&\n    (value === undefined || value === providerlessContextValue)\n  ) {\n    throw new Error('useQueryParams must be used within a QueryParamProvider');\n  }\n\n  return value;\n}\n\n/**\n * Props for the Provider component, used to hook the active routing\n * system into our controls. Note only the root provider requires\n * `adapter`. We try to encourage that via intellisense by writing\n * the types this way (you must provide at least one of adapter or options,\n * default intellisense suggests adapter required.)\n */\ntype QueryParamProviderProps = {\n  /** Main app goes here */\n  children: React.ReactNode;\n} & (\n  | {\n      adapter?: never;\n      options: QueryParamOptions;\n    }\n  | {\n      /** required for the root provider but not for nested ones */\n      adapter: QueryParamAdapterComponent;\n      options?: QueryParamOptions;\n    }\n);\n\nfunction QueryParamProviderInner({\n  children,\n  adapter,\n  options,\n}: {\n  children: React.ReactNode;\n  adapter?: QueryParamAdapter | undefined;\n  options?: QueryParamOptions;\n}) {\n  // allow merging in parent options\n  const { adapter: parentAdapter, options: parentOptions } =\n    React.useContext(QueryParamContext);\n\n  const value = React.useMemo(() => {\n    return {\n      adapter: adapter ?? parentAdapter,\n      options: mergeOptions(\n        parentOptions,\n        options\n      ) as QueryParamOptionsWithRequired,\n    };\n  }, [adapter, options, parentAdapter, parentOptions]);\n\n  return (\n    <QueryParamContext.Provider value={value}>\n      {children}\n    </QueryParamContext.Provider>\n  );\n}\n\n/**\n * Context provider for query params to have access to the\n * active routing system, enabling updates to the URL.\n */\nexport function QueryParamProvider({\n  children,\n  adapter,\n  options,\n}: QueryParamProviderProps) {\n  const Adapter = adapter;\n  return Adapter ? (\n    <Adapter>\n      {(adapter) => (\n        <QueryParamProviderInner adapter={adapter} options={options}>\n          {children}\n        </QueryParamProviderInner>\n      )}\n    </Adapter>\n  ) : (\n    <QueryParamProviderInner options={options}>\n      {children}\n    </QueryParamProviderInner>\n  );\n}\n\nexport default QueryParamProvider;\n","import { EncodedQuery } from './types';\n\n/**\n * Default implementation of searchStringToObject powered by URLSearchParams\n * This converts a search string like `?foo=123&bar=x` to { foo: '123', bar: 'x' }\n * This is only a very basic version, you may prefer the advanced versions offered\n * by third party libraries like query-string (\"parse\") or qs.\n */\nexport function searchStringToObject(searchString: string): EncodedQuery {\n  const params = new URLSearchParams(searchString);\n  const parsed: EncodedQuery = {};\n  for (let [key, value] of params) {\n    if (Object.prototype.hasOwnProperty.call(parsed, key)) {\n      if (Array.isArray(parsed[key])) {\n        (parsed[key] as string[]).push(value);\n      } else {\n        parsed[key] = [parsed[key] as string, value];\n      }\n    } else {\n      parsed[key] = value;\n    }\n  }\n\n  return parsed;\n}\n","import { EncodedQuery } from './types';\n\n/**\n * Default implementation of objectToSearchString powered by URLSearchParams.\n * Does not support null values. Does not prefix with \"?\"\n * This converts an object { foo: '123', bar: 'x' } to a search string `?foo=123&bar=x`\n * This is only a very basic version, you may prefer the advanced versions offered\n * by third party libraries like query-string (\"stringify\") or qs.\n */\nexport function objectToSearchString(encodedParams: EncodedQuery): string {\n  const params = new URLSearchParams();\n  const entries = Object.entries(encodedParams);\n\n  for (const [key, value] of entries) {\n    if (value === undefined) continue;\n    if (value === null) continue;\n\n    if (Array.isArray(value)) {\n      for (const item of value) {\n        params.append(key, item ?? '');\n      }\n    } else {\n      params.append(key, value);\n    }\n  }\n\n  return params.toString();\n}\n","import {\n  DecodedValueMap,\n  encodeQueryParams,\n  QueryParamConfigMap,\n} from 'serialize-query-params';\nimport { decodedParamCache } from './decodedParamCache';\nimport { extendParamConfigForKeys } from './inheritedParams';\nimport { getLatestDecodedValues } from './latestValues';\nimport { memoSearchStringToObject } from './memoSearchStringToObject';\nimport { QueryParamOptionsWithRequired } from './options';\nimport { removeDefaults } from './removeDefaults';\nimport { PartialLocation, QueryParamAdapter, UrlUpdateType } from './types';\nimport { applyUrlNames } from './urlName';\n\n// for multiple param config\ntype ChangesType<DecodedValueMapType> =\n  | Partial<DecodedValueMapType>\n  | ((latestValues: DecodedValueMapType) => Partial<DecodedValueMapType>);\n\n/**\n * Given a ?foo=1&bar=2 and { bar: 3, baz: true } produce ?foo=1&bar=3&baz=1\n * or similar, depending on updateType. The result will be prefixed with \"?\"\n * or just be the empty string.\n */\nexport function getUpdatedSearchString({\n  changes,\n  updateType,\n  currentSearchString,\n  paramConfigMap: baseParamConfigMap,\n  options,\n}: {\n  changes: ChangesType<DecodedValueMap<any>>;\n  updateType?: UrlUpdateType;\n  currentSearchString: string;\n  paramConfigMap: QueryParamConfigMap;\n  options: QueryParamOptionsWithRequired;\n}): string {\n  const { searchStringToObject, objectToSearchString } = options;\n  if (updateType == null) updateType = options.updateType;\n\n  let encodedChanges;\n  const parsedParams = memoSearchStringToObject(\n    searchStringToObject,\n    currentSearchString\n  );\n\n  // see if we have unconfigured params in the changes that we can\n  // inherit to expand our config map instead of just using strings\n  const paramConfigMap = extendParamConfigForKeys(\n    baseParamConfigMap,\n    Object.keys(changes),\n    options.params\n  );\n\n  // update changes prior to encoding to handle removing defaults\n  // getting latest values when functional update\n  let changesToUse: Partial<DecodedValueMap<any>>;\n\n  // functional updates here get the latest values\n  if (typeof changes === 'function') {\n    const latestValues = getLatestDecodedValues(\n      parsedParams,\n      paramConfigMap,\n      decodedParamCache\n    );\n\n    changesToUse = (changes as Function)(latestValues);\n  } else {\n    // simple update here\n    changesToUse = changes;\n  }\n\n  encodedChanges = encodeQueryParams(paramConfigMap, changesToUse);\n\n  // remove defaults\n  if (options.removeDefaultsFromUrl) {\n    removeDefaults(encodedChanges, paramConfigMap);\n  }\n\n  // interpret urlNames\n  encodedChanges = applyUrlNames(encodedChanges, paramConfigMap);\n\n  let newSearchString: string;\n  if (updateType === 'push' || updateType === 'replace') {\n    newSearchString = objectToSearchString(encodedChanges);\n  } else {\n    newSearchString = objectToSearchString({\n      ...parsedParams,\n      ...encodedChanges,\n    });\n  }\n\n  if (newSearchString?.length && newSearchString[0] !== '?') {\n    (newSearchString as any) = `?${newSearchString}`;\n  }\n\n  return newSearchString ?? '';\n}\n\n/**\n * uses an adapter to update a location object and optionally\n * navigate based on the updateType\n */\nexport function updateSearchString({\n  searchString,\n  adapter,\n  navigate,\n  updateType,\n}: {\n  searchString: string;\n  adapter: QueryParamAdapter;\n  navigate: boolean;\n  updateType?: UrlUpdateType;\n}) {\n  const currentLocation = adapter.location;\n\n  // update the location and URL\n  const newLocation: PartialLocation = {\n    ...currentLocation,\n    search: searchString,\n  };\n\n  if (navigate) {\n    // be defensive about checking updateType since it is somewhat easy to\n    // accidentally pass a second argument to the setter.\n    if (typeof updateType === 'string' && updateType.startsWith('replace')) {\n      adapter.replace(newLocation);\n    } else {\n      adapter.push(newLocation);\n    }\n  }\n}\n\ntype UpdateArgs = Parameters<typeof getUpdatedSearchString>[0] & {\n  adapter: QueryParamAdapter;\n};\n\nconst immediateTask = (task: Function) => task();\nconst timeoutTask = (task: Function) => setTimeout(() => task(), 0);\n// alternative could be native `queueMicrotask`\n\nconst updateQueue: UpdateArgs[] = [];\n\n/**\n * support batching by enqueuing updates (if immediate is not true)\n */\nexport function enqueueUpdate(\n  args: UpdateArgs,\n  { immediate }: { immediate?: boolean } = {}\n) {\n  updateQueue.push(args);\n  let scheduleTask = immediate ? immediateTask : timeoutTask;\n\n  if (updateQueue.length === 1) {\n    scheduleTask(() => {\n      const updates = updateQueue.slice();\n      updateQueue.length = 0;\n      const initialSearchString = updates[0].currentSearchString;\n\n      let searchString: string | undefined;\n      for (let i = 0; i < updates.length; ++i) {\n        const modifiedUpdate: UpdateArgs =\n          i === 0\n            ? updates[i]\n            : { ...updates[i], currentSearchString: searchString! };\n        searchString = getUpdatedSearchString(modifiedUpdate);\n      }\n\n      // do not update unnecessarily #234\n      if (\n        args.options.skipUpdateWhenNoChange &&\n        searchString === initialSearchString\n      ) {\n        return;\n      }\n\n      updateSearchString({\n        searchString: searchString ?? '',\n        adapter: updates[updates.length - 1].adapter,\n        navigate: true,\n        updateType: updates[updates.length - 1].updateType,\n      });\n    });\n  }\n}\n","import { EncodedValueMap, QueryParamConfigMap } from 'serialize-query-params';\n\n/**\n * Note: This function is destructive - it mutates encodedValues.\n * Remove values that match the encoded defaults from the encodedValues object\n */\nexport function removeDefaults(\n  encodedValues: Partial<EncodedValueMap<any>>,\n  paramConfigMap: QueryParamConfigMap\n) {\n  for (const paramName in encodedValues) {\n    // does it have a configured default and does it have a non-undefined value?\n    if (\n      paramConfigMap[paramName]?.default !== undefined &&\n      encodedValues[paramName] !== undefined\n    ) {\n      // does its current value match the encoded default\n      const encodedDefault = paramConfigMap[paramName].encode(\n        paramConfigMap[paramName].default\n      );\n      if (encodedDefault === encodedValues[paramName]) {\n        encodedValues[paramName] = undefined;\n      }\n    }\n  }\n}\n","import { useEffect, useMemo, useRef, useState } from 'react';\nimport {\n  DecodedValueMap,\n  QueryParamConfig,\n  QueryParamConfigMap,\n  StringParam,\n} from 'serialize-query-params';\nimport { decodedParamCache } from './decodedParamCache';\nimport {\n  extendParamConfigForKeys,\n  convertInheritedParamStringsToParams,\n} from './inheritedParams';\nimport { makeStableGetLatestDecodedValues } from './latestValues';\nimport { memoSearchStringToObject } from './memoSearchStringToObject';\nimport { mergeOptions, QueryParamOptions } from './options';\nimport { useQueryParamContext } from './QueryParamProvider';\nimport {\n  QueryParamConfigMapWithInherit,\n  SetQuery,\n  UrlUpdateType,\n} from './types';\nimport { enqueueUpdate } from './updateSearchString';\nimport { serializeUrlNameMap } from './urlName';\n\n// for multiple param config\ntype ChangesType<DecodedValueMapType> =\n  | Partial<DecodedValueMapType>\n  | ((latestValues: DecodedValueMapType) => Partial<DecodedValueMapType>);\n\ntype UseQueryParamsResult<QPCMap extends QueryParamConfigMap> = [\n  DecodedValueMap<QPCMap>,\n  SetQuery<QPCMap>\n];\ntype ExpandInherits<QPCMap extends QueryParamConfigMapWithInherit> = {\n  [ParamName in keyof QPCMap]: QPCMap[ParamName] extends string\n    ? typeof StringParam\n    : QPCMap[ParamName] extends QueryParamConfig<any>\n    ? QPCMap[ParamName]\n    : never;\n};\n\n/**\n * Given a query parameter configuration (mapping query param name to { encode, decode }),\n * return an object with the decoded values and a setter for updating them.\n */\nexport function useQueryParams<\n  QPCMap extends QueryParamConfigMap = QueryParamConfigMap\n>(): UseQueryParamsResult<QPCMap>;\nexport function useQueryParams<QPCMap extends QueryParamConfigMapWithInherit>(\n  names: string[],\n  options?: QueryParamOptions\n): UseQueryParamsResult<ExpandInherits<QPCMap>>;\nexport function useQueryParams<\n  QPCMap extends QueryParamConfigMapWithInherit,\n  OutputQPCMap extends QueryParamConfigMap = ExpandInherits<QPCMap>\n>(\n  paramConfigMap: QPCMap,\n  options?: QueryParamOptions\n): UseQueryParamsResult<OutputQPCMap>;\nexport function useQueryParams(\n  arg1?: string[] | QueryParamConfigMapWithInherit,\n  arg2?: QueryParamConfig<any> | QueryParamOptions\n): UseQueryParamsResult<any> {\n  const { adapter, options: contextOptions } = useQueryParamContext();\n  const [stableGetLatest] = useState(makeStableGetLatestDecodedValues);\n\n  // intepret the overloaded arguments\n  const { paramConfigMap: paramConfigMapWithInherit, options } = parseArguments(\n    arg1,\n    arg2\n  );\n\n  const mergedOptions = useMemo(() => {\n    return mergeOptions(contextOptions, options);\n  }, [contextOptions, options]);\n\n  // interpret params that were configured up the chain\n  let paramConfigMap = convertInheritedParamStringsToParams(\n    paramConfigMapWithInherit,\n    mergedOptions\n  );\n\n  // what is the current stringified value?\n  const parsedParams = memoSearchStringToObject(\n    mergedOptions.searchStringToObject,\n    adapter.location.search,\n    serializeUrlNameMap(paramConfigMap) // note we serialize for memo purposes\n  );\n\n  // do we want to include all params from the URL even if not configured?\n  if (mergedOptions.includeAllParams) {\n    paramConfigMap = extendParamConfigForKeys(\n      paramConfigMap,\n      Object.keys(parsedParams),\n      mergedOptions.params,\n      StringParam\n    );\n  }\n\n  // run decode on each key\n  const decodedValues = stableGetLatest(\n    parsedParams,\n    paramConfigMap,\n    decodedParamCache\n  );\n\n  // clear out unused values in cache\n  // use string for relatively stable effect dependency\n  const paramKeyString = Object.keys(paramConfigMap).join('\\0');\n  useEffect(() => {\n    const paramNames = paramKeyString.split('\\0');\n    decodedParamCache.registerParams(paramNames);\n    return () => {\n      decodedParamCache.unregisterParams(paramNames);\n    };\n  }, [paramKeyString]);\n\n  // create a setter for updating multiple query params at once\n  // use a ref for callback dependencies so we don't generate a new one unnecessarily\n  const callbackDependencies = {\n    adapter,\n    paramConfigMap,\n    options: mergedOptions,\n  };\n  const callbackDependenciesRef =\n    useRef<typeof callbackDependencies>(callbackDependencies);\n  if (callbackDependenciesRef.current == null) {\n    callbackDependenciesRef.current = callbackDependencies;\n  }\n  useEffect(() => {\n    callbackDependenciesRef.current.adapter = adapter;\n    callbackDependenciesRef.current.paramConfigMap = paramConfigMap;\n    callbackDependenciesRef.current.options = mergedOptions;\n  }, [adapter, paramConfigMap, mergedOptions]);\n\n  // create callback with stable identity\n  const [setQuery] = useState(() => {\n    const setQuery = (\n      changes: ChangesType<DecodedValueMap<any>>,\n      updateType?: UrlUpdateType\n    ) => {\n      // read from a ref so we don't generate new setters each time any change\n      const { adapter, paramConfigMap, options } =\n        callbackDependenciesRef.current!;\n      if (updateType == null) updateType = options.updateType;\n\n      enqueueUpdate(\n        {\n          changes,\n          updateType,\n          currentSearchString: adapter.location.search,\n          paramConfigMap,\n          options,\n          adapter,\n        },\n        { immediate: !options.enableBatching }\n      );\n    };\n\n    return setQuery;\n  });\n\n  return [decodedValues, setQuery];\n}\n\nexport default useQueryParams;\n\nfunction parseArguments(\n  arg1: string[] | QueryParamConfigMapWithInherit | undefined,\n  arg2: QueryParamConfig<any> | QueryParamOptions | undefined\n): {\n  paramConfigMap: QueryParamConfigMapWithInherit;\n  options: QueryParamOptions | undefined;\n} {\n  let paramConfigMap: QueryParamConfigMapWithInherit;\n  let options: QueryParamOptions | undefined;\n\n  if (arg1 === undefined) {\n    // useQueryParams()\n    paramConfigMap = {};\n    options = arg2 as QueryParamOptions | undefined;\n  } else if (Array.isArray(arg1)) {\n    // useQueryParams(['geo', 'other'])\n    // useQueryParams(['geo', 'other'], options)\n    paramConfigMap = Object.fromEntries(\n      arg1.map((key) => [key, 'inherit' as const])\n    );\n    options = arg2 as QueryParamOptions | undefined;\n  } else {\n    // useQueryParams({ geo: NumberParam })\n    // useQueryParams({ geo: NumberParam }, options)\n    paramConfigMap = arg1;\n    options = arg2 as QueryParamOptions | undefined;\n  }\n\n  return { paramConfigMap, options };\n}\n","import { useCallback, useMemo } from 'react';\nimport { QueryParamConfig } from 'serialize-query-params';\nimport { QueryParamOptions } from './options';\nimport { UrlUpdateType } from './types';\nimport useQueryParams from './useQueryParams';\n\ntype NewValueType<D> = D | ((latestValue: D) => D);\n\n/**\n * Given a query param name and query parameter configuration ({ encode, decode })\n * return the decoded value and a setter for updating it.\n *\n * The setter takes two arguments (newValue, updateType) where updateType\n * is one of 'replace' | 'replaceIn' | 'push' | 'pushIn', defaulting to\n * 'pushIn'.\n */\nexport const useQueryParam = <TypeToEncode, TypeFromDecode = TypeToEncode>(\n  name: string,\n  paramConfig?: QueryParamConfig<TypeToEncode, TypeFromDecode>,\n  options?: QueryParamOptions\n): [\n  TypeFromDecode,\n  (newValue: NewValueType<TypeToEncode>, updateType?: UrlUpdateType) => void\n] => {\n  const paramConfigMap = useMemo(\n    () => ({ [name]: paramConfig ?? 'inherit' }),\n    [name, paramConfig]\n  );\n  const [query, setQuery] = useQueryParams(paramConfigMap, options);\n  const decodedValue = query[name];\n  const setValue = useCallback(\n    (newValue: NewValueType<TypeToEncode>, updateType?: UrlUpdateType) => {\n      if (typeof newValue === 'function') {\n        return setQuery((latestValues) => {\n          const newValueFromLatest = (newValue as Function)(latestValues[name]);\n          return { [name]: newValueFromLatest };\n        }, updateType);\n      }\n      return setQuery({ [name]: newValue } as any, updateType);\n    },\n    [name, setQuery]\n  );\n\n  return [decodedValue, setValue];\n};\n"],"names":["commonStyles","concat","colors","grey800","white","teal500","blue600","yellow700","red500","teal900","CheckboxRegular","_ref","className","React","viewBox","xmlns","__hash","_JSXStyle","dynamic","grey300","grey400","blue700","yellow800","red700","x","y","width","height","rx","d","id","CheckboxDense","_ref2","grey500","blue800","red800","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","propTypes","PropTypes","Checkbox","Component","constructor","super","arguments","this","createRef","e","props","onChange","createHandlerPayload","onBlur","onFocus","onKeyDown","componentDidMount","initialFocus","ref","current","focus","setIndeterminate","indeterminate","componentDidUpdate","prevProps","name","checked","render","disabled","error","label","tabIndex","valid","warning","dense","dataTest","classes","cx","grey900","theme","spacers","dp4","type","handleChange","handleFocus","handleKeyDown","handleBlur","defaultProps","uniqueOnStatePropType","mutuallyExclusive","sharedPropTypes","toPrefixedThemeSection","themeSectionKey","entries","reduce","prefixed","toCustomPropertyString","themeSection","map","join","CssVariables","_ref3","layers","elevations","allowedProps","variables","keys","filter","prop","IntersectionDetector","threshold","children","rootRef","isIntersecting","useRef","intersectionRef","useEffect","rootEl","intersectionEl","intersectionObserver","IntersectionObserver","entry","root","observe","disconnect","HTMLElement","isRequired","NoticeBoxMessage","NoticeBoxTitle","title","NoticeBoxContent","dp8","SvgCheckmarkCircle24","color","fill","fillRule","clipRule","NoticeBoxIcon","blue900","Icon","IconInfoFilled24","green700","IconCheckmarkCircle24","IconWarningFilled24","IconErrorFilled24","dp12","dp24","NoticeBox","classnames","blue050","blue200","dp16","yellow050","yellow200","red050","green050","green200","namespace","i18n","addResources","arTranslations","ar_IQTranslations","bnTranslations","ckbTranslations","csTranslations","daTranslations","enTranslations","esTranslations","es_419Translations","frTranslations","idTranslations","kmTranslations","loTranslations","myTranslations","nbTranslations","nlTranslations","prsTranslations","psTranslations","ptTranslations","pt_BRTranslations","roTranslations","ruTranslations","svTranslations","tetTranslations","tgTranslations","ukTranslations","urTranslations","uz_LatnTranslations","uz_UZ_CyrlTranslations","uz_UZ_LatnTranslations","viTranslations","zhTranslations","zh_CNTranslations","isValidNumber","input","isNaN","translate","interpolationObject","PageControls","isNextDisabled","isPreviousDisabled","nextPageText","page","previousPageText","onClick","Button","secondary","small","IconChevronLeft16","IconChevronRight16","PageSelect","pageSelectText","pageCount","SingleSelect","selected","toString","parseInt","prefix","length","Array","from","_x","i","availablePage","SingleSelectOption","PageSizeSelect","pageSizeSelectText","pageSize","pageSizes","PageSummary","firstItem","inactive","lastItem","pageSummaryText","total","summary","grey700","Pagination","hidePageSelect","hidePageSizeSelect","hidePageSummary","isLastPage","onPageChange","onPageSizeChange","pageLength","NaN","getItemRange","showPageSelect","t","requiredIf","getArrowPosition","popperPlacement","split","Arrow","forwardRef","hidden","styles","style","ARROW_SIZE","displayName","left","position","top","transform","computeArrowPadding","padding","Math","sqrt","pow","ceil","hideArrowWhenDisplaced","state","displacement","modifiersData","preventOverflow","referenceRect","rects","reference","shouldHideArrow","abs","attributes","arrow","combineModifiers","arrowElement","resizeObservers","baseModifiers","getBaseModifiers","options","offset","element","enabled","phase","fn","requires","_extends","assign","target","source","prototype","hasOwnProperty","call","apply","Popover","elevation","maxWidth","observePopperResize","observeReferenceResize","placement","onClickOutside","referenceElement","getReferenceElement","popperElement","setPopperElement","useState","setArrowElement","modifiers","useMemo","usePopper","Layer","onBackdropClick","popper","e200","MultiSelectField","required","loading","helpText","validationText","maxHeight","inputMaxHeight","inputWidth","clearable","clearText","filterable","filterPlaceholder","placeholder","empty","loadingText","noMatchText","Field","Box","minWidth","MultiSelect","checkboxClassname","MultiSelectOption","active","grey200","onDisabledClick","_","stopPropagation","preventDefault","Menu","renderedOptions","filterIgnored","count","Empty","message","child","checkIfValidOption","isDisabled","isActive","findOption","filtered","removeOption","data","createHandler","FilterableMenu","handleClose","handleFocusInput","CommonFilterableMenu","Content","overflow","icon","CancelOutline","containerStyle","removeIcon","grey600","Remove","onRemove","Chip","dragging","marginBottom","marginLeft","marginRight","marginTop","secondary600","SelectionList","selectedOption","findOptionChild","console","undefined","createRemoveHandler","Input","hasSelection","InputPrefix","InputPlaceholder","InputClearButton","onClear","menu","Select","CommonLoading","StatusIcon","fonts","FilterInput","NoMatch","setState","menuProps","onFilterChange","toLowerCase","includes","hasMatch","Loading","CircularLoader","option","toArray","optionChildren","find","currentOption","optionArray","optionValue","SvgChevronDown16","InputWrapper","onToggle","inputRef","classNames","grey100","IconChevronDown16","MenuWrapper","menuWidth","selectRef","transparent","Popper","e300","open","debounce","func","wait","immediate","timeout","_len","args","_key","context","callNow","clearTimeout","setTimeout","later","getMenuWidth","handleOpen","defaultPrevented","keyCode","shouldOpen","window","addEventListener","onResize","componentWillUnmount","removeEventListener","offsetWidth","inputProps","onOutsideClick","SingleSelectField","teal700","onIgnoredClick","isIgnored","Selection","offsetModifier","SelectorBarItem","displayOnly","noValueMessage","setOpen","onClearSelectionClick","buttonRef","IconChevronUp24","IconChevronDown24","evt","Card","ClearSelection","SelectorBar","disableClearSelections","additionalContent","withRHSContents","DURATION","SCROLL_STEP","animatedSideScroll","scrollBox","callback","goBackwards","startValue","scrollLeft","endValue","scrollDistance","clientWidth","inverter","floor","getEndValue","step","startTimestamp","elapsedTime","scrollValue","change","timestamp","currentTime","easeInOutQuad","requestAnimationFrame","createFrameStepper","horizontalScrollbarHeight","ScrollButton","ScrollBar","document","createElement","innerHTML","el","classList","add","body","appendChild","offsetHeight","clientHeight","removeChild","detectHorizontalScrollbarHeight","hideScrollButtonsInitialized","scrollArea","hideScrollButtons","scrolledToStart","scrolledToEnd","scrollRight","scroll","updateScrolledToStates","attachSideScrollListener","areaOffsetWidth","scrollBoxResizeObserver","ResizeObserver","calculateShouldHideButtons","scrollSelectedTabIntoView","manageShouldHideButtons","removeSideScrollListener","animatedScrollCallback","scrollBoxEl","tab","querySelector","tabEnd","offsetLeft","hideScrollButtonsState","horizontalScrollBarHeight","Tabs","fixed","TabBar","scrollable","Tab","event","primary800","primary700","DataTableCell","align","backgroundColor","bordered","colSpan","large","muted","rowSpan","role","scope","staticStyle","tag","TableCell","TableHeaderCell","TableDataCell","stylePropType","requiredIfFixedPropType","resolvedTableHeaderCss","SvgSearch16","TableHeaderCellAction","FilterHandle","filterIconColor","clickHandler","show","IconSearch16","SORT_DIRECTIONS","Sorter","sortDirection","nextSortDirection","currentDirection","nextIndex","indexOf","getNextSortDirection","direction","points","flexboxAlignLookup","center","right","DataTableColumnHeader","showFilter","sortIconTitle","onFilterIconClick","onSortIconClick","TableRow","draggable","SvgDragHandle24","DragHandleCell","IconDragHandle24","pointer","ExpandHandleCell","expanded","cellClassName","ExpandedRow","setIsHoveringExpandedContent","onMouseOver","onMouseOut","DataTableRow","expandableContent","onExpandToggle","isHoveringExpandedContent","resolvedCss","childCount","String","Table","layout","borderless","TableScrollBox","DataTable","scrollHeight","scrollWidth","table","TableBody","_defaultExport","teal100","TableHead","AUTO","fixedHorizontally","tableCellHeadStyles","TableCellHead","tableCellStyles","TableContext","createContext","suppressZebraStriping","Consumer","Provider","TableRowHead","tableRowStyles","suppressZebraStripingFromContext","useContext","zebraStriping","tableStyles","TagIcon","TagText","Tag","neutral","negative","positive","bold","red100","red900","blue100","green100","green800","green900","tagVariantPropType","popperStyle","applicationTop","hideModifier","flipModifier","altBoundary","Tooltip","closeDelay","content","openDelay","popperReference","openTimerRef","closeTimerRef","Portal","Actions","centerButtonStyles","IconAddAll","IconAddIndividual","IconRemoveAll","IconRemoveIndividual","_ref4","IconMoveDown","_ref5","IconMoveUp","_ref6","AddAll","AddIndividual","Container","Filter","borderColor","borderRadius","LeftFooter","LeftHeader","LeftSide","EndIntersectionDetector","onEndReached","OptionsContainer","emptyComponent","getOptionClickHandlers","highlightedOptions","renderOption","selectionHandler","toggleHighlightedOption","optionsRef","wrapperRef","resizeCounter","counter","setCounter","internalCounter","observer","useResizeCounter","highlighted","highlightedSourceOption","Fragment","RemoveAll","RemoveIndividual","ReorderingActions","disabledDown","disabledUp","onChangeUp","onChangeDown","RightFooter","RightHeader","RightSide","TransferOption","onDoubleClick","doubleClickTimeout","identity","useFilter","initialSearchTerm","externalSearchTerm","filterCallback","internalFilter","setInternalFilter","filterValue","REPLACE_MODE","ADD_MODE","RANGE_MODE","createToggleHighlightedOption","setHighlightedOptions","maxSelections","setLastClicked","lastClicked","mode","toggleValue","values","index","slice","toggleAdd","to","clickedOptionIndex","findOptionIndex","findIndex","isOption","lastClickedSourceOptionWithoutRangeModeIndex","curOption","firstHighlightedInList","highlightedOption","lower","min","higher","max","newHighlightedSourceOptions","toggleRange","toggleReplace","useHighlightedOptions","altKey","shiftKey","ctrlKey","metaKey","v","getModeByModifierKey","isReorderDownDisabled","highlightedPickedOptions","isReorderUpDisabled","defaultFilterCallback","match","RegExp","Transfer","addAllText","addIndividualText","enableOrderChange","filterCallbackPicked","filterLabel","filterLabelPicked","filterPlaceholderPicked","filterablePicked","hideFilterInput","hideFilterInputPicked","initialSearchTermPicked","leftFooter","leftHeader","loadingPicked","optionsWidth","removeAllText","removeIndividualText","rightFooter","rightHeader","searchTerm","searchTermPicked","selectedEmptyComponent","selectedWidth","sourceEmptyPlaceholder","onFilterChangePicked","onEndReachedPicked","actualFilter","actualFilterCallback","sourceOptions","highlightedSourceOptions","setHighlightedSourceOptions","toggleHighlightedSourceOption","actualFilterPicked","actualFilterPickedCallback","setInternalFilterPicked","pickedOptions","isArray","setHighlightedPickedOptions","toggleHighlightedPickedOption","selectSingleOption","deselectSingleOption","newSelected","curSelected","createDoubleClickHandlers","isAddAllDisabled","isAddIndividualDisabled","isRemoveAllDisabled","isRemoveIndividualDisabled","Infinity","accumulatedSelected","enabledSourceOption","addAllSelectableSourceOptions","filteredHighlightedSourceOptions","filteredOption","filteredHighlightedSourceOption","addIndividualSourceOptions","removeAllPickedOptions","filteredHighlightedPickedOptions","removeIndividualPickedOptions","optionIndex","moveHighlightedPickedOptionUp","moveHighlightedPickedOptionDown","onError","log","SvgAdd24","DIMENSION_TYPE_ALL","DIMENSION_TYPE_INDICATOR","DIMENSION_TYPE_DATA_ELEMENT","DIMENSION_TYPE_DATA_SET","DIMENSION_TYPE_EVENT_DATA_ITEM","DIMENSION_TYPE_PROGRAM_INDICATOR","DIMENSION_TYPE_PROGRAM_DATA_ELEMENT","DIMENSION_TYPE_PROGRAM_ATTRIBUTE","DIMENSION_TYPE_DATA_ELEMENT_OPERAND","DIMENSION_TYPE_EXPRESSION_DIMENSION_ITEM","TOTALS","DETAIL","SUB_GROUP_DETAIL","SUB_GROUP_METRIC","getProgramText","getSelectProgramText","dataTypeMap","getName","getGroupLabel","defaultGroup","getItemName","getGroupEmptyLabel","getGroupLoadingLabel","subGroup","getPlaceholder","dataItemsQuery","resource","params","nameProp","filters","dataType","push","group","objectClean","fields","order","paging","indicatorsQuery","indicatorGroupsQuery","dataElementsQuery","idField","dataElementGroupsQuery","_ref7","dataElementOperandsQuery","_ref10","dataSetsQuery","_ref11","query","programsQuery","_ref12","apiFetchOptions","_ref13","dataEngine","fetchIndicators","fetchDataElements","fetchDataElementOperands","fetchDataSets","fetchDataItems","apiFetchGroups","async","indicatorGroups","dataElementGroups","dataSets","programs","_ref14","response","indicators","formatResponse","pager","_ref15","dataItems","dimensionItems","nextPage","_ref16","dataElements","_ref18","dataElementOperands","_ref19","REPORTING_RATE","DATA_SETS_CONSTANTS","SvgDimensionIndicator16","SvgDimensionEventDataItem16","SvgDimensionProgramIndicator16","getTooltipText","_dataTypes$type","expression","dataTypes","getIcon","IconDimensionIndicator16","DataElementIcon","IconDimensionDataSet16","IconDimensionEventDataItem16","IconDimensionProgramIndicator16","CalculationIcon","GenericIcon","validateExpressionMutation","createCalculationMutation","shortName","updateCalculationMutation","op","path","deleteCalculationMutation","EXPRESSION_TYPE_NUMBER","EXPRESSION_TYPE_OPERATOR","EXPRESSION_TYPE_DATA","VALID_EXPRESSION","INVALID_EXPRESSION","getOperators","parseExpressionToArray","metadata","startsWith","endsWith","_metadata$find","item","parseArrayToExpression","OfflineTooltip","disabledWhenOffline","isDisconnected","offline","useDhis2ConnectionStatus","notAllowed","canUseDOM","isWindow","elementString","isNode","node","getWindow","_target$ownerDocument","_target$ownerDocument2","ownerDocument","defaultView","isDocument","Document","isHTMLElement","isSVGElement","SVGElement","getOwnerDocument","useIsomorphicLayoutEffect","useLayoutEffect","useEvent","handler","handlerRef","useCallback","useLatestValue","dependencies","valueRef","useLazyMemo","newValue","useNodeRef","onChangeHandler","setNodeRef","usePrevious","ids","useUniqueId","createAdjustmentFn","modifier","object","adjustments","accumulator","adjustment","valueAdjustment","subtract","isKeyboardEvent","KeyboardEvent","getEventCoordinates","TouchEvent","isTouchEvent","touches","clientX","clientY","changedTouches","hasViewportRelativeCoordinates","CSS","freeze","Translate","round","Scale","scaleX","scaleY","Transform","Transition","property","duration","easing","SELECTOR","findFirstFocusableNode","matches","hiddenStyles","display","HiddenText","LiveRegion","announcement","ariaLiveType","margin","border","clip","clipPath","whiteSpace","DndMonitorContext","defaultScreenReaderInstructions","defaultAnnouncements","onDragStart","onDragOver","over","onDragEnd","onDragCancel","Accessibility","announcements","container","hiddenTextDescribedById","screenReaderInstructions","announce","setAnnouncement","useAnnouncement","liveRegionId","mounted","setMounted","listener","registerListener","Error","useDndMonitor","onDragMove","markup","createPortal","Action","noop","defaultCoordinates","getRelativeTransformOrigin","rect","eventCoordinates","sortCollisionsDesc","a","b","getIntersectionRatio","bottom","targetArea","entryArea","intersectionArea","Number","toFixed","rectIntersection","collisionRect","droppableRects","droppableContainers","collisions","droppableContainer","get","intersectionRatio","sort","getRectDelta","rect1","rect2","createRectAdjustmentFn","acc","getAdjustedRect","parseTransform","transformArray","defaultOptions","ignoreTransform","getClientRect","getBoundingClientRect","transformOrigin","getComputedStyle","parsedTransform","translateX","translateY","parseFloat","w","h","inverseTransform","getTransformAgnosticClientRect","getScrollableAncestors","limit","scrollParents","findScrollableAncestors","scrollingElement","computedStyle","overflowRegex","some","test","isScrollable","isFixed","parentNode","getFirstScrollableAncestor","firstScrollableAncestor","getScrollableElement","getScrollXCoordinate","scrollX","getScrollYCoordinate","scrollY","scrollTop","getScrollCoordinates","Direction","isDocumentScrollingElement","getScrollPosition","scrollingContainer","minScroll","dimensions","innerHeight","innerWidth","maxScroll","isTop","isLeft","isBottom","isRight","defaultThreshold","getScrollDirectionAndSpeed","scrollContainer","scrollContainerRect","acceleration","thresholdPercentage","speed","Backward","Forward","getScrollElementRect","getScrollOffsets","scrollableAncestors","scrollIntoViewIfNeeded","measure","scrollIntoView","block","inline","properties","Rect","scrollOffsets","axis","getScrollOffset","currentOffsets","scrollOffsetsDeltla","Listeners","listeners","removeAll","forEach","_this$target","eventName","_this$target2","hasExceededDistance","delta","measurement","dx","dy","EventName","KeyboardCode","defaultKeyboardCodes","start","Space","Enter","cancel","Esc","end","defaultKeyboardCoordinateGetter","currentCoordinates","code","Right","Left","Down","Up","KeyboardSensor","autoScrollEnabled","referenceCoordinates","windowListeners","bind","handleCancel","attach","handleStart","Resize","VisibilityChange","Keydown","activeNode","onStart","keyboardCodes","coordinateGetter","scrollBehavior","handleEnd","newCoordinates","coordinatesDelta","scrollDelta","scrollElementRect","clampedCoordinates","canScrollX","canScrollY","newScrollCoordinates","canScrollToNewCoordinates","scrollTo","behavior","scrollBy","handleMove","coordinates","onMove","onEnd","detach","onCancel","isDistanceConstraint","constraint","Boolean","isDelayConstraint","activators","onActivation","nativeEvent","activator","activatorNode","AbstractPointerSensor","events","listenerTarget","EventTarget","getEventListenerTarget","activated","initialCoordinates","timeoutId","documentListeners","_getEventCoordinates","handleKeydown","removeTextSelection","activationConstraint","bypassActivationConstraint","move","passive","DragStart","ContextMenu","delay","Click","capture","SelectionChange","_getEventCoordinates2","tolerance","distance","cancelable","_this$document$getSel","getSelection","removeAllRanges","PointerSensor","isPrimary","button","events$1","MouseButton","RightClick","events$2","AutoScrollActivator","TraversalOrder","useAutoScroller","Pointer","canScroll","draggingRect","interval","TreeOrder","pointerCoordinates","scrollableAncestorRects","scrollIntent","previousDelta","previousIntent","defaultScrollIntent","sign","useScrollIntent","setAutoScrollInterval","clearAutoScrollInterval","intervalRef","setInterval","clearInterval","useInterval","scrollSpeed","scrollDirection","DraggableRect","scrollContainerRef","autoScroll","sortedScrollableAncestors","reverse","JSON","stringify","setup","MeasuringStrategy","MeasuringFrequency","defaultValue","Map","useInitialValue","computeFn","previousValue","useResizeObserver","handleResize","resizeObserver","defaultMeasure","useRect","fallbackRect","measureRect","useReducer","currentRect","isConnected","newRect","mutationObserver","handleMutations","MutationObserver","useMutationObserver","records","record","contains","childList","subtree","defaultValue$1","useScrollOffsetsDelta","initialScrollOffsets","hasScrollOffsets","useWindowRect","getWindowClientRect","defaultValue$2","getMeasurableNode","firstChild","defaultSensors","sensor","defaultData","defaultMeasuringConfiguration","droppable","strategy","WhileDragging","frequency","Optimized","dragOverlay","DroppableContainersMap","_super$get","getEnabled","getNodeFor","_this$get$node$curren","_this$get","defaultPublicContext","activatorEvent","activeNodeRect","containerNodeRect","draggableNodes","nodeRef","setRef","measuringConfiguration","measureDroppableContainers","windowRect","measuringScheduled","defaultInternalContext","ariaDescribedById","dispatch","InternalContext","PublicContext","getInitialState","nodes","containers","reducer","action","DragMove","DragEnd","DragCancel","RegisterDroppable","set","SetDroppableDisabled","UnregisterDroppable","delete","RestoreFocus","previousActivatorEvent","previousActiveId","activeElement","draggableNode","focusableNode","applyModifiers","ActiveDraggableContext","Status","DndContext","memo","accessibility","sensors","collisionDetection","measuring","store","dispatchMonitorEvent","registerMonitorListener","Set","_listener$type","useDndMonitorProvider","status","setStatus","Uninitialized","isInitialized","Initialized","activeId","activeRects","initial","translated","_node$data","activeRef","activeSensor","setActiveSensor","setActivatorEvent","latestProps","draggableDescribedById","enabledDroppableContainers","config","queue","setQueue","containersRef","Always","BeforeDragging","disabledRef","useDroppableMeasuring","cachedNode","useCachedNode","activationCoordinates","autoScrollOptions","activeSensorDisablesAutoscroll","autoScrollGloballyDisabled","getAutoScrollerOptions","initialActiveNodeRect","useInitialRect","initialRect","initialized","rectDelta","useLayoutShiftScrollCompensation","layoutShiftCompensation","parentElement","sensorContext","draggingNode","draggingNodeRect","scrollAdjustedTranslate","overNode","_sensorContext$curren","setRect","handleNodeChange","useDragOverlayMeasuring","_dragOverlay$nodeRef$","_dragOverlay$rect","usesDragOverlay","nodeRectDelta","previousNode","ancestors","useScrollableAncestors","elements","firstElement","measureRects","useRects","modifiedTranslate","overlayNodeRect","scrollCoordinates","setScrollCoordinates","prevElements","handleScroll","previousElements","cleanup","scrollableElement","useScrollOffsets","scrollAdjustment","activeNodeScrollDelta","overId","firstCollision","getFirstCollision","setOver","adjustScale","_over$rect","instantiateSensor","Sensor","sensorInstance","unstable_batchedUpdates","Initializing","cancelDrop","Promise","resolve","bindActivatorToSensorInstantiator","activeDraggableNode","dndKit","activationContext","capturedBy","getSyntheticHandler","useCombineActivators","teardownFns","teardown","useSensorSetup","overContainer","publicContext","internalContext","restoreFocus","NullContext","defaultRole","ID_PREFIX","useDraggable","roleDescription","isDragging","setActivatorNodeRef","useSyntheticListeners","dataRef","useDndContext","ID_PREFIX$1","defaultResizeObserverConfig","useDroppable","resizeObserverConfig","previous","resizeObserverConnected","callbackId","resizeObserverDisabled","updateMeasurementsFor","resizeObserverTimeout","newElement","previousElement","unobserve","isOver","AnimationManager","animation","clonedChildren","setClonedChildren","setElement","previousChildren","then","cloneElement","defaultTransform","NullifiedContextProvider","baseStyles","touchAction","defaultTransition","PositionedOverlay","as","transition","scaleAdjustedTransform","defaultDropAnimationSideEffects","originalStyles","getPropertyValue","setProperty","remove","defaultDropAnimationConfiguration","keyframes","final","sideEffects","opacity","useDropAnimation","activeDraggable","measurableNode","rest","scale","finalTransform","animationKeyframes","firstKeyframe","lastKeyframe","animate","onfinish","createDefaultDropAnimation","useKey","DragOverlay","dropAnimation","dropAnimationConfig","wrapperElement","zIndex","modifiedTransform","arrayMove","array","newArray","splice","getSortedRects","items","isValidIndex","rectSortingStrategy","activeIndex","overIndex","newRects","oldRect","Context","containerId","disableTransforms","useDragOverlay","sortedRects","SortableContext","userDefinedItems","disabledProp","previousItemsRef","itemsHaveChanged","itemsEqual","normalizeDisabled","contextValue","defaultNewIndexGetter","defaultAnimateLayoutChanges","isSorting","wasDragging","newIndex","previousItems","previousContainerId","transitionProperty","disabledTransition","defaultAttributes","useSortable","animateLayoutChanges","userDefinedAttributes","localDisabled","customData","getNewIndex","localStrategy","globalDisabled","globalStrategy","_localDisabled$dragga","_localDisabled$droppa","normalizeLocalDisabled","sortable","itemsAfterCurrentSortable","setDroppableNodeRef","setDraggableNodeRef","refs","useCombinedRefs","displaceItem","shouldDisplaceDragSource","dragSourceDisplacement","shouldAnimateLayoutChanges","derivedTransform","setDerivedtransform","previousIndex","useDerivedTransform","getTransition","storedValue","useDebounceCallback","leading","storedCallback","useLatest","deps","DataElementOption","GroupSelector","_dataTypes$DIMENSION_","currentValue","displayNameProp","useDataEngine","setLoading","groups","setGroups","result","fetchGroups","DisaggregationSelector","DataElementSelector","setSearchTerm","setGroup","setSubGroup","setOptions","hasNextPageRef","searchTermRef","pageRef","filterRef","fetchData","newOptions","dimensionItemType","prevOptions","scrollToTop","debouncedFetchData","newSearchTerm","newFilter","InputField","onScroll","blue500","secondary800","DraggingItem","displayLabel","formulaItemStyles","operator","number","OPTIONS_PANEL","rectIntersectionCustom","pointerRect","pointerRectHeight","pointerRectWidth","DndKitPointerSensor","arg","hint","prim","Symbol","toPrimitive","res","TypeError","_toPrimitive","_toPropertyKey","tagName","OuterDndContext","draggingItem","setDraggingItem","useSensors","useSensor","handleDragCancel","_over$data","_over$data$current","_over$data$current$so","_over$data$current2","_over$data$current3","sourceContainerId","sourceIndex","destination","FormulaIcon","DropZone","firstElementId","overLastDropZone","draggingOver","BEFORE","AFTER","TAG_INPUT","FormulaItem","isLast","isHighlighted","hasFocus","clickTimeoutId","setClickTimeoutId","insertPosition","itemId","tagname","insertBefore","insertAfter","DragHandleIcon","dp32","LAST_DROPZONE_ID","FORMULA_BOX_ID","Placeholder","FormulaField","selectedItemId","focusItemId","setLastDropzoneRef","itemIds","Center","Operator","MathOperatorSelector","DraggableOperator","green500","LAST_POSITION","CalculationModal","calculation","onSave","onClose","onDelete","showError","useAlert","critical","mutationParams","createCalculation","isCreatingCalculation","useDataMutation","updateCalculation","isUpdatingCalculation","deleteCalculation","isDeletingCalculation","doBackendValidation","isValidating","refetch","useDataQuery","lazy","getItemIdsFromExpression","setExpressionArray","_data$dataElements","_data$dataElementOper","newIdCount","setNewIdCount","validationOutput","setValidationOutput","expressionArray","setName","showDeletePrompt","setShowDeletePrompt","isSavingCalculation","setIsSavingCalculation","setFocusItemId","setSelectedItemId","expressionStatus","isLoading","addItem","destIndex","newItem","prevArray","newFormulaItems","removeItem","sourceList","validate","_result","leftParenthesisCount","rightParenthesisCount","validateExpression","Modal","ModalTitle","ModalContent","destContainerId","moved","moveItem","updatedItems","prevSelected","_ref8","substr","ModalActions","ButtonStrip","primary","_response","uid","isNew","destructive","DataTypeSelector","_dataTypes$currentDat","currentDataType","includeCalculations","DetailSelector","MetricSelector","_dataTypes$dataType","_dataTypes$dataType2","_dataTypes$dataType3","_dataTypes$dataType4","_dataTypes$dataType5","_dataTypes$dataType6","_dataTypes$dataType7","currentGroup","onGroupChange","currentSubGroup","onSubGroupChange","setIsLoading","subGroupType","setDataType","supportsEDI","EmptySelection","infoText","IconInfo16","SourceEmptyPlaceholder","noItemsMessage","ItemSelector","selectedItems","onSelect","infoBoxMessage","onEDISave","currentCalculation","setCurrentCalculation","setFilter","debouncedSearchTerm","useDebounce","debouncedValue","setDebouncedValue","fetchItems","_result$dimensionItem","metric","every","newOption","selectedItem","useDidUpdateEffect","inputs","didMountRef","getItemType","_find","matchingItem","IconAdd24","TRANSFER_HEIGHT","TRANSFER_OPTIONS_WIDTH","TRANSFER_SELECTED_WIDTH","_props$access","tooltipText","onEditClick","access","write","DataDimension","selectedDimensions","onCalculationSave","serverVersion","useConfig","major","minor","patch","dimensionId","DIMENSION_ID_DATA","Function","text","SvgLock16","DynamicDimensionIcon","version","stroke","strokeWidth","strokeLinecap","strokeLinejoin","SvgMore16","OptionsButton","IconMore16","recommendedIcon","secondary300","cursor","RecommendedIcon","isRecommended","labelWrapper","userSelect","wordBreak","fontSize","textDeactivated","minHeight","alignItems","clickable","secondary100","fontWeight","fixedDimensionIcon","paddingLeft","paddingBottom","dynamicDimensionIcon","paddingRight","iconWrapper","flexDirection","optionsWrapper","optionsButton","justifyContent","background","outline","DimensionItem","mouseOver","onOptionsClick","getPredefinedDimensionProp","isDeactivated","isSelected","isLocked","innerRef","getDimensionIcon","Label","getDimensionType","itemStyle","onMouseLeave","onMouseExit","onLabelClick","DIMENSION_PROP_NO_ITEMS","IconLock16","DimensionList","dimension","filterText","disabledDimension","recommendedDimension","lockedDimension","selectedIds","onDimensionClick","onDimensionOptionsClick","onDimensionDragStart","nameContainsFilterText","renderItem","fixedDimensions","getDimensionItemsByFilter","getFixedDimensions","fixedDim","nonPredefinedDimensions","getPredefinedDimensions","predefDim","grey050","DimensionsPanel","onFilterTextChange","onClearFilter","Leaves","Spacer","ArrowDown","Toggle","onOpen","Node","component","hasLeaves","showArrow","showSpacer","UNIT_ID_PATTERN","orgUnitPathRegExp","orgUnitPathPropType","propValue","compName","location","propFullName","ErrorMessage","SingleSelectionLabel","DisabledSelectionLabel","onToggleOpen","IconEmpty","IconFolderClosed","IconFolderOpen","IconSingle","hasChildren","IconizedCheckbox","checkboxLabel","LabelContainer","teal200","disableSelection","fullPath","hasSelectedDescendants","rootId","singleSelection","pathIndex","createNewSelected","payload","loadingSpinnerStyles","LoadingSpinner","extrasmall","isPathIncluded","includedPaths","includedPath","ORG_DATA_QUERY","orgUnit","OrganisationUnitNodeChildren","autoExpandLoadingError","isUserDataViewFallback","onChildrenLoaded","onCollapse","onExpand","parentPath","renderNodeLabel","suppressAlphabeticalSorting","OrganisationUnitNode","orgChildren","onComplete","onCompleteCalledRef","called","localeCompare","useOrgChildren","displayChildren","filteredChildren","getFilteredChildren","childPath","orgData","useOrgData","strippedPath","leftTrimToRootId","replace","hasDescendantSelectedPaths","selectedPath","isNotPath","isSubPath","errorMessage","autoExpand","openedOnceDueToError","setOpenedOnce","useOpenState","curPath","labelContent","showPlaceholder","showChildNodes","RootError","ERRORMESSAGE","nsSeparator","RootLoading","extractAllPathsFromPath","segments","withSubPaths","segment","arr","useExpanded","initiallyExpanded","expandedControlled","handleExpandControlled","handleCollapseControlled","isControlled","allInitiallyExpandedPaths","all","getAllExpandedPaths","setExpanded","handleExpand","handleCollapse","updatedExpanded","createExpandHandlers","useRootOrgData","createRootQuery","rootOrgUnits","nodesWithDisplayName","fromEntries","patchMissingDisplayName","OrganisationUnitTree","roots","forceReload","rootIds","filterRootIds","reloadId","setReloadId","useForceReload","prevReloadId","setPrevReloadId","warn","rootNode","SvgWarningFilled16","orgUnitLevelsQuery","orgUnitGroupsQuery","formatList","Intl","ListFormat","language","format","LEVEL_ID_PREFIX","GROUP_ID_PREFIX","USER_ORG_UNIT","USER_ORG_UNIT_CHILDREN","USER_ORG_UNIT_GRANDCHILDREN","hasGroupPrefix","hasLevelPrefix","removePrefix","stripGroupPrefix","stripLevelPrefix","ouIdHelper","addLevelPrefix","addGroupPrefix","dp48","red600","DYNAMIC_ORG_UNITS","OrgUnitDimension","hideGroupSelect","hideLevelSelect","hideUserOrgUnits","ouLevels","setOuLevels","ouGroups","setOuGroups","onSelectItems","DIMENSION_ID_ORGUNIT","orgUnitLevels","organisationUnitLevels","apiFetchOrganisationUnitLevels","level","doFetchOuLevels","orgUnitGroups","organisationUnitGroups","apiFetchOrganisationUnitGroups","doFetchOuGroups","onLevelChange","ou","substring","lastIndexOf","IconWarningFilled16","getSummary","numberOfOrgUnits","numberOfLevels","numberOfGroups","userOrgUnits","parts","defaultValue_plural","keySeparator","commaSeparatedListOfOrganisationUnits","clearSelection","MakeIntrinsicClass","toStringTag","getOwnPropertyNames","r","getOwnPropertyDescriptor","DefineIntrinsic","o","GetIntrinsic","n","s","l","m","c","u","T","p","f","I","S","g","D","G","C","O","E","M","R","F","Y","WeakMap","P","for","globalThis","Z","B","create","N","HasSlot","GetSlot","SetSlot","j","$","k","U","A","L","W","q","H","V","z","J","K","X","Q","ee","te","re","DateTimeFormat","oe","ne","ae","ie","se","le","trunc","de","me","isFinite","ce","he","ue","MAX_SAFE_INTEGER","Te","pe","fe","Reflect","ye","ownKeys","Ie","Se","ge","we","De","Ge","ve","Ce","Oe","be","Ee","Me","Re","Fe","Ye","Pe","Ze","Be","Ne","je","isZero","GetMethod","Call","IsObject","ToNumber","ToIntegerOrInfinity","IsIntegralNumber","ToString","ToIntegerWithTruncation","RangeError","ToPositiveIntegerWithTruncation","ToIntegerIfIntegral","divmod","quotient","remainder","isNegativeJSBI","signJSBI","$e","ke","Ue","Ae","Le","xe","We","qe","getIntlDateTimeFormatEnUsForTimeZone","timeZone","hour12","era","year","month","day","hour","minute","second","ToObject","CopyDataProperties","is","propertyIsEnumerable","IsTemporalInstant","IsTemporalTimeZone","IsTemporalCalendar","IsTemporalDuration","IsTemporalDate","IsTemporalTime","IsTemporalDateTime","IsTemporalYearMonth","IsTemporalMonthDay","IsTemporalZonedDateTime","RejectTemporalLikeObject","calendar","MaybeFormatCalendarAnnotation","FormatCalendarAnnotation","ToTemporalCalendarIdentifier","ParseISODateTime","exec","matchAll","RejectDateTime","hasTime","millisecond","microsecond","nanosecond","ianaName","ParseTemporalYearMonthString","referenceISODay","ParseTemporalMonthDayString","referenceISOYear","RegulateISODate","RejectISODate","ConstrainISODate","RegulateTime","RejectTime","ConstrainToRange","ToTemporalDurationRecord","RejectDuration","years","months","weeks","days","hours","minutes","seconds","milliseconds","microseconds","nanoseconds","ToTemporalOverflow","GetOption","ToTemporalDisambiguation","ToTemporalRoundingMode","ToTemporalOffset","ToCalendarNameOption","ToTemporalRoundingIncrement","roundingIncrement","ValidateTemporalRoundingIncrement","ToFractionalSecondDigits","fractionalSecondDigits","ToSecondsStringPrecisionRecord","precision","unit","increment","He","GetTemporalUnit","has","ToRelativeTemporalObject","relativeTo","TemporalDateTimeToDate","GetTemporalCalendarSlotValueWithISODefault","CalendarFields","PrepareTemporalFields","InterpretTemporalDateTimeFields","ToTemporalTimeZoneSlotValue","IsBuiltinCalendar","ASCIILowercase","CreateTemporalDate","CreateTemporalZonedDateTime","InterpretISODateTimeOffset","ParseTimeZoneOffsetString","DefaultTemporalLargestUnit","LargerOfTwoTemporalUnits","emptySourceErrorMessage","ToTemporalTimeRecord","ToTemporalDate","GetPlainDateTimeFor","CalendarDateFromFields","ToTemporalDateTime","CreateTemporalDateTime","ToTemporalDuration","ToTemporalInstant","BalanceISODateTime","GetUTCEpochNanoseconds","ParseTemporalInstant","ToTemporalMonthDay","ToTemporalCalendarSlotValue","monthCode","CalendarMonthDayFromFields","CreateTemporalMonthDay","ToTemporalTime","ToTemporalYearMonth","CalendarYearMonthFromFields","CreateTemporalYearMonth","GetInstantFor","GetPossibleInstantsFor","GetOffsetNanosecondsFor","RoundNumberToIncrement","FormatTimeZoneOffsetString","DisambiguatePossibleInstants","ToTemporalZonedDateTime","CreateTemporalDateSlots","RejectDateRange","CreateTemporalDateTimeSlots","RejectDateTimeRange","CreateTemporalMonthDaySlots","CreateTemporalYearMonthSlots","RejectToRange","CreateTemporalZonedDateTimeSlots","ValidateEpochNanoseconds","CalendarMergeFields","CalendarDateAdd","CalendarDateUntil","CalendarYear","CalendarMonth","CalendarMonthCode","CalendarDay","CalendarEra","CalendarEraYear","CalendarDayOfWeek","CalendarDayOfYear","CalendarWeekOfYear","CalendarYearOfWeek","CalendarDaysInWeek","CalendarDaysInMonth","CalendarDaysInYear","CalendarMonthsInYear","CalendarInLeapYear","ToTemporalCalendarObject","CalendarEquals","ThrowIfCalendarsNotEqual","ConsolidateCalendars","GetCanonicalTimeZoneIdentifier","ParseTemporalTimeZone","ToTemporalTimeZoneIdentifier","ToTemporalTimeZoneObject","TimeZoneEquals","TemporalDateTimeToTime","GetOffsetStringFor","GetISOPartsFromEpoch","AddDateTime","ISOYearString","ISODateTimePartString","FormatSecondsStringPart","padStart","TemporalInstantToString","FormatISOTimeZoneOffsetString","TemporalDurationToString","formatNumber","DurationSign","roundingMode","RoundDuration","TotalDurationNanoseconds","unshift","TemporalDateToString","TemporalDateTimeToString","RoundISODateTime","TemporalMonthDayToString","TemporalYearMonthToString","TemporalZonedDateTimeToString","RoundInstant","IsTimeZoneOffsetString","ze","resolvedOptions","GetNamedTimeZoneOffsetNanoseconds","GetNamedTimeZoneDateTimeParts","Date","setUTCHours","setUTCFullYear","getTime","epochMilliseconds","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","toUpperCase","maxJSBI","afterLatestPossibleTzdbRuleChange","Ve","GetNamedTimeZoneNextTransition","bisect","GetNamedTimeZonePreviousTransition","LeapYear","ISODaysInMonth","standard","leapyear","DayOfWeek","DayOfYear","WeekOfYear","week","BalanceISOYearMonth","BalanceISODate","deltaDays","BalanceTime","NonNegativeBigIntDivmod","NanosecondsToDays","dayLengthNs","DifferenceISODateTime","AddZonedDateTime","BalanceDuration","BalancePossiblyInfiniteDuration","UnbalanceDurationRelative","largestUnit","MoveRelativeDate","CalculateOffsetShift","CreateNegatedTemporalDuration","DifferenceISODate","CompareISODate","AddISODate","DifferenceTime","DifferenceInstant","CopyOptions","DifferenceZonedDateTime","GetDifferenceSettings","smallestUnit","DifferenceTemporalInstant","DifferenceTemporalPlainDate","DifferenceTemporalPlainDateTime","DifferenceTemporalPlainTime","DifferenceTemporalPlainYearMonth","DifferenceTemporalZonedDateTime","AdjustRoundedDurationDays","AddTime","AddDuration","AddInstant","AddDurationToOrSubtractDurationFromDuration","GetOptionsObject","AddDurationToOrSubtractDurationFromInstant","AddDurationToOrSubtractDurationFromPlainDateTime","AddDurationToOrSubtractDurationFromPlainTime","AddDurationToOrSubtractDurationFromPlainYearMonth","AddDurationToOrSubtractDurationFromZonedDateTime","_e","RoundTime","DaysUntil","MoveRelativeZonedDateTime","BigIntDivideToNumber","ComparisonResult","BigIntFloorDiv","ToBigIntExternal","ToBigInt","BigInt","now","DefaultTimeZone","CreateOnePropObject","charCodeAt","fromCharCode","Je","Ke","Xe","Qe","et","tt","rt","ot","nt","at","it","descriptor","st","lt","dt","mt","getPropLazy","DateTimeFormatImpl","locale","dateAmend","yearMonthAmend","monthDayAmend","timeAmend","datetimeAmend","instantAmend","supportedLocalesOf","ct","instant","formatter","extractOverrides","_len2","_key2","formatRange","isTemporalObject","sameTemporalType","formatToParts","_len3","_key3","formatRangeToParts","ht","amend","weekday","timeZoneName","dateStyle","hasTimeOptions","dayPeriod","timeStyle","hasDateOptions","__proto__","Instant","epochSeconds","epochMicroseconds","epochNanoseconds","until","since","equals","toJSON","toLocaleString","valueOf","toZonedDateTime","toZonedDateTimeISO","fromEpochSeconds","fromEpochMilliseconds","fromEpochMicroseconds","fromEpochNanoseconds","compare","Tt","pt","ft","yt","It","St","gt","wt","Dt","Gt","vt","Ct","Ot","Calendar","dateFromFields","yearMonthFromFields","monthDayFromFields","mergeFields","fieldKeysToIgnore","dateAdd","dateUntil","eraYear","dayOfWeek","dayOfYear","weekOfYear","yearOfWeek","daysInWeek","daysInMonth","daysInYear","monthsInYear","inLeapYear","monthCodeNumberPart","buildMonthCode","resolveNonLunisolarMonth","iso8601","OneObjectCache","calls","hits","misses","performance","MAX_CACHE_ENTRIES","report","setObject","objectMap","getCacheForObject","toUtcIsoDateString","isoYear","isoMonth","isoDay","simpleDateDiff","HelperBase","eraLength","hasEra","erasBeginMidYear","getFormatter","isoToCalendarDate","monthExtra","normalize","reviseIntlEra","checkIcuBugs","adjustCalendarDate","validateCalendarDate","constantEra","calendarType","regulateMonthDayNaive","maximumMonthLength","calendarToIsoDate","estimateIsoDate","calculateSameMonthResult","addDaysIso","minimumMonthLength","compareCalendarDates","temporalToCalendarDate","regulateDate","addDaysCalendar","addMonthsCalendar","daysInPreviousMonth","addCalendar","untilCalendar","calendarDaysUntil","startOfCalendarYear","startOfCalendarMonth","isoDaysUntil","HebrewHelper","Tishri","leap","regular","Heshvan","Kislev","Tevet","Shevat","Adar","Nisan","Iyar","Sivan","Tamuz","Av","Elul","minMaxMonthLength","getMonthCode","IslamicBaseHelper","DAYS_PER_ISLAMIC_YEAR","DAYS_PER_ISO_YEAR","IslamicHelper","IslamicUmalquraHelper","IslamicTblaHelper","IslamicCivilHelper","IslamicRgsaHelper","IslamicCcHelper","PersianHelper","IndianHelper","nextYear","vulnerableToBceBug","toLocaleDateString","isGregorianLeapYear","getMonthInfo","GregorianBaseHelper","v8IsVulnerableToJulianBug","calendarIsVulnerableToJulianBug","eras","anchorEra","reverseOf","isAnchor","anchorEpoch","hasYearZero","isoEpoch","genericName","completeEraYear","checkField","eraFromYear","OrthodoxBaseHelper","EthioaaHelper","CopticHelper","EthiopicHelper","RocHelper","BuddhistHelper","GregoryHelper","JapaneseHelper","ChineseBaseHelper","getMonthList","calendarYear","getCalendarDate","setUTCDate","calendarMonthString","calendarDay","calendarYearToVerify","monthIndex","ChineseHelper","DangiHelper","NonIsoCalendar","helper","PlainDate","calendarId","with","withCalendar","toPlainDateTime","plainTime","toPlainYearMonth","toPlainMonthDay","getISOFields","getCalendar","PlainDateTime","withPlainTime","withPlainDate","toPlainDate","toPlainTime","isoHour","isoMicrosecond","isoMillisecond","isoMinute","isoNanosecond","isoSecond","Duration","blank","negated","DurationFormat","bt","PlainMonthDay","plainDateTime","plainDateTimeISO","zonedDateTime","Et","plainDate","plainDateISO","plainTimeISO","timeZoneId","zonedDateTimeISO","Mt","TemporalTimeToString","PlainTime","TimeZone","getOffsetNanosecondsFor","getOffsetStringFor","getPlainDateTimeFor","getInstantFor","getPossibleInstantsFor","getNextTransition","getPreviousTransition","Rt","PlainYearMonth","Ft","Yt","ZonedDateTime","dateTime","hoursInDay","offsetNanoseconds","withTimeZone","startOfDay","toInstant","getTimeZone","Pt","Now","Zt","dhis2CalendarsMap","ethiopian","coptic","gregorian","islamic","nepali","thai","persian","monthNames","dayNamesShort","numbers","monthNamesShort","dayNames","dayNamesMin","NEPALI_CALENDAR_DATA","NepaliCalendar","Temporal","date","_isoToNepali2","_isoToNepali","_isoToNepali3","nepaliDay","_nepaliToIso","supportedNepaliYears","firstSupportedNepaliYear","lastSupportedNepaliYear","nepaliYear","nepaliMonth","gregorianDayOfYear","monthCounter","gregorianYear","isoDate","gregorianDate","dayOfFirstJanInPaush","daysSinceJanFirstToEndOfNepaliMonth","_NEPALI_CALENDAR_DATA","customCalendars","locales","calendarLocalisations","defaultLocale","isCustomCalendar","padWithZeroes","formatYyyyMmDD","dayType","_date$eraYear","capitalize","firstLetter","toLocaleUpperCase","getCustomCalendarIfExists","_customCalendars","customCalendar","numberingSystems","getCustomCalendarLocale","customLocalisations","localiseYear","zdt","localeOptions","localiseDateLabel","selectedDateZdt","localiseWeekLabel","_customLocale$numbers","isCustom","customLocale","numberingSystem","localiseMonth","localiseWeekDayLabel","customDayString","weekDayFormat","err","getMonthlyPeriods","periodType","currentMonth","getStartingMonth","monthToAdd","getMonthsToAdd","needsExtraMonth","nextMonth","ignoreMonth","buildValue","iso","buildLabel","buildStartAndEndDate","_getMonthInfo","_getMonthInfo2","buildLabelForCustomCalendar","withYearFormat","monthOnlyFormat","trim","showYear","localisationHelpers","monthNumbers","JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC","monthString","_getMonthInfo$value","_getMonthInfo3","endDate","startDate","Days","getWeeklyPeriods","startingDay","startingDayToUse","getStartingDay","getStartingDate","daysToAdd","endofWeek","weekIndex","nextWeek","fourthOfFirstMonth","dayDiff","DaysKeys","nextDay","buildStartAndEndDates","getMonth","yearType","monthInfo","currentYearDate","dateToDisplay","nextYearDate","monthValueKeys","isFinancialYear","_dhis2CalendarsMap$re","yearString","requestedCalendar","requestedLocale","getValidLocale","yearsCount","currentYear","dateToAdd","getYearlyPeriods","getDailyPeriods","_Intl","_Intl$DateTimeFormat","_Intl$DateTimeFormat$","_Intl$DateTimeFormat$2","_Intl$DateTimeFormat$3","_dhis2CalendarsMap","calendarToUse","DAILY","WEEKLY","WEEKLYWED","WEEKLYTHU","WEEKLYSAT","WEEKLYSUN","BIWEEKLY","MONTHLY","BIMONTHLY","QUARTERLY","SIXMONTHLY","SIXMONTHLYAPR","YEARLY","FYNOV","FYOCT","FYJUL","FYAPR","filterPeriodTypesById","excludedPeriodTypes","period","getPeriods","fnFilter","periodSettings","isFilter","filterFuturePeriods","isReverse","reversePeriods","getNowInCalendar","startDay","periods","generateFixedPeriods","getDailyPeriodType","getWeeklyPeriodType","weekObj","getBiWeeklyPeriodType","getMonthlyPeriodType","getBiMonthlyPeriodType","getQuarterlyPeriodType","getSixMonthlyPeriodType","getSixMonthlyAprilPeriodType","getYearlyPeriodType","getFinancialOctoberPeriodType","getFinancialNovemberPeriodType","getFinancialJulyPeriodType","getFinancialAprilPeriodType","getOptions","getFixedPeriodsOptionsById","getFixedPeriodsOptions","FixedPeriodFilter","allowedPeriodTypes","currentPeriodType","onSelectPeriodType","onSelectYear","onlyAllowedTypeIsSelected","getRelativePeriodsOptionsById","RelativePeriodFilter","currentFilter","onSelectFilter","PeriodTransfer","initialSelectedPeriods","periodsSettings","defaultRelativePeriodType","defaultFixedPeriodType","defaultFixedPeriodYear","fixedPeriodConfig","allPeriods","setAllPeriods","selectedPeriods","setSelectedPeriods","isRelative","setIsRelative","relativeFilter","setRelativeFilter","fixedFilter","setFixedFilter","onIsRelativeClick","onSelectFixedPeriods","formattedItems","PeriodIcon","userSettingsQuery","userSettings","PeriodDimension","systemInfo","keyUiLocale","DIMENSION_ID_PERIOD","SvgEdit16","secondary900","secondary700","renderContent","IconEdit16","ar_EGTranslations","orTranslations","siTranslations","uz_CyrlTranslations","SvgDimensionData16","SvgDimensionOrgUnit16","AssignedCategoriesIcon","iconName","IconDimensionData16","IconClock16","IconDimensionOrgUnit16","propName","requiredIfFactory","condition","propType","componentName","AddRequired","Required","CheckboxField","CheckboxFieldFF","meta","showValidStatus","hasError","isValid","getValidationText","createFocusHandler","createToggleChangeHandler","createBlurHandler","inputPropType","metaPropType","PRIMITIVE_TYPES","createChangeHandler","InputFieldFF","showLoadingStatus","RadioRegular","cy","RadioDense","Radio","RadioFieldFF","createSelectChangeHandler","SingleSelectFieldFF","submitError","touched","invalid","validating","ko_KRTranslations","isEmpty","hasValueMessage","hasValue","SvgApps16","SvgArrowRight16","SvgCheckmarkCircle16","SvgChevronDown24","SvgChevronLeft16","SvgChevronRight16","SvgChevronUp24","SvgClock16","SvgCopy16","SvgDimensionDataSet16","SvgError16","SvgInfo16","SvgLaunch16","SvgTable16","SvgTable24","SvgVisualizationArea16","SvgVisualizationArea24","SvgVisualizationAreaStacked16","SvgVisualizationAreaStacked24","SvgVisualizationBar16","SvgVisualizationBar24","SvgVisualizationBarStacked16","SvgVisualizationBarStacked24","SvgVisualizationColumn16","SvgVisualizationColumn24","SvgVisualizationColumnMulti16","SvgVisualizationColumnMulti24","SvgVisualizationColumnStacked16","SvgVisualizationColumnStacked24","SvgVisualizationGauge16","SvgVisualizationGauge24","SvgVisualizationLine16","SvgVisualizationLine24","SvgVisualizationLineMulti16","SvgVisualizationLineMulti24","SvgVisualizationLinelist16","SvgVisualizationLinelist24","SvgVisualizationPie16","SvgVisualizationPie24","SvgVisualizationRadar16","SvgVisualizationRadar24","SvgVisualizationScatter16","SvgVisualizationScatter24","SvgVisualizationSingleValue16","SvgVisualizationSingleValue24","PopStateEventType","createHashHistory","getUrlBasedHistory","globalHistory","pathname","search","hash","parsePath","createLocation","usr","base","href","getAttribute","url","hashIndex","createPath","warning$1","charAt","cond","getHistoryState","random","parsedPath","searchIndex","getLocation","createHref","validateLocation","v5Compat","history","Pop","handlePop","listen","Push","historyState","pushState","Replace","replaceState","go","ResultType","matchRoutes","routes","locationArg","basename","stripBasename","branches","flattenRoutes","score","siblings","compareIndexes","routesMeta","childrenIndex","rankRouteBranches","matchRouteBranch","parentsMeta","route","relativePath","caseSensitive","invariant","joinPaths","computeScore","paramRe","dynamicSegmentValue","indexRouteValue","emptySegmentValue","staticSegmentValue","splatPenalty","isSplat","initialScore","branch","matchedParams","matchedPathname","remainingPathname","matchPath","pathnameBase","normalizePathname","pattern","matcher","paramNames","regexpSource","paramName","compilePath","captureGroups","splatValue","decodeURIComponent","safelyDecodeURIComponent","startIndex","nextChar","resolveTo","toArg","routePathnames","locationPathname","isPathRelative","isEmptyPath","toPathname","routePathnameIndex","toSegments","shift","fromPathname","pop","resolvePathname","normalizeSearch","normalizeHash","resolvePath","hasExplicitTrailingSlash","hasCurrentTrailingSlash","paths","AbortedDeferredError","ErrorResponse","statusText","isRouteErrorResponse","param","allowEmptyString","_isArray2","default","_lodash2","_lodash4","size","require","isEmptyFn","_isEmpty2","_isEmpty","imul","clz32","iterator","setPrototypeOf","getPrototypeOf","construct","sham","Proxy","ReferenceError","next","done","return","__kMaxLength","__toStringBasePowerOfTwo","__toStringGeneric","__clz30","__digit","__imul","__setDigit","__halfDigit","__setHalfDigit","__unsignedDigit","__zero","__isOneDigitInt","__oneDigit","__fromDouble","__fromString","SyntaxError","__toPrimitive","__decideRounding","__kBitConversionInts","__kBitConversionDouble","__copy","__absoluteSubOne","__trim","__absoluteAddOne","unaryMinus","__kMaxLengthBits","__initializeDigits","multiply","__clzmsd","__multiplyAccumulate","__absoluteCompare","__absoluteDivSmall","__absoluteDivLarge","__absoluteModSmall","__absoluteAdd","__absoluteSub","__rightShiftByAbsolute","__leftShiftByAbsolute","__compareToBigInt","equal","__absoluteAnd","__absoluteOr","__absoluteAndNot","__absoluteXor","__truncateToNBits","__truncateAndSubFromPowerOfTwo","__toNumeric","__isBigInt","__compare","EQ","__equalToNumber","asIntN","DataViewGetBigUint64","getUint32","DataViewSetBigUint64","asUintN","setUint32","__isWhitespace","__kMaxBitsPerChar","__kBitsPerCharTableMultiplier","__kBitsPerCharTableShift","__fillFromParts","__inplaceMultiplyAdd","__kConversionChars","exponentiate","__unequalSign","__absoluteGreater","__absoluteLess","__compareToDouble","__comparisonResultToBool","__compareToNumber","__setDigitGrow","__halfDigitLength","__clz15","__specialLeftShift","__internalMultiplyAdd","__inplaceSub","__inplaceAdd","__inplaceRightShift","__toShiftAmount","__rightShiftByMaximum","__kBitConversionBuffer","ArrayBuffer","Float64Array","Int32Array","LN2","funcTag","genTag","mapTag","promiseTag","setTag","weakMapTag","dataViewTag","reIsHostCtor","freeGlobal","global","freeSelf","self","freeExports","exports","nodeType","freeModule","module","freeProcess","process","nodeUtil","binding","nodeIsMap","isMap","funcProto","objectProto","coreJsData","maskSrcKey","IE_PROTO","funcToString","objectToString","reIsNative","DataView","getNative","dataViewCtorString","toSource","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","baseIsNative","isObject","isFunction","isHostObject","getValue","getTag","Ctor","ctorString","isObjectLike","nodeIsSet","isSet","excluded","sourceKeys","charCodeOfDot","reEscapeChar","rePropName","keysCache","keysRegex","toPath","string","quote","subString","stringToPath","getIn","complexKey","setInRecursor","destroyArrays","_extends2","_result2","numKeys","_objectWithoutPropertiesLoose","numericKey","_result3","_array","setIn","FORM_ERROR","ARRAY_ERROR","publishFieldState","formState","field","errors","initialValues","lastSubmittedValues","submitErrors","submitFailed","submitSucceeded","submitting","blur","modified","modifiedSinceLastSubmit","visited","pristine","isEqual","dirty","dirtySinceLastSubmit","fieldSubscriptionItems","shallowEqual","keysA","keysB","bHasOwnProperty","idx","subscriptionFilter","dest","src","subscription","shallowEqualKeys","different","shallowEqualKeys$1","filterFieldState","previousState","force","formSubscriptionItems","filterFormState","memoize","lastArgs","lastResult","isPromise","tripleEquals","hasAnyError","notifySubscriber","subscriber","lastState","notification","notify","notified","createForm","debug","destroyOnUnregister","keepDirtyOnReinitialize","mutators","onSubmit","validateOnBlur","subscribers","fieldSubscribers","asyncErrors","resetWhileSubmitting","lastFormState","inBatch","validationPaused","validationBlocked","preventNotificationWhileValidationPaused","nextAsyncValidationKey","asyncValidationPromises","changeValue","mutate","after","renameField","_extends3","api","lastFieldState","getMutatorApi","mutatableState","returnValue","resetFieldState","runValidation","notifyFieldListeners","notifyFormListeners","mutatorsApi","getValidators","validators","validator","fieldChanged","safeFields","fieldKeys","limitedFieldLevelValidation","changedField","validateFields","recordLevelErrors","asyncRecordLevelErrors","fieldLevelErrors","promises","setErrors","errorsOrPromise","runRecordLevelValidation","wasAsync","setError","errorOrPromise","promise","runFieldLevelValidation","hasAsyncValidations","asyncValidationPromiseKey","processErrors","afterAsync","merged","forEachError","recordLevelError","errorFromParent","hasFieldLevelValidation","fieldLevelError","existing","copy","afterPromise","notifyField","fieldState","fieldSubscriber","markAllFieldsTouched","calculateNextFormState","safeFieldKeys","foundDirty","dirtyFields","dirtyFieldsSinceLastSubmit","nonNullLastSubmittedValues","nextFormState","hasSubmitErrors","hasValidationErrors","convertToExternalFormState","_safeFieldKeys$reduce","notifying","scheduleNotification","resetModifiedAfterSubmit","batch","getFieldState","getRegisteredFields","getState","initialize","savedDirtyValues","isValidationPaused","pauseValidation","preventNotification","registerField","fieldConfig","afterSubmit","beforeSubmit","haveValidator","silent","getValidator","noValueInFormState","initialValue","validatorRemoved","hasFieldSubscribers","lastOne","reset","restart","resumeValidation","setConfig","submit","asyncValidationPromisesKeys","resolvePromise","completeCalled","complete","subscribe","memoized","_excluded$3","renderComponent","lazyProps","useWhenValueChanges","React__default","isSyntheticEvent","candidate","ReactFinalFormContext","addLazyState","addLazyFormState","addLazyFieldMetaState","_excluded$2","versions","all$1","ReactFinalForm","_ref$decorators","decorators","alternateFormApi","form","initialValuesEqual","_ref$subscription","init","useConstant","_React$useState","initialState","stateRef","unsubscriptions","decorator","unsubscribe","renderProps","eventOrValues","handleSubmit","__versions","useForm","useFormState","_temp","firstRender","onChangeRef","newState","lazyState","isReactNative","navigator","product","valueProp","_detypedEvent$target","getSelectedValues","useConstantCallback","defaultFormat","defaultParse","defaultIsEqual","useField","_config","allowNull","_config$format","formatOnBlur","multiple","_config$parse","parse","_config$subscription","_value","configRef","register","_configRef$current","_configRef$current$fo","formatted","_excluded","HashRouter","historyRef","Router","navigationType","Link","relative","reloadDocument","preventScrollReset","useHref","internalOnClick","replaceProp","navigate","useNavigate","useLocation","useResolvedPath","isModifiedEvent","shouldProcessLinkClick","useLinkClickHandler","useDebugValue","checkIfSnapshotChanged","inst","latestGetSnapshot","getSnapshot","prevValue","nextValue","DataStaticRouterContext","DataRouterContext","DataRouterStateContext","NavigationContext","LocationContext","RouteContext","outlet","RouteErrorContext","useInRouterContext","joinedPathname","getPathContributingMatches","routePathnamesJson","useParams","routeMatch","_temp2","DefaultErrorElement","_state$errors","useDataRouterState","DataRouterHook","UseRouteError","thisRoute","useRouteError","stack","lightgrey","preStyles","codeStyles","fontStyle","RenderErrorBoundary","getDerivedStateFromError","getDerivedStateFromProps","componentDidCatch","errorInfo","RenderedRoute","routeContext","dataStaticRouterContext","errorElement","_deepestRenderedBoundaryId","_renderMatches","parentMatches","dataRouterState","renderedMatches","errorIndex","reduceRight","getChildren","hookName","Route","_props","basenameProp","locationProp","static","staticProp","navigationContext","trailingPathname","Routes","dataRouterContext","dataRouterStateContext","parentParams","parentPathnameBase","locationFromContext","_parsedLocationArg$pa","parsedLocationArg","useRoutes","router","createRoutesFromChildren","AwaitRenderStatus","treePath","loader","hasErrorBoundary","shouldRevalidate","handle","ReactRouter6Adapter","UNSAFE_NavigationContext","location2","_a","getEncodedValue","str","decodeNumber","numStr","decodeString","StringParam","encode","decode","Serialize","NumberParam","num","encodeURIComponent","encodeQueryParams","paramConfigMap","encodedQuery","decodedValue","decodedParamCache","paramsMap","registeredParams","stringifiedValue","stringified","decoded","cachedParam","registerParams","currValue","unregisterParams","clear","extendParamConfigForKeys","baseParamConfigMap","paramKeys","inheritedParams","defaultParam","hasInherit","paramKey","objA","objB","equalMap","_b","getLatestDecodedValues","parsedParams","decodedValues","paramConfig","encodedValue","oldDecodedValue","makeStableGetLatestDecodedValues","prevDecodedValues","cachedSearchString","cachedUrlNameMapString","cachedSearchStringToObjectFn","cachedParsedQuery","memoSearchStringToObject","searchStringToObject","searchString","urlNameMapStr","newParsedQuery","urlNameMap","part","deserializeUrlNameMap","oldValue","mergeOptions","parentOptions","currOptions","providerlessContextValue","adapter","URLSearchParams","parsed","objectToSearchString","encodedParams","append","updateType","includeKnownParams","includeAllParams","removeDefaultsFromUrl","enableBatching","skipUpdateWhenNoChange","QueryParamContext","QueryParamProviderInner","parentAdapter","QueryParamProvider","Adapter","adapter2","getUpdatedSearchString","changes","currentSearchString","encodedChanges","changesToUse","newSearchString","encodedValues","removeDefaults","newEncodedValues","urlName","applyUrlNames","immediateTask","task","timeoutTask","updateQueue","useQueryParams","arg1","arg2","contextOptions","useQueryParamContext","stableGetLatest","paramConfigMapWithInherit","parseArguments","mergedOptions","_c","hookKeys","knownKeys","convertInheritedParamStringsToParams","urlNameMapParts","serializeUrlNameMap","paramKeyString","callbackDependencies","callbackDependenciesRef","setQuery","paramConfigMap2","options2","scheduleTask","updates","initialSearchString","newLocation","updateSearchString","enqueueUpdate","useQueryParams_default","useQueryParam","latestValues","newValueFromLatest"],"sourceRoot":""}