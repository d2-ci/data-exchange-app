{"version":3,"file":"static/js/app.4f78b86e.chunk.js","mappings":"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","sources":["D2App/context/app-context/app-context.js","D2App/components/common/loader/loader.js","webpack://@dhis2/app-shell/./src/D2App/components/common/warning/warning.module.css?1858","D2App/components/common/warning/warning.js","D2App/context/app-context/app-provider.js","D2App/context/app-context/use-app-context.js","D2App/context/exchange-context/exchange-context.js","D2App/use-context-selection/use-context-selections.js","webpack://@dhis2/app-shell/./src/D2App/context/exchange-context/exchange-provider.module.css?332c","D2App/context/exchange-context/exchange-provider.js","D2App/context/exchange-context/use-exchange-context.js","D2App/context/user-context/user-context.js","D2App/context/user-context/user-provider.js","D2App/context/user-context/use-user-context.js","D2App/context/attribute-context/attribute-context.js","D2App/context/attribute-context/attribute-provider.js","D2App/context/feature-toggle-context/feature-toggle-context.js","D2App/context/feature-toggle-context/feature-toggle-provider.js","D2App/context/feature-toggle-context/use-feature-toggle-context.js","D2App/components/edit/shared/constants.js","webpack://@dhis2/app-shell/./src/D2App/components/edit/shared/access-warning.module.css?0321","D2App/components/edit/shared/access-warning.js","webpack://@dhis2/app-shell/./src/D2App/components/edit/shared/selector-validation-error.module.css?7010","D2App/components/edit/shared/selector-validation-error.js","D2App/components/edit/shared/update-footer.js","webpack://@dhis2/app-shell/./src/D2App/components/edit/shared/form-subsection.module.css?14bd","D2App/components/edit/shared/form-subsection.js","webpack://@dhis2/app-shell/./src/D2App/components/edit/shared/scheme-selector.module.css?788e","D2App/components/edit/shared/scheme-selector.js","D2App/context/attribute-context/use-attribute-context.js","D2App/components/edit/shared/openVisualization/visTypes.js","D2App/components/edit/shared/openVisualization/CreatedByFilter.js","D2App/components/edit/shared/openVisualization/DateField.js","D2App/components/edit/shared/openVisualization/VTI.js","D2App/components/edit/shared/openVisualization/FileList.js","D2App/components/edit/shared/openVisualization/NameFilter.js","D2App/components/edit/shared/openVisualization/OpenFileDialog.styles.js","D2App/components/edit/shared/openVisualization/PaginationControls.js","D2App/components/edit/shared/openVisualization/utils.js","D2App/components/edit/shared/openVisualization/styles/CustomSelectOption.style.js","D2App/components/edit/shared/openVisualization/CustomSelectOption.js","D2App/components/edit/shared/openVisualization/VisTypeFilter.js","D2App/components/edit/shared/openVisualization/OpenFileDialog.js","webpack://@dhis2/app-shell/./src/D2App/components/edit/shared/edit-title.module.css?ec25","D2App/components/edit/shared/edit-title.js","D2App/components/edit/request-update/getRequestValues.js","D2App/components/edit/request-update/data-item-select.js","webpack://@dhis2/app-shell/./src/D2App/components/edit/request-update/filterSelect/dimension-filter-row.module.css?af22","webpack://@dhis2/app-shell/./src/D2App/components/edit/request-update/filterSelect/dimension-items-select.module.css?3b7c","webpack://@dhis2/app-shell/./src/D2App/components/edit/request-update/filterSelect/select-field.module.css?fa96","D2App/components/edit/request-update/filterSelect/select-field.js","D2App/components/edit/request-update/filterSelect/dimension-items-select.js","webpack://@dhis2/app-shell/./src/D2App/components/edit/request-update/filterSelect/dimension-select.module.css?a7cc","D2App/components/edit/request-update/filterSelect/dimension-select.js","webpack://@dhis2/app-shell/./src/D2App/components/edit/request-update/filterSelect/remove-filter.module.css?9987","D2App/components/edit/request-update/filterSelect/remove-filter.js","D2App/components/edit/request-update/filterSelect/dimension-filter-row.js","webpack://@dhis2/app-shell/./src/D2App/components/edit/request-update/filterSelect/filter-select.module.css?866e","D2App/components/edit/request-update/filterSelect/filter-select.js","D2App/components/edit/request-update/org-unit-select.js","D2App/components/edit/request-update/period-select.js","webpack://@dhis2/app-shell/./src/D2App/components/edit/request-update/request-form-contents.module.css?dd50","webpack://@dhis2/app-shell/./src/D2App/components/edit/request-update/visualization-select.module.css?b90a","D2App/components/edit/request-update/visualization-select.js","D2App/components/edit/request-update/request-form-contents.js","D2App/components/edit/request-update/useValidators.js","webpack://@dhis2/app-shell/./src/D2App/components/edit/request-update/request-form.module.css?8d65","D2App/components/edit/request-update/request-form.js","D2App/components/edit/request-update/requests-reducer.js","webpack://@dhis2/app-shell/./src/D2App/components/edit/exchange-update/advanced-options.module.css?0f12","webpack://@dhis2/app-shell/./src/D2App/components/edit/exchange-update/external-edit-warning.module.css?8418","D2App/components/edit/exchange-update/external-edit-warning.js","D2App/components/edit/exchange-update/advanced-options.js","webpack://@dhis2/app-shell/./src/D2App/components/edit/exchange-update/exchange-form-contents.module.css?ed95","webpack://@dhis2/app-shell/./src/D2App/components/edit/exchange-update/requests-overview.module.css?2962","D2App/components/edit/exchange-update/requests-overview.js","D2App/components/edit/exchange-update/exchange-form-contents.js","webpack://@dhis2/app-shell/./src/D2App/components/edit/exchange-update/exchange-form.module.css?f5ae","D2App/components/edit/exchange-update/getExchangeValues.js","D2App/components/edit/exchange-update/useUpdateExchange.js","D2App/components/edit/exchange-update/exchange-form.js","D2App/components/edit/exchange-update/useRequests.js","D2App/components/edit/exchange-update/codeDetailsHelpers.js","D2App/components/edit/exchange-update/useFetchExchange.js","webpack://@dhis2/app-shell/./src/D2App/components/edit/overview/edit-home-top-bar.module.css?6808","D2App/components/edit/overview/edit-home-top-bar.js","D2App/utils/helpers.js","D2App/components/edit/overview/delete-confirmation.js","webpack://@dhis2/app-shell/./src/D2App/components/edit/overview/items-list.module.css?c77f","D2App/components/edit/overview/items-list.js","webpack://@dhis2/app-shell/./src/D2App/components/common/button-with-tooltip/button-with-tooltip.module.css?e3c0","D2App/components/common/button-with-tooltip/button-with-tooltip.js","D2App/components/view/bottom-bar/bottom-bar.js","webpack://@dhis2/app-shell/./src/D2App/components/view/data-layout/layout.module.css?b9be","D2App/components/view/data-layout/layout.js","webpack://@dhis2/app-shell/./src/D2App/components/view/data-workspace/entry-screen.module.css?2051","D2App/components/view/data-workspace/entry-screen.js","webpack://@dhis2/app-shell/./src/D2App/components/view/data-workspace/table/table.module.css?7e14","D2App/components/view/data-workspace/table/table.js","webpack://@dhis2/app-shell/./src/D2App/components/view/data-workspace/requests-display/requests-display.module.css?c126","D2App/components/view/data-workspace/requests-display/requests-display.js","D2App/components/view/data-workspace/requests-navigation/requests-navigation.js","webpack://@dhis2/app-shell/./src/D2App/components/view/data-workspace/title-bar/title-bar.module.css?a170","D2App/components/view/data-workspace/title-bar/title-bar.js","D2App/components/view/data-workspace/data-workspace.js","webpack://@dhis2/app-shell/./src/D2App/components/view/submit-modal/submit-modal.module.css?835a","webpack://@dhis2/app-shell/./src/D2App/components/view/submit-modal/conflicts-details-table.module.css?7ac0","D2App/components/view/submit-modal/conflicts-details-table.js","webpack://@dhis2/app-shell/./src/D2App/components/view/submit-modal/success-content.module.css?f212","D2App/components/view/submit-modal/success-content.js","D2App/components/view/submit-modal/use-aggregate-data-exchange-mutation.js","D2App/components/view/submit-modal/submit-modal.js","webpack://@dhis2/app-shell/./src/D2App/components/view/top-bar/menu-select/menu-select.module.css?c52d","D2App/components/view/top-bar/menu-select/menu-select.js","D2App/components/view/top-bar/exchange-select/exchange-select.js","webpack://@dhis2/app-shell/./src/D2App/components/view/top-bar/top-bar.module.css?69fb","D2App/components/view/top-bar/top-bar.js","D2App/pages/data.js","D2App/pages/editOverview.js","D2App/pages/editItem.js","D2App/pages/addItem.js","D2App/app.js","D2App/locales/index.js","D2App/index.js"],"sourcesContent":["import { createContext } from 'react';\nconst AppContext = /*#__PURE__*/createContext({\n  aggregateDataExchanges: [],\n  refetchExchanges: () => {\n    console.log('Not implemented');\n  }\n});\nexport { AppContext };","import { CenteredContent, CircularLoader } from '@dhis2/ui';\nimport React from 'react';\nconst Loader = () => /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(CircularLoader, null));\nexport { Loader };","// extracted by mini-css-extract-plugin\nexport default {\"warningBoxWrapper\":\"warning_warningBoxWrapper__Q81jN\"};","import { NoticeBox } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './warning.module.css';\nconst Warning = _ref => {\n  let {\n    error,\n    warning,\n    title,\n    children\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.warningBoxWrapper,\n    \"data-test\": \"warning\"\n  }, /*#__PURE__*/React.createElement(NoticeBox, {\n    error: error,\n    warning: warning,\n    title: title\n  }, children));\n};\nWarning.propTypes = {\n  children: PropTypes.node,\n  error: PropTypes.bool,\n  title: PropTypes.string,\n  warning: PropTypes.bool\n};\nexport { Warning };","import { useDataQuery } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Loader, Warning } from '../../components/common/index.js';\nimport { AppContext } from './app-context.js';\nconst query = {\n  aggregateDataExchanges: {\n    // This is generic enpoint but will only return\n    // exchanges a user is allowed to see\n    resource: 'aggregateDataExchanges',\n    params: {\n      paging: false,\n      fields: ['id', 'displayName', 'created', 'target[type]', 'source[requests~size]', 'access'],\n      order: 'displayName:iasc'\n    }\n  }\n};\nexport const getReadableExchangeOptions = aggregateDataExchanges => aggregateDataExchanges.filter(exchange => {\n  var _exchange$access, _exchange$access$data;\n  return (exchange === null || exchange === void 0 ? void 0 : (_exchange$access = exchange.access) === null || _exchange$access === void 0 ? void 0 : (_exchange$access$data = _exchange$access.data) === null || _exchange$access$data === void 0 ? void 0 : _exchange$access$data.read) !== false;\n}).map(exchange => ({\n  value: exchange.id,\n  label: exchange.displayName\n}));\nconst AppProvider = _ref => {\n  let {\n    children\n  } = _ref;\n  const {\n    data,\n    loading,\n    error,\n    refetch: refetchExchanges\n  } = useDataQuery(query);\n  if (loading) {\n    return /*#__PURE__*/React.createElement(Loader, null);\n  }\n  if (error) {\n    /**\n     * general error boundary\n     */\n    return /*#__PURE__*/React.createElement(Warning, {\n      error: true,\n      title: i18n.t('Aggregate data exchange information is not accessible')\n    }, /*#__PURE__*/React.createElement(\"span\", null, i18n.t('There was a problem retrieving aggregate data exchanges. Refresh the page to try again.')));\n  }\n  const {\n    aggregateDataExchanges\n  } = data.aggregateDataExchanges;\n  const providerValue = {\n    aggregateDataExchanges,\n    readableExchangeOptions: getReadableExchangeOptions(aggregateDataExchanges),\n    refetchExchanges\n  };\n  return /*#__PURE__*/React.createElement(AppContext.Provider, {\n    value: providerValue\n  }, children);\n};\nAppProvider.propTypes = {\n  children: PropTypes.node.isRequired\n};\nexport { AppProvider };","import { useContext } from 'react';\nimport { AppContext } from './app-context.js';\nexport const useAppContext = () => useContext(AppContext);","import { createContext } from 'react';\nconst ExchangeContext = /*#__PURE__*/createContext({\n  exchange: {},\n  exchangeData: {},\n  refetch: () => {\n    console.log('exchange context not initialized');\n  }\n});\nexport { ExchangeContext };","import { useCallback } from 'react';\nimport { StringParam, NumberParam, useQueryParams, useQueryParam } from 'use-query-params';\nexport const PARAMS_SCHEMA = {\n  exchangeId: StringParam,\n  requestIndex: NumberParam\n};\nexport const useExchangeId = () => {\n  return useQueryParam('exchangeId', PARAMS_SCHEMA.exchangeId);\n};\nexport const useRequestIndex = () => {\n  return useQueryParam('requestIndex', PARAMS_SCHEMA.requestIndex);\n};\nexport const useContextSelection = () => {\n  return useQueryParams(PARAMS_SCHEMA);\n};\nexport const useClearEntireSelection = () => {\n  const [, setSelectionContext] = useContextSelection();\n  return useCallback(() => {\n    setSelectionContext({\n      exchangeId: undefined,\n      requestIndex: undefined\n    });\n  }, [setSelectionContext]);\n};","// extracted by mini-css-extract-plugin\nexport default {\"errorWrapperText\":\"exchange-provider_errorWrapperText__0gKPV\",\"errorMessage\":\"exchange-provider_errorMessage__WgpDM\"};","import { useDataQuery } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { Button } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useCallback, useEffect } from 'react';\nimport { Loader, Warning } from '../../components/common/index.js';\nimport { useExchangeId, useRequestIndex } from '../../use-context-selection/index.js';\nimport { ExchangeContext } from './exchange-context.js';\nimport styles from './exchange-provider.module.css';\nconst query = {\n  exchange: {\n    resource: 'aggregateDataExchanges',\n    id: _ref => {\n      let {\n        id\n      } = _ref;\n      return id;\n    },\n    params: {\n      paging: false,\n      fields: ['source, target', 'id', 'displayName']\n    }\n  },\n  exchangeData: {\n    resource: 'aggregateDataExchanges',\n    id: _ref2 => {\n      let {\n        id\n      } = _ref2;\n      return `${id}/sourceData`;\n    },\n    params: {\n      paging: false,\n      outputIdScheme: 'UID'\n    }\n  }\n};\nconst ExchangeProvider = _ref3 => {\n  let {\n    children\n  } = _ref3;\n  const {\n    loading,\n    error,\n    data,\n    called,\n    refetch\n  } = useDataQuery(query, {\n    lazy: true\n  });\n  const [exchangeId] = useExchangeId();\n  const [, setRequestIndex] = useRequestIndex();\n  const fetchExchange = useCallback(() => refetch({\n    id: exchangeId\n  }), [refetch, exchangeId]);\n  useEffect(() => {\n    setRequestIndex(0);\n    if (exchangeId) {\n      fetchExchange();\n    }\n  }, [exchangeId, fetchExchange, setRequestIndex]);\n  if (loading) {\n    return /*#__PURE__*/React.createElement(Loader, null);\n  }\n  if (error) {\n    /**\n     * error boundary\n     */\n    return /*#__PURE__*/React.createElement(Warning, {\n      error: true,\n      title: i18n.t('Exchange content not accessible')\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: styles.errorWrapperText\n    }, i18n.t('It was not possible to retrieve data for the requested exchange. This may be due to either a connection error or a configuration issue. The message below provides additional detail.')), /*#__PURE__*/React.createElement(\"span\", {\n      className: styles.errorMessage\n    }, (error === null || error === void 0 ? void 0 : error.message) || ''), /*#__PURE__*/React.createElement(Button, {\n      onClick: fetchExchange\n    }, i18n.t('Try again')));\n  }\n  const {\n    exchange,\n    exchangeData\n  } = data || {};\n  const providerValue = {\n    exchange: called ? exchange : null,\n    exchangeData: called ? exchangeData : null\n  };\n  return /*#__PURE__*/React.createElement(ExchangeContext.Provider, {\n    value: providerValue\n  }, children);\n};\nExchangeProvider.propTypes = {\n  children: PropTypes.node.isRequired\n};\nexport { ExchangeProvider };","import { useContext } from 'react';\nimport { ExchangeContext } from './exchange-context.js';\nexport const useExchangeContext = () => useContext(ExchangeContext);","import { createContext } from 'react';\nconst UserContext = /*#__PURE__*/createContext({\n  id: '',\n  canAddExchange: false,\n  canDeleteExchange: false,\n  organisationUnits: [],\n  keyUiLocale: 'en',\n  hasSkipAuditInfoAuthority: false\n});\nexport { UserContext };","import { useDataQuery } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Loader, Warning } from '../../components/common/index.js';\nimport { UserContext } from './user-context.js';\nconst EXCHANGE_AUTHORITIES_ADD = ['F_AGGREGATE_DATA_EXCHANGE_PRIVATE_ADD', 'F_AGGREGATE_DATA_EXCHANGE_PUBLIC_ADD'];\nconst EXCHANGE_AUTHORITIES_DELETE = ['F_AGGREGATE_DATA_EXCHANGE_DELETE'];\nconst SKIP_DATA_IMPORT_AUDIT_AUTHORITIES = ['F_SKIP_DATA_IMPORT_AUDIT'];\nconst ALL_AUTHORITY = ['ALL'];\nconst query = {\n  user: {\n    // This is generic enpoint but will only return\n    // exchanges a user is allowed to see\n    resource: 'me',\n    params: {\n      paging: false,\n      fields: ['id', 'authorities', 'organisationUnits', 'settings']\n    }\n  }\n};\nconst UserProvider = _ref => {\n  var _settings$keyUiLocale;\n  let {\n    children\n  } = _ref;\n  const {\n    data,\n    loading,\n    error\n  } = useDataQuery(query);\n  if (loading) {\n    return /*#__PURE__*/React.createElement(Loader, null);\n  }\n  if (error) {\n    /**\n     * general error boundary\n     */\n    return /*#__PURE__*/React.createElement(Warning, {\n      error: true,\n      title: i18n.t('User information is not available')\n    }, /*#__PURE__*/React.createElement(\"span\", null, i18n.t('There was a problem retrieving user information. Refresh the page to try again.')));\n  }\n  const {\n    id,\n    authorities,\n    organisationUnits,\n    settings\n  } = data.user;\n  const canAddExchange = [...ALL_AUTHORITY, ...EXCHANGE_AUTHORITIES_ADD].some(auth => authorities.includes(auth));\n  const canDeleteExchange = [...ALL_AUTHORITY, ...EXCHANGE_AUTHORITIES_DELETE].some(auth => authorities.includes(auth));\n  const hasSkipAuditInfoAuthority = [...ALL_AUTHORITY, ...SKIP_DATA_IMPORT_AUDIT_AUTHORITIES].some(auth => authorities.includes(auth));\n  const providerValue = {\n    id,\n    canAddExchange,\n    canDeleteExchange,\n    hasSkipAuditInfoAuthority,\n    organisationUnits,\n    keyUiLocale: (_settings$keyUiLocale = settings === null || settings === void 0 ? void 0 : settings.keyUiLocale) !== null && _settings$keyUiLocale !== void 0 ? _settings$keyUiLocale : 'en'\n  };\n  return /*#__PURE__*/React.createElement(UserContext.Provider, {\n    value: providerValue\n  }, children);\n};\nUserProvider.propTypes = {\n  children: PropTypes.node.isRequired\n};\nexport { UserProvider };","import { useContext } from 'react';\nimport { UserContext } from './user-context.js';\nexport const useUserContext = () => useContext(UserContext);","import { createContext } from 'react';\nconst AttributeContext = /*#__PURE__*/createContext({\n  attributes: []\n});\nexport { AttributeContext };","import { useDataQuery } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Loader, Warning } from '../../components/common/index.js';\nimport { AttributeContext } from './attribute-context.js';\nconst query = {\n  attributes: {\n    // This is generic enpoint but will only return\n    // exchanges a user is allowed to see\n    resource: 'attributes',\n    params: {\n      paging: false,\n      fields: ['id', 'displayName'],\n      order: 'displayName:iasc'\n    }\n  }\n};\nconst AttributeProvider = _ref => {\n  let {\n    children\n  } = _ref;\n  const {\n    data,\n    loading,\n    error\n  } = useDataQuery(query);\n  if (loading) {\n    return /*#__PURE__*/React.createElement(Loader, null);\n  }\n  if (error) {\n    /**\n     * general error boundary\n     */\n    return /*#__PURE__*/React.createElement(Warning, {\n      error: true,\n      title: i18n.t('Attribute information is not accessible')\n    }, /*#__PURE__*/React.createElement(\"span\", null, i18n.t('There was a problem retrieving attributes. Refresh the page to try again.')));\n  }\n  const {\n    attributes\n  } = data.attributes;\n  const providerValue = {\n    attributes\n  };\n  return /*#__PURE__*/React.createElement(AttributeContext.Provider, {\n    value: providerValue\n  }, children);\n};\nAttributeProvider.propTypes = {\n  children: PropTypes.node.isRequired\n};\nexport { AttributeProvider };","import { createContext } from 'react';\nconst FeatureToggleContext = /*#__PURE__*/createContext({\n  outputDataItemIdSchemeAvailable: false,\n  skipAuditDryRunImportStrategyAvailable: false\n});\nexport { FeatureToggleContext };","import { useConfig } from '@dhis2/app-runtime';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { FeatureToggleContext } from './feature-toggle-context.js';\nconst FeatureToggleProvider = _ref => {\n  let {\n    children\n  } = _ref;\n  const {\n    apiVersion\n  } = useConfig();\n  const providerValue = {\n    outputDataItemIdSchemeAvailable: apiVersion >= 41,\n    skipAuditDryRunImportStrategyAvailable: apiVersion >= 41\n  };\n  return /*#__PURE__*/React.createElement(FeatureToggleContext.Provider, {\n    value: providerValue\n  }, children);\n};\nFeatureToggleProvider.propTypes = {\n  children: PropTypes.node.isRequired\n};\nexport { FeatureToggleProvider };","import { useContext } from 'react';\nimport { FeatureToggleContext } from './feature-toggle-context.js';\nexport const useFeatureToggleContext = () => useContext(FeatureToggleContext);","export const SCHEME_TYPES = {\n  none: 'NONE',\n  uid: 'UID',\n  code: 'CODE',\n  attribute: 'ATTRIBUTE'\n};\nexport const SCHEME_TYPES_WITH_NONE = {\n  uid: 'UID',\n  code: 'CODE',\n  attribute: 'ATTRIBUTE'\n};\nexport const AUTHENTICATION_TYPES = {\n  basic: 'BASIC',\n  pat: 'PAT'\n};\nexport const EXCHANGE_TYPES = {\n  external: 'EXTERNAL',\n  internal: 'INTERNAL'\n};\nexport const OU_GROUP_PREFIX = 'OU_GROUP-';\nexport const OU_LEVEL_PREFIX = 'LEVEL-';\nexport const IMPORT_STRATEGY_TYPES = {\n  create: 'CREATE',\n  update: 'UPDATE',\n  create_and_update: 'CREATE_AND_UPDATE',\n  delete: 'DELETE'\n};\nexport const IMPORT_STRATEGY_OPTIONS = [{\n  value: IMPORT_STRATEGY_TYPES.create_and_update,\n  prefix: 'Merge',\n  label: 'Import new values and update existing'\n}, {\n  value: IMPORT_STRATEGY_TYPES.create,\n  prefix: 'Append',\n  label: 'Import new values only'\n}, {\n  value: IMPORT_STRATEGY_TYPES.update,\n  prefix: 'Update',\n  label: 'Only update existing values, ignore new values'\n}, {\n  value: IMPORT_STRATEGY_TYPES.delete,\n  prefix: 'Delete',\n  label: 'Remove values included in uploaded file',\n  type: 'critical'\n}];","// extracted by mini-css-extract-plugin\nexport default {\"accessWarningButton\":\"access-warning_accessWarningButton__Y58xP\"};","import i18n from '@dhis2/d2-i18n';\nimport { Button } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Warning } from '../../common/index.js';\nimport styles from './access-warning.module.css';\nexport const AccessWarning = _ref => {\n  let {\n    editMode\n  } = _ref;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Warning, {\n    error: true,\n    title: i18n.t('Not available')\n  }, /*#__PURE__*/React.createElement(\"span\", null, editMode ? i18n.t('The requested exchange does not exist, or you do not have the relevant authorities to edit it.') : i18n.t('You do not have the relevant authorities to add a new exchange.'))), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.accessWarningButton,\n    \"data-test\": \"link-to-configuration-page\"\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/edit/\"\n  }, /*#__PURE__*/React.createElement(Button, null, i18n.t('Back to configurations page')))));\n};\nAccessWarning.propTypes = {\n  editMode: PropTypes.bool\n};","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"selector-validation-error_container__iwnbM\",\"message\":\"selector-validation-error_message__MvRHB\"};","import { IconErrorFilled24, colors } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './selector-validation-error.module.css';\nexport const SelectorValidationError = _ref => {\n  let {\n    meta\n  } = _ref;\n  const {\n    error,\n    touched\n  } = meta;\n  if (!touched || !error) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.container\n  }, /*#__PURE__*/React.createElement(IconErrorFilled24, {\n    color: colors.red500\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.message\n  }, error));\n};\nSelectorValidationError.propTypes = {\n  meta: PropTypes.object\n};","import i18n from '@dhis2/d2-i18n';\nimport { Button, ButtonStrip, Modal, ModalActions, ModalContent, ModalTitle, ReactFinalForm } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useCallback, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nconst DiscardModal = _ref => {\n  let {\n    open,\n    onClose,\n    onCancelConfirm,\n    objectName\n  } = _ref;\n  return /*#__PURE__*/React.createElement(Modal, {\n    hide: !open,\n    large: true,\n    position: \"middle\",\n    onClose: onClose,\n    dataTest: `${objectName}-discard-modal`\n  }, /*#__PURE__*/React.createElement(ModalTitle, null, i18n.t('Discard unsaved changes')), /*#__PURE__*/React.createElement(ModalContent, null, /*#__PURE__*/React.createElement(\"span\", null, i18n.t('The {{objectName}} has unsaved changes. Leaving this page will discard these changes. Are you sure?', {\n    objectName\n  }))), /*#__PURE__*/React.createElement(ModalActions, null, /*#__PURE__*/React.createElement(ButtonStrip, {\n    end: true\n  }, /*#__PURE__*/React.createElement(Button, {\n    secondary: true,\n    onClick: onClose\n  }, i18n.t('No, go back')), /*#__PURE__*/React.createElement(Button, {\n    destructive: true,\n    onClick: onCancelConfirm\n  }, i18n.t('Yes, discard changes')))));\n};\nDiscardModal.propTypes = {\n  objectName: PropTypes.string,\n  open: PropTypes.bool,\n  onCancelConfirm: PropTypes.func,\n  onClose: PropTypes.func\n};\nexport const EditItemFooter = _ref2 => {\n  let {\n    handleSubmit,\n    requestsTouched\n  } = _ref2;\n  const [discardModalOpen, setDiscardModalOpen] = useState(false);\n  const navigate = useNavigate();\n  const {\n    useFormState\n  } = ReactFinalForm;\n  const {\n    dirty\n  } = useFormState();\n  const formDirty = dirty || requestsTouched;\n  const onClose = useCallback(() => {\n    setDiscardModalOpen(false);\n  }, [setDiscardModalOpen]);\n  const onCancelConfirm = useCallback(() => {\n    navigate('/edit');\n  }, [navigate]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ButtonStrip, null, /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    primary: true,\n    onClick: () => {\n      handleSubmit();\n    }\n  }, i18n.t('Save exchange')), /*#__PURE__*/React.createElement(Button, {\n    onClick: () => {\n      !formDirty ? onCancelConfirm() : setDiscardModalOpen(true);\n    }\n  }, i18n.t('Cancel'))), /*#__PURE__*/React.createElement(DiscardModal, {\n    open: discardModalOpen,\n    onClose: onClose,\n    objectName: \"exchange\",\n    onCancelConfirm: onCancelConfirm\n  }));\n};\nEditItemFooter.propTypes = {\n  handleSubmit: PropTypes.func,\n  requestsTouched: PropTypes.bool\n};\nexport const EditRequestFooter = _ref3 => {\n  let {\n    exitRequestEditMode,\n    handleRequestSubmit\n  } = _ref3;\n  const [discardModalOpen, setDiscardModalOpen] = useState(false);\n  const onClose = useCallback(() => {\n    setDiscardModalOpen(false);\n  }, [setDiscardModalOpen]);\n  const {\n    useFormState\n  } = ReactFinalForm;\n  const {\n    dirty,\n    valid\n  } = useFormState();\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ButtonStrip, null, /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    primary: true,\n    onClick: () => {\n      handleRequestSubmit();\n      if (valid) {\n        exitRequestEditMode();\n      }\n    }\n  }, i18n.t('Save request')), /*#__PURE__*/React.createElement(Button, {\n    onClick: () => {\n      !dirty ? exitRequestEditMode() : setDiscardModalOpen(true);\n    }\n  }, i18n.t('Cancel'))), /*#__PURE__*/React.createElement(DiscardModal, {\n    open: discardModalOpen,\n    onClose: onClose,\n    objectName: \"request\",\n    onCancelConfirm: exitRequestEditMode\n  }));\n};\nEditRequestFooter.propTypes = {\n  exitRequestEditMode: PropTypes.func,\n  handleRequestSubmit: PropTypes.func\n};","// extracted by mini-css-extract-plugin\nexport default {\"subtitleContainer\":\"form-subsection_subtitleContainer__8wDqL\",\"subtitleContainerItems\":\"form-subsection_subtitleContainerItems__pWtIB\",\"subtitle\":\"form-subsection_subtitle__9OKIR\",\"description\":\"form-subsection_description__6bYT3\",\"subsectionContent\":\"form-subsection_subsectionContent__-frqp\"};","import { IconChevronUp24, IconChevronDown24 } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './form-subsection.module.css';\nexport const TogglableSubsection = _ref => {\n  let {\n    text,\n    children,\n    open,\n    onTextClick,\n    className = ''\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: className\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.subtitleContainer,\n    onClick: onTextClick\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.subtitleContainerItems\n  }, open ? /*#__PURE__*/React.createElement(IconChevronUp24, null) : /*#__PURE__*/React.createElement(IconChevronDown24, null), /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.subtitle\n  }, text))), open && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.subsectionContent\n  }, children));\n};\nTogglableSubsection.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n  open: PropTypes.bool,\n  text: PropTypes.string,\n  onTextClick: PropTypes.func\n};\nexport const Subsection = _ref2 => {\n  let {\n    text,\n    description,\n    children,\n    className = '',\n    dataTest\n  } = _ref2;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: className,\n    \"data-test\": dataTest || 'subsection'\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.subtitleContainer\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.subtitle\n  }, text), description && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.description\n  }, description)), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.subsectionContent\n  }, children));\n};\nSubsection.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n  description: PropTypes.string,\n  text: PropTypes.string\n};","// extracted by mini-css-extract-plugin\nexport default {\"radiosContainer\":\"scheme-selector_radiosContainer__Tzsc+\",\"radioItem\":\"scheme-selector_radioItem__cb8la\",\"radioContainerLabel\":\"scheme-selector_radioContainerLabel__4E+0q\",\"radioContainerSubtext\":\"scheme-selector_radioContainerSubtext__B7HvZ\",\"editCheckboxConfirm\":\"scheme-selector_editCheckboxConfirm__fhwYA\",\"attributeSelectionContainer\":\"scheme-selector_attributeSelectionContainer__ZsQCO\",\"schemeSelectorContainer\":\"scheme-selector_schemeSelectorContainer__f7cfM\"};","import i18n from '@dhis2/d2-i18n';\nimport { Field as FieldContainer, ReactFinalForm, RadioFieldFF, SingleSelectFieldFF, hasValue } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { useAttributeContext } from '../../../context/index.js';\nimport { SCHEME_TYPES } from './constants.js';\nimport styles from './scheme-selector.module.css';\nexport const SchemeSelector = _ref => {\n  let {\n    name,\n    label,\n    dataTest,\n    description,\n    disabled,\n    canBeNone,\n    defaultIDSchemeName\n  } = _ref;\n  const {\n    Field,\n    useField\n  } = ReactFinalForm;\n  const {\n    input: schemeInput\n  } = useField(name, {\n    subscription: {\n      value: true\n    }\n  });\n  const {\n    value: schemeValue\n  } = schemeInput;\n  const {\n    attributes\n  } = useAttributeContext();\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.schemeSelectorContainer,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.radioContainerLabel\n  }, label), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.radioContainerSubtext\n  }, description), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.radioContainerWrapper\n  }, /*#__PURE__*/React.createElement(FieldContainer, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.radiosContainer\n  }, canBeNone && /*#__PURE__*/React.createElement(Field, {\n    name: name,\n    type: \"radio\",\n    checked: true,\n    component: RadioFieldFF,\n    label: i18n.t('None (follows {{defaultIDSchemeName}})', {\n      defaultIDSchemeName\n    }),\n    value: SCHEME_TYPES.none,\n    disabled: disabled\n  }), /*#__PURE__*/React.createElement(Field, {\n    name: name,\n    className: canBeNone ? styles.radioItem : null,\n    type: \"radio\",\n    component: RadioFieldFF,\n    label: i18n.t('ID'),\n    value: SCHEME_TYPES.uid,\n    disabled: disabled\n  }), /*#__PURE__*/React.createElement(Field, {\n    name: name,\n    className: styles.radioItem,\n    type: \"radio\",\n    component: RadioFieldFF,\n    label: i18n.t('Code'),\n    value: SCHEME_TYPES.code,\n    disabled: disabled\n  }), /*#__PURE__*/React.createElement(Field, {\n    name: name,\n    className: styles.radioItem,\n    type: \"radio\",\n    component: RadioFieldFF,\n    label: i18n.t('Attribute'),\n    value: SCHEME_TYPES.attribute,\n    disabled: disabled || attributes.length === 0\n  }))), schemeValue === SCHEME_TYPES.attribute && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.attributeSelectionContainer,\n    \"data-test\": `${dataTest}-attributes`\n  }, /*#__PURE__*/React.createElement(Field, {\n    name: `${name}_attribute`,\n    component: SingleSelectFieldFF,\n    options: attributes.map(_ref2 => {\n      let {\n        id,\n        displayName\n      } = _ref2;\n      return {\n        value: id,\n        label: displayName\n      };\n    }),\n    validate: hasValue\n  }))));\n};\nSchemeSelector.propTypes = {\n  canBeNone: PropTypes.bool,\n  dataTest: PropTypes.string,\n  defaultIDSchemeName: PropTypes.string,\n  description: PropTypes.string,\n  disabled: PropTypes.bool,\n  label: PropTypes.string,\n  name: PropTypes.string\n};","import { useContext } from 'react';\nimport { AttributeContext } from './attribute-context.js';\nexport const useAttributeContext = () => useContext(AttributeContext);","import i18n from '@dhis2/d2-i18n';\nimport { IconVisualizationArea24, IconVisualizationAreaStacked24, IconVisualizationBar24, IconVisualizationBarStacked24, IconVisualizationColumn24, IconVisualizationColumnMulti24, IconVisualizationColumnStacked24, IconVisualizationGauge24, IconVisualizationLine24,\n// IconVisualizationLinelist24,\nIconVisualizationLineMulti24,\n// IconVisualizationOutlierTable24,\nIconVisualizationPie24,\n// IconVisualizationPivotTable24,\nIconVisualizationRadar24, IconVisualizationScatter24, IconVisualizationSingleValue24 } from '@dhis2/ui';\nexport const VIS_TYPE_PIVOT_TABLE = 'PIVOT_TABLE';\nexport const VIS_TYPE_AREA = 'AREA';\nexport const VIS_TYPE_STACKED_AREA = 'STACKED_AREA';\nexport const VIS_TYPE_BAR = 'BAR';\nexport const VIS_TYPE_STACKED_BAR = 'STACKED_BAR';\nexport const VIS_TYPE_COLUMN = 'COLUMN';\nexport const VIS_TYPE_YEAR_OVER_YEAR_COLUMN = 'YEAR_OVER_YEAR_COLUMN';\nexport const VIS_TYPE_STACKED_COLUMN = 'STACKED_COLUMN';\nexport const VIS_TYPE_GAUGE = 'GAUGE';\nexport const VIS_TYPE_LINE = 'LINE';\nexport const VIS_TYPE_LINE_LIST = 'LINE_LIST';\nexport const VIS_TYPE_YEAR_OVER_YEAR_LINE = 'YEAR_OVER_YEAR_LINE';\nexport const VIS_TYPE_PIE = 'PIE';\nexport const VIS_TYPE_RADAR = 'RADAR';\nexport const VIS_TYPE_SCATTER = 'SCATTER';\nexport const VIS_TYPE_SINGLE_VALUE = 'SINGLE_VALUE';\nexport const VIS_TYPE_BUBBLE = 'BUBBLE';\nexport const VIS_TYPE_GROUP_ALL = 'ALL';\nexport const VIS_TYPE_GROUP_CHARTS = 'CHARTS';\nexport const VIS_TYPE_OUTLIER_TABLE = 'OUTLIER_TABLE';\nexport const visTypeDisplayNames = {\n  [VIS_TYPE_PIVOT_TABLE]: i18n.t('Pivot table'),\n  [VIS_TYPE_AREA]: i18n.t('Area'),\n  [VIS_TYPE_STACKED_AREA]: i18n.t('Stacked area'),\n  [VIS_TYPE_BAR]: i18n.t('Bar'),\n  [VIS_TYPE_STACKED_BAR]: i18n.t('Stacked bar'),\n  [VIS_TYPE_COLUMN]: i18n.t('Column'),\n  [VIS_TYPE_YEAR_OVER_YEAR_COLUMN]: i18n.t('Year over year (column)'),\n  [VIS_TYPE_STACKED_COLUMN]: i18n.t('Stacked column'),\n  [VIS_TYPE_GAUGE]: i18n.t('Gauge'),\n  [VIS_TYPE_LINE]: i18n.t('Line'),\n  [VIS_TYPE_LINE_LIST]: i18n.t('Line list'),\n  [VIS_TYPE_YEAR_OVER_YEAR_LINE]: i18n.t('Year over year (line)'),\n  [VIS_TYPE_PIE]: i18n.t('Pie'),\n  [VIS_TYPE_RADAR]: i18n.t('Radar'),\n  [VIS_TYPE_SCATTER]: i18n.t('Scatter'),\n  [VIS_TYPE_SINGLE_VALUE]: i18n.t('Single value'),\n  [VIS_TYPE_OUTLIER_TABLE]: i18n.t('Outlier table'),\n  [VIS_TYPE_GROUP_ALL]: i18n.t('All types'),\n  [VIS_TYPE_GROUP_CHARTS]: i18n.t('All charts')\n};\nexport const visTypeIcons = {\n  // [VIS_TYPE_PIVOT_TABLE]: IconVisualizationPivotTable24,\n  [VIS_TYPE_AREA]: IconVisualizationArea24,\n  [VIS_TYPE_STACKED_AREA]: IconVisualizationAreaStacked24,\n  [VIS_TYPE_BAR]: IconVisualizationBar24,\n  [VIS_TYPE_STACKED_BAR]: IconVisualizationBarStacked24,\n  [VIS_TYPE_COLUMN]: IconVisualizationColumn24,\n  [VIS_TYPE_YEAR_OVER_YEAR_COLUMN]: IconVisualizationColumnMulti24,\n  [VIS_TYPE_STACKED_COLUMN]: IconVisualizationColumnStacked24,\n  [VIS_TYPE_GAUGE]: IconVisualizationGauge24,\n  [VIS_TYPE_LINE]: IconVisualizationLine24,\n  // [VIS_TYPE_LINE_LIST]: IconVisualizationLinelist24,\n  [VIS_TYPE_YEAR_OVER_YEAR_LINE]: IconVisualizationLineMulti24,\n  [VIS_TYPE_PIE]: IconVisualizationPie24,\n  [VIS_TYPE_RADAR]: IconVisualizationRadar24,\n  [VIS_TYPE_SCATTER]: IconVisualizationScatter24,\n  [VIS_TYPE_SINGLE_VALUE]: IconVisualizationSingleValue24\n  // [VIS_TYPE_OUTLIER_TABLE]: IconVisualizationOutlierTable24,\n};\nexport const getDisplayNameByVisType = visType => {\n  const displayName = visTypeDisplayNames[visType];\n  if (!displayName) {\n    throw new Error(`${visType} is not a valid visualization type`);\n  }\n  return displayName;\n};\nconst stackedTypes = [VIS_TYPE_STACKED_COLUMN, VIS_TYPE_STACKED_BAR, VIS_TYPE_STACKED_AREA];\nconst yearOverYearTypes = [VIS_TYPE_YEAR_OVER_YEAR_LINE, VIS_TYPE_YEAR_OVER_YEAR_COLUMN];\nconst dualAxisTypes = [VIS_TYPE_COLUMN, VIS_TYPE_BAR, VIS_TYPE_LINE, VIS_TYPE_AREA];\nconst multiTypeTypes = [VIS_TYPE_COLUMN, VIS_TYPE_LINE];\nconst twoCategoryChartTypes = [VIS_TYPE_COLUMN, VIS_TYPE_STACKED_COLUMN, VIS_TYPE_BAR, VIS_TYPE_STACKED_BAR, VIS_TYPE_LINE, VIS_TYPE_AREA, VIS_TYPE_STACKED_AREA];\nconst columnBasedTypes = [VIS_TYPE_COLUMN, VIS_TYPE_BAR, VIS_TYPE_YEAR_OVER_YEAR_COLUMN, VIS_TYPE_STACKED_COLUMN, VIS_TYPE_STACKED_BAR];\nconst verticalTypes = [VIS_TYPE_BAR, VIS_TYPE_STACKED_BAR, VIS_TYPE_GAUGE];\nconst legendSetTypes = [VIS_TYPE_COLUMN, VIS_TYPE_BAR, VIS_TYPE_GAUGE, VIS_TYPE_SINGLE_VALUE, VIS_TYPE_PIVOT_TABLE, VIS_TYPE_STACKED_COLUMN, VIS_TYPE_STACKED_BAR];\nexport const defaultVisType = VIS_TYPE_COLUMN;\nexport const isStacked = type => stackedTypes.includes(type);\nexport const isYearOverYear = type => yearOverYearTypes.includes(type);\nexport const isDualAxisType = type => dualAxisTypes.includes(type);\nexport const isMultiType = type => multiTypeTypes.includes(type);\nexport const isSingleValue = type => type === VIS_TYPE_SINGLE_VALUE;\nexport const isOutlierTable = type => type === VIS_TYPE_OUTLIER_TABLE;\nexport const isTwoCategoryChartType = type => twoCategoryChartTypes.includes(type);\nexport const isVerticalType = type => verticalTypes.includes(type);\nexport const isLegendSetType = type => legendSetTypes.includes(type);\nexport const isColumnBasedType = type => columnBasedTypes.includes(type);","import i18n from '@dhis2/d2-i18n';\nimport { SingleSelect, SingleSelectOption } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\n// TODO change the \"Created by\" prefix to \"Creator\" or something that does not require a context for the translators\n\nexport const CREATED_BY_ALL = 'all';\nexport const CREATED_BY_ALL_BUT_CURRENT_USER = 'allButCurrentUser';\nexport const CREATED_BY_CURRENT_USER = 'currentUser';\nexport const CreatedByFilter = _ref => {\n  let {\n    selected,\n    onChange\n  } = _ref;\n  return /*#__PURE__*/React.createElement(SingleSelect, {\n    selected: selected,\n    onChange: _ref2 => {\n      let {\n        selected\n      } = _ref2;\n      return onChange(selected);\n    },\n    prefix: i18n.t('Created by'),\n    dense: true\n  }, /*#__PURE__*/React.createElement(SingleSelectOption, {\n    label: i18n.t('Anyone'),\n    value: CREATED_BY_ALL\n  }), /*#__PURE__*/React.createElement(SingleSelectOption, {\n    label: i18n.t('Only you'),\n    value: CREATED_BY_CURRENT_USER\n  }), /*#__PURE__*/React.createElement(SingleSelectOption, {\n    label: i18n.t('Others'),\n    value: CREATED_BY_ALL_BUT_CURRENT_USER\n  }));\n};\nCreatedByFilter.propTypes = {\n  onChange: PropTypes.func.isRequired,\n  selected: PropTypes.string\n};\nexport default CreatedByFilter;","import moment from 'moment';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport const DateField = _ref => {\n  let {\n    date\n  } = _ref;\n  const d = new Date(date);\n  return /*#__PURE__*/React.createElement(\"time\", {\n    dateTime: d.toISOString()\n  }, moment(date).format('L'));\n};\nDateField.propTypes = {\n  date: PropTypes.string.isRequired\n};\nexport default DateField;","import { IconTable16, IconVisualizationArea16, IconVisualizationAreaStacked16, IconVisualizationBar16, IconVisualizationBarStacked16, IconVisualizationColumn16, IconVisualizationColumnMulti16, IconVisualizationColumnStacked16, IconVisualizationGauge16, IconVisualizationLine16, IconVisualizationLinelist16, IconVisualizationLineMulti16, IconVisualizationPie16, IconVisualizationRadar16, IconVisualizationScatter16, IconVisualizationSingleValue16, IconTable24, IconVisualizationArea24, IconVisualizationAreaStacked24, IconVisualizationBar24, IconVisualizationBarStacked24, IconVisualizationColumn24, IconVisualizationLinelist24, IconVisualizationColumnMulti24, IconVisualizationColumnStacked24, IconVisualizationGauge24, IconVisualizationLine24, IconVisualizationLineMulti24, IconVisualizationPie24, IconVisualizationRadar24, IconVisualizationScatter24, IconVisualizationSingleValue24 } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { VIS_TYPE_LINE_LIST, VIS_TYPE_PIVOT_TABLE, VIS_TYPE_COLUMN, VIS_TYPE_STACKED_COLUMN, VIS_TYPE_BAR, VIS_TYPE_STACKED_BAR, VIS_TYPE_LINE, VIS_TYPE_AREA, VIS_TYPE_STACKED_AREA, VIS_TYPE_PIE, VIS_TYPE_RADAR, VIS_TYPE_GAUGE, VIS_TYPE_YEAR_OVER_YEAR_LINE, VIS_TYPE_YEAR_OVER_YEAR_COLUMN, VIS_TYPE_SINGLE_VALUE, VIS_TYPE_SCATTER } from './visTypes.js';\nexport const VisTypeIcon = _ref => {\n  let {\n    type,\n    useSmall = false,\n    ...props\n  } = _ref;\n  let VisIcon;\n  switch (type) {\n    case VIS_TYPE_LINE_LIST:\n      {\n        VisIcon = useSmall ? IconVisualizationLinelist16 : IconVisualizationLinelist24;\n        break;\n      }\n    case VIS_TYPE_PIVOT_TABLE:\n      {\n        VisIcon = useSmall ? IconTable16 : IconTable24;\n        break;\n      }\n    case VIS_TYPE_BAR:\n      {\n        VisIcon = useSmall ? IconVisualizationBar16 : IconVisualizationBar24;\n        break;\n      }\n    case VIS_TYPE_STACKED_BAR:\n      {\n        VisIcon = useSmall ? IconVisualizationBarStacked16 : IconVisualizationBarStacked24;\n        break;\n      }\n    case VIS_TYPE_STACKED_COLUMN:\n      {\n        VisIcon = useSmall ? IconVisualizationColumnStacked16 : IconVisualizationColumnStacked24;\n        break;\n      }\n    case VIS_TYPE_LINE:\n      {\n        VisIcon = useSmall ? IconVisualizationLine16 : IconVisualizationLine24;\n        break;\n      }\n    case VIS_TYPE_AREA:\n      {\n        VisIcon = useSmall ? IconVisualizationArea16 : IconVisualizationArea24;\n        break;\n      }\n    case VIS_TYPE_STACKED_AREA:\n      {\n        VisIcon = useSmall ? IconVisualizationAreaStacked16 : IconVisualizationAreaStacked24;\n        break;\n      }\n    case VIS_TYPE_PIE:\n      {\n        VisIcon = useSmall ? IconVisualizationPie16 : IconVisualizationPie24;\n        break;\n      }\n    case VIS_TYPE_RADAR:\n      {\n        VisIcon = useSmall ? IconVisualizationRadar16 : IconVisualizationRadar24;\n        break;\n      }\n    case VIS_TYPE_GAUGE:\n      {\n        VisIcon = useSmall ? IconVisualizationGauge16 : IconVisualizationGauge24;\n        break;\n      }\n    case VIS_TYPE_YEAR_OVER_YEAR_LINE:\n      {\n        VisIcon = useSmall ? IconVisualizationLineMulti16 : IconVisualizationLineMulti24;\n        break;\n      }\n    case VIS_TYPE_YEAR_OVER_YEAR_COLUMN:\n      {\n        VisIcon = useSmall ? IconVisualizationColumnMulti16 : IconVisualizationColumnMulti24;\n        break;\n      }\n    case VIS_TYPE_SINGLE_VALUE:\n      {\n        VisIcon = useSmall ? IconVisualizationSingleValue16 : IconVisualizationSingleValue24;\n        break;\n      }\n    case VIS_TYPE_SCATTER:\n      {\n        VisIcon = useSmall ? IconVisualizationScatter16 : IconVisualizationScatter24;\n        break;\n      }\n    case VIS_TYPE_COLUMN:\n    default:\n      {\n        VisIcon = useSmall ? IconVisualizationColumn16 : IconVisualizationColumn24;\n        break;\n      }\n  }\n  return /*#__PURE__*/React.createElement(VisIcon, props);\n};\nVisTypeIcon.propTypes = {\n  type: PropTypes.string,\n  useSmall: PropTypes.bool\n};\nexport default VisTypeIcon;","import { DataTableRow, DataTableCell, colors } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { DateField } from './DateField.js';\nimport { VisTypeIcon } from './VTI.js';\nexport const FileList = _ref => {\n  let {\n    data,\n    onSelect,\n    showVisTypeColumn\n  } = _ref;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, data.map(visualization => /*#__PURE__*/React.createElement(DataTableRow, {\n    key: visualization.id\n  }, /*#__PURE__*/React.createElement(DataTableCell, {\n    onClick: () => onSelect({\n      id: visualization.id,\n      name: visualization.displayName,\n      href: visualization.href\n    })\n  }, visualization.displayName), showVisTypeColumn && /*#__PURE__*/React.createElement(DataTableCell, {\n    align: \"center\"\n  }, /*#__PURE__*/React.createElement(VisTypeIcon, {\n    type: visualization.type,\n    useSmall: true,\n    color: colors.grey600\n  })), /*#__PURE__*/React.createElement(DataTableCell, null, /*#__PURE__*/React.createElement(DateField, {\n    date: visualization.created\n  })), /*#__PURE__*/React.createElement(DataTableCell, null, /*#__PURE__*/React.createElement(DateField, {\n    date: visualization.lastUpdated\n  })))));\n};\nFileList.propTypes = {\n  data: PropTypes.arrayOf(PropTypes.shape({\n    created: PropTypes.string.isRequired,\n    displayName: PropTypes.string.isRequired,\n    id: PropTypes.string.isRequired,\n    lastUpdated: PropTypes.string.isRequired,\n    type: PropTypes.string\n  })).isRequired,\n  onSelect: PropTypes.func.isRequired,\n  showVisTypeColumn: PropTypes.bool\n};\nexport default FileList;","import i18n from '@dhis2/d2-i18n';\nimport { Input } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport const NameFilter = _ref => {\n  let {\n    dataTest,\n    value,\n    onChange\n  } = _ref;\n  return /*#__PURE__*/React.createElement(Input, {\n    type: \"search\",\n    placeholder: i18n.t('Filter by name'),\n    onChange: _ref2 => {\n      let {\n        value\n      } = _ref2;\n      return onChange(value);\n    },\n    value: value,\n    initialFocus: true,\n    dense: true,\n    dataTest: dataTest\n  });\n};\nNameFilter.propTypes = {\n  onChange: PropTypes.func.isRequired,\n  dataTest: PropTypes.string,\n  value: PropTypes.string\n};\nexport default NameFilter;","import { colors, spacers } from '@dhis2/ui';\nexport const styles = [\".data-table-wrapper.jsx-3416632651{min-height:405px;}\", \".data-table-body.jsx-3416632651{min-height:465px;}\", `.pagination-controls.jsx-3416632651{width:100%;margin-top:${spacers.dp12};display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;}`, `.search-and-filter-bar.jsx-3416632651{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;gap:${spacers.dp4};-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:${spacers.dp8};}`, \".search-field-container.jsx-3416632651{min-width:220px;}\", \".type-field-container.jsx-3416632651,.created-by-field-container.jsx-3416632651{min-width:180px;}\", `.info-cell.jsx-3416632651{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;gap:${spacers.dp8};margin:${spacers.dp32} 0;}`, \".info-container.jsx-3416632651{max-width:400px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}\", `.info-text.jsx-3416632651{text-align:center;font-size:14px;line-height:19px;color:${colors.grey700};}`, `.info-button.jsx-3416632651{margin-top:${spacers.dp12};}`];\nstyles.__hash = \"3416632651\";","import i18n from '@dhis2/d2-i18n';\nimport { Pagination } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport const PaginationControls = _ref => {\n  let {\n    page,\n    pager,\n    onPageChange\n  } = _ref;\n  return /*#__PURE__*/React.createElement(Pagination, {\n    page: page,\n    pageCount: pager.pageCount,\n    pageSize: pager.pageSize,\n    total: pager.total,\n    onPageChange: onPageChange,\n    onPageSizeChange: Function.prototype,\n    hidePageSizeSelect: true,\n    pageSummaryText: _ref2 => {\n      let {\n        firstItem: firstItemIndex,\n        lastItem: lastItemIndex,\n        total: totalNumberOfItems\n      } = _ref2;\n      return i18n.t('{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}', {\n        firstItemIndex,\n        lastItemIndex,\n        totalNumberOfItems\n      });\n    }\n  });\n};\nPaginationControls.propTypes = {\n  page: PropTypes.number,\n  pager: PropTypes.object,\n  onPageChange: PropTypes.func\n};\nexport default PaginationControls;","import i18n from '@dhis2/d2-i18n';\nexport const AO_TYPE_VISUALIZATION = 'visualization';\nexport const AO_TYPE_MAP = 'map';\nexport const AO_TYPE_EVENT_VISUALIZATION = 'eventVisualization';\nexport const AOTypeMap = {\n  [AO_TYPE_VISUALIZATION]: {\n    apiEndpoint: 'visualizations'\n  },\n  [AO_TYPE_MAP]: {\n    apiEndpoint: 'maps'\n  },\n  [AO_TYPE_EVENT_VISUALIZATION]: {\n    apiEndpoint: 'eventVisualizations'\n  }\n};\nconst NO_TYPE = 'NO_TYPE';\nconst texts = {\n  [NO_TYPE]: {\n    modalTitle: i18n.t('Open'),\n    loadingText: i18n.t('Loading'),\n    errorTitle: i18n.t(\"Couldn't load items\"),\n    errorText: i18n.t('There was a problem loading items. Try again or contact your system administrator.'),\n    noDataText: i18n.t('No items found. Create a new to get started.'),\n    noFilteredDataText: i18n.t(\"No items found. Try adjusting your search or filter options to find what you're looking for.\"),\n    newButtonLabel: i18n.t('Create new')\n  },\n  [AO_TYPE_VISUALIZATION]: {\n    // modalTitle: i18n.t('Open a visualization'),\n    modalTitle: i18n.t('Open a visualization'),\n    // edit\n    loadingText: i18n.t('Loading visualizations'),\n    errorTitle: i18n.t(\"Couldn't load visualizations\"),\n    errorText: i18n.t('There was a problem loading visualizations. Try again or contact your system administrator.'),\n    noDataText: i18n.t('No visualizations found. Click New visualization to get started.'),\n    noFilteredDataText: i18n.t(\"No visualizations found. Try adjusting your search or filter options to find what you're looking for.\"),\n    newButtonLabel: i18n.t('New visualization')\n  },\n  [AO_TYPE_MAP]: {\n    modalTitle: i18n.t('Open a map'),\n    loadingText: i18n.t('Loading maps'),\n    errorTitle: i18n.t(\"Couldn't load maps\"),\n    errorText: i18n.t('There was a problem loading maps. Try again or contact your system administrator.'),\n    noDataText: i18n.t('No maps found. Click New map to get started.'),\n    noFilteredDataText: i18n.t(\"No maps found. Try adjusting your search or filter options to find what you're looking for.\"),\n    newButtonLabel: i18n.t('New map')\n  },\n  [AO_TYPE_EVENT_VISUALIZATION]: {\n    modalTitle: i18n.t('Open a line list'),\n    loadingText: i18n.t('Loading line lists'),\n    errorTitle: i18n.t(\"Couldn't load line lists\"),\n    errorText: i18n.t('There was a problem loading line lists. Try again or contact your system administrator.'),\n    noDataText: i18n.t('No line lists found. Click New line list to get started.'),\n    noFilteredDataText: i18n.t(\"No line lists found. Try adjusting your search or filter options to find what you're looking for.\"),\n    newButtonLabel: i18n.t('New line list')\n  }\n};\nexport const getTranslatedString = (type, key) => (texts[type] || texts[NO_TYPE])[key];","import { colors, spacers } from '@dhis2/ui';\nconst _defaultExport = [`div.jsx-1267200705{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;font-size:14px;-webkit-text-decoration:none;text-decoration:none;color:${colors.grey900};padding:${spacers.dp8} ${spacers.dp12};}`, `div.jsx-1267200705:hover{background-color:${colors.grey200};}`, `div.jsx-1267200705:active,div.active.jsx-1267200705{background-color:${colors.teal700};color:${colors.white};cursor:auto;}`, `div.disabled.jsx-1267200705{color:${colors.grey500};cursor:not-allowed;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}`, \"div.disabled.jsx-1267200705:hover{background-color:initial;}\", `span.label.jsx-1267200705{margin-left:${spacers.dp8};}`];\n_defaultExport.__hash = \"1267200705\";\nexport default _defaultExport;","import _JSXStyle from \"styled-jsx/style\";\nimport i18n from '@dhis2/d2-i18n';\nimport { MenuDivider, Tooltip } from '@dhis2/ui';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './styles/CustomSelectOption.style.js';\nconst CustomSelectOptionItem = _ref => {\n  let {\n    value,\n    label,\n    icon,\n    insertDivider,\n    onClick,\n    active,\n    disabled\n  } = _ref;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    onClick: e => onClick({}, e),\n    \"data-value\": value,\n    \"data-label\": label,\n    className: `jsx-${styles.__hash}` + \" \" + (cx({\n      active,\n      disabled\n    }) || \"\")\n  }, icon, /*#__PURE__*/React.createElement(\"span\", {\n    className: `jsx-${styles.__hash}` + \" \" + (cx({\n      label: icon\n    }) || \"\")\n  }, label), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: styles.__hash\n  }, styles)), insertDivider && /*#__PURE__*/React.createElement(MenuDivider, {\n    dense: true\n  }));\n};\nexport const CustomSelectOption = props => props.disabled ? /*#__PURE__*/React.createElement(Tooltip, {\n  content: i18n.t('Not supported by this app yet')\n}, /*#__PURE__*/React.createElement(CustomSelectOptionItem, props)) : /*#__PURE__*/React.createElement(CustomSelectOptionItem, props);\nCustomSelectOption.propTypes = {\n  label: PropTypes.string.isRequired,\n  value: PropTypes.string.isRequired,\n  active: PropTypes.bool,\n  disabled: PropTypes.bool,\n  icon: PropTypes.element,\n  onClick: PropTypes.func\n};\nCustomSelectOptionItem.propTypes = CustomSelectOption.propTypes;\nexport default CustomSelectOption;","import i18n from '@dhis2/d2-i18n';\nimport { SingleSelect, colors } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { getDisplayNameByVisType, visTypeIcons } from './visTypes.js';\n/* eslint-disable-next-line import/order */\nimport { CustomSelectOption } from './CustomSelectOption.js';\nimport { VisTypeIcon } from './VTI.js';\nexport const VisTypeFilter = _ref => {\n  let {\n    visTypes,\n    selected,\n    onChange\n  } = _ref;\n  return /*#__PURE__*/React.createElement(SingleSelect, {\n    selected: selected,\n    onChange: _ref2 => {\n      let {\n        selected\n      } = _ref2;\n      return onChange(selected);\n    },\n    prefix: i18n.t('Type'),\n    dense: true,\n    maxHeight: \"400px\"\n  }, visTypes === null || visTypes === void 0 ? void 0 : visTypes.map(_ref3 => {\n    let {\n      type,\n      disabled,\n      insertDivider\n    } = _ref3;\n    return /*#__PURE__*/React.createElement(CustomSelectOption, {\n      key: type,\n      disabled: disabled,\n      label: getDisplayNameByVisType(type),\n      insertDivider: insertDivider,\n      value: type,\n      icon: visTypeIcons[type] ? /*#__PURE__*/React.createElement(VisTypeIcon, {\n        type: type,\n        useSmall: true,\n        color: colors.grey600\n      }) : undefined\n    });\n  }));\n};\nVisTypeFilter.propTypes = {\n  selected: PropTypes.string,\n  visTypes: PropTypes.arrayOf(PropTypes.shape({\n    disabled: PropTypes.bool,\n    insertDivider: PropTypes.bool,\n    type: PropTypes.string\n  })),\n  onChange: PropTypes.func\n};\nexport default VisTypeFilter;","import _JSXStyle from \"styled-jsx/style\";\nimport { useDataQuery } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { Box, Modal, ModalTitle, ModalContent, DataTable, DataTableHead, DataTableBody, DataTableRow, DataTableCell, DataTableColumnHeader, NoticeBox, CircularLoader, Button } from '@dhis2/ui';\nimport isEqual from 'lodash/isEqual';\nimport PropTypes from 'prop-types';\nimport React, { useCallback, useEffect, useMemo, useReducer, useState } from 'react';\n/* eslint-disable-next-line import/order */\nimport { VIS_TYPE_GROUP_ALL, VIS_TYPE_GROUP_CHARTS } from './visTypes.js';\nimport { CreatedByFilter, CREATED_BY_ALL, CREATED_BY_ALL_BUT_CURRENT_USER, CREATED_BY_CURRENT_USER } from './CreatedByFilter.js';\nimport { FileList } from './FileList.js';\nimport { NameFilter } from './NameFilter.js';\nimport { styles } from './OpenFileDialog.styles.js';\nimport { PaginationControls } from './PaginationControls.js';\nimport { getTranslatedString, AOTypeMap } from './utils.js';\nimport { VisTypeFilter } from './VisTypeFilter.js';\nconst getQuery = type => ({\n  files: {\n    resource: AOTypeMap[type].apiEndpoint,\n    params: _ref => {\n      let {\n        sortField = 'displayName',\n        sortDirection = 'iasc',\n        page = 1,\n        filters\n      } = _ref;\n      const queryParams = {\n        filter: filters,\n        fields: `id,type,displayName,title,displayDescription,created,lastUpdated,user,access,href`,\n        paging: true,\n        pageSize: 8,\n        page\n      };\n      if (sortDirection !== 'default') {\n        queryParams.order = `${sortField}:${sortDirection}`;\n      }\n      return queryParams;\n    }\n  }\n});\nexport const OpenFileDialog = _ref2 => {\n  let {\n    type,\n    open,\n    filterVisTypes,\n    defaultFilterVisType,\n    onClose,\n    onFileSelect,\n    onNew,\n    currentUser\n  } = _ref2;\n  const filesQuery = useMemo(() => getQuery(type), [type]);\n  const defaultFilters = {\n    searchTerm: '',\n    createdBy: CREATED_BY_ALL,\n    visType: defaultFilterVisType\n  };\n  const [{\n    page,\n    sortField,\n    sortDirection,\n    filters\n  }, setState] = useReducer((state, newState) => ({\n    ...state,\n    ...newState\n  }), {\n    page: 1,\n    sortField: 'displayName',\n    sortDirection: 'asc',\n    filters: defaultFilters\n  });\n  const [nameFilterValue, setNameFilterValue] = useState(defaultFilters.searchTerm);\n  const [searchTimeout, setSearchTimeout] = useState(null);\n  const formatFilters = useCallback(() => {\n    const queryFilters = [];\n    switch (filters.createdBy) {\n      case CREATED_BY_ALL_BUT_CURRENT_USER:\n        queryFilters.push(`user.id:!eq:${currentUser.id}`);\n        break;\n      case CREATED_BY_CURRENT_USER:\n        queryFilters.push(`user.id:eq:${currentUser.id}`);\n        break;\n      case CREATED_BY_ALL:\n      default:\n        break;\n    }\n    if (filters.visType) {\n      switch (filters.visType) {\n        case VIS_TYPE_GROUP_ALL:\n          break;\n        case VIS_TYPE_GROUP_CHARTS:\n          queryFilters.push('type:!eq:PIVOT_TABLE');\n          break;\n        default:\n          queryFilters.push(`type:eq:${filters.visType}`);\n          break;\n      }\n    }\n    if (filters.searchTerm) {\n      queryFilters.push(`identifiable:token:${filters.searchTerm}`);\n    }\n    return queryFilters;\n  }, [currentUser, filters]);\n  const formatSortDirection = useCallback(() => {\n    if (sortField === 'displayName' && sortDirection !== 'default') {\n      return `i${sortDirection}`;\n    }\n    return sortDirection;\n  }, [sortField, sortDirection]);\n  const {\n    loading,\n    error,\n    data,\n    refetch\n  } = useDataQuery(filesQuery, {\n    lazy: true,\n    onComplete: response => {\n      if (page !== response.files.pager.page) {\n        setPage(response.files.pager.page);\n      }\n    }\n  });\n  const resetFilters = () => {\n    setState({\n      filters: defaultFilters,\n      page: 1\n    });\n    setNameFilterValue(defaultFilters.searchTerm);\n  };\n  const setPage = pageNum => setState({\n    page: pageNum\n  });\n  const sortData = _ref3 => {\n    let {\n      name,\n      direction\n    } = _ref3;\n    return setState({\n      sortField: name,\n      sortDirection: direction,\n      page: 1\n    });\n  };\n  useEffect(() => {\n    // only fetch data when the dialog is open\n    if (open) {\n      refetch({\n        page,\n        sortField,\n        sortDirection: formatSortDirection(),\n        filters: formatFilters()\n      });\n    }\n  }, [open, page, sortField, filters, refetch, formatFilters, formatSortDirection]);\n  const headers = [{\n    field: 'displayName',\n    label: i18n.t('Name'),\n    width: '470px'\n  }, {\n    field: 'created',\n    label: i18n.t('Created'),\n    width: '110px'\n  }, {\n    field: 'lastUpdated',\n    label: i18n.t('Last updated'),\n    width: '110px'\n  }];\n  if (filterVisTypes !== null && filterVisTypes !== void 0 && filterVisTypes.length) {\n    headers.splice(1, 0, {\n      field: 'type',\n      label: i18n.t('Type'),\n      width: '60px'\n    });\n  }\n  const getSortDirection = fieldName => fieldName === sortField ? sortDirection : 'default';\n  const cypressSelector = 'open-file-dialog-modal';\n  return /*#__PURE__*/React.createElement(Modal, {\n    large: true,\n    position: \"top\",\n    hide: !open,\n    onClose: onClose,\n    dataTest: cypressSelector\n  }, /*#__PURE__*/React.createElement(ModalTitle, null, getTranslatedString(type, 'modalTitle')), /*#__PURE__*/React.createElement(ModalContent, null, /*#__PURE__*/React.createElement(Box, {\n    minHeight: \"496px\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"search-and-filter-bar\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"search-field-container\"\n  }, /*#__PURE__*/React.createElement(NameFilter, {\n    dataTest: `${cypressSelector}-name-filter`,\n    value: nameFilterValue,\n    onChange: value => {\n      setNameFilterValue(value);\n      clearTimeout(searchTimeout);\n      setSearchTimeout(setTimeout(() => setState({\n        page: 1,\n        filters: {\n          ...filters,\n          searchTerm: value\n        }\n      }), 200));\n    }\n  })), (filterVisTypes === null || filterVisTypes === void 0 ? void 0 : filterVisTypes.length) && /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"type-field-container\"\n  }, /*#__PURE__*/React.createElement(VisTypeFilter, {\n    visTypes: filterVisTypes,\n    selected: filters.visType,\n    onChange: value => setState({\n      page: 1,\n      filters: {\n        ...filters,\n        visType: value\n      }\n    })\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"created-by-field-container\"\n  }, /*#__PURE__*/React.createElement(CreatedByFilter, {\n    selected: filters.createdBy,\n    onChange: value => setState({\n      page: 1,\n      filters: {\n        ...filters,\n        createdBy: value\n      }\n    })\n  })), !isEqual(filters, defaultFilters) && /*#__PURE__*/React.createElement(Button, {\n    onClick: resetFilters,\n    secondary: true,\n    small: true\n  }, i18n.t('Clear filters'))), error ? /*#__PURE__*/React.createElement(NoticeBox, {\n    title: getTranslatedString(type, 'errorTitle'),\n    warning: true\n  }, getTranslatedString(type, 'errorText')) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"data-table-wrapper\"\n  }, /*#__PURE__*/React.createElement(DataTable, {\n    layout: \"fixed\"\n  }, /*#__PURE__*/React.createElement(DataTableHead, null, /*#__PURE__*/React.createElement(DataTableRow, null, data !== null && data !== void 0 && data.files[AOTypeMap[type].apiEndpoint].length ? headers.map(_ref4 => {\n    let {\n      field,\n      label,\n      width\n    } = _ref4;\n    return /*#__PURE__*/React.createElement(DataTableColumnHeader, {\n      width: width,\n      key: field,\n      name: field,\n      onSortIconClick: sortData,\n      sortDirection: getSortDirection(field)\n    }, label);\n  }) : /*#__PURE__*/React.createElement(DataTableColumnHeader, null))), /*#__PURE__*/React.createElement(DataTableBody, {\n    className: \"data-table-body\"\n  }, loading && /*#__PURE__*/React.createElement(DataTableRow, null, /*#__PURE__*/React.createElement(DataTableCell, {\n    large: true\n  }, /*#__PURE__*/React.createElement(Box, {\n    height: \"342px\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"info-cell\"\n  }, /*#__PURE__*/React.createElement(CircularLoader, {\n    small: true\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"info-text\"\n  }, getTranslatedString(type, 'loadingText')))))), !loading && !(data !== null && data !== void 0 && data.files[AOTypeMap[type].apiEndpoint].length) > 0 && /*#__PURE__*/React.createElement(DataTableRow, null, /*#__PURE__*/React.createElement(DataTableCell, {\n    large: true\n  }, /*#__PURE__*/React.createElement(Box, {\n    minHeight: \"342px\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"info-cell\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"info-container\"\n  }, !isEqual(filters, defaultFilters) ? /*#__PURE__*/React.createElement(\"span\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"info-text\"\n  }, getTranslatedString(type, 'noFilteredDataText')) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"info-text\"\n  }, getTranslatedString(type, 'noDataText')), /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"info-button\"\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: () => {\n      onNew();\n      onClose();\n    }\n  }, getTranslatedString(type, 'newButtonLabel'))))))))), (data === null || data === void 0 ? void 0 : data.files[AOTypeMap[type].apiEndpoint].length) > 0 && /*#__PURE__*/React.createElement(FileList, {\n    data: data.files[AOTypeMap[type].apiEndpoint],\n    onSelect: onFileSelect,\n    showVisTypeColumn: Boolean(filterVisTypes === null || filterVisTypes === void 0 ? void 0 : filterVisTypes.length)\n  })))), (data === null || data === void 0 ? void 0 : data.files[AOTypeMap[type].apiEndpoint].length) > 0 && /*#__PURE__*/React.createElement(\"div\", {\n    className: `jsx-${styles.__hash}` + \" \" + \"pagination-controls\"\n  }, /*#__PURE__*/React.createElement(PaginationControls, {\n    page: data.files.pager.page,\n    pager: data.files.pager,\n    onPageChange: setPage\n  }))), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: styles.__hash\n  }, styles))));\n};\nOpenFileDialog.propTypes = {\n  currentUser: PropTypes.object.isRequired,\n  open: PropTypes.bool.isRequired,\n  type: PropTypes.oneOf(Object.keys(AOTypeMap)).isRequired,\n  onClose: PropTypes.func.isRequired,\n  onFileSelect: PropTypes.func.isRequired,\n  onNew: PropTypes.func.isRequired,\n  defaultFilterVisType: PropTypes.string,\n  filterVisTypes: PropTypes.array\n};\nexport default OpenFileDialog;","// extracted by mini-css-extract-plugin\nexport default {\"editTitle\":\"edit-title_editTitle__HH9Bq\"};","import PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './edit-title.module.css';\nexport const EditTitle = _ref => {\n  let {\n    title\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"h2\", {\n    className: styles.editTitle\n  }, title);\n};\nEditTitle.propTypes = {\n  title: PropTypes.string\n};","import { SCHEME_TYPES } from '../shared/index.js';\nconst getFormIdSchemeValues = _ref => {\n  let {\n    requestValues,\n    outputDataItemIdSchemeAvailable\n  } = _ref;\n  const baseIdSchemeProps = ['outputIdScheme', 'outputDataElementIdScheme', 'outputOrgUnitIdScheme'];\n  const idSchemeProps = outputDataItemIdSchemeAvailable ? [...baseIdSchemeProps, 'outputDataItemIdScheme'] : baseIdSchemeProps;\n  return idSchemeProps.reduce((idSchemeValues, prop) => {\n    const attributeProp = `source_${prop}_attribute`;\n    idSchemeValues[prop] = requestValues[`source_${prop}`] !== SCHEME_TYPES.attribute ? requestValues[`source_${prop}`] : `ATTRIBUTE:${requestValues[attributeProp]}`;\n    return idSchemeValues;\n  }, {});\n};\nexport const getRequestValuesFromForm = _ref2 => {\n  var _requestValues$visual;\n  let {\n    requestValues,\n    outputDataItemIdSchemeAvailable\n  } = _ref2;\n  const validFilters = !requestValues.filtersUsed ? [] : requestValues === null || requestValues === void 0 ? void 0 : requestValues.filtersInfo.filter(f => {\n    var _f$items;\n    return ((_f$items = f.items) === null || _f$items === void 0 ? void 0 : _f$items.length) > 0;\n  }).map(filter => ({\n    ...filter,\n    items: filter.items.map(_ref3 => {\n      let {\n        id\n      } = _ref3;\n      return id;\n    })\n  }));\n  const filtersActuallyUsed = requestValues.filtersUsed && validFilters.length > 0;\n  return {\n    ...requestValues,\n    name: requestValues.requestName,\n    dx: requestValues === null || requestValues === void 0 ? void 0 : requestValues.dxInfo.map(_ref4 => {\n      let {\n        id\n      } = _ref4;\n      return id;\n    }),\n    pe: requestValues === null || requestValues === void 0 ? void 0 : requestValues.peInfo.map(_ref5 => {\n      let {\n        id\n      } = _ref5;\n      return id;\n    }),\n    ou: requestValues === null || requestValues === void 0 ? void 0 : requestValues.ouInfo.map(_ref6 => {\n      let {\n        id\n      } = _ref6;\n      return id;\n    }),\n    visualization: requestValues.visualizationLinked ? requestValues === null || requestValues === void 0 ? void 0 : (_requestValues$visual = requestValues.visualizationInfo) === null || _requestValues$visual === void 0 ? void 0 : _requestValues$visual.id : null,\n    filters: !filtersActuallyUsed ? [] : validFilters,\n    filtersInfo: !filtersActuallyUsed ? null : requestValues.filtersInfo,\n    visualizationInfo: !requestValues.visualizationLinked ? null : requestValues.visualizationInfo,\n    inputIdScheme: SCHEME_TYPES.uid,\n    ...getFormIdSchemeValues({\n      requestValues,\n      outputDataItemIdSchemeAvailable\n    })\n  };\n};\nconst getIdSchemeValues = _ref7 => {\n  let {\n    request,\n    outputDataItemIdSchemeAvailable\n  } = _ref7;\n  const defaultSchemeProp = 'outputIdScheme';\n  const baseIdSchemeProps = [defaultSchemeProp, 'outputDataElementIdScheme', 'outputOrgUnitIdScheme'];\n  const idSchemeProps = outputDataItemIdSchemeAvailable ? [...baseIdSchemeProps, 'outputDataItemIdScheme'] : baseIdSchemeProps;\n  return idSchemeProps.reduce((idSchemeValues, prop) => {\n    var _request$prop, _request$prop$split$, _request$prop2;\n    idSchemeValues[`source_${prop}`] = request !== null && request !== void 0 && request[prop] ? request === null || request === void 0 ? void 0 : (_request$prop = request[prop]) === null || _request$prop === void 0 ? void 0 : (_request$prop$split$ = _request$prop.split(':')[0]) === null || _request$prop$split$ === void 0 ? void 0 : _request$prop$split$.toUpperCase() : prop === defaultSchemeProp ? SCHEME_TYPES.uid : SCHEME_TYPES.none;\n    idSchemeValues[`source_${prop}_attribute`] = request === null || request === void 0 ? void 0 : (_request$prop2 = request[prop]) === null || _request$prop2 === void 0 ? void 0 : _request$prop2.split(':')[1];\n    return idSchemeValues;\n  }, {});\n};\nexport const getInitialValuesFromRequest = _ref8 => {\n  var _request$peInfo, _request$ouInfo, _request$dxInfo, _request$filtersInfo, _request$filtersInfo2, _request$visualizatio;\n  let {\n    request,\n    outputDataItemIdSchemeAvailable\n  } = _ref8;\n  return {\n    requestName: request === null || request === void 0 ? void 0 : request.name,\n    peInfo: (_request$peInfo = request === null || request === void 0 ? void 0 : request.peInfo) !== null && _request$peInfo !== void 0 ? _request$peInfo : [],\n    ouInfo: (_request$ouInfo = request === null || request === void 0 ? void 0 : request.ouInfo) !== null && _request$ouInfo !== void 0 ? _request$ouInfo : [],\n    dxInfo: (_request$dxInfo = request === null || request === void 0 ? void 0 : request.dxInfo) !== null && _request$dxInfo !== void 0 ? _request$dxInfo : [],\n    filtersUsed: (request === null || request === void 0 ? void 0 : (_request$filtersInfo = request.filtersInfo) === null || _request$filtersInfo === void 0 ? void 0 : _request$filtersInfo.length) > 0,\n    filtersInfo: (_request$filtersInfo2 = request === null || request === void 0 ? void 0 : request.filtersInfo) !== null && _request$filtersInfo2 !== void 0 ? _request$filtersInfo2 : [{\n      dimension: null\n    }],\n    visualizationLinked: Boolean(request.visualization),\n    visualizationInfo: (_request$visualizatio = request === null || request === void 0 ? void 0 : request.visualizationInfo) !== null && _request$visualizatio !== void 0 ? _request$visualizatio : null,\n    ...getIdSchemeValues({\n      request,\n      outputDataItemIdSchemeAvailable\n    })\n  };\n};","import { DataDimension, dataTypeMap, DIMENSION_TYPE_EXPRESSION_DIMENSION_ITEM } from '@dhis2/analytics';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { SelectorValidationError } from '../shared/index.js';\nexport const DataItemSelect = _ref => {\n  let {\n    input,\n    meta\n  } = _ref;\n  const {\n    value: selectedDimensions,\n    onChange\n  } = input;\n  const enabledDataTypes = Object.values(dataTypeMap).filter(_ref2 => {\n    let {\n      id\n    } = _ref2;\n    return id !== DIMENSION_TYPE_EXPRESSION_DIMENSION_ITEM;\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(DataDimension, {\n    enabledDataTypes: enabledDataTypes,\n    onSelect: _ref3 => {\n      let {\n        items\n      } = _ref3;\n      onChange(items);\n    },\n    selectedDimensions: selectedDimensions !== null && selectedDimensions !== void 0 ? selectedDimensions : [],\n    displayNameProp: \"displayName\"\n  }), /*#__PURE__*/React.createElement(SelectorValidationError, {\n    meta: meta\n  }));\n};\nDataItemSelect.propTypes = {\n  input: PropTypes.object,\n  meta: PropTypes.object\n};","// extracted by mini-css-extract-plugin\nexport default {\"filterRow\":\"dimension-filter-row_filterRow__4wYI7\"};","// extracted by mini-css-extract-plugin\nexport default {\"select\":\"dimension-items-select_select__hL8uq\"};","// extracted by mini-css-extract-plugin\nexport default {\"inputField\":\"select-field_inputField__b2QEE\"};","import { SingleSelectField, SingleSelectOption, MultiSelectField, MultiSelectOption } from '@dhis2/ui';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { useCallback } from 'react';\nimport styles from './select-field.module.css';\n\n/**\n * Wrapper component around @dhis2/ui SingleSelectField and MultiSelectField\n * Allows options to be created from an array of models (containing id and name properties)\n * id can be numbers, although @dhis2/ui requires option values to be strings.\n */\nconst SelectField = props => {\n  const {\n    dense = true,\n    errorText,\n    helpText,\n    warning,\n    items,\n    label,\n    prefix,\n    loading,\n    multiple,\n    disabled,\n    onChange,\n    className,\n    value,\n    dataTest\n  } = props;\n  const isLoading = loading === true;\n  const Select = multiple ? MultiSelectField : SingleSelectField;\n  const Option = multiple ? MultiSelectOption : SingleSelectOption;\n  let selected;\n  if (multiple) {\n    selected = Array.isArray(value) ? value.map(v => String(v)) : [];\n  } else {\n    selected = value !== undefined && value !== null ? String(value) : '';\n  }\n\n  // Returns selected items in the original format\n  const onSelectChange = useCallback(_ref => {\n    let {\n      selected\n    } = _ref;\n    return onChange(multiple ? items.filter(item => selected.includes(String(item.id))).map(item => item.id) : items.find(item => String(item.id) === selected));\n  }, [items, multiple, onChange]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: cx(styles.inputField, className)\n  }, /*#__PURE__*/React.createElement(Select, {\n    dense: dense,\n    label: label,\n    prefix: prefix,\n    selected: !isLoading ? selected : undefined,\n    disabled: disabled,\n    loading: isLoading,\n    error: !!errorText,\n    warning: !!warning,\n    validationText: warning ? warning : errorText,\n    helpText: helpText,\n    onChange: onSelectChange,\n    dataTest: dataTest\n  }, items && items.map(_ref2 => {\n    let {\n      id,\n      name\n    } = _ref2;\n    return /*#__PURE__*/React.createElement(Option, {\n      key: id,\n      value: String(id),\n      label: name\n    });\n  })));\n};\nSelectField.propTypes = {\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n  dense: PropTypes.bool,\n  disabled: PropTypes.bool,\n  errorText: PropTypes.string,\n  // If set, shows the error message below the SelectField\n  helpText: PropTypes.string,\n  // If set, shows the help text below the SelectField\n  items: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n    name: PropTypes.string\n  })),\n  label: PropTypes.string,\n  // If true, spinner will be shown in the select menu. If string, the text will be shown\n  loading: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n  // If true, then use multiple selection. Adds a checkbox to each menu item.\n  multiple: PropTypes.bool,\n  prefix: PropTypes.string,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number]))]),\n  warning: PropTypes.string,\n  // If set, shows the warning message below the SelectField\n  onChange: PropTypes.func\n};\nexport default SelectField;","import { useDataQuery } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React, { useEffect } from 'react';\nimport styles from './dimension-items-select.module.css';\nimport SelectField from './select-field.js';\n\n// Load dimension items\nconst DIMENSION_ITEMS_QUERY = {\n  items: {\n    resource: 'dimensions',\n    id: _ref => {\n      let {\n        id\n      } = _ref;\n      return `${id}/items`;\n    },\n    params: _ref2 => {\n      let {\n        nameProperty\n      } = _ref2;\n      return {\n        fields: ['id', `${nameProperty}~rename(name)`],\n        order: `${nameProperty}:asc`,\n        paging: false\n      };\n    }\n  }\n};\nconst DimensionItemsSelect = _ref3 => {\n  let {\n    dimension,\n    value,\n    onChange\n  } = _ref3;\n  const nameProperty = 'displayName';\n  const {\n    loading,\n    error,\n    data,\n    refetch\n  } = useDataQuery(DIMENSION_ITEMS_QUERY, {\n    lazy: true\n  });\n  useEffect(() => {\n    if (dimension) {\n      refetch({\n        id: dimension,\n        nameProperty\n      });\n    }\n  }, [dimension, nameProperty, refetch]);\n  const onDimensionItemClick = ids => onChange(ids.map(id => data.items.items.find(item => item.id === id)));\n  const items = data === null || data === void 0 ? void 0 : data.items.items;\n  const foundValues = value && items ? value.filter(id => items.find(f => f.id === id)) : undefined;\n  return /*#__PURE__*/React.createElement(SelectField, {\n    label: i18n.t('Items'),\n    loading: loading,\n    items: items,\n    value: foundValues,\n    multiple: true,\n    onChange: onDimensionItemClick,\n    errorText: error === null || error === void 0 ? void 0 : error.message,\n    className: styles.select\n  });\n};\nDimensionItemsSelect.propTypes = {\n  onChange: PropTypes.func.isRequired,\n  dimension: PropTypes.string,\n  value: PropTypes.array\n};\nexport default DimensionItemsSelect;","// extracted by mini-css-extract-plugin\nexport default {\"dropdown\":\"dimension-select_dropdown__H15ok\",\"dimensions\":\"dimension-select_dimensions__v05Dw\"};","import { DimensionsPanel } from '@dhis2/analytics';\nimport { useDataQuery } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { Popover, IconChevronDown24, Help } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useRef, useState } from 'react';\nimport styles from './dimension-select.module.css';\n\n// Include the following dimension types\nconst dimensionTypes = ['CATEGORY', 'CATEGORY_OPTION_GROUP_SET', 'ORGANISATION_UNIT_GROUP_SET'];\n\n// Load above dimension types\nconst DIMENSIONS_QUERY = {\n  dimensions: {\n    resource: 'dimensions',\n    params: _ref => {\n      let {\n        nameProperty\n      } = _ref;\n      return {\n        fields: ['id', `${nameProperty}~rename(name)`, 'dimensionType'],\n        filter: `dimensionType:in:[${dimensionTypes.join(',')}]`,\n        order: `${nameProperty}:asc`,\n        paging: false\n      };\n    }\n  }\n};\nconst DimensionSelect = _ref2 => {\n  let {\n    dimension,\n    onChange\n  } = _ref2;\n  const [isOpen, setIsOpen] = useState(false);\n  const nameProperty = 'displayName';\n  const {\n    error,\n    data\n  } = useDataQuery(DIMENSIONS_QUERY, {\n    variables: {\n      nameProperty\n    }\n  });\n  const dropdownRef = useRef();\n  const findDimension = id => data && data.dimensions.dimensions.find(d => d.id === id);\n  const selected = findDimension(dimension);\n  const onDimensionClick = dim => {\n    if (dim !== dimension) {\n      onChange(findDimension(dim));\n    }\n    setIsOpen(false);\n  };\n  if (error) {\n    return /*#__PURE__*/React.createElement(Help, {\n      error: true\n    }, error.message);\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    onClick: () => setIsOpen(true),\n    className: styles.dropdown\n  }, /*#__PURE__*/React.createElement(\"label\", null, i18n.t('Dimension')), /*#__PURE__*/React.createElement(\"div\", {\n    ref: dropdownRef\n  }, /*#__PURE__*/React.createElement(\"span\", null, selected ? selected.name : ''), /*#__PURE__*/React.createElement(IconChevronDown24, null))), isOpen && /*#__PURE__*/React.createElement(Popover, {\n    reference: dropdownRef,\n    placement: \"bottom-start\",\n    onClickOutside: () => setIsOpen(false)\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.dimensions\n  }, /*#__PURE__*/React.createElement(DimensionsPanel, {\n    dimensions: data.dimensions.dimensions,\n    onDimensionClick: onDimensionClick,\n    selectedIds: [dimension]\n  }))));\n};\nDimensionSelect.propTypes = {\n  onChange: PropTypes.func.isRequired,\n  dimension: PropTypes.string\n};\nexport default DimensionSelect;","// extracted by mini-css-extract-plugin\nexport default {\"removeButtonContainer\":\"remove-filter_removeButtonContainer__eETEF\",\"removeBtnContainer\":\"remove-filter_removeBtnContainer__5vgNm\"};","import i18n from '@dhis2/d2-i18n';\nimport { Button } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './remove-filter.module.css';\n\n// Remove filter button used for both thematic and event filters\nconst RemoveFilter = _ref => {\n  let {\n    onClick\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.removeButtonContainer\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: onClick,\n    small: true,\n    destructive: true,\n    secondary: true\n  }, i18n.t('Remove')));\n};\nRemoveFilter.propTypes = {\n  onClick: PropTypes.func.isRequired\n};\nexport default RemoveFilter;","import PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './dimension-filter-row.module.css';\nimport DimensionItemsSelect from './dimension-items-select.js';\nimport DimensionSelect from './dimension-select.js';\nimport RemoveFilter from './remove-filter.js';\nconst DimensionFilterRow = _ref => {\n  let {\n    dimension,\n    items,\n    index,\n    onChange,\n    onRemove\n  } = _ref;\n  const onSelect = (dimension, items) => onChange(index, {\n    dimension,\n    items\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.filterRow\n  }, /*#__PURE__*/React.createElement(DimensionSelect, {\n    dimension: dimension,\n    onChange: selectedDimension => onSelect(selectedDimension.id)\n  }), /*#__PURE__*/React.createElement(DimensionItemsSelect, {\n    dimension: dimension,\n    value: items ? items.map(item => item.id) : null,\n    onChange: items => onSelect(dimension, items)\n  }), /*#__PURE__*/React.createElement(RemoveFilter, {\n    onClick: () => onRemove(index)\n  }));\n};\nDimensionFilterRow.propTypes = {\n  onChange: PropTypes.func.isRequired,\n  onRemove: PropTypes.func.isRequired,\n  dimension: PropTypes.string,\n  index: PropTypes.number,\n  items: PropTypes.array\n};\nexport default DimensionFilterRow;","// extracted by mini-css-extract-plugin\nexport default {\"dimensionFilter\":\"filter-select_dimensionFilter__O0E+X\",\"addFilter\":\"filter-select_addFilter__gheWV\"};","function _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport i18n from '@dhis2/d2-i18n';\nimport { Button } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport DimensionFilterRow from './dimension-filter-row.js';\nimport styles from './filter-select.module.css';\nexport const FilterSelect = _ref => {\n  let {\n    input\n  } = _ref;\n  const {\n    value,\n    onChange\n  } = input;\n  const [dimensions, setDimensions] = useState(() => value);\n  const addDimensionFilter = useCallback(() => {\n    setDimensions(prevDimensions => [...prevDimensions, {\n      dimension: null\n    }]);\n  }, [setDimensions]);\n  const changeDimensionFilter = useCallback((index, filter) => {\n    setDimensions(prevDimensions => [...prevDimensions.slice(0, index), filter, ...prevDimensions.slice(index + 1)]);\n  }, [setDimensions]);\n  const removeDimensionFilter = useCallback(index => {\n    setDimensions(prevDimensions => [...prevDimensions.slice(0, index), ...prevDimensions.slice(index + 1)]);\n  }, [setDimensions]);\n  useEffect(() => {\n    onChange(dimensions);\n  }, [onChange, dimensions]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.dimensionFilter\n  }, dimensions.map((item, index) => /*#__PURE__*/React.createElement(DimensionFilterRow, _extends({\n    key: index,\n    index: index,\n    onChange: changeDimensionFilter,\n    onRemove: removeDimensionFilter\n  }, item))), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.addFilter\n  }, /*#__PURE__*/React.createElement(Button, {\n    small: true,\n    basic: true,\n    onClick: () => addDimensionFilter()\n  }, i18n.t('Add filter'))));\n};\nFilterSelect.propTypes = {\n  dimensions: PropTypes.array,\n  input: PropTypes.object\n};","import { OrgUnitDimension } from '@dhis2/analytics';\nimport PropTypes from 'prop-types';\nimport React, { useMemo } from 'react';\nimport { useUserContext } from '../../../context/index.js';\nimport { SelectorValidationError } from '../shared/index.js';\nexport const OrgUnitSelector = _ref => {\n  let {\n    input,\n    meta\n  } = _ref;\n  const {\n    value: selectedOrgUnits,\n    onChange\n  } = input;\n  const {\n    organisationUnits: userOrganisationUnits\n  } = useUserContext();\n  const rootOrgUnits = useMemo(() => userOrganisationUnits ? userOrganisationUnits.map(_ref2 => {\n    let {\n      id\n    } = _ref2;\n    return id;\n  }) : null, [userOrganisationUnits]);\n  if (!rootOrgUnits) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(OrgUnitDimension, {\n    roots: rootOrgUnits,\n    selected: selectedOrgUnits,\n    onSelect: _ref3 => {\n      let {\n        items\n      } = _ref3;\n      onChange(items);\n    },\n    hideUserOrgUnits: true\n  }), /*#__PURE__*/React.createElement(SelectorValidationError, {\n    meta: meta\n  }));\n};\nOrgUnitSelector.propTypes = {\n  input: PropTypes.object,\n  meta: PropTypes.object\n};","import { PeriodDimension } from '@dhis2/analytics';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { SelectorValidationError } from '../shared/index.js';\nexport const PeriodSelector = _ref => {\n  let {\n    input,\n    meta\n  } = _ref;\n  const {\n    value: selectedPeriods\n  } = input;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(PeriodDimension, {\n    selectedPeriods: selectedPeriods,\n    onSelect: _ref2 => {\n      let {\n        items\n      } = _ref2;\n      input.onChange(items);\n    }\n  }), /*#__PURE__*/React.createElement(SelectorValidationError, {\n    meta: meta\n  }));\n};\nPeriodSelector.propTypes = {\n  input: PropTypes.object,\n  meta: PropTypes.object\n};","// extracted by mini-css-extract-plugin\nexport default {\"subsectionField\":\"request-form-contents_subsectionField__EVr1x\",\"subsectionField1000\":\"request-form-contents_subsectionField1000__MWPyW\",\"subsectionField600\":\"request-form-contents_subsectionField600__A4W9o\",\"subsectionBlockEnd\":\"request-form-contents_subsectionBlockEnd__XTQ4u\",\"visualizationSubtext\":\"request-form-contents_visualizationSubtext__4UBSg\",\"checkContainer\":\"request-form-contents_checkContainer__N1Hf0\",\"schemeExplanationText\":\"request-form-contents_schemeExplanationText__8VkUz\"};","// extracted by mini-css-extract-plugin\nexport default {\"visualizationInfoContainer\":\"visualization-select_visualizationInfoContainer__Fn-Jc\",\"visualizationLinkTextContainer\":\"visualization-select_visualizationLinkTextContainer__w479R\",\"visualizationLinkText\":\"visualization-select_visualizationLinkText__DS-H4\"};","import { useConfig } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { Button } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport { useUserContext } from '../../../context/index.js';\nimport { OpenFileDialog } from '../shared/index.js';\nimport styles from './visualization-select.module.css';\nexport const VisualizationSelect = _ref => {\n  let {\n    input\n  } = _ref;\n  const [open, setOpen] = useState(false);\n  const currentUser = useUserContext();\n  const {\n    value: visualizationInfo,\n    onChange\n  } = input;\n  const {\n    baseUrl\n  } = useConfig();\n  const onFileSelect = selected => {\n    onChange(selected);\n    setOpen(false);\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.visualizationInfoContainer\n  }, visualizationInfo.name && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.visualizationLinkTextContainer\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.visualizationLinkText\n  }, i18n.t('Linked to: ', {\n    nsSeparator: '-:-'\n  })), /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.visualizationLinkText\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    target: \"_blank\",\n    rel: \"noopener noreferrer\",\n    href: `${baseUrl}/dhis-web-data-visualizer/index.html#/${visualizationInfo.id}`\n  }, visualizationInfo.name))), /*#__PURE__*/React.createElement(Button, {\n    small: true,\n    secondary: true,\n    onClick: () => {\n      setOpen(true);\n    }\n  }, visualizationInfo.id ? i18n.t('Choose a different visualization') : i18n.t('Choose a visualization')), /*#__PURE__*/React.createElement(OpenFileDialog, {\n    type: \"visualization\",\n    open: open,\n    onClose: () => {\n      setOpen(false);\n    },\n    onNew: () => {\n      console.log('Not supported');\n    } // this prop is not relevant, but required\n    ,\n    onFileSelect: onFileSelect,\n    currentUser: currentUser\n  }));\n};\nVisualizationSelect.propTypes = {\n  input: PropTypes.object\n};","import i18n from '@dhis2/d2-i18n';\nimport { ReactFinalForm, InputFieldFF, CheckboxFieldFF, hasValue } from '@dhis2/ui';\nimport React from 'react';\nimport { useFeatureToggleContext } from '../../../context/index.js';\nimport { Subsection, SchemeSelector } from '../shared/index.js';\nimport { DataItemSelect } from './data-item-select.js';\nimport { FilterSelect } from './filterSelect/filter-select.js';\nimport { OrgUnitSelector } from './org-unit-select.js';\nimport { PeriodSelector } from './period-select.js';\nimport styles from './request-form-contents.module.css';\nimport { useValidators } from './useValidators.js';\nimport { VisualizationSelect } from './visualization-select.js';\nconst {\n  Field,\n  useField\n} = ReactFinalForm;\nexport const RequestFormContents = () => {\n  const {\n    input: filtersUsed\n  } = useField('filtersUsed', {\n    subscription: {\n      value: true\n    }\n  });\n  const {\n    value: filtersUsedValue\n  } = filtersUsed;\n  const {\n    input: visualizationLinked\n  } = useField('visualizationLinked', {\n    subscription: {\n      value: true\n    }\n  });\n  const {\n    value: visualizationLinkedValue\n  } = visualizationLinked;\n  const {\n    outputDataItemIdSchemeAvailable\n  } = useFeatureToggleContext();\n  const {\n    dataItemSelectValidator,\n    periodSelectValidator,\n    orgUnitSelectValidator\n  } = useValidators();\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Subsection, {\n    text: i18n.t('Request setup'),\n    className: styles.subsectionBlockEnd\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.subsectionField1000,\n    \"data-test\": \"request-name\"\n  }, /*#__PURE__*/React.createElement(Field, {\n    name: \"requestName\",\n    label: i18n.t('Request name'),\n    helpText: i18n.t('Displayed in the Data Exchange app.'),\n    component: InputFieldFF,\n    validate: hasValue\n  })), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Field, {\n    type: \"checkbox\",\n    label: i18n.t('Filter request'),\n    name: \"filtersUsed\",\n    component: CheckboxFieldFF\n  }), filtersUsedValue && /*#__PURE__*/React.createElement(Field, {\n    label: i18n.t('Filter selections'),\n    name: \"filtersInfo\",\n    component: FilterSelect\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.checkContainer\n  }, /*#__PURE__*/React.createElement(Field, {\n    type: \"checkbox\",\n    label: i18n.t('Link request to a visualization'),\n    name: \"visualizationLinked\",\n    component: CheckboxFieldFF\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.visualizationSubtext\n  }, i18n.t('Request visualizations are shown when submitting exchanges.')), visualizationLinkedValue && /*#__PURE__*/React.createElement(Field, {\n    label: i18n.t('Filter selections'),\n    name: \"visualizationInfo\",\n    component: VisualizationSelect\n  }))), /*#__PURE__*/React.createElement(Subsection, {\n    text: i18n.t('Data items'),\n    className: styles.subsectionBlockEnd\n  }, /*#__PURE__*/React.createElement(Field, {\n    label: i18n.t('Data item select'),\n    name: \"dxInfo\",\n    component: DataItemSelect,\n    validate: dataItemSelectValidator\n  })), /*#__PURE__*/React.createElement(Subsection, {\n    text: i18n.t('Periods'),\n    className: styles.subsectionBlockEnd\n  }, /*#__PURE__*/React.createElement(Field, {\n    name: \"peInfo\",\n    component: PeriodSelector,\n    validate: periodSelectValidator\n  })), /*#__PURE__*/React.createElement(Subsection, {\n    text: i18n.t('Organisation units'),\n    className: styles.subsectionBlockEnd\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.subsectionField600\n  }, /*#__PURE__*/React.createElement(Field, {\n    name: \"ouInfo\",\n    component: OrgUnitSelector,\n    validate: orgUnitSelectValidator\n  }))), /*#__PURE__*/React.createElement(Subsection, {\n    text: i18n.t('Output ID scheme options'),\n    description: i18n.t('Configure the formatting of source data before sending to the target system.')\n  }, /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(SchemeSelector, {\n    label: i18n.t('Output general ID scheme'),\n    description: i18n.t('Used as the default ID scheme for all items. If the chosen scheme is not available for an item, it will fall back to using ID.'),\n    name: \"source_outputIdScheme\"\n  }), outputDataItemIdSchemeAvailable && /*#__PURE__*/React.createElement(SchemeSelector, {\n    label: i18n.t('Output data item ID scheme'),\n    description: i18n.t('Applies to data elements, indicators, and program indicators.'),\n    name: \"source_outputDataItemIdScheme\",\n    canBeNone: true,\n    defaultIDSchemeName: i18n.t('Output general ID scheme')\n  }), /*#__PURE__*/React.createElement(SchemeSelector, {\n    label: i18n.t('Output data element ID scheme'),\n    description: i18n.t('Applies to data elements. For data elements, it will override the scheme specified by Output data item ID scheme.'),\n    name: \"source_outputDataElementIdScheme\",\n    canBeNone: true,\n    defaultIDSchemeName: i18n.t('Output general ID scheme')\n  }), /*#__PURE__*/React.createElement(SchemeSelector, {\n    label: i18n.t('Output organisation unit ID scheme'),\n    description: i18n.t('Applies to organisation units.'),\n    name: \"source_outputOrgUnitIdScheme\",\n    canBeNone: true,\n    defaultIDSchemeName: i18n.t('Output general ID scheme')\n  }))));\n};","import i18n from '@dhis2/d2-i18n';\nimport { useCallback } from 'react';\nexport const useValidators = () => {\n  const dataItemSelectValidator = useCallback(val => val.length === 0 ? i18n.t('Choose at least one data item') : undefined, []);\n  const periodSelectValidator = useCallback(val => val.length === 0 ? i18n.t('Choose at least one period') : undefined, []);\n  const orgUnitSelectValidator = useCallback(val => val.length === 0 ? i18n.t('Choose at least one organisation unit') : undefined, []);\n  return {\n    dataItemSelectValidator,\n    periodSelectValidator,\n    orgUnitSelectValidator\n  };\n};","// extracted by mini-css-extract-plugin\nexport default {\"editArea\":\"request-form_editArea__-tetc\",\"editFormArea\":\"request-form_editFormArea__1hATS\",\"editUpdateTitle\":\"request-form_editUpdateTitle__u+a29\",\"editContainer\":\"request-form_editContainer__knesQ\",\"bottomBar\":\"request-form_bottomBar__YWMQ5\",\"hidden\":\"request-form_hidden__JsPOe\",\"fullHeight\":\"request-form_fullHeight__DYfJb\",\"errorBoxContainer\":\"request-form_errorBoxContainer__ev1dc\"};","import i18n from '@dhis2/d2-i18n';\nimport { Box, ReactFinalForm } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { useFeatureToggleContext } from '../../../context/index.js';\nimport { Warning } from '../../common/index.js';\nimport { EditRequestFooter, EditTitle } from '../shared/index.js';\nimport { getInitialValuesFromRequest, getRequestValuesFromForm } from './getRequestValues.js';\nimport { RequestFormContents } from './request-form-contents.js';\nimport styles from './request-form.module.css';\nconst {\n  Form\n} = ReactFinalForm;\nconst RequestFormInner = /*#__PURE__*/React.memo(() => {\n  return /*#__PURE__*/React.createElement(RequestFormContents, null);\n});\nexport const RequestForm = _ref => {\n  let {\n    exitRequestEditMode,\n    request,\n    requestsDispatch,\n    addModeRequest,\n    setRequestsTouched\n  } = _ref;\n  const {\n    outputDataItemIdSchemeAvailable\n  } = useFeatureToggleContext();\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Form, {\n    onSubmit: requestValues => {\n      const action = {\n        type: addModeRequest ? 'ADD' : 'UPDATE',\n        value: getRequestValuesFromForm({\n          requestValues,\n          outputDataItemIdSchemeAvailable\n        }),\n        index: request.index\n      };\n      requestsDispatch(action);\n      setRequestsTouched(true);\n    },\n    initialValues: getInitialValuesFromRequest({\n      request,\n      outputDataItemIdSchemeAvailable\n    })\n  }, _ref2 => {\n    let {\n      handleSubmit: handleRequestSubmit\n    } = _ref2;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.editArea\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.editContainer\n    }, /*#__PURE__*/React.createElement(EditTitle, {\n      title: addModeRequest ? i18n.t('Edit exchange: Add request', {\n        nsSeparator: '-:-'\n      }) : i18n.t('Edit exchange: Edit request', {\n        nsSeparator: '-:-'\n      })\n    }), /*#__PURE__*/React.createElement(Box, {\n      className: styles.editFormArea\n    }, request.inputIdScheme === 'CODE' && /*#__PURE__*/React.createElement(Warning, {\n      warning: true,\n      title: 'inputIdScheme:code'\n    }, /*#__PURE__*/React.createElement(\"p\", null, i18n.t('This request currently uses inputIdScheme:code. The Data Exchange app does not support saving requests with inputIdScheme:code. If you save this request, it will be converted to inputIdScheme:uid.', {\n      nsSeparator: '-:-'\n    })), /*#__PURE__*/React.createElement(\"p\", null, i18n.t('Changing the inputIdScheme will change the internal representation of the request, but will not change the items in the request.'))), /*#__PURE__*/React.createElement(RequestFormInner, null)))), /*#__PURE__*/React.createElement(\"footer\", {\n      \"data-test\": \"edit-request-footer\",\n      className: styles.bottomBar\n    }, /*#__PURE__*/React.createElement(EditRequestFooter, {\n      handleRequestSubmit: handleRequestSubmit,\n      exitRequestEditMode: exitRequestEditMode\n    })));\n  }));\n};\nRequestForm.propTypes = {\n  addModeRequest: PropTypes.bool,\n  exitRequestEditMode: PropTypes.func,\n  request: PropTypes.object,\n  requestsDispatch: PropTypes.func,\n  setRequestsTouched: PropTypes.func\n};","export const requestsReducer = (state, action) => {\n  switch (action.type) {\n    case 'ADD':\n      {\n        return [...state, action.value];\n      }\n    case 'UPDATE':\n      {\n        const targetIndex = action.index; // maybe look up by old name?\n        const modifiedRequest = {\n          ...state[targetIndex],\n          ...action.value\n        };\n        return [...state.slice(0, targetIndex), modifiedRequest, ...state.slice(targetIndex + 1)];\n      }\n    case 'DELETE':\n      {\n        const targetIndex = action.index; // maybe look up by old name?\n        return [...state.slice(0, targetIndex), ...state.slice(targetIndex + 1)];\n      }\n  }\n  throw Error('Unknown action: ' + action.type);\n};","// extracted by mini-css-extract-plugin\nexport default {\"prefix\":\"advanced-options_prefix__tG1DY\",\"prefixCritical\":\"advanced-options_prefixCritical__q0RQK\",\"skipAuditWarning\":\"advanced-options_skipAuditWarning__2eFxq\",\"radiosContainerVertical\":\"advanced-options_radiosContainerVertical__3gJum\",\"subsectionField1000\":\"advanced-options_subsectionField1000__8jZc-\"};","// extracted by mini-css-extract-plugin\nexport default {\"editWarningButton\":\"external-edit-warning_editWarningButton__HwTvS\"};","import i18n from '@dhis2/d2-i18n';\nimport { Button } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Warning } from '../../common/index.js';\nimport styles from './external-edit-warning.module.css';\nconst sectionNameWarning = {\n  targetSetup: i18n.t('Editing the target setup will require you to reenter authentication details.'),\n  idSchemes: i18n.t('Editing the input ID scheme options will require you to reenter authentication details.'),\n  advancedOptions: i18n.t('Editing the advanced options will require you to reenter authentication details.')\n};\nconst sectionNameEdit = {\n  targetSetup: i18n.t('Edit target setup'),\n  idSchemes: i18n.t('Edit input ID scheme options'),\n  advancedOptions: i18n.t('Edit advanced options')\n};\nexport const EnableExternalEditWarning = _ref => {\n  let {\n    editTargetSetupDisabled,\n    setEditTargetSetupDisabled,\n    sectionName\n  } = _ref;\n  if (!editTargetSetupDisabled) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(Warning, null, /*#__PURE__*/React.createElement(\"div\", null, sectionNameWarning[sectionName !== null && sectionName !== void 0 ? sectionName : 'targetSetup']), /*#__PURE__*/React.createElement(Button, {\n    className: styles.editWarningButton,\n    small: true,\n    onClick: () => setEditTargetSetupDisabled(false)\n  }, sectionNameEdit[sectionName !== null && sectionName !== void 0 ? sectionName : 'targetSetup']));\n};\nEnableExternalEditWarning.propTypes = {\n  editTargetSetupDisabled: PropTypes.bool,\n  sectionName: PropTypes.string,\n  setEditTargetSetupDisabled: PropTypes.func\n};","import i18n from '@dhis2/d2-i18n';\nimport { Field as FieldContainer, RadioFieldFF, CheckboxFieldFF, ReactFinalForm } from '@dhis2/ui';\nimport classnames from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { useCallback, useState } from 'react';\nimport { useFeatureToggleContext } from '../../../context/index.js';\nimport { IMPORT_STRATEGY_OPTIONS, TogglableSubsection } from '../shared/index.js';\nimport styles from './advanced-options.module.css';\nimport { EnableExternalEditWarning } from './external-edit-warning.js';\nconst Label = _ref => {\n  let {\n    label,\n    prefix,\n    type\n  } = _ref;\n  if (!prefix) {\n    return label;\n  }\n  return /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(\"span\", {\n    className: classnames(styles.prefix, {\n      [styles.prefixCritical]: type === 'critical'\n    })\n  }, prefix), label);\n};\nLabel.propTypes = {\n  label: PropTypes.string.isRequired,\n  prefix: PropTypes.string,\n  type: PropTypes.oneOf(['critical'])\n};\nconst {\n  Field\n} = ReactFinalForm;\nexport const AdvancedOptions = _ref2 => {\n  let {\n    editTargetSetupDisabled,\n    setEditTargetSetupDisabled\n  } = _ref2;\n  const {\n    skipAuditDryRunImportStrategyAvailable\n  } = useFeatureToggleContext();\n  const [advancedOpen, setAdvancedOpen] = useState(false);\n  const toggleAdvancedSection = useCallback(() => {\n    setAdvancedOpen(prev => !prev);\n  }, [setAdvancedOpen]);\n  if (!skipAuditDryRunImportStrategyAvailable) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(TogglableSubsection, {\n    open: advancedOpen,\n    onTextClick: toggleAdvancedSection,\n    text: i18n.t('Advanced options')\n  }, /*#__PURE__*/React.createElement(EnableExternalEditWarning, {\n    editTargetSetupDisabled: editTargetSetupDisabled,\n    setEditTargetSetupDisabled: setEditTargetSetupDisabled,\n    sectionName: \"advancedOptions\"\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.subsectionField1000\n  }, /*#__PURE__*/React.createElement(Field, {\n    name: \"skipAudit\",\n    type: \"checkbox\",\n    label: i18n.t('Skip audit, meaning audit values will not be generated'),\n    helpText: i18n.t('Improves performance at the cost of ability to audit changes.'),\n    component: CheckboxFieldFF,\n    disabled: editTargetSetupDisabled\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.subsectionField1000\n  }, /*#__PURE__*/React.createElement(Field, {\n    name: \"dryRun\",\n    type: \"checkbox\",\n    label: i18n.t('Dry run'),\n    helpText: i18n.t('A dry run tests the import settings without importing any data.'),\n    component: CheckboxFieldFF,\n    disabled: editTargetSetupDisabled\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.subsectionField1000\n  }, /*#__PURE__*/React.createElement(FieldContainer, {\n    label: i18n.t('Import strategy')\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.radiosContainerVertical\n  }, IMPORT_STRATEGY_OPTIONS.map(iso => {\n    var _iso$prefix;\n    return /*#__PURE__*/React.createElement(Field, {\n      key: `importStrategy_${(_iso$prefix = iso.prefix) !== null && _iso$prefix !== void 0 ? _iso$prefix : iso.label}`,\n      name: \"importStrategy\",\n      type: \"radio\",\n      component: RadioFieldFF,\n      label: /*#__PURE__*/React.createElement(Label, {\n        prefix: iso.prefix,\n        label: iso.label,\n        type: iso.type\n      }),\n      value: iso.value,\n      disabled: editTargetSetupDisabled\n    });\n  })))));\n};\nAdvancedOptions.propTypes = {\n  editTargetSetupDisabled: PropTypes.bool,\n  setEditTargetSetupDisabled: PropTypes.func\n};","// extracted by mini-css-extract-plugin\nexport default {\"subsectionField\":\"exchange-form-contents_subsectionField__cQzOB\",\"subsectionField1000\":\"exchange-form-contents_subsectionField1000__cdHqL\",\"subsectionField600\":\"exchange-form-contents_subsectionField600__b3umr\",\"fieldItem\":\"exchange-form-contents_fieldItem__YlkDT\",\"radiosContainer\":\"exchange-form-contents_radiosContainer__0q1wB\",\"radiosContainerVertical\":\"exchange-form-contents_radiosContainerVertical__lkeuD\",\"radioItem\":\"exchange-form-contents_radioItem__gyAjK\",\"radioBox\":\"exchange-form-contents_radioBox__uxeUV\",\"radioBoxSelected\":\"exchange-form-contents_radioBoxSelected__c1A03\",\"radioDecoratorLabel\":\"exchange-form-contents_radioDecoratorLabel__8YfIF\",\"radioDecoratorHelper\":\"exchange-form-contents_radioDecoratorHelper__ZUrtY\",\"radioBoxText\":\"exchange-form-contents_radioBoxText__Xq8qR\",\"idSchemeSection\":\"exchange-form-contents_idSchemeSection__FHw+m\"};","// extracted by mini-css-extract-plugin\nexport default {\"requestActionButton\":\"requests-overview_requestActionButton__+IHHN\",\"buttonContainer\":\"requests-overview_buttonContainer__JjO5i\",\"emptyTableWrapper\":\"requests-overview_emptyTableWrapper__Ox4vc\",\"emptyTableHeader\":\"requests-overview_emptyTableHeader__eezYa\",\"emptyTableText\":\"requests-overview_emptyTableText__WKMUP\"};","import { useConfig } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { Button, ButtonStrip, Table, TableHead, TableCellHead, TableRowHead, TableBody, TableRow, DataTableCell } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { OU_LEVEL_PREFIX, OU_GROUP_PREFIX } from '../shared/index.js';\nimport styles from './requests-overview.module.css';\nconst getOuText = _ref => {\n  let {\n    ouInfo\n  } = _ref;\n  const orgUnits = ouInfo.filter(_ref2 => {\n    let {\n      id\n    } = _ref2;\n    return !id.startsWith(OU_LEVEL_PREFIX) && !id.startsWith(OU_GROUP_PREFIX);\n  });\n  const orgUnitLevels = ouInfo.filter(_ref3 => {\n    let {\n      id\n    } = _ref3;\n    return id.startsWith(OU_LEVEL_PREFIX);\n  });\n  const orgUnitGroups = ouInfo.filter(_ref4 => {\n    let {\n      id\n    } = _ref4;\n    return id.startsWith(OU_GROUP_PREFIX);\n  });\n  let orgUnitString = '';\n  if (orgUnits.length === 1) {\n    orgUnitString += orgUnits[0].name;\n  }\n  if (orgUnits.length > 1) {\n    orgUnitString += i18n.t('{{firstOuName}} and {{ouLength}} others', {\n      firstOuName: ouInfo[0].name,\n      ouLength: ouInfo.length - 1\n    });\n  }\n  if (orgUnitLevels.length > 0) {\n    orgUnitString += i18n.t('; levels: {{levelCount}}', {\n      levelCount: orgUnitLevels.length,\n      nsSeparator: '-:-'\n    });\n  }\n  if (orgUnitGroups.length > 0) {\n    orgUnitString += i18n.t('; groups: {{groupsCount}}', {\n      groupsCount: orgUnitGroups.length,\n      nsSeparator: '-:-'\n    });\n  }\n  return orgUnitString;\n};\nconst EmptyTableInfo = () => /*#__PURE__*/React.createElement(TableRow, null, /*#__PURE__*/React.createElement(DataTableCell, {\n  colSpan: \"6\"\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: styles.emptyTableWrapper\n}, /*#__PURE__*/React.createElement(\"p\", {\n  className: styles.emptyTableHeader\n}, i18n.t('No requests')), /*#__PURE__*/React.createElement(\"p\", {\n  className: styles.emptyTableText\n}, i18n.t(\"Click the 'Add request' button to add a request to this exchange\")))));\nconst RequestRow = _ref5 => {\n  var _request$visualizatio, _request$visualizatio2, _request$visualizatio3, _request$visualizatio4, _request$visualizatio5;\n  let {\n    request,\n    deleteRequest,\n    baseUrl,\n    setRequestEditMode\n  } = _ref5;\n  return /*#__PURE__*/React.createElement(TableRow, {\n    key: request.name\n  }, /*#__PURE__*/React.createElement(DataTableCell, {\n    onClick: () => setRequestEditMode(request)\n  }, request.name), /*#__PURE__*/React.createElement(DataTableCell, {\n    onClick: () => setRequestEditMode(request)\n  }, getOuText({\n    ouInfo: request.ouInfo\n  })), /*#__PURE__*/React.createElement(DataTableCell, {\n    onClick: () => setRequestEditMode(request)\n  }, request.peInfo.map(_ref6 => {\n    let {\n      name\n    } = _ref6;\n    return name;\n  }).join(', ')), /*#__PURE__*/React.createElement(DataTableCell, {\n    onClick: () => setRequestEditMode(request)\n  }, request.dx.length), /*#__PURE__*/React.createElement(DataTableCell, null, (_request$visualizatio = request.visualizationInfo) !== null && _request$visualizatio !== void 0 && _request$visualizatio.id ? /*#__PURE__*/React.createElement(\"a\", {\n    target: \"_blank\",\n    rel: \"noopener noreferrer\",\n    href: `${baseUrl}/dhis-web-data-visualizer/index.html#/${request.visualizationInfo.id}`\n  }, (_request$visualizatio2 = (_request$visualizatio3 = request.visualizationInfo) === null || _request$visualizatio3 === void 0 ? void 0 : _request$visualizatio3.name) !== null && _request$visualizatio2 !== void 0 ? _request$visualizatio2 : '') : /*#__PURE__*/React.createElement(\"span\", null, (_request$visualizatio4 = (_request$visualizatio5 = request.visualizationInfo) === null || _request$visualizatio5 === void 0 ? void 0 : _request$visualizatio5.name) !== null && _request$visualizatio4 !== void 0 ? _request$visualizatio4 : '')), /*#__PURE__*/React.createElement(DataTableCell, null, /*#__PURE__*/React.createElement(Button, {\n    small: true,\n    secondary: true,\n    destructive: true,\n    onClick: () => {\n      deleteRequest(request.index);\n    }\n  }, i18n.t('Delete'))));\n};\nRequestRow.propTypes = {\n  baseUrl: PropTypes.string,\n  deleteRequest: PropTypes.func,\n  request: PropTypes.object,\n  setRequestEditMode: PropTypes.func\n};\nexport const RequestsOverview = _ref7 => {\n  let {\n    requestsInfo,\n    setRequestEditMode,\n    deleteRequest\n  } = _ref7;\n  const {\n    baseUrl\n  } = useConfig();\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Table, {\n    suppressZebraStriping: true\n  }, /*#__PURE__*/React.createElement(TableHead, null, /*#__PURE__*/React.createElement(TableRowHead, null, /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('Name')), /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('Org. units')), /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('Periods')), /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('Data items')), /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('Visualization')), /*#__PURE__*/React.createElement(TableCellHead, null))), /*#__PURE__*/React.createElement(TableBody, null, requestsInfo.length === 0 ? /*#__PURE__*/React.createElement(EmptyTableInfo, null) : requestsInfo.map((request, index) => /*#__PURE__*/React.createElement(RequestRow, {\n    key: `${request.name}_${index}`,\n    request: request,\n    deleteRequest: deleteRequest,\n    baseUrl: baseUrl,\n    setRequestEditMode: setRequestEditMode\n  })))), /*#__PURE__*/React.createElement(ButtonStrip, {\n    className: styles.buttonContainer\n  }, /*#__PURE__*/React.createElement(Button, {\n    small: true,\n    onClick: () => setRequestEditMode({}, true)\n  }, i18n.t('Add request'))));\n};\nRequestsOverview.propTypes = {\n  deleteRequest: PropTypes.func,\n  requestsInfo: PropTypes.array,\n  setRequestEditMode: PropTypes.func\n};","import i18n from '@dhis2/d2-i18n';\nimport { Box, Field as FieldContainer, InputFieldFF, RadioFieldFF, ReactFinalForm, hasValue } from '@dhis2/ui';\nimport classnames from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { useMemo, useState } from 'react';\nimport { SchemeSelector, Subsection, AUTHENTICATION_TYPES, EXCHANGE_TYPES } from '../shared/index.js';\nimport { AdvancedOptions } from './advanced-options.js';\nimport styles from './exchange-form-contents.module.css';\nimport { EnableExternalEditWarning } from './external-edit-warning.js';\nimport { RequestsOverview } from './requests-overview.js';\nconst {\n  Field,\n  useField\n} = ReactFinalForm;\nconst RadioDecorator = _ref => {\n  let {\n    label,\n    helperText,\n    currentSelected,\n    children\n  } = _ref;\n  return /*#__PURE__*/React.createElement(Box, {\n    className: classnames(styles.radioBox, {\n      [styles.radioBoxSelected]: currentSelected\n    })\n  }, /*#__PURE__*/React.createElement(\"div\", null, children), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.radioBoxText\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.radioDecoratorLabel\n  }, label), /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.radioDecoratorHelper\n  }, helperText)));\n};\nRadioDecorator.propTypes = {\n  children: PropTypes.node,\n  currentSelected: PropTypes.bool,\n  helperText: PropTypes.string,\n  label: PropTypes.string\n};\nexport const ExchangeFormContents = /*#__PURE__*/React.memo(_ref2 => {\n  let {\n    requestsState,\n    setRequestEditMode,\n    deleteRequest\n  } = _ref2;\n  const {\n    input: typeInput\n  } = useField('type', {\n    subscription: {\n      value: true\n    }\n  });\n  const {\n    value: typeValue\n  } = typeInput;\n  const {\n    input: authenticationType\n  } = useField('authentication', {\n    subscription: {\n      value: true\n    }\n  });\n  const {\n    value: authenticationValue\n  } = authenticationType;\n  const [editTargetSetupDisabled, setEditTargetSetupDisabled] = useState(() => typeValue === EXCHANGE_TYPES.external);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Subsection, {\n    text: i18n.t('Basic setup')\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.subsectionField1000,\n    \"data-test\": \"exchange-name-input\"\n  }, /*#__PURE__*/React.createElement(Field, {\n    name: \"name\",\n    label: i18n.t('Exchange name'),\n    helpText: i18n.t('A unique name helps people find the right data exchange.'),\n    component: InputFieldFF,\n    validate: hasValue\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.subsectionField,\n    \"data-test\": \"exchange-type-input\"\n  }, /*#__PURE__*/React.createElement(FieldContainer, {\n    label: i18n.t('Exchange target type')\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.radiosContainer,\n    \"data-test\": \"exchange-types\"\n  }, /*#__PURE__*/React.createElement(RadioDecorator, {\n    label: i18n.t('External'),\n    helperText: i18n.t('Send data to another DHIS2 instance or data warehouse'),\n    currentSelected: typeValue === EXCHANGE_TYPES.external\n  }, /*#__PURE__*/React.createElement(Field, {\n    name: \"type\",\n    type: \"radio\",\n    component: RadioFieldFF,\n    value: EXCHANGE_TYPES.external\n  })), /*#__PURE__*/React.createElement(RadioDecorator, {\n    label: i18n.t('Internal'),\n    helperText: i18n.t('Manipulate data and transfer it inside this DHIS2 instance'),\n    currentSelected: typeValue === EXCHANGE_TYPES.internal\n  }, /*#__PURE__*/React.createElement(Field, {\n    name: \"type\",\n    type: \"radio\",\n    component: RadioFieldFF,\n    value: EXCHANGE_TYPES.internal\n  })))))), typeValue === EXCHANGE_TYPES.external && /*#__PURE__*/React.createElement(Subsection, {\n    text: i18n.t('Target setup'),\n    dataTest: \"target-setup\"\n  }, /*#__PURE__*/React.createElement(EnableExternalEditWarning, {\n    editTargetSetupDisabled: editTargetSetupDisabled,\n    setEditTargetSetupDisabled: setEditTargetSetupDisabled,\n    sectionName: \"targetSetup\"\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.subsectionField600,\n    \"data-test\": \"exchange-url\"\n  }, /*#__PURE__*/React.createElement(Field, {\n    name: \"url\",\n    label: i18n.t('Target URL'),\n    helpText: i18n.t('The URL of the target instance or data warehouse.'),\n    disabled: editTargetSetupDisabled,\n    component: InputFieldFF,\n    validate: hasValue\n  })), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(FieldContainer, {\n    label: i18n.t('Authentication method')\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.radiosContainer,\n    \"data-test\": \"exchange-auth-method\"\n  }, /*#__PURE__*/React.createElement(Field, {\n    name: \"authentication\",\n    type: \"radio\",\n    component: RadioFieldFF,\n    label: i18n.t('Basic'),\n    value: AUTHENTICATION_TYPES.basic,\n    disabled: editTargetSetupDisabled\n  }), /*#__PURE__*/React.createElement(Field, {\n    name: \"authentication\",\n    className: styles.radioItem,\n    type: \"radio\",\n    component: RadioFieldFF,\n    label: i18n.t('Personal Access token'),\n    value: AUTHENTICATION_TYPES.pat,\n    disabled: editTargetSetupDisabled\n  })))), authenticationValue === AUTHENTICATION_TYPES.pat && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.subsectionField600,\n    \"data-test\": \"exchange-auth-pat\"\n  }, /*#__PURE__*/React.createElement(Field, {\n    name: \"accessToken\",\n    type: \"password\",\n    className: styles.fieldItem,\n    label: i18n.t('Access token'),\n    helpText: i18n.t('The personal access token generated by target instance'),\n    disabled: editTargetSetupDisabled,\n    component: InputFieldFF,\n    validate: !editTargetSetupDisabled ? hasValue : null\n  })), authenticationValue === AUTHENTICATION_TYPES.basic && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.subsectionField600,\n    \"data-test\": \"exchange-auth-basic\"\n  }, /*#__PURE__*/React.createElement(Field, {\n    name: \"username\",\n    className: styles.fieldItem,\n    label: i18n.t('Username'),\n    helpText: i18n.t('The username to log in to the target instance'),\n    disabled: editTargetSetupDisabled,\n    component: InputFieldFF,\n    validate: !editTargetSetupDisabled ? hasValue : null\n  }), /*#__PURE__*/React.createElement(Field, {\n    name: \"password\",\n    className: styles.fieldItem,\n    label: i18n.t('Password'),\n    type: \"password\",\n    helpText: i18n.t('The password associated with the username specified above'),\n    disabled: editTargetSetupDisabled,\n    component: InputFieldFF,\n    validate: !editTargetSetupDisabled ? hasValue : null\n  }))), /*#__PURE__*/React.createElement(Subsection, {\n    text: i18n.t('Requests')\n  }, /*#__PURE__*/React.createElement(RequestsOverview, {\n    requestsInfo: useMemo(() => requestsState.map((r, index) => ({\n      ...r,\n      index\n    })), [requestsState])\n    // redo this logic ^ (move to RequestsOverview to not need memoization)\n    ,\n    setRequestEditMode: setRequestEditMode,\n    deleteRequest: deleteRequest\n  })), /*#__PURE__*/React.createElement(Subsection, {\n    text: i18n.t('Input ID scheme options'),\n    description: i18n.t('Specify the scheme (ID, code, attribute value) used on the target system to match data coming from the source system.'),\n    className: styles.idSchemeSection\n  }, /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(EnableExternalEditWarning, {\n    editTargetSetupDisabled: editTargetSetupDisabled,\n    setEditTargetSetupDisabled: setEditTargetSetupDisabled,\n    sectionName: \"idSchemes\"\n  }), /*#__PURE__*/React.createElement(SchemeSelector, {\n    label: i18n.t('Input general ID scheme'),\n    description: i18n.t('Used as the default ID scheme for all items. If the chosen scheme is not available for an item, it will fall back to using ID.'),\n    name: \"target_idScheme\",\n    disabled: editTargetSetupDisabled,\n    dataTest: \"general-id-scheme-selector\"\n  }), /*#__PURE__*/React.createElement(SchemeSelector, {\n    label: i18n.t('Input data element ID scheme'),\n    description: i18n.t('Applies to data elements.'),\n    name: \"target_dataElementIdScheme\",\n    disabled: editTargetSetupDisabled,\n    canBeNone: true,\n    defaultIDSchemeName: i18n.t('Input general ID scheme'),\n    dataTest: \"element-id-scheme-selector\"\n  }), /*#__PURE__*/React.createElement(SchemeSelector, {\n    label: i18n.t('Input organisation unit ID scheme'),\n    description: i18n.t('Applies to organisation units.'),\n    name: \"target_orgUnitIdScheme\",\n    disabled: editTargetSetupDisabled,\n    canBeNone: true,\n    defaultIDSchemeName: i18n.t('Input general ID scheme'),\n    dataTest: \"org-unit-id-scheme-selector\"\n  }), /*#__PURE__*/React.createElement(SchemeSelector, {\n    label: i18n.t('Input category option combo ID scheme'),\n    description: i18n.t('Applies to category option combos.'),\n    name: \"target_categoryOptionComboIdScheme\",\n    disabled: editTargetSetupDisabled,\n    canBeNone: true,\n    defaultIDSchemeName: i18n.t('Input general ID scheme'),\n    dataTest: \"category-option-combo-scheme-selector\"\n  }))), /*#__PURE__*/React.createElement(AdvancedOptions, {\n    editTargetSetupDisabled: editTargetSetupDisabled,\n    setEditTargetSetupDisabled: setEditTargetSetupDisabled\n  }));\n});\nExchangeFormContents.propTypes = {\n  deleteRequest: PropTypes.func,\n  requestsState: PropTypes.array,\n  setRequestEditMode: PropTypes.func\n};","// extracted by mini-css-extract-plugin\nexport default {\"editArea\":\"exchange-form_editArea__hQ-ND\",\"editFormArea\":\"exchange-form_editFormArea__EW27B\",\"editUpdateTitle\":\"exchange-form_editUpdateTitle__IyqfI\",\"editContainer\":\"exchange-form_editContainer__dZll3\",\"bottomBar\":\"exchange-form_bottomBar__Jo-Pj\",\"hidden\":\"exchange-form_hidden__uWbZE\",\"fullHeight\":\"exchange-form_fullHeight__MBu32\",\"errorBoxContainer\":\"exchange-form_errorBoxContainer__PYkJX\"};","import { SCHEME_TYPES, EXCHANGE_TYPES, AUTHENTICATION_TYPES, IMPORT_STRATEGY_TYPES } from '../shared/index.js';\n\n// this filters out additional properties that are used by the app UI, but should not be sent to backend\nconst validProperties = ['name', 'visualization', 'dx', 'pe', 'ou', 'filters', 'inputIdScheme', 'outputDataElementIdScheme', 'outputOrgUnitIdScheme', 'outputIdScheme', 'outputDataItemIdScheme'];\nconst copyRequestWithValidProperties = request => validProperties.reduce((requestCopy, prop) => {\n  if (request[prop]) {\n    requestCopy[prop] = request[prop];\n  }\n  return requestCopy;\n}, {});\nexport const cleanUpRequests = _ref => {\n  let {\n    requests\n  } = _ref;\n  const idSchemeProps = ['outputDataElementIdScheme', 'outputDataItemIdScheme', 'outputOrgUnitIdScheme'];\n  return requests.map(request => {\n    const requestCopy = copyRequestWithValidProperties(request);\n\n    // delete any ID Scheme prop with value of NONE\n    for (const prop of idSchemeProps) {\n      if (requestCopy[prop] === SCHEME_TYPES.none) {\n        delete requestCopy[prop];\n      }\n    }\n    return requestCopy;\n  });\n};\nconst getFormIdSchemeValues = _ref2 => {\n  let {\n    values\n  } = _ref2;\n  const idSchemeProps = ['idScheme', 'dataElementIdScheme', 'orgUnitIdScheme', 'categoryOptionComboIdScheme'];\n  return idSchemeProps.reduce((idSchemeValues, prop) => {\n    const attributeProp = `target_${prop}_attribute`;\n    if (values[`target_${prop}`] !== SCHEME_TYPES.none) {\n      idSchemeValues[prop] = values[`target_${prop}`] !== SCHEME_TYPES.attribute ? values[`target_${prop}`] : `ATTRIBUTE:${values[attributeProp]}`;\n    }\n    return idSchemeValues;\n  }, {});\n};\nconst getTargetDetails = _ref3 => {\n  let {\n    values\n  } = _ref3;\n  const target = {\n    type: values.type,\n    request: {\n      ...getFormIdSchemeValues({\n        values\n      })\n    }\n  };\n\n  // add advanced fields if they exist (will exist for v41+)\n  const advancedFields = ['skipAudit', 'dryRun', 'importStrategy'];\n  for (const field of advancedFields) {\n    if (values[field] || values[field] === false) {\n      target.request[field] = values[field];\n    }\n  }\n  if (values.type === EXCHANGE_TYPES.internal) {\n    return target;\n  }\n  // upate to include api\n  target.api = {\n    url: values.url\n  };\n  if (values.authentication === AUTHENTICATION_TYPES.pat) {\n    return {\n      ...target,\n      api: {\n        ...target.api,\n        accessToken: values.accessToken\n      }\n    };\n  }\n  return {\n    ...target,\n    api: {\n      ...target.api,\n      username: values.username,\n      password: values.password\n    }\n  };\n};\nexport const getExchangeValuesFromForm = _ref4 => {\n  let {\n    values,\n    requests\n  } = _ref4;\n  return {\n    name: values.name,\n    target: getTargetDetails({\n      values\n    }),\n    source: {\n      requests: cleanUpRequests({\n        requests\n      })\n    }\n  };\n};\nconst getIdSchemeValues = _ref5 => {\n  let {\n    exchangeInfo\n  } = _ref5;\n  const defaultSchemeProp = 'idScheme';\n  const idSchemeProps = [defaultSchemeProp, 'orgUnitIdScheme', 'dataElementIdScheme', 'categoryOptionComboIdScheme'];\n  return idSchemeProps.reduce((idSchemeValues, prop) => {\n    var _exchangeInfo$target, _exchangeInfo$target$, _exchangeInfo$target$2, _exchangeInfo$target$3, _exchangeInfo$target$4, _exchangeInfo$target2, _exchangeInfo$target3, _exchangeInfo$target4;\n    idSchemeValues[`target_${prop}`] = (_exchangeInfo$target = exchangeInfo.target) !== null && _exchangeInfo$target !== void 0 && (_exchangeInfo$target$ = _exchangeInfo$target.request) !== null && _exchangeInfo$target$ !== void 0 && _exchangeInfo$target$[prop] ? (_exchangeInfo$target$2 = exchangeInfo.target.request) === null || _exchangeInfo$target$2 === void 0 ? void 0 : (_exchangeInfo$target$3 = _exchangeInfo$target$2[prop]) === null || _exchangeInfo$target$3 === void 0 ? void 0 : (_exchangeInfo$target$4 = _exchangeInfo$target$3.split(':')[0]) === null || _exchangeInfo$target$4 === void 0 ? void 0 : _exchangeInfo$target$4.toUpperCase() : prop === defaultSchemeProp ? SCHEME_TYPES.uid : SCHEME_TYPES.none;\n    idSchemeValues[`target_${prop}_attribute`] = (_exchangeInfo$target2 = exchangeInfo.target) === null || _exchangeInfo$target2 === void 0 ? void 0 : (_exchangeInfo$target3 = _exchangeInfo$target2.request) === null || _exchangeInfo$target3 === void 0 ? void 0 : (_exchangeInfo$target4 = _exchangeInfo$target3[prop]) === null || _exchangeInfo$target4 === void 0 ? void 0 : _exchangeInfo$target4.split(':')[1];\n    return idSchemeValues;\n  }, {});\n};\nconst getAdvancedValuesFromExchange = _ref6 => {\n  var _exchangeInfo$target$5, _exchangeInfo$target5, _exchangeInfo$target6, _exchangeInfo$target$6, _exchangeInfo$target7, _exchangeInfo$target8, _exchangeInfo$target$7, _exchangeInfo$target9, _exchangeInfo$target10;\n  let {\n    exchangeInfo,\n    skipAuditDryRunImportStrategyAvailable\n  } = _ref6;\n  if (!skipAuditDryRunImportStrategyAvailable) {\n    return {};\n  }\n  return {\n    importStrategy: (_exchangeInfo$target$5 = exchangeInfo === null || exchangeInfo === void 0 ? void 0 : (_exchangeInfo$target5 = exchangeInfo.target) === null || _exchangeInfo$target5 === void 0 ? void 0 : (_exchangeInfo$target6 = _exchangeInfo$target5.request) === null || _exchangeInfo$target6 === void 0 ? void 0 : _exchangeInfo$target6.importStrategy) !== null && _exchangeInfo$target$5 !== void 0 ? _exchangeInfo$target$5 : IMPORT_STRATEGY_TYPES.create_and_update,\n    dryRun: (_exchangeInfo$target$6 = exchangeInfo === null || exchangeInfo === void 0 ? void 0 : (_exchangeInfo$target7 = exchangeInfo.target) === null || _exchangeInfo$target7 === void 0 ? void 0 : (_exchangeInfo$target8 = _exchangeInfo$target7.request) === null || _exchangeInfo$target8 === void 0 ? void 0 : _exchangeInfo$target8.dryRun) !== null && _exchangeInfo$target$6 !== void 0 ? _exchangeInfo$target$6 : false,\n    skipAudit: (_exchangeInfo$target$7 = exchangeInfo === null || exchangeInfo === void 0 ? void 0 : (_exchangeInfo$target9 = exchangeInfo.target) === null || _exchangeInfo$target9 === void 0 ? void 0 : (_exchangeInfo$target10 = _exchangeInfo$target9.request) === null || _exchangeInfo$target10 === void 0 ? void 0 : _exchangeInfo$target10.skipAudit) !== null && _exchangeInfo$target$7 !== void 0 ? _exchangeInfo$target$7 : false\n  };\n};\nexport const getInitialValuesFromExchange = _ref7 => {\n  var _exchangeInfo$target11, _exchangeInfo$target12, _exchangeInfo$target13, _exchangeInfo$target14, _exchangeInfo$target15, _exchangeInfo$target16, _exchangeInfo$target17;\n  let {\n    exchangeInfo,\n    skipAuditDryRunImportStrategyAvailable\n  } = _ref7;\n  return {\n    name: exchangeInfo.name,\n    type: (_exchangeInfo$target11 = exchangeInfo.target) === null || _exchangeInfo$target11 === void 0 ? void 0 : _exchangeInfo$target11.type,\n    authentication: (_exchangeInfo$target12 = exchangeInfo.target) !== null && _exchangeInfo$target12 !== void 0 && (_exchangeInfo$target13 = _exchangeInfo$target12.api) !== null && _exchangeInfo$target13 !== void 0 && _exchangeInfo$target13.username ? AUTHENTICATION_TYPES.basic : AUTHENTICATION_TYPES.pat,\n    url: (_exchangeInfo$target14 = exchangeInfo.target) === null || _exchangeInfo$target14 === void 0 ? void 0 : (_exchangeInfo$target15 = _exchangeInfo$target14.api) === null || _exchangeInfo$target15 === void 0 ? void 0 : _exchangeInfo$target15.url,\n    username: (_exchangeInfo$target16 = exchangeInfo.target) === null || _exchangeInfo$target16 === void 0 ? void 0 : (_exchangeInfo$target17 = _exchangeInfo$target16.api) === null || _exchangeInfo$target17 === void 0 ? void 0 : _exchangeInfo$target17.username,\n    ...getIdSchemeValues({\n      exchangeInfo\n    }),\n    ...getAdvancedValuesFromExchange({\n      exchangeInfo,\n      skipAuditDryRunImportStrategyAvailable\n    })\n  };\n};","import { useDataEngine } from '@dhis2/app-runtime';\nimport { useCallback, useState } from 'react';\nimport { getExchangeValuesFromForm } from './getExchangeValues.js';\nconst getChange = _ref => {\n  let {\n    field,\n    value\n  } = _ref;\n  return {\n    op: 'add',\n    path: '/' + field,\n    value: value !== null && value !== void 0 ? value : null\n  };\n};\nconst getJsonPatch = _ref2 => {\n  let {\n    formattedValues,\n    form,\n    requestsTouched\n  } = _ref2;\n  const changes = [];\n  const modifiedFields = new Set(Object.keys(form.getState().dirtyFields));\n  if (modifiedFields.has('name')) {\n    changes.push(getChange({\n      field: 'name',\n      value: formattedValues.name\n    }));\n  }\n\n  // check if one field has been modified for target\n  const targetIdSchemes = ['idScheme', 'dataElementIdScheme', 'orgUnitIdScheme', 'categoryOptionComboIdScheme'];\n  const targetIdSchemesFields = targetIdSchemes.reduce((allNames, scheme) => {\n    return [...allNames, `target_${scheme}`, `target_${scheme}_attribute`];\n  }, []);\n  const targetFields = ['type', 'authentication', 'accessToken', 'url', 'username', 'dryRun', 'skipAudit', 'importStrategy', ...targetIdSchemesFields];\n  if (targetFields.some(tf => modifiedFields.has(tf))) {\n    changes.push(getChange({\n      field: 'target',\n      value: formattedValues.target\n    }));\n  }\n  if (requestsTouched) {\n    changes.push(getChange({\n      field: 'source',\n      value: formattedValues.source\n    }));\n  }\n  return changes;\n};\nexport const useUpdateExchange = _ref3 => {\n  let {\n    onComplete\n  } = _ref3;\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const engine = useDataEngine();\n  const refetch = useCallback(async _ref4 => {\n    let {\n      id,\n      form,\n      values,\n      requests,\n      requestsTouched,\n      newExchange\n    } = _ref4;\n    // set to loading\n    setLoading(true);\n    try {\n      const formattedValues = getExchangeValuesFromForm({\n        values,\n        requests\n      });\n      if (newExchange) {\n        await engine.mutate({\n          resource: 'aggregateDataExchanges',\n          type: 'create',\n          data: formattedValues\n        });\n      } else {\n        const changes = getJsonPatch({\n          formattedValues,\n          form,\n          requestsTouched\n        });\n        if ((changes === null || changes === void 0 ? void 0 : changes.length) > 0) {\n          await engine.mutate({\n            resource: `aggregateDataExchanges/${id}`,\n            type: 'json-patch',\n            data: changes\n          });\n        }\n      }\n      if (onComplete && typeof onComplete === 'function') {\n        onComplete();\n      }\n    } catch (e) {\n      console.error(e);\n      setError(e);\n    } finally {\n      setLoading(false);\n    }\n  }, [engine, onComplete]);\n  return [refetch, {\n    loading,\n    error\n  }];\n};","import i18n from '@dhis2/d2-i18n';\nimport { Box, NoticeBox, ReactFinalForm } from '@dhis2/ui';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { useCallback } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { AttributeProvider, useAppContext, useFeatureToggleContext } from '../../../context/index.js';\nimport { Loader } from '../../common/index.js';\nimport { RequestForm } from '../request-update/index.js';\nimport { EditItemFooter, EditTitle } from '../shared/index.js';\nimport { ExchangeFormContents } from './exchange-form-contents.js';\nimport styles from './exchange-form.module.css';\nimport { getInitialValuesFromExchange } from './getExchangeValues.js';\nimport { useRequests } from './useRequests.js';\nimport { useUpdateExchange } from './useUpdateExchange.js';\nconst {\n  Form\n} = ReactFinalForm;\nconst formatError = error => {\n  var _error$details, _error$details$respon, _error$details$respon2;\n  if (((_error$details = error.details) === null || _error$details === void 0 ? void 0 : (_error$details$respon = _error$details.response) === null || _error$details$respon === void 0 ? void 0 : (_error$details$respon2 = _error$details$respon.errorReports) === null || _error$details$respon2 === void 0 ? void 0 : _error$details$respon2.length) > 0) {\n    return error.details.response.errorReports.reduce((stringified, rep) => {\n      if (rep.message) {\n        return stringified + `\\n${rep.message}`;\n      }\n      return stringified;\n    }, '');\n  }\n  return error === null || error === void 0 ? void 0 : error.message;\n};\nexport const ExchangeForm = _ref => {\n  let {\n    exchangeInfo,\n    addMode\n  } = _ref;\n  const {\n    requestEditInfo,\n    setRequestEditMode,\n    exitRequestEditMode,\n    requestsState,\n    requestsDispatch,\n    deleteRequest,\n    requestsTouched,\n    setRequestsTouched\n  } = useRequests({\n    exchangeInfo\n  });\n  const {\n    skipAuditDryRunImportStrategyAvailable\n  } = useFeatureToggleContext();\n  const {\n    refetchExchanges\n  } = useAppContext();\n  const navigate = useNavigate();\n  const onComplete = useCallback(async () => {\n    await refetchExchanges();\n    navigate('/edit');\n  }, [refetchExchanges, navigate]);\n  const [saveExchange, {\n    loading: saving,\n    error: error\n  }] = useUpdateExchange({\n    onComplete\n  });\n  return /*#__PURE__*/React.createElement(AttributeProvider, null, /*#__PURE__*/React.createElement(Form, {\n    onSubmit: (values, form) => {\n      saveExchange({\n        values,\n        form,\n        id: exchangeInfo === null || exchangeInfo === void 0 ? void 0 : exchangeInfo.id,\n        requests: requestsState,\n        requestsTouched,\n        newExchange: addMode\n      });\n    },\n    initialValues: getInitialValuesFromExchange({\n      exchangeInfo,\n      skipAuditDryRunImportStrategyAvailable\n    })\n  }, _ref2 => {\n    let {\n      handleSubmit\n    } = _ref2;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames(styles.fullHeight, {\n        [styles.hidden]: requestEditInfo === null || requestEditInfo === void 0 ? void 0 : requestEditInfo.editMode\n      })\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.editArea\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.editContainer,\n      \"data-test\": \"add-exchange-title\"\n    }, /*#__PURE__*/React.createElement(EditTitle, {\n      title: addMode ? i18n.t('Add exchange') : i18n.t('Edit exchange')\n    }), /*#__PURE__*/React.createElement(Box, {\n      className: styles.editFormArea\n    }, saving && /*#__PURE__*/React.createElement(\"span\", {\n      \"data-test\": \"saving-exchange-loader\"\n    }, /*#__PURE__*/React.createElement(Loader, null)), error && /*#__PURE__*/React.createElement(NoticeBox, {\n      error: true,\n      title: i18n.t('Could not save'),\n      className: styles.errorBoxContainer\n    }, formatError(error)), !saving && /*#__PURE__*/React.createElement(ExchangeFormContents, {\n      requestsState: requestsState,\n      setRequestEditMode: setRequestEditMode,\n      deleteRequest: deleteRequest,\n      skipAuditDryRunImportStrategyAvailable: skipAuditDryRunImportStrategyAvailable\n    })))), /*#__PURE__*/React.createElement(\"footer\", {\n      className: styles.bottomBar,\n      \"data-test\": \"edit-item-footer\"\n    }, /*#__PURE__*/React.createElement(EditItemFooter, {\n      handleSubmit: handleSubmit,\n      requestsTouched: requestsTouched\n    }))), !requestEditInfo.editMode ? null : /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames(styles.fullHeight, {\n        [styles.hidden]: !requestEditInfo.editMode\n      })\n    }, /*#__PURE__*/React.createElement(RequestForm, {\n      exitRequestEditMode: exitRequestEditMode,\n      request: requestEditInfo.request,\n      requestsDispatch: requestsDispatch,\n      addModeRequest: requestEditInfo.addModeRequest,\n      setRequestsTouched: setRequestsTouched\n    })));\n  }));\n};\nExchangeForm.propTypes = {\n  addMode: PropTypes.bool,\n  exchangeInfo: PropTypes.object\n};","import { useCallback, useReducer, useState } from 'react';\nimport { requestsReducer } from '../request-update/index.js';\nexport const useRequests = _ref => {\n  var _exchangeInfo$source$, _exchangeInfo$source;\n  let {\n    exchangeInfo\n  } = _ref;\n  const [requestEditInfo, setRequestEditInfo] = useState({\n    editMode: false,\n    request: null\n  });\n  const setRequestEditMode = useCallback(function (request) {\n    let addModeRequest = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    setRequestEditInfo({\n      editMode: true,\n      request,\n      addModeRequest\n    });\n  }, [setRequestEditInfo]);\n  const exitRequestEditMode = useCallback(() => {\n    setRequestEditInfo({\n      editMode: false,\n      request: null\n    });\n  }, [setRequestEditInfo]);\n  const [requestsState, requestsDispatch] = useReducer(requestsReducer, (_exchangeInfo$source$ = exchangeInfo === null || exchangeInfo === void 0 ? void 0 : (_exchangeInfo$source = exchangeInfo.source) === null || _exchangeInfo$source === void 0 ? void 0 : _exchangeInfo$source.requests) !== null && _exchangeInfo$source$ !== void 0 ? _exchangeInfo$source$ : []);\n  const [requestsTouched, setRequestsTouched] = useState(false);\n  const deleteRequest = useCallback(index => {\n    setRequestsTouched(true);\n    requestsDispatch({\n      type: 'DELETE',\n      index\n    });\n  }, []);\n  return {\n    requestEditInfo,\n    setRequestEditMode,\n    exitRequestEditMode,\n    requestsState,\n    requestsDispatch,\n    deleteRequest,\n    requestsTouched,\n    setRequestsTouched\n  };\n};","import { OU_LEVEL_PREFIX } from '../shared/index.js';\nconst dimensionTypes = ['CATEGORY', 'CATEGORY_OPTION_GROUP_SET', 'ORGANISATION_UNIT_GROUP_SET'];\nconst DIMENSIONS_QUERY = {\n  dimensions: {\n    resource: 'dimensions',\n    params: {\n      fields: ['id', 'code', 'items[id,code]'],\n      filter: `dimensionType:in:[${dimensionTypes.join(',')}]`,\n      paging: false\n    }\n  }\n};\nconst ORGANISATION_UNIT_LEVELS_QUERY = {\n  organisationUnitLevels: {\n    resource: 'organisationUnitLevels',\n    params: {\n      fields: ['id', 'level'],\n      paging: false\n    }\n  }\n};\nconst getCodeFromPosition = _ref => {\n  let {\n    id,\n    request,\n    dx\n  } = _ref;\n  const indexPosition = dx.indexOf(id);\n  if (indexPosition === -1) {\n    return null;\n  }\n  return request.dx[indexPosition];\n};\nexport const getMetadataWithCode = _ref2 => {\n  let {\n    originalCurrentItems,\n    request,\n    md\n  } = _ref2;\n  const codeItems = {};\n  Object.keys(originalCurrentItems).forEach(key => {\n    var _item$code;\n    const item = originalCurrentItems[key];\n    const currentCode = (_item$code = item.code) !== null && _item$code !== void 0 ? _item$code : getCodeFromPosition({\n      id: key,\n      request,\n      dx: md.metadata.metaData.dimensions.dx\n    });\n    if (currentCode !== null) {\n      codeItems[currentCode] = {\n        id: key,\n        ...item\n      };\n    }\n  });\n  return codeItems;\n};\nexport const getFilterCodeMap = async _ref3 => {\n  var _dimensionsResponse$d;\n  let {\n    engine\n  } = _ref3;\n  const filterCodeMap = new Map();\n  const dimensionsResponse = await engine.query(DIMENSIONS_QUERY);\n  const dimensionsInfo = (_dimensionsResponse$d = dimensionsResponse.dimensions) === null || _dimensionsResponse$d === void 0 ? void 0 : _dimensionsResponse$d.dimensions;\n  for (const dimension of dimensionsInfo) {\n    filterCodeMap.set(dimension.code, dimension.id);\n    for (const dItem of dimension.items) {\n      filterCodeMap.set(dItem.code, dItem.id);\n    }\n  }\n  return filterCodeMap;\n};\nexport const getOuLevelMap = async _ref4 => {\n  let {\n    engine,\n    exchange\n  } = _ref4;\n  const ouLevelMap = new Map();\n  const hasOuLevels = exchange.source.requests.reduce((oneOuLevel, request) => {\n    return oneOuLevel ? true : request.ou.some(ou => ou.startsWith(OU_LEVEL_PREFIX));\n  }, false);\n  if (hasOuLevels) {\n    const ouLevelResponse = await engine.query(ORGANISATION_UNIT_LEVELS_QUERY);\n    ouLevelResponse.organisationUnitLevels.organisationUnitLevels.map(oul => {\n      ouLevelMap.set(String(oul.level), oul.id);\n    });\n  }\n  return ouLevelMap;\n};","import { useDataEngine } from '@dhis2/app-runtime';\nimport { useCallback, useState } from 'react';\nimport { SCHEME_TYPES, OU_GROUP_PREFIX, OU_LEVEL_PREFIX } from '../shared/index.js';\nimport { getMetadataWithCode, getFilterCodeMap, getOuLevelMap } from './codeDetailsHelpers.js';\nconst EXCHANGE_QUERY = {\n  exchange: {\n    resource: 'aggregateDataExchanges',\n    id: _ref => {\n      let {\n        id\n      } = _ref;\n      return id;\n    },\n    params: {\n      paging: false\n    }\n  }\n};\nconst ORG_UNITS_QUERY = {\n  organisationUnits: {\n    resource: 'organisationUnits',\n    params: _ref2 => {\n      let {\n        ids\n      } = _ref2;\n      return {\n        paging: false,\n        fields: ['id', 'displayName~rename(name)', 'path'],\n        filter: `id:in:[${ids.join()}]`\n      };\n    }\n  }\n};\nconst VISUALIZATIONS_QUERY = {\n  visualizations: {\n    resource: 'visualizations',\n    params: _ref3 => {\n      let {\n        ids\n      } = _ref3;\n      return {\n        paging: false,\n        fields: ['id', 'displayName~rename(name)', 'href'],\n        filter: `id:in:[${ids.join()}]`\n      };\n    }\n  }\n};\nconst ANALYTICS_QUERY = {\n  metadata: {\n    resource: 'analytics',\n    params: _ref4 => {\n      let {\n        ou,\n        dx,\n        pe,\n        inputIdScheme\n      } = _ref4;\n      return {\n        dimension: `dx:${dx.join(';')},ou:${ou.join(';')},pe:${pe.join(';')}`,\n        skipMeta: false,\n        skipData: true,\n        includeMetadataDetails: true,\n        inputIdScheme\n      };\n    }\n  }\n};\nconst getMetadataByRequest = async _ref5 => {\n  let {\n    engine,\n    variables\n  } = _ref5;\n  return await engine.query(ANALYTICS_QUERY, {\n    variables\n  });\n};\nexport const useFetchExchange = () => {\n  const [loading, setLoading] = useState(false);\n  const [data, setData] = useState(null);\n  const [error, setError] = useState(null);\n  const engine = useDataEngine();\n  const refetch = useCallback(async _ref6 => {\n    let {\n      id\n    } = _ref6;\n    // set to loading\n    setLoading(true);\n    try {\n      const {\n        exchange\n      } = await engine.query(EXCHANGE_QUERY, {\n        variables: {\n          id\n        }\n      });\n\n      // get metadata information for dx, pe\n      const metadataRequests = exchange.source.requests.map(_ref7 => {\n        let {\n          ou,\n          dx,\n          pe,\n          inputIdScheme = 'UID'\n        } = _ref7;\n        return getMetadataByRequest({\n          engine,\n          variables: {\n            ou,\n            dx,\n            pe,\n            inputIdScheme\n          }\n        });\n      });\n      const metadataResponses = await Promise.all(metadataRequests);\n      const metadata = metadataResponses.reduce((allItems, md, index) => {\n        var _exchange$source$requ, _exchange$source$requ2;\n        // if the inputIdScheme is 'code', we need to remap the items from id to code\n        const inputIdScheme = (_exchange$source$requ = (_exchange$source$requ2 = exchange.source.requests[index]) === null || _exchange$source$requ2 === void 0 ? void 0 : _exchange$source$requ2.inputIdScheme) !== null && _exchange$source$requ !== void 0 ? _exchange$source$requ : SCHEME_TYPES.uid;\n        let currentItems = {};\n        if (inputIdScheme === SCHEME_TYPES.code) {\n          currentItems = getMetadataWithCode({\n            originalCurrentItems: md.metadata.metaData.items,\n            request: exchange.source.requests[index],\n            md\n          });\n        } else {\n          currentItems = md.metadata.metaData.items;\n          // uid for data sets and event data items does not correspond to the format required for dx item, so add these back from key\n          // this is handled (slightly differently) in getMetadataWithCode\n          for (const cKey in currentItems) {\n            currentItems[cKey].id = cKey;\n          }\n        }\n        return {\n          ...allItems,\n          ...currentItems\n        };\n      }, {});\n\n      // OrgUnit tree requires path, which is missing in analytics response\n      const ousToLookUp = exchange.source.requests.reduce((ouSet, _ref8) => {\n        let {\n          ou: ouDimension\n        } = _ref8;\n        for (const orgUnit of ouDimension) {\n          if (!orgUnit.startsWith(OU_LEVEL_PREFIX) && !orgUnit.startsWith(OU_GROUP_PREFIX)) {\n            // we get uid from metadata in case inputIdScheme:code\n            ouSet.add(metadata[orgUnit].uid);\n          }\n        }\n        return ouSet;\n      }, new Set());\n      const {\n        organisationUnits: orgUnitDetails\n      } = await engine.query(ORG_UNITS_QUERY, {\n        variables: {\n          ids: [...ousToLookUp]\n        }\n      });\n      const ouMap = orgUnitDetails.organisationUnits.reduce((orgUnitsMap, orgUnit) => {\n        orgUnitsMap.set(orgUnit.id, orgUnit);\n        return orgUnitsMap;\n      }, new Map());\n\n      // get visualizations information\n      const visualizationsToLookUp = new Set(exchange.source.requests.map(_ref9 => {\n        let {\n          visualization\n        } = _ref9;\n        return visualization;\n      }));\n      const {\n        visualizations: visualizationsDetails\n      } = await engine.query(VISUALIZATIONS_QUERY, {\n        variables: {\n          ids: [...visualizationsToLookUp]\n        }\n      });\n      const visualizationsMap = visualizationsDetails.visualizations.reduce((visMap, visualization) => {\n        visMap.set(visualization.id, visualization);\n        return visMap;\n      }, new Map());\n\n      // if there are any requests with inputIdScheme:code,\n      // lock up filter codes and ou levels\n      const hasCodeIdScheme = exchange.source.requests.map(_ref10 => {\n        let {\n          inputIdScheme\n        } = _ref10;\n        return inputIdScheme;\n      }).includes('CODE');\n      const filterCodeMap = hasCodeIdScheme ? await getFilterCodeMap({\n        engine\n      }) : new Map();\n      const ouLevelMap = hasCodeIdScheme ? await getOuLevelMap({\n        engine,\n        exchange\n      }) : new Map();\n      exchange.source.requests = exchange.source.requests.map(request => {\n        const {\n          inputIdScheme = SCHEME_TYPES.uid\n        } = request;\n        return {\n          ...request,\n          dxInfo: request.dx.map(identifier => {\n            var _metadata$identifier$, _metadata$identifier;\n            return {\n              id: (_metadata$identifier$ = (_metadata$identifier = metadata[identifier]) === null || _metadata$identifier === void 0 ? void 0 : _metadata$identifier.id) !== null && _metadata$identifier$ !== void 0 ? _metadata$identifier$ : identifier,\n              ...metadata[identifier]\n            };\n          }),\n          peInfo: request.pe.map(id => {\n            var _metadata$id$uid;\n            return {\n              id: (_metadata$id$uid = metadata[id].uid) !== null && _metadata$id$uid !== void 0 ? _metadata$id$uid : id,\n              ...metadata[id]\n            };\n          }),\n          ouInfo: request.ou.map(identifier => {\n            var _metadata$identifier$3, _metadata$identifier2, _metadata$identifier3;\n            if (inputIdScheme === SCHEME_TYPES.code) {\n              if (identifier.startsWith(OU_LEVEL_PREFIX)) {\n                return {\n                  id: `${OU_LEVEL_PREFIX}${ouLevelMap.get(identifier.split(OU_LEVEL_PREFIX)[1])}`\n                };\n              }\n              if (identifier.startsWith(OU_GROUP_PREFIX)) {\n                var _metadata$identifier$2;\n                return {\n                  id: `${OU_GROUP_PREFIX}${(_metadata$identifier$2 = metadata[identifier.split(OU_GROUP_PREFIX)[1]]) === null || _metadata$identifier$2 === void 0 ? void 0 : _metadata$identifier$2.uid}`\n                };\n              }\n            }\n            return {\n              id: (_metadata$identifier$3 = (_metadata$identifier2 = metadata[identifier]) === null || _metadata$identifier2 === void 0 ? void 0 : _metadata$identifier2.uid) !== null && _metadata$identifier$3 !== void 0 ? _metadata$identifier$3 : identifier,\n              ...metadata[identifier],\n              ...ouMap.get((_metadata$identifier3 = metadata[identifier]) === null || _metadata$identifier3 === void 0 ? void 0 : _metadata$identifier3.uid)\n            };\n          }),\n          filtersInfo: request.filters.map(filter => ({\n            dimension: inputIdScheme === SCHEME_TYPES.code ? filterCodeMap.get(filter.dimension) : filter.dimension,\n            items: filter.items.map(identifier => ({\n              id: inputIdScheme === SCHEME_TYPES.code ? filterCodeMap.get(identifier) : identifier\n            }))\n          })),\n          visualizationInfo: request.visualization ? visualizationsMap.get(request.visualization) : null\n        };\n      });\n      setData(exchange);\n    } catch (e) {\n      console.error(e);\n      setError(e);\n    } finally {\n      setLoading(false);\n    }\n  }, [engine]);\n  return {\n    loading,\n    data,\n    error,\n    refetch\n  };\n};","// extracted by mini-css-extract-plugin\nexport default {\"editTopBarContainer\":\"edit-home-top-bar_editTopBarContainer__l-6uN\",\"exitConfigurationsButton\":\"edit-home-top-bar_exitConfigurationsButton__4uX11\"};","import i18n from '@dhis2/d2-i18n';\nimport { Button, SelectorBar } from '@dhis2/ui';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { EditTitle } from '../shared/index.js';\nimport styles from './edit-home-top-bar.module.css';\nexport const EditHomeTopBar = () => /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(SelectorBar, null, /*#__PURE__*/React.createElement(Link, {\n  to: \"/\"\n}, /*#__PURE__*/React.createElement(Button, {\n  small: true,\n  className: styles.exitConfigurationsButton\n}, i18n.t('Exit configuration mode')))), /*#__PURE__*/React.createElement(\"div\", {\n  className: styles.editTopBarContainer\n}, /*#__PURE__*/React.createElement(EditTitle, {\n  title: i18n.t('Data Exchange Configurations')\n}), /*#__PURE__*/React.createElement(Link, {\n  to: \"/add\"\n}, /*#__PURE__*/React.createElement(Button, {\n  primary: true\n}, i18n.t('New exchange configuration')))));","export const getNaturalCapitalization = input => {\n  var _input$slice;\n  if (typeof input !== 'string') {\n    return null;\n  }\n  return ((_input$slice = input.slice(0, 1)) === null || _input$slice === void 0 ? void 0 : _input$slice.toUpperCase()) + input.slice(1).toLowerCase();\n};","import i18n from '@dhis2/d2-i18n';\nimport { Button, ButtonStrip, Modal, ModalActions, ModalContent, ModalTitle } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport const DeleteConfirmation = _ref => {\n  let {\n    open,\n    onClose,\n    onDelete\n  } = _ref;\n  return /*#__PURE__*/React.createElement(Modal, {\n    hide: !open,\n    large: true,\n    position: \"middle\",\n    onClose: onClose\n  }, /*#__PURE__*/React.createElement(ModalTitle, null, i18n.t('Delete exchange')), /*#__PURE__*/React.createElement(ModalContent, null, /*#__PURE__*/React.createElement(\"span\", null, i18n.t('Deleting this exchange will remove it for all users on this instance. This action cannot be undone. Are you sure?'))), /*#__PURE__*/React.createElement(ModalActions, null, /*#__PURE__*/React.createElement(ButtonStrip, {\n    end: true\n  }, /*#__PURE__*/React.createElement(Button, {\n    secondary: true,\n    onClick: onClose\n  }, i18n.t('No, cancel')), /*#__PURE__*/React.createElement(Button, {\n    destructive: true,\n    onClick: onDelete\n  }, i18n.t('Yes, delete')))));\n};\nDeleteConfirmation.propTypes = {\n  open: PropTypes.bool,\n  onClose: PropTypes.func,\n  onDelete: PropTypes.func\n};","// extracted by mini-css-extract-plugin\nexport default {\"cardContainer\":\"items-list_cardContainer__y+ynB\",\"cardContainerInner\":\"items-list_cardContainerInner__hYUc-\",\"exchangeTitle\":\"items-list_exchangeTitle__3W1QM\",\"detailsContainer\":\"items-list_detailsContainer__CCals\",\"iconText\":\"items-list_iconText__S54qX\",\"icon\":\"items-list_icon__giLz6\",\"listContainer\":\"items-list_listContainer__yGXXC\",\"searchContainer\":\"items-list_searchContainer__bxsGu\"};","import { useDataMutation, useTimeZoneConversion, useConfig } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { Button, ButtonStrip, Card, IconArrowRight16, IconApps16, IconClock16, InputField, SharingDialog } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useCallback, useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useAppContext, useUserContext } from '../../../context/index.js';\nimport { getNaturalCapitalization } from '../../../utils/helpers.js';\nimport { DeleteConfirmation } from './delete-confirmation.js';\nimport styles from './items-list.module.css';\nexport const getCreatedDateString = _ref => {\n  let {\n    fromServerDate,\n    createdDate,\n    dateFormat = 'yyyy-mm-dd'\n  } = _ref;\n  const createdClient = fromServerDate(createdDate);\n  const createdClientDate = new Date(createdClient.getClientZonedISOString());\n  const year = String(createdClientDate.getUTCFullYear());\n  const month = String(createdClientDate.getUTCMonth() + 1);\n  const day = String(createdClientDate.getUTCDate());\n  if (dateFormat === 'dd-mm-yyyy') {\n    return `${day.padStart(2, '0')}-${month.padStart(2, '0')}-${year.padStart(4, '0')}`;\n  }\n  return `${year.padStart(4, '0')}-${month.padStart(2, '0')}-${day.padStart(2, '0')}`;\n};\nconst IconTextItem = _ref2 => {\n  let {\n    icon,\n    text\n  } = _ref2;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.iconText\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.icon\n  }, icon), /*#__PURE__*/React.createElement(\"div\", null, text));\n};\nIconTextItem.propTypes = {\n  icon: PropTypes.node,\n  text: PropTypes.string\n};\nconst deleteExchangeQuery = {\n  resource: 'aggregateDataExchanges',\n  type: 'delete',\n  id: _ref3 => {\n    let {\n      id\n    } = _ref3;\n    return id;\n  }\n};\nconst AggregateDataExchangeCard = /*#__PURE__*/React.memo(_ref4 => {\n  var _ade$access, _ade$target;\n  let {\n    ade\n  } = _ref4;\n  const navigate = useNavigate();\n  const {\n    refetchExchanges\n  } = useAppContext();\n  const [deleteExchange, {\n    loading: deleting\n  }] = useDataMutation(deleteExchangeQuery, {\n    variables: {\n      id: ade.id\n    },\n    onComplete: async () => {\n      await refetchExchanges();\n      navigate('/edit');\n    }\n  });\n  const {\n    canAddExchange,\n    canDeleteExchange,\n    keyUiLocale\n  } = useUserContext();\n  const {\n    systemInfo = {}\n  } = useConfig();\n  const {\n    dateFormat\n  } = systemInfo;\n  const {\n    fromServerDate\n  } = useTimeZoneConversion();\n  const createdClientDateString = getCreatedDateString({\n    fromServerDate,\n    createdDate: ade.created,\n    dateFormat,\n    keyUiLocale\n  });\n  const [deleteConfirmationOpen, setDeleteConfirmationOpen] = useState(false);\n  const [sharingSettingsOpen, setSharingSettingsOpen] = useState(false);\n  const closeDeleteConfirmation = useCallback(() => setDeleteConfirmationOpen(false), [setDeleteConfirmationOpen]);\n  const canShareExchange = ((_ade$access = ade.access) === null || _ade$access === void 0 ? void 0 : _ade$access.write) && canAddExchange;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.cardContainer,\n    \"data-test\": \"data-exchange-card\"\n  }, /*#__PURE__*/React.createElement(Card, {\n    key: ade.id,\n    className: styles.cardContainerInner\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.exchangeTitle\n  }, ade.displayName), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.detailsContainer\n  }, /*#__PURE__*/React.createElement(IconTextItem, {\n    icon: /*#__PURE__*/React.createElement(IconArrowRight16, null),\n    text: getNaturalCapitalization((_ade$target = ade.target) === null || _ade$target === void 0 ? void 0 : _ade$target.type)\n  }), /*#__PURE__*/React.createElement(IconTextItem, {\n    icon: /*#__PURE__*/React.createElement(IconApps16, null),\n    text: i18n.t('{{numberOfRequests}} requests', {\n      numberOfRequests: ade.source.requests,\n      interpolation: {\n        escapeValue: false\n      }\n    })\n  }), /*#__PURE__*/React.createElement(IconTextItem, {\n    icon: /*#__PURE__*/React.createElement(IconClock16, null),\n    text: i18n.t('Created {{- createdDate}}', {\n      createdDate: createdClientDateString\n    })\n  })), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(ButtonStrip, null, canAddExchange && /*#__PURE__*/React.createElement(Link, {\n    to: `/edit/${ade.id}`\n  }, /*#__PURE__*/React.createElement(Button, {\n    small: true\n  }, i18n.t('Edit'))), canDeleteExchange && /*#__PURE__*/React.createElement(Button, {\n    destructive: true,\n    secondary: true,\n    small: true,\n    onClick: () => {\n      setDeleteConfirmationOpen(true);\n    },\n    loading: deleting\n  }, deleting ? i18n.t('Deleting...') : i18n.t('Delete')), canShareExchange && /*#__PURE__*/React.createElement(Button, {\n    secondary: true,\n    small: true,\n    onClick: () => {\n      setSharingSettingsOpen(true);\n    }\n  }, i18n.t('Sharing'))))), /*#__PURE__*/React.createElement(DeleteConfirmation, {\n    open: deleteConfirmationOpen,\n    onClose: closeDeleteConfirmation,\n    onDelete: deleteExchange\n  }), sharingSettingsOpen && /*#__PURE__*/React.createElement(SharingDialog, {\n    id: ade.id,\n    onClose: () => {\n      setSharingSettingsOpen(false);\n    },\n    type: 'aggregateDataExchange',\n    dataSharing: true\n  }));\n});\nAggregateDataExchangeCard.propTypes = {\n  ade: PropTypes.object\n};\nexport const EditItemsList = () => {\n  const {\n    aggregateDataExchanges\n  } = useAppContext();\n  const [searchTerm, setSearchTerm] = useState('');\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.searchContainer\n  }, /*#__PURE__*/React.createElement(InputField, {\n    placeholder: i18n.t('Search for an exchange'),\n    value: searchTerm,\n    onChange: _ref5 => {\n      let {\n        value\n      } = _ref5;\n      setSearchTerm(value);\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.listContainer\n  }, aggregateDataExchanges.filter(_ref6 => {\n    let {\n      displayName\n    } = _ref6;\n    return searchTerm.length < 1 ? true : displayName.toLowerCase().includes(searchTerm.toLowerCase());\n  }).map(ade => /*#__PURE__*/React.createElement(AggregateDataExchangeCard, {\n    key: ade.id,\n    ade: ade\n  }))));\n};","// extracted by mini-css-extract-plugin\nexport default {\"tooltipReference\":\"button-with-tooltip_tooltipReference__KFFGG\"};","import { Button, Tooltip } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './button-with-tooltip.module.css';\nexport const ButtonWithTooltip = _ref => {\n  let {\n    buttonText,\n    tooltipContent\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": \"bottom-bar\"\n  }, /*#__PURE__*/React.createElement(Tooltip, {\n    content: tooltipContent\n  }, _ref2 => {\n    let {\n      ref,\n      onMouseOver,\n      onMouseOut\n    } = _ref2;\n    return /*#__PURE__*/React.createElement(\"span\", {\n      className: styles.tooltipReference,\n      ref: ref,\n      onMouseOver: onMouseOver,\n      onMouseOut: onMouseOut\n    }, /*#__PURE__*/React.createElement(Button, {\n      primary: true,\n      disabled: true\n    }, buttonText));\n  }));\n};\nButtonWithTooltip.propTypes = {\n  buttonText: PropTypes.string,\n  tooltipContent: PropTypes.string\n};","import i18n from '@dhis2/d2-i18n';\nimport { Button } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { useAppContext, useExchangeContext } from '../../../context/index.js';\nimport { useExchangeId } from '../../../use-context-selection/index.js';\nimport { ButtonWithTooltip } from '../../common/button-with-tooltip/index.js';\nconst BottomBar = _ref => {\n  var _aggregateDataExchang, _aggregateDataExchang2, _aggregateDataExchang3;\n  let {\n    openSubmitModal,\n    dataSubmitted\n  } = _ref;\n  const [exchangeId] = useExchangeId();\n  const {\n    aggregateDataExchanges\n  } = useAppContext();\n  const {\n    exchangeData\n  } = useExchangeContext();\n  const disableSubmit = ((_aggregateDataExchang = aggregateDataExchanges.find(ade => (ade === null || ade === void 0 ? void 0 : ade.id) === exchangeId)) === null || _aggregateDataExchang === void 0 ? void 0 : (_aggregateDataExchang2 = _aggregateDataExchang.access) === null || _aggregateDataExchang2 === void 0 ? void 0 : (_aggregateDataExchang3 = _aggregateDataExchang2.data) === null || _aggregateDataExchang3 === void 0 ? void 0 : _aggregateDataExchang3.write) === false;\n  const dataCount = exchangeData === null || exchangeData === void 0 ? void 0 : exchangeData.reduce((totalLength, request) => {\n    var _request$rows;\n    return ((request === null || request === void 0 ? void 0 : (_request$rows = request.rows) === null || _request$rows === void 0 ? void 0 : _request$rows.length) || 0) + totalLength;\n  }, 0);\n  const submitButtonText = i18n.t('Submit data');\n  if (!exchangeId || !exchangeData) {\n    return null;\n  }\n  if (dataCount === 0 || dataSubmitted) {\n    const tooltipContent = dataSubmitted ? i18n.t('Data has already been submitted') : i18n.t('There is no data to submit');\n    return /*#__PURE__*/React.createElement(ButtonWithTooltip, {\n      buttonText: submitButtonText,\n      tooltipContent: tooltipContent\n    });\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": \"bottom-bar\"\n  }, /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    onClick: openSubmitModal,\n    disabled: disableSubmit\n  }, submitButtonText));\n};\nBottomBar.propTypes = {\n  dataSubmitted: PropTypes.string,\n  openSubmitModal: PropTypes.func\n};\nexport { BottomBar };","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"layout_container__5cqdu\",\"content\":\"layout_content__4sM4H\",\"bottom\":\"layout_bottom__oBy-5\"};","function _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport classes from './layout.module.css';\nconst LayoutSection = _ref => {\n  let {\n    children,\n    className\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: className\n  }, children);\n};\nLayoutSection.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string\n};\nconst Container = props => /*#__PURE__*/React.createElement(LayoutSection, _extends({}, props, {\n  className: classes.container\n}));\nconst Top = props => /*#__PURE__*/React.createElement(LayoutSection, props);\nconst Content = props => /*#__PURE__*/React.createElement(LayoutSection, _extends({}, props, {\n  className: classes.content\n}));\nconst Bottom = props => /*#__PURE__*/React.createElement(LayoutSection, _extends({}, props, {\n  className: classes.bottom\n}));\nexport const Layout = {\n  Container,\n  Top,\n  Content,\n  Bottom\n};","// extracted by mini-css-extract-plugin\nexport default {\"wrapperDiv\":\"entry-screen_wrapperDiv__LfXr7\",\"innerDiv\":\"entry-screen_innerDiv__h7if-\",\"svgWrapper\":\"entry-screen_svgWrapper__Xbtlg\",\"headingText\":\"entry-screen_headingText__yL0EL\",\"instructionsText\":\"entry-screen_instructionsText__cd3X+\",\"linkText\":\"entry-screen_linkText__5CxsP\"};","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport styles from './entry-screen.module.css';\nconst EmptyStateIcon = () => /*#__PURE__*/React.createElement(\"svg\", {\n  width: \"64\",\n  height: \"64\",\n  viewBox: \"0 0 64 64\",\n  fill: \"none\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  clipPath: \"url(#clip0_229_2099)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 20L22.3923 26V38L12 44L1.6077 38V26L12 20Z\",\n  fill: \"#FBFCFD\",\n  stroke: \"#404B5A\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M11.0001 31.4338V20H13.0001V31.4338L22.5146 37.1425L21.4856 38.8575L12.0001 33.1662L2.51459 38.8575L1.4856 37.1425L11.0001 31.4338Z\",\n  fill: \"#404B5A\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M52 20L62.3923 26V38L52 44L41.6077 38V26L52 20Z\",\n  fill: \"#FBFCFD\",\n  stroke: \"#404B5A\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M51.0001 31.4338V20H53.0001V31.4338L62.5146 37.1425L61.4856 38.8575L52.0001 33.1662L42.5146 38.8575L41.4856 37.1425L51.0001 31.4338Z\",\n  fill: \"#404B5A\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M24 44H34\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M29 49L34 44L29 39\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M22 44H20\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M40 44H37\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M44 44H42\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M30 20L40 20\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M35 25L40 20L35 15\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M28 20H24\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M45 20H43\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M34 32H38\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M29 32H32\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M25 32H27\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10 56L21 56\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M4 56L8 56\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M16 61L21 56L16 51\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M26 56L32 56\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M35 56L38 56\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M40 56L42 56\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M21 8L31 8\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M13 8L17 8\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8 8L10 8\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M26 13L31 8L26 3\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6 8L3 8\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M37 8L35 8\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M41 8L39 8\",\n  stroke: \"#6C7787\",\n  strokeWidth: \"2\"\n})), /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"clipPath\", {\n  id: \"clip0_229_2099\"\n}, /*#__PURE__*/React.createElement(\"rect\", {\n  width: \"64\",\n  height: \"64\",\n  fill: \"white\"\n}))));\nconst documentationLink = 'https://docs.dhis2.org/en/develop/using-the-api/dhis-core-version-master/data-exchange.html#data-exchange';\nexport const EntryScreen = () => /*#__PURE__*/React.createElement(\"div\", {\n  className: styles.wrapperDiv\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: styles.innerDiv,\n  \"data-test\": \"entry-screen-message\"\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: styles.svgWrapper\n}, /*#__PURE__*/React.createElement(EmptyStateIcon, null)), /*#__PURE__*/React.createElement(\"span\", {\n  className: styles.headingText\n}, i18n.t('Choose a data exchange to get started')), /*#__PURE__*/React.createElement(\"span\", {\n  className: styles.instructionsText\n}, i18n.t('Review your data before submitting it to a data exchange.')), /*#__PURE__*/React.createElement(\"span\", {\n  className: styles.instructionsText\n}, i18n.t('Choose a data exchange from the top menu.')), /*#__PURE__*/React.createElement(\"a\", {\n  className: styles.linkText,\n  target: \"_blank\",\n  rel: \"noreferrer noopener\",\n  href: documentationLink\n}, i18n.t('Learn more about data exchange'))));","// extracted by mini-css-extract-plugin\nexport default {\"titleCell\":\"table_titleCell__QT7oB\",\"labelCellContent\":\"table_labelCellContent__Pzgco\",\"dataTable\":\"table_dataTable__b+FfB\"};","import { DataTable, TableHead, DataTableRow, DataTableColumnHeader, TableBody, DataTableCell } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './table.module.css';\n\n// Needs to have the same width as the table, so can't use the one from\n// @dhis2/ui\nconst DataTableToolbar = _ref => {\n  let {\n    children,\n    columns\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"tr\", null, /*#__PURE__*/React.createElement(\"th\", {\n    className: styles.titleCell,\n    colSpan: columns.toString()\n  }, children));\n};\nDataTableToolbar.propTypes = {\n  children: PropTypes.any.isRequired,\n  columns: PropTypes.number.isRequired\n};\nconst Table = _ref2 => {\n  let {\n    title,\n    columns,\n    rows\n  } = _ref2;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(DataTable, {\n    className: styles.dataTable,\n    width: \"auto\"\n  }, /*#__PURE__*/React.createElement(TableHead, null, /*#__PURE__*/React.createElement(DataTableToolbar, {\n    columns: columns.length\n  }, title), /*#__PURE__*/React.createElement(DataTableRow, null, /*#__PURE__*/React.createElement(DataTableColumnHeader, {\n    fixed: true,\n    left: \"0\",\n    top: \"0\",\n    className: styles.cell\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.labelCellContent\n  }, columns[0])), columns.slice(1).map(column => {\n    return /*#__PURE__*/React.createElement(DataTableColumnHeader, {\n      key: column,\n      className: styles.cell\n    }, column);\n  }))), /*#__PURE__*/React.createElement(TableBody, null, rows.map((row, index) => {\n    const [firstCell, ...cells] = row;\n    return /*#__PURE__*/React.createElement(DataTableRow, {\n      key: index\n    }, /*#__PURE__*/React.createElement(DataTableCell, {\n      fixed: true,\n      left: \"0\",\n      className: styles.cell\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: styles.labelCellContent\n    }, firstCell)), cells.map((value, index) => /*#__PURE__*/React.createElement(DataTableCell, {\n      key: index,\n      className: styles.cell\n    }, value)));\n  }))));\n};\nTable.propTypes = {\n  columns: PropTypes.array.isRequired,\n  rows: PropTypes.array.isRequired,\n  title: PropTypes.string.isRequired\n};\nexport { Table };","// extracted by mini-css-extract-plugin\nexport default {\"display\":\"requests-display_display__n0sSB\",\"visualizationButton\":\"requests-display_visualizationButton__dE3aw\",\"linkNoDecoration\":\"requests-display_linkNoDecoration__RB9ix\"};","import { useConfig } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { Button, IconLaunch16 } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { useExchangeContext } from '../../../../context/index.js';\nimport { Warning } from '../../../common/index.js';\nimport { Table } from '../table/index.js';\nimport styles from './requests-display.module.css';\nexport const ensureNestedObjectExists = (obj, propertyNames) => {\n  for (const propertyName of propertyNames) {\n    obj[propertyName] = obj[propertyName] || {};\n    obj = obj[propertyName];\n  }\n};\nexport const convertToObjectFormat = _ref => {\n  let {\n    data,\n    dx_index,\n    ou_index,\n    pe_index,\n    value_index\n  } = _ref;\n  const objectFormat = {};\n  if (Array.isArray(data === null || data === void 0 ? void 0 : data.rows)) {\n    for (const row of data === null || data === void 0 ? void 0 : data.rows) {\n      const ouId = row[ou_index];\n      const deId = row[dx_index];\n      const peId = row[pe_index];\n      const value = row[value_index];\n      ensureNestedObjectExists(objectFormat, [ouId, deId, peId]);\n      objectFormat[ouId][deId][peId] = value;\n    }\n  }\n  return objectFormat;\n};\nexport const formatData = data => {\n  var _data$metaData, _data$metaData2, _data$metaData2$dimen, _data$metaData4, _data$metaData4$dimen, _data$metaData6, _data$metaData6$dimen;\n  const constantDimensions = ['dx', 'pe', 'ou', 'co'];\n  const dx_index = data === null || data === void 0 ? void 0 : data.headers.findIndex(header => header.name === 'dx');\n  const ou_index = data === null || data === void 0 ? void 0 : data.headers.findIndex(header => header.name === 'ou');\n  const pe_index = data === null || data === void 0 ? void 0 : data.headers.findIndex(header => header.name === 'pe');\n  const value_index = data === null || data === void 0 ? void 0 : data.headers.findIndex(header => header.name === 'value');\n  const filters = Object.keys(data === null || data === void 0 ? void 0 : (_data$metaData = data.metaData) === null || _data$metaData === void 0 ? void 0 : _data$metaData.dimensions).filter(key => !constantDimensions.includes(key));\n  const objectFormatData = convertToObjectFormat({\n    data,\n    dx_index,\n    ou_index,\n    pe_index,\n    value_index\n  });\n  const orgUnits = (_data$metaData2 = data.metaData) === null || _data$metaData2 === void 0 ? void 0 : (_data$metaData2$dimen = _data$metaData2.dimensions) === null || _data$metaData2$dimen === void 0 ? void 0 : _data$metaData2$dimen.ou.map(orgUnit => {\n    var _data$metaData3, _data$metaData3$items;\n    return {\n      id: orgUnit,\n      name: (_data$metaData3 = data.metaData) === null || _data$metaData3 === void 0 ? void 0 : (_data$metaData3$items = _data$metaData3.items[orgUnit]) === null || _data$metaData3$items === void 0 ? void 0 : _data$metaData3$items.name\n    };\n  });\n  orgUnits.sort((a, b) => a.name.localeCompare(b.name));\n  const dataElements = (_data$metaData4 = data.metaData) === null || _data$metaData4 === void 0 ? void 0 : (_data$metaData4$dimen = _data$metaData4.dimensions) === null || _data$metaData4$dimen === void 0 ? void 0 : _data$metaData4$dimen.dx.map(dataElement => {\n    var _data$metaData5, _data$metaData5$items;\n    return {\n      id: dataElement,\n      name: (_data$metaData5 = data.metaData) === null || _data$metaData5 === void 0 ? void 0 : (_data$metaData5$items = _data$metaData5.items[dataElement]) === null || _data$metaData5$items === void 0 ? void 0 : _data$metaData5$items.name\n    };\n  });\n  dataElements.sort((a, b) => a.name.localeCompare(b.name));\n\n  // TBD: natural sort? Is this necessary or is it sorted by backend?\n  let periods = (_data$metaData6 = data.metaData) === null || _data$metaData6 === void 0 ? void 0 : (_data$metaData6$dimen = _data$metaData6.dimensions) === null || _data$metaData6$dimen === void 0 ? void 0 : _data$metaData6$dimen.pe.map(period => {\n    var _data$metaData7, _data$metaData7$items;\n    return {\n      id: period,\n      name: (_data$metaData7 = data.metaData) === null || _data$metaData7 === void 0 ? void 0 : (_data$metaData7$items = _data$metaData7.items[period]) === null || _data$metaData7$items === void 0 ? void 0 : _data$metaData7$items.name\n    };\n  });\n  periods = periods.sort((a, b) => a.id.localeCompare(b.id, 'en', {\n    numeric: true\n  }));\n  const tableFormat = [];\n  for (const orgUnit of orgUnits) {\n    const table = {};\n    table.title = (filters === null || filters === void 0 ? void 0 : filters.length) > 0 ? `${orgUnit.name} - ${filters.map(filter => {\n      var _data$metaData8, _data$metaData8$items, _data$metaData8$items2;\n      return data === null || data === void 0 ? void 0 : (_data$metaData8 = data.metaData) === null || _data$metaData8 === void 0 ? void 0 : (_data$metaData8$items = _data$metaData8.items) === null || _data$metaData8$items === void 0 ? void 0 : (_data$metaData8$items2 = _data$metaData8$items[filter]) === null || _data$metaData8$items2 === void 0 ? void 0 : _data$metaData8$items2.name;\n    }).join(',')}` : orgUnit.name;\n    table.headers = [{\n      name: i18n.t('Data')\n    }, ...periods.map(_ref2 => {\n      let {\n        name\n      } = _ref2;\n      return {\n        name\n      };\n    })];\n    const rows = [];\n    for (const dataElement of dataElements) {\n      const rowData = periods.map(period => {\n        var _objectFormatData$org, _objectFormatData$org2;\n        return (objectFormatData === null || objectFormatData === void 0 ? void 0 : (_objectFormatData$org = objectFormatData[orgUnit.id]) === null || _objectFormatData$org === void 0 ? void 0 : (_objectFormatData$org2 = _objectFormatData$org[dataElement.id]) === null || _objectFormatData$org2 === void 0 ? void 0 : _objectFormatData$org2[period.id]) || '';\n      });\n      rows.push([dataElement.name, ...rowData]);\n    }\n    table.rows = rows;\n    tableFormat.push(table);\n  }\n  return tableFormat;\n};\nconst RequestsDisplay = _ref3 => {\n  var _exchange$source, _exchange$source$requ, _exchangeData$rows;\n  let {\n    requestIndex\n  } = _ref3;\n  const {\n    exchange,\n    exchangeData\n  } = useExchangeContext();\n  const request = (_exchange$source = exchange.source) === null || _exchange$source === void 0 ? void 0 : (_exchange$source$requ = _exchange$source.requests) === null || _exchange$source$requ === void 0 ? void 0 : _exchange$source$requ[requestIndex];\n  const formattedData = formatData(exchangeData === null || exchangeData === void 0 ? void 0 : exchangeData[requestIndex]);\n  const {\n    baseUrl\n  } = useConfig();\n  if ((exchangeData === null || exchangeData === void 0 ? void 0 : (_exchangeData$rows = exchangeData.rows) === null || _exchangeData$rows === void 0 ? void 0 : _exchangeData$rows.length) === 0) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.display\n    }, /*#__PURE__*/React.createElement(Warning, {\n      title: i18n.t('No data')\n    }, /*#__PURE__*/React.createElement(\"span\", null, i18n.t('There is no data for this report'))));\n  }\n  if (exchangeData) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.display\n    }, (request === null || request === void 0 ? void 0 : request.visualization) && /*#__PURE__*/React.createElement(\"a\", {\n      target: \"_blank\",\n      rel: \"noreferrer noopener\",\n      href: `${baseUrl}/dhis-web-data-visualizer/#/${request.visualization}`,\n      className: styles.linkNoDecoration\n    }, /*#__PURE__*/React.createElement(Button, {\n      icon: /*#__PURE__*/React.createElement(IconLaunch16, null),\n      className: styles.visualizationButton,\n      secondary: true,\n      small: true\n    }, i18n.t('Open in data visualizer'))), formattedData.map(table => /*#__PURE__*/React.createElement(Table, {\n      key: table.title,\n      title: table.title,\n      columns: table.headers.map(h => h.name),\n      rows: table.rows\n    })));\n  }\n\n  // if exchangeData is missing, return null\n  return null;\n};\nRequestsDisplay.propTypes = {\n  requestIndex: PropTypes.number\n};\nexport { RequestsDisplay };","import { TabBar, Tab } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nconst RequestsNavigation = _ref => {\n  let {\n    requests,\n    selected,\n    onChange\n  } = _ref;\n  return requests && (requests === null || requests === void 0 ? void 0 : requests.length) > 0 ? /*#__PURE__*/React.createElement(TabBar, {\n    scrollable: true\n  }, requests.map((request, index) => /*#__PURE__*/React.createElement(Tab, {\n    key: request.name,\n    onClick: () => onChange(index),\n    selected: index === selected\n  }, request.name))) : null;\n};\nRequestsNavigation.propTypes = {\n  onChange: PropTypes.func.isRequired,\n  requests: PropTypes.arrayOf(PropTypes.shape({\n    name: PropTypes.string\n  })),\n  selected: PropTypes.number\n};\nexport { RequestsNavigation };","// extracted by mini-css-extract-plugin\nexport default {\"titleBar\":\"title-bar_titleBar__vDu9V\",\"workflowName\":\"title-bar_workflowName__Tr9Oe\",\"workflowDataSetsCount\":\"title-bar_workflowDataSetsCount__AfJXx\",\"analyticsRunStamp\":\"title-bar_analyticsRunStamp__BMnmh\"};","import { useConfig, useTimeZoneConversion } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { IconInfo16, IconDimensionDataSet16, Tooltip } from '@dhis2/ui';\nimport moment from 'moment';\nimport React from 'react';\nimport { useExchangeContext } from '../../../../context/index.js';\nimport styles from './title-bar.module.css';\nexport const getRelativeTimeDifference = _ref => {\n  let {\n    startTimeDate\n  } = _ref;\n  if (!startTimeDate) {\n    return undefined;\n  }\n  return moment(startTimeDate).fromNow(true);\n};\n\n// this formats to the styling specified by DHIS2 design principles\nconst formatTimestamp = _ref2 => {\n  let {\n    timestamp,\n    timezone\n  } = _ref2;\n  return `${timestamp.substring(0, 10)} T ${timestamp.substring(11, 16)} ${timezone}`;\n};\nconst TitleBar = () => {\n  var _exchange$source, _exchange$source$requ;\n  const {\n    systemInfo\n  } = useConfig();\n  const {\n    lastAnalyticsTableSuccess,\n    serverTimeZoneId\n  } = systemInfo;\n  const {\n    exchange\n  } = useExchangeContext();\n  const {\n    fromServerDate\n  } = useTimeZoneConversion();\n  const lastAnalyticsTableSuccessClient = fromServerDate(lastAnalyticsTableSuccess);\n  const requestsCount = (_exchange$source = exchange.source) === null || _exchange$source === void 0 ? void 0 : (_exchange$source$requ = _exchange$source.requests) === null || _exchange$source$requ === void 0 ? void 0 : _exchange$source$requ.length;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.titleBar,\n    \"data-test\": \"title-bar\"\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.workflowName\n  }, exchange === null || exchange === void 0 ? void 0 : exchange.displayName), /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.workflowDataSetsCount\n  }, /*#__PURE__*/React.createElement(IconDimensionDataSet16, null), requestsCount === 1 && i18n.t('1 data report', {\n    requestsCount\n  }), requestsCount > 1 && i18n.t('{{requestsCount}} data reports', {\n    requestsCount\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.analyticsRunStamp\n  }, /*#__PURE__*/React.createElement(IconInfo16, null), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Tooltip, {\n    content: formatTimestamp({\n      timestamp: lastAnalyticsTableSuccess,\n      timezone: serverTimeZoneId\n    })\n  }, /*#__PURE__*/React.createElement(\"span\", null, i18n.t('Source data was generated {{timeDifference}} ago', {\n    timeDifference: getRelativeTimeDifference({\n      startTimeDate: lastAnalyticsTableSuccessClient\n    })\n  }))))));\n};\nexport { TitleBar };","import i18n from '@dhis2/d2-i18n';\nimport { CenteredContent } from '@dhis2/ui';\nimport React, { useEffect } from 'react';\nimport { useAppContext, useExchangeContext } from '../../../context/index.js';\nimport { useExchangeId, useRequestIndex } from '../../../use-context-selection/index.js';\nimport { Warning } from '../../common/index.js';\nimport { EntryScreen } from './entry-screen.js';\nimport { RequestsDisplay } from './requests-display/index.js';\nimport { RequestsNavigation } from './requests-navigation/index.js';\nimport { TitleBar } from './title-bar/title-bar.js';\nconst DataWorkspace = () => {\n  var _exchange$source, _exchange$source$requ;\n  const {\n    readableExchangeOptions\n  } = useAppContext();\n  const {\n    exchange\n  } = useExchangeContext();\n  const [exchangeId] = useExchangeId();\n  // memoize for stable reference?\n  const requests = exchange === null || exchange === void 0 ? void 0 : (_exchange$source = exchange.source) === null || _exchange$source === void 0 ? void 0 : (_exchange$source$requ = _exchange$source.requests) === null || _exchange$source$requ === void 0 ? void 0 : _exchange$source$requ.map(request => ({\n    name: request.name\n  }));\n  const [selectedRequest, setSelectedRequest] = useRequestIndex(undefined);\n\n  // auto select the first report if none is specified\n  useEffect(() => {\n    if (!exchangeId || !requests) {\n      setSelectedRequest(undefined);\n    }\n    if (exchangeId && !selectedRequest && requests) {\n      setSelectedRequest(0);\n    }\n  }, [exchangeId, requests, selectedRequest, setSelectedRequest]);\n  if (readableExchangeOptions.length === 0) {\n    return /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(\"span\", {\n      \"data-test\": \"no-exchanges-screen-message\"\n    }, i18n.t('There are no exchanges available to you')));\n  }\n  if (exchange && exchangeId) {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(TitleBar, null), !requests && /*#__PURE__*/React.createElement(\"div\", {\n      \"data-test\": \"no-exchange-data-warning\"\n    }, /*#__PURE__*/React.createElement(Warning, {\n      error: true,\n      title: i18n.t('No data in this exchange')\n    }, /*#__PURE__*/React.createElement(\"span\", null, i18n.t('There is not any data to show in this exchange, or you might not have access to the data.')))), !isNaN(selectedRequest) && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(RequestsNavigation, {\n      requests: requests,\n      selected: selectedRequest,\n      onChange: setSelectedRequest\n    }), /*#__PURE__*/React.createElement(RequestsDisplay, {\n      requestIndex: selectedRequest\n    })));\n  }\n  return /*#__PURE__*/React.createElement(EntryScreen, null);\n};\nexport { DataWorkspace };","// extracted by mini-css-extract-plugin\nexport default {\"submitModalSummaryWrapper\":\"submit-modal_submitModalSummaryWrapper__2ULOU\",\"loadingWrapper\":\"submit-modal_loadingWrapper__Hoq1T\",\"contentStyling\":\"submit-modal_contentStyling__Cr+sU\",\"errorWrapperText\":\"submit-modal_errorWrapperText__pS4YR\",\"errorMessage\":\"submit-modal_errorMessage__+3uPR\",\"skipAuditWarning\":\"submit-modal_skipAuditWarning__ZMePV\"};","// extracted by mini-css-extract-plugin\nexport default {\"label\":\"conflicts-details-table_label__iw8Qf\"};","import i18n from '@dhis2/d2-i18n';\nimport { Table, TableBody, TableCell, TableCellHead, TableHead, TableRow, TableRowHead } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './conflicts-details-table.module.css';\nconst ConflictsDetailsTable = _ref => {\n  let {\n    conflicts\n  } = _ref;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.label\n  }, i18n.t('Conflicts')), /*#__PURE__*/React.createElement(Table, null, /*#__PURE__*/React.createElement(TableHead, null, /*#__PURE__*/React.createElement(TableRowHead, null, /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('Object')), /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('Value')))), /*#__PURE__*/React.createElement(TableBody, null, conflicts.map((c, i) => /*#__PURE__*/React.createElement(TableRow, {\n    key: `job-summary-conflicts-${c.object}-${i}`\n  }, /*#__PURE__*/React.createElement(TableCell, null, c.object), /*#__PURE__*/React.createElement(TableCell, null, c.value))))));\n};\nConflictsDetailsTable.propTypes = {\n  conflicts: PropTypes.array\n};\nexport { ConflictsDetailsTable };","// extracted by mini-css-extract-plugin\nexport default {\"summaryBoxWrapper\":\"success-content_summaryBoxWrapper__f8Xtn\",\"summaryBoxTitle\":\"success-content_summaryBoxTitle__cWcHp\",\"summaryBox\":\"success-content_summaryBox__LlfLV\",\"label\":\"success-content_label__O6pyu\",\"count\":\"success-content_count__LYmEt\",\"success\":\"success-content_success__gxbw1 success-content_summaryBox__LlfLV\",\"deleted\":\"success-content_deleted__GNdtk success-content_summaryBox__LlfLV\",\"ignored\":\"success-content_ignored__+qnrs success-content_summaryBox__LlfLV\",\"copyButton\":\"success-content_copyButton__aqaNo\",\"tagWrapper\":\"success-content_tagWrapper__MbqQj\"};","import i18n from '@dhis2/d2-i18n';\nimport { Button, DataTable, DataTableBody, DataTableCell, DataTableColumnHeader, DataTableHead, DataTableRow, IconCheckmarkCircle16, IconError16, IconCopy16, Tag } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport { useExchangeContext } from '../../../context/index.js';\nimport { ConflictsDetailsTable } from './conflicts-details-table.js';\nimport styles from './success-content.module.css';\nconst importTypeConfig = {\n  imported: {\n    style: 'success',\n    text: i18n.t('imported')\n  },\n  updated: {\n    style: 'success',\n    text: i18n.t('updated')\n  },\n  ignored: {\n    style: 'ignored',\n    text: i18n.t('ignored')\n  }\n};\nconst SummaryBox = _ref => {\n  let {\n    importType,\n    importCount\n  } = _ref;\n  const {\n    text,\n    style: styleName\n  } = importTypeConfig[importType];\n  const boxStyle = styles[styleName];\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.summaryBox,\n    \"data-test\": \"summary-box\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: boxStyle\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.count\n  }, importCount), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.label\n  }, /*#__PURE__*/React.createElement(\"span\", null, i18n.t(text)))));\n};\nSummaryBox.propTypes = {\n  importCount: PropTypes.number,\n  importType: PropTypes.string\n};\nconst getConflictLines = conflicts => {\n  if (!conflicts) {\n    return '';\n  }\n  return conflicts.map(conflict => `${conflict.object}: ${conflict.value}`).join('\\n');\n};\nconst copyTableToClipboard = _ref2 => {\n  let {\n    exchangeName,\n    exchangeURL,\n    importSummaries,\n    summaryCounts,\n    requests,\n    dataSubmitted\n  } = _ref2;\n  let text = '';\n  const exchangeNameLine = i18n.t('Exchange: {{- exchangeName}}', {\n    exchangeName,\n    nsSeparator: '-:-'\n  });\n  const targetURLLine = i18n.t('Target URL: {{- exchangeURL}}', {\n    exchangeURL: decodeURI(exchangeURL),\n    nsSeparator: '-:-'\n  });\n  const runDateLine = i18n.t('Run date: {{- runDate}}', {\n    runDate: dataSubmitted,\n    nsSeparator: '-:-'\n  });\n  if (exchangeURL) {\n    text += `${exchangeNameLine}\\n${targetURLLine}`;\n  } else {\n    text += exchangeNameLine;\n  }\n  text += '\\n' + runDateLine + '\\n\\n\\n' + i18n.t('SUMMARY') + '\\n';\n  const summaryLine = i18n.t('Imported: {{importedCount}}, Updated: {{updatedCount}}, Ignored: {{ignoredCount}}', {\n    importedCount: summaryCounts.imported,\n    updatedCount: summaryCounts.updated,\n    ignoredCount: summaryCounts.ignored,\n    nsSeparator: '-:-'\n  });\n  text += summaryLine + '\\n\\n\\n' + i18n.t('DETAILS');\n  const detailsText = importSummaries.reduce((fullText, importSummary, index) => {\n    var _requests$index$name, _requests$index, _requests$index2, _requests$index2$name, _importSummary$import, _importSummary$import2, _importSummary$import3;\n    let requestName = (_requests$index$name = requests === null || requests === void 0 ? void 0 : (_requests$index = requests[index]) === null || _requests$index === void 0 ? void 0 : _requests$index.name) !== null && _requests$index$name !== void 0 ? _requests$index$name : '';\n    if (requests !== null && requests !== void 0 && (_requests$index2 = requests[index]) !== null && _requests$index2 !== void 0 && (_requests$index2$name = _requests$index2.name) !== null && _requests$index2$name !== void 0 && _requests$index2$name.includes(',')) {\n      var _requests$index3;\n      requestName = `\"${requests === null || requests === void 0 ? void 0 : (_requests$index3 = requests[index]) === null || _requests$index3 === void 0 ? void 0 : _requests$index3.name}\"`;\n    }\n    const requestNameLine = i18n.t('Report: {{- requestName}}', {\n      requestName,\n      nsSeparator: '-:-'\n    });\n    const importedCount = (_importSummary$import = importSummary.importCount) === null || _importSummary$import === void 0 ? void 0 : _importSummary$import.imported;\n    const ignoredCount = (_importSummary$import2 = importSummary.importCount) === null || _importSummary$import2 === void 0 ? void 0 : _importSummary$import2.ignored;\n    const updatedCount = (_importSummary$import3 = importSummary.importCount) === null || _importSummary$import3 === void 0 ? void 0 : _importSummary$import3.updated;\n    const summaryCountLine = i18n.t('Imported: {{importedCount}}, Updated: {{updatedCount}}, Ignored: {{ignoredCount}}', {\n      importedCount,\n      updatedCount,\n      ignoredCount,\n      nsSeparator: '-:-'\n    });\n    const conflictLines = getConflictLines(importSummary.conflicts);\n    return fullText + '\\n\\n' + requestNameLine + '\\n' + summaryCountLine + '\\n' + conflictLines;\n  }, '');\n  text += detailsText;\n  navigator.clipboard.writeText(text);\n};\nconst SummaryRow = _ref3 => {\n  var _importSummary$confli, _importSummary$import4, _importSummary$import5, _importSummary$import6;\n  let {\n    importSummary,\n    exchangeName,\n    expandedRows,\n    expandToggle,\n    hasConflicts\n  } = _ref3;\n  const rowHasConflicts = ((_importSummary$confli = importSummary.conflicts) === null || _importSummary$confli === void 0 ? void 0 : _importSummary$confli.length) > 0;\n  const showPaddingCell = hasConflicts && !rowHasConflicts;\n  return /*#__PURE__*/React.createElement(DataTableRow, {\n    expanded: expandedRows.includes(exchangeName),\n    onExpandToggle: rowHasConflicts ? () => expandToggle(exchangeName) : undefined,\n    expandableContent: rowHasConflicts ? /*#__PURE__*/React.createElement(ConflictsDetailsTable, {\n      conflicts: importSummary.conflicts\n    }) : undefined\n  }, showPaddingCell && /*#__PURE__*/React.createElement(DataTableCell, null), /*#__PURE__*/React.createElement(DataTableCell, null, exchangeName), /*#__PURE__*/React.createElement(DataTableCell, null, (_importSummary$import4 = importSummary.importCount) === null || _importSummary$import4 === void 0 ? void 0 : _importSummary$import4.imported), /*#__PURE__*/React.createElement(DataTableCell, null, (_importSummary$import5 = importSummary.importCount) === null || _importSummary$import5 === void 0 ? void 0 : _importSummary$import5.updated), /*#__PURE__*/React.createElement(DataTableCell, null, (_importSummary$import6 = importSummary.importCount) === null || _importSummary$import6 === void 0 ? void 0 : _importSummary$import6.ignored));\n};\nSummaryRow.propTypes = {\n  exchangeName: PropTypes.string,\n  expandToggle: PropTypes.func,\n  expandedRows: PropTypes.array,\n  hasConflicts: PropTypes.bool,\n  importSummary: PropTypes.object\n};\nconst SummaryTable = _ref4 => {\n  let {\n    importSummaries,\n    summaryCounts,\n    hasConflicts,\n    dataSubmitted\n  } = _ref4;\n  const {\n    exchange\n  } = useExchangeContext();\n  const [expandedRows, setExpandedRows] = useState([]);\n  const expandToggle = rowName => {\n    if (expandedRows.includes(rowName)) {\n      setExpandedRows(expandedRows.filter(row => row !== rowName));\n    } else {\n      setExpandedRows([...expandedRows, rowName]);\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": \"success-counts-table\"\n  }, /*#__PURE__*/React.createElement(DataTable, null, /*#__PURE__*/React.createElement(DataTableHead, null, /*#__PURE__*/React.createElement(DataTableRow, null, hasConflicts && /*#__PURE__*/React.createElement(DataTableColumnHeader, null), /*#__PURE__*/React.createElement(DataTableColumnHeader, null, i18n.t('Report')), /*#__PURE__*/React.createElement(DataTableColumnHeader, null, i18n.t('Imported')), /*#__PURE__*/React.createElement(DataTableColumnHeader, null, i18n.t('Updated')), /*#__PURE__*/React.createElement(DataTableColumnHeader, null, i18n.t('Ignored')))), /*#__PURE__*/React.createElement(DataTableBody, null, importSummaries.map((importSummary, index) => {\n    var _exchange$source, _exchange$source$requ, _exchange$source2, _exchange$source2$req;\n    return /*#__PURE__*/React.createElement(SummaryRow, {\n      key: `${exchange === null || exchange === void 0 ? void 0 : (_exchange$source = exchange.source) === null || _exchange$source === void 0 ? void 0 : (_exchange$source$requ = _exchange$source.requests[index]) === null || _exchange$source$requ === void 0 ? void 0 : _exchange$source$requ.name}-summary`,\n      importSummary: importSummary,\n      exchangeName: exchange === null || exchange === void 0 ? void 0 : (_exchange$source2 = exchange.source) === null || _exchange$source2 === void 0 ? void 0 : (_exchange$source2$req = _exchange$source2.requests[index]) === null || _exchange$source2$req === void 0 ? void 0 : _exchange$source2$req.name,\n      expandedRows: expandedRows,\n      expandToggle: expandToggle,\n      hasConflicts: hasConflicts\n    });\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.copyButton,\n    \"data-test\": \"copy-to-clipboard-button\"\n  }, /*#__PURE__*/React.createElement(Button, {\n    small: true,\n    icon: /*#__PURE__*/React.createElement(IconCopy16, null),\n    onClick: () => {\n      var _exchange$target, _exchange$target$api, _exchange$source3;\n      copyTableToClipboard({\n        exchangeName: exchange.displayName,\n        exchangeURL: (_exchange$target = exchange.target) === null || _exchange$target === void 0 ? void 0 : (_exchange$target$api = _exchange$target.api) === null || _exchange$target$api === void 0 ? void 0 : _exchange$target$api.url,\n        importSummaries,\n        summaryCounts,\n        requests: exchange === null || exchange === void 0 ? void 0 : (_exchange$source3 = exchange.source) === null || _exchange$source3 === void 0 ? void 0 : _exchange$source3.requests,\n        dataSubmitted\n      });\n    }\n  }, i18n.t('Copy summary to clipboard'))));\n};\nSummaryTable.propTypes = {\n  dataSubmitted: PropTypes.string,\n  hasConflicts: PropTypes.bool,\n  importSummaries: PropTypes.array,\n  summaryCounts: PropTypes.object\n};\nconst SuccessContent = _ref5 => {\n  var _data$importSummaries, _data$response;\n  let {\n    data,\n    dataSubmitted\n  } = _ref5;\n  const importSummaries = (_data$importSummaries = data === null || data === void 0 ? void 0 : data.importSummaries) !== null && _data$importSummaries !== void 0 ? _data$importSummaries : data === null || data === void 0 ? void 0 : (_data$response = data.response) === null || _data$response === void 0 ? void 0 : _data$response.importSummaries;\n  const summaryCounts = importSummaries.reduce((totalCounts, importSummary) => {\n    var _importSummary$confli2;\n    for (const countType in importSummary === null || importSummary === void 0 ? void 0 : importSummary.importCount) {\n      var _importSummary$import7;\n      totalCounts[countType] += ((_importSummary$import7 = importSummary.importCount) === null || _importSummary$import7 === void 0 ? void 0 : _importSummary$import7[countType]) || 0;\n    }\n    totalCounts.conflicts += ((_importSummary$confli2 = importSummary.conflicts) === null || _importSummary$confli2 === void 0 ? void 0 : _importSummary$confli2.length) || 0;\n    return totalCounts;\n  }, {\n    imported: 0,\n    updated: 0,\n    ignored: 0,\n    deleted: 0,\n    conflicts: 0\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Tag, {\n    positive: true,\n    icon: /*#__PURE__*/React.createElement(IconCheckmarkCircle16, null)\n  }, i18n.t('Data submitted successfully.')), summaryCounts.conflicts > 0 && /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.tagWrapper\n  }, /*#__PURE__*/React.createElement(Tag, {\n    negative: true,\n    icon: /*#__PURE__*/React.createElement(IconError16, null)\n  }, i18n.t('Conflicts'))), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.summaryBoxTitle\n  }, i18n.t('Summary')), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.summaryBoxWrapper\n  }, /*#__PURE__*/React.createElement(SummaryBox, {\n    importType: \"imported\",\n    importCount: summaryCounts.imported\n  }), /*#__PURE__*/React.createElement(SummaryBox, {\n    importType: \"updated\",\n    importCount: summaryCounts.updated\n  }), /*#__PURE__*/React.createElement(SummaryBox, {\n    importType: \"ignored\",\n    importCount: summaryCounts.ignored\n  })), /*#__PURE__*/React.createElement(SummaryTable, {\n    importSummaries: importSummaries,\n    summaryCounts: summaryCounts,\n    hasConflicts: summaryCounts.conflicts > 0,\n    dataSubmitted: dataSubmitted\n  }));\n};\nSuccessContent.propTypes = {\n  data: PropTypes.object,\n  dataSubmitted: PropTypes.string\n};\nexport { SuccessContent };","import { useDataEngine } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport moment from 'moment';\nimport { useEffect, useReducer, useState } from 'react';\nconst getMutation = _ref => {\n  let {\n    id\n  } = _ref;\n  return {\n    resource: `aggregateDataExchanges/${id}/exchange`,\n    type: 'create'\n  };\n};\nconst uncalledState = {\n  data: null,\n  error: null,\n  loading: false,\n  called: false,\n  dataSubmitted: null\n};\nconst submitReducer = (state, action) => {\n  switch (action.type) {\n    case 'loading':\n      return {\n        ...uncalledState,\n        loading: true\n      };\n    case 'success':\n      return {\n        data: action.payload,\n        error: null,\n        loading: false,\n        called: true,\n        dataSubmitted: moment().format()\n      };\n    case 'error':\n      return {\n        data: null,\n        error: action.payload,\n        loading: false,\n        called: false,\n        dataSubmitted: null\n      };\n    case 'reset':\n      return {\n        ...uncalledState\n      };\n    default:\n      return {\n        ...uncalledState,\n        called: true\n      };\n  }\n};\nexport const useAggregateDataExchangeMutation = _ref2 => {\n  let {\n    id\n  } = _ref2;\n  const engine = useDataEngine();\n  const [submissionState, dispatch] = useReducer(submitReducer, uncalledState);\n  const [fetch, setFetch] = useState(false);\n  useEffect(() => {\n    const fetchData = async _ref3 => {\n      let {\n        id\n      } = _ref3;\n      if (fetch) {\n        dispatch({\n          type: 'loading'\n        });\n        try {\n          var _response$response;\n          const response = await engine.mutate(getMutation({\n            id\n          }));\n          const internalResponse = (_response$response = response === null || response === void 0 ? void 0 : response.response) !== null && _response$response !== void 0 ? _response$response : response;\n          if ((internalResponse === null || internalResponse === void 0 ? void 0 : internalResponse.status) === 'ERROR') {\n            var _internalResponse$imp;\n            const errorMessage = (internalResponse === null || internalResponse === void 0 ? void 0 : (_internalResponse$imp = internalResponse.importSummaries.find(_ref4 => {\n              let {\n                status\n              } = _ref4;\n              return status === 'ERROR';\n            })) === null || _internalResponse$imp === void 0 ? void 0 : _internalResponse$imp.description) || i18n.t('Unknown error');\n            throw new Error(errorMessage);\n          }\n          setFetch(false);\n          dispatch({\n            type: 'success',\n            payload: response\n          });\n        } catch (error) {\n          setFetch(false);\n          dispatch({\n            type: 'error',\n            payload: error\n          });\n        }\n      }\n    };\n    fetchData({\n      id\n    });\n  }, [id, fetch, engine]);\n\n  // clean up if id changes\n  useEffect(() => {\n    return () => {\n      dispatch({\n        type: 'reset'\n      });\n    };\n  }, [id]);\n  const refetch = () => {\n    setFetch(true);\n  };\n  return [refetch, submissionState];\n};","import { useConfig } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { Button, ButtonStrip, CenteredContent, CircularLoader, Modal, ModalActions, ModalContent, ModalTitle, NoticeBox } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useEffect, useState } from 'react';\nimport { useExchangeContext, useUserContext } from '../../../context/index.js';\nimport { Warning } from '../../common/index.js';\nimport styles from './submit-modal.module.css';\nimport { SuccessContent } from './success-content.js';\nimport { useAggregateDataExchangeMutation } from './use-aggregate-data-exchange-mutation.js';\nconst SkipAuditWarning = _ref => {\n  let {\n    exchangeSkipAudit,\n    internalExchange\n  } = _ref;\n  const {\n    hasSkipAuditInfoAuthority\n  } = useUserContext();\n  if (internalExchange && exchangeSkipAudit && !hasSkipAuditInfoAuthority) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.skipAuditWarning\n    }, /*#__PURE__*/React.createElement(NoticeBox, {\n      warning: true\n    }, i18n.t('This exchange is configured to skip audit information on submit, but you do not have the Skip data import audit authority. If you submit this exchange, the data will be ignored.')));\n  }\n  return null;\n};\nSkipAuditWarning.propTypes = {\n  exchangeSkipAudit: PropTypes.bool,\n  internalExchange: PropTypes.bool\n};\nconst LoadingStateModalContent = () => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ModalContent, null, /*#__PURE__*/React.createElement(ModalContentWrapper, null, /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(\"div\", {\n  className: styles.loadingWrapper\n}, /*#__PURE__*/React.createElement(CircularLoader, {\n  small: true\n}), /*#__PURE__*/React.createElement(\"span\", null, i18n.t('Submitting...')))))), /*#__PURE__*/React.createElement(ModalActions, null, /*#__PURE__*/React.createElement(ButtonStrip, {\n  end: true\n}, /*#__PURE__*/React.createElement(Button, {\n  disabled: true\n}, i18n.t('No, cancel')), /*#__PURE__*/React.createElement(Button, {\n  primary: true,\n  disabled: true\n}, i18n.t('Yes, submit')))));\nconst ErrorModalContent = _ref2 => {\n  let {\n    error,\n    onRetry,\n    onClose\n  } = _ref2;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ModalContent, null, /*#__PURE__*/React.createElement(ModalContentWrapper, null, /*#__PURE__*/React.createElement(Warning, {\n    error: true,\n    title: i18n.t('There was a problem submitting data')\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.errorWrapperText\n  }, i18n.t('It was not possible to submit your data. The message below provides additional detail.')), /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.errorMessage\n  }, (error === null || error === void 0 ? void 0 : error.message) || '')))), /*#__PURE__*/React.createElement(ModalActions, null, /*#__PURE__*/React.createElement(ButtonStrip, {\n    end: true\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: onClose\n  }, i18n.t('Close')), /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    onClick: onRetry\n  }, i18n.t('Try again')))));\n};\nErrorModalContent.propTypes = {\n  error: PropTypes.object,\n  onClose: PropTypes.func,\n  onRetry: PropTypes.func\n};\nconst SuccessModalContent = _ref3 => {\n  let {\n    onClose,\n    data,\n    dataSubmitted\n  } = _ref3;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ModalContent, null, /*#__PURE__*/React.createElement(ModalContentWrapper, null, /*#__PURE__*/React.createElement(SuccessContent, {\n    data: data,\n    dataSubmitted: dataSubmitted\n  }))), /*#__PURE__*/React.createElement(ModalActions, null, /*#__PURE__*/React.createElement(ButtonStrip, {\n    end: true\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: onClose,\n    \"data-test\": \"close-submission-button\"\n  }, i18n.t('Close')))));\n};\nSuccessModalContent.propTypes = {\n  data: PropTypes.object,\n  dataSubmitted: PropTypes.string,\n  onClose: PropTypes.func\n};\nexport const getReportText = request => {\n  const {\n    name,\n    orgUnits,\n    periods\n  } = request;\n  const orgUnitText = orgUnits.length === 1 ? i18n.t('{{orgUnitCount}} organisation unit', {\n    orgUnitCount: orgUnits.length\n  }) : i18n.t('{{orgUnitCount}} organisation units', {\n    orgUnitCount: orgUnits.length\n  });\n  let periodsText = '';\n  if (periods.length === 1) {\n    periodsText = i18n.t('{{periodsCount}} period: {{periods}}', {\n      periodsCount: periods.length,\n      periods: periods[0],\n      nsSeparator: '-:-'\n    });\n  }\n  if (periods.length > 1 && periods.length <= 3) {\n    periodsText = i18n.t('{{periodsCount}} periods: {{periods}}', {\n      periodsCount: periods.length,\n      periods: periods.join(', '),\n      nsSeparator: '-:-'\n    });\n  }\n  if (periods.length > 3) {\n    periodsText = i18n.t('3+ periods: {{periods}}, and {{periodsCountLessThree}} more', {\n      periodsCount: periods.length,\n      periods: periods.slice(0, 3).join(', '),\n      periodsCountLessThree: periods.length - 3,\n      nsSeparator: '-:-'\n    });\n  }\n  return `${name}, ${orgUnitText}, ${periodsText}`;\n};\nconst ConfirmModalContent = _ref4 => {\n  var _exchange$target, _exchange$target2, _exchange$target2$api, _exchangeURL$split$, _exchange$target3, _exchange$target3$req, _exchange$target4;\n  let {\n    exchange,\n    requests,\n    onClose,\n    onSubmit\n  } = _ref4;\n  // this is very wordy, but did not have luck with i18nextscanner picking up from more compact versions...\n  let reportTranslationsString;\n  const {\n    systemInfo\n  } = useConfig();\n  const reportCount = requests.length;\n  const exchangeName = exchange === null || exchange === void 0 ? void 0 : exchange.displayName;\n  const internalExchange = (exchange === null || exchange === void 0 ? void 0 : (_exchange$target = exchange.target) === null || _exchange$target === void 0 ? void 0 : _exchange$target.type) === 'INTERNAL';\n  const exchangeURL = internalExchange ? systemInfo === null || systemInfo === void 0 ? void 0 : systemInfo.contextPath : exchange === null || exchange === void 0 ? void 0 : (_exchange$target2 = exchange.target) === null || _exchange$target2 === void 0 ? void 0 : (_exchange$target2$api = _exchange$target2.api) === null || _exchange$target2$api === void 0 ? void 0 : _exchange$target2$api.url;\n  const exchangeHostName = (_exchangeURL$split$ = exchangeURL === null || exchangeURL === void 0 ? void 0 : exchangeURL.split('//')[1]) !== null && _exchangeURL$split$ !== void 0 ? _exchangeURL$split$ : exchangeURL; // remove protocol\n  const exchangeSkipAudit = Boolean(exchange === null || exchange === void 0 ? void 0 : (_exchange$target3 = exchange.target) === null || _exchange$target3 === void 0 ? void 0 : (_exchange$target3$req = _exchange$target3.request) === null || _exchange$target3$req === void 0 ? void 0 : _exchange$target3$req.skipAudit);\n  if ((exchange === null || exchange === void 0 ? void 0 : (_exchange$target4 = exchange.target) === null || _exchange$target4 === void 0 ? void 0 : _exchange$target4.type) === 'INTERNAL') {\n    if (requests.length > 1) {\n      reportTranslationsString = i18n.t('{{reportCount}} reports to {{-exchangeName}} internally at {{-exchangeHostName}}', {\n        reportCount,\n        exchangeName,\n        exchangeHostName\n      });\n    } else {\n      reportTranslationsString = i18n.t('{{reportCount}} report to {{-exchangeName}} internally at {{-exchangeHostName}}', {\n        reportCount,\n        exchangeName,\n        exchangeHostName\n      });\n    }\n  } else {\n    if (requests.length > 1) {\n      reportTranslationsString = i18n.t('{{reportCount}} reports to {{-exchangeName}} at {{-exchangeHostName}}', {\n        reportCount,\n        exchangeName,\n        exchangeHostName\n      });\n    } else {\n      reportTranslationsString = i18n.t('{{reportCount}} report to {{-exchangeName}} at {{-exchangeHostName}}', {\n        reportCount,\n        exchangeName,\n        exchangeHostName\n      });\n    }\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ModalContent, null, /*#__PURE__*/React.createElement(ModalContentWrapper, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.submitModalSummaryWrapper\n  }, reportTranslationsString, /*#__PURE__*/React.createElement(\"ul\", null, requests.map((request, i) => {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: `${request.name}-${i}`\n    }, getReportText(request));\n  }))), /*#__PURE__*/React.createElement(SkipAuditWarning, {\n    exchangeSkipAudit: exchangeSkipAudit,\n    internalExchange: internalExchange\n  }), /*#__PURE__*/React.createElement(\"div\", null, i18n.t('Are you sure you want to submit this data?')))), /*#__PURE__*/React.createElement(ModalActions, null, /*#__PURE__*/React.createElement(ButtonStrip, {\n    end: true\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: onClose,\n    \"data-test\": \"cancel-submission-button\"\n  }, i18n.t('No, cancel')), /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    onClick: onSubmit,\n    \"data-test\": \"confirm-submission-button\"\n  }, i18n.t('Yes, submit')))));\n};\nConfirmModalContent.propTypes = {\n  exchange: PropTypes.object,\n  requests: PropTypes.array,\n  onClose: PropTypes.func,\n  onSubmit: PropTypes.func\n};\nconst ModalContentWrapper = _ref5 => {\n  let {\n    children\n  } = _ref5;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.contentStyling\n  }, children);\n};\nModalContentWrapper.propTypes = {\n  children: PropTypes.node\n};\nconst SubmitModal = _ref6 => {\n  let {\n    open,\n    onClose,\n    setDataSubmitted\n  } = _ref6;\n  const {\n    exchange,\n    exchangeData\n  } = useExchangeContext();\n  const [submitsAttempted, setSubmitsAttempted] = useState(false);\n  const requests = exchangeData === null || exchangeData === void 0 ? void 0 : exchangeData.map((request, index) => {\n    var _exchange$source, _exchange$source$requ, _exchange$source$requ2, _request$metaData, _request$metaData$dim, _request$metaData2, _request$metaData2$di;\n    return {\n      name: (_exchange$source = exchange.source) === null || _exchange$source === void 0 ? void 0 : (_exchange$source$requ = _exchange$source.requests) === null || _exchange$source$requ === void 0 ? void 0 : (_exchange$source$requ2 = _exchange$source$requ[index]) === null || _exchange$source$requ2 === void 0 ? void 0 : _exchange$source$requ2.name,\n      orgUnits: request === null || request === void 0 ? void 0 : (_request$metaData = request.metaData) === null || _request$metaData === void 0 ? void 0 : (_request$metaData$dim = _request$metaData.dimensions) === null || _request$metaData$dim === void 0 ? void 0 : _request$metaData$dim.ou,\n      periods: request === null || request === void 0 ? void 0 : (_request$metaData2 = request.metaData) === null || _request$metaData2 === void 0 ? void 0 : (_request$metaData2$di = _request$metaData2.dimensions) === null || _request$metaData2$di === void 0 ? void 0 : _request$metaData2$di.pe.map(period => {\n        var _request$metaData3, _request$metaData3$it;\n        return (_request$metaData3 = request.metaData) === null || _request$metaData3 === void 0 ? void 0 : (_request$metaData3$it = _request$metaData3.items[period]) === null || _request$metaData3$it === void 0 ? void 0 : _request$metaData3$it.name;\n      })\n    };\n  });\n  const [submitExchange, {\n    called,\n    data,\n    error,\n    loading,\n    dataSubmitted\n  }] = useAggregateDataExchangeMutation({\n    id: exchange === null || exchange === void 0 ? void 0 : exchange.id\n  });\n\n  // clean up whenever modal is closed\n  useEffect(() => {\n    if (!open) {\n      setSubmitsAttempted(false);\n    }\n  }, [open]);\n\n  // update data submission status when there is a change\n  useEffect(() => {\n    setDataSubmitted(dataSubmitted);\n  }, [dataSubmitted, setDataSubmitted]);\n  return !exchange ? null : /*#__PURE__*/React.createElement(Modal, {\n    hide: !open,\n    large: true,\n    position: \"middle\",\n    onClose: loading ? null : onClose\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    \"data-test\": \"submit-modal-content\"\n  }, /*#__PURE__*/React.createElement(ModalTitle, null, i18n.t('Submitting data')), !called && !loading && !submitsAttempted && /*#__PURE__*/React.createElement(ConfirmModalContent, {\n    exchange: exchange,\n    requests: requests,\n    onClose: onClose,\n    onSubmit: () => {\n      setSubmitsAttempted(true);\n      submitExchange();\n    }\n  }), error && submitsAttempted && /*#__PURE__*/React.createElement(ErrorModalContent, {\n    error: error,\n    onRetry: submitExchange,\n    onClose: onClose\n  }), data && /*#__PURE__*/React.createElement(SuccessModalContent, {\n    data: data,\n    dataSubmitted: dataSubmitted,\n    onClose: onClose\n  }), loading && /*#__PURE__*/React.createElement(LoadingStateModalContent, null)));\n};\nSubmitModal.propTypes = {\n  open: PropTypes.bool,\n  setDataSubmitted: PropTypes.func,\n  onClose: PropTypes.func\n};\nexport { SubmitModal };","// extracted by mini-css-extract-plugin\nexport default {\"menuSelect\":\"menu-select_menuSelect__l9ZFW\"};","import { Menu, MenuItem } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport css from './menu-select.module.css';\nconst MenuSelect = _ref => {\n  let {\n    values,\n    selected,\n    dataTest,\n    onChange\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: css.menuSelect,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(Menu, null, values.map(_ref2 => {\n    let {\n      value,\n      label\n    } = _ref2;\n    return /*#__PURE__*/React.createElement(MenuItem, {\n      key: value || label,\n      dataValue: value,\n      label: /*#__PURE__*/React.createElement(\"span\", {\n        \"data-value\": value\n      }, label),\n      active: selected === value,\n      onClick: () => onChange({\n        selected: value\n      })\n    });\n  })));\n};\nMenuSelect.defaultProps = {\n  dataTest: 'menu-select'\n};\nMenuSelect.propTypes = {\n  values: PropTypes.arrayOf(PropTypes.shape({\n    label: PropTypes.string.isRequired,\n    value: PropTypes.string\n  })).isRequired,\n  onChange: PropTypes.func.isRequired,\n  dataTest: PropTypes.string,\n  selected: PropTypes.string\n};\nexport { MenuSelect };","import i18n from '@dhis2/d2-i18n';\nimport { SelectorBarItem } from '@dhis2/ui';\nimport React, { useState } from 'react';\nimport { useAppContext } from '../../../../context/app-context/index.js';\nimport { useExchangeId } from '../../../../use-context-selection/use-context-selections.js';\nimport { MenuSelect } from '../menu-select/index.js';\nconst ExchangeSelect = () => {\n  var _readableExchangeOpti;\n  const {\n    readableExchangeOptions\n  } = useAppContext();\n  const [exchangeId, setExchangeId] = useExchangeId();\n  const [exchangeSelectorOpen, setExchangeSelectorOpen] = useState(false);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": \"data-exchange-selector\"\n  }, /*#__PURE__*/React.createElement(SelectorBarItem, {\n    label: i18n.t('Data exchange'),\n    value: (_readableExchangeOpti = readableExchangeOptions.find(dExchange => dExchange.value === exchangeId)) === null || _readableExchangeOpti === void 0 ? void 0 : _readableExchangeOpti.label,\n    open: exchangeSelectorOpen,\n    setOpen: setExchangeSelectorOpen,\n    noValueMessage: i18n.t('Choose a data exchange')\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": \"data-exchange-selector-contents\"\n  }, /*#__PURE__*/React.createElement(MenuSelect, {\n    values: readableExchangeOptions,\n    selected: exchangeId,\n    dataTest: \"exchange-selector-menu\",\n    onChange: _ref => {\n      let {\n        selected\n      } = _ref;\n      setExchangeId(selected);\n      setExchangeSelectorOpen(false);\n    }\n  }))));\n};\nexport { ExchangeSelect };","// extracted by mini-css-extract-plugin\nexport default {\"additionalContentContainer\":\"top-bar_additionalContentContainer__mYsi8\"};","import i18n from '@dhis2/d2-i18n';\nimport { Button, SelectorBar } from '@dhis2/ui';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useUserContext } from '../../../context/index.js';\nimport { useClearEntireSelection } from '../../../use-context-selection/index.js';\nimport { ExchangeSelect } from './exchange-select/index.js';\nimport styles from './top-bar.module.css';\nconst LinKToEditMode = () => {\n  const {\n    canAddExchange,\n    canDeleteExchange\n  } = useUserContext();\n  if (!canAddExchange && !canDeleteExchange) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.additionalContentContainer,\n    \"data-test\": 'configurations-button'\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/edit\"\n  }, /*#__PURE__*/React.createElement(Button, {\n    small: true\n  }, i18n.t('Configurations'))));\n};\nconst TopBar = () => {\n  const clearSelections = useClearEntireSelection();\n  return /*#__PURE__*/React.createElement(SelectorBar, {\n    onClearSelectionClick: clearSelections,\n    additionalContent: /*#__PURE__*/React.createElement(LinKToEditMode, null)\n  }, /*#__PURE__*/React.createElement(ExchangeSelect, null));\n};\nexport { TopBar };","import React, { useState } from 'react';\nimport { BottomBar, DataWorkspace, Layout, SubmitModal, TopBar } from '../components/index.js';\nimport { ExchangeProvider } from '../context/index.js';\nexport const DataPage = () => {\n  const [submitModalOpen, setSubmitModalOpen] = useState(false);\n  const [dataSubmitted, setDataSubmitted] = useState(null);\n  const closeSubmitModal = () => {\n    setSubmitModalOpen(false);\n  };\n  const openSubmitModal = () => {\n    setSubmitModalOpen(true);\n  };\n  return /*#__PURE__*/React.createElement(Layout.Container, null, /*#__PURE__*/React.createElement(Layout.Top, null, /*#__PURE__*/React.createElement(TopBar, null)), /*#__PURE__*/React.createElement(ExchangeProvider, null, /*#__PURE__*/React.createElement(Layout.Content, null, /*#__PURE__*/React.createElement(DataWorkspace, null), /*#__PURE__*/React.createElement(SubmitModal, {\n    open: submitModalOpen,\n    onClose: closeSubmitModal,\n    setDataSubmitted: setDataSubmitted\n  })), /*#__PURE__*/React.createElement(Layout.Bottom, null, /*#__PURE__*/React.createElement(BottomBar, {\n    openSubmitModal: openSubmitModal,\n    dataSubmitted: dataSubmitted\n  }))));\n};","import React from 'react';\nimport { EditHomeTopBar, EditItemsList } from '../components/index.js';\nexport const EditPage = () => /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(EditHomeTopBar, null), /*#__PURE__*/React.createElement(EditItemsList, null));","import React, { useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { AccessWarning, ExchangeForm, Loader, useFetchExchange } from '../components/index.js';\nimport { useUserContext } from '../context/index.js';\nexport const EditItem = () => {\n  const {\n    exchangeID\n  } = useParams();\n  const {\n    data,\n    error,\n    loading,\n    refetch\n  } = useFetchExchange();\n  const {\n    canAddExchange\n  } = useUserContext();\n  useEffect(() => {\n    refetch({\n      id: exchangeID\n    });\n  }, [exchangeID, refetch]);\n  if (loading) {\n    return /*#__PURE__*/React.createElement(Loader, null);\n  }\n  if (!canAddExchange || error) {\n    return /*#__PURE__*/React.createElement(AccessWarning, {\n      editMode: true\n    });\n  }\n  if (data) {\n    return /*#__PURE__*/React.createElement(ExchangeForm, {\n      exchangeInfo: data\n    });\n  }\n  return null;\n};","import React from 'react';\nimport { AccessWarning, ExchangeForm, EXCHANGE_TYPES } from '../components/index.js';\nimport { useUserContext } from '../context/index.js';\nconst defaultExchange = {\n  source: {\n    requests: []\n  },\n  target: {\n    type: EXCHANGE_TYPES.internal\n  }\n};\nexport const AddItem = () => {\n  const {\n    canAddExchange\n  } = useUserContext();\n  if (!canAddExchange) {\n    return /*#__PURE__*/React.createElement(AccessWarning, null);\n  }\n  return /*#__PURE__*/React.createElement(ExchangeForm, {\n    exchangeInfo: defaultExchange,\n    addMode: true\n  });\n};","import { CssVariables } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { HashRouter, Route, Routes } from 'react-router-dom';\nimport { QueryParamProvider } from 'use-query-params';\nimport { ReactRouter6Adapter } from 'use-query-params/adapters/react-router-6';\nimport { AppProvider, UserProvider, FeatureToggleProvider } from './context/index.js';\nimport { DataPage, EditPage, EditItem, AddItem } from './pages/index.js';\nconst App = _ref => {\n  let {\n    router: Router\n  } = _ref;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(CssVariables, {\n    spacers: true,\n    colors: true,\n    theme: true\n  }), /*#__PURE__*/React.createElement(Router, null, /*#__PURE__*/React.createElement(QueryParamProvider, {\n    adapter: ReactRouter6Adapter,\n    ReactRouterRoute: Route\n  }, /*#__PURE__*/React.createElement(FeatureToggleProvider, null, /*#__PURE__*/React.createElement(AppProvider, null, /*#__PURE__*/React.createElement(UserProvider, null, /*#__PURE__*/React.createElement(Routes, null, /*#__PURE__*/React.createElement(Route, {\n    path: \"/\",\n    element: /*#__PURE__*/React.createElement(DataPage, null)\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/edit\",\n    element: /*#__PURE__*/React.createElement(EditPage, null)\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/edit/:exchangeID\",\n    element: /*#__PURE__*/React.createElement(EditItem, null)\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/add\",\n    element: /*#__PURE__*/React.createElement(AddItem, null)\n  }))))))));\n};\nApp.defaultProps = {\n  router: HashRouter\n};\nApp.propTypes = {\n  router: PropTypes.elementType\n};\n\n// wrapper so we can use a different router in tests\nconst AppWrapper = () => {\n  return /*#__PURE__*/React.createElement(App, null);\n};\nexport { AppWrapper };","//------------------------------------------------------------------------------\n// <auto-generated>\n// This code was generated by d2-i18n-generate.\n//\n// Changes to this file may cause incorrect behavior and will be lost if\n// the code is regenerated.\n// </auto-generated>\n//------------------------------------------------------------------------------\nimport i18n from '@dhis2/d2-i18n';\nimport arTranslations from './ar/translations.json';\nimport ar_IQTranslations from './ar_IQ/translations.json';\nimport ckbTranslations from './ckb/translations.json';\nimport csTranslations from './cs/translations.json';\nimport daTranslations from './da/translations.json';\nimport enTranslations from './en/translations.json';\nimport esTranslations from './es/translations.json';\nimport es_419Translations from './es_419/translations.json';\nimport frTranslations from './fr/translations.json';\nimport idTranslations from './id/translations.json';\nimport kmTranslations from './km/translations.json';\nimport loTranslations from './lo/translations.json';\nimport myTranslations from './my/translations.json';\nimport nbTranslations from './nb/translations.json';\nimport nlTranslations from './nl/translations.json';\nimport prsTranslations from './prs/translations.json';\nimport psTranslations from './ps/translations.json';\nimport ptTranslations from './pt/translations.json';\nimport pt_BRTranslations from './pt_BR/translations.json';\nimport roTranslations from './ro/translations.json';\nimport ruTranslations from './ru/translations.json';\nimport siTranslations from './si/translations.json';\nimport svTranslations from './sv/translations.json';\nimport tetTranslations from './tet/translations.json';\nimport tgTranslations from './tg/translations.json';\nimport ukTranslations from './uk/translations.json';\nimport urTranslations from './ur/translations.json';\nimport uz_UZ_CyrlTranslations from './uz_UZ_Cyrl/translations.json';\nimport uz_UZ_LatnTranslations from './uz_UZ_Latn/translations.json';\nimport viTranslations from './vi/translations.json';\nimport zhTranslations from './zh/translations.json';\nimport zh_CNTranslations from './zh_CN/translations.json';\nconst namespace = 'default';\ni18n.addResources('ar', namespace, arTranslations);\ni18n.addResources('ar_IQ', namespace, ar_IQTranslations);\ni18n.addResources('ckb', namespace, ckbTranslations);\ni18n.addResources('cs', namespace, csTranslations);\ni18n.addResources('da', namespace, daTranslations);\ni18n.addResources('en', namespace, enTranslations);\ni18n.addResources('es', namespace, esTranslations);\ni18n.addResources('es_419', namespace, es_419Translations);\ni18n.addResources('fr', namespace, frTranslations);\ni18n.addResources('id', namespace, idTranslations);\ni18n.addResources('km', namespace, kmTranslations);\ni18n.addResources('lo', namespace, loTranslations);\ni18n.addResources('my', namespace, myTranslations);\ni18n.addResources('nb', namespace, nbTranslations);\ni18n.addResources('nl', namespace, nlTranslations);\ni18n.addResources('prs', namespace, prsTranslations);\ni18n.addResources('ps', namespace, psTranslations);\ni18n.addResources('pt', namespace, ptTranslations);\ni18n.addResources('pt_BR', namespace, pt_BRTranslations);\ni18n.addResources('ro', namespace, roTranslations);\ni18n.addResources('ru', namespace, ruTranslations);\ni18n.addResources('si', namespace, siTranslations);\ni18n.addResources('sv', namespace, svTranslations);\ni18n.addResources('tet', namespace, tetTranslations);\ni18n.addResources('tg', namespace, tgTranslations);\ni18n.addResources('uk', namespace, ukTranslations);\ni18n.addResources('ur', namespace, urTranslations);\ni18n.addResources('uz_UZ_Cyrl', namespace, uz_UZ_CyrlTranslations);\ni18n.addResources('uz_UZ_Latn', namespace, uz_UZ_LatnTranslations);\ni18n.addResources('vi', namespace, viTranslations);\ni18n.addResources('zh', namespace, zhTranslations);\ni18n.addResources('zh_CN', namespace, zh_CNTranslations);\nexport default i18n;","import { AppWrapper } from './app.js';\nimport './locales/index.js';\nexport default AppWrapper;"],"names":["AppContext","createContext","aggregateDataExchanges","refetchExchanges","console","log","Loader","React","CenteredContent","CircularLoader","Warning","_ref","error","warning","title","children","className","styles","NoticeBox","query","resource","params","paging","fields","order","getReadableExchangeOptions","filter","exchange","_exchange$access","_exchange$access$data","access","data","read","map","value","id","label","displayName","AppProvider","loading","refetch","useDataQuery","i18n","t","providerValue","readableExchangeOptions","Provider","useAppContext","useContext","ExchangeContext","exchangeData","PARAMS_SCHEMA","exchangeId","StringParam","requestIndex","NumberParam","useExchangeId","useQueryParam","useRequestIndex","useClearEntireSelection","setSelectionContext","useQueryParams","useCallback","undefined","_ref2","outputIdScheme","ExchangeProvider","_ref3","called","lazy","setRequestIndex","fetchExchange","useEffect","message","Button","onClick","useExchangeContext","UserContext","canAddExchange","canDeleteExchange","organisationUnits","keyUiLocale","hasSkipAuditInfoAuthority","EXCHANGE_AUTHORITIES_ADD","EXCHANGE_AUTHORITIES_DELETE","SKIP_DATA_IMPORT_AUDIT_AUTHORITIES","ALL_AUTHORITY","user","UserProvider","_settings$keyUiLocale","authorities","settings","some","auth","includes","useUserContext","AttributeContext","attributes","AttributeProvider","FeatureToggleContext","outputDataItemIdSchemeAvailable","skipAuditDryRunImportStrategyAvailable","FeatureToggleProvider","apiVersion","useConfig","useFeatureToggleContext","SCHEME_TYPES","none","uid","code","attribute","AUTHENTICATION_TYPES","EXCHANGE_TYPES","OU_GROUP_PREFIX","OU_LEVEL_PREFIX","IMPORT_STRATEGY_TYPES","IMPORT_STRATEGY_OPTIONS","prefix","type","AccessWarning","editMode","Link","to","SelectorValidationError","meta","touched","IconErrorFilled24","color","colors","red500","DiscardModal","open","onClose","onCancelConfirm","objectName","Modal","hide","large","position","dataTest","ModalTitle","ModalContent","ModalActions","ButtonStrip","end","secondary","destructive","EditItemFooter","handleSubmit","requestsTouched","discardModalOpen","setDiscardModalOpen","useState","navigate","useNavigate","useFormState","ReactFinalForm","dirty","formDirty","primary","EditRequestFooter","exitRequestEditMode","handleRequestSubmit","valid","TogglableSubsection","text","onTextClick","IconChevronUp24","IconChevronDown24","Subsection","description","SchemeSelector","name","disabled","canBeNone","defaultIDSchemeName","Field","useField","input","schemeInput","subscription","schemeValue","schemeSelectorContainer","radioContainerLabel","radioContainerSubtext","radioContainerWrapper","FieldContainer","radiosContainer","checked","component","RadioFieldFF","radioItem","length","attributeSelectionContainer","SingleSelectFieldFF","options","validate","hasValue","VIS_TYPE_PIVOT_TABLE","VIS_TYPE_AREA","VIS_TYPE_STACKED_AREA","VIS_TYPE_BAR","VIS_TYPE_STACKED_BAR","VIS_TYPE_COLUMN","VIS_TYPE_YEAR_OVER_YEAR_COLUMN","VIS_TYPE_STACKED_COLUMN","VIS_TYPE_GAUGE","VIS_TYPE_LINE","VIS_TYPE_LINE_LIST","VIS_TYPE_YEAR_OVER_YEAR_LINE","VIS_TYPE_PIE","VIS_TYPE_RADAR","VIS_TYPE_SCATTER","VIS_TYPE_SINGLE_VALUE","VIS_TYPE_GROUP_ALL","VIS_TYPE_GROUP_CHARTS","VIS_TYPE_OUTLIER_TABLE","visTypeDisplayNames","visTypeIcons","IconVisualizationArea24","IconVisualizationAreaStacked24","IconVisualizationBar24","IconVisualizationBarStacked24","IconVisualizationColumn24","IconVisualizationColumnMulti24","IconVisualizationColumnStacked24","IconVisualizationGauge24","IconVisualizationLine24","IconVisualizationLineMulti24","IconVisualizationPie24","IconVisualizationRadar24","IconVisualizationScatter24","IconVisualizationSingleValue24","getDisplayNameByVisType","visType","Error","CREATED_BY_ALL","CREATED_BY_ALL_BUT_CURRENT_USER","CREATED_BY_CURRENT_USER","CreatedByFilter","selected","onChange","SingleSelect","dense","SingleSelectOption","DateField","date","d","Date","dateTime","toISOString","moment","format","VisTypeIcon","VisIcon","useSmall","props","IconVisualizationLinelist16","IconVisualizationLinelist24","IconTable16","IconTable24","IconVisualizationBar16","IconVisualizationBarStacked16","IconVisualizationColumnStacked16","IconVisualizationLine16","IconVisualizationArea16","IconVisualizationAreaStacked16","IconVisualizationPie16","IconVisualizationRadar16","IconVisualizationGauge16","IconVisualizationLineMulti16","IconVisualizationColumnMulti16","IconVisualizationSingleValue16","IconVisualizationScatter16","IconVisualizationColumn16","FileList","onSelect","showVisTypeColumn","visualization","DataTableRow","key","DataTableCell","href","align","grey600","created","lastUpdated","NameFilter","Input","placeholder","initialFocus","spacers","dp12","dp4","dp8","dp32","grey700","__hash","PaginationControls","page","pager","onPageChange","Pagination","pageCount","pageSize","total","onPageSizeChange","Function","prototype","hidePageSizeSelect","pageSummaryText","firstItem","firstItemIndex","lastItem","lastItemIndex","totalNumberOfItems","AO_TYPE_VISUALIZATION","AO_TYPE_MAP","AO_TYPE_EVENT_VISUALIZATION","AOTypeMap","apiEndpoint","NO_TYPE","texts","modalTitle","loadingText","errorTitle","errorText","noDataText","noFilteredDataText","newButtonLabel","getTranslatedString","_defaultExport","grey900","grey200","teal700","white","grey500","CustomSelectOptionItem","icon","insertDivider","active","e","cx","_JSXStyle","MenuDivider","CustomSelectOption","Tooltip","content","VisTypeFilter","visTypes","maxHeight","OpenFileDialog","filterVisTypes","defaultFilterVisType","onFileSelect","onNew","currentUser","filesQuery","useMemo","files","sortField","sortDirection","filters","queryParams","getQuery","defaultFilters","searchTerm","createdBy","setState","useReducer","state","newState","nameFilterValue","setNameFilterValue","searchTimeout","setSearchTimeout","formatFilters","queryFilters","push","formatSortDirection","onComplete","response","setPage","pageNum","sortData","direction","headers","field","width","splice","cypressSelector","Box","minHeight","clearTimeout","setTimeout","isEqual","resetFilters","small","DataTable","layout","DataTableHead","_ref4","DataTableColumnHeader","onSortIconClick","fieldName","DataTableBody","height","Boolean","EditTitle","getFormIdSchemeValues","requestValues","baseIdSchemeProps","reduce","idSchemeValues","prop","attributeProp","getRequestValuesFromForm","_requestValues$visual","validFilters","filtersUsed","filtersInfo","f","_f$items","items","filtersActuallyUsed","requestName","dx","dxInfo","pe","peInfo","_ref5","ou","ouInfo","_ref6","visualizationLinked","visualizationInfo","inputIdScheme","getIdSchemeValues","_ref7","request","defaultSchemeProp","_request$prop","_request$prop$split$","_request$prop2","split","toUpperCase","getInitialValuesFromRequest","_ref8","_request$peInfo","_request$ouInfo","_request$dxInfo","_request$filtersInfo","_request$filtersInfo2","_request$visualizatio","dimension","DataItemSelect","selectedDimensions","enabledDataTypes","Object","values","dataTypeMap","DIMENSION_TYPE_EXPRESSION_DIMENSION_ITEM","DataDimension","displayNameProp","helpText","multiple","isLoading","Select","MultiSelectField","SingleSelectField","Option","MultiSelectOption","Array","isArray","v","String","onSelectChange","item","find","validationText","DIMENSION_ITEMS_QUERY","nameProperty","foundValues","SelectField","ids","dimensionTypes","DIMENSIONS_QUERY","dimensions","join","isOpen","setIsOpen","variables","dropdownRef","useRef","findDimension","Help","ref","Popover","reference","placement","onClickOutside","DimensionsPanel","onDimensionClick","dim","selectedIds","index","onRemove","DimensionSelect","selectedDimension","DimensionItemsSelect","RemoveFilter","_extends","assign","bind","n","arguments","r","hasOwnProperty","call","apply","FilterSelect","setDimensions","addDimensionFilter","prevDimensions","changeDimensionFilter","slice","removeDimensionFilter","DimensionFilterRow","basic","OrgUnitSelector","selectedOrgUnits","userOrganisationUnits","rootOrgUnits","OrgUnitDimension","roots","hideUserOrgUnits","PeriodSelector","selectedPeriods","PeriodDimension","VisualizationSelect","setOpen","baseUrl","nsSeparator","target","rel","RequestFormContents","filtersUsedValue","visualizationLinkedValue","dataItemSelectValidator","periodSelectValidator","orgUnitSelectValidator","val","InputFieldFF","CheckboxFieldFF","Form","RequestFormInner","RequestForm","requestsDispatch","addModeRequest","setRequestsTouched","onSubmit","action","initialValues","requestsReducer","targetIndex","modifiedRequest","sectionNameWarning","targetSetup","idSchemes","advancedOptions","sectionNameEdit","EnableExternalEditWarning","editTargetSetupDisabled","setEditTargetSetupDisabled","sectionName","Label","classnames","AdvancedOptions","advancedOpen","setAdvancedOpen","toggleAdvancedSection","prev","iso","_iso$prefix","EmptyTableInfo","TableRow","colSpan","RequestRow","_request$visualizatio2","_request$visualizatio3","_request$visualizatio4","_request$visualizatio5","deleteRequest","setRequestEditMode","orgUnits","startsWith","orgUnitLevels","orgUnitGroups","orgUnitString","firstOuName","ouLength","levelCount","groupsCount","getOuText","RequestsOverview","requestsInfo","Table","suppressZebraStriping","TableHead","TableRowHead","TableCellHead","TableBody","RadioDecorator","helperText","currentSelected","ExchangeFormContents","requestsState","typeInput","typeValue","authenticationType","authenticationValue","validProperties","cleanUpRequests","requests","idSchemeProps","requestCopy","copyRequestWithValidProperties","getTargetDetails","advancedFields","api","url","authentication","accessToken","username","password","exchangeInfo","_exchangeInfo$target","_exchangeInfo$target$","_exchangeInfo$target$2","_exchangeInfo$target$3","_exchangeInfo$target$4","_exchangeInfo$target2","_exchangeInfo$target3","_exchangeInfo$target4","getAdvancedValuesFromExchange","_exchangeInfo$target$5","_exchangeInfo$target5","_exchangeInfo$target6","_exchangeInfo$target$6","_exchangeInfo$target7","_exchangeInfo$target8","_exchangeInfo$target$7","_exchangeInfo$target9","_exchangeInfo$target10","importStrategy","dryRun","skipAudit","getInitialValuesFromExchange","_exchangeInfo$target11","_exchangeInfo$target12","_exchangeInfo$target13","_exchangeInfo$target14","_exchangeInfo$target15","_exchangeInfo$target16","_exchangeInfo$target17","getChange","op","path","useUpdateExchange","setLoading","setError","engine","useDataEngine","async","form","newExchange","formattedValues","source","getExchangeValuesFromForm","mutate","changes","modifiedFields","Set","keys","getState","dirtyFields","has","allNames","scheme","tf","getJsonPatch","ExchangeForm","addMode","requestEditInfo","_exchangeInfo$source$","_exchangeInfo$source","setRequestEditInfo","useRequests","saveExchange","saving","classNames","_error$details","_error$details$respon","_error$details$respon2","details","errorReports","stringified","rep","formatError","ORGANISATION_UNIT_LEVELS_QUERY","organisationUnitLevels","EXCHANGE_QUERY","ORG_UNITS_QUERY","VISUALIZATIONS_QUERY","visualizations","ANALYTICS_QUERY","metadata","skipMeta","skipData","includeMetadataDetails","useFetchExchange","setData","metadataRequests","getMetadataByRequest","Promise","all","allItems","md","_exchange$source$requ","_exchange$source$requ2","currentItems","originalCurrentItems","codeItems","forEach","_item$code","currentCode","indexPosition","indexOf","getCodeFromPosition","metaData","getMetadataWithCode","cKey","ousToLookUp","ouSet","ouDimension","orgUnit","add","orgUnitDetails","ouMap","orgUnitsMap","set","Map","visualizationsToLookUp","_ref9","visualizationsDetails","visualizationsMap","visMap","hasCodeIdScheme","_ref10","filterCodeMap","_dimensionsResponse$d","dimensionsInfo","dItem","getFilterCodeMap","ouLevelMap","oneOuLevel","oul","level","getOuLevelMap","identifier","_metadata$identifier$","_metadata$identifier","_metadata$id$uid","_metadata$identifier$3","_metadata$identifier2","_metadata$identifier3","get","_metadata$identifier$2","EditHomeTopBar","SelectorBar","getNaturalCapitalization","_input$slice","toLowerCase","DeleteConfirmation","onDelete","IconTextItem","deleteExchangeQuery","AggregateDataExchangeCard","_ade$access","_ade$target","ade","deleteExchange","deleting","useDataMutation","systemInfo","dateFormat","fromServerDate","useTimeZoneConversion","createdClientDateString","createdDate","createdClient","createdClientDate","getClientZonedISOString","year","getUTCFullYear","month","getUTCMonth","day","getUTCDate","padStart","getCreatedDateString","deleteConfirmationOpen","setDeleteConfirmationOpen","sharingSettingsOpen","setSharingSettingsOpen","closeDeleteConfirmation","canShareExchange","write","Card","IconArrowRight16","IconApps16","numberOfRequests","interpolation","escapeValue","IconClock16","SharingDialog","dataSharing","EditItemsList","setSearchTerm","InputField","ButtonWithTooltip","buttonText","tooltipContent","onMouseOver","onMouseOut","BottomBar","_aggregateDataExchang","_aggregateDataExchang2","_aggregateDataExchang3","openSubmitModal","dataSubmitted","disableSubmit","dataCount","totalLength","_request$rows","rows","submitButtonText","LayoutSection","Layout","classes","EmptyStateIcon","viewBox","fill","xmlns","clipPath","stroke","strokeWidth","fillRule","clipRule","EntryScreen","DataTableToolbar","columns","titleCell","toString","dataTable","fixed","left","top","cell","labelCellContent","column","row","firstCell","cells","ensureNestedObjectExists","obj","propertyNames","propertyName","formatData","_data$metaData","_data$metaData2","_data$metaData2$dimen","_data$metaData4","_data$metaData4$dimen","_data$metaData6","_data$metaData6$dimen","constantDimensions","dx_index","findIndex","header","ou_index","pe_index","value_index","objectFormatData","objectFormat","ouId","deId","peId","convertToObjectFormat","_data$metaData3","_data$metaData3$items","sort","a","b","localeCompare","dataElements","dataElement","_data$metaData5","_data$metaData5$items","periods","period","_data$metaData7","_data$metaData7$items","numeric","tableFormat","table","_data$metaData8","_data$metaData8$items","_data$metaData8$items2","rowData","_objectFormatData$org","_objectFormatData$org2","RequestsDisplay","_exchange$source","_exchangeData$rows","formattedData","IconLaunch16","h","RequestsNavigation","TabBar","scrollable","Tab","getRelativeTimeDifference","startTimeDate","fromNow","formatTimestamp","timestamp","timezone","substring","TitleBar","lastAnalyticsTableSuccess","serverTimeZoneId","lastAnalyticsTableSuccessClient","requestsCount","IconDimensionDataSet16","IconInfo16","timeDifference","DataWorkspace","selectedRequest","setSelectedRequest","isNaN","ConflictsDetailsTable","conflicts","c","i","object","TableCell","importTypeConfig","imported","style","updated","ignored","SummaryBox","importType","importCount","styleName","boxStyle","summaryBox","count","SummaryRow","_importSummary$confli","_importSummary$import4","_importSummary$import5","_importSummary$import6","importSummary","exchangeName","expandedRows","expandToggle","hasConflicts","rowHasConflicts","showPaddingCell","expanded","onExpandToggle","expandableContent","SummaryTable","importSummaries","summaryCounts","setExpandedRows","rowName","_exchange$source2","_exchange$source2$req","copyButton","IconCopy16","_exchange$target","_exchange$target$api","_exchange$source3","exchangeURL","exchangeNameLine","targetURLLine","decodeURI","runDate","importedCount","updatedCount","ignoredCount","fullText","_requests$index$name","_requests$index","_requests$index2","_requests$index2$name","_importSummary$import","_importSummary$import2","_importSummary$import3","_requests$index3","requestNameLine","conflict","navigator","clipboard","writeText","copyTableToClipboard","SuccessContent","_data$importSummaries","_data$response","totalCounts","_importSummary$confli2","countType","_importSummary$import7","deleted","Tag","positive","IconCheckmarkCircle16","tagWrapper","negative","IconError16","summaryBoxTitle","summaryBoxWrapper","uncalledState","submitReducer","payload","SkipAuditWarning","exchangeSkipAudit","internalExchange","LoadingStateModalContent","ModalContentWrapper","ErrorModalContent","onRetry","SuccessModalContent","ConfirmModalContent","_exchange$target2","_exchange$target2$api","_exchangeURL$split$","_exchange$target3","_exchange$target3$req","_exchange$target4","reportTranslationsString","reportCount","contextPath","exchangeHostName","orgUnitText","orgUnitCount","periodsText","periodsCount","periodsCountLessThree","getReportText","SubmitModal","setDataSubmitted","submitsAttempted","setSubmitsAttempted","_request$metaData","_request$metaData$dim","_request$metaData2","_request$metaData2$di","_request$metaData3","_request$metaData3$it","submitExchange","submissionState","dispatch","fetch","setFetch","_response$response","getMutation","internalResponse","status","_internalResponse$imp","errorMessage","fetchData","useAggregateDataExchangeMutation","MenuSelect","css","Menu","MenuItem","dataValue","defaultProps","ExchangeSelect","_readableExchangeOpti","setExchangeId","exchangeSelectorOpen","setExchangeSelectorOpen","SelectorBarItem","dExchange","noValueMessage","LinKToEditMode","TopBar","clearSelections","onClearSelectionClick","additionalContent","DataPage","submitModalOpen","setSubmitModalOpen","closeSubmitModal","EditPage","EditItem","exchangeID","useParams","defaultExchange","AddItem","App","router","Router","CssVariables","theme","QueryParamProvider","adapter","ReactRouter6Adapter","ReactRouterRoute","Route","Routes","element","HashRouter","namespace","addResources","arTranslations","ar_IQTranslations","ckbTranslations","csTranslations","daTranslations","enTranslations","esTranslations","es_419Translations","frTranslations","idTranslations","kmTranslations","loTranslations","myTranslations","nbTranslations","nlTranslations","prsTranslations","psTranslations","ptTranslations","pt_BRTranslations","roTranslations","ruTranslations","siTranslations","svTranslations","tetTranslations","tgTranslations","ukTranslations","urTranslations","uz_UZ_CyrlTranslations","uz_UZ_LatnTranslations","viTranslations","zhTranslations","zh_CNTranslations","AppWrapper"],"sourceRoot":""}